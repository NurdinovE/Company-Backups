Lyte.Component.register("crm-zprojects-iframe",{_template:'<template tag-name="crm-zprojects-iframe"> <template is="if" value="{{completion}}"><template case="true"> <div id="zProjFreezeLayer" class="zProjFreezeLayer"></div> <div id="progressIframe"> <span class="zProjCloseframeOuter dN" onclick="{{action(\'closeProgressframe\')}}"> <span class="zProjCloseIcon svgIcons ico-close-small2"></span> </span> <iframe id="iframeprogress" frameborder="0" src="{{iframeurl}}" width="100%" height="100%"></iframe> </div> </template><template case="false"> <div id="freezeIframe" class="zProjTabFreeze"> <table cellpadding="0" cellspacing="0" width="100%"> <tbody><tr> <td> <div class="tasklistTitle1 pT15 pB15 pL35 bg_crmBg2" style="height: 15px; border-radius: 10px 10px 0px 0px;border-bottom:1px solid var(--br_EDF0F4);"> <span onclick="{{action(\'closeProjIframe\')}}"><span class="fL projname_pop crmLinkColor cP" id="projNameSet" title="{{getI18n(\'crm.project.backtolist\')}}"></span></span> <div class="fL pL35"> <a class="qulbl2 fL pL15 pR15 pB5 crmNotFoundColor" id="taskdiv" href="javascript:ZProjects.changeUrl(\'task\', \'taskdiv\');">{{getI18n(\'Tasks\')}}</a> <a class="qulbl2 fL pL15 pR15 pB5 crmNotFoundColor" id="bugsdiv" href="javascript:ZProjects.changeUrl(\'bug\', \'bugsdiv\'); ">{{getI18n(\'crm.project.list.bugs\')}}</a> <a class="qulbl2 fL pL15 pR15 pB5 crmNotFoundColor" id="milestonediv" href="javascript:ZProjects.changeUrl(\'mile\', \'milestonediv\'); ">{{getI18n(\'crm.project.list.milestone\')}}</a> </div> <div id="proj_close" class="fR pR15 crm-base-font-size crmNotFoundColor cP" title="Close" onclick="{{action(\'closeIframePopUp\')}}">X</div> </div> </td> </tr> <tr> <td style="background-color: #fff;"> <iframe id="Iframe" frameborder="0" src="{{iframeurl}}" width="100%" height="{{iframeheight}}"></iframe> </td> </tr> </tbody></table> </div> </template></template> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[3,1]},{type:"attr",position:[3,3]}]},false:{dynamicNodes:[{type:"attr",position:[1,1,1,0,1,1,1]},{type:"attr",position:[1,1,1,0,1,1,1,0]},{type:"text",position:[1,1,1,0,1,1,3,1,0]},{type:"text",position:[1,1,1,0,1,1,3,3,0]},{type:"text",position:[1,1,1,0,1,1,3,5,0]},{type:"attr",position:[1,1,1,0,1,1,5]},{type:"attr",position:[1,1,1,2,1,1]}]}},default:{}}],_observedAttributes:["iframeurl","iframeheight","completion","tabName"],data:function(){return{iframeurl:Lyte.attr("string",{default:""}),iframeheight:Lyte.attr("string"),completion:Lyte.attr("boolean",{default:!1}),tabName:Lyte.attr("object",{default:{}})}},didConnect:function(){this.getData("completion")&&(ZProjects.showProgressFrame(),$("#iframeprogress").load((function(){commonUtils.showHideLoadingDiv(!1),"about:blank"!==$("#iframeprogress")[0].src&&$(".zProjCloseframeOuter").removeClass("dN")})))},actions:{closeProjIframe:function(){ZProjects.closeIframePopUp()},closeProgressframe:function(){ZProjects.closeProgressframe()},closeIframePopUp:function(){ZProjects.closeIframePopUp()}}});
