var dTemp,CrmDashboard={clickEventIdVsMethodMapping:{customizeHome:"CrmDashboard.customizeHomePage",showPrintPreview:"CrmDashboard.showPrintPreview",setDomainNames:"CrmDashboard.setDomainNames",showEmbedUrl:"CrmDashboard.loadDashboards",showChatNotification:"Crm.loadChatIntegrations",showSlackNotification:"Crm.loadChatIntegrations",showCiscoNotification:"Crm.loadChatIntegrations",addToHome:"CrmDashboard.addToHome",showLayout:"CrmDashboard.showLayout",navigateLayout:"CrmDashboard.loadDashboards",addDashboardComponent:"CrmDashboard.validateLayout",customizeLayout:"CrmDashboard.loadDashboards",deleteLayout:"CrmDashboard.deleteDbAction",newWindow:"CrmDashboard.openDashboard",deleteComponent:"CrmDashboard.deleteDbAction",delDashboard:"CrmDashboard.deleteDbAction",getFavorites:"CrmDashboard.loadDashboards",changeStar:"CrmDashboard.changeStar",getReports:"CrmDashboard.loadDashboards",goBack:"CrmDashboard.goBack",deleteDashboard:"CrmDashboard.deleteDbAction",createDashboard:"CrmDashboard.validateDashboard",hidePopup:"CrmDashboard.hidePopup",addcomponent:"CrmDashboard.addComponent",editDashboard:"CrmDashboard.loadDashboards",refreshComponent:"CrmDashboard.loadDashboards",newDashboard:"CrmDashboard.loadDashboards",getCompDetails:"CrmDashboard.loadDashboards",AddComponent:"CrmDashboard.loadDashboards",showDashboard:"Crm.lyteTransition",addComponent:"CrmDashboard.addComponent",dashComponent:"CrmDashboard.showDashContainer",dashSettings:"CrmDashboard.showDashContainer",updateCrmVersion:"CrmDashboard.updateCrmVersion",refreshAllComponents:"CrmDashboard.refreshPageComponents",refreshDashboardComponent:"CrmDashboard.loadDashboards"},clickIdVsResObjMapping:{showOtherDashboard:"showdbItems",showDashboard:"showdbItems",createDashboard:"show",deleteDashboard:"show",userOptionChange:"showdbItems"},maxComponentAllowed:20,clickIdActionsMapping:{dashSettings:["editDashboard","delDashboard"],dashComponent:["AddComponent","deleteComponent","showPrintPreview","showChatNotification","showSlackNotification","showCiscoNotification","addToHome","showEmbedUrl"],report:["AddComponent"],gallery:["AddComponent"],Dashboards:["addDashboardComponent"]},ajaxActionMapping:{fetchRecords:"ReportsRelatedCV.do",loadHomePage:"HomePageLayout.do",showLayout:"HomePageLayout.do",navigateLayout:"NavigateByRecords.do",getCompDetails:"HomePageLayout.do",refreshComponent:"HomePageLayout.do",customizeLayout:"HomePageLayout.do",deleteLayout:"HomePageLayout.do",changeView:"HomePageLayout.do",refreshAllComponents:"HomePageLayout.do"},deleteIdMapping:{deleteComponent:"comp_dbItemId",delDashboard:"dash_dbId",deleteLayout:"layoutName_layoutId"},clickIdFocusMapping:{newDashboard:"dbName",editDashboard:"dbName",AddComponent:"header"},hideAjaxObj:["loadHomePage","populateChart","saveComponentChanges","setFavorites"],maxFavorites:10,changedFavorites:0,createLayoutContent:"",processingIds:[],processedIds:[],needToLoadContactImage:!0,layoutImageMap:{},layoutTypeIdMap:{},toRenderObj:{},chartCache:{},trendDashboardObj:{},trendDBUserList:void 0,trendDBGroupList:void 0,trendDBPeriodKeys:{day:"crm.label.today",week:"crm.thisweek",month:"crm.label.this.month",year:"crm.thisyear"},trendDBSubPeriods:{year:"month",month:"week",week:"day"},trendDBMaxDateFilters:4,periodSingularKeys:{day:"Day",week:"crm.emailstats.week",month:"Month",year:"crm.emailstats.year"},periodPluralKeys:{day:"days",week:"weeks",month:"months",year:"crm.label.years"},dashboardUserOrGroupCount:0,homePageGroupCount:0,isKioskAvailable:!1,fromMicrosoftTeams:!1,fromAuditLog:!1,init:function(){CrmDashboard.typeVsChartImg={0:"big-table-chart",16:"big-horizontal-chart",13:"big-horizontal-chart",17:"big-horizontal-stacked-chart",14:"big-horizontal-stacked-chart",15:"big-horizontal-100-chart",3:"big-vertical-chart",5:"big-vertical-stacked-chart",10:"big-vertical-100-chart",6:"big-line-chart",9:"big-funnel-chart",8:"big-pie-chart",12:"big-area-chart",11:"big-donut-chart"},CrmDashboard.crm_csrf=csrfParamName+"="+encodeURIComponent(csrfToken),CrmDashboard.dashboardListTemplate=Handlebars.compile("<div class='leftinnermenu sel'><link-to lt-prop-route='crm.tab.dashboards.view' lt-prop-dp='[\"{{DBID}}\"]' lt-prop-id='dash_{{DBID}}' lt-prop-class='leftinnermenulinkto'>{{{DBNAME}}}</link-to><span class='gear_icon dIB dboard-set' data-cid='dashSettings' data-params='{\"dbId\":\"{{DBID}}\", \"type\":\"Dashboard\", \"ajaxLoad\":\"true\"}'></span></div>"),CrmDashboard.reportsTemplate=Handlebars.compile('{{#FORMRIGHTPANEL .}}<option value="{{REPORTID}}">{{{REPORTNAME}}}</option>{{/FORMRIGHTPANEL}}'),CrmDashboard.printChartOptions='<div id="printDashView" style="display:none"><div align="center" class="mT20 buttoncontainer"><input type="button" name="Print" class="newgraybtn" value="'+I18n.getMsg("crm.button.print")+'" onClick="window.print()"> <input type="button" name="Close" class="newgraybtn" value="'+I18n.getMsg("crm.button.close")+'" onClick="window.close()"></div><div class="p30"><div id="chartdiv" class="eventNone" style="width:640px;height:520px;"></div></div></div',Handlebars.registerPartial("TrendDashboardToolTip",Handlebars.templates.TrendDashboardToolTip),Handlebars.registerPartial("TrendDashboardFeatureSelector",Handlebars.templates.TrendDashboardFeatureSelector),Handlebars.registerPartial("TrendDashboardUserList",Handlebars.templates.TrendDashboardUserList),Handlebars.registerPartial("homePageComponent",Handlebars.templates.homePageComponent),Handlebars.registerPartial("navigateByRecords_home",Handlebars.templates.navigateByRecords_home),Handlebars.registerPartial("HomePageDetailsRow",Handlebars.templates.HomePageDetailsRow)},showaddcomponentUi:function(){$("#showHome").length>0&&($(".dashBrdContent").length===CrmDashboard.maxComponentAllowed?($("#addNewComponent").hide(),$("#addComponentErrorMsg").show()):($("#addNewComponent").show(),$("#addComponentErrorMsg").hide()))},loadDashboards:function(e,a,t,n,s){var r=$(a);if(!t&&r.attr("data-params")&&(t=JSON.parse(r.attr("data-params"))),"customizeLayout"===t.clickId&&"editLayout"===t.action){var i=r.closest(".grid-stack-item");if(i.attr("data-params")){var l=JSON.parse(i.attr("data-params"));if(l.isNewUserHomePage&&l.isDefaultLayout)return;if(!("Kiosks"!==l.module||Crm.userDetails.permissions.Crm_Implied_Customize_Zoho_CRM&&Crm.isKioskEnabled))return}}var o=t.clickId,d=t.url;if(o=o||t.action,CrmDashboard.favoriteTimeout&&"showDashboard"===o)CrmDashboard.setFavorites(void 0,t);else{if("undefined"!=typeof CrmAnalytics&&"customizeLayout"==t.clickId){var c=$("#"+t.layoutId),m={x:c.attr("data-gs-x"),y:c.attr("data-gs-y"),height:c.attr("data-gs-height"),width:c.attr("data-gs-width")};CrmDashboard.prevCoordinates=m}if(f=f||{},!d)if(o)d=CrmDashboard.ajaxActionMapping[o]?crmHistory.locationOrigin+Crm.getCrmBasePath()+"/"+CrmDashboard.ajaxActionMapping[o]:crmHistory.locationOrigin+Crm.getCrmBasePath()+"/specific/Dashboard.do";else{var p=window.location.href,h=networkUtils.parseUrl(p);if(p.indexOf("specific")>-1)d=h.action+".do";else d="specific/"+h.action+".do"}if(o&&(resObj=this.clickIdVsResObjMapping[o]?this.clickIdVsResObjMapping[o]:"dashboardPopup"),"addorUpdate"===t.clickId&&"undefined"!=typeof CrmAnalytics)var u=t.dbId;if(n)f=n;else if(t.queryStr)f=t.queryStr;else{var f={isload:!0};for(var v in t)/clickId|calleeObj|url|isDefaultLayout|isNewUserHomePage|displayMsg|hideObj/.test(v)||(f[v]=t[v])}if(CrmDashboard.hideAjaxObj.indexOf(o)<0)if("refreshComponent"===o||"refreshDashboardComponent"===o){if(event.stopPropagation(),t.module,r.closest(".refreshAnim").addClass("ref_visible"),r.find(".tb_small_loader").addClass("ref_loading"),CrmDashboard.isAnalyticsEnabled&&"undefined"!=typeof CrmAnalytics&&"refreshComponent"==o){var g=$("#"+t.layoutId);if(CrmAnalytics.insertLoader(g),"Dashboards"==t.module){u=JSON.parse($("#"+t.layoutId).attr("data-params")).dashboardId;delete CrmDashboard.chartCache[t.layoutId];var b=CrmAnalytics.base_url+"/"+u+"/components/"+t.dashletId+"/refresh";return void CrmAnalytics.getApiData(b,crmConstants.requestMethods.POST,(function(e){CrmDashboard.loadAnayticsChart(t.layoutId,t.dashletId,u),CrmDashboard.postRefreshComponentActions(r)}))}}}else commonUtils.showHideLoadingDiv(!0);if(0===parseInt($("#HomePage_Selector").find("a").attr("data-category"))&&"Dashboards"===f.module&&(f.noCache=!0),csrfParamName&&(f[csrfParamName]=encodeURIComponent(csrfToken)),"showDashboard"!=o)(new crmRequestPool).initiate({action:d,type:"POST",data:f,success:function(e){if(s&&CrmDashboard.loadDashboards(void 0,void 0,s),"refreshComponent"===o||"refreshDashboardComponent"===o)CrmDashboard.postRefreshComponentActions(r);else if("refreshAllComponents"===o){var a=$(".hview-refresh .tb_small_loader").removeClass("ref_loading").addClass("ref_complete");setTimeout((function(){a.removeClass("ref_complete")}),800)}else commonUtils.showHideLoadingDiv();if(t.hideObj&&CrmDashboard.hidePopup(void 0,!0,t.hideObj),e){if(CrmDashboard.isAnalyticsEnabled&&"undefined"!=typeof CrmAnalytics&&"loadHomePage"==t.clickId&&"Dashboards"!=t.module&&CrmAnalytics.setMinMaxDimensions("cv",t.layoutId),"refreshAllComponents"===t.clickId&&"success"===e){var n=null!=getObj("homePageView")?"homePageView":"dashboardItems";if(null!=n)return CrmDashboard.populateVisibleComponents(n),void $("#"+n).scroll($L.debounce((function(){CrmDashboard.populateVisibleComponents(this.id)}),300))}else if("addorUpdate"===t.clickId&&"cv"===t.type)CrmDashboard.addOrUpdateCVComponent(e,t);else if("addorUpdate"!==t.clickId||"widgets"!==t.type&&"kiosk"!==t.type)if("addorUpdate"===t.clickId)u&&(e.dashboardId=u),CrmDashboard.addOrUpdateDbComponent(e,t);else if("refreshComponent"===t.clickId||"loadHomePage"===t.clickId||"navigateLayout"===t.clickId||"updateDefaultHomeCV"===t.action||"updateDefaultHomeCVRange"===t.action){var i=$("#HomePage_Selector").find("a").attr("data-category");if("Dashboards"===t.module&&"undefined"!=typeof CrmAnalytics&&CrmDashboard.isAnalyticsEnabled&&"undefined"!=typeof CrmAnalytics)return"0"!==i&&CrmDashboard.chartCache[t.layoutId]&&delete CrmDashboard.chartCache[t.layoutId],void CrmDashboard.loadAnayticsChart(e.layoutId,e.dashletId,e.dashboardId);if("Dashboards"===t.module)$("#datafetchdate_"+t.layoutId).length&&setDataFetchDate($("#datafetchdate_"+t.layoutId)[0],e.chartJson.dataFetchDate),"0"===i||CrmDashboard.chartCache[t.layoutId]&&CrmDashboard.chartCache[e.layoutId].dashletId===e.dbItemId||(CrmDashboard.chartCache[t.layoutId]=objectUtils.cloneObject(e)),CrmDashboard.createChart("chartdiv_"+t.layoutId,e.chartJson||e);else{if("Widgets"===t.module)return WidgetHandler.HomePage.render(t.dashletId),void $('[data-dashletid="'+t.dashletId+'"]').attr("data-loaded","true");if("Kiosks"===t.module){$("#"+t.dbItemId).find(".tb_small_loader").addClass("dN");var l=Lyte.registeredMixins.kiosk_execute.getListViewResources();Lyte.injectResources(l,void 0,(function(){Lyte.registeredMixins.kiosk_execute.setKioskExecution(!1),Lyte.registeredMixins.kiosk_execute.renderExecuteKiosk(t.dashletId,"home_page",f.isRefresh);var e=Lyte.registeredMixins.kiosk_execute.getCompIdfromKioskId(t.dashletId);$("#"+e).attr("data-loaded","true")}))}else if("Activities"===t.module&&$L("crm-activity-component").length>0)Lyte.triggerEvent("activityComponentRefresher");else{if($("#datafetchdate_"+t.layoutId).length&&setDataFetchDate($("#datafetchdate_"+t.layoutId)[0]),"object"!=typeof e){if(e===I18n.getMsg("crm.component.permission.denied")){var d=t.layoutId,c="<br><br>"+CrmAnalytics.getPermissionDeniedDiv(d);$("#layout_"+d).html(c)}else $("#layout_"+t.layoutId).html("<br><br><div class='noDataDiv' align='center'><span></span><h4>"+e+"</h4></div>");return void $("#"+t.layoutId).attr("data-loaded","true")}e.fromPage="homePage",e.category=i,"0"===i&&t.module&&(e.modname=I18n.getMsg(moduleRecordMapping[t.module].plural_label));var m=!0;e.body&&e.body[e.currentOption]&&(e.body[e.currentOption]=void 0,m=!1),e.isLast=m,CrmDashboard.renderCV(e,t.layoutId,i,f.module),CrmDashboard.needToLoadContactImage&&CrmDashboard.populateContactsImageMapAndLoadCv(e,t.layoutId,i,f.module)}}}else if("deleteLayout"===t.clickId&&"SUCCESS"==e)CrmDashboard.deleteComponent(e,t);else if("delDashboard"===t.clickId){var p=$("#dash_"+t.dbId);$("#dbId").val()===t.dbId&&(p.next("a").length?p.next("a").click():$("#dash_0")[0].click()),p.remove()}else if("deleteComponent"===t.clickId&&"SUCCESS"==e){var h=$("#"+t.dbItemId);if(0!=h.find("span.selectedStar").length){var v=$("#favoritesCount");v.val(parseInt(v.val())-1)}h.remove();var g=$("#dashboardItemCount");g.val(parseInt(g.val())-1);var b=$("#dashboardItems");0===b.find("div.dashBrdContent").length&&(b.height(0),$("#addCompdiv").hide(),$("#emptyDashboard").css("display","")),Crm.sharedworker.makeRequest("trigger","trigger","CrmDashboard.findAndRemoveCachedVal",t.dbItemId),CrmDashboard.populateVisibleComponents("dashboardItems")}else if("populateChart"===t.clickId||"refreshDashboardComponent"===t.clickId){$("#datafetchdate_"+t.dbItemId).length&&setDataFetchDate($("#datafetchdate_"+t.dbItemId)[0],e.dataFetchDate);var C=$("#newDashWindow").val();"trenddb"==t.dbname||"trendDBOptionsChange"==t.action?(Lyte.registeredMixins["crm-zianotification-helper"].disableResizableandFixWidth(),CrmDashboard.plotTrendDBGraph(t.dbItemId,e)):CrmDashboard.createChart("chartdiv_"+t.dbItemId,e,C),$("#"+t.dbItemId).attr("data-loaded","true")}else if("updateDashboard"===t.clickId){e=e.split("###"),$("#dbId").val()===e[0]&&$("#dbTitle").text(e[1]);var y=$("#dash_"+e[0]+" a"),D=(y=y.length>0?y:$("a#dash_"+e[0])).find("span");y.text(e[1]),y.prepend(D),CrmDashboard.hidePopup()}else if("getReportDetails"===t.action){$("#reportErrorMsg").hide();var I=$("#reportId");I.find("option.prevSelected").removeClass("prevSelected"),I.find("option:selected").addClass("prevSelected"),CrmDashboard.updateReportDetails(e,void 0,!1===t.checkGrouping)}else if("showOtherDashboard"===t.clickId){var w=$("<div>").html(e).find("#dbId").val();Lyte.Router.transitionTo({route:"crm.tab.dashboards.view",dynamicParams:[w]})}else if("dashboardContent"===t.clickId)CrmDashboard.createChart(t.clickId,e),$("#dashboardContent_componentName").html(e.chartTitle);else if("changeView"===t.clickId){CrmDashboard.showSelectedHomePage(e);var _=$("#HomeSelectorDD");if(!_.find('a[data-category="4"]').length){var x=_.find(".sel"),k=(i=parseInt(x.attr("data-category")),_.find('a[data-category="2"]').length);0===i&&k?cookieUtils.setCookie("classicId",x.attr("id")):2!==i&&k||cookieUtils.deleteCookie("classicId")}}else{if("dashboardPopup"===resObj||"deletepopup"===resObj){showAnimatePopup("dashboardPopup");var L=$("#dashboardPopup");L.hasClass("newInputStyleEle")&&L.find("input,select,textarea,.newSelect").focusin(setFocusClass).blur(removeFocusClass),Crm.isKioskEnabled&&CrmDashboard.isKioskAvailable&&"P"!==Crm.userDetails.LICENSE_TYPE&&L.addClass("kioskDashBoard")}else CrmDashboard.hidePopup();$("#"+resObj).html(e),"customizeLayout"===o&&"editLayout"===f.action&&"Widgets"===f.module&&$("#module").trigger("change.select2")}else Utils.windowLocationHref(window.location.href);$("#chartdiv_"+e.layoutId).find("#tablediv").length>0&&$("#"+e.layoutId+"_homeslack").remove()}else"dashboardContent"===t.clickId&&$("#dashboardContent").closest("td").hide();if(t.displayMsg&&crmui.showMsgBand("success",$ESAPI.encoder().encodeForHTML(t.displayMsg),"2000",""),CrmDashboard.clickIdFocusMapping[o]){var T=CrmDashboard.clickIdFocusMapping[o];$("#"+T)[0].focus(),setTimeout((function(){$("#"+T).focus()}),300)}},error:function(e){if(commonUtils.showHideLoadingDiv(),555!==e.status||"EXCEEDS LIMIT"!==e.responseText){if("changeView"===t.clickId&&555===e.status){renderingUtils.showCustomAlert(e.responseText,void 0,!1);var a=$("#getStart").length>0?"gettingStarted":$("#HomeSelectorDD").find(".sel").attr("id");$("[value="+t.customizationId+"]").remove(),$("#HomePage_Selector").val(a).trigger("change")}else if(e.responseText){if(555==e.status&&e.responseText){var n=e.responseText.split("###");2===n.length?(renderingUtils.displayErrorDiv(n[1],void 0,n[0]),$("#"+n[1]).focus()):alert(n[0])}else if(550==e.status){t.hideObj&&CrmDashboard.hidePopup(void 0,void 0,t.hideObj);var s=$("#lookupdiv");s.html(e.responseText),mailsetCenter("lookupdiv"),s.find('input[data-cid="back"]').removeAttr("data-cid").click((function(){CrmDashboard.hidePopup(void 0,void 0,"lookupdiv")}))}else CrmDashboard.hidePopup(void 0,void 0,"dashboardPopup");if("getReportDetails"===t.action){var r=$("#reportId");r.find("option.prevSelected").val()&&r.val(r.find("option.prevSelected").val()).trigger("change.select2")}else"navigateLayout"===t.clickId&&$("#home_next").after('<div class="next_disabled fL"></div>').remove()}}else{var i=I18n.getMsg("crm.dashboard.add.component.error.msg",CrmDashboard.maxComponentAllowed);renderingUtils.showCustomAlert(i,void 0,!1)}}})}},deleteComponent:function(e,a){$("#"+a.layoutId).remove();var t=$("#lastSortOrderId");t.val(parseInt(t.val())-1),CrmDashboard.chartCache[a.layoutId]=void 0,CrmDashboard.populateVisibleComponents("homePageView"),CrmDashboard.showaddcomponentUi()},clickHandler:function(e,a,t){if(this.clickEventIdVsMethodMapping[t]){if("hidePopup"!=t){var n=$(a);"showDashboard"==t&&(n.trigger("mouseleave"),"Sales Follow-up Trend"!==n.attr("title")&&"Sales Trend"!==n.attr("title")||(CrmDashboard.trendDashboardObj={}));var s=JSON.parse(n.attr("data-params"));s.calleeObj="CrmDashboard",s.clickId=t,n.attr("data-params",JSON.stringify(s))}return Lyte.registeredMixins["crm-utilities"].executeFunctionByName(this.clickEventIdVsMethodMapping[t],window,e,a),!1}return!0},changeHomeView:function(e){3==e.category&&delete e.customizationId,e.customizationId===$("#HomePage_Selector").find("a").attr("id")||3==e.category&&$("#getStart").length>0||($(".hview-refresh").remove(),e.action="changeView",CrmDashboard.chartCache={},Lyte.Router.transitionTo({route:"crm.tab.module.begin",queryParams:{customizationId:e.customizationId,category:e.category},dynamicParams:["Home"]}).data={changeView:!0,dataObj:e})},specialcharcheck:function(e,a){var t;if(t=a?/[^~`#^&*+={}()%[\]|;"<>\\]/g:/[^~`#^&*+={}[\]|;"<>\\]/g,""!=getClrTxtPtnResChars(e,t))return!0},deleteDbAction:function(e,a){var t=$(a),n=JSON.parse(t.attr("data-params"));if(t.hasClass("fromDeletePopup"))n[csrfParamName]=encodeURIComponent(csrfToken),n.hideObj="deletepopup",n.displayMsg=I18n.getMsg("crm.label.deleted.successfully"),n.customizationId=$("#HomePage_Selector").find("a").attr("id"),CrmDashboard.loadDashboards(void 0,void 0,n);else{var s=CrmDashboard.deleteIdMapping[n.clickId].split("_"),r=$("#"+s[0]+"_"+n[s[1]]).text(),i="delDashboard"===n.clickId?I18n.getMsg("crm.warning.delete.dashboard","Dashboard"):I18n.getMsg("crm.warning.delete.component",r);showDeletePopup(i,"crm.button.mass.delete","","crm.delete.warning",a)}},createOptions:function(e,a,t,n,s){var r="";for(var i in e){var l=e[i].split(":");s&&l.length>3&&(e[i]=l[0]+":"+l[1]+":"+l[2]),r+='<option value="'+$ESAPI.encoder().encodeForHTMLAttribute(e[i])+'">'+$ESAPI.encoder().encodeForHTML(i)+"</option>"}return a.html(r).find('option[value="'+t+'"]').attr("selected","selected"),r},updateReportDetails:function(e,a,t){if(a||(a={}),e.summaryCols){var n=t?$("#yaxis"):$('select[name="yaxis"]'),s=CrmDashboard.createOptions(e.summaryCols,n,a.dataColumn,t);t&&(n.closest(".tabDivCreate").show(),thirdPartyUtils.bindSelect2(n),CrmDashboard.showHideCountOptions(n[0]));var r=$('select[name="yaxis2"]').html(s);a.dataColumn2&&r.find('option[value="'+a.dataColumn2+'"]').prop("selected",!0)}if(e.groupingCols){s=CrmDashboard.createOptions(e.groupingCols,$('select[name="xaxis"]'),a.catagoryColumn,void 0,!0);$('select[name="series"]').html(s).find('option[value="'+a.seriesColumn+'"]').prop("selected",!0),$("#series option[value='CrmActivity:ACTIVITYTYPE:Host or Participant']").remove(),$("#series option[value='CrmActivitiesSharing:SHAREDTO:Host or Participant']").remove()}if(e.dateFields){var i=Handlebars.templates.kpiDateColTemplate(e.dateFields),l=$("#kpi_dateFields");l.html(i).find('option[value="'+a.catagoryColumn+'"]').prop("selected",!0),l.trigger("change.select2")}},getReportDetails:function(e){var a=$("#reportId").val();if(a){var t={};t.srcReport=a,t.action="getReportDetails",t.clickId="customizeDashboard",!0===e&&(t.checkGrouping=!1,$("#yaxis").closest(".tabDivCreate").hide()),$("#isFromGallery").length&&(t.isFromGallery=!0),t.isload=!0,this.loadDashboards(void 0,void 0,t)}},hidePopup:function(e,a,t){if(!t){t="dashboardPopup";var n=$(a).attr("data-params");if(n)t=JSON.parse(n).id}for(var s=(t=t.split(",")).length,r=0;r<s;r++)"dashboardPopup"!==t[r]&&$("#"+t[r]).hide();hideAnimatePopup("dashboardPopup","true"),"dashboardPopup"!==t&&renderingUtils.removeFreezeLayer()},enableSortable:function(e,a,t){$("#"+e).sortable({placeholder:"ui-state-highlight fL mR30 mB30",handle:".sortClass",opacity:.6,cursor:"move",start:function(e,n){n.placeholder.css({width:n.item.width(),height:n.item.outerHeight(),"box-sizing":"border-box"}),CrmDashboard.saveComponentChanges(a,t)},sort:function(){CrmDashboard.saveComponentChanges(a,t)},update:function(e){if(CrmDashboard.sortOrderChanged=!0,t){var n=$("#showHome"),s=n.find("."+a).length-1;n.find("."+a).eq(s).after($("#addNewComponent"))}CrmDashboard.saveComponentChanges(a,t);var r=t?"homePageView":"dashboardItems";CrmDashboard.populateVisibleComponents(r),renderingUtils.stopEvent(e)}})},enableResize:function(e,a,t){t=t?t.not(".dashBrdContent_kpi"):$("."+e).not(".dashBrdContent_kpi");var n=a?"homePageView":"dashboardItems",s=$("#"+n).height()-20,r=t.parent().width()-40;t.resizable({minHeight:300,minWidth:500,maxHeight:s,maxWidth:r,resize:function(){CrmDashboard.saveComponentChanges(e,a)},stop:function(t,s){CrmDashboard.resizeComponent(s),CrmDashboard.saveComponentChanges(e,a),CrmDashboard.populateVisibleComponents(n)}})},resizeComponent:function(e,a){var t=e.element,n=t.attr("id");if("fromCustomHome"===a)var s=$("#customModule_Holder");else s=t.parent();var r=s.height(),i=$(window).height(),l=t.height(),o=parseInt(t.css("width")),d=(o/s.width()*100).toFixed(2);t.css("width",d+"%");var c=r/i*100,m=t.find("#chartdiv_"+n).width(o-40).height(l-60);if(m.find("#tablediv").height(l-60),m.highcharts()){m.highcharts().reflow();var p=m.find(".highcharts-container");p.width(p.width()-1).width(m.width())}var h={width:d,height:(l/r*100).toFixed(2)+","+c.toFixed(2)};if("fromCustomHome"!==a)CrmDashboard.resizedComponentDetails||(CrmDashboard.resizedComponentDetails={}),CrmDashboard.resizedComponentDetails[n]=h;else{var u=JSON.parse(t.attr("data-params"));u.layoutProps=h,t.attr("data-params",JSON.stringify(u))}},setDashboardHeight:function(e,a,t,n){if(e){!a&&t&&(a=e[t]);var s=$("#"+a);if(null!=n)var r=n;else r=$(window).height();if(s.hasClass("dashBrdContent_kpi"))$("#chartdiv_"+a).css("min-height","95px");else if(e.layoutProps&&(e=e.layoutProps),e&&e.height){var i=e.height.split(","),l=i[1]*r/100,o=i[0]*l/100;s.height(o);var d=$("#chartdiv_"+a);d.height(o-60),e.dateFilters&&(CrmDashboard.formFiltersForDefaultCharts(e,a),d.height(o-100))}}},populateCharts:function(e,a,t){var n=e.length,s="id";"homePageView"===a&&(s="layoutId");for(var r=0;r<n;r++)CrmDashboard.setDashboardHeight(e[r],void 0,s,t);"homePageView"===a&&$("#addNewComponent").length&&CrmDashboard.setaddComponentSize(),CrmDashboard.populateVisibleComponents(a)},setaddComponentSize:function(){var e=$("#addNewComponent"),a=e.prev("div.dashBrdContent"),t="350px",n="47%";a.length&&(t=e.offset().left>a.offset().left?a.css("height"):parseInt(a.css("height"))>350?"350px":a.css("height"),n=parseInt(a[0].style.width)<=45?parseInt(a[0].style.width)+"%":"47%"),e[0].style.width=n,e[0].style.height=t},setScrollTimeout:function(e){e instanceof jQuery||(e=$(e)),e.data("scrollTimeout")&&clearTimeout(e.data("scrollTimeout")),e.data("scrollTimeout",setTimeout((function(){CrmDashboard.populateVisibleComponents(e.attr("id"))}),300))},populateVisibleComponents:function(e,a){var t=CrmDashboard.getVisibleComponentIds(e,a);if(t){var n=t.length;!a&&n>2&&(n=2,CrmDashboard.setScrollTimeout($("#"+e)));var s=$("#"+e);if(s.find('div.grid-stack-item[data-loaded="loading"]').length>4)CrmDashboard.setScrollTimeout(s);else for(var r=0;r<n;r++){var i=t[r],l=Object.keys(i),o=i[l],d=$("#"+l);if(d.attr("data-loaded","loading"),"loadHomePage"===o.clickId&&"Dashboards"===o.module&&CrmDashboard.isAnalyticsEnabled&&"undefined"!=typeof CrmAnalytics)CrmDashboard.loadAnayticsChart(o.layoutId,o.dashletId,o.dashboardId);else if("loadHomePage"==o.clickId&&"Dashboards"===o.module&&CrmDashboard.chartCache[o.layoutId]){setDataFetchDate($("#datafetchdate_"+o.layoutId)[0],CrmDashboard.chartCache[o.layoutId].chartJson.dataFetchDate);var c=objectUtils.cloneObject(CrmDashboard.chartCache[o.layoutId].chartJson);CrmDashboard.createChart("chartdiv_"+o.layoutId,c),$("#"+o.layoutId).attr("data-loaded","true")}else"customHome"===e?CustomHomePage.loadComponent(o):"loadHomePage"==o.clickId&&"Widgets"===o.module?("undefined"!=typeof CrmAnalytics&&CrmAnalytics.setMinMaxDimensions("widget",o.layoutId),WidgetHandler.HomePage.render(o.dashletId),$('[data-dashletid="'+o.dashletId+'"]').attr("data-loaded","true")):"loadHomePage"===o.clickId&&"Kiosks"===o.module?(d.find(".tb_small_loader").addClass("dN"),Lyte.registeredMixins.kiosk_execute.loadAndRenderExecuteKiosk(o.dashletId,"home_page",!1)):CrmDashboard.loadDashboards(void 0,void 0,o)}}},getVisibleComponentIds:function(e,a){var t=$("#"+e),n=t.find('div.dashBrdContent[data-loaded="'+(a?"loaded":"false")+'"]'),s=n.length;if(0===s)return t.off("scroll"),void("dashboardItems"===e&&t.scroll((function(){$("#dashContainer").hide(),$("#embedUrl").hide()})));for(var r=[],i=t.offset().top,l=i+t.height(),o={},d=0;d<s;d++){var c=n.eq(d),m=c.offset().top,p=m+c.height();if(a||m>=i&&m<=l||p>=i&&p<=l){o=JSON.parse(c.attr("data-params"));var h={};h[c.attr("id")]=o,r.push(h)}}return r},getComponentChanges:function(e){for(var a={},t=e.split(","),n=t.length,s=0;s<n;s++){var r=t[s],i={};CrmDashboard.resizedComponentDetails&&CrmDashboard.resizedComponentDetails[r]&&(i=CrmDashboard.resizedComponentDetails[r]),i.order=s+1,a[r]=i}return a},saveComponentChanges:function(e,a){clearTimeout(CrmDashboard.timeoutVal);var t=$("#dbId");if(t.length)var n=t.val();var s=$("."+e);CrmDashboard.timeoutVal=setTimeout((function(){if(s.hasClass("ui-sortable-placeholder"))CrmDashboard.saveComponentChanges(e,a);else{var t=CrmDashboard.getdbItemIdList(s),r={};CrmDashboard.sortOrderChanged&&(n&&0==n?r.dbItemIds=t:r.compSizeJson=JSON.stringify(CrmDashboard.getComponentChanges(t))),CrmDashboard.resizedComponentDetails&&!r.compSizeJson&&(r.compSizeJson=JSON.stringify(CrmDashboard.resizedComponentDetails)),(r.compSizeJson||r.dbItemIds)&&(r[csrfParamName]=encodeURIComponent(csrfToken),r.action="saveComponentChanges",r.clickId="saveComponentChanges",a?r.url=Crm.getCrmBasePath()+"/HomePageLayout.do":r.dbId=n,CrmDashboard.loadDashboards(void 0,void 0,r)),CrmDashboard.resizedComponentDetails=void 0,CrmDashboard.sortOrderChanged=!1}}),5e3)},changeStar:function(e,a){if(clearTimeout(CrmDashboard.favoriteTimeout),(a=$(a)).hasClass("emptyStar")){if(parseInt($("#favoritesCount").val())+CrmDashboard.changedFavorites>=CrmDashboard.maxFavorites)return void alert(I18n.getMsg("crm.alert.favorite.dashboard.maxlimit"));CrmDashboard.changedFavorites++,"2"==(t=a.addClass("selectedStar").removeClass("emptyStar").closest("div.dashBrdContent")).attr("data-value")?t.removeAttr("data-value"):t.attr("data-value","1")}else{var t;CrmDashboard.changedFavorites--,"1"==(t=a.removeClass("selectedStar").addClass("emptyStar").closest("div.dashBrdContent")).attr("data-value")?t.removeAttr("data-value"):t.attr("data-value","2")}var n=CrmDashboard.getFavoritesParams();CrmDashboard.favoriteTimeout=setTimeout((function(){CrmDashboard.setFavorites(n)}),3e3)},getFavoritesParams:function(){var e={action:"setFavorites"},a=$("#dashboardItems").find("div.dashBrdContent");e.removedFavorites=CrmDashboard.getFavorites(a.filter('[data-value="2"]'));var t=$("#dbId").val();return"0"!==t&&(e.favorites=CrmDashboard.getFavorites(a.filter('[data-value="1"]'))),e.clickId="setFavorites",e.dbId=t,e[csrfParamName]=encodeURIComponent(csrfToken),e},setFavorites:function(e,a){e||(e=CrmDashboard.getFavoritesParams()),$("#dashboardItems").find("div.dashBrdContent").removeAttr("data-value"),clearTimeout(CrmDashboard.favoriteTimeout),CrmDashboard.favoriteTimeout=void 0;var t=$("#favoritesCount");t.val(parseInt(t.val())+CrmDashboard.changedFavorites),CrmDashboard.changedFavorites=0,e.removedFavorites||e.favorites?CrmDashboard.loadDashboards(void 0,void 0,e,void 0,a):a&&CrmDashboard.loadDashboards(void 0,void 0,a)},getdbItemIdList:function(e){var a=e.length,t="";if(a>0){t=e.eq(0).attr("id");for(var n=1;n<a;n++)t+=","+e.eq(n).attr("id")}return t},getFavorites:function(e){var a=e.length,t="";if(a>0){t=JSON.parse(e.eq(0).attr("data-params")).dbItemId;for(var n=1;n<a;n++)t+=","+JSON.parse(e.eq(n).attr("data-params")).dbItemId}return t},showDashContainer:function(e,a){var t=$(a),n=t.attr("data-cid"),s=$("#dashContainer").find("a"),r=CrmDashboard.clickIdActionsMapping[n],i=JSON.parse(t.attr("data-params")),l=t.attr("data-editnotneeded");i.clickId=void 0;var o=r.length,d=i.catagory;if(i.catagory=void 0,void 0!==i.chartType){var c=i.isKpi="kpi"===i.chartType;delete i.chartType}for(var m=s.length,p=0;p<m;p++)if(i.action=r[p],"showChatNotification"!==i.action||"false"!==$("#isChatConfigured").val()&&!c){var h=$("#chartdiv_"+i.dbItemId);"showSlackNotification"===i.action&&(c||"false"===$("#isSlackConfigured").val()||h.find("#tablediv").length>0)?$(s[p]).removeAttr("data-cid").removeAttr("data-params").hide():(h.find("#tablediv").length||c)&&"showEmbedUrl"===i.action||(0==d||2==d)&&("deleteComponent"===i.action||"delDashboard"===i.action)||d>2&&"AddComponent"===i.action?$(s[p]).addClass("disabled").removeAttr("data-cid").removeAttr("data-params"):p>=o?$(s[p]).hide().prev("div.dash_dd_sep").hide():("showChatNotification"===i.action&&(i.reqFrom="analytics",i.chatType="cliq"),"showSlackNotification"===i.action&&(i.reqFrom="analytics",i.chatType="slack"),"showCiscoNotification"===i.action&&(i.reqFrom="analytics",i.chatType="cisco"),$(s[p]).attr("data-params",JSON.stringify(i)).attr("data-zcqa",i.action).attr("data-cid",i.action).removeClass("disabled").show().prev("div.dash_dd_sep").show(),delete i.isKpi,i.chatType&&(delete i.chatType,delete i.reqFrom),"true"===l&&"deleteComponent"!==i.action&&$(s[p]).addClass("disabled").removeAttr("data-cid").removeAttr("data-params"))}else $(s[p]).removeAttr("data-cid").removeAttr("data-params").hide();var u={id:"dashContainer",clickSelector:"a"};Crm.menu.createMenu(e,u),$("#dashContainer").on("onBeforeShow",(function(e,a){var t=renderingUtils.getTargetElem(a);$(t).addClass("sankar")})).on("onBeforeClose",(function(){$("#dashboardList .sankar").removeClass("sankar"),$(this).off("onBeforeClose").off("onBeforeShow")}))},openDashboard:function(e,a){var t=JSON.parse($(a).attr("data-params")),n=Crm.getCrmBasePath()+"/tab/Dashboards/"+t.dbId+"/expand";t.isAnalyticsTrends&&(n+="?isAnalyticsTrends="+t.isAnalyticsTrends);var s="height="+$(window).height()-700+"top=0,left=0,menubar=no,toolbar=no,location=no,status=no,scrollbars=yes,resizable=yes";window.lookUpWin=window.open(networkUtils.getOrgSpecificURL(n),"newPopup",s)},limitSeriesValues:function(e){var a=75,t=e.series.length;if(t>a&&"object"==typeof e.series[0].data&&e.series[0].data.length>a){var n=t-a;e.series.splice(a,n),n=e.xAxis.categories.length-a,e.xAxis.categories.splice(a,n);for(var s=0;s<a;s++)e.series[s].data.splice(a,n)}},setChartOptions:function(e){var a=CrmDashboard.getHighChartOptions();if(e.colors=["#F26E6E","#FF92BE","#8C79DE","#2C97DE","#0AD3FF","#38E4AE","#63D471","#ADD463","#ED7F65","#E99E5B","#FCE970","#C39878","#EBDCB5"],e.tooltip={borderWidth:2,style:{padding:0},useHTML:!0,formatter:a.tooltip.formatter},e.plotOptions&&e.plotOptions[e.chart.type])switch(e.chart.type){case"column":e.plotOptions.column.dataLabels=e.plotOptions.column.dataLabels?e.plotOptions.column.dataLabels:{},e.plotOptions.column.dataLabels.formatter=a.plotOptions.column.dataLabels.formatter;break;case"bar":e.plotOptions.bar.dataLabels=e.plotOptions.bar.dataLabels?e.plotOptions.bar.dataLabels:{},e.plotOptions.bar.dataLabels.formatter=a.plotOptions.bar.dataLabels.formatter;break;case"areaspline":e.plotOptions.areaspline.dataLabels=e.plotOptions.areaspline.dataLabels?e.plotOptions.areaspline.dataLabels:{},e.plotOptions.areaspline.dataLabels.formatter=a.plotOptions.areaspline.dataLabels.formatter;break;case"pie":e.plotOptions.pie.dataLabels=e.plotOptions.pie.dataLabels?e.plotOptions.pie.dataLabels:{},e.plotOptions.pie.dataLabels.formatter=a.plotOptions.pie.dataLabels.formatter;break;case"funnel":e.plotOptions.funnel.dataLabels=e.plotOptions.funnel.dataLabels?e.plotOptions.funnel.dataLabels:{},e.plotOptions.funnel.dataLabels.formatter=a.plotOptions.funnel.dataLabels.formatter}e.legend&&(e.legend.labelFormatter=function(){return $ESAPI.encoder().encodeForHTML(this.name)})},createChart:function(e,a,t){var n=$("#"+e),s=n.parent().height();if(n.length)if(t&&($("#parentChartDiv").height("480px"),n.height(s-100),Crm.isZohoChartsEnabled&&a.component_type))ZChartRenderer.renderComponent(a,void 0,e);else if(!a.msg&&a.series&&a.series[0]&&a.series[0].data.length>0){"undefined"!=typeof CrmAnalytics&&CrmDashboard.setChartOptions(a),n.closest(".dashBrdContent").show(),CrmDashboard.limitSeriesValues(a);var r="";if("tabular"==a.chart.type)a.dbItemId=e,r=n.html(Handlebars.templates.tabularChart(a)).find("#tablediv").find("table").eq(0),n.find("#tablediv").height(n.height());else{if("KPI"==a.chart.type)return void CrmDashboard.processKpiData(a,e);if(!a.processed){a.xAxis&&(a.xAxis.title.text=$ESAPI.encoder().encodeForHTML(a.xAxis.title.text)),a.yAxis&&(a.yAxis.title.originalText=a.yAxis.title.text,a.yAxis.title.text=$ESAPI.encoder().encodeForHTML(a.yAxis.title.text));var i=a.additionalInfo&&void 0!==a.additionalInfo.decimalDigits?a.additionalInfo.decimalDigits:void 0,l=a.chart.type;if(("bar"==l||"column"===l)&&a.plotOptions[l].stacking){var o=a.plotOptions[l].stacking;a.tooltip={borderWidth:2,useHTML:!0,shared:!0,formatter:function(){for(var e="<b>"+$ESAPI.encoder().encodeForHTML(this.x)+"</b>",t=this.points.length,n=this.points[0].series.chart.options,s=n.chart.type,r=n.additionalInfo&&void 0!==a.additionalInfo.decimalDigits?a.additionalInfo.decimalDigits:void 0,i=0;i<t;i++){var l=this.points[i];if(l.percentage){var o=l.y;n.currencyColumn&&void 0===n.currency||!0===l.series.userOptions.currency?o=currencyUtils.returnValueInDefaultCurrency(Crm.userDetails.BASE_CURRENCY,l.y):r&&(o=commonUtils.formatDecimalValue(o,r,!0)),e+='<br><span style="color:'+l.series.color+'" class="p0 mR3">●</span>'+$ESAPI.encoder().encodeForHTML(l.series.name)+" : "+o+("percent"===n.plotOptions[s].stacking?" ("+l.percentage.toFixed(2)+"%)":"")}}return e}}}a.currencyColumn&&("pie"===a.chart.type?a.plotOptions[a.chart.type].dataLabels.formatter=function(){return $ESAPI.encoder().encodeForHTML(this.point.name)+"<br><span class='dB wsNowrap'>"+(0===this.y||void 0!==this.series.userOptions.currency&&!0!==this.series.userOptions.currency?0===this.y?"":this.y:currencyUtils.returnValueInDefaultCurrency(Crm.userDetails.BASE_CURRENCY,this.y))+" ( "+this.percentage.toFixed(2)+"% )</span>"}:"funnel"!==a.chart.type&&"percent"!==o&&(a.plotOptions[a.chart.type].dataLabels.formatter=function(){var e=this.series.userOptions.decimalDigits?this.series.userOptions.decimalDigits:i;return 0===this.y||void 0!==this.series.userOptions.currency&&!0!==this.series.userOptions.currency?0===this.y?"":commonUtils.formatDecimalValue(this.y,e,!0):currencyUtils.returnValueInDefaultCurrency(Crm.userDetails.BASE_CURRENCY,this.y)}),o||(a.tooltip={borderWidth:2,style:{padding:0},useHTML:!0,formatter:function(){var e=this.series.userOptions.decimalDigits?this.series.userOptions.decimalDigits:i;return"<b>"+$ESAPI.encoder().encodeForHTML(this.series.name)+"</b></br>"+this.key+" : "+(void 0===this.series.userOptions.currency||!0===this.series.userOptions.currency?currencyUtils.returnValueInDefaultCurrency(Crm.userDetails.BASE_CURRENCY,this.y):commonUtils.formatDecimalValue(this.y,e,!0))}})),"bar"!=a.chart.type&&"column"!==a.chart.type&&"line"!==a.chart.type&&"areaspline"!==a.chart.type||(a.xAxis.labels.formatter=function(){var e=this.value;return e.length>23?$ESAPI.encoder().encodeForHTML(e.substring(0,23))+"...":$ESAPI.encoder().encodeForHTML(e)},"bar"!==a.chart.type&&(a.xAxis.labels.rotation=-45)),a.plotOptions.series.point={events:{click:function(e){$(renderingUtils.getTargetElem(e)).closest("div.dashBrdContent").addClass("ptClick"),CrmDashboard.fetchRecords(this,e),renderingUtils.stopEvent(e)}}},a.isDefaultChart&&(a.plotOptions.series.point={events:{click:function(e){CrmDashboard.fetchDefaultChartRecords(a.xAxis.categories,e,this)}}},a.legend.labelFormatter=function(){var e=0;if("Pipeline"!==this.name)for(var a=this.options.data.length,t=0;t<a;t++)e+=this.options.data[t];return this.name+(e?"("+e+")":"")}),a.processed=!0}n.highcharts(a),r=n.prepend("<br><br>").find(".highcharts-container")}a.isDefaultChart||(r.find("div.highcharts-data-labels").click((function(e){var a=$(renderingUtils.getTargetElem(e)),t=a.closest("div.dashBrdContent").addClass("ptClick");renderingUtils.stopEvent(e);var n=a.closest(".highcharts-data-labels").prevAll(".highcharts-data-labels").length,s=a.closest("div").prevAll("div").length;t.children("div").eq(1).highcharts().series[n].data[s].firePointEvent("click")})),t||r.addClass("cP").click((function(e){CrmDashboard.showReport(a.reportId,e)})))}else if(t&&"fromCustomHome"!=t)n.closest(".dashBrdContent").hide();else{var d=a.msg?a.msg:"crm.data.not.available";n.parent().hasClass("dashBrdContent_kpi")?n.html("<br><br>"+I18n.getMsg(d)):n.html("<br><br><div class='noDataDiv' align='center'><span></span><h4>"+I18n.getMsg(d)+"</h4></div>")}},fetchRecords:function(e,a){var t=[],n=$(renderingUtils.getTargetElem(a)).closest("div.dashBrdContent");n.addClass("ptClick"),setTimeout((function(){$(".ptClick").removeClass("ptClick")}),0);var s=e.category,r=e.series.userOptions,i=e.series.chart.userOptions.additionalInfo,l=i.category?i.category:i.series;if(l){-1!=(s=i.originalCategories&&void 0!==i.originalCategories[e.x]?i.originalCategories[e.x]:s).indexOf(",")&&(s=s.replace(/,/g,"\\,"));var o={api_name:l,comparator:"equal",value:"None"===s?"${EMPTY}":s};t.push(o);var d=i.yaxisFun+"##"+(i.yaxis?i.yaxis:"");if(r.index&&i.series){var c=r.index;c=i.originalGroups.length-c,-1!=(s="None"!==i.originalGroups[c]?i.originalGroups[c]:"${EMPTY}").indexOf(",")&&(s=s.replace(/,/g,"\\,")),o={api_name:i.series,comparator:"equal",value:s},t.push("and"),t.push(o)}else e.series.index&&(d=i["yaxis"+e.series.index+"Fun"]+"##"+(i["yaxis"+e.series.index]?i["yaxis"+e.series.index]:""));r.decimalDigits?r.decimalDigits:i.decimalDigits;var m=e.y,p={};p.module=i.module,p.criteria=JSON.stringify(t),p.summaryCol=d,p.summaryValue=m,p.action="getDetails";var h=n.attr("id");if(h&&"chartdiv"!==h&&"parentChartDiv"!==h)p.dbItemId=h;else if(document.NewReport&&validationUtils.formValidate()){var u=commonUtils.formData2QueryString(document.NewReport),f=objectUtils.parseURLParamString(u);if(f.stdDateFilterField){var v;if("Age in Days"===f.stdDateFilter||"Due in Days"===f.stdDateFilter){var g=f.stdageindays;g&&(v="stdDateFilter="+(g=f.stdageindayscondition+"###${AGE"+("Age in Days"===f.stdDateFilter?g:"+"+g)+"}"))}else f.startdate&&f.enddate&&(v="startDate="+f.startdate+",endDate="+f.enddate+",stdDateFilter="+crmReports.escapeSplChars(f.stdDateFilter));v&&(p.stdDateFilter=v+",stdDateFilterField="+crmReports.escapeSplChars(f.stdDateFilterField))}}var b=Lyte.Router.getURL({route:"crm.tab.reports.records",dynamicParams:[e.series.chart.userOptions.reportId],queryParams:p});window.lookUpWin=window.open(b,"","")}},fetchRecordsForTable:function(e,a,t,n){var s=[];if(a=a[0],e.originalCategories){if(e.originalCategories.length<=t)return;a=e.originalCategories[t]?e.originalCategories[t]:a}var r=$(renderingUtils.getTargetElem(event)).closest("div.dashBrdContent");r.addClass("ptClick"),setTimeout((function(){$(".ptClick").removeClass("ptClick")}),0),a&&-1!=(a+"").indexOf(",")&&(a=a.replace(/,/g,"\\,"));var i=e.category?e.category:e.series;if(i){var l={api_name:i,comparator:"equal",value:"None"===a?"${EMPTY}":a};s.push(l);var o=renderingUtils.getTargetElem(event),d=e.yaxisFun+"##"+(e.yaxis?e.yaxis:""),c=e.decimalDigits?parseFloat($(o).val()):$(o).val(),m=(c=$(o).closest("tr").find("td").eq(1).text(),Territory.getCurrencyObj(c));c=parseFloat(Territory.formatCurrencytoNum({yVal:c},m).yVal);var p={};p.module=e.module,p.criteria=JSON.stringify(s),p.summaryCol=d,p.summaryValue=c,p.dbItemId=r.attr("id"),p.action="getDetails";var h=Lyte.Router.getURL({route:"crm.tab.reports.records",dynamicParams:[n],queryParams:p});window.lookUpWin=window.open(h,"","")}},fetchDefaultChartRecords:function(e,a,t){var n=[],s=$(renderingUtils.getTargetElem(a)).closest("div.dashBrdContent"),r=t.category,i=t.series.userOptions,l=t.series.userOptions.recordType,o=t.series.chart.userOptions.additionalInfo,d=o[l.toUpperCase()];if(d){n=$.extend([],d.filters);var c=d.pattern}else i.filters&&(n=$.extend([],i.filters));var m=o.stageIds,p={searchfield:d&&d.searchfield?d.searchfield:o.searchfield,searchfieldtype:"T",searchModule:"Potentials"},h=t.index,u=$.extend({},p);if("Pipeline"===l&&m.length>h){var f=$.extend([],m).splice(h+1).join(",");u.searchfield="CrmPotential:PREVIOUSSTAGEID",u.condition=8,u.value=f,n.push(u),(u=$.extend({},p)).condition=8,u.value=f,n.push(u)}else u.condition=0,m.length>h?u.value=m[h]:(u.value=r,u.searchfield=u.searchfield.replace("ID","")),n.push(u);0===h&&"Loss"===l&&((u=$.extend({},p)).value=u.condition="${EMPTY}",c="( 1 and ( 2 or 3 ) )",n.push(u));var v=o.customFilters;if(v){var g=n.length;if(n.push.apply(n,v),c)for(var b=g+v.length;g<b;g++)c="( "+c+" and "+(g+1)+" )"}var C=Crm.getCrmBasePath()+"/ReportsRelatedCV.do?action=getChartData&module=Potentials&dbItemId="+s.attr("id")+"&type="+l+"&filters="+JSON.stringify(n);c&&(C+="&pattern="+encodeURIComponent(c)),window.lookUpWin=window.open(C,"","")},setNavigationDiv:function(e){var a=$("#reportsPagNation"),t=e.orderBy?e.orderBy:"ascending";if(e.totalRowCount=e.summaryJson&&e.summaryJson.info.more_records?e.totalRowCount+1:e.totalRowCount,e.totalRowCount>e.listLimitCount&&1==e.ReqFromIndex){var n="<div class='fR cP' id='showMoreDiv' onClick=\"CrmDashboard.navigateRecords('next', "+e.listLimitCount+","+(e.sortCol?"'"+e.sortCol+"','"+t+"'":void 0)+")\"><span class='vaM mR3 crmBaseColor crm-font-bold'>"+(e.ReqFromIndex+(e.totalRowCount-2))+"</span><span class='dIB next vaM'></span></div><span class='dIB mL10 mR10 vaM crmBaseColor'>to</span> <div class='fL' id='showPreviousDiv'><span class='dIB previousDisabled vaM'></span><span class='vaM mL3 crmBaseColor crm-font-bold'>"+e.ReqFromIndex+"</span></div>";a.append(n)}else e.totalRowCount<e.listLimitCount&&1!=e.ReqFromIndex&&(n="<div class='fR' id='showMoreDiv'><span class='vaM mR3 crmBaseColor crm-font-bold'>"+(e.ReqFromIndex+e.totalRowCount-1)+"</span><span class='dIB nextDisabled vaM'></span></div><span class='dIB mL10 mR10 vaM crmBaseColor'>to</span> <div class='fL  cP' id='showPreviousDiv' onClick=\"CrmDashboard.navigateRecords('previous', "+e.listLimitCount+")\"><span class='dIB previous vaM'></span><span class='vaM mL3 crm-font-bold crmBaseColor'>"+e.ReqFromIndex+"</span></div>",a.html(n));1!=e.ReqFromIndex&&e.totalRowCount>e.listLimitCount&&(n="<div class='fR cP' id='showMoreDiv' onClick=\"CrmDashboard.navigateRecords('next', "+e.listLimitCount+","+(e.sortCol?"'"+e.sortCol+"','"+t+"'":void 0)+")\"><span class='vaM mR3 crm-font-bold crmBaseColor'>"+(e.ReqFromIndex+(e.totalRowCount-2))+"</span><span class='dIB next vaM'></span></div><span class='dIB mL10 mR10 vaM crmBaseColor'>to</span> <div class='fL  cP' id='showPreviousDiv' onClick=\"CrmDashboard.navigateRecords('previous', "+e.listLimitCount+")\"><span class='dIB previous vaM'></span><span class='vaM mL3 crmBaseColor crm-font-bold'>"+e.ReqFromIndex+"</span></div>",a.html(n));var s={module:e.module,isAjax:!0};"drillDown"===e.reqType?(s.action=e.isAnalyticDrillDown?"fetchRecords":"getDetails",s.criteria=JSON.stringify(e.criteria),s.reportId=e.reportId,e.dbItemId?(s.dbItemId=e.dbItemId,s.dbId=e.dbId):(s.summaryCol=e.summaryCol,s.summaryValue=e.summaryValue,s.sortCol=e.sortCol,s.orderBy=e.orderBy,e.stdDateFilter&&(s.stdDateFilter=e.stdDateFilter)),e.subDbItemId&&(s.subDbItemId=e.subDbItemId)):(s.filters=JSON.stringify(e.filters),s.dbItemId=e.dbItemId,s.action="getChartData",e.pattern&&(s.pattern=e.pattern)),s.FROM_INDEX=e.ReqFromIndex,"Appointments"===e.module&&"viewAppointments"===e.actions&&(s.action=e.actions,s.title=e.title),a.data("params",s)},navigateRecords:function(e,a,t,n){var s=$("#reportsPagNation").data("params"),r={criteria:s.criteria};"newSort"!==e&&(r.FROM_INDEX="next"===e?s.FROM_INDEX+a:s.FROM_INDEX-a),t&&(r.sortCol=t,n&&(r.orderBy=n)),s.dbItemId?(s.subDbItemId&&(r.subComponentId=s.subDbItemId),Lyte.Router.transitionTo({route:"crm.tab.dashboards.dashboardId.records",dynamicParams:[s.dbId,s.dbItemId],queryParams:r}).data={isAjax:!0}):("Appointments"===s.module&&"viewAppointments"===s.action?(r.action=s.action,r.module=s.module,r.title=s.title):(r.action="getDetails",r.module=s.module,r.summaryCol=s.summaryCol,r.summaryValue=s.summaryValue,s.stdDateFilter&&(r.stdDateFilter=s.stdDateFilter)),Lyte.Router.transitionTo({route:"crm.tab.reports.records",dynamicParams:[s.reportId],queryParams:r}).data={isAjax:!0})},showReport:function(e,a,t){var n=$(renderingUtils.getTargetElem(a)),s=n.attr("class");if(!s||-1===s.indexOf("highcharts-legend-nav")){t=t||"dashBrdContent";var r,i=n.closest("div."+t);if(!$(i).hasClass("ptClick"))r=Lyte.Router.getURL({route:"crm.tab.newReports.view",dynamicParams:[e]}),window.lookUpWin=window.open(r,"","")}},showDashboardSettings:function(){var e=$("#dashboardList");$("#dashboardList a").mouseenter((function(){$(this).find(".ds_setting").show()})).mouseleave((function(){var e=$(this).find(".ds_setting");e.hasClass("sankar")||e.hide()})),Territory.doHighLight("#dashboardList",e.find(".sel").eq(0),250,$(window).height()-280)},drillDownSort:function(){var e=JSON.parse($(event.target).attr("data-params")),a=e.orderBy;"false"!==e.isSortable&&(a=a||"ascending",CrmDashboard.navigateRecords("newSort",e.listLimitCount,e.fieldId,a))},drillDownSortForQuickchart:function(){var e=JSON.parse($(event.target).attr("data-params")),a=e.orderBy?e.orderBy:"ascending";CrmDashboard.navigateRecords("newSort",e.listLimitCount,e.apiName,a)},setDomainNames:function(e,a){var t=JSON.parse($(a).attr("data-params"));t.action="setDomainNames";var n=$("#domainList"),s=n.val().trim();if(s){var r=/^[0-9a-zA-Z][-.\w]*(:[0-9])*(\/?)([a-zA-Z0-9\-\.\?\,\:\'\/\\\+=&amp;%\$#_\[\]@!\(\)\*;~]*)?$/,i=s.split(","),l=i.length;s="";for(var o=0;o<l;o++)if(i[o]){if(!r.test(i[o]))return void renderingUtils.displayErrorDiv("domainList",void 0,I18n.getMsg("crm.mail.send.invalidhostname")+"\n"+$ESAPI.encoder().encodeForHTML(i[o]));s=s+i[o]+","}s&&(s=s.substr(0,s.length-1))}else{if("true"===n.attr("data-defvalue"))return n.after('<div style="height:10%" id="displayContent_domainList">'+I18n.getMsg("crm.label.no.domains.given")+"</div>"),void n.attr("data-defvalue","changed");if(!n.attr("data-defvalue"))return void crmui.hidePopup("dashboardPopup")}t.domainNames=s,t[csrfParamName]=encodeURIComponent(csrfToken),CrmDashboard.loadDashboards(void 0,void 0,t)},showPrintPreview:function(e,a){var t=JSON.parse($(a).attr("data-params")),n=document.title;$("body").append(CrmDashboard.printChartOptions);var s=$("#chartdiv_"+t.dbItemId),r=$("#chartdiv");r.before($("#comp_"+t.dbItemId).clone().removeClass("fL").attr("align","center"));var i=$("#printDashView");if(s.find("#tablediv").length)r.html(s.find("#tablediv").html());else if(s.parent().hasClass("dashBrdContent_kpi"))r.html(s.html());else{if(!s.length||!s.highcharts())return void i.remove();var l=s.highcharts().options;l.plotOptions.series.animation=!1,r.highcharts(l),l.plotOptions.series.animation=!0}mR(Crm.getCrmBasePath()+"/PrintPreviewListView.do?",(function(e){e+=i.html(),i.remove();var a=window.open("/crm/html/content1.html","Printview","width=700,height=600,menubar=no,toolbar=no,location=no,status=no,scrollbars=yes,resizable=yes");a.document.writeln(e),a.document.close(),a.document.title=n}))},postRefreshComponentActions:function(e){e.closest(".refreshAnim").removeClass("ref_visible"),e.find(".tb_small_loader").removeClass("ref_loading").addClass("ref_complete"),setTimeout((function(){e.find(".tb_small_loader").removeClass("ref_complete")}),800)},showSelectedHomePage:function(e,a,t){var n=renderingUtils.windowHeight;$(".hview-refresh").remove(),t&&(e.currentDate=t),e.maxComp=CrmDashboard.maxComponentAllowed;var s=$("#HomeSelectorDD").find(".sel");a||(a=s.attr("id"));var r=parseInt(s.attr("data-category")),i=$("#homePageView");if(3!==r){e.isAdmin=Crm.userDetails.IS_ADMIN,i.html(Handlebars.templates.MainHomePage(e));var l={customizationId:a,category:r};if(!CrmDashboard.refreshPageIcon){CrmDashboard.refreshPageIcon=Handlebars.compile('<a id="refreshPage_{{customizationId}}" aria-label="{{getI18n("crm.homepage.refresh.all.components")}}" lt-prop-title="{{getI18n("crm.homepage.refresh.all.components")}}" data-zcqa="home_refresh" class="fR hview-refresh" href="javascript:" data-cid="refreshAllComponents" data-params=\'{"clickId":"refreshAllComponents", "action":"refreshAllComponents", "pageId": "{{customizationId}}", "category": "{{category}}"}\' onmouseover="newshowtt(\'{{getI18n \'crm.homepage.refresh.all.components\'}}\',true)" onmouseout="newhidett()"><div class="tb_small_loader vaM" id="tb_small_loader" style="  "><span class="ld_init" id="ld_init"><crmutil-icon non-lyte="true" icon-name="reload" icon-class="zcicn-reload zcicn16 crmBaseIcon"></crmutil-icon></span><span class="ld_process"></span></div></a>')}$("#homeSelect").append(CrmDashboard.refreshPageIcon(l)),0===r||2===r?($(".sortClass").attr("style","cursor:auto").removeClass("sortClass"),$(".moreOptionIcon ,.HomemoreOptionIcon").remove()):(CrmDashboard.enableSortable("showHome","dashBrdContent",!0),CrmDashboard.enableResize("dashBrdContent",!0),CrmDashboard.setaddComponentSize(),CrmDashboard.showaddcomponentUi()),i.css("height",n-(i.position().top+26)).scroll($L.debounce((function(){CrmDashboard.populateVisibleComponents(this.id)}),300)),e.layoutComponents?(CrmDashboard.populateCharts(e.layoutComponents,"homePageView",n),CrmDashboard.populateVisibleComponents("homePageView")):2==r&&$("#noComponentDiv").show();var o=$("#homePage_cv_selector option:selected");(Crm.userDetails.isBestTimeEnabled&&Crm.userDetails.isZiaReminderEnabled&&o.text()===I18n.getMsg("My Todays Tasks","Tasks")||o.text()===I18n.getMsg("My Today+Overdue Tasks","Tasks"))&&$("#remindByZia").attr("cvid",o.val()).addClass("diZiaDashBoard")}else i.html(e)},replaceTaskDiv:function(e,a){e.fromPage="homePage",e.category="0",e.modname=I18n.getMsg(moduleRecordMapping[a].plural_label);var t=!0;e.body&&e.body[e.currentOption]&&(e.body[e.currentOption]=void 0,t=!1),e.isLast=t,CrmDashboard.renderCV(e,e.layoutId,e.category,a),CrmDashboard.needToLoadContactImage&&CrmDashboard.populateContactsImageMapAndLoadCv(e,e.layoutId,e.category,a)},changeDefaultTasks:function(e){var a=$(e),t=a.closest(".dashBrdContent"),n=t.find(".dbBtnRefresh"),s=JSON.parse(t.attr("data-params")),r=a.val(),i="currentOption"===a.attr("id"),l=JSON.parse(n.attr("data-params"));i?(s.currentOption=r,l.currentOption=r):(s.dashletId=r,l.dashletId=r),n.attr("data-params",JSON.stringify(l)),t.attr("data-params",JSON.stringify(s)),s.action=i?"updateDefaultHomeCVRange":"updateDefaultHomeCV",s[csrfParamName]=encodeURIComponent(csrfToken),s.url=Crm.getCrmBasePath()+"/HomePageLayout.do",t.find("#layout_"+s.layoutId).empty(),CrmDashboard.loadDashboards(void 0,void 0,s);var o=$('#homePage_cv_selector option[value="'+r+'"]').text();t[0].setAttribute("lt-prop-landmark-label",I18n.getMsg("crm.landmark.region",o)),Crm.userDetails.isBestTimeEnabled&&Crm.userDetails.isZiaReminderEnabled&&(o===I18n.getMsg("My Todays Tasks","Tasks")||o===I18n.getMsg("My Today+Overdue Tasks","Tasks"))?($("#remindByZia").attr("cvid",r).addClass("diZiaDashBoard").hide(),$(a).parents(".dashBrdContent").find(".classicViewRight").addClass("ziarefreshPos")):($(a).parents(".dashBrdContent").find(".classicViewRight").removeClass("ziarefreshPos"),$("#remindByZia").hide().removeAttr("cvid").removeClass("diZiaDashBoard"))},searchDashboard:function(e,a,t){$("#dummyLiElm").remove();var n=$(e).val().toLowerCase();if($("#"+a).find("."+t).each((function(e,a){-1!=$(this).text().trim().toLowerCase().indexOf(n)||-1!=$(this).text().trim().toUpperCase().indexOf(n)||-1!=$(this).text().trim().indexOf(n)?$(this).show():$(this).hide()})),0==$("#"+a+" a:visible").length&&0==$("#"+a).find("."+t+":visible").length){var s=$("#"+a);featuresAvailable.NEXTGENUI_ENABLED?s.append("<li id='dummyLiElm' class='dF flexDC flexOne mT100 pL20 pR20'><span class='dIF jcCenter w100_per nomatch-icon mB20'><crmutil-icon class='noMatch-icon-trans' icon-name='nextgen-Dashboard' icon-class='zcicn-nextgen-Dashboard'></crmutil-icon></span><span class='p0 dIB aligncenter w100_per nomatch-txtclr '>"+I18n.getMsg("crm.module.matching.empty.message",I18n.getMsg("Dashboard"))+"</span></li>"):s.append("<li id='dummyLiElm' class='pL25'  style='display: list-item;clear: both;'>"+I18n.getMsg("crm.module.matching.empty.message",I18n.getMsg("Dashboard"))+"</li>")}else $L("#"+a).scrollTop(0)},customizeHomePage:function(e,a){var t=JSON.parse($(a).attr("data-params")),n=t.operation,s={};switch("homePage"===t.from?(s.from=t.from,s.category=t.category,s.customizationId=t.customizationId):s.from="settings",n){case"create":Lyte.Router.transitionTo({route:"crm.settings.create-home-customization"});break;case"edit":Lyte.Router.transitionTo({route:"crm.settings.edit-home-customization",dynamicParams:[t.customizationId]}).data=s;break;case"clone":Lyte.Router.transitionTo({route:"crm.settings.clone-home-customization",dynamicParams:[t.customizationId]});break;default:Lyte.Router.transitionTo({route:"crm.settings.section.home-customization"})}}};CrmDashboard.showCustomViews=function(e){document.querySelector("#customView crm-customview-dropdown").component.setData("module",e.value)},CrmDashboard.validateLayout=function(e){var a={clickId:"addorUpdate"};a.type=$("[name=type]:checked").val(),a.type||(a.type=$("[name=type]").val());var t=$("#hp_addlayout").find(".errorMsgDesc");t.closest(".errorFieldP").removeClass("errorFieldP"),t.remove();var n=$("#isFromCustomHome").val();if(!$("[name=type]:checked").val()&&!$('input[name="type"][type="hidden"]').val())return commonUtils.showErrorMsg(I18n.getMsg("crm.field.valid.check",[I18n.getMsg("crm.dashboard.component.type")]),$('input[name="type"]')),!1;var s=$(".customviewdiv:visible").length;if(s&&""===$("#module").val().trim())return commonUtils.showErrorMsg(I18n.getMsg("crm.alert.select.module"),$("#module")),!1;if(s&&!commonUtils.emptyCheck("cvid","crm.label.customview",void 0,void 0,"inline"))return!1;if("true"===n){var r=$("#dashletId").val();return CustomHomePage.updateComponent(r),!1}var i=$("#layoutName"),l=i.val(),o=getClrTxtPtnResChars(l,/[^~`#^&*+={}[\]|\;"<>\\]/g);if(!commonUtils.emptyCheck("layoutName","crm.component.name",void 0,void 0,"inline"))return i.focus(),!1;if(""!=o)return commonUtils.showErrorMsg(I18n.getMsg("crm.clearTextPattern.validationFail.alert",[I18n.getMsg("crm.component.name"),o]),i),i.focus(),!1;a.url=getAttr(e,"action");var d=$("#layoutId");d.length?(a.layoutId=d.val(),a.displayMsg=I18n.getMsg("crm.massupdate.updatedsuccesfully")):a.displayMsg=I18n.getMsg("crm.label.added.successfully");var c=$("#componentId");c&&c.is(":visible")&&(a.componentId=c.val(),a.dbId=$("#componentId :selected").parent().attr("id")),a.hideObj="dashboardPopup";var m=commonUtils.formData2QueryString(e)+"isload=true&"+CrmDashboard.crm_csrf;return"undefined"!=typeof CrmAnalytics&&"cv"==a.type&&(m=m+"&layout="+AnalyticsChart.getTempWidgetLayout("chart")),"undefined"!=typeof CrmAnalytics&&a.dbId?(a.queryStr=m,CrmAnalytics.getComponentJson(a.componentId,a.dbId,a)):CrmDashboard.loadDashboards(void 0,void 0,a,m),a.type&&"kiosk"===a.type&&Crm.client_tracking("Kiosk - Association",{"Associated Place":"Dashboard"}),!1},CrmDashboard.addClassToHomeType=function(){var e=$("#sLogo");e.attr("data-src")&&e.html('<img src="'+e.attr("data-src")+'" name="compLogo" id="compLogo">'),Crm.userDetails.RTL_ENABLED&&$("#compLogo").css("margin-left","10px")},CrmDashboard.selectStackedType=function(e){$(".tb_newmenu a").removeClass("sel"),(e=$(e)).addClass("sel");var a=e.attr("data-stacked");"2"===a?$("#yaxis2labelPar").show():$("#yaxis2labelPar").hide();var t=$("#grouping, #series, #groupingPar, #seriesPar");t.hide(),"1"!==a&&"100"!==a||(t.show(),$("#series option[value='CrmActivity:ACTIVITYTYPE:Host or Participant']").remove(),$("#series option[value='CrmActivitiesSharing:SHAREDTO:Host or Participant']").remove());var n=e.attr("data-type");$("#chartType").val(n),$("#chartimg").removeClass().addClass(CrmDashboard.typeVsChartImg[n])},CrmDashboard.selectChartType=function(e,a){var t=["13","14","15","16"],n=["3","5","10","17"],s=$(".dash-container");s.removeClass("sel"),!e&&a?e=s.filter('[data-type="'+a+'"]').addClass("sel"):a=(e=$(e)).addClass("sel").attr("data-type"),$("#stackedSec").hide(),$(".secHeadMarg").css({"padding-bottom":"4px"}),$("#grouping, #series, #totalrows, #maxRows, #groupingPar, #seriesPar, #totalrowsPar, #maxRowsPar, #yaxis2Par, #yaxis2labelPar").hide(),$("#xaxisdiv, #yaxisLabel").show(),t.contains(a)?CrmDashboard.setStackedChartType(t,a,"13"):n.contains(a)?CrmDashboard.setStackedChartType(n,a,"3"):"12"===a?$("#grouping, #series, #groupingPar, #seriesPar").show():"0"===a&&$("#totalrows, #maxRows, #totalrowsPar, #maxRowsPar").show(),$("#chartType").val(a),$("#chartimg").removeClass().addClass(CrmDashboard.typeVsChartImg[a])},CrmDashboard.setStackedChartType=function(e,a,t){$(".secHeadMarg").css({"padding-bottom":"10px"});for(var n=$("#stackedSec").show().find("a").removeClass("sel"),s=0;s<4;s++)n.eq(s).attr("data-type",e[s]);var r=n.filter('[data-type="'+a+'"]').addClass("sel");CrmDashboard.selectStackedType(r),$(".dash-container").filter('[data-type="'+t+'"]').addClass("sel")},CrmDashboard.showLayout=function(e,a){var t=$("#lastSortOrderId").val();t>=CrmDashboard.maxComponentAllowed?renderingUtils.showCustomAlert(I18n.getMsg("crm.dashboard.add.component.error.msg",CrmDashboard.maxComponentAllowed),void 0,!1):20===CrmDashboard.maxComponentAllowed&&t>=5&&"L"==Crm.userDetails.LICENSE_TYPE?renderingUtils.showCustomAlert(I18n.getMsg("crm.alert.add.component1"),void 0,!1):CrmDashboard.loadDashboards(e,a)},CrmDashboard.changeType=function(e,a){if("cv"===e&&!document.querySelector("#customView crm-customview-dropdown")){var t=$("#module").val(),n=document.querySelector("#cvid").value;Lyte.Component.render("crm-customview-dropdown",{module:t,cvId:n},"#customView .labelValCreate div")}CrmDashboard.isKioskAvailable=$(".kioskHomeComp").length>0,Crm.isKioskEnabled&&CrmDashboard.isKioskAvailable&&"P"!==Crm.userDetails.LICENSE_TYPE&&$("#dashboardPopup").addClass("kioskDashBoard");var s=$("#nextSectionBtn_uif");s.hide();var r=$("#saveEditComponentDiv");r.css("display","inline-block");var i=$("#tabDivCreateComponent");if(i.hide(),$("#nextSectionBtn, .widgetInfoDiv, .kioskInfoDiv").hide(),"Dashboards"===e)$(".customviewdiv").hide(),$(".dashboarddiv").show(),$("#dashboardPopup #tabDivCreateComponent").show(),$("#tabDivCreateComponent #layoutName").focus();else if($('input[name="type"]').is(":checked")&&void 0===e||"cv"!==e&&"cv"!==$(document.LayoutForm).find('input:hidden[name="type"]').val()||"widgets"===e||"kiosk"===e)"widgets"==e?($("#nextSectionBtn").show(),r.hide(),i.hide(),$(".customviewdiv,.dashboarddiv").hide()):"kiosk"===e?(s.css("display","inline-block"),r.hide(),i.hide(),$(".customviewdiv,.dashboarddiv").hide()):($(".dashboarddiv").hide(),$(".customviewdiv").hide(),thirdPartyUtils.bindSelect2(".customviewdivSel"));else{var l=$("#dashboardPopup #tabDivCreateComponent");a?l.show():l.hide(),$("#dashboardPopup .dashboarddiv").hide(),$("#dashboardPopup .customviewdiv").show(),thirdPartyUtils.bindSelect2("#module"),""!==$("#dashboardPopup #customView .newSelect #cvid").val()?l.show():l.hide()}""!==$("#module").val()&&$("#cvModuleDiv").is(":visible")?$("#customView").css("display",""):$("#customView").css("display","none");var o=$("#dashboardPopup");o.hasClass("newInputStyleEle")&&o.find("input,select,textarea,.newSelect").focusin(setFocusClass).blur(removeFocusClass)},CrmDashboard.associateWidgets=function(e){$("#dashboardPopup").html(createLayoutContent),$("#nextSectionBtn, #nextSectionBtn_uif, .customviewdiv, .dashboarddiv").hide(),$("#saveEditComponentDiv").show(),$(".widgetInfoDiv").show(),$("#widgetName").val($.trim($("#div_"+e).attr("wid_name"))),$("#widgetId").val(e),$("[name=type]").val(["widgets"]),$L("crm-widgets-listview-popup")[0].component.setData("showListPopup",!1),showAnimatePopup("dashboardPopup"),$("#dashboardPopup #tabDivCreateComponent").css("display","block")},CrmDashboard.initWidgets=function(e){$("#dashboardPopup crm-customview-dropdown").remove(),createLayoutContent=$("#dashboardPopup").html(),Lyte.injectResources(networkUtils.returnDependencyFiles(["crm-widget-container.js","lyte-fileupload.js","crux-form-component.js","crm-widget-data-store.js","crm-help-link.js"],ResourceConstants.CRMClient).concat(networkUtils.returnDependencyFiles(["widget/crm-widget-container.css"],ResourceConstants.CRMClient,ResourceConstants.LESSDEFAULT)).concat(networkUtils.returnDependencyFiles([networkUtils.getI18nJSUrl("widgets")],ResourceConstants.CRM)),void 0,(function(){var e=$("input[name=customizationId]").val();hideAnimatePopup("dashboardPopup"),Lyte.registeredMixins["crm-widget-utils"].loadWidgetListViewPopup("HOME_PAGE_DASHBOARD",void 0,e)}))},CrmDashboard.associateKiosks=function(e){var a=$("#dashboardPopup");a.html(CrmDashboard.createLayoutContent),$("#nextSectionBtn, #nextSectionBtn_uif, .customviewdiv, .dashboarddiv").hide(),$("#saveEditComponentDiv").css("display","inline-block"),$(".kioskInfoDiv").css("display","block");var t=$.trim($("#div_"+e).attr("kiosk_name"));$("#kioskName").val(t),$("#kioskId").val(e),$("#kioskDashRadioBtn").val(["kiosk"]),$L("crm-kiosk-listview-popup")[0].component.setData("showListPopup",!1),showAnimatePopup("dashboardPopup"),a.css("display","block"),$("#tabDivCreateComponent").css("display","block")},CrmDashboard.initKioskFlows=function(){var e=0;$(".dashBrdContent").each((function(){var a=this.getAttribute("data-params");if(a){var t=JSON.parse(a);t&&t.module&&"Kiosks"===t.module&&e++}}));var a="A"===Crm.userDetails.LICENSE_TYPE?3:"P"===Crm.userDetails.LICENSE_TYPE?1:5;if(e>=a)_cruxUtils.showCustomAlert({params:{ltPropPrimaryMessage:I18n.getMsg("crm.kiosk.dashboard.add.component.error.msg",a)}});else{$("#dashboardPopup .customViewComp").remove(),CrmDashboard.createLayoutContent=$("#dashboardPopup").html();var t=$("input[name=customizationId]").val(),n=networkUtils.returnDependencyFiles(["kiosk-listview-component.js","crm-model-kiosk.js","kiosk-pb-builder-output.js","kiosk-associate-record-pop.js","crm-emailconversation-view-helpers.js","lyte-fileupload.js","kiosk-file-api.js"],ResourceConstants.CRMClient);n=(n=(n=n.concat(networkUtils.returnDependencyFiles([networkUtils.getI18nJSUrl("kiosk")],ResourceConstants.CRM))).concat(networkUtils.returnDependencyFiles(["zlib_phonenumber.js"],ResourceConstants.CRM))).concat(networkUtils.returnDependencyFiles(["kiosk-common.css","kiosk-associate-record-pop.css"],ResourceConstants.CRMClient,ResourceConstants.LESSDEFAULT)),Lyte.injectResources(n,void 0,(function(){hideAnimatePopup("dashboardPopup"),Lyte.registeredMixins.kiosk_execute.loadKioskListViewPopup("home_page",null,t)}))}},CrmDashboard.getHighChartOptions=function(){return{colors:["#F26E6E","#FF92BE","#8C79DE","#2C97DE","#0AD3FF","#38E4AE","#63D471","#ADD463","#ED7F65","#E99E5B","#FCE970","#C39878","#EBDCB5"],chart:{style:{fontFamily:"",fontSize:"12px"}},tooltip:{borderWidth:2,style:{padding:0},useHTML:!0,formatter:function(){if(this.series.chart.options&&this.series.chart.options.additionalInfo&&void 0!==this.series.chart.options.additionalInfo.isBlueprint)return ProcessBuilder.getChartInfo(this);var e;if(CrmDashboard.isDateField(this))e=Utils.convertTimeInDoubleToReadableForm(this.y/6e4);else{var a=this.series.chart.options.additionalInfo?this.series.chart.options.additionalInfo.decimalDigits:void 0;e=commonUtils.formatDecimalValue(this.y,a,!0)}return"<b>"+$ESAPI.encoder().encodeForHTML(this.series.name)+"</b></br>"+$ESAPI.encoder().encodeForHTML(this.key)+" : "+e}},plotOptions:{column:{dataLabels:{formatter:function(){if(CrmDashboard.isDateField(this))return Utils.convertTimeInDoubleToReadableForm(this.y/6e4);var e=void 0!==this.series.userOptions.decimalDigits?this.series.userOptions.decimalDigits:this.series.chart.options.additionalInfo?this.series.chart.options.additionalInfo.decimalDigits:void 0;return this.total&&this.percentage&&"percent"===this.series.chart.options.plotOptions.column.stacking?parseInt(this.percentage)+"%":this.total&&0===this.y?"":commonUtils.formatDecimalValue(this.y,e,!0)+""}}},bar:{dataLabels:{formatter:function(){if(CrmDashboard.isDateField(this))return Utils.convertTimeInDoubleToReadableForm(this.y/6e4);var e=void 0!==this.series.userOptions.decimalDigits?this.series.userOptions.decimalDigits:this.series.chart.options.additionalInfo?this.series.chart.options.additionalInfo.decimalDigits:void 0;return this.total&&this.percentage&&"percent"===this.series.chart.options.plotOptions.bar.stacking?parseInt(this.percentage)+"%":this.total&&0===this.y?"":commonUtils.formatDecimalValue(this.y,e,!0)+""}}},areaspline:{dataLabels:{formatter:function(){if(CrmDashboard.isDateField(this))return Utils.convertTimeInDoubleToReadableForm(this.y/6e4);var e=this.series.chart.options.additionalInfo?this.series.chart.options.additionalInfo.decimalDigits:void 0;return 0===this.y?"":commonUtils.formatDecimalValue(this.y,e,!0)+""}}},pie:{dataLabels:{formatter:function(){if(CrmDashboard.isDateField(this))return Utils.convertTimeInDoubleToReadableForm(this.y/6e4);var e=void 0!==this.series.userOptions.decimalDigits?this.series.userOptions.decimalDigits:this.series.chart.options.additionalInfo?this.series.chart.options.additionalInfo.decimalDigits:void 0;return $ESAPI.encoder().encodeForHTML(this.point.name)+"<br>"+commonUtils.formatDecimalValue(this.y,e,!0)+" ( "+this.percentage.toFixed(2)+"% )"}}},funnel:{dataLabels:{formatter:function(){return $ESAPI.encoder().encodeForHTML(this.point.name)}}}},legend:{labelFormatter:function(){var e;try{e=this.series&&this.series.chart&&this.series.chart.renderTo&&this.series.chart.renderTo.getAttribute("id")}catch(a){e=""}return"zBSPieChart"===e?this.name:$ESAPI.encoder().encodeForHTML(this.name)}},yAxis:{labels:CrmDashboard.yAxisLabelConfigJson}}},CrmDashboard.initChart=function(){Crm.isZohoChartsEnabled||Highcharts.setOptions(CrmDashboard.getHighChartOptions())},CrmDashboard.setClickEvents=function(e,a){a=a||"tabDivCreate",$("#"+e).find("."+a).click((function(e){if($(this).find("select").length){var a=$(renderingUtils.getTargetElem(e));if(a.parent("[class^=chosen]").length||a.filter("[class^=chosen]").length)return void($(this).closest(".dashboarddiv:visible").length&&$("#tabDivCreateComponent #layoutName").focus());$("body").trigger("click"),sE(),$(this).find("select").trigger("select2:open")}else $(this).children().find("#combo").length&&0===$(this).find("#optionsHolder:visible").length?($("body").trigger("click"),sE(),$(this).children().find("#combo").click()):$(this).find('input[type="text"]').length?$(this).find('input[type="text"]').focus():$(this).find("textarea").length&&$(this).find("textarea").focus()}))},CrmDashboard.removeCachedVal=function(e){CrmDashboard.chartCache[e]=void 0},CrmDashboard.findAndRemoveCachedVal=function(e){for(var a in CrmDashboard.chartCache)if(CrmDashboard.chartCache[a].dashletId===e){CrmDashboard.chartCache[a]=void 0;break}},CrmDashboard.formFiltersForDefaultCharts=function(e,a){for(var t=$("#"+a+"_filters").find("#datefilter"),n=e.dateFilters,s=n.length,r="",i=0;i<s;i++){var l=n[i];r+='<option value="'+$ESAPI.encoder().encodeForHTMLAttribute(l.val)+'" '+(l.sdate?'data-sdate="'+l.sdate+'" data-edate="'+l.edate+'"':"")+" "+(l.selected?"selected":"")+">"+$ESAPI.encoder().encodeForHTML(l.displayLabel)+"</option>"}t.append(r),thirdPartyUtils.bindSelect2(t),t.trigger("onchange"),CrmDashboard.formUserFilter(a)},CrmDashboard.changeFilters=function(e){var a=(e=$(e)).closest(".report_FilterSection"),t=e.find("option:selected");"${AGE"===e.val()?(a.find("#ageindaysfields").show(),a.find("#datefields").hide()):(a.find("#ageindaysfields").hide(),t.attr("data-sdate")?(a.find("#startdate").val(t.attr("data-sdate")),a.find("#enddate").val(t.attr("data-edate"))):a.find("#startdate, #enddate").val(""),a.find("#datefields").show())},CrmDashboard.applyFilter=function(e){var a=$("#"+e+"_filters"),t=[],n={searchfieldtype:"DT",searchfield:"CrmPotential:CREATEDTIME",searchModule:"Potentials"},s=a.find("#datefilter").val();if("${AGE"===s){var r=a.find("#ageindays").val();if(!r)return;n.value=a.find("#selDays").find("select").val()+r+"}",n.condition=6}else if("custom"===s){n.condition=14;var i=a.find("#startdate").val(),l=a.find("#enddate").val();if(!CrmDateUtils.dateValidate("startdate","startdate",void 0,void 0,a.find("#startdate")[0])||!CrmDateUtils.dateValidate("enddate","enddate",void 0,void 0,a.find("#enddate")[0]))return;if(n.value=a.find("#startdate").val()+","+a.find("#enddate").val(),Utils.getDayDiff(new Date(l),new Date(i))>93)return void renderingUtils.showCustomAlert("Please provide a date interval within 3 months",void 0,!1)}else n.condition=14,n.value=s;t.push(n);var o=a.find("#userFilter");"0"!==o.val()&&((n=JSON.parse(o.attr("data-params"))).value=o.val(),t.push(n));var d=JSON.parse($("#"+e).attr("data-params"));d.filters=JSON.stringify(t),CrmDashboard.loadDashboards(void 0,void 0,d)},CrmDashboard.formUserFilter=function(e){var a=$("#"+e+"_filters").find("#userFilter"),t=Crm.userDetails.USER_ID;void 0===InfoForDisplay?loadDataForDisplayAndMentions(!1,!0,!1,!1,(function(){CrmDashboard.formUserFilterDetails(a,t,InfoForDisplay)})):CrmDashboard.formUserFilterDetails(a,t,InfoForDisplay)},CrmDashboard.formUserFilterDetails=function(e,a,t){var n=JSON.parse(t);n=n.filter((function(e){return"user"==e.type}));for(var s=Crm.userDetails.NAME_FORMAT,r=s.indexOf("First")<s.indexOf("Last"),i=n.length,l="",o=0;o<i;o++){var d=n[o];if(r)var c=(d.firstName&&0!=d.firstName.length?d.firstName+" ":"")+d.lastName;else c=(d.lastName&&0!=d.lastName.length?d.lastName+" ":"")+d.firstName;l+='<option value="'+d.id+'">'+$ESAPI.encoder().encodeForHTML(c)+"</option>"}"Administrator"===Crm.userDetails.PROFILE_NAME&&(l+='<option value="0">'+I18n.getMsg("AllUsers")+"</option>",a="0"),e.append(l),e.val(a),thirdPartyUtils.bindSelect2(e)},CrmDashboard.refreshPageComponents=function(e,a){var t=$(a);t.attr("data-params")&&(dataObj=JSON.parse(t.attr("data-params")));$(".hview-refresh .tb_small_loader").addClass("ref_loading");if(CrmDashboard.isAnalyticsEnabled&&$(".dashboardContent").empty(),$(".dashBrdContent").each((function(){delete CrmDashboard.chartCache[this.id];var e=$(this);e.attr("data-loaded",!1),CrmDashboard.isAnalyticsEnabled&&CrmAnalytics.insertLoader(e)})),CrmDashboard.isAnalyticsEnabled){var n="/crm/v2/Home/"+dataObj.pageId+"/refresh";CrmAnalytics.getApiData(n,crmConstants.requestMethods.POST,(function(e){CrmDashboard.loadDashboards(void 0,void 0,dataObj),commonUtils.showHideLoadingDiv(!1)}))}else CrmDashboard.loadDashboards(void 0,void 0,dataObj)},CrmDashboard.populateContactsImageMapAndLoadCv=function(e,a,t,n){for(var s=e.heading,r=s.length,i=!1,l=0,o=0;o<r;o++){if("CONTACTID"===s[o].COLUMNNAME){i=!0,l=o;break}}var d=e.body;if(i&&d.length){var c=CrmDashboard.getContactIds(d,l);CrmDashboard.loadContactImages(c)}},CrmDashboard.renderCV=function(e,a,t,n){CrmDashboard.homePageGroupCount=CrmDashboard.homePageGroupCount+1;var s=Handlebars.templates.moduleCV(e),r=Crm.userDetails.isAccessibilityConfigSupported&&!featuresAvailable.NEXTGENUI_ENABLED;if(s=(s=s.replace("cx-prop-group-index","cx-prop-group-index="+CrmDashboard.homePageGroupCount)).replace("cx-prop-aria","cx-prop-aria="+r),$("#layout_"+a).html(s),Crm.userDetails.isAccessibilityConfigSupported){var i=$L("#analyticalHomeCont");i.bindAria=Lyte.registeredMixins["crux-aria-table-mixin"].bindEventForAria.bind(i[0]),i.bindAria()}if(Crm.userDetails.isBestTimeEnabled&&Crm.userDetails.isZiaReminderEnabled&&"Tasks"===n){var l=$("#remindByZia");l.hasClass("diZiaDashBoard")&&e.body.length?l.show():l.hide()}crmNavig.parseCurrentListView(),"0"===t&&$("input.h_duedate").each(crmTemplate.bindEventsToDateField),$("#"+a).attr("data-loaded","true"),"Activities"===n&&Crm.userDetails.actBannerEnabled&&($L("#"+a).find(".aspWarningInfo").removeClass("dNimp"),$L("#layout_"+a).addClass("aspDashboardContent"))},CrmDashboard.loadContactImages=function(e){if(e.length){var a="/crm/v2.2/Contacts?ids="+e+"&fields=Record_Image,Layout";CrmDashboard.processingIds=CrmDashboard.processingIds.concat(e),CrmAnalytics.getApiData(a,crmConstants.requestMethods.GET,(function(a){CrmDashboard.processingIds=CrmDashboard.processingIds.filter((function(a){return!e.includes(a)}));for(var t=a.data,n=t.length,s=0;s<n;s++){var r,i=t[s].id,l=t[s].Record_Image;r=t[s].Layout?t[s].Layout.id:CrmDashboard.layoutTypeIdMap.Standard,!$.isEmptyObject(CrmDashboard.layoutImageMap)&&CrmDashboard.layoutImageMap[r]||(l=null);for(var o=null!==l?Crm.getCrmBasePath()+"/EntityImageAttach.do?action_module=Contacts&entityId="+i+"&actionName=readImage&fileId="+l:networkUtils.getImageUrl("nophoto.png",ResourceConstants.CRM),d=$(".Image_"+i),c=d.length,m=0;m<c;m++){d.eq(m).attr({src:o,style:"width:100%;height:100%;border-radius: 50%;"})}}}),(function(){CrmDashboard.needToLoadContactImage=!1;for(var e=$(".Image_"+contactId),a=e.length,t=0;t<a;t++){e.eq(t).attr("src",networkUtils.getImageUrl("nophoto.png",ResourceConstants.CRM))}}))}},CrmDashboard.removeAlreadyProcessedContactIds=function(e){for(var a=CrmDashboard.processedIds,t=a.length,n=0;n<t;n++){var s=e.indexOf(a[n]);s>-1&&e.splice(s,1)}return!(e.length>0)},CrmDashboard.getContactIds=function(e,a){for(var t={},n=e.length,s=[],r=0;r<n;r+=1){var i=e[r];if(void 0===i)break;var l=i.CONTENT[a];if(""!==l){var o=l.ENTITYID;!t.hasOwnProperty(o)&&CrmDashboard.processingIds.indexOf(o)<=-1&&(s.push(o),t[o]=!0)}}return s},CrmDashboard.loadTrendDashboard=function(e,a,t){var n={};n.dbItemId=e,n.clickId="populateChart",n.action="trendDBOptionsChange",n.isload=!0,n.persist=t,n.filters=JSON.stringify(a),$("#"+e).find(".dIdashFreeze").length||$("#"+e).append('<div class="dIdashFreeze"></div>'),CrmDashboard.loadDashboards(void 0,void 0,n)},CrmDashboard.showTrendDBUserSelector=function(e,a){e=e.toString();var t=$("#trendDBUserList_"+e);a||(CrmDashboard.trendDashboardObj[e].filters.selected.group=CrmDashboard.trendDashboardObj[e].filters.current.group,CrmDashboard.trendDashboardObj[e].filters.selected.group?(CrmDashboard.trendDashboardObj[e].filters.selected.groupids=$.extend(!0,[],CrmDashboard.trendDashboardObj[e].filters.current.ids),CrmDashboard.trendDashboardObj[e].filters.selected.userids=[]):(CrmDashboard.trendDashboardObj[e].filters.selected.userids=$.extend(!0,[],CrmDashboard.trendDashboardObj[e].filters.current.ids),CrmDashboard.trendDashboardObj[e].filters.selected.groupids=[]));var n=CrmDashboard.trendDashboardObj[e].filters.selected.group,s=$.extend(!0,[],n?CrmDashboard.trendDBGroupList:CrmDashboard.trendDBUserList),r=[];s.forEach((function(e,a){a<10&&r.push(e)})),CrmDashboard.trendDashboardObj[e].dashboardUserOrGroupCount=10,$("#userOrGroup_"+e+" li[usertype="+(n?"group":"user")+"]").click(),t.empty().append(Handlebars.templates.TrendDashboardUserList({dbItemId:e,userlist:r})),CrmDashboard.checkSelectedIds(e),"none"===$(".diUserListContainerData."+e).css("display")&&Crm.trackSpotLightAction("AI Trend DashBoard - User Select Click")},CrmDashboard.checkSelectedIds=function(e,a){e=e.toString(),$("#trendDBUserList_"+e+" li").removeClass("selected"),$("#trendDBUserList_"+e+" li input").prop("checked",!1);var t=CrmDashboard.trendDashboardObj[e].filters.selected[CrmDashboard.trendDashboardObj[e].filters.selected.group?"groupids":"userids"];t.forEach((function(a){var t=$("#trendDBUserList_"+e+" li[data-id="+a+"]");null!=t&&(t.addClass("selected"),t.find("input").prop("checked",!0))})),CrmDashboard.trendDashboardObj[e].filters.selected.usercount=t.length,CrmDashboard.trendDBCheckSelectAll(e),CrmDashboard.updateUserCount(e)},CrmDashboard.trendDBUserTypeChange=function(e,a){e=e.toString();var t="group"==$(a).attr("usertype");CrmDashboard.trendDashboardObj[e].filters.selected.group!=t&&(CrmDashboard.trendDashboardObj[e].dashboardUserOrGroupCount=0,CrmDashboard.trendDashboardObj[e].filters.selected.group=t,CrmDashboard.showTrendDBUserSelector(e,!0))},CrmDashboard.trendDBSelectUser=function(e,a){e=e.toString(),a=$($(a).parent());var t=CrmDashboard.trendDashboardObj[e].filters,n=t.selected.group,s=a.data("id"),r=t.selected[n?"groupids":"userids"],i=r.indexOf(s);a.hasClass("selected")?(a.removeClass("selected"),t.selected.usercount=t.selected.usercount-1,-1!=i&&r.splice(i,1)):(a.addClass("selected"),t.selected.usercount=t.selected.usercount+1,-1==i&&r.push(s)),CrmDashboard.trendDBCheckSelectAll(e),CrmDashboard.updateUserCount(e)},CrmDashboard.trendDBSelectAllUser=function(e){e=e.toString();var a=CrmDashboard.trendDashboardObj[e].filters,t=a.selected.group;if($("#userSelectAll_"+e).prop("checked"))if("yes"==$("#userSelectAll_"+e).attr("partialCheck"))$("#userSelectAll_"+e).prop("checked",!1),$("#userSelectAll_"+e).attr("partialCheck","false"),$("#trendDBUserList_"+e+" li").removeClass("selected"),$("#trendDBUserList_"+e+" li input").prop("checked",!1),CrmDashboard.trendDashboardObj[e].filters.selected.usercount=0,a.selected[t?"groupids":"userids"]=[],CrmDashboard.updateUserCount(e,0);else{$("#trendDBUserList_"+e+" li").addClass("selected"),$("#trendDBUserList_"+e+" li input").prop("checked",!0);var n=CrmDashboard.trendDashboardObj[e].filters.selected;n.usercount=n.group?CrmDashboard.trendDBGroupList.length:CrmDashboard.trendDBUserList.length,a.selected[t?"groupids":"userids"]=[],CrmDashboard.updateUserCount(e,n.usercount)}else $("#trendDBUserList_"+e+" li").removeClass("selected"),$("#trendDBUserList_"+e+" li input").prop("checked",!1),CrmDashboard.trendDashboardObj[e].filters.selected.usercount=0,a.selected[t?"groupids":"userids"]=[],CrmDashboard.updateUserCount(e,0)},CrmDashboard.updateUserCount=function(e,a){e=e.toString(),a=null!=a?a:CrmDashboard.trendDashboardObj[e].filters.selected.usercount;var t=$("#trendDBUserCount_"+e),n=t.parents(".diAllCheckBoxContainerSection");n.show(),a>0?(t.hasClass("noneSelected")&&(t.parent().show(),t.removeClass("noneSelected")),t.text(a)):t.hasClass("noneSelected")||(t.parent().hide(),t.addClass("noneSelected"),n.find(".selectAllUser").hasClass("hide")&&n.hide())},CrmDashboard.trendDashbboardUserFilterChange=function(e){e=e.toString();var a=[],t=CrmDashboard.trendDashboardObj[e].filters.current,n=CrmDashboard.trendDashboardObj[e].filters.selected.group,s=$("#userSelectAll_"+e);s.prop("checked")?"yes"!=s.attr("partialCheck")&&(n?CrmDashboard.trendDBGroupList.each((function(e){a.push(e.id)})):CrmDashboard.trendDBUserList.each((function(e){a.push(e.id)}))):a=n?CrmDashboard.trendDashboardObj[e].filters.selected.groupids:CrmDashboard.trendDashboardObj[e].filters.selected.userids,t.group===n&&_.isEqual(t.ids,a)||(t.ids=a,t.usercount=a.length,t.group=n,CrmDashboard.trendDashboardObj[e].filters.selected=$.extend(!0,{},t),CrmDashboard.trendDashboardObj[e].dataloaded=!1,CrmDashboard.loadTrendDashboard(e,CrmDashboard.getProccessedFilters(t),!0),$(".userSettings."+e).text(I18n.getMsg(n?"crm.label.selected.groups":"crm.label.selectedusers")+": "+t.usercount)),$("#"+e).find(".diUserListContainerData").find("input").val(""),$("#"+e).find(".diUserListContainerData").find("li").show(),$("#"+e).find(".diUserListContainerData").fadeOut(200),CrmDashboard.trendDashboardObj[e].filters.searchList=[],CrmDashboard.trendDashboardObj[e].dashboardUserOrGroupCount=0,$("#trendDBUserList_"+e).html()},CrmDashboard.trendDashbboardUserFilterReset=function(e){var a=CrmDashboard.trendDashboardObj[e].filters.selected;a.group?(a.groupids=$.extend(!0,[],a.ids),a.userids=[]):(a.userids=$.extend(!0,[],a.ids),a.groupids=[]),CrmDashboard.trendDashboardObj[e].filters.searchList=[],CrmDashboard.trendDashboardObj[e].dashboardUserOrGroupCount=0,$("#trendDBUserList_"+e).html()},CrmDashboard.trendDashbboardDateChange=function(e,a,t){e=e.toString();var n=CrmDashboard.trendDashboardObj[e].filters.current.date,s=CrmDashboard.trendDashboardObj[e].filters.current,r=$(".periodFilterDrop."+e+" select").val();a||(t=CrmDashboard.getCurrentDateFilter(e)),_.isEqual(t,n)&&r===s.period||(CrmDashboard.processPeriodSelector(e,t),s.date=t,s.period=$(".periodFilterDrop."+e+" select").val(),CrmDashboard.trendDashboardObj[e].filters.selected=$.extend(!0,{},s),CrmDashboard.trendDashboardObj[e].dataloaded=!1,CrmDashboard.updateTrendDashboardRecentFilters(e,t),CrmDashboard.setTrendDashboardRecentFilters(e),CrmDashboard.loadTrendDashboard(e,CrmDashboard.getProccessedFilters(s),!0)),$("#"+e).find(".diUserSettingContainerData").fadeOut(200)},CrmDashboard.trendDashbboardPeriodChange=function(e,a){e=e.toString(),CrmDashboard.trendDashboardObj[e].filters.current.period!=a&&(filters=CrmDashboard.trendDashboardObj[e].filters.current,filters.period=a,CrmDashboard.trendDashboardObj[e].filters.selected=$.extend(!0,{},filters),CrmDashboard.trendDashboardObj[e].dataloaded=!1,CrmDashboard.loadTrendDashboard(e,CrmDashboard.getProccessedFilters(filters),!0))},CrmDashboard.getCurrentDateFilter=function(e){e=e.toString();var a={},t=$(".dateFilter.selected."+e).attr("datetype");a.type=t;var n=".startDate.customPeriod."+e+" input",s=".endDate.customPeriod."+e+" input";switch(t){case"last":a.steps=$(".lastPeriodSteps."+e+" select").val();case"current":a.period=$(".dateFilterDrop."+t+"Period."+e+" select").val();break;case"custom":a.start=Lyte.registeredMixins["crm-zianotification-helper"].convertDateObjectToString(crmCalendar.getDateObjectFromGivenDateString($(n).val())),a.end=Lyte.registeredMixins["crm-zianotification-helper"].convertDateObjectToString(crmCalendar.getDateObjectFromGivenDateString($(s).val()))}return a},CrmDashboard.getProccessedFilters=function(e){var a={};return a.period=e.period,a.date=e.date,a.group=e.group,a.userIds=a.group?[]:$.extend(!0,[],e.ids),a.groupIds=a.group?$.extend(!0,[],e.ids):[],a.criteria=e.criteria,a.seriesIndex=e.seriesIndex,a},CrmDashboard.plotTrendDBGraph=function(e,a){e=e.toString();var t=a.result,n=$("#chartdiv_"+e);if(null!=t){switch(t.code){case 0:CrmDashboard.preprocessTrendDashboardItem(e,a);var s=CrmDashboard.trendDashboardObj[e];CrmDashboard.reprocessTrendAnalysisResponse(t),t.start=0,t.end=30,t.length=t.date.length,t.seriesIndex=s.filters.current.seriesIndex,CrmDashboard.createTrendDashboardGraph("chartdiv_"+e,t,e,!0,!0),CrmDashboard.activateSlider(e);break;case 2:CrmDashboard.preprocessTrendDashboardItem(e,a);var r=$("#"+e).find(".dIEmailAnamoly");r.length&&r.remove(),!Crm.isZohoChartsEnabled&&n.highcharts()&&n.highcharts().destroy(),n.empty(),n.html("<br/><br/>"+I18n.getMsg(t.info))}$("#"+e).find(".dIdashFreeze").length&&$("#"+e).find(".dIdashFreeze").remove()}else!Crm.isZohoChartsEnabled&&n.highcharts()&&n.highcharts().destroy(),n.html("<br/><br/>"+I18n.getMsg(a.error))},CrmDashboard.preprocessTrendDashboardItem=function(e,a){e=e.toString();var t=a.result,n=$("#trendDashboardFilters_"+e),s=$(".trendDBRowSectionDate"),r=s.find("select");if(!$.trim(n.html())){n.empty().append(Handlebars.templates.TrendDashboardUserFilter({dbItemId:e,userSettings:I18n.getMsg("crm.security.usersList"),userType:I18n.getMsg("Users")}));for(var i=[],l=1;l<100;l++)i[l-1]=l;n.append(Handlebars.templates.TrendDashboardDateFilter({dbItemId:e,dateSettings:I18n.getMsg("crm.emailstats.daterange"),thisYear:(new Date).getFullYear(),range:i}));var o=$("#trendDashboardFilters_"+e);o.addClass("pR"),$('<span class="dIDashboardReset" onclick="CrmDashboard.resetTrendDashboardGraph(\''+e+"')\"></span>").insertBefore(o.find(".dIUserListContainer")),s.find(".select2").length&&thirdPartyUtils.unbindChildSelect2(r),thirdPartyUtils.bindSelect2($(".lastPeriodSteps."+e+" select")),thirdPartyUtils.bindSelect2(r),thirdPartyUtils.bindSelect2($(".dIDateRangeContainerUlLi").find("select"))}var d=CrmDashboard.trendDashboardObj[e];null==d&&(d={},CrmDashboard.trendDashboardObj[e]=d,d.filters={},d.filters.recent=a.options,d.filters.current=CrmDashboard.getTrendDashboardCurrentFilters(a.options),d.filters.selected=$.extend(!0,{},d.filters.current),d.iszoomed=!1,CrmDashboard.getGroupList(),CrmDashboard.getUserList(),d.parent={},d.dashboardUserOrGroupCount=0,CrmDashboard.setTrendDashboardRecentFilters(e)),d.result=t,CrmDashboard.proccessTrendDBDateFilters(e,t.startdate,t.enddate),d.iszoomed?d.dataloaded=!0:CrmDashboard.setTrendDashboardFilters(e),CrmDashboard.setTrendDashboardDate(e)},CrmDashboard.proccessTrendDBDateFilters=function(e,a,t){e=e.toString();var n="yyyy-MM-dd",s=CrmDashboard.trendDashboardObj[e],r=crmCalendar.getDateObjectFromGivenDateString(a,n),i=crmCalendar.getDateObjectFromGivenDateString(t,n),l=new Date;l.getTime()<i.getTime()&&(i=l);var o=crmCalendar.convertToUserDatePattern(r.getDate()+" "+r.getMonth()+" "+r.getFullYear()),d=crmCalendar.convertToUserDatePattern(i.getDate()+" "+i.getMonth()+" "+i.getFullYear()),c=Lyte.registeredMixins["crm-zianotification-helper"].getReadableDate(r,"day"),m=Lyte.registeredMixins["crm-zianotification-helper"].getReadableDate(i,"day");s.filters.selected.date.start={},s.filters.selected.date.end={},s.filters.selected.date.start.str=a,s.filters.selected.date.end.str=t,s.filters.selected.date.start.obj=r,s.filters.selected.date.end.obj=i,s.filters.selected.date.start.userformat=o,s.filters.selected.date.end.userformat=d,s.filters.selected.date.start.day=c,s.filters.selected.date.end.day=m,CrmDashboard.trendDashbboardUserFilterReset(e)},CrmDashboard.getTrendDashboardCurrentFilters=function(e){var a={};return a.period=e.period[0],a.date=$.extend(!0,{},e.date[0]),a.group=e.group,a.ids=a.group?$.extend(!0,[],e.groupIds):$.extend(!0,[],e.userIds),a.usercount=a.ids.length,a.criteria=$.extend(!0,[],e.criteria),a},CrmDashboard.setTrendDashboardFilters=function(e){e=e.toString();var a=CrmDashboard.trendDashboardObj[e].filters.selected,t=a.date.type;switch($(".dateFilter."+e).removeClass("selected"),$(".dateFilter."+e+"."+t).addClass("selected").click(),t){case"last":var n=".lastPeriodSteps."+e+" select";$(n).val(a.date.steps).trigger("change");case"current":n=".dateFilterDrop."+t+"Period."+e+" select";$(n).val(a.date.period).trigger("change");case"custom":n=".startDate.customPeriod."+e+" input";$(n).val(a.date.start.userformat),n=".endDate.customPeriod."+e+" input",$(n).val(a.date.end.userformat)}n=".periodFilterDrop."+e+" select";$(n).val(a.period).trigger("change"),n=".userSettings."+e,$(n).text(I18n.getMsg(a.group?"crm.label.selected.groups":"crm.label.selectedusers")+": "+a.usercount),CrmDashboard.trendDashboardObj[e].dataloaded=!0,CrmDashboard.restrictYearPeriodSteps(e),CrmDashboard.processPeriodSelector(e)},CrmDashboard.updateTrendDashboardRecentFilters=function(e,a){e=e.toString();for(var t=CrmDashboard.trendDashboardObj[e].filters.recent.date,n=t.length,s=0;s<t.length;s++)if(_.isEqual(a,t[s])){n=s;break}for(;n>0;)n<CrmDashboard.trendDBMaxDateFilters&&(t[n]=t[n-1]),n--;t[n]=a},CrmDashboard.setTrendDashboardRecentFilters=function(e){e=e.toString();for(var a=CrmDashboard.trendDashboardObj[e].filters.recent.date,t=a.length,n=[],s=1;s<t;s++)n.push({}),n[s-1].text=CrmDashboard.getDateString(a[s]),n[s-1].filter=JSON.stringify(a[s]);if(0!=n.length){var r=$(".trendDBrecentFilters."+e);r.removeClass("hide"),r.prev().removeClass("hide");var i=Handlebars.templates.TrendDashboardFilterList({filters:n,dbItemId:e});r.empty().html(i)}},CrmDashboard.getDateString=function(e){var a;switch(e.type){case"current":a=I18n.getMsg("crm.ln.lable.current")+" "+I18n.getMsg(CrmDashboard.periodSingularKeys[e.period]);break;case"last":a=I18n.getMsg("Last")+" "+e.steps+" "+(e.steps>1?I18n.getMsg(CrmDashboard.periodPluralKeys[e.period]):I18n.getMsg(CrmDashboard.periodSingularKeys[e.period]));break;case"custom":var t=crmCalendar.getDateObjectFromGivenDateString(e.start,"yyyy-MM-dd"),n=crmCalendar.getDateObjectFromGivenDateString(e.end,"yyyy-MM-dd");a=crmCalendar.convertToUserDatePattern(t.getDate()+" "+t.getMonth()+" "+t.getFullYear())+" - "+crmCalendar.convertToUserDatePattern(n.getDate()+" "+n.getMonth()+" "+n.getFullYear())}return a},CrmDashboard.setTrendDashboardDate=function(e){e=e.toString();var a=CrmDashboard.trendDashboardObj[e].filters.current.date,t=CrmDashboard.getDateString(a);$(".dateRangeHeader."+e).text(t)},CrmDashboard.slideGraph=function(e,a){e=e.toString();var t=CrmDashboard.trendDashboardObj[e].result,n=t.start,s=t.end,r=(t.length,n+a),i=s+a;t.start=r,t.end=i,CrmDashboard.createTrendDashboardGraph("chartdiv_"+e,t,e,!0,!0),CrmDashboard.activateSlider(e)},CrmDashboard.activateSlider=function(e){e=e.toString();var a=CrmDashboard.trendDashboardObj[e].result.start,t=CrmDashboard.trendDashboardObj[e].result.end,n=CrmDashboard.trendDashboardObj[e].result.length;0==a?$(".dIChartPrevArr."+e).hide():$(".dIChartPrevArr."+e).show(),n<=t?$(".dIChartNextArr."+e).hide():$(".dIChartNextArr."+e).show()},CrmDashboard.zoomInTrendDashboard=function(e,a,t){e=e.toString();var n=CrmDashboard.trendDashboardObj[e],s=CrmDashboard.trendDBSubPeriods[n.filters.selected.period];if(s){var r=n.result.start;a+=r,t+=r,$.isEmptyObject(n.parent)&&(n.parent.result=$.extend(!0,{},n.result),n.parent.filters=$.extend(!0,{},n.filters),n.iszoomed=!0);var i=CrmDashboard.getProccessedFilters(n.filters.current),l={type:"custom"};l.start=n.result.rawDate[a],l.end=Lyte.registeredMixins["crm-zianotification-helper"].getPeriodEndDate(n.result.rawDate[t],i.period),i.date=l,i.period=s,n.filters.selected.period=s,n.dataloaded=!1,CrmDashboard.loadTrendDashboard(e,i,!1),$("#trendDashboardFilters_"+e).find(".dIDashboardReset").css("display","inline-block"),setTimeout((function(){$("#trendDashboardFilters_"+e).find(".dIDashboardReset").css("opacity","1")}),300)}},CrmDashboard.resetTrendDashboardGraph=function(e){e=e.toString();var a=CrmDashboard.trendDashboardObj[e];a.result=a.parent.result,a.filters=a.parent.filters,a.parent={},a.iszoomed=!1,CrmDashboard.createTrendDashboardGraph("chartdiv_"+e,a.result,e,!0,!0),$("#trendDashboardFilters_"+e).find(".dIDashboardReset").fadeOut(200)},CrmDashboard.trendDBSeriesChange=function(e,a,t){e=e.toString(),$(t).parent().find(".dIEmailAnamolySelected").removeClass("dIEmailAnamolySelected"),$(t).addClass("dIEmailAnamolySelected"),CrmDashboard.trendDashboardObj[e].filters.current.seriesIndex=a;var n=CrmDashboard.trendDashboardObj[e].result;CrmDashboard.trendDashboardObj[e].filters.current.seriesIndex=a,n.seriesIndex=a,CrmDashboard.createTrendDashboardGraph("chartdiv_"+e,n,e,!0,!0),Crm.isZohoChartsEnabled||("crm.emailstats.bounces"==n.features[a]||"crm.emailstats.opens"==n.features[a]?$("#chartdiv_"+e).highcharts().yAxis[0].axisTitle.attr({text:I18n.getMsg("crm.zinvoice.invoiceDetailedView.rate")}):$("#chartdiv_"+e).highcharts().yAxis[0].axisTitle.attr({text:I18n.getMsg("crm.api.count")})),CrmDashboard.activateSlider(e)},CrmDashboard.reprocessTrendAnalysisResponse=function(e){for(var a=e.date,t=e.features,n=e.original,s=e.normal,r=e.anomaly,i=(e.date,e.period),l=e.currentPeriodIndex,o=[],d=[],c=a.length,m=0;m<c;m++){var p,h=crmCalendar.getDateObjectFromGivenDateString(a[m],"yyyy-MM-dd");if("week"==i){var u=new Date(h.getFullYear(),h.getMonth(),h.getDate()+7);h.getMonth()!=u.getMonth()&&u.getDate()>1&&h.setFullYear(u.getFullYear(),u.getMonth(),1)}Crm.isZohoChartsEnabled||(p=Lyte.registeredMixins["crm-zianotification-helper"].getReadableDate(h,i)),p=CrmDashboard.getReadableDate(h,i),o.push(p),d.push({date:a[m],label:CrmDashboard.getTrendDashboardAxisParams(h,i),labelStr:p,isCurrentPeriod:m==l,period:i})}e.date=o,e.rawDate=a,e.dateParams=d,e.features.forEach((function(a){e.original[a]=Lyte.registeredMixins["crm-zianotification-helper"].convertToPositiveArray(Lyte.registeredMixins["crm-zianotification-helper"].convertToIntArray(e.original[a])),e.anomaly[a]=Lyte.registeredMixins["crm-zianotification-helper"].convertToIntArray(e.anomaly[a]),e.normal[a]=Lyte.registeredMixins["crm-zianotification-helper"].convertToPositiveArray(Lyte.registeredMixins["crm-zianotification-helper"].convertToIntArray(e.normal[a]))}));var f={symbol:"circle",fillColor:"var(--bg_white)",lineWidth:2,lineColor:null},v={symbol:"circle",fillColor:"var(--bg_white)",strokeColor:"#ff6666",lineColor:"#ff6666",states:{hover:{strokeColor:"#ff6666",lineColor:"#ff6666"}}},g={symbol:"circle",fillColor:"var(--bg_white)",strokeColor:"#ff6666",lineColor:"#ff6666",states:{hover:{strokeColor:"#ff6666",lineColor:"#ff6666"}}};t.forEach((function(e,a){var t=n[e],i=s[e],o=r[e];Crm.isZohoChartsEnabled?o.forEach((function(e,a){var n=t[a];o[a]=-1!=e&&a!=l?n:null})):o.forEach((function(e,a){var n=t[a];t[a]={},-1!=e&&a!=l?(t[a].marker=n<i[a]?v:g,o[a]=n):(t[a].marker=f,o[a]=null),t[a].y=n}))}));var b={};b.name=I18n.getMsg("crm.intelligence.actual"),b.color="#437ec8",b.marker=f,b.index=0,b.stickyTracking=!1;var C={};C.name=I18n.getMsg("crm.intelligence.trend"),C.color="#fdaf89",C.marker={symbol:"circle",fillColor:"var(--bg_white)",lineWidth:2,lineColor:null},C.index=1,C.stickyTracking=!1;var y={};y.name=I18n.getMsg("crm.intelligence.anomaly"),y.color="#ff3832",y.marker={symbol:"circle",fillColor:"var(--bg_white)",strokeColor:"#ff6666",lineColor:"#ff6666",strokeWidth:2,lineWidth:2},y.index=2,y.stickyTracking=!1,e.series=[],e.series.push(b),e.series.push(C),e.series.push(y)},CrmDashboard.getReadableDate=function(e,a){var t=null,n=e.getFullYear(),s=e.getMonth(),r=e.getDate(),i=I18n.getMsg(Lyte.registeredMixins["crm-zianotification-helper"].monthNames.monthShortNames[s]),l=(new Date(n,s,1).getDay()+6)%7,o=Math.ceil((e.getDate()+l)/7);switch(a){case"day":t=r+" "+i+","+n;break;case"week":switch(o){case 1:t=I18n.getMsg("crm.emailstats.firstweek",[i]).replace("-","")+","+n;break;case 2:t=I18n.getMsg("crm.emailstats.secondweek",[i]).replace("-","")+" "+n;break;case 3:t=I18n.getMsg("crm.emailstats.thirdweek",[i]).replace("-","")+" "+n;break;case 4:t=I18n.getMsg("crm.emailstats.fourthweek",[i]).replace("-","")+" "+n;break;case 5:t=I18n.getMsg("crm.emailstats.fifthweek",[i]).replace("-","")+" "+n;break;case 6:t=I18n.getMsg("crm.emailstats.sixthweek",[i]).replace("-","")+" "+n}break;case"month":t=i+" "+n.toString();break;case"year":t=n.toString()}return t},CrmDashboard.getTrendDashboardAxisParams=function(e,a){var t=null;switch(a){case"day":t=[e.getDate(),I18n.getMsg(Lyte.registeredMixins["crm-zianotification-helper"].monthNames.monthShortNames[e.getMonth()])+" "+e.getFullYear()];break;case"week":var n=(new Date(e.getFullYear(),e.getMonth(),1).getDay()+6)%7,s=Math.ceil((e.getDate()+n)/7);t=[s=1==s?s+I18n.getMsg("st"):2==s?s+I18n.getMsg("nd"):3==s?s+I18n.getMsg("rd"):s+I18n.getMsg("th"),I18n.getMsg(Lyte.registeredMixins["crm-zianotification-helper"].monthNames.monthShortNames[e.getMonth()])+" "+e.getFullYear()];break;case"month":t=[I18n.getMsg(Lyte.registeredMixins["crm-zianotification-helper"].monthNames.monthShortNames[e.getMonth()]),e.getFullYear()];break;case"year":t=e.getFullYear()}return t},CrmDashboard.createTrendDashboardGraph=function(e,a,t,n,s){var r=a.features,i=a.seriesIndex?a.seriesIndex:0,l=r[i],o=I18n.getMsg("crm.api.count"),d="";if("Amount"==l){var c=Crm.userDetails.CURRENCY_DETAILS[Crm.userDetails.BASE_CURRENCY];c&&(d=c.symbol),o=I18n.getMsg("Amount")}var m=a.start?a.start:0,p=a.end?a.end:0,h=a.currentPeriodIndex<p?a.currentPeriodIndex-m:-1;if(Crm.isZohoChartsEnabled){var u={};if(CrmDashboard.setChartMetadata(u,a),CrmDashboard.setSeriesData(u,a,o),u.canvas=CrmChartUtil.getCanvasData().canvas,u.tooltip=CrmChartUtil.getTooltipData(!0,!1,"#fff","black",!0,void 0).tooltip,u.legend=CrmChartUtil.getLegendData("true",!1,void 0,"center","bottom",void 0,void 0,!0).legend,u.chart.marginLeft="50px",u.chart.marginTop="50px",u.chart.marginRight="50px",h>-1){var f=a.date[h];u.chart.axes.xaxis.threshold.line={show:!0,dashStyle:"longdash",label:{text:[I18n.getMsg("Today")]},values:[f],marker:{enabled:!1},color:["var(--chartThresholdLineColor)"]}}u.chart.brush={enabled:!0,resetButton:{enabled:!1},actions:{end:function(a,t,n,s){var r=this,i=r.chart;s.sourceEvent&&i.svg.select("text.title").text(s.type+"ing"),s.allowDefault=!1;var l=r.behaviours.PLOT_BRUSH,o=l.dataFinder.start.call(r,l,null,n);if(o.x[0]){var d=o.x[0].domain,c=i.userdata.chart.axes.xaxis.categories,m=c.indexOf(d[0]),p=c.indexOf(d[d.length-1]);m<=p&&CrmDashboard.zoomInTrendDashboard(e.split("_")[1],m,p)}return!1}}};var v=$("#"+e);v.empty(),v.height(410),u.canvas.events={init:function(){var e=$("#"+t).find(".dIEmailAnamoly");if(r.length>1&&0==e.length){var a={features:r,dbItemId:t},n=Handlebars.templates.TrendDashboardFeatureSelector(a);$(n).insertBefore(v)}$(v).find("svg").parent().addClass("pR");var s='<div class="dIChartPrevArr '+t+" cP\" onclick=\"Lyte.Mixin.get('crm-zianotification-helper').nextArrowPress('"+t+'\',0)"></div><div class="dIChartNextArr '+t+" cP\" onclick=\"Lyte.Mixin.get('crm-zianotification-helper').nextArrowPress('"+t+"',1)\"></div>";$(v).addClass("pR").append(s)}},CrmChartUtil.renderChart(v[0],u,!0)}else{var g=$("#"+e),b=(t=e.split("_")[1],$(".crmTrendDashBoard")),C=g.highcharts(),y=a.dateParams.slice(m,p),D=a.series;if("day"==a.period?g.addClass("disableZoomColor"):g.removeClass("disableZoomColor"),D[0].data=a.original[l].slice(m,p),D[1].data=a.normal[l].slice(m,p),n&&null!=C)return C.xAxis[0].plotLinesAndBands[0].options.value=h,C.xAxis[0].setCategories(y),C.series[1].setData(D[1].data),C.series[0].setData(D[0].data),C.xAxis[0].dataMax=y.length,C.xAxis[0].max=y.length,void(s&&C.redraw());g.empty(),$("#"+e).height(410);var I="rgba(51,92,173,0.25)";"diNotificationDetailsContent"==e&&(I="none"),g.highcharts({chart:{type:"spline",zoomType:"x",width:b.length?$("#diNotificationDetails").is(":visible")?null:g.width()-100:null,height:b.length?r.length>1?350:390:null,selectionMarkerFill:I,animation:{duration:1e3},events:{load:function(){if(r.length>1){var e={features:r,dbItemId:t},a=Handlebars.templates.TrendDashboardFeatureSelector(e);$(a).insertBefore(g)}var n=g.highcharts().series[2].legendItem.element,s=$(n).parent();s.attr("class","highcharts-legend-item cDefault makeallcD");var i=s.html();n.onclick=function(){$(this).parent().html(i)},$(g).find("svg").parent().addClass("pR");var l='<div class="dIChartPrevArr '+t+" cP\" onclick=\"Lyte.Mixin.get('crm-zianotification-helper').nextArrowPress('"+t+'\',0)"></div><div class="dIChartNextArr '+t+" cP\" onclick=\"Lyte.Mixin.get('crm-zianotification-helper').nextArrowPress('"+t+"',1)\"></div>";$(g).addClass("pR").append(l);var o=$(g).find(".tooltiptext");if(!o.length){a="<div class='tooltiptext greenC crm-font-regular'>Today</div>";$(g).append(a)}o.css({visibility:"visible",opacity:1})},selection:function(a){if("none"!=I&&a.xAxis){var t=Math.ceil(a.xAxis[0].min),n=Math.floor(a.xAxis[0].max);t<=n&&CrmDashboard.zoomInTrendDashboard(e.split("_")[1],t,n)}return!1}}},credits:{enabled:!1},subtitle:{text:null},xAxis:{plotLines:[{color:"#bababa",value:h,width:1,dashStyle:"dash",events:{mouseover:function(e){Lyte.registeredMixins["crm-zianotification-helper"].displayTooltipPlotLines(this,e,this.svgElem.d.split(" ")[1])},mouseout:function(){$(".tooltiptext").hide()}}}],alternateGridColor:"#fdfcfc",categories:y.slice(m,p),gridLineWidth:0,gridLineDashStyle:"dash",gridLineColor:"#ebebeb",startOnTick:!1,endOnTick:!1,labels:{useHTML:!0,y:25,rotation:0,formatter:function(){var e="";if("object"==typeof this.value){this.isFirst&&"week"==this.value.period&&(e=e+'<div class="forWeeklyEnabled">'+I18n.getMsg("weeks")+"</div>");var a="year"==this.value.period?this.value.label:this.value.label[1];e=e+'<div class="dIB dIChartLabelColor crm-font-regular'+(this.value.isCurrentPeriod?"dselected":"")+'">'+("year"==this.value.period?this.value.label:this.value.label[0])+"</div>",dTemp!=a&&"year"!=this.value.period&&(e=e+'<div class="fL cBoth mT10 dIChartPrimaryLabel crm-font-regular  pA">'+this.value.label[1]+"</div>",dTemp=a)}return e}}},yAxis:{allowDecimals:!1,gridLineDashStyle:"dash",gridLineWidth:1,gridLineColor:"#efefef",title:{text:o,margin:20},labels:{x:-25},lineColor:"#c0c6cc",min:0,plotLines:[{value:0,width:1,color:"var(--notfoundColor)"}]},legend:{enabled:!0,align:"center",verticalAlign:"bottom",layout:"horizontal",backgroundColor:"var(--bg_white)",borderRadius:"5px",floating:!1,margin:30,symbolHeight:10,symbolWidth:10,symbolRadius:60,itemDistance:30,itemStyle:{fontFamily:"var(--crm-font-regular)",fontSize:"14px",Color:"var(--baseColor)",backgroundColor:"var(--bg_white)",borderRadius:"5px"},useHTML:!0,legendFormatter:function(){return $ESAPI.encoder().encodeForHTML(this.name)}},tooltip:{borderWidth:2,style:{padding:0},useHTML:!0,formatter:function(){var e={data:{name:this.point.marker&&"#ff6666"==this.point.marker.strokeColor?I18n.getMsg("crm.intelligence.anomaly"):this.series.name,value:this.key.labelStr+" : "+d+" "+this.y}};return Handlebars.templates.TrendDashboardToolTip(e)}},plotOptions:{spline:{dashStyle:"solid"},series:{shadow:{width:15,offsetX:2,offsetY:2,color:"rgba(0,0,0,.070)"}}},series:$.extend(!0,[],D)})}},CrmDashboard.setChartMetadata=function(e,a){var t=[],n=[],s=[],r=[];t.push(0),s.push(0),r.push({dataindex:0,columnname:"week"});for(var i=a.series.length,l=0;l<i;l++){var o={dataindex:1,columnname:$ESAPI.encoder().encodeForHTML(a.series[l].name),datatype:"numeric"};0==n.length&&(n[0]=[]),n[0].push(l+1),s.push(l+1),r.push(o)}e.metadata=CrmChartUtil.getMetaData(t,n,r,s).metadata},CrmDashboard.setSeriesData=function(e,a,t){var n=a.start?a.start:0,s=a.end?a.end:0,r=a.seriesIndex?a.seriesIndex:0,i=a.dateParams.slice(n,s),l=a.features[r],o=a.series;o[0].data=a.original[l].slice(n,s),o[1].data=a.normal[l].slice(n,s),o[2].data=a.anomaly[l].slice(n,s);for(var d=[],c=i.length,m=o.length,p=[],h=0;h<c;h++){for(var u=i[h].labelStr,f=0;f<m;f++)if(d[f]||(d[f]={seriesname:$ESAPI.encoder().encodeForHTML(o[f].name+""),type:"line",data:[],yaxiscolumnorder:[0,f]},2==f&&(d[f].type="scatter",d[f].plotoptions={datalabels:{show:!1},animation:{enabled:!1}}),d[f].data[0]=[]),-1!=o[f].data[h]){var v=[u,o[f].data[h]];d[f].data[0].push(v)}p.push(u)}e.seriesdata=CrmChartUtil.getSeriesData(d).seriesdata;var g=CrmChartUtil.getPlotOptionForLine("cardinal");e.chart=CrmChartUtil.getChartAxesData(!1,!0,!0,void 0,void 0,!0,!0,!1,t,!0,void 0,void 0,void 0,p,g,void 0,!1).chart},CrmDashboard.trendDBCheckSelectAll=function(e){e=e.toString();var a=$("#userSelectAll_"+e);CrmDashboard.trendDashboardObj[e].filters.selected.usercount>=CrmDashboard.trendDBUserList.length?(a.prop("checked",!0),a.attr("partialCheck","false")):(a.prop("checked",!1),a.attr("partialCheck","yes"))},CrmDashboard.getUserList=function(){if(null==CrmDashboard.trendDBUserList&&!CrmDashboard.trendDBUserListProcessed){var e=Crm.getCrmBasePath()+"/ShowEmailStatsUserGroup.do?usertype=allusers&category=user";mR(e,(function(e){CrmDashboard.trendDBUserList=[],JSON.parse(e).userlist.forEach((function(e){var a={};a.id=e.usersid,a.name=e.usersname,a.photo=e.userphoto,CrmDashboard.trendDBUserList.push(a)}))}))}CrmDashboard.trendDBUserListProcessed=!0},CrmDashboard.getGroupList=function(){if(null==CrmDashboard.trendDBGroupList&&!CrmDashboard.trendDBGroupListProcessed){var e=Crm.getCrmBasePath()+"/ShowEmailStatsUserGroup.do?usertype=groups&category=user";mR(e,(function(e){CrmDashboard.trendDBGroupList=[],JSON.parse(e).grouplist.forEach((function(e){var a={};a.id=e.groupid,a.name=e.groupname,CrmDashboard.trendDBGroupList.push(a)}))}))}CrmDashboard.trendDBGroupListProcessed=!0},CrmDashboard.processPeriodSelector=function(e,a){if(e=e.toString(),CrmDashboard.trendDashboardObj[e]&&CrmDashboard.trendDashboardObj[e].dataloaded){var t=[],n=["day","week","month","year"];a=a||CrmDashboard.getCurrentDateFilter(e);var s=n.indexOf($(".periodFilterDrop."+e+" select").val());switch(a.type){case"current":var r=n.indexOf(a.period);t=[0,1,2,3].slice(r-2>0?r-2:0,r);break;case"last":var i=[1,7,30,365][r=n.indexOf(a.period)]*a.steps;t=Lyte.registeredMixins["crm-zianotification-helper"].getAllowedPeriods(i);break;case"custom":if(null!=a.start&&null!=a.end&&""!=a.start.trim()&&""!=a.end.trim()){i=Lyte.registeredMixins["crm-zianotification-helper"].getDayDifferenceFromDateStr(a.start,a.end,"yyyy-MM-dd");t=Lyte.registeredMixins["crm-zianotification-helper"].getAllowedPeriods(i)}}if(CrmDashboard.trendDashboardObj[e].allowedPeriods||(CrmDashboard.trendDashboardObj[e].allowedPeriods=[]),t.length>0&&!_.isEqual(CrmDashboard.trendDashboardObj[e].allowedPeriods,t)){var l=$(".periodFilterDrop."+e+" select");l.select2(),l.select2("destroy"),l.find("option").prop("disabled",!0),t.forEach((function(e,a){l.find("option").eq(e).prop("disabled",!1)})),-1==t.indexOf(s)&&l.find("option").eq(t[0]).prop("selected",!0),thirdPartyUtils.bindSelect2(l),CrmDashboard.trendDashboardObj[e].allowedPeriods=t}}},CrmDashboard.restrictYearPeriodSteps=function(e){if(e=e.toString(),CrmDashboard.trendDashboardObj[e]&&CrmDashboard.trendDashboardObj[e].dataloaded){var a=CrmDashboard.getCurrentDateFilter(e);if("last"==a.type){if("year"==a.period){(n=$(".lastPeriodSteps."+e+" select")).select2(),n.select2("destroy"),n.find("option").prop("disabled",!0);for(var t=0;t<5;t++)n.find("option").eq(t).prop("disabled",!1);a.steps>5&&n.find("option").eq(4).prop("selected",!0)}else{var n;if((n=$(".lastPeriodSteps."+e+" select")).select2(),n.select2("destroy"),n.find("option").prop("disabled",!1),"month"==a.period){n.find("option").prop("disabled",!0);for(t=0;t<60;t++)n.find("option").eq(t).prop("disabled",!1);a.steps>60&&n.find("option").eq(59).prop("selected",!0)}}thirdPartyUtils.bindSelect2(n)}}},CrmDashboard.showHideCountOptions=function(e){if("None"===(e=$(e)).val())return $("#kpi_summaryFields, #kpi_common, #kpi_objective, #kpi_count_label").hide(),void $("#kpi_save_button").attr("disabled","disabled");var a="0"===e.val();e.parent().find("#kpi_summaryFields").toggle(!a),$("#kpi_common, #kpi_save, #kpi_objective").show(),$("#kpi_objective").show(),$("[name=objective]:checked").val()||$('input[name="objective"][value="1"]').click(),$("#kpi_dateFields").val()&&a&&e.parent().find("#kpi_summaryFields").val()&&$("#kpi_save_button").removeAttr("disabled");var t=a?I18n.getMsg("of")+" "+$("#module").find("option:selected").text():I18n.getMsg("of");$("#kpi_count_label").show().find("span").text(t)},Handlebars.registerHelper("checkColType",(function(e,a,t){var n=e.data_type;return"formula"===n&&e.formula&&(n=e.formula.return_type),"rollup_summary"===n&&e.rollup_summary&&(n="longinteger"===(n=e.rollup_summary.return_type)?"bigint":n),"number"===a&&!0!==e["data-enc"]&&["double","integer","currency","bigint"].contains(n)&&207!==e.uitype&&208!==e.uitype&&40!==e.uitype&&80!==e.uitype||"date"===a&&!0!==e["data-enc"]&&("date"===n||"datetime"===n)||"picklist"===a&&"picklist"===n?t.fn(this):t.inverse(this)})),CrmDashboard.processKpiData=function(e,a){e.currencyColumn;var t=e.xAxis.categories,n=e.series[0].data;t.length?1===t.length&&(n="Q2"===t[0]?[0,n[0]]:[n[0],0]):n=[0,0];var s="Increase"===e.objective,r=s?n[0]-n[1]:n[1]-n[0],i=s?r>0?n[0]:n[1]:r>0?n[1]:n[0];r<0&&0!=i?(e.className="percentageChange_red",e.imgClass="arrow-down-big",e.percent=-(r/i*100).toFixed(2)+"%"):r>0&&0!=i&&(e.percent=(r/i*100).toFixed(2)+"%",e.className="percentageChange",e.imgClass="arrow-up-big"),e.processedData=n;var l={"${TODAY-2}":I18n.getMsg("crm.label.day.before"),"${YESTERDAY}":I18n.getMsg("Yesterday"),"${WEEK-2}":I18n.getMsg("crm.label.week.before"),"${MONTH-2}":I18n.getMsg("crm.label.month.before"),"${THISYEAR}":I18n.getMsg("crm.thisyear"),"${LASTYEAR}":I18n.getMsg("Last year"),"${LASTWEEK}":I18n.getMsg("Last Week"),"${LASTMONTH}":I18n.getMsg("Last Month")};e.comparingRange=l[e.comparingRange]?l[e.comparingRange]:e.comparingRange,$("#"+a).html(Handlebars.templates.kpi(e))},Handlebars.registerHelper("getkpiData",(function(e,a,t){var n=e.currencyColumn,s=e.processedData[a],r=e.additionalInfo&&void 0!==e.additionalInfo.decimalDigits&&"count"!==e.additionalInfo.yaxisFun?e.additionalInfo.decimalDigits:void 0,i=s;return n?i=currencyUtils.returnValueInDefaultCurrency(Crm.userDetails.BASE_CURRENCY,s):void 0!==r&&(i=commonUtils.formatDecimalValue(s,r,!0)),i})),CrmDashboard.loadAnayticsChart=function(e,a,t){if(newDashbordsEnabled){var n=Lyte.registeredMixins["crm-dashboard-utils"];if(CrmDashboard.chartCache[e]){var s=CrmDashboard.chartCache[e].chartJson,r=CrmDashboard.chartCache[e].component;delete r.colors;var i=r.type;if(i=r.component_props&&r.component_props.visualization_props.type?i+"_"+r.component_props.visualization_props.type:i,CrmAnalytics.setMinMaxDimensions(i,e),r&&r.Report&&r.Report.id){var l=$("#"+e).find(".widgetData");if(l){var o=$("#homepage_dashReport_"+e);o.length>0&&o.remove();var d=Lyte.Router.getURL({route:"crm.tab.newReports.view",dynamicParams:[r.Report.id]}),c='<div id="homepage_dashReport_'+e+'" class="aiCenter analytics_widgetFooter dF crm-small-font-size"><span class="crmLabelColor wsNowrap">'+I18n.getMsg("crm.dashboard.created.from.report")+'</span><lyte-text class="crmLinkColor cP mL5" onclick="networkUtils.openUrl(\''+d+"', '_blank' ,'')\" lt-prop-value = \""+r.Report.name+'" lt-prop-tooltip-config = \'{ "position" : "bottom" }\'> </lyte-text></div>';l.append(c)}}n.combineResponseAndRenderChart(n,s,a,e,r,void 0,void 0,!0),$("#"+e).attr("data-loaded","loaded");var m=s.meta&&s.meta.last_refreshed_time?$L.moment(s.meta.last_refreshed_time).toDate():void 0;return void setDataFetchDate($("#datafetchdate_"+e)[0],m)}CrmDashboard.renderChartComponentV22(t,a,e)}else{var p=CrmAnalytics.base_url+"/"+t+"/components/"+a;if(CrmDashboard.chartCache[e]){i=(s=CrmDashboard.chartCache[e].chartJson).component_type;i=s.component_props&&s.component_props.visualization_props.type?i+"_"+s.component_props.visualization_props.type:i,CrmAnalytics.setMinMaxDimensions(i,e),CrmAnalytics.renderComponent(s,e),$("#"+e).attr("data-loaded","loaded");m=s.last_fetched_time&&s.last_fetched_time.value?$L.moment(s.last_fetched_time.value).toDate():void 0;return void setDataFetchDate($("#datafetchdate_"+e)[0],m)}CrmAnalytics.getApiData(p,crmConstants.requestMethods.GET,(function(n){CrmAnalytics.convertToNewStructure(n);var s=n.component_type,r=n.component_props&&n.component_props.visualization_props.type?n.component_props.visualization_props.type:null;s=r?s+"_"+r:s,CrmAnalytics.setMinMaxDimensions(s,e);var i=r?r.split("_")[0]:void 0;if(CrmAnalytics.isColorSupportedChatType(n.component_type,i)){var l=p+"/describe";CrmAnalytics.getApiData(l,crmConstants.requestMethods.GET,(function(t){var s=t.data.object_relationship?t.data.object_relationship:t.data.module;if(s&&(s.base_object||s.api_name)){var r=s.base_object?s.base_object.moduleName:s.api_name,i=[r];CrmAnalytics.componentIdVsModule[a]=i;var l={};l.response=n,l.layoutId=e,CrmAnalytics.initiateColorCodeRequests(r,l,s).then((function(e){CrmAnalytics.renderComponent(e.response,e.layoutId)}))}else CrmAnalytics.renderComponent(n,e)}))}else CrmAnalytics.renderComponent(n,e);$("#"+e).attr("data-loaded","loaded"),CrmDashboard.chartCache[e]={},CrmDashboard.chartCache[e].dashletId=a,CrmDashboard.chartCache[e].layoutId=e,CrmDashboard.chartCache[e].dashboardId=t,CrmDashboard.chartCache[e].chartJson=objectUtils.cloneObject(n);var o=n.last_fetched_time&&n.last_fetched_time.value?$L.moment(n.last_fetched_time.value).toDate():void 0;setDataFetchDate($("#datafetchdate_"+e)[0],o)}),void 0,{include_report_id:!0})}},CrmDashboard.renderChartComponentV22=function(e,a,t,n,s){store.triggerAction("Analytics","run",{action:"run",dashboardid:e,componentid:a,apiVersion:"2.2"}).then((function(r){n?CrmDashboard.renderChartV22(e,a,t,n,r,s):store.findRecord("analytics_component",a,{include_inner_details:"$..field.label,$..field.ui_type,$..field.data_type,$..field_involved.label,$..field.enable_colour_code,$..field.formula",include:"component_preferences"},void 0,!0,{apiVersion:"2.2",dashboardId:e}).then((function(n){var i=n[0];CrmDashboard.renderChartV22(e,a,t,i,r,s)}))}),(function(e){CrmDashboard.componentV22ErrorHandling(e)}))},CrmDashboard.showComponentFilterIcon=function(e,a){if(e.sub_components&&e.sub_components[0]&&e.sub_components[0].component_filter_fields&&0!==e.sub_components[0].component_filter_fields.length||e.component_filter_fields&&0!==e.component_filter_fields.length){$L("#filterComponent_"+a)[0].classList.remove("dN");var t=null!==e.sub_components&&e.sub_components&&e.sub_components[0]&&e.sub_components[0].component_preferences?e.sub_components[0].component_preferences.filters:e.component_preferences?e.component_preferences.filters:null;Lyte.registeredMixins["crm-new-analytics-utils"].updateFilterWidgetOnCompFltrUpdate(a,t)}},CrmDashboard.renderChartV22=function(e,a,t,n,s,r){var i=Lyte.registeredMixins["crm-dashboard-utils"];if(n&&n.Report&&n.Report.id){var l=$("#"+t).find(".widgetData");if(l){var o=$("#homepage_dashReport_"+t);o.length>0&&o.remove();var d=Lyte.Router.getURL({route:"crm.tab.newReports.view",dynamicParams:[n.Report.id]}),c='<div id="homepage_dashReport_'+t+'" class="aiCenter analytics_widgetFooter dF crm-small-font-size"><span class="crmLabelColor wsNowrap">'+I18n.getMsg("crm.dashboard.created.from.report")+'</span><lyte-text class="crmLinkColor cP mL5" onclick="networkUtils.openUrl(\''+d+"', '_blank' ,'')\" lt-prop-value = \""+n.Report.name+'" lt-prop-tooltip-config = \'{ "position" : "bottom" }\'> </lyte-text></div>';l.append(c)}}i.combineResponseAndRenderChart(i,s,a,t,n,void 0,void 0,!0);var m=n.type,p=n.component_props&&n.component_props.visualization_props.type?n.component_props.visualization_props.type:null;(m=p?m+"_"+p:m,CrmAnalytics.setMinMaxDimensions(m,t),$("#"+t).attr("data-loaded","loaded"),CrmDashboard.chartCache[t]={},CrmDashboard.chartCache[t].dashletId=a,CrmDashboard.chartCache[t].layoutId=t,CrmDashboard.chartCache[t].dashboardId=e,CrmDashboard.chartCache[t].chartJson=objectUtils.cloneObject(s),CrmDashboard.chartCache[t].component=objectUtils.cloneObject(n),n.sub_components&&n.sub_components[0]&&n.sub_components[0].component_filter_fields&&0!==n.sub_components[0].component_filter_fields.length||n.component_filter_fields&&0!==n.component_filter_fields.length)&&$L("#filterComponent_"+a)[0].classList.remove("dN");Lyte.registeredMixins["crm-new-analytics-utils"].removeCompFltrHovercardComp(a);var h=s.meta&&s.meta.last_refreshed_time?$L.moment(s.meta.last_refreshed_time).toDate():void 0;setDataFetchDate($("#datafetchdate_"+t)[0],h),r&&r()},CrmDashboard.componentV22ErrorHandling=function(e){e.responseURL&&(e.requestUrl=e.responseURL.replace("?include_report_id=true",""));var a=e.responseText&&validationUtils.isJson(e.responseText)?JSON.parse(e.responseText):void 0;a&&a.hasOwnProperty("Analytics_Components")?a=a.Analytics_Components[0]:a&&(a=a.Components?a.Components[0]:a.Analytics?a.Analytics[0]:a),a?a.Analytics&&(a=a.Analytics[0]):a={code:"INTERNAL_SERVER_ERROR"},e.responseJSON=a,CrmAnalytics.handleErrorsByDefault(e)},CrmDashboard.yAxisLabelConfigJson={formatter:function(){var e=objectUtils.getValueFromObj(this,["chart","userOptions","additionalInfo"]),a=objectUtils.getValueFromObj(e,["isBlueprint"]);if(a=a||"Blueprints.Time_taken_for_Transition"===objectUtils.getValueFromObj(e,["yaxis"]))try{return Utils.convertTimeInDoubleToReadableForm(this.value/6e4)}catch(e){}return this.value}},CrmDashboard.isDateField=function(e){return"Blueprints.Time_taken_for_Transition"===objectUtils.getValueFromObj(e,["series","chart","options","additionalInfo","yaxis"])},CrmDashboard.isAllLayoutsImageDisabled=function(e){if(jQuery.isEmptyObject(CrmDashboard.layoutImageMap))return!0;for(var a=!0,t=e.length,n=0;n<t;n++)CrmDashboard.layoutImageMap[e[n]]&&(a=!1);return a},CrmDashboard.hasPermissionToImageField=function(e,a){for(var t=!1,n=e.length,s=0;s<n;s++)for(var r=a[e[s]].sections,i=r.length,l=0;l<i;l++){var o=r[l];if(null!=o.name&&"Record Image"==o.name&&null!=o.fields&&o.fields.length)for(var d=o.fields,c=d.length,m=0;m<c;m++){var p=d[m];"Record_Image"==p.api_name&&p.visible&&(t=!0)}}return t},CrmDashboard.getMoreReportsRecords=function(e,a,t,n,s){var r={status:e,userId:a,stdDateFilter:t,FROM_INDEX:s,action:"getDetails"};Lyte.Router.transitionTo({route:"crm.tab.reports.records",dynamicParams:[n],queryParams:r}).data={isAjax:!0,isFromCall:!0}},CrmDashboard.setCallsNavigationDiv=function(e){$("#showMoreDiv").remove(),$("#showPreviousDiv").remove();var a=$("#reportsPagNation");if(e.requestedObj.totalRowCount>Calls.cvListLimitCount)var t="<div class='fR cP' id='showMoreDiv' onClick=\"CrmDashboard.getMoreReportsRecords('"+e.requestedObj.type.trim()+"', '"+e.requestedObj.ownerId+"', '"+e.requestedObj.stdDateFilter+"','"+e.requestedObj.reportId+"',"+(e.requestedObj.ReqFromIndex+Calls.cvListLimitCount)+")\"><span class='vaM mR3'>"+(e.requestedObj.ReqFromIndex+(e.requestedObj.totalRowCount-2))+"</span><span class='dIB next vaM'></span></div><span class='dIB mL10 mR10 vaM'>to</span> <div class='fL cP' id='"+showPreviousDivId+"' onClick=\"Crm.getMoreReportsRecords('"+e.requestedObj.type.trim()+"', '"+e.requestedObj.ownerId+"', '"+e.requestedObj.stdDateFilter+"','"+e.requestedObj.reportId+"',"+(e.requestedObj.ReqFromIndex-Calls.cvListLimitCount)+")\"><span class='dIB previous vaM'></span><span class='vaM mL3'>"+e.requestedObj.ReqFromIndex+"</span></div>";else t="<div class='fR' id='showMoreDiv' ><span class='vaM mR3'>"+(e.requestedObj.ReqFromIndex+e.requestedObj.totalRowCount-1)+"</span><span class='dIB nextDisabled vaM'></span></div><span class='dIB mL10 mR10 vaM'>to</span> <div class='fL  cP' id='"+showPreviousDivId+"' onClick=\"CrmDashboard.getMoreReportsRecords('"+e.requestedObj.type.trim()+"', '"+e.requestedObj.ownerId+"', '"+e.requestedObj.stdDateFilter+"','"+e.requestedObj.reportId+"',"+(e.requestedObj.ReqFromIndex-Calls.cvListLimitCount)+")\"><span class='dIB previous vaM'></span><span class='vaM mL3'>"+e.requestedObj.ReqFromIndex+"</span></div>";if(a.html(t),1===e.requestedObj.ReqFromIndex){t="<div class='fR cP' id='showMoreDiv' onClick=\"CrmDashboard.getMoreReportsRecords('"+e.requestedObj.type.trim()+"', '"+e.requestedObj.ownerId+"', '"+e.requestedObj.stdDateFilter+"','"+e.requestedObj.reportId+"',"+(e.requestedObj.ReqFromIndex+Calls.cvListLimitCount)+")\"><span class='vaM mR3'>"+(e.requestedObj.ReqFromIndex+(e.requestedObj.totalRowCount-2))+"</span><span class='dIB next vaM'></span></div><span class='dIB mL10 mR10 vaM'>to</span> <div class='fL' id='"+showPreviousDivId+"'><span class='dIB previousDisabled vaM'></span><span class='vaM mL3'>"+e.requestedObj.ReqFromIndex+"</span></div>";a.html(t)}},function(){var e=Handlebars.template,a=Handlebars.templates=Handlebars.templates||{};a.CreateIntermediatePage=e({1:function(e,a,t,n,s){var r=e.lambda,i=e.escapeExpression;return' <div class="zCreateOption mR30"> <span class="zCreateOptionImg dIB mB15"></span> <span class="dB ttUppercase crm-base-font-size mB10">'+i(r(null!=a?a.campaignType:a,a))+'</span> <link-to lt-prop-id="submenu_Campaigns" data-zcqa="dash_submenu_Campaigns" lt-prop-route="crm.tab.module.create" lt-prop-dp=\'["Campaigns"]\' lt-prop-qp=\'{"fromIntermediatePage":"true", "layoutId":"'+i(r(null!=a?a.layoutId:a,a))+'"}\'> <button class="primarybtn mR0">Create</button> </link-to> </div> '},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,s){var r;return'<div id="rwb" class="rwb"> <div class="cvpadding"> <div class="set_mw"> <table width="100%" border="0" cellspacing="0" cellpadding="0"> <tbody> <tr> <td id="heading_icon" class="Campaigns-titleIcon"></td> <td id="heading_title" class="dvTitle pL30 pR30 "> <table border="0" cellspacing="0" cellpadding="0"> <tbody> <tr> <td class="vaM">Create Campaign</td> </tr> </tbody> </table> </td> <td class="alignRight pR30"> <span class="svgIcons ico-close op5 cP dIB"></span> </td> </tr> </tbody> </table> </div> </div> <div class="p30"> <div class="aligncenter mT80"> '+(null!=(r=t.each.call(null!=a?a:{},a,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?r:"")+" </div> </div> </div>"},useData:!0}),a.EncryptionNotification=e({compiler:[7,">= 4.0.0"],main:function(e,a,t,n,s){var r=e.escapeExpression;return'<li id="encryptionMsg'+r(e.lambda(null!=a?a.id:a,a))+'" class="m0 p20 scheduledDataList"> <div class="progressBarAnime dN"> <p id="encProgMsg" class="pB20 pR pL8"></p> <div class="pR progBarWarp"> <div class="progBarWheel"> </div> </div> </div> <div class="schedularMsg dN w95_per"> <span class="closeIconScheduler cP" onclick="Encryption.closeNotification(this)"></span> <p id="encComMsg" class="pB5 pL10 pR"></p> <p id="unqComMsg" class="pB5 pL10 pR dN"></p> <a href="javascript:void(0)" class="crm-small-font-size mL2 pL10 tdUnderline viewInfoTbl"  onclick="Encryption.showViewInfo(this)">'+r(t.getI18n.call(null!=a?a:{},"crm.encryption.view.info",{name:"getI18n",hash:{},data:s}))+'</a> <div class="crm-extra-small-font-size viewInfoData wbBreakAll " style="display: none;"> </div> </div> </li>'},useData:!0}),a.EncryptionPopup=e({compiler:[7,">= 4.0.0"],main:function(e,a,t,n,s){var r;return'<div id="ENCNOTIFICATION" class="schedularProgress-pop pFixed"> <div class="schedularPop-Header"> <h2 class="crm-subheading-font-size pT7 pR10 pB7 pL18 schedularMsg crm-font-regular">'+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.notify.encryption.progress.title",{name:"getI18n",hash:{},data:s}))+'<a href="javascript:;" class="dB fR minimizeSchedularPop pR mT5" onclick="Encryption.encPopClose()"></a></h2> </div> <ul class="m0 pL20 pR20 scheduledList"> '+(null!=(r=e.invokePartial(n.EncryptionNotification,a,{name:"EncryptionNotification",data:s,helpers:t,partials:n,decorators:e.decorators}))?r:"")+" </ul> </div>"},usePartial:!0,useData:!0}),a.ExportPopUp=e({compiler:[7,">= 4.0.0"],main:function(e,a,t,n,s){var r=null!=a?a:{},i=e.escapeExpression;return'<div class=" newPopup oH" id="EXPORTPOP" style="position : fixed; right: 20px; width: 380px; bottom: 28px; z-index: 999"> <div class="chatPopTitle p10 crm-base-font-size lh20" style="text-align: center; cursor: move" onclick="crmExportWMSMsg.exportPopup(this)"> <span id="callTitleSpan" class="pL5"> '+i(t.getI18n.call(r,"crm.report.export.title.status",{name:"getI18n",hash:{},data:s}))+' </span> <div class="summinusdiv" style="height: 25px; width: 25px; float: right; cursor: pointer;" onclick="crmExportWMSMsg.callHide(this);sE(event);"> <img id="export_spacer" src="'+i(t.getCrmImageUrl.call(r,"spacer.gif",{name:"getCrmImageUrl",hash:{},data:s}))+'" class="zcicn-arrow-line-down-sm-mask zcicn-cssIcons zcicn-rotate-180 fR mT7" title="Hide Business Card"> </div> <div class="sumplusdiv" style="height: 25px; width: 25px; float: right; display: none; cursor: pointer;" onclick="crmExportWMSMsg.callShow(this);sE(event);"> <img id="export_spacer" src="'+i(t.getCrmImageUrl.call(r,"spacer.gif",{name:"getCrmImageUrl",hash:{},data:s}))+'" class="zcicn-arrow-line-down-sm-mask zcicn-cssIcons zcicn-rotate-180 fR mT7" title="Show Business Card"> </div> </div> <div class="ChatContains" style="max-height: 295px; overflow-y: scroll; overflow-x: hidden; width: 380px"> <div class ="chatDiv"> <div class="chatContainer pR" style="width: 340px"> <div id="businessView"> <div> <div class="ExportFileName FileName crm-font-bold fL  mB10 mL15 " style="color: var(--baseColor); font-size: var(--crm-extra-medium-font-size); width: 150px; text-overflow: ellipsis; overflow: hidden; float: left; white-space: nowrap;"></div> <div data-zcqa="div_DownloadAuditLog" class="cBoth  Downstatus crm-small-font-size mL15" style="color: var(--notfoundColor); font-weight: normal;display: inline-block"> <span class="fL"> '+i(t.getI18n.call(r,"crm.report.export.start.msg",{name:"getI18n",hash:{},data:s}))+' </span> <img id="export_loading" src="'+i(t.getCrmImageUrl.call(r,"loading.gif",{name:"getCrmImageUrl",hash:{},data:s}))+'" align="absmiddle" class="fL mT7" /> <a class="cancellink fR bt-smallnewgraybtn newgraybtn" onclick="crmExportWMSMsg.callCancel(this);sE(event);" style="cursor: pointer;">'+i(t.getI18n.call(r,"crm.button.cancel",{name:"getI18n",hash:{},data:s}))+'</a> <a class="downloadingLink primarybtn bt-smallprimarybtn" style="display:none;">'+i(t.getI18n.call(r,"crm.view.attachment.downloading",{name:"getI18n",hash:{},data:s}))+'</a> <div class="slidercontainer fL pR mT3" style="display: none; margin-left: 10px; overflow: hidden"> <div class="slidercolor pA"></div> </div> </div> </div> <div></div> </div> <span class="exportCloseIcon svgIcons ico-close-small2 dIB cP pA" style="display: none"></span> </div> </div> </div> <script type="text/javascript"> var targetElement = document.querySelector(".newPopup.oH");\n\t\n\tvar isDragging = false;\n\tvar relX;\n\ttargetElement.addEventListener("mousedown", function(event) {\n\t   isDragging = true;\n\t   relX = event.clientX - targetElement.offsetLeft;\n\t   \n\t });\n\t \n\tdocument.addEventListener("mousemove", function(event) {\n\t   if (isDragging) {\n\t\t    event.preventDefault();\n\t\t    event.stopPropagation();\n\t\t    \n\t\t\tvar newPosX = event.clientX - relX;\n\t\t    if (newPosX < 0) {\n\t\t      newPosX = 0;\n\t\t    } else if (newPosX + targetElement.offsetWidth > window.innerWidth) {\n\t\t      newPosX = window.innerWidth - targetElement.offsetWidth;\n\t\t    }\n\t\t    targetElement.style.left = newPosX + "px";     \n\t   }\n\t });\n\t \n\t\n\tdocument.addEventListener("mouseup", function() {\n\t   isDragging = false;\n\t }); <\/script> </div> '},useData:!0}),a.GlobalPicklistMapOptions=e({1:function(e,a,t,n,s){var r,i=e.lambda,l=e.escapeExpression,o=null!=a?a:{};return' <tr class="gpOptionsMappingTableTR"> <td width="25%" colspan="2" class="crmEllipticText gpOptionsMappingTableTD gpOptionsMappingTableTDLabel pR10 crmLabelColor"><label id="'+l(i(null!=a?a.id:a,a))+'" value="'+l(i(null!=a?a.id:a,a))+'" title="'+l(i(null!=a?a.display_value:a,a))+'">'+l(i(null!=a?a.display_value:a,a))+"</label> "+(null!=(r=t.if.call(o,null!=a?a.mandatory:a,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?r:"")+' </td> <td width="60%" class="gpOptionsMappingTableTD '+(null!=(r=t.if.call(o,null!=a?a.mandatory:a,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?r:"")+'"> <div class="dIB vaM maxW300 newSelect w100_per mR0"> <select class="globaloptions" onclick="sE(event);" onChange="CMB.mapPickOptions(this,\''+l(t.encodeJS.call(o,null!=a?a.id:a,{name:"encodeJS",hash:{},data:s}))+"','"+l(t.encodeJS.call(o,null!=a?a.display_value:a,{name:"encodeJS",hash:{},data:s}))+'\');"> <option value="None">None</option> </select> </div> </td> </tr> '},2:function(e,a,t,n,s){var r=null!=a?a:{},i=e.escapeExpression;return' <a class="dB crmEllipticText crm-small-font-size" href="javascript:;" onclick="CMB.showAssociatedActionsForMandatory(\''+i(t.encodeJS.call(r,null!=a?a.id:a,{name:"encodeJS",hash:{},data:s}))+"','"+i(t.encodeJS.call(r,null!=a?a.display_value:a,{name:"encodeJS",hash:{},data:s}))+"')\">"+i(t.getI18n.call(r,"mb.globalfield.mandatory.items",{name:"getI18n",hash:{},data:s}))+"</a> "},4:function(e,a,t,n,s){return"gpMandatoryField"},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,s){var r;return'<table class="w100_per gpOptionsMappingTable brCollapse"> '+(null!=(r=t.each.call(null!=a?a:{},a,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?r:"")+" <table>"},useData:!0}),a.GlobalPicklistMapOptionsDiv=e({compiler:[7,">= 4.0.0"],main:function(e,a,t,n,s){return'<div style="max-height: 280px;" id="globalOptionsDiv"> <div id="globalOptionsDivChild" class="oA"> </div> </div>'},useData:!0}),a.InsertLinkInTemplates=e({1:function(e,a,t,n,s){var r,i=null!=a?a:{},l=e.escapeExpression;return' <div class="textFld  tabDivCreate"> <div class="labelTabCreate pL5 pR fL"> '+l(t.getI18n.call(i,"zc.editor.button.linktype",{name:"getI18n",hash:{},data:s}))+' </div> <div onclick="zebuilder.fnshowlinks(event,this);" class="temSelLink crm-base-font-size labelValCreate cP fL" selectedType="zp_urlLink" id="temSelLink"> <span class="dIB pR pR25 sellinkTypes"  id="selectlinkTypes">'+l(t.getI18n.call(i,"zc.editor.url",{name:"getI18n",hash:{},data:s}))+"</span> </div> <div class=\"cBoth\"></div> </div> <div class=\"cmpfrm1\"> <div class='textFld cFix  tabDivCreate m0 newmandatory zclnktab' id='ze_lnkTextTab'> <div class='labelTabCreate  pL5 pR fL'> <label>"+l(t.getI18n.call(i,"ze.editor.selected.text",{name:"getI18n",hash:{},data:s}))+"</label> </div> <div class='labelValCreate fL'> <input type='text' class='w80' data-zcqa='ze_linkText' id='ze_selTxt'></input> </div> <span class='errMsg' id='errorMsgText' style='display: none;'></span> <div class='cBoth'></div> </div> <div class='textFld cFix  tabDivCreate m0 newmandatory zclnktab' id='ze_lnkUrlTab'> <div class='labelTabCreate  pL5 pR fL'> <label>"+l(t.getI18n.call(i,"crm.field.label.url",{name:"getI18n",hash:{},data:s}))+"</label> </div> <div class='labelValCreate fL'> <input id='ze_lnkurl' data-zcqa='ze_linkUrl' type='text' placeholder='http://www.example.com' class='w80' onkeyup='inSplnk.fnUpdateSIQTracking();' onblur='inSplnk.fnUpdateSIQTracking();'/> </div> <span class='errMsg' id='errMsgUrl' style='display: none;'></span> <div class='cBoth'></div> </div> <div class='textFld cFix tabDivCreate m0 zclnktab' id='ze_lnkUrlToolTipTab'> <div class='labelTabCreate pL5 pR fL'> <label>"+l(t.getI18n.call(i,"ze.editor.title.tool.tip",{name:"getI18n",hash:{},data:s}))+"</label> </div> <div class='labelValCreate fL'> <input type='text' maxlength='50' data-zcqa='ze_linkTitle' id='ze_urlTitle' class='w80'></input> </div> </div> <div class='textFld cFix tabDivCreate m0 newmandatory zclnktab' id='ze_lnkEmailTab' style='display:none;'> <div class='labelTabCreate pL5 pR fL'> <label>"+l(t.getI18n.call(i,"crm.email.chk",{name:"getI18n",hash:{},data:s}))+"</label> </div> <div class='labelValCreate fL'> <input type='text' data-zcqa='ze_linkEmail' id='ze_lnkemail' class='w80'></input> </div> <span class='errMsg' id='errorMsgEmail' style='display: none;'></span> <div class='cBoth'></div> </div> <div class='textFld cFix  tabDivCreate m0 zclnktab' id='ze_lnkSubjectTab' style='display:none;'> <div class='labelTabCreate pL5 pR fL'> <label>"+l(t.getI18n.call(i,"crm.label.subject",{name:"getI18n",hash:{},data:s}))+"</label> </div> <div class='labelValCreate fL'> <input type='text' data-zcqa='ze_linkSubject' id='ze_lnksubject' class='w80'></input> </div> <span class='errMsg' id='errorMsgSbjt' style='display: none;'></span> <div class='cBoth'></div> </div> <div class='textFld cFix tabDivCreate m0 zclnktab' id='ze_lnkEmailToolTipTab' style='display:none;'> <div class='labelTabCreate pL5 pR fL'> <label>"+l(t.getI18n.call(i,"ze.editor.title.tool.tip",{name:"getI18n",hash:{},data:s}))+"</label> </div> <div class='labelValCreate fL'> <input type='text' maxlength='50' data-zcqa='ze_linkTitle' id='ze_emailTitle' class='w80'></input> </div> </div> <div class='textFld cFix tabDivCreate m0 newmandatory zclnktab' id='ze_lnkConsentTab' style='display:none;'> <div class='labelTabCreate  pL5 pR fL'> <label>"+l(t.getI18n.call(i,"crm.consent.language",{name:"getI18n",hash:{},data:s}))+"</label> </div> <div class='labelValCreate fL cP' id='ConsentFormSelectValDiv' onclick='inSplnk.fnLanguageList(\"ze_link\",event,\"ConsentFormSelectValDiv\");'> <span class='dIB pR pR25' id='ConsentFormSelectVal' value=''>"+l(t.getI18n.call(i,"crm.select",{name:"getI18n",hash:{},data:s}))+"</span> </div> <span class='errMsg' id='errorMsgSelectLink' style='display: none;'>"+l(t.getI18n.call(i,"crm.ConsentForm.select.alert",{name:"getI18n",hash:{},data:s}))+"</span> <div class='cBoth'></div> </div> "+(null!=(r=e.invokePartial(n.dataRequestLink,null!=a?a.dataReqDiv:a,{name:"dataRequestLink",data:s,helpers:t,partials:n,decorators:e.decorators}))?r:"")+" <div class='textFld cFix tabDivCreate m0 newmandatory zclnktab' id='ze_lnkUnsubsTab' style='display:none;'> <div class='labelTabCreate  pL5 pR fL'> <label>"+l(t.getI18n.call(i,"crm.unsubscription.link",{name:"getI18n",hash:{},data:s}))+"</label> </div> <div class='labelValCreate fL cP' id='unsubSelectValDiv' onclick='inSplnk.showUnsubscriptionList(\"ze_link\",event,\"unsubSelectValDiv\",true);'> <span class='dIB pR pR25' id='unsubSelectVal' value=''>"+l(t.getI18n.call(i,"crm.select",{name:"getI18n",hash:{},data:s}))+"</span> </div> <span class='errMsg' id='errorMsgUnsubSelectLink' style='display: none;'>"+l(t.getI18n.call(i,"crm.unsubscription.select.alert",{name:"getI18n",hash:{},data:s}))+"</span> <div class='cBoth'></div> </div> "},3:function(e,a,t,n,s){var r=null!=a?a:{},i=e.escapeExpression;return" <div class=\"cmpfrm1\"> <div class='textFld cFix  tabDivCreate m0 newmandatory zclnktab' id='ze_lnkTextTab'> <div class='labelTabCreate  pL5 pR fL'> <label>"+i(t.getI18n.call(r,"ze.editor.selected.text",{name:"getI18n",hash:{},data:s}))+"</label> </div> <div class='labelValCreate fL'> <input type='text' class='w80' data-zcqa='ze_linkText' id='ze_selTxt'></input> </div> <span class='errMsg' id='errorMsgText' style='display: none;'></span> <div class='cBoth'></div> </div> <div class='textFld cFix  tabDivCreate m0 newmandatory zclnktab' id='ze_lnkUrlTab'> <div class='labelTabCreate  pL5 pR fL'> <label>"+i(t.getI18n.call(r,"crm.field.label.url",{name:"getI18n",hash:{},data:s}))+"</label> </div> <div class='labelValCreate fL'> <input id='ze_lnkurl' data-zcqa='ze_linkUrl' type='text' placeholder='http://www.example.com' class='w80'/> </div> <span class='errMsg' id='errMsgUrl' style='display: none;'></span> <div class='cBoth'></div> </div> "},5:function(e,a,t,n,s){var r;return" "+(null!=(r=e.invokePartial(n.zFormsLink,a,{name:"zFormsLink",data:s,helpers:t,partials:n,decorators:e.decorators}))?r:"")+" "},7:function(e,a,t,n,s){return' <div class="mB30 zclnktab" style="display: none;" id="ze_ZohoSurveytab"></div> '},9:function(e,a,t,n,s){var r=null!=a?a:{},i=e.escapeExpression;return' <div class="mT20" id="salesiqtrackparamdiv"> <label class="newCustomchkbox-md" for="enableSIQTracking"> <input type="checkbox" id=\'enableSIQTracking\' class="mCheckbox" data-zcqa=\'enableSIQTracking\' onclick="inSplnk.fnToggleSIQTracking();"> <span class="mCheckboxSpan"></span> <span class="crmParagraphColor dIB crm-base-font-size mL5 vaM" for="enableSIQTracking">'+i(t.getI18n.call(r,"crm.salesiq.allow.tracking.param",{name:"getI18n",hash:{},data:s}))+'</span> </label> <span class="dIB vaT"><i class="dIB  ico-info2 vaT mT4 svgIcons sIq"  onmouseenter="window.parent.template.newshowtt(this,\'center\',\'bottom\');" onmouseleave="window.parent.template.newhidett()"  id="siqParamHintIcon" data-zcqa="siqParamHintIcon" overtext=\''+i(t.getI18nwithoutParamI18n.call(r,"crm.salesiq.allow.tracking.param.hint",null!=a?a.primaryNameFieldLabelForHint:a,null!=a?a.primaryEmailFieldLabelForHint:a,{name:"getI18nwithoutParamI18n",hash:{},data:s}))+'\'></i></span> <div class="sIq_desk pR"> \x3c!--textarea readonly="" id="siqTrackingEnabledURL" value="" class="sIq_txtAra"></textarea--\x3e <div class="sIq_Txtwrap"> <div  id="siqTrackingEnabledURL" class="sIq_txtAra" data-zcqa="siqTrackingEnabledURL"> <span id="siq_Url"></span><span id="siq_trackingParam" class="siq_trackingParam"></span> </div> </div> </div> </div> <div class="ze_freeze" id="custom_freeze" style="display:none;background-color: var(--baseColor);height: 100%;opacity: .5;filter: Alpha(opacity = 50);position: absolute;width: 99.4%;width: 100%;left: 0;top: 0;"></div> '},11:function(e,a,t,n,s){var r=null!=a?a:{},i=e.escapeExpression;return' <li id="zp_ConsentFormLink" class="" data-zcqa="ze_consentMode" onclick="createLink.fnlnktabclick(\'zp_ConsentFormLink\');">'+i(t.getI18n.call(r,"crm.consent.form.link",{name:"getI18n",hash:{},data:s}))+'</li> <li id="zp_DataRequestLink" class=""  data-zcqa="ze_dataReqMode"  onclick="createLink.fnlnktabclick(\'zp_DataRequestLink\');">'+i(t.getI18n.call(r,"crm.datarequest.link",{name:"getI18n",hash:{},data:s}))+"</li> "},13:function(e,a,t,n,s){return' <li id="zp_DoubleOptInLink" class=""  data-zcqa="ze_DoubleOptInMode"  onclick="createLink.fnlnktabclick(\'zp_DoubleOptInLink\');">'+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.doubleoptin.link",{name:"getI18n",hash:{},data:s}))+"</li> "},15:function(e,a,t,n,s){return' <li id="zp_ZohoFormLink" style="display:block" data-zcqa="zp_ZohoFormLink" onclick="createLink.fnlnktabclick(\'zp_ZohoFormLink\',\'3\');">Zoho Forms</li> '},17:function(e,a,t,n,s){return' <li id="zp_ZohoSurveyLink" style="display:block" data-zcqa="zp_ZohoSurveyLink" data-params=\'{"action":"surveyDetails","from":"editorAddToElem","editorType":"htmlEditor"}\' onclick="createLink.fnlnktabclick(\'zp_ZohoSurveyLink\',\'4\');">Zoho Survey</li> '},19:function(e,a,t,n,s){var r=null!=a?a:{};return' <li id="zp_ZohoWebinarLink" style="display:block" data-zcqa="zp_ZohoWebinarLink" onclick="createLink.fnlnktabclick(\'zp_ZohoWebinarLink\',\'4\');">'+e.escapeExpression(t.getI18n.call(r,"zwebinar.registration.url.dynamic",t.getIntegrationName.call(r,"ZOHO_WEBINAR",{name:"getIntegrationName",hash:{},data:s}),{name:"getI18n",hash:{},data:s}))+"</li> "},21:function(e,a,t,n,s){return' <li id="zp_unsubscriptionLink" class="linkTypes"  data-zcqa="ze_unsubscribeMode"  onclick="createLink.fnlnktabclick(\'zp_unsubscriptionLink\');">'+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.unsubscription.link",{name:"getI18n",hash:{},data:s}))+"</li> "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,s){var r,i=null!=a?a:{},l=e.escapeExpression;return"<div class='zcrm-content p30 pL40 pR40 ze_link_editor'> <div class='popup-model-header crm-heading-font-size crm-font-bold fs pB20 bxShTp'>"+l(t.getI18n.call(i,"ze.editor.addlink",{name:"getI18n",hash:{},data:s}))+"</div> <div class='popup-model-content borderNone crm-subheading-font-size'> "+(null!=(r=t.unless.call(i,null!=a?a.isPrivacyEditor:a,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?r:"")+" "+(null!=(r=t.if.call(i,null!=a?a.isPrivacyEditor:a,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?r:"")+" "+(null!=(r=t.if.call(i,null!=a?a.formsIntegEnabled:a,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?r:"")+" "+(null!=(r=t.if.call(i,null!=a?a.isSurveyEnabled:a,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?r:"")+" "+(null!=(r=t.ifCondLogic.call(i,null!=a?a.isLiveDeskEnabled:a,"==",!0,"&&",null!=a?a.isLiveDeskSupportedModule:a,"==",!0,{name:"ifCondLogic",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?r:"")+" <div class='popup-model-footer txtrht pT30'> <input type='button' value='"+l(t.getI18n.call(i,"crm.button.cancel",{name:"getI18n",hash:{},data:s}))+"' data-zcqa='ze_linkCancel' id='lnkcancel'  class='newgraybtn'></input> <input type='button' value='"+l(t.getI18n.call(i,"crm.button.save",{name:"getI18n",hash:{},data:s}))+'\' id=\'lnksve\' data-zcqa=\'ze_linkSave\' class=\'primarybtn\'></input> </div> </div> </div> <div id="showlinkTypes" style=\'display: none;\' class="crm-base-font-size zeLinkTypes pA bg_white"> <ul class="p0 m0"> <li id="zp_urlLink" class="valSel selectType"  data-zcqa="ze_urlMode" onclick="createLink.fnlnktabclick(\'zp_urlLink\');">'+l(t.getI18n.call(i,"zc.editor.url",{name:"getI18n",hash:{},data:s}))+'</li> <li id="zp_mailLink" class=""  data-zcqa="ze_emailMode" onclick="createLink.fnlnktabclick(\'zp_mailLink\');">'+l(t.getI18n.call(i,"zc.editor.email",{name:"getI18n",hash:{},data:s}))+"</li> "+(null!=(r=t.if.call(i,null!=a?a.isprivacyEnabled:a,{name:"if",hash:{},fn:e.program(11,s,0),inverse:e.noop,data:s}))?r:"")+" "+(null!=(r=t.if.call(i,null!=a?a.isDoubleOptInEnabled:a,{name:"if",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s}))?r:"")+" "+(null!=(r=t.if.call(i,null!=a?a.formsIntegEnabled:a,{name:"if",hash:{},fn:e.program(15,s,0),inverse:e.noop,data:s}))?r:"")+" "+(null!=(r=t.if.call(i,null!=a?a.isSurveyEnabled:a,{name:"if",hash:{},fn:e.program(17,s,0),inverse:e.noop,data:s}))?r:"")+" "+(null!=(r=t.if.call(i,null!=a?a.isWebinarEnabled:a,{name:"if",hash:{},fn:e.program(19,s,0),inverse:e.noop,data:s}))?r:"")+" "+(null!=(r=t.if.call(i,null!=a?a.isUnsubscribeSupport:a,{name:"if",hash:{},fn:e.program(21,s,0),inverse:e.noop,data:s}))?r:"")+' </ul> </div> <div class="zcrm-modal zcrm-effect" id="nTsIqCancelPop" style="max-width: 395px !important;z-index: 1000;"> <div class="zcrm-content " style="overflow:visible"> <div> <div class="popup-model-content-siq pB0" style="overflow:visible;"> <div class="siq-header">'+l(t.getI18n.call(i,"ze.editor.exist.siq.param.head",{name:"getI18n",hash:{},data:s}))+'</div> <div class="pT15 color666 crm-subheading-font-size alttext siq-txt-cont" id="folderTitle6 content"><div class="siq-txt-cont-inner">'+(null!=(r=t.getI18n.call(i,"ze.editor.exist.siq.param",{name:"getI18n",hash:{},data:s}))?r:"")+'</div></div> <div class="popup-model-footer-siq"> <input type="button" value="'+l(t.getI18n.call(i,"ze.editor.exist.siq.yes.replace",{name:"getI18n",hash:{},data:s}))+'" class="primarybtn mR0 vaT cP siq-btn-padding" onclick="inSplnk.fnTrackProceedConfirm();" data-zcqa="proceedAddSIQParam"> <input type="button" value="'+l(t.getI18n.call(i,"ze.editor.exist.siq.no.keep.old",{name:"getI18n",hash:{},data:s}))+'" class="newgraybtn siq-btn-padding" onclick="inSplnk.fnHideConfirmPopup();" data-zcqa="removeAddSIQParam"> <div style="clear:both"></div> </div> <input type="hidden" id="conflictSource" value="" ></input> </div> </div> </div> </div> '},usePartial:!0,useData:!0}),a.MultipleFieldsEdit=e({1:function(e,a,t,n,s){return' <div id="multipleFieldsEditPop" class="ppTop is-scroll w980 newPopupStyleEle" style="top:0px;width: 1100px;box-shadow: 0 5px 15px rgba(0,0,0,.5);"> <div class="bPPopupFreezLayer"></div> '},3:function(e,a,t,n,s){return' <lyte-button id="bpsaveasdraft" class="fL" data-zcqa="multipleFieldEditSaveAsDraftBtn" lt-prop-disabled="false" onclick="ProcessFlow.interceptSaveMulitipleFieldsEdit(undefined, true)" lt-prop-appearance="primary" lt-prop-class="outlineprimary"> <template is="registerYield" yield-name="text">'+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.button.save.draft",{name:"getI18n",hash:{},data:s}))+"</template></lyte-button> "},5:function(e,a,t,n,s){return" </div> "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,s){var r,i=null!=a?a:{},l=e.escapeExpression,o=e.lambda;return(null!=(r=t.unless.call(i,null!=a?a.SkipContainer:a,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?r:"")+' <div class="pp-header crm-heading-font-size crm-font-regular bxShTp" style="word-wrap: break-word;">'+l(t.getI18n.call(i,"crm.automation.process.update.fields",{name:"getI18n",hash:{},data:s}))+'</div> <div class="bp_inner_rlTab"> <input type="hidden" value="'+l(o(null!=(r=null!=a?a.data:a)?r.module:r,a))+'" id="multipleFieldEditModule"></input> <input type="hidden" value="'+l(o(null!=(r=null!=a?a.data:a)?r.entityId:r,a))+'" id="multipleFieldEditEntityId"></input> <input type="hidden" value="'+l(o(null!=(r=null!=a?a.data:a)?r.transitionRelId:r,a))+'" id="multipleFieldEditTransRelId"></input> <ul class="commentabmenu bpRLcommentabmenu" id="duringTabs"></ul> </div> <div id="duringTabDivs" class="duringTabDivsClass"> </div> <div class="pp-footer"> <input id="cancel" type="button" data-zcqa="multipleFieldEditCancelBtn" value="'+l(t.getI18n.call(i,"crm.button.cancel",{name:"getI18n",hash:{},data:s}))+'" onclick="ProcessFlow.cancelMulitipleFieldsEdit()" class="newgraybtn"> <input type="button" data-zcqa="multipleFieldEditSaveBtn" id="multipleFieldEditSaveBtn" value="'+l(t.getI18n.call(i,"crm.button.save",{name:"getI18n",hash:{},data:s}))+'" onclick="ProcessFlow.interceptSaveMulitipleFieldsEdit()" class="primarybtn readOnlyMode fR" style="display: inline-block;"> '+(null!=(r=t.if.call(i,null!=(r=null!=a?a.data:a)?r.isOptionalFldEnabled:r,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?r:"")+" </div> "+(null!=(r=t.unless.call(i,null!=a?a.SkipContainer:a,{name:"unless",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?r:"")+" "},useData:!0}),a.PicklistReplaceValue=e({1:function(e,a,t,n,s){return" "+e.escapeExpression(t.getI18n.call(null!=a?a:{},"globalfield.replace.status.heading",{name:"getI18n",hash:{},data:s}))+" "},3:function(e,a,t,n,s){return" "+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.picklist.notification.title",{name:"getI18n",hash:{},data:s}))+" "},5:function(e,a,t,n,s){var r,i=null!=a?a:{};return" "+(null!=(r=t.getI18n.call(i,"globalfield.replace.notification.progress.msg",t.encodeHTML.call(i,null!=(r=null!=a?a.pickListDetails:a)?r.fromValueStr:r,{name:"encodeHTML",hash:{},data:s}),t.encodeHTML.call(i,null!=(r=null!=a?a.pickListDetails:a)?r.toValueStr:r,{name:"encodeHTML",hash:{},data:s}),{name:"getI18n",hash:{},data:s}))?r:"")+" "},7:function(e,a,t,n,s){var r,i=null!=a?a:{};return" "+(null!=(r=t.getI18n.call(i,"crm.picklist.notification.progress.msg",t.encodeHTML.call(i,null!=(r=null!=a?a.pickListDetails:a)?r.fromValueStr:r,{name:"encodeHTML",hash:{},data:s}),t.encodeHTML.call(i,null!=(r=null!=a?a.pickListDetails:a)?r.toValueStr:r,{name:"encodeHTML",hash:{},data:s}),{name:"getI18n",hash:{},data:s}))?r:"")+" "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,s){var r,i=null!=a?a:{};return'<div id="rls-contSharStaLoad-pop" class="pFixed schedularProgress-pop"> <div class="schedularPop-Header"> <h2 class="crm-subheading-font-size pT7 pR10 pB7 pL18 crm-font-regular"> '+(null!=(r=t.ifCond.call(i,null!=a?a.type:a,"==","Global Picklist",{name:"ifCond",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?r:"")+' <a href="javascript:;" class="dB fR minimizeSchedularPop pR mT5" onclick="crmExportWMSMsg.showHidePicklistSchedulerDiv();"></a></h2> </div> <ul class="m0 pL20 pR20 scheduledList"> <li class="m0 p20 scheduledDataList picklistReplaceList" id ="picklist_pop_'+e.escapeExpression(e.lambda(null!=a?a.jobId:a,a))+'"> <div class="picklist_progress progressBarAnime"> <p class="pB20 pR pL8"> '+(null!=(r=t.ifCond.call(i,null!=a?a.type:a,"==","Global Picklist",{name:"ifCond",hash:{},fn:e.program(5,s,0),inverse:e.program(7,s,0),data:s}))?r:"")+' </p> <div class="pR progBarWarp"> <div class="progBarWheel"></div> </div> </div> </li> </ul> </div> '},useData:!0}),a.PopupLayout=e({1:function(e,a,t,n,s){var r;return(null!=(r=t.each.call(null!=a?a:{},null!=(r=null!=a?a.header:a)?r.classes:r,{name:"each",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?r:"")+" "},2:function(e,a,t,n,s){var r;return" "+(null!=(r=e.lambda(a,a))?r:"")+" "},4:function(e,a,t,n,s){return" "},6:function(e,a,t,n,s){var r;return"&nbsp;-&nbsp;<span class='crmNotFoundColor crm-base-font-size'>"+e.escapeExpression(e.lambda(null!=(r=null!=a?a.header:a)?r.subtext:r,a))+"</span>"},8:function(e,a,t,n,s){var r,i=e.lambda,l=e.escapeExpression,o=null!=a?a:{};return' <input  type="button" class="'+l(i(null!=a?a.class_type:a,a))+'" '+(null!=(r=t.if_eq.call(o,null!=a?a.disabled:a,!0,{name:"if_eq",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?r:"")+" "+(null!=(r=t.if.call(o,null!=a?a.id:a,{name:"if",hash:{},fn:e.program(11,s,0),inverse:e.noop,data:s}))?r:"")+" "+(null!=(r=t.each.call(o,null!=a?a.attributes:a,{name:"each",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?r:"")+'value="'+l(i(null!=a?a.value:a,a))+'" '+(null!=(r=t.if.call(o,null!=a?a.click_text:a,{name:"if",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s}))?r:"")+"> "},9:function(e,a,t,n,s){return"disabled "},11:function(e,a,t,n,s){return' id="'+e.escapeExpression(e.lambda(null!=a?a.id:a,a))+'" '},13:function(e,a,t,n,s){return' onclick="'+e.escapeExpression(e.lambda(null!=a?a.click_text:a,a))+'" '},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,s){var r,i=null!=a?a:{},l=e.lambda,o=e.escapeExpression;return'<div class="newPopup ppTop '+(null!=(r=t.if.call(i,null!=(r=null!=a?a.header:a)?r.classes:r,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(4,s,0),data:s}))?r:"")+' is-scroll newInputStyleEle newPopupStyleEle pL0 pR0" id="'+o(l(null!=(r=null!=a?a.header:a)?r.id:r,a))+'" style="display: none;"> <div class="pp-header" id="cm_title">'+o(l(null!=(r=null!=a?a.header:a)?r.title:r,a))+" "+(null!=(r=t.isNotEmpty.call(i,null!=(r=null!=a?a.header:a)?r.subtext:r,{name:"isNotEmpty",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?r:"")+'</div> <div class="pp-content"> '+(null!=(r=l(null!=a?a.body:a,a))?r:"")+' </div> <div class="pp-footer '+o(l(null!=(r=null!=a?a.footer:a)?r.alignment:r,a))+'"> '+(null!=(r=t.each.call(i,null!=(r=null!=a?a.footer:a)?r.buttons:r,{name:"each",hash:{},fn:e.program(8,s,0),inverse:e.noop,data:s}))?r:"")+" </div> </div>"},useData:!0}),a.TemplateMergeFields=e({1:function(e,a,t,n,s){var r,i=e.lambda,l=e.escapeExpression;return' <option moduleEle="'+l(i(null!=a?a.moduleName:a,a))+'"  value="'+l(i(null!=a?a.moduleLabel:a,a))+'" class="'+(null!=(r=t.ifEquals.call(null!=a?a:{},null!=a?a.isSubFormTab:a,!0,{name:"ifEquals",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?r:"")+'" type="'+l(i(null!=a?a.type:a,a))+'">'+l(i(null!=a?a.moduleLabel:a,a))+"</option>"},2:function(e,a,t,n,s){return" isSubFormTab "},4:function(e,a,t,n,s,r,i){var l;return" "+(null!=(l=t.each.call(null!=a?a:{},null!=a?a.sections:a,{name:"each",hash:{},fn:e.program(5,s,0,r,i),inverse:e.noop,data:s}))?l:"")},5:function(e,a,t,n,s,r,i){var l,o=null!=a?a:{},d=e.lambda,c=e.escapeExpression;return" <ul  class='modulesFields m0 p0 crmWhiteColor fontSmooth "+(null!=(l=t.if.call(o,null!=i[1]?i[1].isSubFormTab:i[1],{name:"if",hash:{},fn:e.program(2,s,0,r,i),inverse:e.noop,data:s}))?l:"")+"' modName=\""+c(d(null!=i[1]?i[1].moduleLabel:i[1],a))+'" tabName="'+c(d(null!=i[1]?i[1].moduleName:i[1],a))+"\" data-zcqa='"+c(t.concat.call(o,null!=i[1]?i[1].type:i[1],"_",null!=i[1]?i[1].moduleLabel:i[1],{name:"concat",hash:{},data:s}))+"_ModuleFields' id='"+c(t.concat.call(o,null!=i[1]?i[1].type:i[1],"_",null!=i[1]?i[1].moduleLabel:i[1],{name:"concat",hash:{},data:s}))+"_ModuleFields' style='"+(null!=(l=t.ifNotEquals.call(o,e.data(s,1)&&e.data(s,1).index,0,{name:"ifNotEquals",hash:{},fn:e.program(6,s,0,r,i),inverse:e.noop,data:s}))?l:"")+"'> "+(null!=(l=t.if.call(o,null!=a?a.isOrganization:a,{name:"if",hash:{},fn:e.program(8,s,0,r,i),inverse:e.noop,data:s}))?l:"")+" "+(null!=(l=t.each.call(o,null!=a?a.fields:a,{name:"each",hash:{},fn:e.program(10,s,0,r,i),inverse:e.noop,data:s}))?l:"")+" </ul>"},6:function(e,a,t,n,s){return" display:none "},8:function(e,a,t,n,s){return' <li class="mergeSections crm-small-font-size crmNotFoundColor ttUppercase mT10  pR20">'+e.escapeExpression(e.lambda(null!=a?a.name:a,a))+"></li> "},10:function(e,a,t,n,s,r,i){var l,o=null!=a?a:{},d=e.lambda,c=e.escapeExpression;return" <li class='mergeOptions crmWhiteColor cP pT5 pB5 pR20 "+(null!=(l=t.ifEquals.call(o,null!=a?a.isSubRestriction:a,!0,{name:"ifEquals",hash:{},fn:e.program(11,s,0,r,i),inverse:e.noop,data:s}))?l:"")+(null!=(l=t.ifEquals.call(o,null!=a?a.logo:a,!0,{name:"ifEquals",hash:{},fn:e.program(13,s,0,r,i),inverse:e.noop,data:s}))?l:"")+(null!=(l=t.ifEquals.call(o,null!=a?a.sign:a,!0,{name:"ifEquals",hash:{},fn:e.program(15,s,0,r,i),inverse:e.noop,data:s}))?l:"")+"' val='"+c(d(null!=a?a.value:a,a))+"' onclick=\""+c(d(null!=(l=null!=i[3]?i[3].callback:i[3])?l.fieldClick:l,a))+'">'+c(d(null!=a?a.fieldLabel:a,a))+"</li>"},11:function(e,a,t,n,s){return" isSubRestriction "},13:function(e,a,t,n,s){return" logoMergeFields "},15:function(e,a,t,n,s){return" signMergeFields"},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,s,r,i){var l,o=null!=a?a:{};return'<div id="templateMergeValuesDIV" class="alignLeft br3 pA  pB5 zi10" onclick="sE(event);" style="display:none;"> <i class="setDDPopupAbG" style="left: 6px;"><i class="setDDPopupA"></i></i> <ul class="pL0 pR0 pB0 m0" id="searchMergeValues" data-zcqa="searchMergeValues" style="display:none"> </ul> <div class="" id="listMergeValues"> <div id="moduleOptionsList" class=\'mT10 mL10 mR10 mB5 br3 newEditorModuleList\'> <select id="moduleOptions" data-zcqa="moduleOptions" onchange="'+e.escapeExpression(e.lambda(null!=(l=null!=a?a.callback:a)?l.selectChange:l,a))+'"> '+(null!=(l=t.each.call(o,null!=(l=null!=a?a.mergeFields:a)?l.modules:l,{name:"each",hash:{},fn:e.program(1,s,0,r,i),inverse:e.noop,data:s}))?l:"")+' </select> </div> <div class="oA" style="max-height:200px;" id="moduleFieldsList"> '+(null!=(l=t.each.call(o,null!=(l=null!=a?a.mergeFields:a)?l.modules:l,{name:"each",hash:{},fn:e.program(4,s,0,r,i),inverse:e.noop,data:s}))?l:"")+" </div> </div> </div> "},useData:!0,useDepths:!0}),a.blockListWarning=e({compiler:[7,">= 4.0.0"],main:function(e,a,t,n,s){var r=null!=a?a:{},i=e.escapeExpression;return'<div id="blockListWarning" class="newpopup is-scroll ppTop aligncenter showPpTop w500 newInputStyleEle newPopupStyleEle" style="height: auto;overflow: visible;"> <div class="pp-header"></div> <div class="pp-content crm-base-font-size crmBaseColor pB0 alignLeft">'+i(t.getI18n.call(r,"crm.add.blocklist.record.warning.msg",{name:"getI18n",hash:{},data:s}))+'</div> <div class="pp-footer aligncenter"> <button data-zcqa=\'proceed\' class="redbtn">'+i(t.getI18n.call(r,"crm.yes.proceed",{name:"getI18n",hash:{},data:s}))+"</button> <button data-zcqa='cancel' class=\"newgraybtn\" onclick=\"renderingUtils.removeFreezeLayer();$('#blockListWarning').remove();$('#searchCreatePopup').removeClass('blockListPopOverride');\">"+i(t.getI18n.call(r,"crm.consent.lawbasis.cancel",{name:"getI18n",hash:{},data:s}))+"</button> </div> </div>"},useData:!0}),a.criteriaEditor=e({1:function(e,a,t,n,s){return'class="hide"'},3:function(e,a,t,n,s,r,i){var l;return" "+(null!=(l=t.each.call(null!=a?a:{},a,{name:"each",hash:{},fn:e.program(4,s,0,r,i),inverse:e.noop,data:s}))?l:"")+" "},4:function(e,a,t,n,s,r,i){var l;return' \x3c!--optgroup label="'+e.escapeExpression(e.lambda(s&&s.key,a))+'" style="border:none"--\x3e '+(null!=(l=t.each.call(null!=a?a:{},a,{name:"each",hash:{},fn:e.program(5,s,0,r,i),inverse:e.noop,data:s}))?l:"")+" \x3c!--/optgroup--\x3e "},5:function(e,a,t,n,s,r,i){var l;return" "+(null!=(l=t.ifCondLogic.call(null!=a?a:{},null!=a?a.display_type:a,"!=",0,"||",null!=i[3]?i[3].source:i[3],"==","blueprint",{name:"ifCondLogic",hash:{},fn:e.program(6,s,0,r,i),inverse:e.noop,data:s}))?l:"")+" "},6:function(e,a,t,n,s,r,i){var l;return" "+(null!=(l=t.isNotPartOf.call(null!=a?a:{},"LATITUDE,EMAILTEMPLATEID,DISCOUNT_TYPE,DISCOUNT_PERCENTAGE",null!=a?a.column_name:a,{name:"isNotPartOf",hash:{},fn:e.program(7,s,0,r,i),inverse:e.noop,data:s}))?l:"")+" "},7:function(e,a,t,n,s,r,i){var l,o=e.lambda,d=e.escapeExpression,c=null!=a?a:{};return" <option col="+d(o(null!=a?a.column_name:a,a))+' datatype="'+d(o(null!=a?a.data_type:a,a))+'" ind="'+d(o(s&&s.index,a))+'"  fieldlabel="'+d(o(null!=a?a.field_label:a,a))+'" module="'+d(o(null!=a?a.module:a,a))+'" id="'+d(t.getDataType.call(c,a,{name:"getDataType",hash:{},data:s}))+'" value="'+(null!=(l=t.if.call(c,null!=i[3]?i[3].addModulePrefix:i[3],{name:"if",hash:{},fn:e.program(8,s,0,r,i),inverse:e.noop,data:s}))?l:"")+d(o(null!=a?a.api_name:a,a))+'" '+(null!=(l=t.ifEquals.call(c,null!=a?a.data_type:a,"currency",{name:"ifEquals",hash:{},fn:e.program(11,s,0,r,i),inverse:e.noop,data:s}))?l:"")+' data-params="'+d(t.getFieldDetails.call(c,a,{name:"getFieldDetails",hash:{},data:s}))+'" data-enc="'+d(o(null!=a?a["data-enc"]:a,a))+'" data-enc-related="'+d(o(null!=a?a["data-enc-related"]:a,a))+'" '+(null!=(l=t.ifEquals.call(c,null!=a?a.data_type:a,"predefined",{name:"ifEquals",hash:{},fn:e.program(13,s,0,r,i),inverse:e.noop,data:s}))?l:"")+" "+(null!=(l=t.if.call(c,null!=a?a.decimal_place:a,{name:"if",hash:{},fn:e.program(15,s,0,r,i),inverse:e.noop,data:s}))?l:"")+" "+(null!=(l=t.ifCond.call(c,null!=a?a.disabled:a,"=",!0,{name:"ifCond",hash:{},fn:e.program(18,s,0,r,i),inverse:e.noop,data:s}))?l:"")+" "+(null!=(l=t.ifCond.call(c,null!=a?a.tooltip:a,"!=",void 0,{name:"ifCond",hash:{},fn:e.program(20,s,0,r,i),inverse:e.noop,data:s}))?l:"")+">"+d(o(null!=a?a.display_label:a,a))+(null!=(l=t.ifNotEquals.call(c,e.data(s,2)&&e.data(s,2).index,0,{name:"ifNotEquals",hash:{},fn:e.program(22,s,0,r,i),inverse:e.noop,data:s}))?l:"")+"</option> "},8:function(e,a,t,n,s,r,i){var l;return null!=(l=t.if.call(null!=a?a:{},e.data(s,1)&&e.data(s,1).key,{name:"if",hash:{},fn:e.program(9,s,0,r,i),inverse:e.noop,data:s}))?l:""},9:function(e,a,t,n,s,r,i){return e.escapeExpression(e.lambda(e.data(s,1)&&e.data(s,1).key,a))+"."},11:function(e,a,t,n,s){return"currency='true'"},13:function(e,a,t,n,s){var r=e.lambda,i=e.escapeExpression;return'comparator="'+i(r(null!=a?a.comparator:a,a))+'" val="'+i(r(null!=a?a.value:a,a))+'"'},15:function(e,a,t,n,s){var r;return null!=(r=t.ifNotEquals.call(null!=a?a:{},null!=a?a.decimal_place:a,null,{name:"ifNotEquals",hash:{},fn:e.program(16,s,0),inverse:e.noop,data:s}))?r:""},16:function(e,a,t,n,s){return'data-decimal-length="'+e.escapeExpression(e.lambda(null!=a?a.decimal_place:a,a))+'"'},18:function(e,a,t,n,s){return"disabled"},20:function(e,a,t,n,s){return"tooltip='"+e.escapeExpression(e.lambda(null!=a?a.tooltip:a,a))+"'"},22:function(e,a,t,n,s,r,i){var l;return null!=(l=t.if.call(null!=a?a:{},null!=i[3]?i[3].suffixModule:i[3],{name:"if",hash:{},fn:e.program(23,s,0,r,i),inverse:e.noop,data:s}))?l:""},23:function(e,a,t,n,s){return" ( "+e.escapeExpression(t.getDisplayModuleName.call(null!=a?a:{},null!=a?a.module:a,!1,{name:"getDisplayModuleName",hash:{},data:s}))+" )"},25:function(e,a,t,n,s){return""},27:function(e,a,t,n,s){return" <span id='searchstampmSpan' class='ampmSpan'  ampm='AM' >"+e.escapeExpression(t.getI18n.call(null!=a?a:{},"AM",{name:"getI18n",hash:{},data:s}))+"</span> <input type='hidden' id='searchstampm' value='AM' class='searchampm'> "},29:function(e,a,t,n,s){return" <span id='searchetampmSpan' data-zcqa='searchetampmSpan1' class='ampmSpan' ampm='AM' >"+e.escapeExpression(t.getI18n.call(null!=a?a:{},"AM",{name:"getI18n",hash:{},data:s}))+"</span><input type='hidden' id='searchetampm' data-zcqa='searchetampm1' value='AM' class='searchampm'> "},31:function(e,a,t,n,s,r,i){var l;return" "+(null!=(l=t.each.call(null!=a?a:{},a,{name:"each",hash:{},fn:e.program(32,s,0,r,i),inverse:e.noop,data:s}))?l:"")+" "},32:function(e,a,t,n,s,r,i){var l;return' \x3c!--optgroup label="'+e.escapeExpression(e.lambda(s&&s.key,a))+'" style="border:none"--\x3e '+(null!=(l=t.each.call(null!=a?a:{},a,{name:"each",hash:{},fn:e.program(33,s,0,r,i),inverse:e.noop,data:s}))?l:"")+" \x3c!--/optgroup--\x3e "},33:function(e,a,t,n,s,r,i){var l,o=e.lambda,d=e.escapeExpression,c=null!=a?a:{};return' <div class="dN mmlmodule'+d(o(s&&s.index,a))+'" id="mmlmodule'+d(o(s&&s.index,a))+'" > <select id="searchfield1" class="searchfld"> \x3c!-- <option value="none" id="text">'+d(t.getI18n.call(c,"None",{name:"getI18n",hash:{},data:s}))+'</option> --\x3e \x3c!-- <option value="Leads" id="text">'+d(t.getI18n.call(c,"Leads",{name:"getI18n",hash:{},data:s}))+'</option> <option value="Accounts" id="text">'+d(t.getI18n.call(c,"Accounts",{name:"getI18n",hash:{},data:s}))+'</option> <option value="Contacts" id="text">'+d(t.getI18n.call(c,"Contacts",{name:"getI18n",hash:{},data:s}))+"</option> --\x3e \x3c!-- <option col="+d(o(null!=a?a.column_name:a,a))+' module="'+d(o(null!=a?a.module:a,a))+'" id="'+d(t.getDataType.call(c,a,{name:"getDataType",hash:{},data:s}))+'" value="'+(null!=(l=t.if.call(c,null!=i[3]?i[3].addModulePrefix:i[3],{name:"if",hash:{},fn:e.program(8,s,0,r,i),inverse:e.noop,data:s}))?l:"")+d(o(null!=a?a.api_name:a,a))+'" '+(null!=(l=t.ifEquals.call(c,null!=a?a.data_type:a,"currency",{name:"ifEquals",hash:{},fn:e.program(11,s,0,r,i),inverse:e.noop,data:s}))?l:"")+' data-params="'+d(t.getFieldDetails.call(c,a,{name:"getFieldDetails",hash:{},data:s}))+'" data-enc="'+d(o(null!=a?a["data-enc"]:a,a))+'" '+(null!=(l=t.ifEquals.call(c,null!=a?a.data_type:a,"predefined",{name:"ifEquals",hash:{},fn:e.program(13,s,0,r,i),inverse:e.noop,data:s}))?l:"")+" "+(null!=(l=t.if.call(c,null!=a?a.decimal_place:a,{name:"if",hash:{},fn:e.program(15,s,0,r,i),inverse:e.noop,data:s}))?l:"")+" "+(null!=(l=t.ifCond.call(c,null!=a?a.disabled:a,"=",!0,{name:"ifCond",hash:{},fn:e.program(18,s,0,r,i),inverse:e.noop,data:s}))?l:"")+" "+(null!=(l=t.ifCond.call(c,null!=a?a.tooltip:a,"!=",void 0,{name:"ifCond",hash:{},fn:e.program(20,s,0,r,i),inverse:e.noop,data:s}))?l:"")+"> --\x3e "+(null!=(l=t.formConditions1.call(c,null!=a?a.multimodule:a,{name:"formConditions1",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+" \x3c!-- </option> --\x3e </select> </div> "},35:function(e,a,t,n,s){return'hideOperator="true"'},37:function(e,a,t,n,s,r,i){var l;return" "+(null!=(l=t.each.call(null!=a?a:{},a,{name:"each",hash:{},fn:e.program(38,s,0,r,i),inverse:e.noop,data:s}))?l:"")+" "},38:function(e,a,t,n,s,r,i){var l;return' \x3c!--optgroup label="'+e.escapeExpression(e.lambda(s&&s.key,a))+'" style="border:none"--\x3e '+(null!=(l=t.each.call(null!=a?a:{},a,{name:"each",hash:{},fn:e.program(39,s,0,r,i),inverse:e.noop,data:s}))?l:"")+" \x3c!--/optgroup--\x3e "},39:function(e,a,t,n,s,r,i){var l;return" "+(null!=(l=t.ifNotEquals.call(null!=a?a:{},null!=a?a.sys_ref_name:a,"Connected_To__s",{name:"ifNotEquals",hash:{},fn:e.program(40,s,0,r,i),inverse:e.noop,data:s}))?l:"")+" "},40:function(e,a,t,n,s,r,i){var l;return" "+(null!=(l=t.ifCondLogic.call(null!=a?a:{},null!=a?a.column_name:a,"!=","EMAILTEMPLATEID","&&",null!=a?a.sys_ref_name:a,"!=","Pricing_Details",{name:"ifCondLogic",hash:{},fn:e.program(41,s,0,r,i),inverse:e.noop,data:s}))?l:"")+" "},41:function(e,a,t,n,s,r,i){var l;return" "+(null!=(l=t.ifCondLogic.call(null!=a?a:{},null!=a?a.display_type:a,"!=",0,"||",null!=i[3]?i[3].source:i[3],"==","blueprint",{name:"ifCondLogic",hash:{},fn:e.program(42,s,0,r,i),inverse:e.noop,data:s}))?l:"")+" "},42:function(e,a,t,n,s,r,i){var l;return" "+(null!=(l=t.isNotPartOf.call(null!=a?a:{},"DISCOUNT_TYPE,DISCOUNT_PERCENTAGE",null!=a?a.column_name:a,{name:"isNotPartOf",hash:{},fn:e.program(43,s,0,r,i),inverse:e.noop,data:s}))?l:"")+" "},43:function(e,a,t,n,s,r,i){var l,o=e.lambda,d=e.escapeExpression,c=null!=a?a:{};return" <option col="+d(o(null!=a?a.column_name:a,a))+' datatype="'+d(o(null!=a?a.data_type:a,a))+'" ind="'+d(o(s&&s.index,a))+'" fieldlabel="'+d(o(null!=a?a.field_label:a,a))+'"  module="'+d(o(null!=a?a.module:a,a))+'" id="'+d(t.getDataType.call(c,a,{name:"getDataType",hash:{},data:s}))+'" value="'+(null!=(l=t.if.call(c,null!=i[3]?i[3].addModulePrefix:i[3],{name:"if",hash:{},fn:e.program(8,s,0,r,i),inverse:e.noop,data:s}))?l:"")+d(o(null!=a?a.api_name:a,a))+'" '+(null!=(l=t.ifEquals.call(c,null!=a?a.data_type:a,"currency",{name:"ifEquals",hash:{},fn:e.program(11,s,0,r,i),inverse:e.noop,data:s}))?l:"")+' data-params="'+d(t.getFieldDetails.call(c,a,{name:"getFieldDetails",hash:{},data:s}))+'" data-enc="'+d(o(null!=a?a["data-enc"]:a,a))+'" data-enc-related="'+d(o(null!=a?a["data-enc-related"]:a,a))+'" '+(null!=(l=t.ifEquals.call(c,null!=a?a.data_type:a,"predefined",{name:"ifEquals",hash:{},fn:e.program(13,s,0,r,i),inverse:e.noop,data:s}))?l:"")+" "+(null!=(l=t.if.call(c,null!=a?a.decimal_place:a,{name:"if",hash:{},fn:e.program(15,s,0,r,i),inverse:e.noop,data:s}))?l:"")+" "+(null!=(l=t.ifCond.call(c,null!=a?a.disabled:a,"=",!0,{name:"ifCond",hash:{},fn:e.program(18,s,0,r,i),inverse:e.noop,data:s}))?l:"")+" "+(null!=(l=t.ifCond.call(c,null!=a?a.tooltip:a,"!=",void 0,{name:"ifCond",hash:{},fn:e.program(20,s,0,r,i),inverse:e.noop,data:s}))?l:"")+">"+d(o(null!=a?a.display_label:a,a))+(null!=(l=t.ifNotEquals.call(c,e.data(s,2)&&e.data(s,2).index,0,{name:"ifNotEquals",hash:{},fn:e.program(22,s,0,r,i),inverse:e.noop,data:s}))?l:"")+"</option> "},45:function(e,a,t,n,s){return e.escapeExpression(t.encodeHTML.call(null!=a?a:{},null!=a?a.localePattern:a,{name:"encodeHTML",hash:{},data:s}))},47:function(e,a,t,n,s){return"1"},49:function(e,a,t,n,s){return e.escapeExpression(t.encodeHTML.call(null!=a?a:{},null!=a?a.currentPattern:a,{name:"encodeHTML",hash:{},data:s}))},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,s,r,i){var l,o=e.lambda,d=e.escapeExpression,c=null!=a?a:{};return' <div class="pwie"> <div id=\'criteriaDiv'+d(o(null!=a?a.suffix:a,a))+'\' class="crtEditorDiv" feature="'+d(o(null!=a?a.featureName:a,a))+'"> <table class="newFormContBlk" cellpadding="0" cellspacing="0" width="100%" class="mT5"> <tr> <td valign="top"> <div > <table  style="display:none"> <tbody> <tr id="searchcriteria0" data-index=\'0\'> <td style="opacity:1;" '+(null!=(l=t.if.call(c,null!=a?a.hideOperator:a,{name:"if",hash:{},fn:e.program(1,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'> <div class="wf_slideDownUp_Div" style="height: auto; opacity: 1; overflow: visible;"> <div class="andOrOp" style="opacity: 1; height: auto;"> <label id="matchConditionLabel" class="cus_cb_label" onClick="wfForm.setOprSel_new(this,\''+d(t.encodeJS.call(c,null!=a?a.suffix:a,{name:"encodeJS",hash:{},data:s}))+'\');"> <input type="checkbox" id="condition_inp'+d(o(null!=a?a.suffix:a,a))+'" class="cus_cb_inp" onClick="sE(event);" checked> <span class="cus_cb_sp"> <span id="matchCndtnAnd'+d(o(null!=a?a.suffix:a,a))+'" class="cus_cb_and alink">'+d(t.getI18n.call(c,"crm.label.and",{name:"getI18n",hash:{},data:s}))+'</span> <span id="matchCndtnOr'+d(o(null!=a?a.suffix:a,a))+'" class="cus_cb_or alink">'+d(t.getI18n.call(c,"crm.label.or",{name:"getI18n",hash:{},data:s}))+'</span> </span> </label> <select id="match'+d(o(null!=a?a.suffix:a,a))+'"  class="hide searchMatch" onChange="Search.changeOprValPattern_new(this, \''+d(t.encodeJS.call(c,null!=a?a.suffix:a,{name:"encodeJS",hash:{},data:s}))+'\')"> <option value="and" data-val="AND" selected>'+d(t.getI18n.call(c,"crm.label.and",{name:"getI18n",hash:{},data:s}))+'</option> <option value="or" data-val="OR">'+d(t.getI18n.call(c,"crm.label.or",{name:"getI18n",hash:{},data:s}))+'</option> </select> </div> <input type="text" id="patternNum'+d(o(null!=a?a.suffix:a,a))+'" class="searchMatchText" value=\'1\' readOnly> </div> </td> <td width=""> <div class="wf_slideDownUp_Div" style="height: auto; opacity: 1; overflow: visible;"> <div class=\'wf_chosen_ui\' onmouseover = "Search.hideCS(this)"> <input type="hidden" id="previousSelectedValue'+d(o(null!=a?a.suffix:a,a))+'" value=""> <select id="searchfield" class="searchfld" onChange="Search.changeField_new(this);wfForm.setSltVal(this);"> <option value="none" id="text">'+d(t.getI18n.call(c,"None",{name:"getI18n",hash:{},data:s}))+"</option> "+(null!=(l=t.each.call(c,null!=a?a.fields:a,{name:"each",hash:{},fn:e.program(3,s,0,r,i),inverse:e.noop,data:s}))?l:"")+' </select> </div> <div> </td> <td valign="top"> <div class="wf_slideDownUp_Div" style="height: auto; opacity: 1; overflow: visible;"> <div class=\'wf_chosen_ui\' id=\'textcondition\'> <select id="textcondition" class="searchcond" onChange="Search.changeCondition(this);wfForm.setSltVal(this);" disabled>'+(null!=(l=t.formConditions.call(c,"TXTCOND1","true",{name:"formConditions",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> <div class=\'wf_chosen_ui\' id=\'enc_textcondition\' style="display:none"> <select id="enc_textcondition" class="searchcond" onChange="Search.changeCondition(this);wfForm.setSltVal(this);" disabled>'+(null!=(l=t.formConditions.call(c,"ENCTXTCOND1","true",{name:"formConditions",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> <div class=\'wf_chosen_ui\' id=\'booleancondition\' style="display:none"> <select id="booleancondition" class="searchcond"><option value="equal">'+d(t.getI18n.call(c,"is",{name:"getI18n",hash:{},data:s}))+'</option></select> </div> <div class=\'wf_chosen_ui\' id=\'defaultcondition\' style="display:none"> <select id="defaultcondition" class="searchcond" onChange="Search.changeCondition(this);wfForm.setSltVal(this);">'+(null!=(l=t.formConditions.call(c,"DEFAULT","true",{name:"formConditions",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> <div class=\'wf_chosen_ui\' id=\'usercondition\' style="display:none"> <select id="usercondition" class="searchcond" onChange="Search.changeCondition(this);wfForm.setSltVal(this);">'+(null!=(l=t.formConditions.call(c,"USERCONDRG","true",{name:"formConditions",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> <div class=\'wf_chosen_ui\' id=\'servicestatuscondition\' style="display:none"> <select id="servicestatuscondition" class="searchcond" onChange="Search.changeCondition(this);wfForm.setSltVal(this);">'+(null!=(l=t.formConditions.call(c,"SERVICESTATUSCOND",{name:"formConditions",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> <div class=\'wf_chosen_ui\' id=\'defwithemptycondition\' style="display:none"> <select id="defwithemptycondition" class="searchcond" onChange="Search.changeCondition(this);wfForm.setSltVal(this);">'+(null!=(l=t.formConditions.call(c,"DEFAULT","true",{name:"formConditions",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> <div class=\'wf_chosen_ui\' id=\'datecondition\' style="display:none"> <select id="datecondition" class="searchcond" onChange="Search.changeCondition(this);wfForm.setSltVal(this);">'+(null!=(l=t.formConditions.call(c,"DATETIMECOND1","true",{name:"formConditions",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> <div class=\'wf_chosen_ui\' id=\'enc_datecondition\' style="display:none"> <select id="enc_datecondition" class="searchcond" onChange="Search.changeCondition(this);wfForm.setSltVal(this);">'+(null!=(l=t.formConditions.call(c,"ENCTXTCOND1","true",{name:"formConditions",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> <div class=\'wf_chosen_ui\' id=\'numcondition\' style="display:none"> <select id="numcondition" class="searchcond" onChange="Search.changeCondition(this);wfForm.setSltVal(this);">'+(null!=(l=t.formConditions.call(c,"NUMCOND1","true",{name:"formConditions",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> <div class=\'wf_chosen_ui\' id=\'durationcondition\' style="display:none"> <select id="durationcondition" class="searchcond" onChange="Search.changeCondition(this);wfForm.setSltVal(this);">'+(null!=(l=t.formConditions.call(c,"NUMCOND1",{name:"formConditions",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> <div class=\'wf_chosen_ui\' id=\'enc_numcondition\' style="display:none"> <select id="enc_numcondition" class="searchcond" onChange="Search.changeCondition(this);wfForm.setSltVal(this);">'+(null!=(l=t.formConditions.call(c,"ENCNUMCOND1","true",{name:"formConditions",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> <div class=\'wf_chosen_ui\' id=\'cscondition\' style="display:none"> <select id="cscondition" class="searchcond" onChange="Search.changeCondition(this);wfForm.setSltVal(this);">'+(null!=(l=t.formConditions.call(c,"CS",{name:"formConditions",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> <div class=\'wf_chosen_ui\' id=\'consentcondition\' style="display:none"> <select id="consentcondition" class="searchcond" onChange="Search.changeCondition(this);wfForm.setSltVal(this);">'+(null!=(l=t.formConditions.call(c,"CONSENTCOND",{name:"formConditions",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> <div class=\'wf_chosen_ui\' id=\'tagcondition\' style="display:none"> <select id="tagcondition" class="searchcond" onChange="Search.changeCondition(this);wfForm.setSltVal(this);">'+(null!=(l=t.formConditions.call(c,"DEFAULT","true",{name:"formConditions",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> <div class=\'wf_chosen_ui\' id=\'predefinedcondition\' style="display:none"> <select id="predefinedcondition" class="searchcond" onChange="Search.changeCondition(this);wfForm.setSltVal(this);" disabled>'+(null!=(l=t.formConditions.call(c,"PREDEFINED","true",{name:"formConditions",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> <div class=\'wf_chosen_ui\' id=\'stagecond\' style="display:none"> <select id="stagecond" class="searchcond" onChange="Search.changeCondition(this);wfForm.setSltVal(this);" disabled>'+(null!=(l=t.formConditions.call(c,"STAGECOND","true",{name:"formConditions",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> </div> </td> <td valign="top" class="wf_field_type_td" id="wf_field_type_td"> <div class="wf_slideDownUp_Div tr_cnt_1" style="height: auto; opacity: 1; overflow: visible;"> <div class="wf_chosen_ui fL mR10 cri_cr_md_fL wAuto"  id="ageindayscond" style=\'display:none\'> <select id="ageindayscondition" data-zcqa="ageindayscondition1" onchange="wfForm.setSltVal(this);">'+(null!=(l=t.formConditions.call(c,"AGEINDAYSCOND1",{name:"formConditions",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> <div class="wf_chosen_ui fL mR10 cri_cr_md_fL wAuto"  id="lengthconddiv" style=\'display:none\'> <select id="lengthcondition" data-zcqa="lengthcondition1" onchange="Search.changeNOCCondition(this);wfForm.setSltVal(this);">'+(null!=(l=t.formConditions.call(c,"NUMCOND1",{name:"formConditions",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> <div id="searchval_div" class=\'pR userDiv\'> <div data-zcqa="currencyCode" id="currencyCode" class="fL mT10 dN mR5">'+d(t.getUserDetail.call(c,"BASE_CURRENCY",{name:"getUserDetail",hash:{},data:s}))+'</div> <input id="temp_searchcampcv" type="text" class="w342 newinputText fL dN" size="30" readonly> <span id="campCvLookup" class="searchHide" style="position:absolute; right:10px; top:7px;"> <img id="campCvImg" data-zcqa="campCvImg1" src="'+d(t.getCrmImageUrl.call(c,"spacer.gif",{name:"getCrmImageUrl",hash:{},data:s}))+"\" class=\"Campaigns-small\" width=\"17\" height=\"17\" border=\"0\" title=\"Campaign Name Lookup\" align=\"absmiddle\" onClick=\"return Search.campLookup_new(this)\"> </span> <div class=\"dateTimeFlds fL\" style=\"display:none\"> <input type='hidden' id='searchsthour' class='searchhour' data-zcqa='searchsthour1' value='01'> <input type='hidden' id='searchstminute' class='searchmin' data-zcqa='searchstminute1' value='00'> <span class='newtimefrmt newinputText borderLeftNone flexAlignBaseline newDTFld'> <input type='text' id=\"searchstime\" fldlabel='searchst@{pattern}' onClick='sE(event);' value='01:00' maxlength='5' class='textField ddTime searchtime newSrchView'></input> "+(null!=(l=t.ifNotEquals.call(c,null!=a?a.userTimeFormat:a,"HH:mm",{name:"ifNotEquals",hash:{},fn:e.program(27,s,0,r,i),inverse:e.noop,data:s}))?l:"")+' </span> </div> <div id="endTimeFields" style="display:none" class="cri_divdatetime endDateFld fL"> <input size="15" id="searchenddate" data-zcqa="searchenddate1" type="text" class="newinputText fL searchdate"  placeholder="'+d(t.getUserDetail.call(c,"DATE_PATTERN",{name:"getUserDetail",hash:{},data:s}))+"\" onClick=\"showCalen(this.id,undefined, undefined, undefined, true)\"> <div class=\"dateTimeFlds fL\" style=\"display:none\"> <input type='hidden' id='searchethour' class='searchhour' data-zcqa='searchethour1' value='01'> <input type='hidden' id='searchetminute' class='searchmin' data-zcqa='searchetminute1' value='00'> <span class='newtimefrmt newinputText borderLeftNone flexAlignBaseline newDTFld'> <input type='text' id=\"searchetime\" data-zcqa=\"searchetime1\" fldlabel='searchet@{pattern}'  onClick='sE(event);' maxlength='5' value=\"01:00\" class='textField ddTime searchtime newSrchView'></input> "+(null!=(l=t.ifNotEquals.call(c,null!=a?a.userTimeFormat:a,"HH:mm",{name:"ifNotEquals",hash:{},fn:e.program(29,s,0,r,i),inverse:e.noop,data:s}))?l:"")+' </span> </div> </div> <div id="endNumFields" style="display:none" class="cri_divdatetime endDateFld fL"> <input type="text" placeholder=\''+d(t.getI18n.call(c,"crm.gcal.capsto",{name:"getI18n",hash:{},data:s}))+'\' class="w342 newinputText fL searchdate" id="searchEndValue" class="searchvalue" readonly="readonly" onpaste="return Search.handleSearchValPaste(this,event);"> </div> </div> </div> </td> <td class="vaM dN mmlInText" id="mmlInText" width="40"> <span class="mL20 wsNowrap dIB mR20 pT30"> '+d(t.getI18n.call(c,"crm.label.in",{name:"getI18n",hash:{},data:s}))+' </span> </td> <td > <div class="wf_slideDownUp_Div wf_slideDownUp_CritDev" > <div class=\'wf_chosen_ui\' onmouseover = "Search.hideCS(this)"> <input type="hidden" id="previousSelectedValue'+d(o(null!=a?a.suffix:a,a))+'" value=""> '+(null!=(l=t.each.call(c,null!=a?a.fields:a,{name:"each",hash:{},fn:e.program(31,s,0,r,i),inverse:e.noop,data:s}))?l:"")+' </div> <div> </td> <td class="alignLeft" valign="top" id="addOrRemoveCriTD"> <div class="wf_slideDownUp_Div tr_cnt_1" style="height: auto; opacity: 1; overflow: visible;"> <a id="check1" class=\'removeCriteria\' onClick=\'Search.removeCriteria_new(this,"'+d(o(null!=a?a.suffix:a,a))+'");return false;\'/></a> <a id="addRow" class="addCriteria" onClick="Search.addCriteria_new(\''+d(o(null!=a?a.maxCrtCnt:a,a))+"','', '', undefined, this,'"+d(o(null!=a?a.suffix:a,a))+'\');" /></a> </div> </td> </tr> </tbody> </table> <table id="searchlayer_new'+d(o(null!=a?a.suffix:a,a))+'" border="0" cellpadding="0" cellspacing="0" class="newApCriteriaTable newCriUi newSrchView" '+(null!=(l=t.if.call(c,null!=a?a.hideOperator:a,{name:"if",hash:{},fn:e.program(35,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'> <tbody> <tr id="searchcrt1" class="searchcrt" data-index=\'1\'> <td style="opacity:1;" '+(null!=(l=t.if.call(c,null!=a?a.hideOperator:a,{name:"if",hash:{},fn:e.program(1,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'> <div class="wf_slideDownUp_Div" style="height: auto; opacity: 1; overflow: visible;"> <input type="hidden" id="match" value=""> <input type="text" id="patternNum'+d(o(null!=a?a.suffix:a,a))+'" class="searchMatchText" value=\'1\' readOnly> </div> </td> <td width=""> <div class="wf_slideDownUp_Div" style="height: auto; opacity: 1; overflow: visible;"> <div class=\'wf_chosen_ui\' onmouseover = "Search.hideCS(this)"> <input type="hidden" id="previousSelectedValue'+d(o(null!=a?a.suffix:a,a))+'" value=""> <select id="searchfield" class="searchfld" onChange="Search.changeField_new(this);wfForm.setSltVal(this);"> <option value="none" id="text">'+d(t.getI18n.call(c,"None",{name:"getI18n",hash:{},data:s}))+"</option> "+(null!=(l=t.each.call(c,null!=a?a.fields:a,{name:"each",hash:{},fn:e.program(37,s,0,r,i),inverse:e.noop,data:s}))?l:"")+' </select> </div> <div> </td> <td valign="top"> <div class="wf_slideDownUp_Div" style="height: auto; opacity: 1; overflow: visible;"> <div class=\'wf_chosen_ui\' id=\'textcondition\'> <select id="textcondition" class="searchcond searchcondition" onChange="Search.changeCondition(this);wfForm.setSltVal(this);" disabled>'+(null!=(l=t.formConditions.call(c,"TXTCOND1","true",{name:"formConditions",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> <div class=\'wf_chosen_ui\' id=\'enc_textcondition\' style="display:none"> <select id="enc_textcondition" class="searchcond searchcondition" onChange="Search.changeCondition(this);wfForm.setSltVal(this);" disabled>'+(null!=(l=t.formConditions.call(c,"ENCTXTCOND1","true",{name:"formConditions",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> <div class=\'wf_chosen_ui\' id=\'booleancondition\' style="display:none"> <select id="booleancondition" class="searchcond"><option value="equal">'+d(t.getI18n.call(c,"is",{name:"getI18n",hash:{},data:s}))+'</option></select> </div> <div class=\'wf_chosen_ui\' id=\'defaultcondition\' style="display:none"> <select id="defaultcondition" class="searchcond" onChange="Search.changeCondition(this);wfForm.setSltVal(this);">'+(null!=(l=t.formConditions.call(c,"DEFAULT","true",{name:"formConditions",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> <div class=\'wf_chosen_ui\' id=\'usercondition\' style="display:none"> <select id="usercondition" class="searchcond" onChange="Search.changeCondition(this);wfForm.setSltVal(this);">'+(null!=(l=t.formConditions.call(c,"USERCONDRG","true",{name:"formConditions",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> <div class=\'wf_chosen_ui\' id=\'servicestatuscondition\' style="display:none"> <select id="servicestatuscondition" class="searchcond" onChange="Search.changeCondition(this);wfForm.setSltVal(this);">'+(null!=(l=t.formConditions.call(c,"SERVICESTATUSCOND",{name:"formConditions",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> <div class=\'wf_chosen_ui\' id=\'defwithemptycondition\' style="display:none"> <select id="defwithemptycondition" class="searchcond" onChange="Search.changeCondition(this);wfForm.setSltVal(this);">'+(null!=(l=t.formConditions.call(c,"DEFAULT","true",{name:"formConditions",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> <div class=\'wf_chosen_ui\' id=\'datecondition\' style="display:none"> <select id="datecondition" class="searchcond" onChange="Search.changeCondition(this);wfForm.setSltVal(this);">'+(null!=(l=t.formConditions.call(c,"DATETIMECOND1","true",{name:"formConditions",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> <div class=\'wf_chosen_ui\' id=\'enc_datecondition\' style="display:none"> <select id="enc_datecondition" class="searchcond" onChange="Search.changeCondition(this);wfForm.setSltVal(this);">'+(null!=(l=t.formConditions.call(c,"ENCTXTCOND1","true",{name:"formConditions",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> <div class=\'wf_chosen_ui\' id=\'numcondition\' style="display:none"> <select id="numcondition" class="searchcond" onChange="Search.changeCondition(this);wfForm.setSltVal(this);">'+(null!=(l=t.formConditions.call(c,"NUMCOND1","true",{name:"formConditions",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> <div class=\'wf_chosen_ui\' id=\'durationcondition\' style="display:none"> <select id="durationcondition" class="searchcond" onChange="Search.changeCondition(this);wfForm.setSltVal(this);">'+(null!=(l=t.formConditions.call(c,"NUMCOND1",{name:"formConditions",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> <div class=\'wf_chosen_ui\' id=\'enc_numcondition\' style="display:none"> <select id="enc_numcondition" class="searchcond" onChange="Search.changeCondition(this);wfForm.setSltVal(this);">'+(null!=(l=t.formConditions.call(c,"ENCNUMCOND1","true",{name:"formConditions",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> <div class=\'wf_chosen_ui\' id=\'cscondition\' style="display:none"> <select id="cscondition" class="searchcond" onChange="Search.changeCondition(this);wfForm.setSltVal(this);">'+(null!=(l=t.formConditions.call(c,"CS",{name:"formConditions",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> <div class=\'wf_chosen_ui\' id=\'consentcondition\' style="display:none"> <select id="consentcondition" class="searchcond" onChange="Search.changeCondition(this);wfForm.setSltVal(this);">'+(null!=(l=t.formConditions.call(c,"CONSENTCOND",{name:"formConditions",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> <div class=\'wf_chosen_ui\' id=\'neartocondition\' style="display:none"> <select id="neartocondition" class="searchcond" onChange="Search.changeCondition(this);wfForm.setSltVal(this);"><option value="near_to">'+d(t.getI18n.call(c,"Near By",{name:"getI18n",hash:{},data:s}))+'</option></select> </div> <div class=\'wf_chosen_ui\' id=\'tagcondition\' style="display:none"> <select id="tagcondition" class="searchcond" onChange="Search.changeCondition(this);wfForm.setSltVal(this);">'+(null!=(l=t.formConditions.call(c,"DEFAULT","true",{name:"formConditions",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> <div class=\'wf_chosen_ui\' id=\'predefinedcondition\' style="display:none"> <select id="predefinedcondition" class="searchcond searchcondition" onChange="Search.changeCondition(this);wfForm.setSltVal(this);" disabled>'+(null!=(l=t.formConditions.call(c,"PREDEFINED","true",{name:"formConditions",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> <div class=\'wf_chosen_ui\' id=\'stagecond\' style="display:none"> <select id="stagecond" class="searchcond" onChange="Search.changeCondition(this);wfForm.setSltVal(this);" disabled>'+(null!=(l=t.formConditions.call(c,"STAGECOND","true",{name:"formConditions",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> </div> </td> <td valign="top"  class="wf_field_type_td" id="wf_field_type_td"> <div class="wf_slideDownUp_Div tr_cnt_1" style="height: auto; opacity: 1; overflow: visible;"> <div class="wf_chosen_ui fL mR10 cri_cr_md_fL wAuto"  id="ageindayscond" style=\'display:none\'> <select id="ageindayscondition" data-zcqa="ageindayscondition1" onchange="wfForm.setSltVal(this);">'+(null!=(l=t.getDateTimeCVFilters.call(c,"AGEINDAYSCOND1",{name:"getDateTimeCVFilters",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> <div class="wf_chosen_ui fL mR10 cri_cr_md_fL wAuto"  id="lengthconddiv" style=\'display:none\'> <select id="lengthcondition" data-zcqa="lengthcondition1" onchange="Search.changeNOCCondition(this);wfForm.setSltVal(this);">'+(null!=(l=t.getDateTimeCVFilters.call(c,"NUMCOND1",{name:"getDateTimeCVFilters",hash:{},fn:e.program(25,s,0,r,i),inverse:e.noop,data:s}))?l:"")+'</select> </div> <div id="searchval_div" class=\'pR userDiv\'> <div data-zcqa="currencyCode" id="currencyCode" class="fL mT10 dN mR5">'+d(t.getUserDetail.call(c,"BASE_CURRENCY",{name:"getUserDetail",hash:{},data:s}))+'</div> <input type="text" class="w342 newinputText fL searchdate" id="searchValue" class="searchvalue" readonly="readonly" onpaste="return Search.handleSearchValPaste(this,event);"> <div id="userComponentDiv'+d(o(null!=a?a.suffix:a,a))+"_0\"> <crm-multiuserdd-wrapper placeholder='"+d(t.getI18n.call(c,"crm.label.select.user",{name:"getI18n",hash:{},data:s}))+"' id=\"temp_searchuser"+d(o(null!=a?a.suffix:a,a))+'" zcqa="temp_searchuser'+d(o(null!=a?a.suffix:a,a))+'" class="userNameObj multiuserDD" selected-users="" selected-names="" field-id="searchValue"> </crm-multiuserdd-wrapper> </div> <input id="temp_searchcampcv" type="text" class="w342 newinputText fL dN" size="30" readonly> <span id="campCvLookup" class="searchHide" style="position:absolute; right:10px; top:7px;"> <img id="campCvImg" data-zcqa="campCvImg1" src="'+d(t.getCrmImageUrl.call(c,"spacer.gif",{name:"getCrmImageUrl",hash:{},data:s}))+"\" class=\"Campaigns-small\" width=\"17\" height=\"17\" border=\"0\" title=\"Campaign Name Lookup\" align=\"absmiddle\" onClick=\"return Search.campLookup_new(this)\"> </span> <div class=\"dateTimeFlds fL\" style=\"display:none\"> <input type='hidden' id='searchsthour' class='searchhour' data-zcqa='searchsthour1' value='01'> <input type='hidden' id='searchstminute' class='searchmin' data-zcqa='searchstminute1' value='00'> <span class='newtimefrmt newinputText borderLeftNone flexAlignBaseline newDTFld'> <input type='text' id=\"searchstime\" fldlabel='searchst@{pattern}' onClick='sE(event);' value='01:00' maxlength='5' class='textField ddTime searchtime newSrchView'></input> "+(null!=(l=t.ifNotEquals.call(c,null!=a?a.userTimeFormat:a,"HH:mm",{name:"ifNotEquals",hash:{},fn:e.program(27,s,0,r,i),inverse:e.noop,data:s}))?l:"")+' </span> </div> <div id="endTimeFields" style="display:none" class="cri_divdatetime endDateFld fL"> <input size="15" id="searchenddate" data-zcqa="searchenddate1" type="text" class="newinputText fL searchdate"  placeholder="'+d(t.getUserDetail.call(c,"DATE_PATTERN",{name:"getUserDetail",hash:{},data:s}))+"\" onClick=\"showCalen(this.id,undefined, undefined, undefined, true)\"> <div class=\"dateTimeFlds fL\" style=\"display:none\"> <input type='hidden' id='searchethour' class='searchhour' data-zcqa='searchethour1' value='01'> <input type='hidden' id='searchetminute' class='searchmin' data-zcqa='searchetminute1' value='00'> <span class='newtimefrmt newinputText borderLeftNone flexAlignBaseline newDTFld criteriaTimeInput'> <input type='text' id=\"searchetime\" data-zcqa=\"searchetime1\" fldlabel='searchet@{pattern}'  onClick='sE(event);' maxlength='5' value=\"01:00\" class='textField ddTime searchtime newSrchView'></input> "+(null!=(l=t.ifNotEquals.call(c,null!=a?a.userTimeFormat:a,"HH:mm",{name:"ifNotEquals",hash:{},fn:e.program(29,s,0,r,i),inverse:e.noop,data:s}))?l:"")+' </span> </div> </div> <div id="endNumFields" style="display:none" class="cri_divdatetime endDateFld fL"> <input type="text" placeholder=\''+d(t.getI18n.call(c,"crm.gcal.capsto",{name:"getI18n",hash:{},data:s}))+'\' class="w342 newinputText fL searchdate" id="searchEndValue" class="searchvalue" readonly="readonly" onpaste="return Search.handleSearchValPaste(this,event);"> </div> </div> </div> </td> <td class="vaM dN mmlInText" id="mmlInText" width="40"> <span class="mL20 wsNowrap dIB mR20"> '+d(t.getI18n.call(c,"crm.label.in",{name:"getI18n",hash:{},data:s}))+' </span> </td> <td> <div class="wf_slideDownUp_Div wf_slideDownUp_CritDev"> <div class=\'wf_chosen_ui\' onmouseover = "Search.hideCS(this)"> <input type="hidden" id="previousSelectedValue'+d(o(null!=a?a.suffix:a,a))+'" value=""> '+(null!=(l=t.each.call(c,null!=a?a.fields:a,{name:"each",hash:{},fn:e.program(31,s,0,r,i),inverse:e.noop,data:s}))?l:"")+' </div> <div> </td> <td class="alignLeft" valign="top" id="addOrRemoveCriTD"> <div class="wf_slideDownUp_Div tr_cnt_1" style="height: auto; opacity: 1; overflow: visible;"> <a id="check1" class=\'removeCriteria\' onClick=\'Search.removeCriteria_new(this,"'+d(o(null!=a?a.suffix:a,a))+'");return false;\' style="display:none;"/></a> <a id="addRow" class="addCriteria" onClick="Search.addCriteria_new(\''+d(o(null!=a?a.maxCrtCnt:a,a))+"','', '', undefined, this,'"+d(o(null!=a?a.suffix:a,a))+'\');" /></a> </div> </td> </tr> <tr style="display:none" class="criPatternTab" id=\'critTable'+d(o(null!=a?a.suffix:a,a))+'\'> <td colspan="0" valign="top"></td> <td colspan="3" class="vaT pR0"> <div class="w100_per oH new_pat_edtr" id="changePattern'+d(o(null!=a?a.suffix:a,a))+'"> <table cellpadding="0" cellspacing="0" border="0" class="new_criPattern w100_per"> <tr class="wf_no_focus"> <td > <span class="crmLabelColor dIB vaM">'+d(t.getI18n.call(c,"Criteria Pattern",{name:"getI18n",hash:{},data:s}))+'</span> </td> <td> <span class="pL0 dIB vaM crmBaseColor crm-font-regular cri_pattern" style="max-width: 67%;" id="pattern'+d(o(null!=a?a.suffix:a,a))+'">'+(null!=(l=t.if.call(c,null!=a?a.currentPattern:a,{name:"if",hash:{},fn:e.program(45,s,0,r,i),inverse:e.program(47,s,0,r,i),data:s}))?l:"")+'</span> <a href="javascript:;" data-zcqa="editPattern_previousSelected" class="mL10 crmLinkColor cP crm-small-font-size crm-font-regular dIB vaM" id="editPattern'+d(o(null!=a?a.suffix:a,a))+'" onClick="Search.changePattern(\''+d(t.encodeJS.call(c,null!=a?a.maxCrtCnt:a,{name:"encodeJS",hash:{},data:s}))+"', '"+d(t.encodeJS.call(c,null!=a?a.suffix:a,{name:"encodeJS",hash:{},data:s}))+"');return false;\">"+d(t.getI18n.call(c,"crm.label.edit.criteria.pattern",{name:"getI18n",hash:{},data:s}))+'</a> <a href="javascript:;" data-zcqa="logintooltipid_previousSelected" id="logintooltipid" class="dIB mT1 mL10 vaM" onmouseover="crmui.toolTip_show(this,\'center\',\''+d(t.getI18n.call(c,"crm.label.context.help",{name:"getI18n",hash:{},data:s}))+'\');" onmouseout="crmui.toolTip_hide();" onClick="openHelp(\''+d(t.getHelpUrl.call(c,"help.change.criteria.pattern",{name:"getHelpUrl",hash:{},data:s}))+'\');return false;"> <crmutil-icon icon-name="info-rounded" icon-class="zcicn-info-rounded  crmBaseIcon"></crmutil-icon> </a> </td> </tr> </table> </div> <div class="new_pat_edtr" id="newpattern'+d(o(null!=a?a.suffix:a,a))+'" style="display:none" > <table id="new_pat_edtr_pattn" cellpadding="0" cellspacing="0" border="0" class="new_criPattern w100_per mT0 wf_form_focus wf_form_UI" onclick="sE(event);"> <tr> <td class="vaT"> <div class="wf_form_lab vaM" >'+d(t.getI18n.call(c,"Criteria Pattern",{name:"getI18n",hash:{},data:s}))+'</div> </td> <td class="pR"> <div class="newinputText p0 vaM new_pattern_ui"> <textarea data-zcqa="patternVal_previousSelected" id="patternVal'+d(o(null!=a?a.suffix:a,a))+'" class="patternVal dB resizeNone" rows="1" style="width:67%; border:none; " >'+(null!=(l=t.if.call(c,null!=a?a.currentPattern:a,{name:"if",hash:{},fn:e.program(49,s,0,r,i),inverse:e.program(47,s,0,r,i),data:s}))?l:"")+'</textarea> </div> <div class="alignRight dIB vaM pA" id="updatePattern'+d(o(null!=a?a.suffix:a,a))+'" style="right: 0px;bottom: 7px;"> <a href="javascript:;" data-zcqa="saveChangePattern_previousSelected" id="saveChangePattern'+d(o(null!=a?a.suffix:a,a))+'" class="crmLinkColor cP crm-small-font-size crm-font-regular" onClick="Search.savePattern(\''+d(t.encodeJS.call(c,null!=a?a.suffix:a,{name:"encodeJS",hash:{},data:s}))+"', true);\">"+d(t.getI18n.call(c,"crm.button.save",{name:"getI18n",hash:{},data:s}))+'</a> <a href="javascript:;" data-zcqa="cancelChangePattern_previousSelected" id="cancelChangePattern'+d(o(null!=a?a.suffix:a,a))+'" class="crmNotFoundColor mL5 crm-small-font-size crm-font-regular" onClick="Search.cancelChangePattern(\''+d(t.encodeJS.call(c,null!=a?a.suffix:a,{name:"encodeJS",hash:{},data:s}))+"', true); return false;\">"+d(t.getI18n.call(c,"crm.button.cancel",{name:"getI18n",hash:{},data:s}))+'</a> </div> <div class="cBoth"></div> </td> </tr> </table> </div> </td> </tr> </tbody> </table> </div></td></tr></table> </div> '},useData:!0,useDepths:!0}),a.crmFormFields=e({1:function(e,a,t,n,s){var r,i=e.lambda,l=e.escapeExpression,o=null!=a?a:{};return' <div class="tabDivCreate" id=\''+l(i(null!=a?a.fieldDiv:a,a))+"' style='"+l(i(null!=a?a.style:a,a))+"'> <div class=\"labelTabCreate pL5 pR "+(null!=(r=t.if_eq.call(o,null!=a?a.mandate:a,"true",{name:"if_eq",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?r:"")+'" id="'+l(i(null!=a?a.valueLabel:a,a))+'_label">'+l(i(null!=a?a.displaylabel:a,a))+'</div><div class="labelValCreate mL45"> <input type="text" '+(null!=(r=t.if_nq.call(o,null!=a?a.readOnly:a,"true",{name:"if_nq",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?r:"")+' class="textField" style="width:100%" id=\''+l(i(null!=a?a.labelId:a,a))+"' "+(null!=(r=t.if_eq.call(o,null!=a?a.readOnly:a,"true",{name:"if_eq",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?r:"")+" data-maxlength='"+l(i(null!=a?a.maxlength:a,a))+"' onblur='"+l(i(null!=a?a.blurfn:a,a))+"' maxlength='"+l(i(null!=a?a.maxlength:a,a))+"' placeholder='"+l(i(null!=a?a.i18fieldType:a,a))+"' data-decimalLength='"+l(i(null!=a?a.decimalLength:a,a))+"' data-zcqa='"+l(i(null!=a?a.labelId:a,a))+"' data-contenttype='"+l(i(null!=a?a.contentType:a,a))+"' data-displaylabel='"+l(i(null!=a?a.displaylabel:a,a))+"' data-i18fieldtype='"+l(i(null!=a?a.i18fieldType:a,a))+"' data-mandate='"+l(i(null!=a?a.mandate:a,a))+"' data-readonly='"+l(i(null!=a?a.readOnly:a,a))+"'  value='"+l(i(null!=a?a.defaultValue:a,a))+"'> </div> </div> "},2:function(e,a,t,n,s){return"newmandatory"},4:function(e,a,t,n,s){return' onfocus="setFocusClass(this);" '},6:function(e,a,t,n,s){return"readonly"},8:function(e,a,t,n,s){var r,i=e.lambda,l=e.escapeExpression,o=null!=a?a:{};return' <div class="tabDivCreate" id=\''+l(i(null!=a?a.fieldDiv:a,a))+"'> <div class=\"labelTabCreate pL5 pR "+(null!=(r=t.if_eq.call(o,null!=a?a.mandate:a,"true",{name:"if_eq",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?r:"")+'" id="'+l(i(null!=a?a.valueLabel:a,a))+'_label">'+l(i(null!=a?a.displaylabel:a,a))+'</div><div class="labelValCreate mL45"> <span id="currencySymbol_'+l(i(null!=a?a.fieldDiv:a,a))+'" class="inpPrefix" style="opacity:0.6;">&nbsp;</span> <input type="text" '+(null!=(r=t.if_nq.call(o,null!=a?a.readOnly:a,"true",{name:"if_nq",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?r:"")+' class="textField" style="width:90%" id=\''+l(i(null!=a?a.labelId:a,a))+"' "+(null!=(r=t.if_eq.call(o,null!=a?a.readOnly:a,"true",{name:"if_eq",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?r:"")+" data-maxlength='"+l(i(null!=a?a.maxlength:a,a))+"' onblur='"+l(i(null!=a?a.blurfn:a,a))+"' maxlength='"+l(i(null!=a?a.maxlength:a,a))+"' placeholder='"+l(i(null!=a?a.i18fieldType:a,a))+"' data-decimalLength='"+l(i(null!=a?a.decimalLength:a,a))+"' data-zcqa='"+l(i(null!=a?a.labelId:a,a))+"' data-contenttype='"+l(i(null!=a?a.contentType:a,a))+"' data-displaylabel='"+l(i(null!=a?a.displaylabel:a,a))+"' data-i18fieldtype='"+l(i(null!=a?a.i18fieldType:a,a))+"' data-mandate='"+l(i(null!=a?a.mandate:a,a))+"' data-readonly='"+l(i(null!=a?a.readOnly:a,a))+"'  value='"+l(i(null!=a?a.defaultValue:a,a))+"'> </div> </div> "},10:function(e,a,t,n,s){var r,i=e.lambda,l=e.escapeExpression,o=null!=a?a:{};return' <div class="tabDivCreate" id=\''+l(i(null!=a?a.fieldDiv:a,a))+"'> <div class=\"labelTabCreate pL5 pR "+(null!=(r=t.if_eq.call(o,null!=a?a.mandate:a,"true",{name:"if_eq",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?r:"")+'" id="'+l(i(null!=a?a.valueLabel:a,a))+'_label">'+l(i(null!=a?a.displaylabel:a,a))+'</div><div class="labelValCreate mL45"> <textarea '+(null!=(r=t.if_nq.call(o,null!=a?a.readOnly:a,"true",{name:"if_nq",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?r:"")+' class="textField" style="width:100%" id=\''+l(i(null!=a?a.labelId:a,a))+"' maxlength='"+l(i(null!=a?a.maxlength:a,a))+"' data-maxlength='"+l(i(null!=a?a.maxlength:a,a))+"' data-zcqa='"+l(i(null!=a?a.labelId:a,a))+"' data-contenttype='"+l(i(null!=a?a.contentType:a,a))+"' data-displaylabel='"+l(i(null!=a?a.displaylabel:a,a))+"' data-mandate='"+l(i(null!=a?a.mandate:a,a))+"' data-i18fieldtype='"+l(i(null!=a?a.i18fieldType:a,a))+"' data-readonly='"+l(i(null!=a?a.readOnly:a,a))+"' >"+l(i(null!=a?a.defaultValue:a,a))+"</textarea> </div> </div> "},12:function(e,a,t,n,s){var r,i=e.lambda,l=e.escapeExpression,o=null!=a?a:{};return' <div class="tabDivCreate" id=\''+l(i(null!=a?a.fieldDiv:a,a))+"'> <div class=\"labelTabCreate pL5 pR "+(null!=(r=t.if_eq.call(o,null!=a?a.mandate:a,"true",{name:"if_eq",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?r:"")+"\" id='"+l(i(null!=a?a.valueLabel:a,a))+"_label'>"+l(i(null!=a?a.displaylabel:a,a))+'</div><div class="labelValCreate mL45"> <input data-fieldType="dateField" data-showExecution=\''+l(i(null!=a?a.showexecution:a,a))+"' placeholder='"+l(i(null!=a?a.datePattern:a,a))+"' data-datePattern='"+l(i(null!=a?a.datePattern:a,a))+"' onblur='"+l(i(null!=a?a.blurfn:a,a))+'\' type="text" '+(null!=(r=t.if_nq.call(o,null!=a?a.readOnly:a,"true",{name:"if_nq",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?r:"")+' class="textField" data-i18fieldtype=\''+l(i(null!=a?a.i18fieldType:a,a))+"' style=\"width:100%\" id='"+l(i(null!=a?a.labelId:a,a))+"'  maxlength=\"100\" data-zcqa='"+l(i(null!=a?a.labelId:a,a))+"' data-contenttype='"+l(i(null!=a?a.contentType:a,a))+"' data-mandate='"+l(i(null!=a?a.mandate:a,a))+"' data-displaylabel='"+l(i(null!=a?a.displaylabel:a,a))+"' data-readonly='"+l(i(null!=a?a.readOnly:a,a))+"' "+(null!=(r=t.if_eq.call(o,null!=a?a.readOnly:a,"true",{name:"if_eq",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s}))?r:"")+" value='"+l(i(null!=a?a.defaultValue:a,a))+"'> </div> </div> "},13:function(e,a,t,n,s){return" readonly "},15:function(e,a,t,n,s){var r,i=e.lambda,l=e.escapeExpression,o=null!=a?a:{};return' <div class="tabDivCreate" id=\''+l(i(null!=a?a.fieldDiv:a,a))+"'> <div class=\"labelTabCreate pL5 pR "+(null!=(r=t.if_eq.call(o,null!=a?a.mandate:a,"true",{name:"if_eq",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?r:"")+"\" id='"+l(i(null!=a?a.valueLabel:a,a))+"_label'>"+l(i(null!=a?a.displaylabel:a,a))+'</div><div class="labelValCreate mL45"> <input type="text" data-fieldType="dateField" data-showExecution=\''+l(i(null!=a?a.showexecution:a,a))+"' data-contenttype='"+l(i(null!=a?a.contentType:a,a))+"' data-mandate='"+l(i(null!=a?a.mandate:a,a))+"' onblur='"+l(i(null!=a?a.blurfn:a,a))+"' placeholder='"+l(i(null!=a?a.datePattern:a,a))+"'  data-displaylabel='"+l(i(null!=a?a.displaylabel:a,a))+"' data-i18fieldtype='"+l(i(null!=a?a.i18fieldType:a,a))+"' data-datePattern='"+l(i(null!=a?a.datePattern:a,a))+'\' type="text" '+(null!=(r=t.if_nq.call(o,null!=a?a.readOnly:a,"true",{name:"if_nq",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?r:"")+' class="textField"  id="'+l(i(null!=a?a.labelId:a,a))+'"  maxlength="100" data-zcqa=\''+l(i(null!=a?a.labelId:a,a))+"' data-readonly='"+l(i(null!=a?a.readOnly:a,a))+"' value='"+l(i(null!=a?a.defaultValue:a,a))+'\'> <input type="text" data-fieldType="timeField" type="text" '+(null!=(r=t.if_nq.call(o,null!=a?a.readOnly:a,"true",{name:"if_nq",hash:{},fn:e.program(16,s,0),inverse:e.noop,data:s}))?r:"")+" placeholder='"+l(i(null!=a?a.timePattern:a,a))+"'class=\"textField "+(null!=(r=t.if.call(o,null!=a?a.addClass:a,{name:"if",hash:{},fn:e.program(18,s,0),inverse:e.noop,data:s}))?r:"")+'"  id="'+l(i(null!=a?a.labelId:a,a))+'_TimeOption"  maxlength="100" data-zcqa=\''+l(i(null!=a?a.labelId:a,a))+"' data-contenttype='"+l(i(null!=a?a.contentType:a,a))+"' data-displaylabel='"+l(i(null!=a?a.displaylabel:a,a))+"' data-mandate='"+l(i(null!=a?a.mandate:a,a))+"' data-readonly='"+l(i(null!=a?a.readOnly:a,a))+"' readonly='"+l(i(null!=a?a.readOnly:a,a))+"' value='"+l(i(null!=a?a.timevalue:a,a))+"'> </div> </div> "},16:function(e,a,t,n,s){return" "},18:function(e,a,t,n,s){return e.escapeExpression(e.lambda(null!=a?a.addClass:a,a))},20:function(e,a,t,n,s){var r,i=e.lambda,l=e.escapeExpression,o=null!=a?a:{};return' <div class="tabDivCreate" id=\''+l(i(null!=a?a.fieldDiv:a,a))+"'> <div class=\"labelTabCreate pL5 pR "+(null!=(r=t.if_eq.call(o,null!=a?a.mandate:a,"true",{name:"if_eq",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?r:"")+"\" id='"+l(i(null!=a?a.valueLabel:a,a))+"_label'>"+l(i(null!=a?a.displaylabel:a,a))+'</div><div class="labelValCreate mL45"> <input type="checkbox" id=\''+l(i(null!=a?a.labelId:a,a))+"' data-zcqa='"+l(i(null!=a?a.labelId:a,a))+"' data-contenttype='"+l(i(null!=a?a.contentType:a,a))+"' data-displaylabel='"+l(i(null!=a?a.displaylabel:a,a))+"' data-mandate='"+l(i(null!=a?a.mandate:a,a))+"' data-i18fieldtype='"+l(i(null!=a?a.i18fieldType:a,a))+"' data-readonly='"+l(i(null!=a?a.readOnly:a,a))+"' "+(null!=(r=t.if_eq.call(o,null!=a?a.readOnly:a,"true",{name:"if_eq",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s}))?r:"")+" "+(null!=(r=t.if_eq.call(o,null!=a?a.defaultValue:a,"true",{name:"if_eq",hash:{},fn:e.program(21,s,0),inverse:e.noop,data:s}))?r:"")+"> <span></span> </div> </div> "},21:function(e,a,t,n,s){return" checked "},23:function(e,a,t,n,s){var r,i=e.lambda,l=e.escapeExpression,o=null!=a?a:{};return' <div class="tabDivCreate" id=\''+l(i(null!=a?a.fieldDiv:a,a))+"'> <div class=\"labelTabCreate pL5 pR "+(null!=(r=t.if_eq.call(o,null!=a?a.mandate:a,"true",{name:"if_eq",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?r:"")+'" id="'+l(i(null!=a?a.valueLabel:a,a))+'_label">'+l(i(null!=a?a.displaylabel:a,a))+'</div><div class="labelValCreate mL45"> <select type="text" '+(null!=(r=t.if_nq.call(o,null!=a?a.readOnly:a,"true",{name:"if_nq",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?r:"")+' onclick="'+l(i(null!=a?a.onclick:a,a))+'" class="select" width="100%" onchange=\''+l(i(null!=a?a.onchange:a,a))+"'  id='"+l(i(null!=a?a.labelId:a,a))+"' data-maxlength='"+l(i(null!=a?a.maxlength:a,a))+"'  data-decimalLength='"+l(i(null!=a?a.decimalLength:a,a))+"' data-zcqa='"+l(i(null!=a?a.labelId:a,a))+"' data-contenttype='"+l(i(null!=a?a.contentType:a,a))+"' data-displaylabel='"+l(i(null!=a?a.displaylabel:a,a))+"' data-i18fieldtype='"+l(i(null!=a?a.i18fieldType:a,a))+"' data-mandate='"+l(i(null!=a?a.mandate:a,a))+"' data-readonly='"+l(i(null!=a?a.readOnly:a,a))+"' onblur='"+l(i(null!=a?a.blurfn:a,a))+"' value='"+l(i(null!=a?a.defaultValue:a,a))+"'> "+(null!=(r=t.each.call(o,null!=a?a.selectDetails:a,{name:"each",hash:{},fn:e.program(24,s,0),inverse:e.noop,data:s}))?r:"")+" </select> </div> </div> "},24:function(e,a,t,n,s){var r=e.lambda,i=e.escapeExpression;return" <option value='"+i(r(null!=a?a.selectValue:a,a))+"'>"+i(r(null!=a?a.selectOption:a,a))+"</option> "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,s){var r,i=null!=a?a:{};return(null!=(r=t.if_eq.call(i,null!=a?a.type:a,"text",{name:"if_eq",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?r:"")+" "+(null!=(r=t.if_eq.call(i,null!=a?a.type:a,"currency",{name:"if_eq",hash:{},fn:e.program(8,s,0),inverse:e.noop,data:s}))?r:"")+" "+(null!=(r=t.if_eq.call(i,null!=a?a.type:a,"textarea",{name:"if_eq",hash:{},fn:e.program(10,s,0),inverse:e.noop,data:s}))?r:"")+" "+(null!=(r=t.if_eq.call(i,null!=a?a.type:a,"date",{name:"if_eq",hash:{},fn:e.program(12,s,0),inverse:e.noop,data:s}))?r:"")+" "+(null!=(r=t.if_eq.call(i,null!=a?a.type:a,"datetime",{name:"if_eq",hash:{},fn:e.program(15,s,0),inverse:e.noop,data:s}))?r:"")+" "+(null!=(r=t.if_eq.call(i,null!=a?a.type:a,"checkbox",{name:"if_eq",hash:{},fn:e.program(20,s,0),inverse:e.noop,data:s}))?r:"")+" "+(null!=(r=t.if_eq.call(i,null!=a?a.type:a,"select",{name:"if_eq",hash:{},fn:e.program(23,s,0),inverse:e.noop,data:s}))?r:"")+' <div class="cBoth"></div> '},useData:!0}),a.kpi=e({compiler:[7,">= 4.0.0"],main:function(e,a,t,n,s){var r=e.lambda,i=e.escapeExpression,l=null!=a?a:{};return'<div class="dashboardContent dash_kpi dIB w100_per" id="dashboardContent1"> <div class="fL divSmallbox"> \x3c!--div class="crmBaseColor fL headText crm-font-bold  w100_per alignLeft">'+i(r(null!=a?a.chartTitle:a,a))+'</div--\x3e <div class="fL w100_per"> <div class="fL w100_per"> <span class="fs kpi_amount fL">'+i(t.getkpiData.call(l,a,0,{name:"getkpiData",hash:{},data:s}))+'</span> <span class="fL pR mL10 '+i(r(null!=a?a.imgClass:a,a))+'"></span> <span class="mL3 '+i(r(null!=a?a.className:a,a))+' crm-font-regular">'+i(r(null!=a?a.percent:a,a))+'</span> </div> <div class="cBoth  fL  crm-font-regular alignLeft w100_per kpi_Last mT10">'+i(r(null!=a?a.comparingRange:a,a))+" "+i(t.getkpiData.call(l,a,1,{name:"getkpiData",hash:{},data:s}))+"</div> </div> </div> </div>"},useData:!0}),a.kpiDateColTemplate=e({1:function(e,a,t,n,s){var r;return" "+(null!=(r=t.each.call(null!=a?a:{},a,{name:"each",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?r:"")+" "},2:function(e,a,t,n,s){var r,i=null!=a?a:{};return" <optgroup label='"+e.escapeExpression(t.getModuleLabel.call(i,s&&s.key,{name:"getModuleLabel",hash:{},data:s}))+"' style='border:none'> "+(null!=(r=t.each.call(i,a,{name:"each",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?r:"")+" </optgroup> "},3:function(e,a,t,n,s){var r=e.lambda,i=e.escapeExpression;return" <option value='"+i(r(null!=a?a.table_name:a,a))+":"+i(r(null!=a?a.column_name:a,a))+":"+i(r(null!=a?a.actual_label:a,a))+"'>"+i(r(null!=a?a.field_label:a,a))+"</option> "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,s){var r;return null!=(r=t.each.call(null!=a?a:{},a,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?r:""},useData:!0}),a.kpiFieldsTemplate=e({1:function(e,a,t,n,s){return' <option value=""> '+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.macro.label.chooseDate",{name:"getI18n",hash:{},data:s}))+" </option> "},3:function(e,a,t,n,s,r,i){var l;return" "+(null!=(l=t.each.call(null!=a?a:{},a,{name:"each",hash:{},fn:e.program(4,s,0,r,i),inverse:e.noop,data:s}))?l:"")+" "},4:function(e,a,t,n,s,r,i){var l;return" "+(null!=(l=t.each.call(null!=a?a:{},a,{name:"each",hash:{},fn:e.program(5,s,0,r,i),inverse:e.noop,data:s}))?l:"")+" "},5:function(e,a,t,n,s,r,i){var l;return" "+(null!=(l=t.ifNotEquals.call(null!=a?a:{},null!=a?a.column_name:a,"LATITUDE",{name:"ifNotEquals",hash:{},fn:e.program(6,s,0,r,i),inverse:e.noop,data:s}))?l:"")+" "},6:function(e,a,t,n,s,r,i){var l;return" "+(null!=(l=t.checkColType.call(null!=a?a:{},a,null!=i[3]?i[3].dataType:i[3],{name:"checkColType",hash:{},fn:e.program(7,s,0,r,i),inverse:e.noop,data:s}))?l:"")+" "},7:function(e,a,t,n,s){var r=e.lambda,i=e.escapeExpression;return' <option value="'+i(r(null!=a?a.table_name:a,a))+":"+i(r(null!=a?a.column_name:a,a))+":"+i(r(null!=a?a.actual_label:a,a))+'">'+i(r(null!=a?a.field_label:a,a))+"</option> "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,s,r,i){var l,o=null!=a?a:{};return(null!=(l=t.ifEquals.call(o,null!=a?a.dataType:a,"date",{name:"ifEquals",hash:{},fn:e.program(1,s,0,r,i),inverse:e.noop,data:s}))?l:"")+" "+(null!=(l=t.each.call(o,null!=a?a.fields:a,{name:"each",hash:{},fn:e.program(3,s,0,r,i),inverse:e.noop,data:s}))?l:"")},useData:!0,useDepths:!0}),a.logoutSurvey=e({compiler:[7,">= 4.0.0"],main:function(e,a,t,n,s){var r,i=e.lambda,l=e.escapeExpression,o=null!=a?a:{};return'<div id="surveyPopup" onclick="sE(event)" class="zcrm-surveyModal"> <div class="zcrm-content"> <form id="surveyForm" action="'+l(i(null!=a?a.url:a,a))+'"> <div class="popup-model-content pR" style="max-height:700px;padding:35px;min-width:700px;transition: 0.3s all;"> <span id="later" class="cP pA" style="color:#007eff;top:20px;right:25px;">'+l(i(null!=a?a.message:a,a))+'</span> <div class="crm-heading-font-size">'+l(t.getI18n.call(o,"crm.logout.survey.hiuser",null!=a?a.name:a,{name:"getI18n",hash:{},data:s}))+'</div> <div class="crm-subheading-font-size mT15" style="line-height: 26px;">'+l(t.getI18n.call(o,"crm.logout.survey.question.new",null!=(r=null!=a?a.Crm:a)?r.appName:r,{name:"getI18n",hash:{},data:s}))+'</div> <div class="mT5"> <span class="crm-small-font-size dIB" style="color:var(--notfoundColor);">'+l(t.getI18n.call(o,"crm.logout.survey.notlikely",{name:"getI18n",hash:{},data:s}))+'</span> <ul id="sf_Rating" class="dIB" style="margin-left: 0px;"> <li>0</li> <li>1</li> <li>2</li> <li>3</li> <li>4</li> <li>5</li> <li>6</li> <li>7</li> <li>8</li> <li>9</li> <li>10</li> </ul> <span class="mL5 crm-small-font-size dIB" style="color:var(--notfoundColor);">'+l(t.getI18n.call(o,"crm.logout.survey.likely",{name:"getI18n",hash:{},data:s}))+'</span> </div> <div id="bad" class="mT20 dN" > <div class="crm-subheading-font-size mT20">'+l(t.getI18n.call(o,"crm.logout.survey.bad.message2",{name:"getI18n",hash:{},data:s}))+'</div> </div> <div id="ok" class="mT20 dN" > <div class="crm-subheading-font-size mT20">'+l(t.getI18n.call(o,"crm.logout.survey.ok.message2",{name:"getI18n",hash:{},data:s}))+'</div> </div> <div id="good" class="mT20 dN"> <div class="crm-subheading-font-size mT20">'+l(t.getI18n.call(o,"crm.logout.survey.good.message2",{name:"getI18n",hash:{},data:s}))+'</div> </div> <div id="great" class="mT20 dN" > <div class="crm-subheading-font-size mT20">'+l(t.getI18n.call(o,"crm.logout.survey.great.message2",{name:"getI18n",hash:{},data:s}))+'</div> </div> <div id="perfect" class="mT20 dN" > <div class="crm-subheading-font-size mT20">'+l(t.getI18n.call(o,"crm.logout.survey.perfect.message2.new",null!=(r=null!=a?a.Crm:a)?r.appName:r,{name:"getI18n",hash:{},data:s}))+'</div> </div> <div id="commentdiv" class="sf_textFieldDiv mT10 dN"> <textarea id="comments" name="comments" class="sf_textField" style="height:25px" onfocus="$(\'.sf_textFieldDiv\').addClass(\'sf_textFieldDivFocus\')" onblur="$(\'.sf_textFieldDiv\').removeClass(\'sf_textFieldDivFocus\')" onkeyup="$(this).css(\'height\',\'25px\').css(\'height\', this.scrollHeight);"></textarea> </div> <div id="buttons" class="mT25 dN"> <input class="primarybtn" type="submit" value="'+l(t.getI18n.call(o,"crm.button.submit",{name:"getI18n",hash:{},data:s}))+'"> </div> <div id="bad_message" class="crm-heading-font-size mL30 pR dN aligncenter"><span class="sf_sorry_bg mR5"></span>'+l(t.getI18n.call(o,"crm.logout.survey.bad.message1",{name:"getI18n",hash:{},data:s}))+'</div> <div id="good_message" class="crm-heading-font-size mL30 pR dN aligncenter"><span class="sf_thanks_bg mR5"></span>'+l(t.getI18n.call(o,"crm.logout.survey.good.message1",{name:"getI18n",hash:{},data:s}))+'</div> <div id="perfect_message" class="crm-heading-font-size mL30 pR dN aligncenter"><span class="sf_thanksMadeOurDay_bg mR5"></span>'+l(t.getI18n.call(o,"crm.logout.survey.perfect.message1",{name:"getI18n",hash:{},data:s}))+'</div> <input type="hidden" id="score" name="score"></input> <input type="hidden" id="actionName" name="actionName"></input> </div> </form> </div> </div> '},useData:!0}),a.picklistReplaceCompletedNotification=e({1:function(e,a,t,n,s){var r,i=null!=a?a:{};return' <div class="schedularMsg"> <p class="pB5 pL10 succesIcoSchedular pR"> '+(null!=(r=t.ifCond.call(i,null!=a?a.type:a,"==","Global Picklist",{name:"ifCond",hash:{},fn:e.program(2,s,0),inverse:e.program(4,s,0),data:s}))?r:"")+" </p> "+(null!=(r=t.ifCond.call(i,null!=a?a.type:a,"!=","Global Picklist",{name:"ifCond",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?r:"")+" </div> "},2:function(e,a,t,n,s){var r,i=null!=a?a:{};return" "+(null!=(r=t.getI18n.call(i,"globalfield.replace.notification.success",t.encodeHTML.call(i,null!=(r=null!=a?a.pickListDetails:a)?r.fromValueStr:r,{name:"encodeHTML",hash:{},data:s}),t.encodeHTML.call(i,null!=(r=null!=a?a.pickListDetails:a)?r.toValueStr:r,{name:"encodeHTML",hash:{},data:s}),{name:"getI18n",hash:{},data:s}))?r:"")+" "},4:function(e,a,t,n,s){var r,i=null!=a?a:{};return" "+(null!=(r=t.getI18n.call(i,"crm.picklist.notification.success.msg",t.encodeHTML.call(i,null!=(r=null!=a?a.pickListDetails:a)?r.fromValueStr:r,{name:"encodeHTML",hash:{},data:s}),t.encodeHTML.call(i,null!=(r=null!=a?a.pickListDetails:a)?r.toValueStr:r,{name:"encodeHTML",hash:{},data:s}),{name:"getI18n",hash:{},data:s}))?r:"")+" "},6:function(e,a,t,n,s){var r,i=null!=a?a:{},l=e.escapeExpression,o=e.lambda;return' <a href="#" class="crm-small-font-size mL2 pL10 tdUnderline viewInfoTbl" onclick="crmExportWMSMsg.showPicklistinfo(this);">'+l(t.getI18n.call(i,"crm.picklist.notification.info",{name:"getI18n",hash:{},data:s}))+'</a> <div class=" crm-small-font-size viewInfoData" style="display: none;"> <span class="crmNotFoundColor pB5 dIB">'+l(t.getI18n.call(i,"crm.picklist.notification.table.title",{name:"getI18n",hash:{},data:s}))+'</span> <table width="70%"> <tbody> <tr> <td class="pR"><span class="updatesListTTl">'+l(t.getI18n.call(i,"crm.picklist.notification.col.records",{name:"getI18n",hash:{},data:s}))+"</span></td> <td>"+l(o(null!=(r=null!=(r=null!=a?a.pickListDetails:a)?r.count_details:r)?r.records:r,a))+'</td> </tr> <tr> <td class="pR"><span class="updatesListTTl">'+l(t.getI18n.call(i,"crm.picklist.notification.col.criteria",{name:"getI18n",hash:{},data:s}))+"</span></td> <td>"+l(o(null!=(r=null!=(r=null!=a?a.pickListDetails:a)?r.count_details:r)?r.criteria:r,a))+'</td> </tr> <tr> <td class="pR"><span class="updatesListTTl">'+l(t.getI18n.call(i,"crm.picklist.notification.col.dependency",{name:"getI18n",hash:{},data:s}))+"</span></td> <td>"+l(o(null!=(r=null!=(r=null!=a?a.pickListDetails:a)?r.count_details:r)?r.fielddep:r,a))+'</td> </tr> <tr> <td class="pR"><span class="updatesListTTl">'+l(t.getI18n.call(i,"crm.picklist.notification.col.workflow",{name:"getI18n",hash:{},data:s}))+"</span></td> <td>"+l(o(null!=(r=null!=(r=null!=a?a.pickListDetails:a)?r.count_details:r)?r.workflow:r,a))+"</td> </tr> </tbody> </table> </div> "},8:function(e,a,t,n,s){var r;return' <div class="schedularMsg"> <p class="pB5 pL10 failedIcoSchedular pR"> '+(null!=(r=t.ifCond.call(null!=a?a:{},null!=a?a.type:a,"==","Global Picklist",{name:"ifCond",hash:{},fn:e.program(9,s,0),inverse:e.program(11,s,0),data:s}))?r:"")+" </p> </div> "},9:function(e,a,t,n,s){var r,i=null!=a?a:{};return" "+(null!=(r=t.getI18n.call(i,"globalfield.replace.notification.failure.msg",t.encodeHTML.call(i,null!=(r=null!=a?a.pickListDetails:a)?r.fromValueStr:r,{name:"encodeHTML",hash:{},data:s}),t.encodeHTML.call(i,null!=(r=null!=a?a.pickListDetails:a)?r.toValueStr:r,{name:"encodeHTML",hash:{},data:s}),{name:"getI18n",hash:{},data:s}))?r:"")+" "},11:function(e,a,t,n,s){var r,i=null!=a?a:{};return" "+(null!=(r=t.getI18n.call(i,"crm.picklist.notification.failure.msg",t.encodeHTML.call(i,null!=(r=null!=a?a.pickListDetails:a)?r.fromValueStr:r,{name:"encodeHTML",hash:{},data:s}),t.encodeHTML.call(i,null!=(r=null!=a?a.pickListDetails:a)?r.toValueStr:r,{name:"encodeHTML",hash:{},data:s}),{name:"getI18n",hash:{},data:s}))?r:"")+" "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,s){var r;return" "+(null!=(r=t.if_eq.call(null!=a?a:{},null!=a?a.status:a,5,{name:"if_eq",hash:{},fn:e.program(1,s,0),inverse:e.program(8,s,0),data:s}))?r:"")+" "},useData:!0}),a.picklistTableDiv=e({1:function(e,a,t,n,s){var r=e.lambda,i=e.escapeExpression;return' <th class="alignLeft">'+i(r(null!=a?a[0]:a,a))+'</th> <th class="alignRight">'+i(r(null!=a?a[1]:a,a))+"</th> <th></th> "},3:function(e,a,t,n,s,r){var i,l=e.lambda,o=e.escapeExpression;return' <tr> <td> <span class="picklistDragIcon vaM dIB"></span> </td> <td class="pL0"> <input type="text" value="'+o(l(null!=(i=r[0][0])?i.value:i,a))+'" readonly="readonly" class="crm-small-font-size optionName"></input> </td> <td class="alignRight"> <input type="text" maxlength=\'3\' onkeyup=\'CMB.validateSetAllowedTime(this);CrmModule.enableSaveButton(this)\' onkeypress=\'return event.charCode >= 48 && event.charCode <= 57\' id="'+o(l(null!=(i=r[0][0])?i.uniqueid:i,a))+'" value="'+o(l(null!=(i=r[0][0])?i.allowedTime:i,a))+'" class="crm-small-font-size allowedTimeInput daysCount w40 alignRight" /> </td> <td> <span class="picklistAddIcon vaM dIB"></span> </td> </tr> '},5:function(e,a,t,n,s){return' <tr> <td colspan="4" class="aligncenter"> <a href="javascript:;" id="otherLayoutValues" class="dB p5 fontsmooth" onclick="CMB.showOtherLayoutOptions();"><span class="downArrowBlue dIB vaM"></span></a> </td> </tr> '},7:function(e,a,t,n,s){var r;return' <div class=\'otherLayoutCtn\' id=\'otherLayoutCtn\' style=\'display: none;\'> <table cellpadding="0" cellspacing="0" class="picklistAllowedTimeTabl crm-extra-small-font-size w100_per" id="otherLayoutPicklistTable"> <tbody> '+(null!=(r=t.each.call(null!=a?a:{},null!=a?a.otherLayoutOptions:a,{name:"each",hash:{},fn:e.program(8,s,1),inverse:e.noop,data:s}))?r:"")+" </tbody> </table> </div> "},8:function(e,a,t,n,s){var r=e.lambda,i=e.escapeExpression;return' <tr> <td> <span class="picklistDragIcon vaM dIB"></span> </td> <td class="pL0"> <input type="text" value="'+i(r(null!=a?a.value:a,a))+'" readonly="readonly" class="crm-small-font-size optionName"></input> </td> <td class="alignRight"> <input type="text" maxlength=\'3\' onkeyup=\'CMB.validateSetAllowedTime(this);CrmModule.enableSaveButton(this)\' onkeypress=\'return event.charCode >= 48 && event.charCode <= 57\' id="'+i(r(null!=a?a.uniqueId:a,a))+'" value="'+i(r(null!=a?a.allowedTime:a,a))+'" class="crm-small-font-size allowedTimeInput daysCount w40 alignRight" /> </td> <td> <span class="picklistAddIcon vaM dIB"></span> </td> </tr> '},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,s,r){var i,l=null!=a?a:{};return' <div id="picklistTableDiv" class="picklistAllTimeTablWrap mT10"> <table cellpadding="0" cellspacing="0" class="picklistAllowedTimeTabl crm-extra-small-font-size"  id="picklistTableHeadings"> <thead> <tr class="crm-font-bold"> <th></th> '+(null!=(i=t.with.call(l,null!=a?a.heading:a,{name:"with",hash:{},fn:e.program(1,s,0,r),inverse:e.noop,data:s,blockParams:r}))?i:"")+' </tr> </thead> </table> <div class="picklistAllowedTimeScrl"> <table cellpadding="0" cellspacing="0" class="picklistAllowedTimeTabl crm-extra-small-font-size" id="currLayoutPicklistTable"> <tbody> '+(null!=(i=t.each.call(l,null!=a?a.currLayoutOptions:a,{name:"each",hash:{},fn:e.program(3,s,1,r),inverse:e.noop,data:s,blockParams:r}))?i:"")+" "+(null!=(i=t.ifNotEquals.call(l,null!=(i=null!=a?a.otherLayoutOptions:a)?i.length:i,0,{name:"ifNotEquals",hash:{},fn:e.program(5,s,0,r),inverse:e.noop,data:s,blockParams:r}))?i:"")+" </tbody> </table> </div> "+(null!=(i=t.ifNotEquals.call(l,null!=(i=null!=a?a.otherLayoutOptions:a)?i.length:i,0,{name:"ifNotEquals",hash:{},fn:e.program(7,s,0,r),inverse:e.noop,data:s,blockParams:r}))?i:"")+' </div> <div class="crmNegativeColor crm-extra-small-font-size" id="picklistErr" style="visibility: hidden;"></div>'},useData:!0,useBlockParams:!0}),a.premiumSupportEmail=e({compiler:[7,">= 4.0.0"],main:function(e,a,t,n,s){var r=null!=a?a:{},i=e.escapeExpression;return'<div id="feedBackForm" class="feedBackPopup pA bottom30 right0 zi30 bg_white boxShadowMask w450 fR"> <div class="pT20 pR20 pB10 pL20"> <div class="pR "> <span class="crm-font-bold crm-subheading-font-size">Premium Support</span> <span id="ps_emailclose" class="svgIcons top0 right0 ico-close-small2 cP op8 pA" onclick="PremiumChat.closeMailPop()"></span> </div> <div class="crmBaseColor pT20">'+i(t.getI18n.call(r,"crm.label.subject",{name:"getI18n",hash:{},data:s}))+'</div> <input id="ps_subject" type="text" name="subject" class="mT5 textField w100_per borderbox" placeholder="'+i(t.getI18n.call(r,"crm.label.type.your.subject",{name:"getI18n",hash:{},data:s}))+'"> <div class="crmBaseColor pT20">'+i(t.getI18n.call(r,"crm.label.summary",{name:"getI18n",hash:{},data:s}))+'</div> <textarea id="ps_summary" name="summary" class=" w100_per p5 crm-base-font-size oA lh20 mT5 h150 borderbox" placeholder="'+i(t.getI18n.call(r,"crm.label.type.your.summary",{name:"getI18n",hash:{},data:s}))+'"></textarea> <div class="cBoth"></div> <div id="attachMoreFiles"></div> <div></div> </div> <div class="clearfix p20 mT40" style="background:#eff2f4;"> <input  type="button" class="fL primarybtn mR0 " value="Send" onclick="PremiumChat.sendMail()"> <div class="fL mL10 "> <a id="attach_desktop" tabindex="-1" class="rellistNew attachFileNew positionRelative detailsPageAttach dIB oH vaM fR" style="padding:10px 0px 0px 0px; width: auto;" href="javascript:;"> <input type="file" tabindex="-1" name="attachments" class="smFile file0" id="feedBackAttachFile" onchange="PremiumChat.addFile(this);" style="background: none;left: auto; right: 0; top: 9px; height: 15px;" multiple> <span id="fbAttachMoreFiles" class="hide zDattachment dIB"></span> <span id="fbAttachFiles" class="zDattachment vaM dIB"></span> <span class="crm-base-font-size crmNotFoundColor vaM dIB">'+i(t.getI18n.call(r,"crm.button.attach",{name:"getI18n",hash:{},data:s}))+"</span> </a> </div> </div>"},useData:!0}),a.tabularChart=e({1:function(e,a,t,n,s){var r;return" <th "+(null!=(r=t.ifEquals.call(null!=a?a:{},s&&s.index,1,{name:"ifEquals",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?r:"")+">"+e.escapeExpression(e.lambda(a,a))+"</th> "},2:function(e,a,t,n,s){return'class="db_aggregateFld"'},4:function(e,a,t,n,s,r,i){var l;return" "+(null!=(l=t.each.call(null!=a?a:{},null!=a?a.data:a,{name:"each",hash:{},fn:e.program(5,s,0,r,i),inverse:e.noop,data:s}))?l:"")+" "},5:function(e,a,t,n,s,r,i){var l,o=null!=a?a:{},d=e.escapeExpression,c=e.lambda;return' <tr onclick="CrmDashboard.fetchRecordsForTable('+d(t.json.call(o,null!=i[2]?i[2].additionalInfo:i[2],{name:"json",hash:{},data:s}))+", "+d(t.json.call(o,a,{name:"json",hash:{},data:s}))+", "+d(c(s&&s.index,a))+", '"+d(c(null!=i[2]?i[2].reportId:i[2],a))+"');\"> "+(null!=(l=t.each.call(o,a,{name:"each",hash:{},fn:e.program(6,s,0,r,i),inverse:e.noop,data:s}))?l:"")+" </tr> "},6:function(e,a,t,n,s){var r;return" <td "+(null!=(r=t.ifEquals.call(null!=a?a:{},s&&s.index,1,{name:"ifEquals",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?r:"")+"> "+e.escapeExpression(e.lambda(a,a))+" </td> "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,s,r,i){var l,o=null!=a?a:{};return'<br><br><div style="overflow:auto;" id="tablediv"> <table width="100%" border="0" cellpadding="0" cellspacing="0" class="newtable"> <tr> '+(null!=(l=t.each.call(o,null!=a?a.categories:a,{name:"each",hash:{},fn:e.program(1,s,0,r,i),inverse:e.noop,data:s}))?l:"")+" </tr> "+(null!=(l=t.each.call(o,null!=a?a.series:a,{name:"each",hash:{},fn:e.program(4,s,0,r,i),inverse:e.noop,data:s}))?l:"")+" </table> </div> "},useData:!0,useDepths:!0}),a.unsubscribeFormsList=e({1:function(e,a,t,n,s){var r,i=e.lambda,l=e.escapeExpression;return' <li data-zcqa="unsub_'+l(i(null!=a?a.linkName:a,a))+'_option" style="white-space: pre-wrap;" class="selValUnsubLink pR" title="'+l(i(null!=a?a.landingUrl:a,a))+'" onclick="inSplnk.fnUnsubLinkSelect(this);" value="'+l(i(null!=a?a.linkName:a,a))+'" formid="'+l(i(null!=a?a.formId:a,a))+'">'+(null!=(r=t.ifEquals.call(null!=a?a:{},"Default",null!=a?a.linkName:a,{name:"ifEquals",hash:{},fn:e.program(2,s,0),inverse:e.program(4,s,0),data:s}))?r:"")+"</li> "},2:function(e,a,t,n,s){return e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.lable.default",{name:"getI18n",hash:{},data:s}))},4:function(e,a,t,n,s){return e.escapeExpression(e.lambda(null!=a?a.linkName:a,a))},6:function(e,a,t,n,s){return' <span class="createLinkDiv"> <a class="cP pL30 pT6 pB6 dB createlink crm-small-font-size" style="white-space: pre-wrap;" onclick="inSplnk.createUnsubscribeLink()" target="_blank" rel="noopener noreferrer">'+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.customlink.createlink",{name:"getI18n",hash:{},data:s}))+"</a> </span> "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,s){var r,i=null!=a?a:{};return'<ul class="listSelectVal cP m0 p0 bg_white oA"> '+(null!=(r=t.each.call(i,null!=a?a.data:a,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?r:"")+" </ul> "+(null!=(r=t.if.call(i,null!=a?a.createLink:a,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?r:"")},useData:!0}),a.validationRuleError=e({1:function(e,a,t,n,s){var r;return" "+(null!=(r=t.each.call(null!=a?a:{},a,{name:"each",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?r:"")+" "},2:function(e,a,t,n,s){var r;return" "+(null!=(r=t.each.call(null!=a?a:{},a,{name:"each",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?r:"")+" "},3:function(e,a,t,n,s){var r;return' <div class="alignLeft crm-base-font-size crmBaseColor mB5 popup-model-content"> <span class="crmNegativeColor"> '+(null!=(r=t.isNotUndefined.call(null!=a?a:{},null!=a?a.message:a,{name:"isNotUndefined",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?r:"")+" </span> </div> "},4:function(e,a,t,n,s){return e.escapeExpression(e.lambda(null!=a?a.message:a,a))},6:function(e,a,t,n,s){var r;return" "+(null!=(r=t.each.call(null!=a?a:{},a,{name:"each",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?r:"")+" "},7:function(e,a,t,n,s){var r;return' <div class="alignLeft crm-base-font-size crmBaseColor mB5 popup-model-content"> <span class="crmNegativeColor"> '+(null!=(r=t.isNotUndefined.call(null!=a?a:{},null!=a?a.message:a,{name:"isNotUndefined",hash:{},fn:e.program(8,s,0),inverse:e.program(10,s,0),data:s}))?r:"")+" </span> </div> "},8:function(e,a,t,n,s){return e.escapeExpression(e.lambda(null!=a?a.message:a,a))+" "},10:function(e,a,t,n,s){return e.escapeExpression(e.lambda(a,a))+" "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,s){var r,i=null!=a?a:{},l=e.escapeExpression;return'<div class="zcrm-content"> <div class="aligncenter"> <span id="vralertMsg" style="font : 18px;"> <div class="crm-heading-font-size crm-font-bold alignLeft popup-model-header"> '+l(t.getI18n.call(i,"crm.validation.rule.invalid.entry.alertmsg.title",{name:"getI18n",hash:{},data:s}))+" </div> "+(null!=(r=t.if.call(i,null!=a?a.valAlertPref:a,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(6,s,0),data:s}))?r:"")+' </span><br> <div class="aligncenter popup-model-footer"> <input type="button" id="custom_alert_button" class="primarybtn" value="'+l(t.getI18n.call(i,"crm.mb.newversion.msg4",{name:"getI18n",hash:{},data:s}))+'" onclick="CVRExec.hideAlertPopup()"> </div> </div> </div>'},useData:!0}),a.widgetPreview=e({1:function(e,a,t,n,s){var r;return" "+(null!=(r=t.ifContainsInArray.call(null!=a?a:{},s&&s.index,{name:"ifContainsInArray",hash:{},fn:e.program(2,s,0),inverse:e.program(7,s,0),data:s}))?r:"")+" "},2:function(e,a,t,n,s){var r,i=null!=a?a:{};return" "+(null!=(r=t.ifEquals.call(i,t.arithResult.call(i,s&&s.index,"+",1,{name:"arithResult",hash:{},data:s}),null!=a?a.length:a,{name:"ifEquals",hash:{},fn:e.program(3,s,0),inverse:e.program(5,s,0),data:s}))?r:"")+" "},3:function(e,a,t,n,s){return" <li class='widgetLastList'><span class='dIB ellipsistext vaM widgetPreviewContent'>"+e.escapeExpression(e.lambda(a,a))+"</span></li> "},5:function(e,a,t,n,s){return' <li class="smallDot">'+e.escapeExpression(e.lambda(a,a))+"</li> "},7:function(e,a,t,n,s){var r;return" "+(null!=(r=t.ifEquals.call(null!=a?a:{},s&&s.index,2,{name:"ifEquals",hash:{},fn:e.program(8,s,0),inverse:e.program(10,s,0),data:s}))?r:"")+" "},8:function(e,a,t,n,s){return" <li class=\"currentStage\"><span class='dIB ellipsistext vaM widgetPreviewContent'>"+e.escapeExpression(e.lambda(a,a))+"</span></li> "},10:function(e,a,t,n,s){var r;return" "+(null!=(r=t.ifEquals.call(null!=a?a:{},s&&s.index,3,{name:"ifEquals",hash:{},fn:e.program(11,s,0),inverse:e.program(13,s,0),data:s}))?r:"")+" "},11:function(e,a,t,n,s){return" <li class=\"stageCancelled\"><span class='dIB ellipsistext vaM widgetPreviewContent'>"+e.escapeExpression(e.lambda(a,a))+"</span></li> "},13:function(e,a,t,n,s){return" <li class=\"stageFinished\"><span class='dIB ellipsistext vaM widgetPreviewContent'>"+e.escapeExpression(e.lambda(a,a))+"</span></li> "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,s){var r;return' <div> <span class="dIB crm-small-font-size widgetPriewHead crm-font-bold">Widget Preview</span> <a href="javascript:;" id="widgetPriewcloseIcon" class="widgetPriewcloseIcon" onclick="CMB.showWidgetPreview(this,true)"></a> </div> <ul class="widgetPriewList fontsmooth crm-small-font-size mT70"> '+(null!=(r=t.each.call(null!=a?a:{},null!=a?a.pickListOptions:a,{name:"each",hash:{},fn:e.program(1,s,1),inverse:e.noop,data:s}))?r:"")+" </ul>"},useData:!0})}();