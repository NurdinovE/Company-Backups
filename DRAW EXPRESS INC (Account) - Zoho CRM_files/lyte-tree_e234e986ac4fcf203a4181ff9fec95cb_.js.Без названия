Lyte.Component.register("lyte-tree",{_template:'<template tag-name="lyte-tree" role="treeitem"> <template is="switch" value="{{ltPropStructureType}}"><template case="file"> <template is="for" items="{{ltPropData}}" item="item" index="index"> <template is="if" value="{{expHandlers(item.skipNode,\'!\')}}"><template case="true"><div class="lyteTreeBodyDiv" role="group"> <lyte-tree-body data-index="{{lyteUiTreeIndexHelp(indexVar,index)}}" class="{{lyteUiTreeClassHelp(item.defaultState,item.collapsed,\'lyteTreeBodyOpened\',\'lyteTreeBodyClosed\',ltPropWrapperOpenClass,ltPropWrapperCloseClass)}}" data-level="{{lyteUiTreeLevelHelp(indexVar,index)}}" style="{{lyteUiTreeLevelVariableHelp(indexVar,index,ltPropCssLevelVariable)}}"> <div class="mainContainer lyteTreeMainContainer {{lyteUiTreeChildHelp(item,ltPropLeafContainer,ltPropChildrenValue)}} {{lyteUiTreeHasChildHelp(item,ltPropChildrenValue)}} {{lyteTreeMaxChild(indexVar,index,ltPropMaxLevel)}}" role="{{lyteTreeAriaRole(item,ltPropChildrenValue)}}"> <template is="switch" value="{{lyteTreeTypeHelp(ltPropSortable,ltPropAllowExternalImport)}}"><template case="withExternal"> <div class="lyteTreeSortableElement" ondragenter="{{action(\'dragEnterFunction\',event,this)}}" ondragover="{{action(\'dragOverFunction\',event,this)}}" ondragleave="{{action(\'dragLeaveFunction\',event,this)}}" ondrop="{{action(\'dropFunction\',event,this)}}"> <lyte-yield tabindex="{{lyteTreeAriaTabIndexHelp(indexVar,index)}}" collapsed="{{if(item.collapsed,\'collapsed\',\'\')}}" yield-name="content" list-value="{{item}}" list-index="{{lyteUiTreeIndexHelp(indexVar,index)}}" class="{{lyteUiTreeChildHelp(item,ltPropLeafNodeClass,ltPropChildrenValue)}}"></lyte-yield> </div> </template><template case="onlyInternal"> <div class="lyteTreeSortableElement"> <lyte-yield tabindex="{{lyteTreeAriaTabIndexHelp(indexVar,index)}}" collapsed="{{if(item.collapsed,\'collapsed\',\'\')}}" yield-name="content" list-value="{{item}}" list-index="{{lyteUiTreeIndexHelp(indexVar,index)}}" class="{{lyteUiTreeChildHelp(item,ltPropLeafNodeClass,ltPropChildrenValue)}}"></lyte-yield> </div> </template><template case="nonSortable"> <lyte-yield tabindex="{{lyteTreeAriaTabIndexHelp(indexVar,index)}}" collapsed="{{if(item.collapsed,\'collapsed\',\'\')}}" yield-name="content" list-value="{{item}}" list-index="{{lyteUiTreeIndexHelp(indexVar,index)}}" class="{{lyteUiTreeChildHelp(item,ltPropLeafNodeClass,ltPropChildrenValue)}}"></lyte-yield> </template></template> <template is="if" value="{{expHandlers(expHandlers(expHandlers(expHandlers(item[ltPropChildrenValue][&quot;length&quot;],\'!==\',0),\'&amp;&amp;\',expHandlers(item[ltPropChildrenValue],\'!==\',undefined)),\'&amp;&amp;\',expHandlers(item.collapsed,\'!\')),\'&amp;&amp;\',lyteUiTreeMaxLevelHelp(indexVar,index,ltPropMaxLevel))}}"><template case="true"> <lyte-tree class="{{lyteTreeClassStateHelp(item)}} lyteTreeChildrenLevel" lt-prop-children-value="{{ltPropChildrenValue}}" index-var="{{lyteUiTreeIndexHelp(indexVar,index)}}" lt-prop-data="{{item[ltPropChildrenValue]}}" id="{{ltPropId}}" lt-prop-tree-lines="{{ltPropTreeLines}}" lt-prop-yield="{{ltPropYield}}" lt-prop-open-class="{{ltPropOpenClass}}" lt-prop-wrapper-open-class="{{ltPropWrapperOpenClass}}" lt-prop-leaf-node-class="{{ltPropLeafNodeClass}}" lt-prop-close-class="{{ltPropCloseClass}}" lt-prop-wrapper-close-class="{{ltPropWrapperCloseClass}}" lt-prop-max-level="{{ltPropMaxLevel}}" lt-prop-ignore-max-level="{{ltPropIgnoreMaxLevel}}" lt-prop-toggle-animation="{{ltPropToggleAnimation}}" lt-prop-css-level-variable="{{ltPropCssLevelVariable}}" lt-prop-sortable="{{ltPropSortable}}" lt-prop-scroll-speed="{{ltPropScrollSpeed}}" lt-prop-allow-external-import="{{ltPropAllowExternalImport}}" on-toggle="{{method(\'onToggle\')}}" on-toggle-end="{{method(\'onToggleEnd\')}}" on-before-open="{{method(\'onBeforeOpen\')}}" on-open="{{method(\'onOpen\')}}" on-before-close="{{method(\'onBeforeClose\')}}" on-close="{{method(\'onClose\')}}"> <template is="registerYield" yield-name="content" from-parent=""></template> </lyte-tree> </template></template> </div> </lyte-tree-body> </div></template></template> </template> </template><template case="hierarchy"> <template is="for" items="{{ltPropData}}" item="item" index="index"> <table class="lyteHTreeNode" cellpadding="0" cellspacing="0" data-level="{{lyteUiTreeLevelHelp(indexVar,index)}}" child-index="{{index}}" data-index="{{lyteUiTreeIndexHelp(indexVar,index)}}"> <tbody><tr> <td class="lyteHTreeParentNode" onclick="{{action(\'openHorizontalTree\',this)}}"> <template is="if" value="{{expHandlers(lyteUiTreeLevelHelp(indexVar,index),\'>\',0)}}"><template case="true"> <div class="lyteHTreeConnectorLine"> <div class="lyteHTreeVerticalConnectLine {{lyteHTreeTopVline(index,ltPropData)}}"></div> <div class="lyteHTreeVerticalConnectLine {{lyteHTreeBottomVline(index,ltPropData)}}"></div> </div> <span class="lyteHTreeHorizontalBeforeConnectLine"></span> </template></template> <div class="lyteHTreeContentWrap"> <lyte-yield yield-name="content" list-value="{{item}}"></lyte-yield> </div> <span class="lyteHTreeHorizontalAfterConnectLine lyteHTreeHorizontalConnectorHidden"></span> </td> <td is="if" lyte-if="true" value="{{expHandlers(expHandlers(item.collapsed,\'!==\',undefined),\'&amp;&amp;\',expHandlers(item.collapsed,\'!==\',true))}}"></td> </tr> </tbody></table> </template> </template><template case="data"> <div class="lyteDataTreeNodeWrap"> <template is="switch" value="{{dataType}}"><template case="array"> <template is="if" value="{{expHandlers(arrayOpened,\'!\')}}"><template case="true"><div class="lyteDataTreeNode lyteDataTreeArrayNode {{if(lyteTreeArrayOpened,\'lyteDataTreeOpened\',\'lyteDataTreeClosed\')}}" onclick="{{action(\'openArray\',this)}}"> <span> [ <template is="for" items="{{ltPropArrayData}}" item="item" index="index"> <template is="switch" value="{{lyteTreeDataType(item)}}"><template case="array"> <span class="test" style="text-transform:capitalize;">{{lyteTreeDataType(item)}}({{lyteTreeGetArrayLength(item)}})</span> <span class="lyteTreeComma">,</span> </template><template case="object"> <span>{...}</span> <span class="lyteTreeComma">,</span> </template><template case="string"> <span class="lyteDataTreeNodeText">\'{{item}}\'</span> <span class="lyteTreeComma">,</span> </template><template case="keyword"> <span class="lyteDataTreeNodeKeyword">{{lyteDataTreeKeywordParsing(value)}}</span> <span class="lyteTreeComma">,</span> </template><template case="number"> <span>{{item}}</span> <span class="lyteTreeComma">,</span> </template></template> </template> ] </span> </div></template><template case="false"><div class="lyteDataTreeOpened" onclick="{{action(\'openArray\',this)}}"> <span>Array({{lyteTreeArrayLength}})</span> </div></template></template> <template is="if" value="{{lyteTreeArrayOpened}}"><template case="true"><div class="lyteDataTreeNodeWrap"> <template is="for" items="{{ltPropArrayData}}" item="item" index="index"> <template is="switch" value="{{lyteTreeDataType(item)}}"><template case="array"> <div class="lyteDataTreeNode lyteDataTreeArray"> <span class="lyteDataTreeIndex">{{index}}</span> <span>:</span> <div class="lyteDataTreeNodeContent"> <lyte-tree class="lyteDataTreeSubLevel" lt-prop-structure-type="data" lt-prop-array-data="{{item}}" on-before-open="{{method(\'onBeforeOpen\')}}" on-open="{{method(\'onOpen\')}}" on-before-close="{{method(\'onBeforeClose\')}}" on-close="{{method(\'onClose\')}}"> <template is="registerYield" yield-name="content"></template> </lyte-tree> </div> </div> </template><template case="object"> <div class="lyteDataTreeNode lyteDataTreeObject"> <span class="lyteDataTreeIndex">{{index}}</span> <span>:</span> <div class="lyteDataTreeNodeContent"> <lyte-tree class="lyteDataTreeSubLevel" lt-prop-structure-type="data" lt-prop-json-data="{{item}}" on-before-open="{{method(\'onBeforeOpen\')}}" on-open="{{method(\'onOpen\')}}" on-before-close="{{method(\'onBeforeClose\')}}" on-close="{{method(\'onClose\')}}"> <template is="registerYield" yield-name="content"></template> </lyte-tree> </div> </div> </template><template case="number"> <div class="lyteDataTreeNode lyteDataTreeNumber"> <span class="lyteDataTreeIndex">{{index}}</span> <span>:</span> <span class="lyteDataTreeNodeContent lyteDataTreeNodeText">{{item}}</span> </div> </template><template case="string"> <div class="lyteDataTreeNode lyteDataTreeString"> <span class="lyteDataTreeIndex">{{index}}</span> <span>:</span> <span class="lyteDataTreeNodeContent lyteDataTreeNodeText">{{item}}</span> </div> </template><template case="keyword"> <div class="lyteDataTreeNode lyteDataTreeKeyword"> <span class="lyteDataTreeIndex">{{index}}</span> <span>:</span> <span class="lyteDataTreeNodeContent lyteDataTreeNodeText">{{lyteDataTreeKeywordParsing(value)}}</span> </div> </template><template case="boolean"> <div class="lyteDataTreeNode lyteDataTreeBoolean"> <span class="lyteDataTreeIndex">{{index}}</span> <span>:</span> <span class="lyteDataTreeNodeContent lyteDataTreeNodeText">{{item}}</span> </div> </template></template> </template> </div></template></template> </template><template case="object"> <template is="if" value="{{expHandlers(jsonOpened,\'!\')}}"><template case="true"><div class="lyteDataTreeNode lyteDataTreeObjectNode {{if(lyteTreeJsonOpened,\'lyteDataTreeOpened\',\'lyteDataTreeClosed\')}}" onclick="{{action(\'openJson\',this)}}"> <span>{ <template is="forIn" object="{{ltPropJsonData}}" value="value" key="key"> <span>{{key}}</span>: <template is="switch" value="{{lyteTreeDataType(value)}}"><template case="array"> <span style="text-transform:capitalize;">{{lyteTreeDataType(value)}}({{lyteTreeGetArrayLength(value)}})</span> <span class="lyteTreeComma">,</span> </template><template case="object"> <span>{...}</span> <span class="lyteTreeComma">,</span> </template><template case="string"> <span class="lyteDataTreeNodeText">\'{{value}}\'</span> <span class="lyteTreeComma">,</span> </template><template case="keyword"> <span class="lyteDataTreeNodeKeyword">{{lyteDataTreeKeywordParsing(value)}}</span> <span class="lyteTreeComma">,</span> </template><template case="number"> <span class="lyteDataTreeNumber">{{value}}</span> <span class="lyteTreeComma">,</span> </template><template case="boolean"> <span class="lyteDataTreeBoolean">{{value}}</span> <span class="lyteTreeComma">,</span> </template></template> </template> }</span> </div></template><template case="false"><div class="lyteDataTreeOpened" onclick="{{action(\'openJson\',this)}}"> <span class="lyteDataTreeObjectTextLabel">Object</span> </div></template></template> <template is="if" value="{{lyteTreeJsonOpened}}"><template case="true"><div class="lyteDataTreeNodeWrap"> <template is="forIn" object="{{ltPropJsonData}}" value="value" key="key"> <template is="switch" value="{{lyteTreeDataType(value)}}"><template case="array"> <div class="lyteDataTreeNode lyteDataTreeArray"> <span class="lyteDataTreeIndex">{{key}}</span> <span>:</span> <div class="lyteDataTreeNodeContent"> <lyte-tree class="lyteDataTreeSubLevel" lt-prop-structure-type="data" lt-prop-array-data="{{value}}" on-before-open="{{method(\'onBeforeOpen\')}}" on-open="{{method(\'onOpen\')}}" on-before-close="{{method(\'onBeforeClose\')}}" on-close="{{method(\'onClose\')}}"> <template is="registerYield" yield-name="content"></template> </lyte-tree> </div> </div> </template><template case="object"> <div class="lyteDataTreeNode lyteDataTreeObject"> <span class="lyteDataTreeIndex">{{key}}</span> <span>:</span> <div class="lyteDataTreeNodeContent"> <lyte-tree class="lyteDataTreeSubLevel" lt-prop-structure-type="data" lt-prop-json-data="{{value}}" on-before-open="{{method(\'onBeforeOpen\')}}" on-open="{{method(\'onOpen\')}}" on-before-close="{{method(\'onBeforeClose\')}}" on-close="{{method(\'onClose\')}}"> <template is="registerYield" yield-name="content"></template> </lyte-tree> </div> </div> </template><template case="string"> <div class="lyteDataTreeNode lyteDataTreeString"> <span class="lyteDataTreeIndex">{{key}}</span> <span>:</span> <span class="lyteDataTreeNodeContent lyteDataTreeNodeText">{{value}}</span> <span class="lyteTreeComma testend">,</span> </div> </template><template case="keyword"> <div class="lyteDataTreeNode lyteDataTreeKeyword"> <span class="lyteDataTreeIndex">{{key}}</span> <span>:</span> <span class="lyteDataTreeNodeContent lyteDataTreeNodeText">{{lyteDataTreeKeywordParsing(value)}}</span> <span class="lyteTreeComma testend">,</span> </div> </template><template case="number"> <div class="lyteDataTreeNode lyteDataTreeNumber"> <span class="lyteDataTreeIndex">{{key}}</span> <span>:</span> <span class="lyteDataTreeNodeContent lyteDataTreeNodeText">{{value}}</span> <span class="lyteTreeComma testend">,</span> </div> </template><template case="boolean"> <div class="lyteDataTreeNode lyteDataTreeBoolean"> <span class="lyteDataTreeIndex">{{key}}</span> <span>:</span> <span class="lyteDataTreeNodeContent lyteDataTreeNodeText">{{value}}</span> <span class="lyteTreeComma testend">,</span> </div> </template></template> </template> </div></template></template> </template></template> </div> </template></template> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"switch",position:[1],cases:{file:{dynamicNodes:[{type:"attr",position:[1]},{type:"for",position:[1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[0,1],attr:{style:{name:"style",helperInfo:{name:"lyteUiTreeLevelVariableHelp",args:["indexVar","index","ltPropCssLevelVariable"]}}}},{type:"attr",position:[0,1,1]},{type:"attr",position:[0,1,1,1]},{type:"switch",position:[0,1,1,1],cases:{withExternal:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"insertYield",position:[1,1]}]},onlyInternal:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"insertYield",position:[1,1]}]},nonSortable:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]}},default:{}},{type:"attr",position:[0,1,1,3]},{type:"if",position:[0,1,1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"componentDynamic",position:[0,1]}]}},default:{}}]}]},hierarchy:{dynamicNodes:[{type:"attr",position:[1]},{type:"for",position:[1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,0,1]},{type:"attr",position:[1,1,0,1,1]},{type:"if",position:[1,1,0,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,3]}]}},default:{}},{type:"attr",position:[1,1,0,1,3,1]},{type:"insertYield",position:[1,1,0,1,3,1]},{type:"attr",position:[1,1,0,3]},{type:"if",position:[1,1,0,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"registerYield",position:[1,1,1],dynamicNodes:[]},{type:"componentDynamic",position:[1,1]}]}},default:{},actualTemplate:'<template is="if" value="{{(item.collapsed !== undefined) &amp;&amp; (item.collapsed !== true)}}"><template case="true" depth="3"><table><tbody><tr> <td class="lyteHtreeChildNode"> <lyte-tree id="{{ltPropId}}" class="lyteHTreeChildWrap" index-var="{{lyteUiTreeIndexHelp(indexVar,index)}}" lt-prop-children-value="{{ltPropChildrenValue}}" lt-prop-data="{{item[ltPropChildrenValue]}}" lt-prop-open-class="open" lt-prop-close-class="close" lt-prop-yield="{{ltPropYield}}" lt-prop-structure-type="hierarchy" lt-prop-leaf-node-class="{{ltPropLeafNodeClass}}" on-before-open="{{method(\'onBeforeOpen\')}}" on-open="{{method(\'onOpen\')}}" on-before-close="{{method(\'onBeforeClose\')}}" on-close="{{method(\'onClose\')}}"> <template is="registerYield" yield-name="content" from-parent=""></template> </lyte-tree> </td> </tr></tbody></table></template></template>'}]}]},data:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"switch",position:[1,1],cases:{array:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"attr",position:[0,1,1]},{type:"for",position:[0,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"switch",position:[1],cases:{array:{dynamicNodes:[{type:"text",position:[1,0]},{type:"text",position:[1,2]}]},object:{dynamicNodes:[]},string:{dynamicNodes:[{type:"text",position:[1,1]}]},keyword:{dynamicNodes:[{type:"text",position:[1,0]}]},number:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}}]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"text",position:[0,1,1]}]}},default:{}},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[0,1]},{type:"for",position:[0,1],dynamicNodes:[{type:"attr",position:[1]},{type:"switch",position:[1],cases:{array:{dynamicNodes:[{type:"text",position:[1,1,0]},{type:"attr",position:[1,5,1]},{type:"registerYield",position:[1,5,1,1],dynamicNodes:[]},{type:"componentDynamic",position:[1,5,1]}]},object:{dynamicNodes:[{type:"text",position:[1,1,0]},{type:"attr",position:[1,5,1]},{type:"registerYield",position:[1,5,1,1],dynamicNodes:[]},{type:"componentDynamic",position:[1,5,1]}]},number:{dynamicNodes:[{type:"text",position:[1,1,0]},{type:"text",position:[1,5,0]}]},string:{dynamicNodes:[{type:"text",position:[1,1,0]},{type:"text",position:[1,5,0]}]},keyword:{dynamicNodes:[{type:"text",position:[1,1,0]},{type:"text",position:[1,5,0]}]},boolean:{dynamicNodes:[{type:"text",position:[1,1,0]},{type:"text",position:[1,5,0]}]}},default:{}}]}]}},default:{}}]},object:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"attr",position:[0,1,1]},{type:"forIn",position:[0,1,1],dynamicNodes:[{type:"text",position:[1,0]},{type:"attr",position:[3]},{type:"switch",position:[3],cases:{array:{dynamicNodes:[{type:"text",position:[1,0]},{type:"text",position:[1,2]}]},object:{dynamicNodes:[]},string:{dynamicNodes:[{type:"text",position:[1,1]}]},keyword:{dynamicNodes:[{type:"text",position:[1,0]}]},number:{dynamicNodes:[{type:"text",position:[1,0]}]},boolean:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}}]}]},false:{dynamicNodes:[{type:"attr",position:[0]}]}},default:{}},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[0,1]},{type:"forIn",position:[0,1],dynamicNodes:[{type:"attr",position:[1]},{type:"switch",position:[1],cases:{array:{dynamicNodes:[{type:"text",position:[1,1,0]},{type:"attr",position:[1,5,1]},{type:"registerYield",position:[1,5,1,1],dynamicNodes:[]},{type:"componentDynamic",position:[1,5,1]}]},object:{dynamicNodes:[{type:"text",position:[1,1,0]},{type:"attr",position:[1,5,1]},{type:"registerYield",position:[1,5,1,1],dynamicNodes:[]},{type:"componentDynamic",position:[1,5,1]}]},string:{dynamicNodes:[{type:"text",position:[1,1,0]},{type:"text",position:[1,5,0]}]},keyword:{dynamicNodes:[{type:"text",position:[1,1,0]},{type:"text",position:[1,5,0]}]},number:{dynamicNodes:[{type:"text",position:[1,1,0]},{type:"text",position:[1,5,0]}]},boolean:{dynamicNodes:[{type:"text",position:[1,1,0]},{type:"text",position:[1,5,0]}]}},default:{}}]}]}},default:{}}]}},default:{}}]}},default:{}}],_observedAttributes:["ltPropData","ltPropJsonData","ltPropArrayData","ltPropContent","ltPropChildrenValue","ltPropLeafContainer","ltPropWrapperOpenClass","ltPropWrapperCloseClass","ltPropOpenClass","ltPropCloseClass","ltPropLeafNodeClass","ltPropMaxLevel","ltPropStructureType","ltPropToggleAnimation","ltPropSortable","ltPropScrollSpeed","ltPropAllowExternalImport","ltPropIgnoreMaxLevel","ariaLiveContent","ariaLiveBoolean","treeHeight","ltPropStateAttr","ltPropCssLevelVariable","dataType","lyteTreeArrayOpened","lyteTreeJsonOpened","lyteTreeArrayLength","arrayOpened","jsonOpened","heightTransArr","collapsedAll","tempVar","indexVar","getLevel","currentSortObject","currentClickedBody","treeDimension","contentDimension","initialClientY","currentBodyDimension","previousSortIndex","currentSortIndex","triggerSortable","exeDrop","initialTop","initialLeft","stopScroll","scrollTriggered","dropZoneDim","indexObj"],data:function(){return{ltPropData:Lyte.attr("array",{default:[]}),ltPropJsonData:Lyte.attr("object",{default:{}}),ltPropArrayData:Lyte.attr("array",{default:[]}),ltPropContent:Lyte.attr("object",{default:{lyteTreeEmptyObject:!0}}),ltPropChildrenValue:Lyte.attr("string",{default:"children"}),ltPropLeafContainer:Lyte.attr("string",{default:"lyteTreeNoChildContainer"}),ltPropWrapperOpenClass:Lyte.attr("string",{default:""}),ltPropWrapperCloseClass:Lyte.attr("string",{default:""}),ltPropOpenClass:Lyte.attr("string",{default:""}),ltPropCloseClass:Lyte.attr("string",{default:""}),ltPropLeafNodeClass:Lyte.attr("string",{default:"lyteTreeHasNoChild"}),ltPropMaxLevel:Lyte.attr("number",{default:35}),ltPropStructureType:Lyte.attr("string",{default:"file"}),ltPropToggleAnimation:Lyte.attr("boolean",{default:!0}),ltPropSortable:Lyte.attr("boolean",{default:!1}),ltPropScrollSpeed:Lyte.attr("number",{default:5}),ltPropAllowExternalImport:Lyte.attr("boolean",{default:!1}),ltPropIgnoreMaxLevel:Lyte.attr("boolean",{default:!1}),ariaLiveContent:Lyte.attr("string",{default:""}),ariaLiveBoolean:Lyte.attr("boolean",{default:!1}),treeHeight:Lyte.attr("number",{default:0}),ltPropStateAttr:Lyte.attr("string",{default:""}),ltPropCssLevelVariable:Lyte.attr("string",{default:"treeLevel"}),dataType:Lyte.attr("string",{default:"array"}),lyteTreeArrayOpened:Lyte.attr("boolean",{default:!1}),lyteTreeJsonOpened:Lyte.attr("boolean",{default:!1}),lyteTreeArrayLength:Lyte.attr("number",{default:0}),arrayOpened:Lyte.attr("boolean",{default:!1}),jsonOpened:Lyte.attr("boolean",{default:!1}),heightTransArr:Lyte.attr("array",{default:[]}),collapsedAll:Lyte.attr("boolean",{default:!1}),tempVar:Lyte.attr("string",{default:""}),indexVar:Lyte.attr("string",{default:""}),getLevel:Lyte.attr("object",{default:{level:0,hasChild:!0}}),currentSortObject:Lyte.attr("object"),currentClickedBody:Lyte.attr("string",{default:""}),treeDimension:Lyte.attr("object",{default:{}}),contentDimension:Lyte.attr("object",{default:{}}),initialClientY:Lyte.attr("number",{default:0}),currentBodyDimension:Lyte.attr("object"),previousSortIndex:Lyte.attr("string"),currentSortIndex:Lyte.attr("string"),triggerSortable:Lyte.attr("boolean",{default:!1}),exeDrop:Lyte.attr("boolean",{default:!1}),initialTop:Lyte.attr("number",{default:0}),initialLeft:Lyte.attr("number",{default:0}),stopScroll:Lyte.attr("boolean",{default:!0}),scrollTriggered:Lyte.attr("boolean",{default:!1}),dropZoneDim:Lyte.attr("object",{default:{}}),indexObj:Lyte.attr("string",{default:""})}},init:function(){void 0===$L(this.$node.parentElement).closest("lyte-tree")[0]&&$L(this.$node).addClass("lyteTreeTopParent"),void 0===$L(this.$node).attr("class")&&$L(this.$node).addClass("lyteTreeOpened");var e=this;this.$node.closeIcon=function(e){$L(e).addClass("lyteIconClosed"),$L(e).addClass(this.getData("ltPropCloseClass")),$L(e).removeClass("lyteIconOpened"),$L(e).removeClass(this.getData("ltPropOpenClass")),$L(e).hasClass("lyteTreeIconHasChild")&&($L(e).removeClass("lyteTreeIconHasChild"),$L(e).closest(".lyteTreeMainContainer").removeClass("lyteTreeHasChild"))},this.$node.openIcon=function(e){$L(e).removeClass("lyteIconClosed"),$L(e).removeClass(this.getData("ltPropCloseClass")),$L(e).addClass("lyteIconOpened"),$L(e).addClass(this.getData("ltPropOpenClass")),$L(e).hasClass("lyteTreeIconHasChild")&&($L(e).removeClass("lyteTreeIconHasChild"),$L(e).closest(".lyteTreeMainContainer").removeClass("lyteTreeHasChild")),$L(e).closest(".lyteTreeMainContainer").removeClass("lyteTreeNoChildContainer"),$L(e).closest(".lyteTreeMainContainer").removeClass("lyteTreeLastChild"),$L(e).closest("lyte-yield").removeClass("lyteTreeLastChild"),$L(e).closest("lyte-yield").removeClass(this.getData("ltPropLeafNodeClass"))},this.$node.expandAll=function(t){var l=this,a=$L(this).find("lyte-tree")[0].closest("lyte-tree-body"),o=$L(a).find("lyte-tree-icon")[0];if($L(a).closest(".lyteTreeCollapsed")[0]&&$L(a).closest(".lyteTreeCollapsed").removeClass("lyteTreeCollapsed"),t&&t.changeCollapsed){!function e(t){for(var a=0;a<t.length;a++)!0===t[a].collapsed&&Lyte.objectUtils(t[a],"add","collapsed",!1),t[a][l.component.data.ltPropChildrenValue]&&t[a][l.component.data.ltPropChildrenValue].length>0&&e(t[a][l.component.data.ltPropChildrenValue])}(this.component.data.ltPropData)}function r(){var e=$L(l).find(".lyteTreeChildrenLevel"),t=$L(l).find(".lyteTreeMaxedChild");$L(e).find(".lyteTreeCollapsed").removeClass("lyteTreeCollapsed"),$L(e.find(".lyteIconClosed.lyteTreeIconHasChild"))&&($L(e.find(".lyteIconClosed.lyteTreeIconHasChild")).closest(".lyteTreeHasChild").find("lyte-tree").closest(".lyteTreeHasChild").find("lyte-tree-icon").removeClass("lyteTreeIconHasChild"),$L(e.find(".lyteIconClosed.lyteTreeIconHasChild")).closest(".lyteTreeHasChild").find("lyte-tree").closest(".lyteTreeHasChild").removeClass("lyteTreeHasChild")),$L(e).find(".lyteTreeClosed:not(.lyteTreeIconHasChild)").closest(".lyteTreeBodyClosed").addClass("lyteTreeBodyOpened"),$L(e).find(".lyteTreeClosed:not(.lyteTreeIconHasChild)").closest(".lyteTreeBodyClosed").removeClass("lyteTreeBodyClosed"),$L(e).find(".lyteTreeClosed:not(.lyteTreeIconHasChild)").addClass("lyteTreeOpened"),$L(e).find(".lyteTreeClosed:not(.lyteTreeIconHasChild)").removeClass("lyteTreeClosed"),$L(t).find(".lyteTreeOpened").addClass("lyteTreeClosed"),$L(t).find(".lyteTreeOpened").removeClass("lyteTreeOpened"),$L(e).find(".lyteIconClosed:not(.lyteTreeIconHasChild)").addClass("lyteIconOpened "+l.getData("ltPropOpenClass")),$L(e).find(".lyteIconClosed:not(.lyteTreeIconHasChild)").removeClass("lyteIconClosed "+l.getData("ltPropCloseClass")),$L(t).find(".lyteIconOpened").addClass("lyteIconClosed "+l.getData("ltPropCloseClass")),$L(t).find(".lyteIconOpened").removeClass("lyteIconOpened "+l.getData("ltPropOpenClass")),$L(l).find(".lyteTreeChildrenLevel").css({display:"",height:"auto"}),l.getData("collapsedAll")&&o.click(),l.setData("collapsedAll",!1)}$L(".lyteTreeCollapsed").length>0?r():(r(),$L(e.$node).find(".lyteIconClosed:not(.lyteTreeIconMaxed)").click())},this.$node.collapseAll=function(){if(!this.getData("collapsedAll")){var e=this,t=function(){$L(e).find(".lyteTreeOpened").addClass("lyteTreeClosed"),$L(e).find(".lyteTreeOpened").removeClass("lyteTreeOpened"),$L(e).find(".lyteTreeBodyOpened").addClass("lyteTreeBodyClosed"),$L(e).find(".lyteTreeBodyOpened").removeClass("lyteTreeBodyOpened"),$L(e).find(".lyteIconOpened").addClass("lyteIconClosed "+e.getData("ltPropCloseClass")),$L(e).find(".lyteIconOpened").removeClass("lyteIconOpened "+e.getData("ltPropOpenClass")),$L(e).find(".lyteTreeChildrenLevel").css({display:"none",height:"auto"}),$L(e).find(".lyteTreeChildrenLevel")[0].removeEventListener("transitionend",t)},l=$L(this).find("lyte-tree")[0].closest("lyte-tree-body"),a=$L(l).find("lyte-tree-icon")[0];$L(a).hasClass("lyteIconClosed")?($L(a).addClass("lyteTreeIconClosed"),t()):(a.click(),$L(this).find(".lyteTreeChildrenLevel")[0].addEventListener("transitionend",t)),$L(this).addClass("lyteTreeCollapsed"),this.setData("collapsedAll",!0)}},this.$node.expandAllTrees=function(e){var t=this,l=this,a=$L(t).find(".lyteTreeMaxedChild");if(e&&e.changeCollapsed){!function e(l){for(var a=0;a<l.length;a++)!0===l[a].collapsed&&Lyte.objectUtils(l[a],"add","collapsed",!1),l[a][t.component.data.ltPropChildrenValue]&&l[a][t.component.data.ltPropChildrenValue].length>0&&e(l[a][t.component.data.ltPropChildrenValue])}(this.component.data.ltPropData)}$L(l).find(".lyteTreeCollapsed").removeClass("lyteTreeCollapsed"),$L(l).find(".lyteIconClosed.lyteTreeIconHasChild")&&($L(l).find(".lyteIconClosed.lyteTreeIconHasChild").closest(".lyteTreeHasChild").find("lyte-tree").closest(".lyteTreeHasChild").find("lyte-tree-icon").removeClass("lyteTreeIconHasChild"),$L(l).find(".lyteIconClosed.lyteTreeIconHasChild").closest(".lyteTreeHasChild").find("lyte-tree").closest(".lyteTreeHasChild").removeClass("lyteTreeHasChild")),$L(l).find(".lyteTreeClosed:not(.lyteTreeIconHasChild)").closest(".lyteTreeBodyClosed").addClass("lyteTreeBodyOpened"),$L(l).find(".lyteTreeClosed:not(.lyteTreeIconHasChild)").closest(".lyteTreeBodyClosed").removeClass("lyteTreeBodyClosed"),$L(l).find(".lyteTreeClosed:not(.lyteTreeIconHasChild)").addClass("lyteTreeOpened"),$L(l).find(".lyteTreeClosed:not(.lyteTreeIconHasChild)").removeClass("lyteTreeClosed"),$L(a).find(".lyteTreeOpened").addClass("lyteTreeClosed"),$L(a).find(".lyteTreeOpened").removeClass("lyteTreeOpened"),$L(l).find(".lyteIconClosed:not(.lyteTreeIconHasChild)").addClass("lyteIconOpened "+t.getData("ltPropOpenClass")),$L(l).find(".lyteIconClosed:not(.lyteTreeIconHasChild)").removeClass("lyteIconClosed "+t.getData("ltPropCloseClass")),$L(a).find(".lyteIconOpened").addClass("lyteIconClosed "+t.getData("ltPropCloseClass")),$L(a).find(".lyteIconOpened").removeClass("lyteIconOpened "+t.getData("ltPropOpenClass")),$L(t).find(".lyteTreeChildrenLevel").css({display:"",height:"auto"}),t.getData("collapsedAll")&&icon.click(),t.setData("collapsedAll",!1)},this.$node.collapseAllTrees=function(){$L(this).find(".lyteTreeOpened").addClass("lyteTreeClosed"),$L(this).find(".lyteTreeOpened").removeClass("lyteTreeOpened"),$L(this).find(".lyteTreeBodyOpened").addClass("lyteTreeBodyClosed"),$L(this).find(".lyteTreeBodyOpened").removeClass("lyteTreeBodyOpened"),$L(this).find(".lyteIconOpened").addClass("lyteIconClosed "+this.getData("ltPropCloseClass")),$L(this).find(".lyteIconOpened").removeClass("lyteIconOpened "+this.getData("ltPropOpenClass")),$L(this).find(".lyteTreeChildrenLevel").css({display:"none",height:"auto"})},this.$node.openRecursive=function(e){var t,l,a=$L(e).attr("data-index"),o=(Math.floor(a.length/2),this);$L(o).find('LYTE-TREE-BODY [data-index="'+a.slice(0,5)+'"]')[0];!function e(){a=o.component.getParentIndex(a),t=$L(o).find('LYTE-TREE [index-var="'+a+'"]')[0],l=$L(t).closest(".lyteTreeMainContainer").find("LYTE-TREE-ICON")[0],t&&o.component.onOpenClasses(l,t),a.length>0&&e()}()},this.$node.showIcon=function(e,t){$L(e).find(".lyteTreeNoChildContainer").eq(0).removeClass("lyteTreeNoChildContainer"),$L(e).find(".lyteTreeLastChild").eq(0).removeClass("lyteTreeLastChild"),$L(e).find(".lyteTreeHasNoChild").eq(0).removeClass("lyteTreeHasNoChild"),$L(e).find("lyte-yield.lyteTreeLastChild").eq(0).removeClass("lyteTreeLastChild"),$L(e).find("lyte-yield.noChildClass").eq(0).removeClass("noChildClass"),t?this.openIcon($L(e).find("lyte-tree-icon.lyteIconClosed")[0]):this.closeIcon($L(e).find("lyte-tree-icon.lyteIconClosed")[0])},this.$node.removeIcon=function(e){$L(e).find(".lyteTreeMainContainer").eq(0).addClass("lyteTreeNoChildContainer lyteTreeLastChild"),$L(e).find("lyte-yield").eq(0).addClass("lyteTreeHasNoChild lyteTreeLastChild")},this.$node.closeTree=function(e,t){$L(e).closest("LYTE-TREE")[0];var l=$L(e).find("lyte-tree-icon.lyteIconOpened"),a=$L(e).find("lyte-tree.lyteTreeOpened"),o=$L(e).find("lyte-tree-body.lyteTreeBodyOpened"),r=$L(e).attr("data-index"),s=$L(e).find('LYTE-TREE[index-var="'+r+'"]'),n=$L(l[0]),i=$L(e);if(s.hasClass("lyteTreeOpened")){var d=function(){t?(l.addClass("lyteIconClosed"),l.addClass(this.getData("ltPropCloseClass")),l.removeClass("lyteIconOpened"),l.removeClass(this.getData("ltPropOpenClass")),a.css({display:"none"}),a.addClass("lyteTreeClosed"),a.removeClass("lyteTreeOpened"),a.css({height:"auto"}),o.addClass("lyteTreeBodyOpened"),o.addClass(s.getData("ltPropWrapperOpenClass")),o.removeClass("lyteTreeBodyClosed"),o.removeClass(s.getData("ltPropWrapperCloseClass"))):(n.addClass("lyteIconClosed"),n.addClass(this.getData("ltPropCloseClass")),n.removeClass("lyteIconOpened"),n.removeClass(this.getData("ltPropOpenClass")),s.css({display:"none"}),s.addClass("lyteTreeClosed"),s.removeClass("lyteTreeOpened"),s.css({height:"auto"}),$L(e).addClass("lyteTreeBodyClosed"),$L(e).removeClass("lyteTreeBodyOpened")),i.addClass("lyteTreeBodyClosed"),i.addClass(this.getData("ltPropWrapperCloselass")),i.removeClass("lyteTreeBodyOpened"),i.removeClass(this.getData("ltPropWrapperOpenClass")),s.removeClass("treeTransRunning"),s[0].removeEventListener("transitionend",d)},p=s[0].getBoundingClientRect().height;s[0].style.height=p+"px",s.addClass("treeTransRunning"),setTimeout((function(){s[0].style.height="0px"}),10),s[0].addEventListener("transitionend",d)}},this.$node.openTree=function(e,t,l){if($L(e).closest(".lyteTreeCollapsed")[0]&&($L(e).closest(".lyteTreeCollapsed")[0].setData("collapsedAll",!1),$L(e).closest(".lyteTreeCollapsed").removeClass("lyteTreeCollapsed")),t&&t.changeCollapsed){var a=$L(e).attr("data-index").split(" "),o=a[a.length-1],r=$L(e).closest("lyte-tree")[0],s=$L(e).closest("lyte-tree")[0].getData().ltPropData[o];s[r.getData("ltPropChildrenValue")]&&s[r.getData("ltPropChildrenValue")].length>0&&(Lyte.objectUtils(s,"add","collapsed",!1),this.openIcon($L(e).find("lyte-tree-icon")[0]))}var n=$L(e).find("lyte-tree-icon.lyteIconClosed:not(.lyteTreeIconHasChild)"),i=$L(e).find("lyte-tree.lyteTreeClosed"),d=$L(e).attr("data-index"),p=(r=$L(e).find('LYTE-TREE[index-var="'+d+'"]'),$L(n[0]));if(r.hasClass("lyteTreeClosed")){l?(n.addClass("lyteIconOpened"),n.addClass(this.getData("ltPropOpenClass")),n.removeClass("lyteIconClosed"),n.removeClass(this.getData("ltPropCloseClass")),i.css({display:""}),i.addClass("lyteTreeOpened"),i.removeClass("lyteTreeClosed"),i.css({height:"auto"})):(p.addClass("lyteIconOpened"),p.addClass(this.getData("ltPropOpenClass")),p.removeClass("lyteIconClosed"),p.removeClass(this.getData("ltPropCloseClass")),r.css({display:""}),r.addClass("lyteTreeOpened"),r.removeClass("lyteTreeClosed"),$L(e).removeClass("lyteTreeBodyClosed"),$L(e).addClass("lyteTreeBodyOpened"));var y=function(){r.removeClass("treeTransRunning"),r[0].style.height="auto",r[0].removeEventListener("transitionend",y)};r[0].style.display="block",r[0].style.height="auto";var c=r[0].getBoundingClientRect().height;r[0].style.height="0px",r.addClass("treeTransRunning"),setTimeout((function(){r[0].style.height=c+"px",r[0].addEventListener("transitionend",y)}),10)}},this.$node.getLevel=function(){return this.getData("getLevel")},this.$node.openJsonTree=function(){this.component.openJsonTree()},this.$node.openArrayTree=function(){this.component.openArrayTree()}},focusNextNode:function(){var e=$L(document.activeElement).closest("lyte-tree-body")[0],t=$L(document.activeElement).closest(".lyteTreeBodyDiv")[0];!function e(l){if($L(l).find(".lyteTreeBodyDiv")[0]&&!$L(l).hasClass("lyteTreeBodyClosed"))$L(l).find(".lyteTreeBodyDiv").eq(0).find("lyte-yield")[0].focus();else{if(!t)return;if(t.nextElementSibling)return void $L(t.nextElementSibling).find("lyte-yield")[0].focus();t=$L(t.parentElement).closest(".lyteTreeBodyDiv")[0],e()}}(e)},focusPreviousNode:function(){$L(document.activeElement).closest("lyte-tree-body")[0];var e,t=$L(document.activeElement).closest(".lyteTreeBodyDiv")[0];t&&(!$L(t.previousElementSibling).find("lyte-tree-body").eq(0).hasClass("lyteTreeBodyClosed")&&$L(t.previousElementSibling).hasClass("lyteTreeBodyDiv")?(e=$L(t.previousElementSibling).find("lyte-yield"))[e.length-1].focus():$L(t.previousElementSibling).find("lyte-tree-body").eq(0).hasClass("lyteTreeBodyClosed")?$L(t.previousElementSibling).find("lyte-tree-body").eq(0).find("lyte-yield")[0].focus():$L(t.parentElement).closest(".lyteTreeBodyDiv")[0]&&$L(t.parentElement).closest(".lyteTreeBodyDiv").eq(0).find("lyte-yield")[0].focus())},closeTreeNodeOrMoveOut:function(){var e=$L(document.activeElement).closest("lyte-tree-body")[0],t=$L(e).attr("data-index"),l=$L(e).find('LYTE-TREE[index-var="'+t+'"]'),a=$L(l).closest(".lyteTreeMainContainer")[0];$L(l).hasClass("lyteTreeClosed")||$L(a).hasClass("lyteTreeHasChild")?$L(e).closest('LYTE-TREE-BODY[data-index="'+t.slice(0,-2)+'"]')[0].focus():$L(e).hasClass("lyteTreeBodyOpened")&&$L(e).find("lyte-tree-icon")[0].click()},openTreeNodeOrMoveIn:function(){var e=$L(document.activeElement).closest("lyte-tree-body")[0],t=$L(e).attr("data-index"),l=$L(e).find('LYTE-TREE[index-var="'+t+'"]');$L(l).find(".lyteTreeMainContainer")[0];$L(l).hasClass("lyteTreeOpened")?$L(e).find('LYTE-TREE-BODY[data-index="'+t+' 0"]')[0].focus():$L(e).hasClass("lyteTreeBodyClosed")&&$L(e).find("lyte-tree-icon")[0].click()},toggleTreeNode:function(){$L(document.activeElement).find("lyte-tree-icon")[0].click()},didConnect:function(){var e=this;if(this.$node.keydownEvents=function(t){"LYTE-YIELD"===document.activeElement.tagName?40===t.keyCode&&e.focusNextNode():t.shiftKey&&40===t.keyCode&&e.focusNextNode(),"LYTE-YIELD"===document.activeElement.tagName?38===t.keyCode&&e.focusPreviousNode():t.shiftKey&&38===t.keyCode&&e.focusPreviousNode(),"LYTE-YIELD"===document.activeElement.tagName&&(37===t.keyCode&&($L(document.activeElement).find("lyte-tree-icon").hasClass("lyteIconOpened")?e.closeTreeNodeOrMoveOut():e.focusPreviousNode()),39===t.keyCode&&($L(document.activeElement).find("lyte-tree-icon").hasClass("lyteIconClosed")?e.openTreeNodeOrMoveIn():e.focusNextNode()),13!==t.keyCode&&32!==t.keyCode||e.toggleTreeNode())},$L(this.$node).attr("index-var")||e.$node.addEventListener("keydown",this.$node.keydownEvents),this.getData("ltPropArrayData").length>0?this.setData("dataType","array"):this.getData("ltPropJsonData")&&!this.getData("ltPropJsonData").lyteTreeEmptyObject&&this.getData("ltPropArrayData").length<=0&&this.setData("dataType","object"),this.getData("ltPropSortable")&&($L(this.$node).closest(".lyteTreeTopParent").addClass("lyteTreeSortable"),void 0===$L(this.$node).attr("index-var")&&$L(this.$node)[0].addEventListener("mousedown",this.mouseDownFunction)),"file"===this.getData("ltPropStructureType")&&this.getData("ltPropData")[0]&&this.getData("ltPropData")[0].exclusiveTree&&$L(this.$node).attr("exclusive",!0),this.getData("ltPropData")&&this.getData("ltPropData").length>0){var t=parseInt($L(this.$node).find("lyte-tree-body").attr("data-level")),l=$L(this.$node).closest(".lyteTreeTopParent")[0].getData("getLevel");t>=$L(this.$node).closest(".lyteTreeTopParent")[0].getData("getLevel").level&&Lyte.objectUtils(l,"add","level",t);for(var a=0;a<this.getData("ltPropData").length;a++)this.getData("ltPropData")[a][this.getData("ltPropChildrenValue")]&&this.getData("ltPropData")[a][this.getData("ltPropChildrenValue")].length>0?(Lyte.objectUtils(l,"add","hasChild",!0),a=this.getData("ltPropData").length):Lyte.objectUtils(l,"add","hasChild",!1)}},mouseDownFunction:function(e){this.setData("triggerSortable",!0),this.setData("initialClientY",e.clientY);var t=$L(e.target).closest("lyte-tree-body");if(this.setData("currentClickedBody",$L(t).attr("data-index")),t[0]){var l=$L(e.target).closest(".lyteTreeSortableElement");l.addClass("lyteTreeNodeCurrentlyDragged");var a=$L(l).closest("lyte-tree-body").attr("data-index").split(" "),o=a[a.length-1],r=$L(l).closest("lyte-tree")[0].getData("ltPropData")[o];this.setData("currentSortObject",r),this.setData("treeDimension",$L(".lyteTreeTopParent")[0].getBoundingClientRect()),this.setData("initialTop",l[0].getBoundingClientRect().top),this.setData("initialLeft",l[0].getBoundingClientRect().left),this.setData("contentDimension",l[0].getBoundingClientRect()),!1!==this.component.executeMethod("onDragStart",$L(l).closest("lyte-tree-body"),r)&&(document.addEventListener("mousemove",this.component.mouseMoveFunction),document.addEventListener("mouseup",this.component.mouseLeaveFunction),document.removeEventListener("drop",this.component.dropFunction))}},mouseMoveFunction:function(e,t){if(t)var l=$L(e.target).closest(".lyteTreeTopParent");else l=$L(".lyteTreeNodeCurrentlyDragged").closest(".lyteTreeTopParent");var a=l[0].component;$L(l).find(".lyteTreeDropParent").removeClass("lyteTreeDropParent"),$L(l).closest(".lyteTreeSortableElement").addClass("lyteTreeDropParent");$L(l).find(".lyteTreeNodeCurrentlyDragged")[0];if(Math.abs(a.data.initialClientY-e.clientY)>5){var o;if(l.addClass("lyteTreeDragRunning"),o=".lyteTreeSortableElement"===e.target.tagName?e.target:$L(e.target).eq(0).closest(".lyteTreeSortableElement")[0],!$L(".lyteTreeCurrentSortElem")[0]){var r=o.cloneNode(!0);$L(r).addClass("lyteTreeCurrentSortElem"),$L(r).removeClass("lyteTreeNodeCurrentlyDragged"),r.style.position="absolute",r.style.width=o.getBoundingClientRect().width+"px",r.style.height=o.getBoundingClientRect().height+"px",r.style.setProperty("--treeLevel",$L(o).closest("lyte-tree-body").attr("data-level")),$L(r).find("lyte-tree-icon").addClass("lyteTreeClonedIcon"),document.body.appendChild(r)}var s=$L(".lyteTreeCurrentSortElem")[0];if(o)var n=$L(o).closest("lyte-tree-body").attr("data-index").split(" "),i=$L(o).closest("lyte-tree")[0].getData("ltPropData")[n[n.length-1]];var d={};d.draggedElem=s,d.overElem=o,d.overElemParent=a.getParentNode(o),d.draggedData=a.getData().currentSortObject,d.overData=i,$L(o).closest("lyte-tree")[0]?d.hoveredData=$L(o).closest("lyte-tree")[0].getData("ltPropData"):d.hoveredData={};var p=a.executeMethod("onBeforeDrag",d);if(o&&!1!==p){var y=o.getBoundingClientRect(),c=.2*y.height,C=.8*y.height;if(e.clientY<y.top+c){if(d.asChild=!1,!1===a.executeMethod("onDropZoneChange",d))return;$L(o).hasClass("lyteTreeSortableDropPlaceholderTop")||($L(l).find(".lyteTreeSortableDropPlaceholderBottom").removeClass("lyteTreeSortableDropPlaceholderBottom"),$L(l).find(".lyteTreeSortableDropPlaceholderChild").removeClass("lyteTreeSortableDropPlaceholderChild"),$L(o).addClass("lyteTreeSortableDropPlaceholderTop"))}else if(e.clientY>y.top+c&&e.clientY<y.top+C)d.asChild=!0,!1===a.executeMethod("onDropZoneChange",d)?($L(l).find(".lyteTreeSortableDropPlaceholderBottom").removeClass("lyteTreeSortableDropPlaceholderBottom"),$L(l).find(".lyteTreeSortableDropPlaceholderTop").removeClass("lyteTreeSortableDropPlaceholderTop"),$L(l).find(".lyteTreeSortableDropPlaceholderChild").removeClass("lyteTreeSortableDropPlaceholderChild")):$L(o).hasClass("lyteTreeSortableDropPlaceholderChild")||($L(l).find(".lyteTreeSortableDropPlaceholderBottom").removeClass("lyteTreeSortableDropPlaceholderBottom"),$L(l).find(".lyteTreeSortableDropPlaceholderTop").removeClass("lyteTreeSortableDropPlaceholderTop"),$L(o).addClass("lyteTreeSortableDropPlaceholderChild"));else if(e.clientY>y.top+C&&e.clientY<y.top+y.height){if(d.asChild=!1,!1===a.executeMethod("onDropZoneChange",d))return;$L(o).hasClass("lyteTreeSortableDropPlaceholderBottom")||($L(l).find(".lyteTreeSortableDropPlaceholderTop").removeClass("lyteTreeSortableDropPlaceholderTop"),$L(l).find(".lyteTreeSortableDropPlaceholderChild").removeClass("lyteTreeSortableDropPlaceholderChild"),$L(o).addClass("lyteTreeSortableDropPlaceholderBottom"))}var h=$L(e.target).closest("lyte-tree-body"),m=a.getParentIndex($L(h).attr("data-index")),T=a.getData("currentClickedBody");$L(h).attr("data-index")!==T&&m!==T||$L(h).addClass("lyteTreeSortableDropNotAllowed"),s.style.position="absolute",a.setData("exeDrop",!0),a.executeMethod("onDrag",d)}s.style.top=e.clientY+"px",s.style.left=e.clientX+"px";var u=l[0].getBoundingClientRect(),L=function(){if(!a.getData("scrollTriggered"))return window.cancelAnimationFrame(a.animation),void a.setData("stopScroll",!1);if(e.clientY>=u.top+u.height){if(l[0].scrollTop+=a.getData("ltPropScrollSpeed"),l[0].scrollTop>=l[0].scrollHeight-u.height)return window.cancelAnimationFrame(a.animation),void a.setData("stopScroll",!1)}else if(e.clientY<=u.top&&(l[0].scrollTop-=a.getData("ltPropScrollSpeed"),l[0].scrollTop<=0))return window.cancelAnimationFrame(a.animation),void a.setData("stopScroll",!1);a.animation=window.requestAnimationFrame(L.bind(e))};e.clientY>=u.top+u.height&&a.getData("stopScroll")&&!a.getData("scrollTriggered")||e.clientY<=u.top&&a.getData("stopScroll")&&!a.getData("scrollTriggered")?(a.setData("scrollTriggered",!0),a.animation=window.requestAnimationFrame(L.bind(e))):e.clientY<u.top+u.height&&e.clientY>u.top&&(window.cancelAnimationFrame(a.animation),a.setData("stopScroll",!0),a.setData("scrollTriggered",!1))}},mouseLeaveFunction:function(e){var t=$L(".lyteTreeNodeCurrentlyDragged").closest(".lyteTreeTopParent"),l=t[0].component,a=$L(l.$node).find(".lyteTreeNodeCurrentlyDragged");$L(l.$node).find(".lyteTreeSortableDropPlaceholderBottom").removeClass("lyteTreeSortableDropPlaceholderBottom"),$L(l.$node).find(".lyteTreeSortableDropPlaceholderTop").removeClass("lyteTreeSortableDropPlaceholderTop"),$L(l.$node).find(".lyteTreeSortableDropPlaceholderChild").removeClass("lyteTreeSortableDropPlaceholderChild"),$L(l.$node).find(".lyteTreeDragRunning").removeClass("lyteTreeDragRunning"),$L(l.$node).find(".lyteTreeNodeCurrentlyDragged").removeClass("lyteTreeNodeCurrentlyDragged"),$L(l.$node).find(".lyteTreeDropParent").removeClass("lyteTreeDropParent"),$L(l.$node).find(".lyteTreeSortableDropNotAllowed").removeClass("lyteTreeSortableDropNotAllowed"),l.animation&&(window.cancelAnimationFrame(l.animation),l.setData("stopScroll",!0),l.setData("scrollTriggered",!1));var o,r=e.target,s=!1;if(o=$L(r).eq(0).hasClass("lyteTreeSortableElement")?r:$L(r).eq(0).closest(".lyteTreeSortableElement")[0],$L(e.target).hasClass("lyteTreeTopParent")&&(o=$L(e.target).find(".lyteTreeSortableElement")[0],r=$L(e.target).find(".lyteTreeSortableElement")[0],s=!0),o){if(l.data.exeDrop){var n=o.getBoundingClientRect(),i=.2*n.height,d=.8*n.height,p=$L(r).closest("lyte-tree-body");$L(".lyteTreeCurrentSortElem")[0].remove();var y=l.getParentIndex($L(p).attr("data-index")),c=l.getData("currentClickedBody");if(y===c)return document.removeEventListener("mousemove",l.mouseMoveFunction),void document.removeEventListener("mouseup",l.mouseLeaveFunction);var C,h=$L(r).closest(".lyteTreeSortableElement"),m=$L(h).closest("lyte-tree-body").attr("data-index").split(" "),T=m[m.length-1],u=$L(h).closest("lyte-tree")[0].getData("ltPropData")[T],L=$L(h).closest("lyte-tree")[0].getData("ltPropData"),g={};C=c.length<2?$L(t)[0].getData("ltPropData"):$L(t).find('[index-var="'+l.getParentIndex(c)+'"]')[0].getData("ltPropData");var v=$L(p).attr("data-index").split(" "),D=parseInt(v[v.length-1]),f=!0;l.getData("currentClickedBody")<=$L(p).attr("data-index")&&$L(p).attr("data-index").slice(0,l.getData("currentClickedBody").length)===l.getData("currentClickedBody")&&(f=!1),f&&(e.clientY<n.top+i?((g={}).asChild=!1,g.actualElem=a[0],g.targetElem=p[0],g.draggedObject=l.getData("currentSortObject"),g.droppedIndex=D,g.droppedArray=L,g.droppedObject=l.getParentData($L(event.target).closest("lyte-tree").eq(0).closest("lyte-tree-body").attr("data-index")),g.droppedParentObject=l.getParentData(y),!1!==l.executeMethod("onBeforeDrop",g)&&(Lyte.arrayUtils(C,"removeAt",c.charAt(c.length-1),1),D<0&&(D=0),Lyte.arrayUtils(L,"insertAt",D,l.getData("currentSortObject")))):e.clientY>n.top+i&&e.clientY<n.top+d?l.getData("currentClickedBody")!==$L(p).attr("data-index")&&(u[l.getData("ltPropChildrenValue")]||Lyte.objectUtils(u,"add",l.getData("ltPropChildrenValue"),[]),(g={}).asChild=!0,g.actualElem=a[0],g.targetElem=p[0],g.draggedObject=l.getData("currentSortObject"),g.droppedIndex=u[l.getData("ltPropChildrenValue")].length,g.droppedArray=l.getTreeArray(p),g.droppedObject=u,!1!==l.executeMethod("onBeforeDrop",g)&&(Lyte.arrayUtils(C,"removeAt",c.charAt(c.length-1),1),Lyte.arrayUtils(u[l.getData("ltPropChildrenValue")],"push",l.getData("currentSortObject")),(!$L(r).closest(".lyteTreeSortableElement").find("lyte-tree-icon").hasClass("lyteIconClosed")||$L(r).closest(".lyteTreeSortableElement").find("lyte-yield").hasClass("lyteTreeLastChild")||$L(r).closest(".lyteTreeMainContainer").hasClass("lyteTreeHasChild"))&&l.$node.openIcon($L(r).closest(".lyteTreeSortableElement").find("lyte-tree-icon")[0]))):(e.clientY>n.top+d&&e.clientY<n.top+n.height||s)&&(Math.abs(L.length-(D+1))>=0&&(D+=1),(g={}).asChild=!1,g.actualElem=a[0],g.targetElem=p[0],g.draggedObject=l.getData("currentSortObject"),g.droppedIndex=D,g.droppedArray=L,g.droppedObject=l.getParentData($L(event.target).closest("lyte-tree").eq(0).closest("lyte-tree-body").attr("data-index")),g.droppedParentObject=l.getParentData(y),!1!==l.executeMethod("onBeforeDrop",g)&&(D>parseInt(c.charAt(c.length-1))?(Lyte.arrayUtils(L,"insertAt",D,l.getData("currentSortObject")),Lyte.arrayUtils(C,"removeAt",c.charAt(c.length-1),1)):D<parseInt(c.charAt(c.length-1))&&(Lyte.arrayUtils(C,"removeAt",c.charAt(c.length-1),1),Lyte.arrayUtils(L,"insertAt",D,l.getData("currentSortObject")))))),l.setData("exeDrop",!1),g.asChild?(g={}).droppedArray=u[l.getData("ltPropChildrenValue")]:(g={}).droppedArray=L,g.draggedObject=l.getData("currentSortObject"),l.executeMethod("onDrop",g)}}else $L(".lyteTreeCurrentSortElem")[0].remove();document.removeEventListener("mousemove",l.mouseMoveFunction),document.removeEventListener("mouseup",l.mouseLeaveFunction)},getParentData:function(e){if(e){for(var t=e.split(" "),l={},a=0;a<t.length;a++)l=0==a?this.getData().ltPropData[parseInt(t[a])]:l[this.getData().ltPropChildrenValue][parseInt(t[a])];return l}},onOpenClasses:function(e,t){var l,a=this.data;$L(e).addClass("lyteIconOpened"),(l=a.ltPropOpenClass)&&$L(e).addClass(l),$L(e).removeClass("lyteIconClosed"),(l=a.ltPropCloseClass)&&$L(e).removeClass(l),t.style.display="block",$L(t).addClass("lyteTreeOpened"),$L(t).removeClass("lyteTreeClosed"),t.style.height="auto"},onCloseClasses:function(e,t){var l,a=this.data;$L(e).addClass("lyteIconClosed"),(l=a.ltPropCloseClass)&&$L(e).addClass(l),$L(e).removeClass("lyteIconOpened"),(l=a.ltPropOpenClass)&&$L(e).removeClass(l),t.style.display="none",$L(t).addClass("lyteTreeClosed"),$L(t).removeClass("lyteTreeOpened"),t.style.height="auto"},openrecursive:function(e){if(e.length){var t=e[0];if(e.shift(),!t||$L(t).hasClass("lyteTreeOpened"))return void this.openrecursive(e);var l=t.parentElement.querySelector("lyte-tree-icon");clearTimeout(t._treetime),$L(t).removeClass("lyteTreeClosed"),$L(t).addClass("lyteTreeOpened"),$L(l).removeClass("lyteIconClosed"),$L(l).addClass("lyteIconOpened"),t.style.display="",t.style.height="auto",this.data.ltPropCloseClass&&$L(l).removeClass(this.data.ltPropCloseClass),this.data.ltPropOpenClass&&$L(l).addClass(this.data.ltPropOpenClass),t._treetime=setTimeout(this.heightcalc.bind(this,t,e),0)}},heightcalc:function(e,t){if(document.body.contains(e)){var l=e.getBoundingClientRect().height;e.style.height=0,0==l?this.transEnd(e,t):setTimeout(this.heightset.bind(this,e,t,l),20)}else this.openrecursive(t)},heightset:function(e,t,l){document.body.contains(e)?(e.style.height=l+"px",e._trn=this.transEnd.bind(this,e,t),e.addEventListener("transitionend",e._trn)):this.openrecursive(t)},transEnd:function(e,t){e.style.height="auto",e.removeEventListener("transitionend",e._trn),delete e._trn,this.openrecursive(t)},getTreeObject:function(e){var t=e.attr("data-index").split(" ");return e.closest("lyte-tree")[0].getData("ltPropData")[t[t.length-1]]},getTreeArray:function(e){return e.closest("lyte-tree")[0].getData("ltPropData")},getParentNode:function(e){return $L(e).closest("lyte-tree")[0]},getParentIndex:function(e){var t=e.split(" ");return t.pop(),t.join(" ")},stateChange:function(e){if(e.newValue){for(var t=e.newValue,l=[],a=Array.from(this.$node.getElementsByTagName("lyte-tree")),o=t.length,r=function(e,t,l){var a=l.component.data.tempVar;return a.startsWith(e)&&t.push(l),a==e},s=1;s<=o;s++){var n=t.slice(0,s),i=[],d=a.filter(r.bind(this,n,i));a=i,l.push(d[0])}this.openrecursive(l),this.setData("ltPropStateAttr","")}}.observes("ltPropStateAttr"),methods:{onToggle:function(){},onToggleEnd:function(){},onBeforeOpen:function(){},onOpen:function(){},onBeforeClose:function(){},onClose:function(){},onError:function(){},onBeforeDrop:function(){},onDrop:function(){},onDragStart:function(){},onBeforeDrag:function(){},onDrag:function(){},onDropZoneChange:function(){}},actions:{openArray:function(e){this.openArrayTree()},openJson:function(e){this.openJsonTree()},openHorizontalTree:function(e){var t=this.getData("ltPropData")[$L(e).closest("table").attr("child-index")];t[this.getData("ltPropChildrenValue")]&&t[this.getData("ltPropChildrenValue")].length>0&&$L(e).find(".lyteHTreeHorizontalConnectorHidden").removeClass("lyteHTreeHorizontalConnectorHidden"),void 0===t.collapsed||!0===t.collapsed?(this.executeMethod("onBeforeOpen",t,this.$node),$L(e).find("lyte-tree-icon")&&$L(e).find("lyte-tree-icon").length>0&&this.$node.openIcon($L(e).find("lyte-tree-icon")[0]),Lyte.objectUtils(t,"add","collapsed",!1),this.executeMethod("onOpen",t,this.$node)):(this.executeMethod("onBeforeClose",t,this.$node),$L(e).find("lyte-tree-icon")&&$L(e).find("lyte-tree-icon").length>0&&this.$node.closeIcon($L(e).find("lyte-tree-icon")[0]),Lyte.objectUtils(t,"add","collapsed",!0),this.executeMethod("onClose",t,this.$node),$L(e).find(".lyteHTreeHorizontalAfterConnectLine").addClass("lyteHTreeHorizontalConnectorHidden")),t[this.getData("ltPropChildrenValue")]&&t[this.getData("ltPropChildrenValue")].length<1&&$L(e).find("lyte-tree-icon").addClass("lyteTreeHasNoChild")},dragEnterFunction:function(e,t){this.setData("dropZoneDim",t.getBoundingClientRect());var l=$L(t).closest(".lyteTreeTopParent")[0];$L(l).addClass("lyteTreeDragRunning"),$L(l).find(".lyteTreeDropParent").removeClass("lyteTreeDropParent"),$L(l).closest(".lyteTreeSortableElement").addClass("lyteTreeDropParent"),$L(l).find(".lyteTreeSortableDropPlaceholderBottom").removeClass("lyteTreeSortableDropPlaceholderBottom"),$L(l).find(".lyteTreeSortableDropPlaceholderTop").removeClass("lyteTreeSortableDropPlaceholderTop"),$L(l).find(".lyteTreeSortableDropPlaceholderChild").removeClass("lyteTreeSortableDropPlaceholderChild")},dragOverFunction:function(e,t){e.preventDefault();var l=this.data.dropZoneDim,a=.2*l.height,o=.8*l.height,r=$L(t).closest(".lyteTreeTopParent")[0].component;r.dragDebounce||(r.dragDebounce=setTimeout((function(){if(delete r.dragDebounce,t)var s=$L(t).closest("lyte-tree-body").attr("data-index").split(" "),n=$L(t).closest("lyte-tree")[0].getData("ltPropData")[s[s.length-1]];var i={};if(i.overElem=t,i.overElemParent=r.getParentNode(t),i.overObj=n,i.event=e,$L(t).closest("lyte-tree")[0]?i.hoveredData=$L(t).closest("lyte-tree")[0].getData("ltPropData"):i.hoveredData={},!1!==r.executeMethod("onBeforeDrag",i)){var d=$L(t).closest(".lyteTreeTopParent")[0];$L(d).addClass("lyteTreeDragRunning"),$L(d).find(".lyteTreeDropParent").removeClass("lyteTreeDropParent"),$L(d).closest(".lyteTreeSortableElement").addClass("lyteTreeDropParent"),$L(d).find(".lyteTreeSortableDropPlaceholderBottom").removeClass("lyteTreeSortableDropPlaceholderBottom"),$L(d).find(".lyteTreeSortableDropPlaceholderTop").removeClass("lyteTreeSortableDropPlaceholderTop"),$L(d).find(".lyteTreeSortableDropPlaceholderChild").removeClass("lyteTreeSortableDropPlaceholderChild"),e.clientY<l.top+a?$L(t).addClass("lyteTreeSortableDropPlaceholderTop"):e.clientY>l.top+a&&e.clientY<l.top+o?$L(t).addClass("lyteTreeSortableDropPlaceholderChild"):e.clientY>l.top+o&&e.clientY<l.top+l.height&&$L(t).addClass("lyteTreeSortableDropPlaceholderBottom"),r.executeMethod("onDrag",i)}}),50))},dragLeaveFunction:function(e,t){var l=$L(t).closest(".lyteTreeTopParent")[0],a=$L(t).closest(".lyteTreeTopParent")[0].component;a.dragDebounce&&(clearTimeout(a.dragDebounce),delete a.dragDebounce),$L(l).find(".lyteTreeDropParent").removeClass("lyteTreeDropParent"),$L(l).removeClass("lyteTreeDragRunning"),$L(l).find(".lyteTreeSortableDropPlaceholderBottom").removeClass("lyteTreeSortableDropPlaceholderBottom"),$L(l).find(".lyteTreeSortableDropPlaceholderTop").removeClass("lyteTreeSortableDropPlaceholderTop"),$L(l).find(".lyteTreeSortableDropPlaceholderChild").removeClass("lyteTreeSortableDropPlaceholderChild")},dropFunction:function(e,t){e.preventDefault();var l={},a=$L(t).closest(".lyteTreeTopParent")[0],o=$L(t).closest(".lyteTreeTopParent")[0].component;o.dragDebounce&&(clearTimeout(o.dragDebounce),delete o.dragDebounce);var r=$L(t).closest("lyte-tree-body");$L(t).hasClass("lyteTreeSortableDropPlaceholderBottom")||$L(t).hasClass("lyteTreeSortableDropPlaceholderTop")?(l.asChild=!1,l.droppedObject=a.component.getTreeObject(r)):$L(t).hasClass("lyteTreeSortableDropPlaceholderChild")&&(l.asChild=!0,l.droppedObject={}),l.droppedObject=a.component.getTreeObject(r),l.event=e,l.droppedArray=a.component.getTreeArray(r),l.externalImport=!0,a.component.executeMethod("onBeforeDrop",l),$L(a).find(".lyteTreeDropParent").removeClass("lyteTreeDropParent"),$L(a).removeClass("lyteTreeDragRunning"),$L(a).find(".lyteTreeSortableDropPlaceholderBottom").removeClass("lyteTreeSortableDropPlaceholderBottom"),$L(a).find(".lyteTreeSortableDropPlaceholderTop").removeClass("lyteTreeSortableDropPlaceholderTop"),$L(a).find(".lyteTreeSortableDropPlaceholderChild").removeClass("lyteTreeSortableDropPlaceholderChild"),document.removeEventListener("drop",a.component.dropFunction),a.component.executeMethod("onDrop",l)}},openJsonTree:function(){this.getData("lyteTreeJsonOpened")?(this.executeMethod("onBeforeClose",this.getData("ltPropJsonData"),this.$node),this.setData("lyteTreeJsonOpened",!1),this.setData("jsonOpened",!1),this.executeMethod("onClose",this.getData("ltPropJsonData"),this.$node)):(this.executeMethod("onBeforeOpen",this.getData("ltPropJsonData"),this.$node),this.setData("lyteTreeJsonOpened",!0),$L(this.$node).hasClass("lyteDataTreeSubLevel")?this.setData("jsonOpened",!0):this.setData("jsonOpened",!1),this.executeMethod("onOpen",this.getData("ltPropJsonData"),this.$node))},openArrayTree:function(){this.getData("lyteTreeArrayOpened")?(this.executeMethod("onBeforeClose",this.getData("ltPropArrayData"),this.$node),this.setData("lyteTreeArrayOpened",!1),this.setData("lyteTreeArrayLength",0),this.setData("arrayOpened",!1),this.executeMethod("onClose",this.getData("ltPropArrayData"),this.$node)):(this.executeMethod("onBeforeOpen",this.getData("ltPropArrayData"),this.$node),this.setData("lyteTreeArrayOpened",!0),this.setData("lyteTreeArrayLength",this.getData("ltPropArrayData").length),$L(this.$node).hasClass("lyteDataTreeSubLevel")?this.setData("arrayOpened",!0):this.setData("arrayOpened",!1),this.executeMethod("onOpen",this.getData("ltPropArrayData"),this.$node))},didDestroy:function(){document.removeEventListener("keydown",this.$node.keydownEvents)}}),_lyteUiUtils.registeredCustomElements["lyte-tree-icon"]||(_lyteUiUtils.registeredCustomElements["lyte-tree-icon"]=!0,Lyte.createCustomElement("lyte-tree-icon",{connectedCallback:function(){var e=$L(this).closest("lyte-tree");e.hasClass("lyteTreeClosed")&&(e[0].style.display="none"),this.hasAttribute("lyte-custom-icon")||(this.innerHTML='<i class="arrow up"></i>')},constructor:function(){if($L(this)&&!$L(this).hasClass("lyteTreeClonedIcon")){var e=$L(this).closest("lyte-tree")[0],t=e.getData(),l=this,a=$L(this).closest(".lyteTreeMainContainer").find("lyte-tree")[0];if(a?$L(a).hasClass("lyteTreeOpened")?$L(l).addClass("lyteIconOpened "+e.getData("ltPropOpenClass")):$L(a).hasClass("lyteTreeClosed")&&$L(l).addClass("lyteIconClosed "+e.getData("ltPropCloseClass")):$L(l).addClass("lyteIconClosed "+e.getData("ltPropCloseClass")),($L(this).closest(".lyteTreeMainContainer").hasClass("lyteTreeHasChild")||$L(this).closest(".lyteTreeMainContainer").hasClass("lyteTreeMaxedChild"))&&$L(l).addClass("lyteIconClosed lyteTreeIconMaxed lyteTreeIconHasChild "+e.getData("ltPropCloseClass")),"horizontal"!==e.getData("ltPropStructureType")){this.addEventListener("click",function(t){var a=$L(l).closest(".lyteTreeMainContainer")[0];if(!$L(a).hasClass("lyteTreeLastChild")){var o,r=$L(l).closest("LYTE-TREE-BODY"),s=$L(l).closest("LYTE-TREE")[0],n=$L(r).find("LYTE-TREE")[0],i=$L(this).attr("class").split(" ");if(s&&s.getMethods("onToggle")&&void 0===(o=s.component.executeMethod("onToggle",r[0],t,s,l,s.getData("ltPropData")))&&(o=!0),"true"===$L(s).attr("exclusive")){var d=r.attr("data-level");s.closeTree($L(s).find("lyte-tree-body.lyteTreeBodyOpened[data-level='"+d+"']")[0])}if(void 0!==o?(o&&o.then?o.then((function(e){C()}),(function(){})):o&&C(),n=$L(r).find("LYTE-TREE")[0]):(C(),n=$L(r).find("LYTE-TREE")[0]),!1!==o){var p=r.attr("data-index").split(" ");if(i.indexOf("lyteIconOpened")>-1){if(!1===s.component.executeMethod("onBeforeClose",r[0],t,s,l,s.getData("ltPropData"),s.getData("ltPropData")[p[p.length-1]]))return;if($L(l).addClass("lyteIconClosed"),$L(l).addClass(s.getData("ltPropCloseClass")),$L(l).removeClass("lyteIconOpened"),$L(l).removeClass(s.getData("ltPropOpenClass")),s.getData("ltPropToggleAnimation")){if(n){var y=n.getBoundingClientRect().height;n.style.height=y+"px",$L(n).addClass("treeTransRunning"),setTimeout((function(){n&&(n.style.height="0px")}),10),n.addEventListener("transitionend",(function e(){$L(n).addClass("lyteTreeClosed"),$L(n).removeClass("lyteTreeOpened"),$L(n).removeClass("treeTransRunning"),!1,n.style.display="none",n.removeEventListener("transitionend",e),s&&s.getMethods("onToggleEnd")&&t&&void 0===(o=s.component.executeMethod("onToggleEnd",r[0],t,s,l,s.getData("ltPropData")))&&(o=!0),s.component.executeMethod("onClose",r[0],t,s,l,s.getData("ltPropData"),s.getData("ltPropData")[p[p.length-1]])}))}}else n&&(n.style.height="0px",n.style.display="none");$L(r).addClass("lyteTreeBodyClosed"),$L(r).addClass(s.getData("ltPropWrapperCloseClass")),$L(r).removeClass("lyteTreeBodyOpened"),$L(r).removeClass(s.getData("ltPropWrapperOpenClass"))}else if(i.indexOf("lyteIconClosed")>-1){if(!1===s.component.executeMethod("onBeforeOpen",r[0],t,s,l,s.getData("ltPropData"),s.getData("ltPropData")[p[p.length-1]]))return;if($L(e).hasClass("lyteTreeCollapsed")&&$L(e).removeClass("lyteTreeCollapsed"),$L(l).removeClass("lyteIconClosed"),$L(l).removeClass(s.getData("ltPropCloseClass")),$L(l).addClass("lyteIconOpened"),$L(l).addClass(s.getData("ltPropOpenClass")),$L(l).closest(".lyteTreeMainContainer").hasClass("lyteTreeHasChild")&&($L(l).closest(".lyteTreeMainContainer").removeClass("lyteTreeHasChild"),$L(l).removeClass("lyteTreeIconHasChild"),$L(l).closest("lyte-tree-body").attr("data-index").split(" ").length<s.getData().ltPropMaxLevel&&$L(l).removeClass("lyteTreeIconMaxed")),$L(n).addClass("lyteTreeOpened"),$L(n).removeClass("lyteTreeClosed"),s.getData("ltPropToggleAnimation")){if(n){n.style.display="block",n.style.height="auto";var c=n.getBoundingClientRect().height;n.style.height="0px",$L(n).addClass("treeTransRunning"),setTimeout((function(){n.style.height=c+"px"}),10),n.addEventListener("transitionend",(function e(){$L(n).removeClass("treeTransRunning"),!1,n.removeEventListener("transitionend",e),n&&(n.style.height="auto"),s.setData("collapsedAll",!1),s&&s.getMethods("onToggleEnd")&&t&&void 0===(o=s.component.executeMethod("onToggleEnd",r[0],t,s,l,s.getData("ltPropData")))&&(o=!0),s.component.executeMethod("onOpen",r[0],t,s,l,s.getData("ltPropData"),s.getData("ltPropData")[p[p.length-1]])}))}}else n&&(n.style.display="block",n.style.height="auto");$L(r).removeClass("lyteTreeBodyClosed"),$L(r).removeClass(s.getData("ltPropWrapperCloseClass")),$L(r).addClass("lyteTreeBodyOpened"),$L(r).addClass(s.getData("ltPropWrapperOpenClass"))}}}function C(){var e=s.getData("ltPropData"),t=$L(r).attr("data-index").split(" ");if(t.length<2){void 0!==(l=e[a=t[0]])&&(Lyte.objectUtils(l,"add","collapsed",!1),l.hasChild&&Lyte.objectUtils(l,"add","hasChild",!1))}else{for(var l=e,a=1;a<t.length;a++)l=e[t[a]];Lyte.objectUtils(l,"add","collapsed",!1),l.hasChild&&Lyte.objectUtils(l,"add","hasChild",!1)}l[s.getData("ltPropChildrenValue")]&&l[s.getData("ltPropChildrenValue")].length>0&&s.openIcon($L(r).find("lyte-tree-icon")[0]),!0}}.bind(this))}else"horizontal"===e.getData("ltPropStructureType")&&($L(this).addClass("lyteHTreeIcon"),e.getData("ltPropData")[$L(this).closest("table").attr("child-index")][t.ltPropChildrenValue]||$L(this).addClass(t.ltPropLeafNodeClass))}},static:{observedAttributes:{}}})),_lyteUiUtils.registeredCustomElements["lyte-tree-content"]||(_lyteUiUtils.registeredCustomElements["lyte-tree-content"]=!0,Lyte.createCustomElement("lyte-tree-content",{static:{observedAttributes:{get:function(){return[]}}},connectedCallback:function(){var e=$L(this).closest("lyte-tree")[0];if(e.getData("ltPropSortable")&&$L(this).addClass("lyteTreeSortableElem"),"horizontal"!==e.getData("ltPropStructureType")){var t=$L(this).closest("lyte-tree-body")[0].getAttribute("data-index").split(" ").length;this.setAttribute("lyte-tree-level",t)}},constructor:function(){}})),_lyteUiUtils.registeredCustomElements["lyte-tree-tr"]||(_lyteUiUtils.registeredCustomElements["lyte-tree-tr"]=!0,Lyte.createCustomElement("lyte-tree-tr",{static:{observedAttributes:{get:function(){return[]}}},connectedCallback:function(){},constructor:function(){console.log("tr")}})),_lyteUiUtils.registeredCustomElements["lyte-tree-td"]||(_lyteUiUtils.registeredCustomElements["lyte-tree-td"]=!0,Lyte.createCustomElement("lyte-tree-td",{static:{observedAttributes:{get:function(){return[]}}},connectedCallback:function(){},constructor:function(){console.log("td"),this&&$L(this)[0].hasAttribute("lyteTreeSticky")&&$L(this).addClass("lyteTreeFixedCol")}}));
