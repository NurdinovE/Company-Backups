var _lyteNav={id:0};Lyte.Component.register("lyte-nav",{_template:'<template tag-name="lyte-nav"> <template is="if" value="{{expHandlers(ltPropAlignment,\'!==\',\'vertical\')}}"><template case="true"> <template is="if" value="{{ltPropNavYield}}"><template case="true"> <lyte-yield yield-name="nav" items="{{auxArray}}" role="list"></lyte-yield> </template><template case="false"> <template is="for" items="{{auxArray}}" item="item" index="index"> <template is="if" value="{{expHandlers(item[ltPropSubMenuValue],\'&amp;&amp;\',expHandlers(item.type,\'===\',\'menu\'))}}"><template case="true"> <lyte-nav-item data-value="{{item[ltPropSystemValue]}}" id="{{expHandlers(\'lyteitem\',\'+\',item[\'header_value\'])}}" lyte-shortcut="{{lyteUiGetValue(item,\'shortcut\')}}"> <template is="if" value="{{item[ltPropUserValue]}}"><template case="true"> {{item[ltPropUserValue]}} </template><template case="false"> {{item["header"]}} </template></template> <template is="if" value="{{item[ltPropSystemValue]}}"><template case="true"> <lyte-nav-menu-icon tabindex="0" id="lyteicon{{item[ltPropSystemValue]}}" lt-prop-parent="{{item[\'header_value\']}}"></lyte-nav-menu-icon> </template><template case="false"> <lyte-nav-menu-icon tabindex="0" id="lyteicon{{item[\'header_value\']}}" lt-prop-parent="{{item[\'header_value\']}}"></lyte-nav-menu-icon> </template></template> </lyte-nav-item> </template><template case="false"> <lyte-nav-item data-value="{{item[ltPropSystemValue]}}" id="{{expHandlers(\'lyteitem\',\'+\',item[ltPropSystemValue])}}" lyte-shortcut="{{lyteUiGetValue(item,\'shortcut\')}}"> {{item[ltPropUserValue]}} </lyte-nav-item> </template></template> </template> </template></template> <template is="if" value="{{expHandlers(ltPropType,\'===\',\'collapse\')}}"><template case="true"> <template is="if" value="{{expHandlers(expHandlers(menuContent.length,\'>\',0),\'||\',showMenu)}}"><template case="true"> <span onkeydown="{{action(\'openMenu\',event)}}" class="{{ltPropContainerClass}}" id="{{ltPropContainerId}}" role="button" aria-expanded="false" aria-labelledby="{{randomId}}" tabindex="0"> <span class="{{ltPropMenuIcon}}"></span> </span> <span id="{{randomId}}" class="lyteVisuallyHidden" aria-hidden="true"> {{lyteUiI18n(\'lyte.nav.more.options\')}} </span> </template></template> <lyte-menu on-menu-click="{{method(\'moreOptionsItemSelected\')}}" lt-prop="{{stringify(ltPropMenu)}}" on-before-open="{{method(\'beforeOpen\')}}" on-open="{{method(\'open\')}}" on-before-close="{{method(\'beforeClose\')}}" on-close="{{method(\'close\')}}" before-render="{{method(\'befRender\')}}" after-render="{{method(\'aftRender\')}}"> <template is="registerYield" yield-name="yield"> <template is="if" value="{{ltPropMenuYield}}"><template case="true"> <lyte-yield yield-name="menu" items="{{menuContent}}"></lyte-yield> </template><template case="false"> <lyte-menu-body class="{{ltPropNavMenuClass}}"> <template is="for" items="{{menuContent}}" item="item" index="index"> <template is="if" value="{{expHandlers(item[ltPropSubMenuValue],\'!\')}}"><template case="true"> <lyte-menu-item data-value="{{item[ltPropSystemValue]}}" class="{{if(expHandlers(index,\'==\',2),\'testItem\',\'\')}}" tabindex="0" lyte-shortcut="{{lyteUiGetValue(item,\'shortcut\')}}"> <lyte-menu-label>{{item[ltPropUserValue]}} </lyte-menu-label> <lyte-menu-description>{{item[ltPropSystemValue]}} </lyte-menu-description> </lyte-menu-item> </template><template case="false"> <lyte-menu-item data-value="{{item[ltPropSystemValue]}}" class="lyteMenuAccordionContainer lyteMenuAccordionClosed" tabindex="0" lyte-shortcut="{{lyteUiGetValue(item,\'shortcut\')}}"> <lyte-menu-label>{{item["header"]}}</lyte-menu-label> <div class="lyteMenuAccordionItem"> <template is="for" items="{{item[ltPropSubMenuValue]}}" item="item" index="index"> <lyte-menu-item data-value="{{item[ltPropSystemValue]}}" tabindex="0"> <lyte-menu-label>{{item[ltPropUserValue]}}</lyte-menu-label> <lyte-menu-description>{{item[ltPropSystemValue]}} </lyte-menu-description> </lyte-menu-item> </template> </div> </lyte-menu-item> </template></template> </template> </lyte-menu-body> </template></template> </template> </lyte-menu> </template></template> </template><template case="false"> <template is="if" value="{{expHandlers(ltPropType,\'===\',&quot;collapse&quot;)}}"><template case="true"> <template is="if" value="{{ltPropNavYield}}"><template case="true"> <lyte-yield yield-name="nav" items="{{auxArray}}" role="list"></lyte-yield> </template><template case="false"> <template is="for" items="{{auxArray}}" item="item" index="index"> <lyte-nav-item tabindex="0" data-value="{{item[ltPropSystemValue]}}" id="item{{item[ltPropSystemValue]}}" lyte-shortcut="{{lyteUiGetValue(item,\'shortcut\')}}">{{item[ltPropUserValue]}}</lyte-nav-item> </template> </template></template> <template is="if" value="{{expHandlers(expHandlers(menuContent.length,\'>\',0),\'||\',showMenu)}}"><template case="true"> <span class="{{ltPropContainerClass}}" id="{{ltPropContainerId}}" role="button" aria-expanded="false" aria-labelledby="{{randomId}}" tabindex="0"> <span class="{{ltPropMenuIcon}}"></span> </span> <span id="{{randomId}}" class="lyteVisuallyHidden" aria-hidden="true"> {{lyteUiI18n(\'lyte.nav.more.options\')}} </span> </template></template> <lyte-menu lt-prop="{{stringify(ltPropMenu)}}" lt-prop-position="right" on-menu-click="{{method(\'moreOptionsItemSelected\')}}" on-before-open="{{method(\'beforeOpen\')}}" on-open="{{method(\'open\')}}" on-before-close="{{method(\'beforeClose\')}}" on-close="{{method(\'close\')}}" before-render="{{method(\'befRender\')}}" after-render="{{method(\'aftRender\')}}"> <template is="registerYield" yield-name="yield"> <template is="if" value="{{ltPropMenuYield}}"><template case="true"> <lyte-yield yield-name="menu" items="{{menuContent}}"></lyte-yield> </template><template case="false"> <lyte-menu-body class="{{ltPropNavMenuClass}}"> <template is="for" items="{{menuContent}}" item="item" index="index"> <lyte-menu-item data-value="{{item[ltPropSystemValue]}}" lyte-shortcut="{{lyteUiGetValue(item,\'shortcut\')}}"> <lyte-menu-label> {{item[ltPropUserValue]}} </lyte-menu-label> </lyte-menu-item> </template> </lyte-menu-body> </template></template> </template> </lyte-menu> </template><template case="false"> <template is="if" value="{{ltPropNavYield}}"><template case="true"> <template is="if" value="{{ltPropArrow}}"><template case="true"> <lyte-arrow style="display: inline-block;"> <i class="arrow-up"></i> </lyte-arrow> </template></template> <lyte-yield class="lyteNavDiv" yield-name="nav"></lyte-yield> <template is="if" value="{{ltPropArrow}}"><template case="true"> <lyte-arrow style="display: inline-block;"> <i class="arrow-down"></i> </lyte-arrow> </template></template></template></template> </template></template> </template></template> <lyte-menu id="lyteNavItemSubMenu" lt-prop-yield="true" lt-prop-event="click" lt-prop-system-value="{{ltPropSystemValue}}" lt-prop-user-value="{{ltPropUserValue}}" lt-prop-query="{{navMenuQuery}}" lt-prop-position="down" on-menu-click="{{method(\'menuItemOfNavMenuClicked\')}}" on-before-open="{{method(\'beforeSubMenuOpen\')}}" on-open="{{method(\'subMenuOpened\')}}" on-close="{{method(\'subMenuClosed\')}}"> <template is="registerYield" yield-name="yield"> <lyte-menu-body> <template is="if" value="{{ltPropNavMenuYield}}"><template case="true"> <lyte-yield yield-name="navmenu" navobj="{{navMenu}}" selectednavitem="{{selectedNavItem}}" selectedmenuitem="{{selectedMenuItem}}"></lyte-yield> </template><template case="false"> <lyte-menu-group> <template is="for" items="{{navMenu[ltPropSubMenuValue]}}" item="subitem" index="index"> <lyte-menu-item data-value="{{subitem[ltPropSystemValue]}}" id="item{{subitem[ltPropSystemValue]}}" tabindex="0"> <lyte-menu-label>{{subitem[ltPropUserValue]}}</lyte-menu-label> <lyte-menu-description>{{subitem[ltPropSystemValue]}}</lyte-menu-description> </lyte-menu-item> </template> </lyte-menu-group> </template></template> </lyte-menu-body> </template> </lyte-menu> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"for",position:[1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"text",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1]}]}},default:{}},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]}},default:{}}]}]}},default:{}},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[3]},{type:"text",position:[3,1]}]}},default:{}},{type:"attr",position:[3]},{type:"registerYield",position:[3,1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"text",position:[1,3,0]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3,1]},{type:"for",position:[1,3,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"text",position:[1,3,0]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]}},default:{}}]},{type:"componentDynamic",position:[1]}]}},default:{}}]},{type:"componentDynamic",position:[3]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"for",position:[1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}]}},default:{}},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[3]},{type:"text",position:[3,1]}]}},default:{}},{type:"attr",position:[5]},{type:"registerYield",position:[5,1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]}},default:{}}]},{type:"componentDynamic",position:[5]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"componentDynamic",position:[1]}]}},default:{}},{type:"insertYield",position:[3]},{type:"attr",position:[5]},{type:"if",position:[5],cases:{true:{dynamicNodes:[{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}},{type:"attr",position:[3]},{type:"registerYield",position:[3,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"text",position:[1,3,0]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3]}],_observedAttributes:["ltPropMenu","ltPropNavYield","ltPropMenuYield","ltPropNavMenuYield","ltPropItems","ltPropUserValue","ltPropSystemValue","ltPropMaxWidth","ltPropType","ltPropNavMenuClass","ltPropMenuIcon","ltPropContainerClass","ltPropClick","ltPropAlignment","ltPropArrow","ltPropSelected","ltPropContainerId","ltPropMaxHeight","ltPropArrowEvent","ltPropScrollIncrement","ltPropAddMargin","ltPropNavMenuYield","ltPropSubMenuValue","menuContent","navMenu","navMenuQuery","auxArray","arrowTop","arrowBot","showMenu","selectedMenuItem","selectedNavItem","copiedItems"],init:function(){var e=this.getData("ltPropMenu"),t=this.getData("ltPropContainerClass"),i=this,a=this.getData("ltPropAlignment"),n=this.getData("ltPropContainerId")||"";$L.fastdom.measure((function(){_lyteUiUtils.nav_innerWidth||(_lyteUiUtils.nav_innerWidth=document.documentElement.clientWidth)})),Lyte.objectUtils(e,"add","yield",!0),n?Lyte.objectUtils(e,"add","query","#"+n):Lyte.objectUtils(e,"add","query","."+t),(this.getData("ltPropNavYield")||"vertical"===a)&&(this.enableAria=!0,this.$node.setAttribute("role","navigation")),this.$node.recalculate=function(){i.recalculate()},this.setData("randomId","lyte-nav-menu-button-"+_lyteNav.id++)},didDestroy:function(){for(var e=this.$node.querySelectorAll("lyte-nav-item"),t=0;t<e.length;t++)e[t].getAttribute("lyte-shortcut")&&e[t].setAttribute("lyte-shortcut",JSON.stringify({}))},createOuterDiv:function(){var e=document.createElement("div");return this.addOuterDivStyles(e),e},addOuterDivStyles:function(e){var t=this.getData("ltPropArrow");e.setAttribute("class","lyteNavDiv"),e.setAttribute("role","list"),t?e.style.overflow=_lyteUiUtils.isMobile?"auto":"hidden":(e.style.overflow="auto",e.classList.add("lyteNavDivFullHeight"))},show:function(){var e=this.getArrows(),t=this.getOuterDiv(),i=this.getData("ltPropArrow");this.$node&&(i&&(this.setData("topH",e[0].getBoundingClientRect().height),this.setData("botH",e[1].getBoundingClientRect().height),this.dispArrow.call(this,e,t)),this.fireAfterRender())},construct:function(){for(var e,t=this.getData("ltPropItems")||[],i=0,a=[];i<t.length;i++)e=t[i],Lyte.arrayUtils(a,"push",e);this.setData("auxArray",a)},recalculate:function(){var e,t=this.getCurrentSelected(),i=this.getDataValue(t)||this.getData("ltPropSelected")||"";this.construct(),i&&(e=this.$node.querySelector('lyte-nav-item[data-value="'+_lyteUiUtils.escape(i)+'"]')),e&&e.setAttribute("selected",!0),this.collapse()},itemsOb:function(){var e=this.getData("ltPropItems"),t=this.deepCopyArray(e);this.setData("copiedItems",t);e=this.getData("copiedItems");this.recalculate()}.observes("ltPropItems.[]"),selObserver:function(){this.makeSelection();var e=this.getData("ltPropSelected");if(e){this.reArrangeArrays(e);var t=this.$node.querySelector('lyte-nav-item[data-value="'+_lyteUiUtils.escape(e)+'"]');t&&t.setAttribute("selected",!0)}}.observes("ltPropSelected"),makeSelection:function(){this.getData("preventSel")||this.selectItem()},selectItem:function(){this.getData("ltPropSelected")?this.addSelected():this.removeSelected()},removeSelected:function(){var e=this.$node.querySelector('lyte-nav-item[selected="true"]');e&&e.removeAttribute("selected")},addSelected:function(){this.setInNav()||this.setInMenu()},setInNav:function(){var e,t=this.getData("ltPropSelected");return!!(e=this.$node.querySelector('lyte-nav-item[data-value="'+_lyteUiUtils.escape(t)+'"]'))&&(e.setAttribute("selected",!0),!0)},setInMenu:function(){var e,t=this.$node.querySelector("lyte-menu"),i=this.getData("ltPropSelected"),a=t?t.component.childComp:null;a&&(e=a.querySelector('lyte-menu-item[data-value="'+_lyteUiUtils.escape(i)+'"]'))&&(this.setData("preventCallback",!0),e.click(),this.setData("preventCallback",!1))},getCurrentSelected:function(){var e=this.getData("ltPropClick");return this.$node.querySelector("lyte-nav-item."+e)},getDataValue:function(e){return e?e.getAttribute("data-value"):""},getLength:function(e){var t=this.getData("ltPropAlignment"),i=this.getData("ltPropAddMargin");return e?"horizontal"===t?i?$L(e).outerWidth(!0):e.getBoundingClientRect().width:i?$L(e).outerHeight(!0):e.getBoundingClientRect().height:0},getMenuLength:function(){var e,t;return this.setData("showMenu",!0),e=this.$node.querySelector("."+this.getData("ltPropContainerClass")),t=this.getLength(e),this.setData("showMenu",!1),t},calculate:function(){if(this.$node){var e,t,i=this.getData("auxArray"),a=[],n=[],l=this.getMaxLength(),o=0,s=(i.length,this.getData("ltPropSystemValue")),r=0,p=this.getCurrentSelected(),d=this.getDataValue(p);r=r+this.getLength(p)+this.getMenuLength();for(var u=0;o<i.length;o++)if((t=i[o])[s]!==d){var c=_lyteUiUtils.escape(t[s]);if(c)var m=this.$node.querySelector('lyte-nav-item[data-value="'+c+'"]');else{u++;var y=this.$node.querySelectorAll('lyte-nav-item[data-value="'+c+'"]');m=(y=Array.from(y))[u-1]}(r+=this.getLength(m))>l&&(Lyte.arrayUtils(a,"push",t),n.push(o))}for(this.setData("menuContent",a);!isNaN(e=n.pop());)Lyte.arrayUtils(i,"removeAt",e,1)}},getMaxLength:function(){var e=this.getData("ltPropAlignment"),t=parseFloat(this.getData("ltPropMaxWidth"))/100,i=parseFloat(this.getData("ltPropMaxHeight"))/100,a=this.$node.getBoundingClientRect();return"horizontal"===e?a.width*t:a.height*i},collapse:function(){$L.fastdom.measure(this.calculate,this)},fireAfterRender:function(){this.getMethods("afterRender")&&this.executeMethod("afterRender",this)},deepCopyArray:function(e){let t=[];if(e)for(var i=0;i<e.length;i++)if("object"==typeof e[i]&&null!==e[i]){var a=Lyte.deepCopyObject(e[i]);t.push(a)}else t.push(e[i]);return t},didConnect:function(){var e,t,i=this.getData("ltPropAlignment"),a=this.$node,n=this.getData("ltPropArrow"),l=_lyteUiUtils.isMobile,o=this.getData("ltPropNavYield"),s=this.getData("ltPropType");if(this.addDirectionClass(i),"horizontal"===i)(this.getData("ltPropItems")||[]).length>0&&(this.construct(),"collapse"===s&&this.collapse(),this.makeSelection(),$L.fastdom.measure(this.fireAfterRender,this));else if("vertical"===i){if("collapse"===s)return this.construct(),this.collapse(),this.makeSelection(),void $L.fastdom.measure(this.fireAfterRender,this);if(o?(this.addOuterDivStyles(this.getOuterDiv()),$L.fastdom.measure(this.show.bind(this))):this.buildVerticalNav(),!n)return;t=a.querySelector(".lyteNavDiv"),this.addEventsForArrows(),e=this.getArrows();var r=this;l?(this.prev=t.scrollTop,t.addEventListener("scroll",(function(i){var a,n,l,o=t.scrollHeight,s=t.scrollTop,p=t.getBoundingClientRect().height,d=r.prev,u=Math.floor(s-d),c=r.getData("stopHandler");r.prev=s,a=e[0].getBoundingClientRect().height,n=e[1].getBoundingClientRect().height,i.preventDefault(),0==u||c||(u>0?("none"===e[0].style.display&&(e[0].style.display="inline-block",l=(a=r.getData("topH"))+n,t.style.height="calc(100% - "+l+"px)"),Math.abs(s+p-o)<=5&&(e[1].style.display="none",t.style.height="calc(100% - "+a+"px)")):("none"===e[1].style.display&&o-(s+p)>=30&&(e[1].style.display="inline-block",l=a+(n=r.getData("botH")),t.style.height="calc(100% - "+l+"px)"),s<=0&&(e[0].style.display="none",t.style.height="calc(100% - "+n+"px)")))}))):t.addEventListener("wheel",(function(i){var a,n,l,o=i.deltaY,s=t.scrollHeight,p=t.getBoundingClientRect().height,d=t.scrollTop;i.preventDefault(),Math.floor(s)!=Math.floor(p)&&(a=e[0].getBoundingClientRect().height,n=e[1].getBoundingClientRect().height,o<0&&(d=t.scrollTop=t.scrollTop-6,"none"===e[1].style.display&&(e[1].style.display="inline-block",l=a+(n=r.getData("botH")),t.style.height="calc(100% - "+l+"px)"),d<=0&&(e[0].style.display="none",t.style.height="calc(100% - "+n+"px)")),o>0&&(d=t.scrollTop=t.scrollTop+6,"none"===e[0].style.display&&(e[0].style.display="inline-block",l=(a=r.getData("topH"))+n,t.style.height="calc(100% - "+l+"px)"),Math.floor(p)+Math.floor(d)>=Math.floor(s)&&(e[1].style.display="none",t.style.height="calc(100% - "+a+"px)")))}))}var p=this.getData("ltPropItems"),d=this.deepCopyArray(p);this.setData("copiedItems",d)},addDirectionClass:function(e){"vertical"===e?this.$node.classList.add("lyteNavVertical"):this.$node.classList.add("lyteNavHorizontal")},getOuterDiv:function(){return this.getData("ltPropNavYield")?this.$node.querySelector("lyte-yield"):this.$node.querySelector(".lyteNavDiv")},addEventsForArrows:function(){var e=this.getData("ltPropArrow"),t=this.getArrows(),i=_lyteUiUtils.isMobile,a=this.getData("ltPropArrowEvent");e&&(i?(t[0].addEventListener("touchstart",this.moveup.bind(this)),t[1].addEventListener("touchstart",this.movedown.bind(this)),t[0].addEventListener("touchend",this.removeup.bind(this)),t[1].addEventListener("touchend",this.removedown.bind(this)),t[0].addEventListener("touchcancel",this.removeup.bind(this)),t[1].addEventListener("touchcancel",this.removedown.bind(this))):"mousehover"===a?(t[0].addEventListener("mouseenter",this.moveup.bind(this)),t[1].addEventListener("mouseenter",this.movedown.bind(this)),t[0].addEventListener("mouseleave",this.removeup.bind(this)),t[1].addEventListener("mouseleave",this.removedown.bind(this))):"click"===a&&(t[0].addEventListener("click",this.moveupOnClick.bind(this)),t[1].addEventListener("click",this.movedownOnClick.bind(this))))},buildVerticalNav:function(){var e,t,i,a=this.$node,n=a.children,l=n.length;e=this.createOuterDiv(),this.getArrows();for(var o=0;o<l;o++)n[0].prevent=!0,t=n[0],n[0].hasAttribute("selected")&&"false"!==n[0].getAttribute("selected")&&(i=n[0]).removeAttribute("selected"),_lyteUiUtils.appendChild(e,n[0]),t.prevent=!1,t=null;_lyteUiUtils.appendChild(a,e),i&&i.setAttribute("selected","true"),i=null,this.addArrows(),this.getArrows(),$L.fastdom.measure(this.show.bind(this))},addArrows:function(){var e=this.getArrows(),t=this.getData("ltPropArrow"),i=this.$node;t&&(0==e.length?(this.addArrow("arrow-up"),this.addArrow("arrow-down")):(i.insertBefore(e[0],i.children[0]),i.appendChild(e[1])))},getArrows:function(){return this.$node.querySelectorAll("lyte-arrow")},removedown:function(){this.setData("stopHandler",!1),window.cancelAnimationFrame(this.getData("arrowdid"))},removeup:function(){this.setData("stopHandler",!1),window.cancelAnimationFrame(this.getData("arrowuid"))},down:function(e,t,i){var a,n=e.scrollTop,l=e.scrollHeight,o=e.getBoundingClientRect().height;this.setData("stopHandler",!0),n+o<l&&(n=e.scrollTop=e.scrollTop+3),Math.floor(o)+Math.floor(n)>=l&&(t[1].style.display="none",e.style.height="calc(100% - "+i+"px)"),a=window.requestAnimationFrame(this.down.bind(this,e,t,i)),this.setData("arrowdid",a)},downOnClick:function(e){var t=this.$node.querySelector(".lyteNavDiv"),i=this.getArrows(),a=this.getData("botH"),n=t.getElementsByTagName("lyte-nav-item")[0],l=parseInt(getComputedStyle(n).marginTop),o=parseInt(getComputedStyle(n).marginBottom),s=t.scrollTop,r=t.scrollHeight,p=t.getBoundingClientRect().height,d=t.getElementsByTagName("lyte-nav-item")[0].offsetHeight;if(!(this.getData("downIterationCounter")>=e)){this.setData("stopHandler",!0),d=d+l+o;var u=r-s-p,c=Math.min(u,d);if(s+c<r){s=t.scrollTop=t.scrollTop+c,Math.floor(p)+Math.floor(s)>=r&&(i[1].style.display="none",t.style.height="calc(100% - "+a+"px)");var m=this.getData("downIterationCounter")||0;this.setData("downIterationCounter",m+1),window.requestAnimationFrame(this.downOnClick.bind(this,e))}}},up:function(e,t,i){var a,n=e.scrollTop;this.setData("stopHandler",!0),0!==n&&(n=e.scrollTop=e.scrollTop-3),n<=0&&(t[0].style.display="none",e.style.height="calc(100% - "+i+"px)"),a=window.requestAnimationFrame(this.up.bind(this,e,t,i)),this.setData("arrowuid",a)},upOnClick:function(e){var t=this.$node.querySelector(".lyteNavDiv"),i=this.getArrows(),a=t.getElementsByTagName("lyte-nav-item")[0],n=parseInt(getComputedStyle(a).marginTop),l=parseInt(getComputedStyle(a).marginBottom),o=this.getData("topH"),s=t.scrollTop,r=t.getElementsByTagName("lyte-nav-item")[0].offsetHeight;if(!(this.getData("iterationCounter")>=e)){this.setData("stopHandler",!0),r=r+n+l,0!==s&&(s=t.scrollTop=t.scrollTop-r),s<=0&&(i[0].style.display="none",t.style.height="calc(100% - "+o+"px)");var p=this.getData("iterationCounter")||0;this.setData("iterationCounter",p+1),window.requestAnimationFrame(this.upOnClick.bind(this,e))}},movedown:function(e){var t,i,a,n=this.$node.querySelector(".lyteNavDiv"),l=this.getArrows();n.getBoundingClientRect().height,n.scrollHeight;l[0].style.display="inline-block",i=this.getData("topH")+(t=this.getData("botH")),n.style.height="calc(100% - "+i+"px)",a=window.requestAnimationFrame(this.down.bind(this,n,l,t)),this.setData("arrowdid",a)},movedownOnClick:function(e){var t,i=this.$node.querySelector(".lyteNavDiv"),a=this.getArrows(),n=i.getElementsByTagName("lyte-nav-item")[0],l=parseInt(getComputedStyle(n).marginTop),o=parseInt(getComputedStyle(n).marginBottom),s=this.getData("ltPropScrollIncrement");a[0].style.display="inline-block",t=this.getData("topH")+this.getData("botH")+l+o,i.style.height="calc(100% - "+t+"px)",this.setData("downIterationCounter",0),window.requestAnimationFrame(this.downOnClick.bind(this,s))},moveup:function(){var e,t,i,a=this.$node.querySelector(".lyteNavDiv"),n=this.getArrows();a.getBoundingClientRect().height,a.scrollHeight;n[1].style.display="inline-block",t=(e=this.getData("topH"))+this.getData("botH"),a.style.height="calc(100% - "+t+"px)",i=window.requestAnimationFrame(this.up.bind(this,a,n,e)),this.setData("arrowuid",i)},moveupOnClick:function(){var e,t=this.$node.querySelector(".lyteNavDiv"),i=this.getArrows(),a=t.getElementsByTagName("lyte-nav-item")[0],n=(parseInt(getComputedStyle(a).marginTop),parseInt(getComputedStyle(a).marginBottom),this.getData("ltPropScrollIncrement"));i[1].style.display="inline-block",e=this.getData("topH")+this.getData("botH"),t.style.height="calc(100% - "+e+"px)",this.setData("iterationCounter",0),window.requestAnimationFrame(this.upOnClick.bind(this,n))},addArrow:function(e){var t=document.createElement("i"),i=document.createElement("lyte-arrow"),a=this.$node;t.setAttribute("class",e),i.appendChild(t),-1!==e.indexOf("up")?a.insertBefore(i,a.children[0]):a.appendChild(i)},dispArrow:function(e,t){var i=0,a=0,n=0,l=0;switch(this.getData("arrowTop")&&(a=this.getData("topH"),i=1),this.getData("arrowBot")&&(n=this.getData("botH"),i=1==i?3:2),i){case 1:t.style.height="calc(100% - "+a+"px)",e[1].style.display="none";break;case 2:t.style.height="calc(100% - "+n+"px)",e[0].style.display="none";break;case 3:l=a+n,t.style.height="calc(100% - "+l+"px)"}},recreateFromDv:function(e){for(var t=this.getData("ltPropSystemValue"),i=0,a=this.getData("copiedItems")||[];i<a.length;i++)if(a[i][t]===e)return a[i]},findInd:function(e){for(var t=this.getData("menuContent"),i=0,a=this.getData("ltPropSystemValue"),n=this.getData("ltPropSubMenuValue");i<t.length;i++){var l=t[i];if(l[n])for(var o=l[n],s=0;s<o.length;s++){if(e==o[s][a])return i}else if(e==t[i][a])return i}return-1},setSelected:function(e){var t=this.$node.querySelector('lyte-nav-item[data-value="'+_lyteUiUtils.escape(e)+'"]');t&&t.click()},setSelectedNavItem:function(){var e=this.getData("ltPropItems");if(e){var t=this.getData("ltPropSubMenuValue"),i=this.findParentMenuIndex(e);if(-1===i&&t){var a=e[i=this.findParentMenuIndexForSubMenuItem(e)][t],n=a[this.findMenuItemIndex(a)];this.setData("selectedMenuItem",n)}else this.setData("selectedMenuItem",{});var l=e[i];this.setData("selectedNavItem",l)}},actions:{openMenu:function(e){"Enter"!==e.key&&" "!==e.key||this.preventClick||e.target.click(),this.preventClick&&(this.preventClick=!1)}},methods:{beforeSubMenuOpen:function(e,t,i){if(i.getAttribute("data-value")){var a=i.getAttribute("selected"),n=t.target.tagName;if(a&&"LYTE-NAV-MENU-ICON"!==n)return!1}if(this.getMethods("onBeforeNavItemSubMenuOpen")&&!1===this.executeMethod("onBeforeNavItemSubMenuOpen"))return!1},subMenuOpened:function(e,t,i){i.classList.add("lyteNavSubMenuOpened"),this.getMethods("onNavItemSubMenuOpened")&&this.executeMethod("onNavItemSubMenuOpened")},subMenuClosed:function(e,t){var i=this.$node.getElementsByTagName("lyte-nav-item");(i=Array.from(i)).forEach((e=>{e.classList.contains("lyteNavSubMenuOpened")&&e.classList.remove("lyteNavSubMenuOpened")})),this.getMethods("onNavItemSubMenuClosed")&&this.executeMethod("onNavItemSubMenuClosed")},moreOptionsItemSelected:function(e,t,i,a,n){var l,o,s,r=arguments[4],p=(this.getData("ltPropItems"),this.getData("ltPropClick")),d=this.getData("ltPropSystemValue"),u=r.element,c=this.getData("auxArray"),m=this.getDataValue(u),y=this.findInd(m),h=this.getData("menuContent"),v=c.length,f=this.getData("ltPropSubMenuValue"),g=this.getData("preventCallback");if(!0!==g){if(!m)return;var b;this.setData("ltPropSelected",m),this.setSelectedNavItem();var D,M=this.findParentMenuIndexForSubMenuItem(h);if(y=this.findInd(m),-1!==M){D=h[M][d];var P=h[M],N=P[f],S=this.findMenuItemIndex(N);b=this.swapItems(M,S,h),Lyte.arrayUtils(h,"replaceAt",M,b)}(l=this.$node.querySelector("lyte-nav-item."+p))&&l.classList.remove(p);var C=this.getData("ltPropItems").findIndex((e=>e[d]===D));if((s=this.recreateFromDv(m))||(s=b),(o=Lyte.arrayUtils(c,"replaceAt",v-1,s))[f]){for(var A=o.header_value,w=this.getData("copiedItems"),I=(C=-1,0);I<w.length;I++){var x=w[I];if(x.header_value){var L=x.header_value;if(L===A){C=I;break}}}var U=w[C];for(let e in o)U.hasOwnProperty(e)||delete o[e]}Lyte.arrayUtils(h,"removeAt",y,1),Lyte.arrayUtils(h,"insertAt",y,o),this.setSelected(m),this.$node.recalculate(),this.getMethods("onMenuClick")&&!this.getData("preventCallback")&&this.executeMethod("onMenuClick",e,t,i,a,n)}},beforeOpen:function(){this.getMethods("onBeforeOpen")&&this.executeMethod("onBeforeOpen")},open:function(){this.getMethods("onOpen")&&this.executeMethod("onOpen")},beforeClose:function(e,t){this.getMethods("onBeforeClose")&&this.executeMethod("onBeforeClose"),t.isTrusted||(this.preventClick=!0)},close:function(){this.getMethods("onClose")&&this.executeMethod("onClose")},befRender:function(){this.getData("beforeMenuRender")&&this.executeMethod("beforeMenuRender")},aftRender:function(){this.getData("afterMenuRender")&&this.executeMethod("afterMenuRender")},menuItemOfNavMenuClicked:function(e,t,i,a,n){this.reArrangeArrays(e,i),this.$node.querySelector('lyte-nav-item[data-value="'+_lyteUiUtils.escape(e)+'"]').setAttribute("selected",!0),this.getMethods("onNavItemSubMenuClicked")&&!this.getData("preventCallback")&&this.executeMethod("onNavItemSubMenuClicked",this)}},findParentMenuIndex:function(e){for(var t=this.getData("ltPropSelected"),i=this.getData("ltPropSystemValue"),a=0;a<e.length;a++){var n=e[a];if(n[i]===t)return a;if(n.header_value===t)return a}return-1},findParentMenuIndexForSubMenuItem:function(e){for(var t=this.getData("ltPropSystemValue"),i=this.getData("ltPropSubMenuValue"),a=this.getData("ltPropSelected"),n=0;n<e.length;n++){var l=e[n];if(l[i])for(var o=l[i],s=0;s<o.length;s++){if(o[s][t]===a)return n}}return-1},findMenuItemIndex:function(e){var t=this.getData("ltPropSystemValue"),i=this.getData("ltPropSelected");return e.findIndex((e=>e[t]===i))},swapItems:function(e,t,i){var a=this.getData("ltPropSubMenuValue"),n=i[e],l=i[e][a][t];return Object.keys(l).forEach((e=>{Lyte.objectUtils(n,"add",e,l[e])})),n},reArrangeArrays:function(e,t){var i=this.getData("auxArray"),a=e,n=this.getData("ltPropSubMenuValue");this.setData("ltPropSelected",a);var l=this.findParentMenuIndexForSubMenuItem(i);if(-1!==l){var o=i[l];this.setSelectedNavItem();var s=o[n],r=this.findMenuItemIndex(s),p=this.swapItems(l,r,i);Lyte.arrayUtils(i,"replaceAt",l,p)}},data:function(){return{ltPropMenu:Lyte.attr("object",{default:_lyteUiUtils.resolveDefaultValue("lyte-nav","menu",{})}),ltPropNavYield:Lyte.attr("boolean",{default:!1}),ltPropMenuYield:Lyte.attr("boolean",{default:!1}),ltPropNavMenuYield:Lyte.attr("boolean",{default:!1}),ltPropItems:Lyte.attr("array",{default:[]}),ltPropUserValue:Lyte.attr("string",{default:""}),ltPropSystemValue:Lyte.attr("string",{default:""}),ltPropMaxWidth:Lyte.attr("string",{default:"90%"}),ltPropType:Lyte.attr("string",{default:""}),ltPropNavMenuClass:Lyte.attr("string",{default:_lyteUiUtils.resolveDefaultValue("lyte-nav","navMenuClass","lyteNavMenuClass")}),ltPropMenuIcon:Lyte.attr("string",{default:_lyteUiUtils.resolveDefaultValue("lyte-nav","menuIcon","lyteNavKebabMenu")}),ltPropContainerClass:Lyte.attr("string",{default:_lyteUiUtils.resolveDefaultValue("lyte-nav","containerClass","lyteNavIconContainer")}),ltPropClick:Lyte.attr("string",{default:_lyteUiUtils.resolveDefaultValue("lyte-nav","click","lyteNavActive")}),ltPropAlignment:Lyte.attr("string",{default:"horizontal"}),ltPropArrow:Lyte.attr("boolean",{default:!0}),ltPropSelected:Lyte.attr("string",{default:""}),ltPropContainerId:Lyte.attr("string",{default:""}),ltPropMaxHeight:Lyte.attr("string",{default:"90%"}),ltPropArrowEvent:Lyte.attr("string",{default:"mousehover"}),ltPropScrollIncrement:Lyte.attr("number",{default:1}),ltPropAddMargin:Lyte.attr("boolean",{default:!1}),ltPropNavMenuYield:Lyte.attr("boolean",{default:!1}),ltPropSubMenuValue:Lyte.attr("string",{default:""}),menuContent:Lyte.attr("array",{default:[]}),navMenu:Lyte.attr("object",{default:{}}),navMenuQuery:Lyte.attr("string",{default:"#zxsdf"}),auxArray:Lyte.attr("array",{default:[]}),arrowTop:Lyte.attr("boolean",{default:!1}),arrowBot:Lyte.attr("boolean",{default:!1}),showMenu:Lyte.attr("boolean",{default:!1}),selectedMenuItem:Lyte.attr("object",{default:{}}),selectedNavItem:Lyte.attr("object",{default:{}}),copiedItems:Lyte.attr("array",{default:[]})}}}),_lyteUiUtils.registeredCustomElements["lyte-nav-item"]||(_lyteUiUtils.registeredCustomElements["lyte-nav-item"]=!0,Lyte.createCustomElement("lyte-nav-item",{connectedCallback:function(){if(!this.prevent){for(var e,t,i=this,a=this;i&&"LYTE-NAV"!=i.tagName&&"HTML"!=i.tagName;)i=i.parentNode;if(!i)return;if("HTML"==i.tagName)return;if(e=i.component,t=e.getData("ltPropAlignment"),e.enableAria&&this.setAttribute("role","listitem"),"vertical"===t)for(;a&&!a.classList.contains("lyteNavDiv");)a=a.parentNode;if($L.fastdom.measure((function(){var i;e&&!e.$node||(this.hasAttribute("selected")&&this.getAttribute("selected")?a&&"vertical"===t&&(i=this.offsetTop,a.scrollTop=i,0!=i&&e.setData("arrowTop",!0),e.setData("arrowBot",!1)):a&&"vertical"===t&&this.offsetTop+this.getBoundingClientRect().height>a.getBoundingClientRect().height+a.scrollTop&&e.setData("arrowBot",!0))}),this),this.querySelector("lyte-nav-menu-icon")){var n="#"+this.getAttribute("id"),l=e.getData("navMenuQuery");l?(l.includes(n)||(l=l+","+n),e.setData("navMenuQuery",l)):e.setData("navMenuQuery",n)}this._eventRegistered||(this._eventRegistered=!0,this.addEventListener("click",function(t){if(e.getMethods("onBeforeItemSelected")){var i=e.executeMethod("onBeforeItemSelected",t,this,e);if(!1===i)return i}if(this.getAttribute("data-value")){"LYTE-NAV-MENU-ICON"!==t.target.tagName&&(this.setAttribute("selected",!0),e.setSelectedNavItem(),e.getMethods("onItemSelected")&&!e.getData("preventCallback")&&e.executeMethod("onItemSelected",this,e))}else{var a=this.querySelector("lyte-nav-menu-icon");if(a){t.target.tagName;var n=a.getAttribute("lt-prop-parent"),l=e.getData("auxArray"),o=(e.getData("ltPropUserValue"),e.getData("ltPropSystemValue"),l.find((e=>e.header_value===n)));e.setData("navMenu",o)}else this.setAttribute("selected",!0),e.getMethods("onItemSelected")&&!e.getData("preventCallback")&&e.executeMethod("onItemSelected",this,e)}}.bind(this)))}},disconnectedCallback:function(){this.getAttribute("lyte-shortcut")&&this.setAttribute("lyte-shortcut",JSON.stringify({}))},static:{observedAttributes:{get:function(){return["selected","lyte-shortcut"]}}},attributeChangedCallback:function(e,t,i,a){if(!this.prevent){var n,l,o,s,r,p=this;if("lyte-shortcut"===e){if("function"==typeof shortcut){if(!i)return;i=JSON.parse(i),t=t?JSON.parse(t):{},shortcut.push({newKey:i.key,type:i.type,wait:i.wait,oldKey:t.key,value:this})}}else if("selected"==e&&i&&"false"!==i){for(s=this.getAttribute("selected");p&&"LYTE-NAV"!=p.tagName&&"HTML"!=p.tagName;)p=p.parentNode;if(!p||"HTML"==p.tagName)return;l=(n=p.component).getData("ltPropClick"),(o=p.querySelector("."+l))&&o!=this&&o.setAttribute("selected",""),s&&(this.classList.add(l),(r=this.getAttribute("data-value"))&&(n.setData("preventSel",!0),n.setData("ltPropSelected",r),n.setData("preventSel",!1)))}else if("selected"==e){for(p=this;p&&"LYTE-NAV"!=p.tagName&&"HTML"!=p.tagName;)p=p.parentNode;if(!p||"HTML"==p.tagName)return;l=(n=p.component).getData("ltPropClick"),this.classList.remove(l),n.$node.querySelector('lyte-nav-item[selected="true"]')||(n.setData("preventSel",!0),n.setData("ltPropSelected",""),n.setData("preventSel",!1))}}}}));var _lyteUiNav={resize:function(){for(var e,t=document.querySelectorAll("lyte-nav"),i=(t.length,0);i<t.length;i++)(e=t[i].component)&&"collapse"===e.getData("ltPropType")&&e.recalculate()}};window.addEventListener("resize",(function(e){var t,i=_lyteUiUtils.lyteNavId,a=_lyteUiUtils.isMobile,n=_lyteUiUtils.nav_innerWidth;a&&n?(t=document.documentElement.clientWidth)!==n&&(_lyteUiUtils.nav_innerWidth=t,_lyteUiNav.resize()):a||(window.clearTimeout(i),_lyteUiUtils.lyteNavId=window.setTimeout((function(){_lyteUiNav.resize()}),16))})),_lyteUiUtils.registeredCustomElements["lyte-nav-menu-icon"]||(_lyteUiUtils.registeredCustomElements["lyte-nav-menu-icon"]=!0,Lyte.createCustomElement("lyte-nav-menu-icon",{connectedCallback:function(){for(var e,t=this,i=this;t&&"LYTE-NAV"!=t.tagName&&"HTML"!=t.tagName;)t=t.parentNode;if(t&&"HTML"!=t.tagName){for(e=t.component;t&&"LYTE-NAV-ITEM"!=i.tagName&&"HTML"!=i.tagName;)i=i.parentNode;t&&"HTML"!=i.tagName&&(this._eventRegistered||(this._eventRegistered=!0,this.addEventListener("click",function(t){var i=this.getAttribute("lt-prop-parent"),a=e.getData("auxArray"),n=(e.getData("ltPropUserValue"),e.getData("ltPropSystemValue"),a.find((e=>e.header_value===i)));e.setData("navMenu",n)}.bind(this))))}},disconnectedCallback:function(){},static:{}}));
