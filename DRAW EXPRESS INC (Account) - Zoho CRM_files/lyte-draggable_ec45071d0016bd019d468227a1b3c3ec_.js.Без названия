!function(e){$L&&($L.prototype.manageDraggable={init:!1,draggedEle:null,isRestricted:function(e,t){e=e instanceof Array?e:e.split(",");for(var l=0;l<e.length;l++)for(var o=document.querySelectorAll(e[l]),r=0;r<o.length;r++)if(t.isEqualNode(o[r]))return!0;return!1},destroy:function(e){var t;if(!e._draggableData&&(this.hasClassOrAttr(!0,e,"draggable-element")||this.hasClassOrAttr(!1,e,"draggable-element"))){var l=e.querySelector("[draggable-handle-element]");t=e,e=l||e.querySelector(".draggable-handle-element")}if(e._draggableData&&(this.hasClassOrAttr(e._draggableData.attribute,e,"draggable-element")||this.hasClassOrAttr(e._draggableData.attribute,e,"draggable-handle-element"))){var o=e._draggableData.attribute;if(this.hasClassOrAttr(o,e,"draggable-handle-element"))this.removeClassOrAttr(o,e,"draggable-handle-element"),e.removeEventListener("mousedown",e._draggableData.__mousedown),e._draggableData.aria&&e.removeEventListener("keydown",e._draggableData.__keyDownEvent),e.removeEventListener("touchstart",e._draggableData.__mousedown,!0),e._draggableData=null;else{l=(l=e.querySelectorAll("[draggable-handle-element]")).length?l:e.querySelectorAll(".draggable-handle-element");for(var r=0;r<l.length;r++)this.removeClassOrAttr(o,l[r],"draggable-handle-element"),l[r].removeEventListener("mousedown",l[r]._draggableData.__mousedown),l[r]._draggableData.aria&&l[r].removeEventListener("keydown",e._draggableData.__keyDownEvent),l[r].removeEventListener("touchstart",l[r]._draggableData.__mousedown,!0),l[r]._draggableData=null}t?(this.removeClassOrAttr(o,t,"draggable-element"),t._mousedown=void 0):this.removeClassOrAttr(o,e,"draggable-element"),this.removeClassOrAttr(o,e,"draggable-helper-element"),e._mousedown=void 0}else console.info("ALERT! - U have already destroyed its draggable behaviour.")},removeClassOrAttr:function(e,t,l){e?$L(t).removeAttr(l):$L(t).removeClass(l)},hasClassOrAttr:function(e,t,l){return e?void 0!==$L(t).attr(l):$L(t).hasClass(l)},addClassOrAttr:function(e,t,l){e?$L(t).attr(l,""):$L(t).addClass(l)}},$L.prototype.draggable=function(t){var l=$L.prototype.manageDraggable,o=$L.prototype.managerDD;if(l.init||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),l=t.length-1;l>=0&&t.item(l)!==this;)--l;return l>-1}),l.init=!0),"string"!=typeof t||"destroy"!==t){var r=t||{};if(this.length>1)for(ee=this,te=0;te<ee.length;te++)$L(ee[te]).draggable(Object.assign({},r));else if(!r.restrict||!l.isRestricted(r.restrict,this[0])){var n,a,i;r._element=this[0],l.addClassOrAttr(r.attribute,r._element,"draggable-element");var s,d,c,g,p,m,u,f,h,_,v,b,y={},D=[0,0],S=0,C=0,L=!1,E=parseFloat(getComputedStyle($L(this)[0]).borderLeft.split(" ")[0]),A=parseFloat(getComputedStyle($L(this)[0]).borderRight.split(" ")[0]),x=parseFloat(getComputedStyle($L(this)[0]).borderTop.split(" ")[0]),T=parseFloat(getComputedStyle($L(this)[0]).borderBottom.split(" ")[0]);r.cancel=void 0===r.cancel?[]:r.cancel instanceof Array?r.cancel:r.cancel.split(","),r.placeholder=r.placeholder?r.placeholder:"lyteDraggablePlaceholder",r.containment=void 0===r.containment?document:$L(r.containment)[0],r.orientation=void 0===r.orientation?"default":r.orientation,r.handle=void 0===r.handle?this[0]:r.handle,r.restrict=void 0===r.restrict?[]:r.restrict instanceof Array?r.restrict:r.restrict.split(","),r.helper=r.helper?r.helper:"original",r.connectToSortable=$L(r.connectToSortable).length?r.connectToSortable:null,r.cursorAt=r.cursorAt,r.disabled=r.disabled?r.disabled:"lyteDraggableDisabledPlaceholder",r.appendTo=r.appendTo&&"parent"!=r.appendTo?$L(r.appendTo)[0]:"parent",r.bubbles=void 0===r.bubbles||r.bubbles,r.mouseUpBubbles=!!r.mouseUpBubbles&&r.mouseUpBubbles,r.scrollDivX=r.scrollDivX?"string"==typeof r.scrollDivX?document.querySelector(r.scrollDivX):r.scrollDivX:void 0,r.scrollDivY=r.scrollDivY?"string"==typeof r.scrollDivY?document.querySelector(r.scrollDivY):r.scrollDivY:void 0,r.scrollSpeed=r.scrollSpeed?parseInt(r.scrollSpeed):10,r.threshold=r.threshold?parseInt(r.threshold):0,r.hasContainment=!!r.hasContainment&&r.hasContainment,r.minVisible=r.minVisible?r.minVisible:0,r.restrictLeftTopOnly=!!r.restrictLeftTopOnly&&r.restrictLeftTopOnly,r.attribute=!!r.attribute&&r.attribute,r.dblTouchEvent=!!r.dblTouchEvent&&r.dblTouchEvent,r.bindDroppable=!!r.bindDroppable&&r.bindDroppable,r.aria=!!r.aria&&r.aria,r.scrollSpeed<1&&(r.scrollSpeed=1);var X=function(t){if(g&&c&&(cancelAnimationFrame(c),g=!1,c=null),b&&v&&(cancelAnimationFrame(v),b=!1,v=null),"Windows"===Z()&&l.mouseMoveTriggered)l.mouseMoveTriggered=!1;else if(l.draggedEle&&l.hasClassOrAttr(l.draggedEle._draggableData.attribute,l.draggedEle,"selected-element")&&l.draggedEle._draggableData&&l.draggedEle._draggableData._isDown){if(n=l.draggedEle){var r=n._draggableData;if(!r._isMoved){if("vertical"===r.orientation&&Math.abs(i-t.clientY)<r.threshold)return;if("horizontal"===r.orientation&&Math.abs(a-t.clientX)<r.threshold)return;if(Math.abs(a-t.clientX)<r.threshold&&Math.abs(i-t.clientY)<r.threshold)return}if(r&&r._isDown){t.preventDefault(),void 0!==document.body.style.MozUserSelect&&(document.body.style.MozUserSelect="none");var u=r._element;D=r._offset,C=r._marginLeft,S=r._marginTop;var y=r.orientation,X=r._offParent,R=u.getBoundingClientRect(),w=X.getBoundingClientRect();if(te=r.scrollDivY&&r._isRelativeY?r.scrollDivY.scrollTop:0,r.scrollDivX&&r._isRelativeX?(_=r.scrollDivX.scrollLeft,_lyteUiUtils.getRTL()&&!_lyteUiUtils.isNegativeScroll()&&"chrome"==z()&&r._isRelativeX&&(_-=r._maxScrollWidth?r._maxScrollWidth:r.scrollDivX.scrollWidth-r.scrollDivX.offsetWidth)):_=0,r._isRelative&&_,!1!==r.dragstartreturn)var B=!0;else B=!1;if(r._element.addScrollDivXY=function(e,t){e=e?"string"==typeof e?document.querySelector(e):e:void 0;(t=t?"string"==typeof t?document.querySelector(t):t:void 0)&&t!==r.scrollDivY&&(r.scrollDivY=t,f=r.scrollDivY.scrollHeight-r.scrollDivY.offsetHeight,r._maxScrollHeight=f,r._element._draggableData._maxScrollHeight=f,r._element._draggableData.scrollDivY=r.scrollDivY,c&&(cancelAnimationFrame(c),g=!1,c=null)),e&&e!==r.scrollDivX&&(r.scrollDivX=e,h=r.scrollDivX.scrollWidth-r.scrollDivX.offsetWidth,r._maxScrollWidth=h,r._element._draggableData._maxScrollWidth=h,r._element._draggableData.scrollDivX=r.scrollDivX,v&&(cancelAnimationFrame(v),b=!1,v=null))},r._isMoved)r._placeholder&&(s=r._placeholder),r._positionedPlceholder&&(L=r._positionedPlceholder);else{if("string"==typeof r.helper){if("clone"==r.helper){var $=u.cloneNode(!0);_lyteUiUtils.insertAfter(u,$),l.removeClassOrAttr(r.attribute,u,"selected-element"),l.hasClassOrAttr(r.attribute,$,"draggable-handle-element")||l.addClassOrAttr(r.attribute,$,"draggable-handle-element",""),$._draggableData=Object.assign({},r),$.addScrollDivXY=r._element.addScrollDivXY,(r=$._draggableData)._element=r.handle=$,n=$,u=$,l.draggedEle=n=$,u.addEventListener("mousedown",oe),r.connectToSortable&&(r._prevTop=t.clientY),u._draggableData.helperElem=u}}else($=r.helper(u))&&($._callee=u,"parent"==r.appendTo?Lyte.Component.appendChild(r._parent,$):Lyte.Component.appendChild($L(r.appendTo)[0],$),l.removeClassOrAttr(r.attribute,u,"selected-element"),l.hasClassOrAttr(r.attribute,$,"draggable-handle-element")||l.addClassOrAttr(r.attribute,$,"draggable-handle-element",""),l.hasClassOrAttr(r.attribute,$,"selected-element")||l.addClassOrAttr(r.attribute,$,"selected-element",""),l.addClassOrAttr(r.attribute,$,"draggable-helper-element",""),$._draggableData=Object.assign({},r),$.addScrollDivXY=r._element.addScrollDivXY,(r=$._draggableData)._origin=r._element,r._element=r.handle=$,l.draggedEle=n=$,u=$,r.scrollDivY&&!r.scrollDivY.contains(u)&&(r._isRelativeY=!1),r.scrollDivX&&!r.scrollDivX.contains(u)&&(r._isRelativeX=!1),u.addEventListener("mousedown",oe),r.connectToSortable&&(r._prevTop=t.clientY),w=(X=r._offParent=u.offsetParent).getBoundingClientRect(),u._draggableData.helperElem=u);if(void 0!==o&&(o._current=n),(r=u._draggableData||n._draggableData).connectToSortable&&((s=u.cloneNode(!0))._callee=u,l.removeClassOrAttr(r.attribute,s,"selected-element"),s.innerHTML="",$L(s).attr("id","lyteDraggableDummy"),$L(s).addClass(r.placeholder),s.style.boxSizing="border-box",s.style.width=R.width+"px",s.style.height=R.height+"px",s.style.padding="0px",u.classList.add("lyteSortableDisablePE")),r.onDragStart){if(r.dragstartreturn=P(r,n,s,t),!r.dragstartreturn)return r._isMoved=!0,void(B=!1)}else r.dragstartreturn=!0;if(u.style.width=I(u)+"px",u.style.height=W(u)+"px",u.style.top=R.top-w.top-parseInt(S)+te+"px",u.style.left=R.left-w.left-parseInt(C)+_+"px",u.style.zIndex=2e5,u.style.position="absolute",r.scrollDivY&&(f=F(r.scrollDivY)?r.scrollDivY.scrollHeight-r.scrollDivY.clientHeight:r.scrollDivY.scrollHeight-r.scrollDivY.offsetHeight),r.scrollDivX&&(h=r.scrollDivX.scrollWidth-r.scrollDivX.offsetWidth,r._maxScrollWidth=h),r.cursorAt&&_lyteUiUtils.getRTL()){var U=r.cursorAt,j={};for(key in U)"left"==key?j.left=r._element.offsetWidth-U[key]:j[key]=U[key];r._preCursorAt=Object.assign({},r.cursorAt),r.cursorAt=j,D=r._offset=[r.cursorAt.left,r.cursorAt.top]}}"mousemove"==t.type||r.aria&&"keydown"==t.type?r._mousePosition={x:t.clientX,y:t.clientY}:"touchmove"==t.type&&(r.touchTarget=t.touches,r._mousePosition={x:t.touches[0].clientX,y:t.touches[0].clientY});var V=r._mousePosition.x-r._offset[0]-w.left-parseInt(C)+_,K=r._mousePosition.y-r._offset[1]-w.top-parseInt(S)+te;if(r._Elemoffset={top:K,left:V},r.dragstartreturn&&r.onDrag&&(B=Y(r,n,t)),B){if(R=u.getBoundingClientRect(),"vertical"===y){if(u.style.top=r._mousePosition.y-D[1]-w.top-parseInt(S)+te+"px",r.scrollDivY){var J=r.scrollDivY.getBoundingClientRect();R.left<=J.right&&R.right>=J.left&&(c=requestAnimationFrame(k.bind(this,r,r.scrollDivY,J,f,r._isRelativeY,r._mousePosition,D,w,t)),g=!0)}}else if("horizontal"===y){if(u.style.left=r._mousePosition.x-D[0]-w.left-parseInt(C)+_+"px",r.scrollDivX){J=r.scrollDivX.getBoundingClientRect();(R.left<=J.right||R.right>=J.left)&&(v=requestAnimationFrame(q.bind(this,r,J,r._maxScrollWidth,r._mousePosition,D,w,r._isRelativeX,t)),b=!0)}}else if("default"===y){if(u.style.left=r._mousePosition.x-D[0]-w.left-parseInt(C)+_+"px",u.style.top=r._mousePosition.y-D[1]-w.top-parseInt(S)+"px",R=u.getBoundingClientRect(),r.scrollDivY){J=r.scrollDivY.getBoundingClientRect();R.left<=J.right&&R.right>=J.left&&(c=requestAnimationFrame(k.bind(this,r,r.scrollDivY,J,f,r._isRelativeY,r._mousePosition,D,w,t)),g=!0)}if(r.scrollDivX){J=r.scrollDivX.getBoundingClientRect();(R.left<=J.right||R.right>=J.left)&&(v=requestAnimationFrame(q.bind(this,r,J,r._maxScrollWidth,r._mousePosition,D,w,r._isRelativeX,t)),b=!0)}if(r.connectToSortable){var Q=$L(r.connectToSortable).length?$L(r.connectToSortable)[0]._sortableParentData:null;if(d=Q.sortableElemClass,p=document.elementFromPoint(r._mousePosition.x,r._mousePosition.y),$L.prototype.manageSortable.isOver(t,r,!0),!p)return;(m=p.closest("."+d))&&m.parentElement._sortableParentData.droppable?$L(p).hasClass("sortable-parent")&&M(p,r)&&H(p,r._mousePosition)&&N(p,r._mousePosition,u)?(_lyteUiUtils.appendChild(p,s),s.style.display="",L=!0):u.getBoundingClientRect().top<=m.getBoundingClientRect().top?(_lyteUiUtils.insertBefore(m,s),s.style.display="",L=!0):u.getBoundingClientRect().bottom>m.getBoundingClientRect().bottom&&(_lyteUiUtils.insertAfter(m,s),s.style.display="",L=!0):p&&$L(p).hasClass("sortable-parent")&&M(p,r)&&H(p,r._mousePosition)&&N(p,r._mousePosition,u)?(_lyteUiUtils.appendChild(p,s),s.style.display="",L=!0):G(p)||$L(p).hasClass("sortable-parent")&&M(p,r)||(document.getElementById("lyteDraggableDummy")&&(document.getElementById("lyteDraggableDummy").style.display="none"),L=!1),L&&(!r.onPlaceholder||O(r,s)?($L(s).hasClass(r.disabled)&&$L(s).removeClass(r.disabled),$L(s).addClass(r.placeholder)):($L(s).hasClass(r.placeholder)&&$L(s).removeClass(r.placeholder),$L(s).addClass(r.disabled))),r._placeholder=s,r._positionedPlceholder=L}}if(r.hasContainment&&B){X=$L(r.containment)[0];var ee=r._offParent,te=0;if(F(X)){var le=0,re=e.innerHeight,ne=e.innerWidth;te=document.documentElement.scrollTop}else var ae=X.getBoundingClientRect(),ie=(le=ae.top,re=ae.height,ne=ae.width,ae.left);var se=u.getBoundingClientRect(),de=Math.min(r.minVisible,se.height),ce=Math.min(r.minVisible,se.width),ge=getComputedStyle(ee),pe=0,me=0;"relative"!==ge.position&&"absolute"!==ge.position||(me=ee.getBoundingClientRect().left,pe=ee.getBoundingClientRect().top),u.getBoundingClientRect().top<=le&&(u.style.top=le-pe+x+te+"px"),u.getBoundingClientRect().bottom>=le+re&&!r.restrictLeftTopOnly&&(u.style.top=le+re-pe-se.height+T+te+"px"),u.getBoundingClientRect().top+de>=le+re&&r.restrictLeftTopOnly&&(u.style.top=le+re-de-pe+T+te+"px"),u.getBoundingClientRect().left<=ie&&(u.style.left=ie+E-me+"px"),u.getBoundingClientRect().right>=ie+ne&&!r.restrictLeftTopOnly&&(u.style.left=ie-me+ne-se.width+A+_+"px"),u.getBoundingClientRect().left+ce>=ie+ne&&r.restrictLeftTopOnly&&(u.style.left=ie+ne-de-me+E+"px")}}void 0!==o&&o._drag(t),r._isMoved=!0}}}else n=null},R=function(e){if(g&&c&&(cancelAnimationFrame(c),g=!1,c=null),b&&v&&(cancelAnimationFrame(v),b=!1,v=null),"mouseup"==e.type&&(document.removeEventListener("mousemove",X),document.removeEventListener("mouseup",R)),"touchend"==e.type&&(document.removeEventListener("touchmove",X,!0),document.removeEventListener("touchend",R,!0)),l.draggedEle&&l.hasClassOrAttr(l.draggedEle._draggableData.attribute,l.draggedEle,"selected-element")&&l.draggedEle._draggableData&&l.draggedEle._draggableData._isDown){if(n=l.draggedEle){if(n._draggableData.mouseUpBubbles&&e.stopPropagation(),(f=n._draggableData).cursorAt&&_lyteUiUtils.getRTL()&&(f.cursorAt=Object.assign({},f._preCursorAt),f._preCursorAt=void 0),f.connectToSortable&&($L.prototype.manageSortable.prevSortable&&($L.prototype.manageSortable.prevSortable=!1),n.classList.remove("lyteSortableDisablePE")),s=f._placeholder,f&&f._isDown){f._isDown=!1;var t=f._element;if(f._isMoved){var r=!1;f._isMoved=!1,y=f._initialPos,S=parseInt(f._marginTop),C=parseInt(f._marginLeft);var a=!0;if(f.onBeforeStop&&(a=B(f,e)),a){if(f.connectToSortable&&f._positionedPlceholder){var i=j(s)?j(s):V(s),d=i?i._sortableChildData:s.parentElement._sortableParentData;_lyteUiUtils.replaceWith(s,t),s=null,t._sortableChildData=d,t.removeEventListener("mousedown",oe),K(t),r=!0}}else{if(f.helperElem)return t.remove(),document.getElementById("lyteDraggableDummy")&&s.remove(),void(l.draggedEle=null);"absolute"===y.pos?(t.style.left=y.x+"px",t.style.top=y.y+"px"):(t.style.left="",t.style.top="",t.style.position=""),f._positionedPlceholder=!1}if(void 0!==o&&(o._drop(e),o._current=null,f.currDroppable&&f.currDroppable._droppableData&&(f.currDroppable._droppableData.entered=!1,f.currDroppable=null)),f.onStop&&(a=$(f,e)),!a){if(f.helperElem&&!r)return t.remove(),document.getElementById("lyteDraggableDummy")&&s.remove(),void(l.draggedEle=null);"absolute"===y.pos?(t.style.left=y.x+"px",t.style.top=y.y+"px"):(t.style.left="",t.style.top="",t.style.position="")}}t.style.zIndex=f._zIndex,l.removeClassOrAttr(f.attribute,n,"selected-element")}f.touchTarget=null,n=null,document.getElementById("lyteDraggableDummy")&&(document.getElementById("lyteDraggableDummy").remove(),s&&(s=null))}for(var p=f.attribute?e.target.ownerDocument.querySelectorAll("[selected-element]"):e.target.ownerDocument.querySelectorAll(".selected-element"),m=e.target.ownerDocument.querySelectorAll(".lyteDraggableDummy"),u=0;u<p.length;u++){var f;(f=(t=p[u])._draggableData).cursorAt&&f._preCursorAt&&_lyteUiUtils.getRTL()&&(f.cursorAt=Object.assign({},f._preCursorAt),f._preCursorAt=void 0),f._placeholder&&(f._placeholder=null,f._positionedPlceholder=!1),f._isDown=!1,f._isMoved=!1,l.removeClassOrAttr(f.attribute,t,"selected-element")}for(u=0;u<m;u++)m[u].remove();l.draggedEle=null}else n=null},w=function(e,t){return null==(u=e.onStart(e._element,t))||u},P=function(e,t,l,o){return null==(u=e.onDragStart(e._element,t,l,o,e._origin))||u},Y=function(e,t,l){return null==(u=e.onDrag(e._element,t,l,e._origin,e._Elemoffset))||u},B=function(e,t){return null==(u=e.onBeforeStop(e._element,e._placeholder,e._positionedPlceholder?e._placeholder.parentElement:null,t,Q(e,"onBeforeStop"),e._origin))||u},O=function(e,t){var l=e.onPlaceholder(e._element,t,e._element.parentElement,t?t.parentElement:null);return null==l||l},$=function(t,l){var o=e.getComputedStyle(t._element).pointerEvents;return t._element.style.pointerEvents="none","mouseup"==l.type?p=document.elementFromPoint(l.clientX,l.clientY):"touchend"==l.type&&(p=document.elementFromPoint(t.touchTarget[0].clientX,t.touchTarget[0].clientY)),t._element.style.pointerEvents=o,void 0===(u=t.onStop(t._element,t._positionedPlceholder?t._element.parentElement:null,p,l,Q(t,"onStop"),t._origin))||u};if(r.dblTouchEvent){var U=0;r.__mousedown=function(e){if("mousedown"==e.type)oe(e);else{var t=(new Date).getTime(),l=e.touches;e.touches[0].clientY;const o=200;1==l.length&&(le(r,e.target)&&$L(e.target).one("touchend",(function(e){e.preventDefault()})),t-U<o&&1==l.length&&(U=0,e.preventDefault(),oe(e))),U=t}}}else r.__mousedown=oe;r.__mousemove=X,r.__mouseup=R,r.__keyDownEvent=function(e){var t=e.target._draggableData.handle;if(32==e.keyCode)return t.classList.contains("selected-element")?(e.clientY=t.getBoundingClientRect().top,e.clientX=t.getBoundingClientRect().left,R(e)):(e.clientY=t.getBoundingClientRect().top,e.clientX=t.getBoundingClientRect().left,oe(e)),void e.preventDefault();t.classList.contains("selected-element")&&(39==e.keyCode?(e.clientX=t.getBoundingClientRect().left+50,X(e)):37==e.keyCode?(e.clientX=t.getBoundingClientRect().left-50,e.clientX=e.clientX>0?e.clientX:0,X(e)):38==e.keyCode?(e.clientY=t.getBoundingClientRect().top-50,e.clientY=e.clientY>0?e.clientY:0,X(e)):40==e.keyCode&&(e.clientY=t.getBoundingClientRect().top+50,X(e)),e.preventDefault())},r._element._mousedown||("string"!=typeof r.handle&&r.handle.length?r.handle.forEach((function(e){var t=$L(e,r._element)[0];t._draggableData=r,l.addClassOrAttr(r.attribute,t,"draggable-handle-element",""),t.addEventListener("mousedown",r.__mousedown),t.addEventListener("touchstart",r.__mousedown),r.aria&&t.addEventListener("keydown",r.__keyDownEvent)})):(r.handle._draggableData=r,l.addClassOrAttr(r.attribute,r.handle,"draggable-handle-element",""),r.handle.addEventListener("mousedown",r.__mousedown),r.handle.addEventListener("touchstart",r.__mousedown),r.aria&&r.handle.addEventListener("keydown",r.__keyDownEvent)),r._element._mousedown=!0),r.onReady&&function(e){e.onReady(e._element)}(r);var F=function(e){if(e==document.documentElement)return!0},M=function(e,t){return!(!e.matches(t.connectToSortable)||!e._sortableParentData.droppable)},W=function(e){var t=getComputedStyle(e);if("content-box"==t.boxSizing)var l=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),o=parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth);else l=0,o=0;return e.offsetHeight-l-o},I=function(e){var t=getComputedStyle(e);if("content-box"==t.boxSizing)var l=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),o=parseFloat(t.borderLeftWidth)+parseFloat(t.borderRightWidth);else l=0,o=0;return e.offsetWidth-l-o},k=function(t,l,r,n,a,i,s,d,p){var m=t._element.getBoundingClientRect(),u=l!==document.documentElement?l.offsetHeight:l.clientHeight;if(!(1&document.compareDocumentPosition(t._element))){var f,h=e.getComputedStyle(t.scrollDivY);"flex"==h.display&&"column-reverse"==h.flexDirection&&(f=!0);var _=l.scrollTop,v=l===document.documentElement?0:l.getBoundingClientRect().top;if(f)if(m.top-parseInt(t._marginTop)<=v&&_>-n)a?t._element.style.top=i.y-s[1]-d.top-(n-_>=t.scrollSpeed?t.scrollSpeed:n-_)+_+"px":F(l)&&(t._element.style.top=t._element.offsetTop-(n-_>=t.scrollSpeed?t.scrollSpeed:n-_)+"px"),l.scrollTop-=t.scrollSpeed,t.onScroll&&t.onScroll(t._element,l,i),t.bindDroppable&&o._drag(p);else{if(!(m.bottom>=v+u-3&&_<0))return cancelAnimationFrame(c),g=!1,void(c=null);n-_>t.scrollSpeed?(a?t._element.style.top=i.y-s[1]-d.top+t.scrollSpeed+_+"px":F(l)&&(t._element.style.top=t._element.offsetTop+t.scrollSpeed+"px"),l.scrollTop+=t.scrollSpeed,t.onScroll&&t.onScroll(t._element,l,i),t.bindDroppable&&o._drag(p)):(a?t._element.style.top=i.y-s[1]-d.top+n-_+"px":F(l)&&(t._element.style.top=t._element.offsetTop+(n-_)+"px"),l.scrollTop+=n-_,t.onScroll&&t.onScroll(t._element,l,i),t.bindDroppable&&o._drag(p))}else if(m.top-parseInt(t._marginTop)<=v&&_>0)a?t._element.style.top=i.y-s[1]-d.top-(n-_>=t.scrollSpeed?t.scrollSpeed:n-_)+_+"px":F(l)&&(t._element.style.top=t._element.offsetTop-(n-_>=t.scrollSpeed?t.scrollSpeed:n-_)+"px"),l.scrollTop-=t.scrollSpeed,t.onScroll&&t.onScroll(t._element,l,i),t.bindDroppable&&o._drag(p);else{if(!(m.bottom>=v+u-3&&_<n))return cancelAnimationFrame(c),g=!1,void(c=null);n-_>t.scrollSpeed?(a?t._element.style.top=i.y-s[1]-d.top+t.scrollSpeed+_+"px":F(l)&&(t._element.style.top=t._element.offsetTop+t.scrollSpeed+"px"),l.scrollTop+=t.scrollSpeed,t.onScroll&&t.onScroll(t._element,l,i),t.bindDroppable&&o._drag(p)):(a?t._element.style.top=i.y-s[1]-d.top+n-_+"px":F(l)&&(t._element.style.top=t._element.offsetTop+(n-_)+"px"),l.scrollTop+=n-_,t.onScroll&&t.onScroll(t._element,l,i),t.bindDroppable&&o._drag(p))}c=requestAnimationFrame(k.bind(this,t,l,r,n,a,i,s,d,p))}},q=function(t,l,r,n,a,i,s,d){var c=t._element.getBoundingClientRect();if(!(1&document.compareDocumentPosition(t._element)&&t.scrollDivX)){_=t.scrollDivX.scrollLeft;var g=e.getComputedStyle(t.scrollDivX),p=!1;if("flex"==g.display&&"row-reverse"==g.flexDirection&&(p=!0),!p&&!_lyteUiUtils.getRTL()||!_lyteUiUtils.isNegativeScroll()&&_lyteUiUtils.getRTL()&&"chrome"==z()&&!s)if(c.right>=l.right-2&&_<r)r-_>=t.scrollSpeed?(t.scrollDivX.scrollLeft+=t.scrollSpeed,s&&(t._element.style.left=n.x-a[0]-i.left+t.scrollSpeed+_+"px"),t.bindDroppable&&o._drag(d),t.onScroll&&t.onScroll(t._element,t.scrollDivX,n)):(t.scrollDivX.scrollLeft+=t.scrollSpeed-(r-_),s&&(t._element.style.left=n.x-a[0]-i.left+(t.scrollSpeed-(r-_))+_+"px"),t.bindDroppable&&o._drag(d),t.onScroll&&t.onScroll(t._element,t.scrollDivX,n));else{if(!(c.left<=l.left+2&&_>0))return cancelAnimationFrame(v),b=!1,void(v=null);s&&(t._element.style.left=n.x-a[0]-i.left-(r-_>t.scrollSpeed?t.scrollSpeed:t.scrollSpeed-(r-_))+_+"px"),t.bindDroppable&&o._drag(d),t.onScroll&&t.onScroll(t._element,t.scrollDivX,n),t.scrollDivX.scrollLeft-=t.scrollSpeed}else if(_lyteUiUtils.isNegativeScroll()&&p||"chrome"!=z()||!s){if((_lyteUiUtils.isNegativeScroll()||p)&&"chrome"==z()||"firefox"==z()||"safari"==z())if(c.right>=l.right&&_<0)r+_>=5?(t.scrollDivX.scrollLeft+=5,s&&(t._element.style.left=n.x-a[0]-i.left+5+_+"px")):(t.scrollDivX.scrollLeft+=5-(r+_),s&&(t._element.style.left=n.x-a[0]-i.left+(5-(r+_))+_+"px")),t.bindDroppable&&o._drag(d),t.onScroll&&t.onScroll(t._element,t.scrollDivX,n);else{if(!(c.left<=l.left&&_>-r))return cancelAnimationFrame(v),b=!1,void(v=null);s&&(t._element.style.left=n.x-a[0]-i.left+(_-5)+"px"),t.scrollDivX.scrollLeft-=5,t.bindDroppable&&o._drag(d),t.onScroll&&t.onScroll(t._element,t.scrollDivX,n)}else if("ie"==z()||"edge"==z())if(c.right>=l.right&&_>0)t.scrollDivX.scrollLeft-=_>=5?5:_,t.onScroll&&t.onScroll(t._element,t.scrollDivX,n);else{if(!(c.left<=l.left&&_<r))return cancelAnimationFrame(v),b=!1,void(v=null);s&&(t._element.style.left=n.x-a[0]-i.left-_-5+"px"),t.scrollDivX.scrollLeft+=5,t.onScroll&&t.onScroll(t._element,t.scrollDivX,n)}}else if(c.right>=l.right&&_<r)r-_>=5?(t.scrollDivX.scrollLeft+=5,s&&(t._element.style.left=n.x-a[0]-i.left+5+(_-r)+"px"),t.bindDroppable&&o._drag(d),t.onScroll&&t.onScroll(t._element,t.scrollDivX,n)):(t.scrollDivX.scrollLeft+=5-(r-_),s&&(t._element.style.left=n.x-a[0]-i.left+(5-(r-_))+_+"px"),t.bindDroppable&&o._drag(d),t.onScroll&&t.onScroll(t._element,t.scrollDivX,n));else{if(!(c.left<=l.left&&_>0))return cancelAnimationFrame(v),b=!1,void(v=null);s&&(t._element.style.left=n.x-a[0]-i.left-(r-_+5)+"px"),t.scrollDivX.scrollLeft-=5,t.bindDroppable&&o._drag(d),t.onScroll&&t.onScroll(t._element,t.scrollDivX,n)}v=requestAnimationFrame(q.bind(this,t,l,r,n,a,i,s,d))}},z=function(){return navigator.userAgent.search("rv:11")>=0?"ie":navigator.userAgent.search("Edge")>=0?"edge":navigator.userAgent.search("Chrome")>=0?"chrome":navigator.userAgent.search("Firefox")>=0?"firefox":navigator.userAgent.search("Safari")>=0&&navigator.userAgent.search("Chrome")<0?"safari":void 0},H=function(t,l){var o=e.getComputedStyle(t),r=t.getBoundingClientRect();return l.x>r.left+parseFloat(o.paddingLeft||0)&&l.x<r.right-parseFloat(o.paddingRight||0)&&l.y>r.top+parseFloat(o.paddingTop||0)&&l.y<r.bottom-parseFloat(o.paddingBottom||0)},N=function(e,t,l){for(var o=e.children,r=0,n=[],a=0;a<o.length;a++)"TEMPLATE"!=o[a].tagName&&"dummy"!=o[a].id?n.push(o[a]):r++;return r==o.length||l.getBoundingClientRect().top>n[n.length-1].getBoundingClientRect().bottom},j=function(e){for(;e.previousElementSibling;)if("TEMPLATE"!=(e=e.previousElementSibling).tagName&&$L(e).hasClass("sortable-element"))return e;return null},V=function(e){for(;e.nextElementSibling;)if("TEMPLATE"!=(e=e.nextElementSibling).tagName&&$L(e).hasClass("sortable-element"))return e;return null},K=function(e){e.style.left="",e.style.top="",e.style.zIndex="",e.style.position="",$L(e).addClass("sortable-element "+e._sortableChildData.sortableElemClass),l.removeClassOrAttr(r.attribute,e,"draggable-element"),l.removeClassOrAttr(r.attribute,e,"draggable-handle-element")},G=function(e){for(;e;){if(e.id&&"lyteDraggableDummy"===e.id)return!0;e=e.parentElement}return!1},J=function(e,t){for(var l=0;l<e.restrict.length;l++)if(t.matches(e.restrict[l]))return!1;return!0},Q=function(e,t){if(e.connectToSortable&&e._positionedPlceholder){var l,o;if("onBeforeStop"===t&&(l=e._placeholder,o=e._placeholder.parentElement),"onStop"===t&&(l=e._element,o=e._element.parentElement),o._sortableParentData.omitRestricted){for(var r=Array.from(o.children).filter((function(e){return"TEMPLATE"!=e.tagName})),n=0;n<r.length;n++)J(e,r[n])||(r.splice(n,1),--n);return r.indexOf(l)}return Array.from(o.children).filter((function(e){return"TEMPLATE"!=e.tagName})).indexOf(l)}return-1},Z=function(){var t=e.navigator.userAgent,l=e.navigator.platform,o=null;return-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(l)?o="Mac OS":-1!==["iPhone","iPad","iPod"].indexOf(l)?o="iOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(l)?o="Windows":/Android/.test(t)?o="Android":!o&&/Linux/.test(l)&&(o="Linux"),o};return this}}else if(this.length>1)for(var ee=this,te=0;te<ee.length;te++)l.destroy(ee[te]);else l.destroy(this[0]);function le(e){for(var t=r.cancel||[],o=0;o<t.length;o++)for(var n=e;n.parentElement;){if(n.matches(r.cancel[o]))return!0;if(l.hasClassOrAttr(r.attribute,n,"draggable-handle-element"))break;n=n.parentElement}return!1}function oe(t){if(3!=t.which&&(a=t.clientX,i=t.clientY,!le(t.target))){var o=t.target.closest("[draggable-handle-element]");if(o=o||t.target.closest(".draggable-handle-element"),l.draggedEle=o,o){o._draggableData.bubbles||t.stopPropagation();var r=o._draggableData,n=r._element,s=n.getBoundingClientRect();e.getComputedStyle(n),s.width,s.height;r._offParent=n.offsetParent||$L("body")[0],r._parent=n.parentElement,r._zIndex=e.getComputedStyle(n);var d=!0;r.onStart&&(d=w(r,t)),d&&(d.then?d.then((function(e){e&&re(n,r,o,t)})):re(n,r,o,t))}else o=null}}function re(t,r,n,a){var i=(t=(r=n._draggableData)._element).getBoundingClientRect(),s=e.getComputedStyle(t);i.width,i.height;y={x:t.offsetLeft,y:t.offsetTop,pos:$L(t).css("position")},r.cursorAt?D=[r.cursorAt.left,r.cursorAt.top]:"mousedown"==a.type?D=[a.clientX-i.left,a.clientY-i.top]:"touchstart"==a.type&&(D=[a.touches[0].clientX-i.left,a.touches[0].clientY-i.top]),"touchstart"==a.type&&(document.addEventListener("touchmove",X,!0),document.addEventListener("touchend",R,!0),r._element.classList.add("stopDefaultMove")),s.marginTop&&(S=s.marginTop),s.marginLeft&&(C=s.marginLeft),r.scrollDivY&&("relative"==e.getComputedStyle(r.scrollDivY).position||"absolute"==e.getComputedStyle(r.scrollDivY).position)&&r.scrollDivY.contains(t)?r._isRelativeY=!0:r._isRelativeY=!1,r.scrollDivX&&("relative"==e.getComputedStyle(r.scrollDivX).position||"absolute"==e.getComputedStyle(r.scrollDivX).position)&&r.scrollDivX.contains(t)?r._isRelativeX=!0:r._isRelativeX=!1,r._isDown=!0,r._initialPos=y,r._offset=D,r._Elemoffset={top:D[0],left:D[1]},r._marginLeft=C,r._marginTop=S,l.addClassOrAttr(r.attribute,n,"selected-element",""),void 0!==o&&(o._current=n),"mousedown"==a.type&&(document.addEventListener("mousemove",X),document.addEventListener("mouseup",R),"Windows"===Z()&&(l.mouseMoveTriggered=!0))}})}(window);
