!function(o,e){var i;o.gscomponent=(i=void 0,(i=o.gscomponent||{}).UIType=i.hasOwnProperty("UIType")?i.UIType:0,i.isShowAppsData=!1,i.mount=i.hasOwnProperty("mount")?i.mount:"zgs20_globalsearch",i.searchboxMount=i.hasOwnProperty("searchboxMount")?i.searchboxMount:"zgs20_gsSearchBoxRight",i.searchresultMount=i.hasOwnProperty("searchresultMount")?i.searchresultMount:"",i.searchBoxPosition=i.hasOwnProperty("searchBoxPosition")?i.searchBoxPosition:"",i.searchResultPosition=i.hasOwnProperty("searchResultPosition")?i.searchResultPosition:"",i.zindex=i.hasOwnProperty("zindex")?i.zindex:"",i.theme=i.hasOwnProperty("theme")?i.theme:"",i.query=i.hasOwnProperty("query")?i.query:"",i.showSearchButton=!!i.hasOwnProperty("showSearchButton")&&i.showSearchButton,i.tabIndex=i.hasOwnProperty("tabIndex")?i.tabIndex:"",i.position=i.hasOwnProperty("position")?i.position:{},i.beforeShow=i.hasOwnProperty("beforeShow")?i.beforeShow:"",i.beforeHide=i.hasOwnProperty("beforeHide")?i.beforeHide:"",i.afterShow=i.hasOwnProperty("afterShow")?i.afterShow:"",i.afterHide=i.hasOwnProperty("afterHide")?i.afterHide:"",i.onZSReady=i.hasOwnProperty("onZSReady")?i.onZSReady:"",i.gsserver=i.hasOwnProperty("gsserver")?i.gsserver:"zohosearch",i.suiteServiceObject=i.hasOwnProperty("suiteServiceObject")?i.suiteServiceObject:[],i.isServiceSuite=!!i.hasOwnProperty("isServiceSuite")&&i.isServiceSuite,i.isEmptySearchAllowed=!!i.hasOwnProperty("isEmptySearchAllowed")&&i.isEmptySearchAllowed,i.isWPSmartViewEnabled=!!i.hasOwnProperty("isWPSmartViewEnabled")&&i.isWPSmartViewEnabled,i.isNoRestrictServicelist=!!i.hasOwnProperty("isNoRestrictServicelist")&&i.isNoRestrictServicelist,i.zsdirection=i.hasOwnProperty("zsdirection")?i.zsdirection:"ltr",i.isRTLEnabled=!!i.hasOwnProperty("isRTLEnabled")&&i.isRTLEnabled,i.isSameQrySearchEnabled=4===i.UIType,i.suiteServiceUserConfig=i.suiteServiceUserConfig||[],i.suiteServices=i.suiteServices||[],i.setSuiteServiceList=function(e,s){i.suiteServices.push(e),i.suiteServiceUserConfig.push({app_name:e,zaaid:s})},i.getSuiteServiceList=function(){return 0<i.suiteServices.length?i.suiteServices:[]},i.getSuiteServicesObject=function(){return i.suiteServiceUserConfig},i.setSuiteServiceObject=function(e){0<e.length&&(i.suiteServiceObject=e)},i.nonAccountFilterServices=[],i.setSuiteService=function(){if(i.isServiceSuite){var e=o.jsonParse(i.suiteServiceObject),s=Object.keys(e).length;if(0<s){i.suiteServiceUserConfig=[],i.suiteServices=[],i.suiteServices.push("all");for(var t=0;t<s;t++){var a=e[t],r=a.service,a=a.id||"";i.setSuiteServiceList(r,a),r===o.GSConstant.WEBSITE&&0<a.length&&i.nonAccountFilterServices.push(r)}}}},i.setSuiteService(),i.gsCloseIconCallback=function(){2===i.UIType&&"undefined"!=typeof zossearch&&zossearch.hasOwnProperty("toggleCloseIcon")&&zossearch.toggleCloseIcon()},i.setUIType=function(){i.UIType="undefined"!=typeof zossearch&&zossearch.hasOwnProperty("getZOSObject")?2:i.UIType},i.setUIType(),i.setPCode=function(){var e=i.hasOwnProperty("pcode")?i.pcode:"ZGS";("ZGS"!==(e="undefined"!=typeof zossearch&&zossearch.hasOwnProperty("pcode")?zossearch.pcode:e)||0!==i.UIType&&1!==i.UIType)&&(i.isServiceSuite=!0),i.pcode=e},i.setPCode(),i.isSettingsEnabled=i.hasOwnProperty("isSettingsEnabled")?i.isSettingsEnabled:!i.isServiceSuite,i.getMountAttr=function(){var e="",s="",t="",a=!1;switch(i.UIType){case 0:case 2:e=" zgs19_direction zgs19_globalsearch zgs19_globalsearch_position zgs19_gsDisplayNone ",s="zgs20_globalsearch";break;case 1:e=" zgs19_direction zgs19_zohosearch ",s="zgs20_zohosearch",a=!0;break;case 4:var e=" zgs19_direction zgs19_globalsearch zgs19_globalsearch_position zgs19_gsDisplayNone ",r="";switch(i.pcode){case"ZO":r=" zgs19_gsonezoho";break;case"ZW":r=" zsServiceSuite zsServiceSuite260"}e+=r,s="zgs20_globalsearch",t=i.mount}return{class:e,id:s,isAppendToBody:a,mountParentEle:t}},i.getToolTipMountId=function(){var e="zgs20_gsHolder";return e=o.GSConstant.hasOwnProperty("isEmbedDashboard")&&o.GSConstant.isEmbedDashboard||o.GSConstant.hasOwnProperty("isEmbedCard")?"zgs20_globalsearch":e},i.clearExistingZOS=function(e){e=document.getElementById(e);3!==i.UIType&&4!==i.UIType||!e||e.parentNode.removeChild(e)},i.getMountDetails=function(){var e=i.getMountAttr(),s=e.isAppendToBody;return i.clearExistingZOS(e.id),s&&((s=document.createElement("div")).tabIndex=5,""!==i.zindex&&(s.style.zIndex=i.zindex),s.id=e.id,s.className=e.class,s.setAttribute("gs","globalsearch"),document.body.appendChild(s)),e},i.setDOMDirection=function(e,s){i.hasOwnProperty("pcode")&&"ZO"!=i.pcode&&o.hasOwnProperty("isDashboardEnabled")&&!o.isDashboardEnabled&&(s=document.getElementById(s&&""!=s?s:o.gscomponent.getMountAttr().id),i.zsdirection=e||i.zsdirection,o.GSConstant.hasOwnProperty("rtlSupportedZSLanguages")&&-1!==o.GSConstant.rtlSupportedZSLanguages.indexOf(o.getCurrentLanguage())&&(i.zsdirection="rtl"),i.isRTLEnabled="rtl"===i.zsdirection,e=i.isRTLEnabled?" zgs19_rtl":" zgs19_ltr",s.classList.remove("zgs19_ltr"),s.classList.remove("zgs19_rtl"),s.className+=e,s.style.direction=o.gscomponent.zsdirection,o.GSConstant.hasOwnProperty("zsdirectioncomponent")&&o.GSConstant.zsdirectioncomponent&&document.getElementById("zgs20_direction")&&(document.getElementById("zgs20_direction").checked="rtl"===i.zsdirection)),o.hasOwnProperty("setSCSSRootConfig")&&o.setSCSSRootConfig()},i.getZOUserData=function(){return"undefined"!=typeof zossearch&&zossearch.hasOwnProperty("getZOUserObject")?zossearch.getZOUserObject():i.hasOwnProperty("getZOUserObject")?i.getZOUserObject():i.hasOwnProperty("isServiceSuite")&&i.isServiceSuite?i.getSuiteServicesObject():void 0},i.uiPosition=function(){return 2===i.UIType&&"undefined"!=typeof zossearch&&zossearch.hasOwnProperty("getZOSObject")?zossearch.getZOSObject():i.position},i.getGSOptions=function(){if(3!==i.UIType)return"";return'<div id="zgs20_gsOption"><div class="zgs19_gsOptionSub zgs19_gsCurPointer"><div id="zgs20_gsactionmin" class="zgs19_gsOptionMinIcon zgs19_gsOptionIcon zgs19_gsDisplayNone" gs="gsactionmin"></div><div id="zgs20_gsactionmax" class="zgs19_gsOptionMaxIcon zgs19_gsOptionIcon" gs="gsactionmax"></div></div></div></div>'},i.getSearchButton=function(){if(i.showSearchButton){var e=document.getElementsByClassName("zgs19_searchbtnOuter")[0];if(e)return e;return(new DOMParser).parseFromString("<div class='zgs19_searchbtnOuter'><input gs='defsearchicon' id='zgs20_gsSearchBtn'  class='zgs19_searchbtn zgs19_gsContentBox' type='button' gsa='biggerUI_search_button'><span gs='defsearchicon' id='zgs20_gsSearchBtnIcon'  class='zgs19_gsSearchBtnIcon zgs18_gsLensIconTab zgs19_gsDisplayNone'></div>","text/html").body.firstChild}return""},i.getSearchIcon=function(){var e="<div id='zgs20_gsSearchBoxLeft' class='zgs19_gsSearchBoxLeft zgs19_gsServicesPaneWid zgs19_gsCurPointer' gs='clearAndDisplayHomePage' gsa='smallerUI_search_button'>\n                                            <span class='zgs19_gsSearchIcon zgs18_searchLogo'></span>\n                                            <span class='zgs19_gsZSearchTxt zgs19_gsDisplayNone'>"+o.getI18NMsg("gs.search.service_welcome_page")+"</span>\n                                            <span class='zgs18_gsLHSMenu zgs19_gsDisplayNone' gs='showSVLHSServices'></span>\n                                        </div>";return(e=(new DOMParser).parseFromString(e,"text/html")).body.firstChild},i.getSearchBox=function(){var e=document.getElementsByClassName("zgs19_gsqryinnerdiv")[0];if(e){var s="<div class='zgs19_searchBoxFocusedChild zgs19_gsfl'><div gsfocusedouter='zgs19_searchBoxFocusedParent' id='zgs20_gsQueryBoxHolder' class='zgs19_gsQueryBoxHolder zgs19_gsfl'></div></div>";s=(s=(new DOMParser).parseFromString(s,"text/html")).body.firstChild.appendChild(e);e=document.getElementById("zgs20_gsQueryBoxHolder");return e.parentNode.removeChild(e),s}s="<div class='zgs19_searchBoxFocusedChild zgs19_gsfl'><div gsfocusedouter='zgs19_searchBoxFocusedParent' id='zgs20_gsQueryBoxHolder' class='zgs19_gsQueryBoxHolder zgs19_gsfl'>\n                                    <div class='zgs19_gsqryinnerdiv'>\n                                          <div id='zgs20_gsQuerySpanBox' tabindex=0 class='zgs19_gsSearchQueryBox zgs19_gsBorderBox zgs19_gsBoxshadow'></div>\n                                          <input id='zgs20_gsQueryBox' tabindex=0 autocomplete='off' spellcheck='false' class='zgs19_gsSearchQueryBox zgs19_gsBorderBox zgs19_gsBoxshadow' placeholder='"+i.getSearchBoxPlaceholder()+"'/>\n                                </div></div>";return(s=(new DOMParser).parseFromString(s,"text/html")).body.firstChild},i.getResultsArea=function(){return(new DOMParser).parseFromString("<div id='zgs20_gsSearchResultsArea' class='zgs19_gsSearchResultsArea' tabindex='5'>\n                                <div id='zgs20_gsProgressLoader' class='zgs19_gsProgressLoader zgs19_gsDisplayNone'></div>\n                                <div id='zgs20_gsResultsHolder' class='zgs19_gsSearchResultAreaChild zgs19_gsw100h100 zgs19_gsDisplayNone zgs19_gsfl' style='border: none;' domselector='previewbody'></div>\n                                <div id='zgs20_gsCardsPage' class = 'zgs19_gsCardsPage zgs19_gsDisplayNone'></div>\n                                <div id='zgs20_gsDashboardhome' class = 'zgs19_gsDashboardhome zgs19_gsDisplayNone'></div>\n                                <div id= 'zgs20_cloudIntegration' class='zgs19_cloudIntegration zgs19_gsSettingsPages zgs19_gsDisplayNoneImp'></div>\n                                <div id= 'zgs20_gsbannertip' class='zgs19_gsbannertip zgs19_gsBoxShadowPopup zgs19_gsDisplayNone'>\n                                <div id= 'zgs20_gsbannertipicon' class='zgs19_gsbannertipicon zgs19_gsfl'></div>\n                                <div id= 'zgs20_gsbannertiptext' class='zgs19_gsbannertiptext zgs19_gsOverflow zgs19_gsfl'></div>\n                                </div>\n                            </div>","text/html").body.firstChild},i.setTheme=function(){"ZO"===i.pcode&&i.hasOwnProperty("isServiceSuite")&&i.isServiceSuite&&(2===i.UIType||4===i.UIType)?o.setTheme("zsGreyMode"):o.GSConstant.hasOwnProperty("theme")&&o.setTheme(o.GSConstant.theme)},i.getZOSSearchBoxPlaceholder=function(){return 2===i.UIType&&"undefined"!=typeof zossearch&&zossearch.hasOwnProperty("title")?zossearch.title:""},i.getSearchBoxPlaceholder=function(){return o.isNICDomain()?o.getI18NMsg("t.search_box"):2===i.UIType&&"undefined"!=typeof zossearch&&zossearch.hasOwnProperty("title")?zossearch.title:4===i.UIType&&i.hasOwnProperty("searchboxPlaceholder")?i.searchboxPlaceholder:o.hasWmsResource?WmsResource.getRealValue("GS_Search_across_zoho"):""},i.isToggleZiaEnabled=function(){return 1!==i.UIType&&4!==i.UIType},i.getOverlay=function(){return 0===i.UIType||2===i.UIType?"<div id='zgs20_gsOverlay' gs='gsoverlay' class='zgs19_gsOverlay zgs19_globalsearch_position'></div>":""},i.isResizeEnabled=function(){return 0!==i.UIType},i.isHashingAllowed=function(){return 1===i.UIType},i.getGSServer=function(){var e="zohosearch";return e=i.hasOwnProperty("gsserver")?i.gsserver:e},i.getContactServer=function(){return 1===i.UIType?contactServer:""},i),o.userAgent=e.navigator.userAgent,o.isIE=-1!==o.userAgent.indexOf("MSIE")||-1!==o.userAgent.indexOf("Trident"),o.detectBrowser=function(){return-1!=(o.userAgent.indexOf("Opera")||o.userAgent.indexOf("OPR"))?"Opera":-1!=o.userAgent.indexOf("Edg")?"Edge":-1!=o.userAgent.indexOf("Chrome")?"Chrome":-1!=o.userAgent.indexOf("Safari")?"Safari":-1!=o.userAgent.indexOf("Firefox")?"Firefox":-1!=o.userAgent.indexOf("MSIE")||1==!!document.documentMode?"IE":"Unknown"},o.detectBrowserVersion=function(){var e,s=o.userAgent,t=s.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(t[1])?{name:"IE",version:(e=/\brv[ :]+(\d+)/g.exec(s)||[])[1]||""}:"Chrome"===t[1]&&null!=(e=s.match(/\b(OPR|Edge)\/(\d+)/))?{name:e[1].replace("OPR","Opera"),version:e[2]}:(t=t[2]?[t[1],t[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=s.match(/version\/(\d+)/i))&&t.splice(1,1,e[1]),{name:t[0],version:t[1]})},o.setSCSSRootConfig=function(){var e;"Chrome"===o.detectBrowser()&&parseInt(o.detectBrowserVersion().version)<118&&(e=document.querySelector(":root"),o.gscomponent.isRTLEnabled?(e.style.setProperty("--floatleft--","right"),e.style.setProperty("--floatright--","left")):(e.style.setProperty("--floatleft--","left"),e.style.setProperty("--floatright--","right")))}}(zgssearch,window),function(e){var n,s=(n=void 0,(n=e.zgssearch||{}).setTheme=function(e){var s=document.body,t=n.hasOwnProperty("getGSConstantObj")?n.getGSConstantObj():{};if("zmNightMode"===e&&(e="zsNightMode"),t.SUPPORTED_THEME){var a=t.SUPPORTED_THEME.split(",");if(-1<a.indexOf(e)){var r,o=s.className.trim();for(r in a)var i=a[r],i=n.GSConstant.isNightModeEnabled&&"zsNightMode"==i?"":i,o=o.replace(i,"");s.className=o+" "+e,n.searchObj?.service&&n.mappedServiceList.hasOwnProperty(n.searchObj?.service)&&n.mappedServiceList[n.searchObj?.service].callout&&(e=n.mappedServiceList[n.searchObj?.service].callout,n[e].hasOwnProperty("setThemeModeForPreview")&&n[e].setThemeModeForPreview())}}},n.getTheme=function(){var e=document.body,s=n.hasOwnProperty("getGSConstantObj")?n.getGSConstantObj():{};if(s.SUPPORTED_THEME){var t,a=s.SUPPORTED_THEME.split(","),r=e.className.trim().split(" ");for(t in r){var o=r[t];if(n.isArrayContain(o,a))return o}}return""},n.resetTheme=function(){var e,s=document.body,t=(n.hasOwnProperty("getGSConstantObj")?n.getGSConstantObj():{}).SUPPORTED_THEME.split(","),a=s.className.trim();for(e in t)var r=t[e],a=a.replace(r,"");s.className=a},n.setMode=function(e){var s=["zsDarkMode","zsLightMode"];if(-1<s.indexOf(e)){var t,a=document.body,r=a.className.trim();for(t in s)var o=s[t],r=r.replace(o,"");a.className=r+" "+e,localStorage.setItem("mode",e)}},n.setNightMode=function(e){var s="zsNightMode",t=document.body,a=t.className.trim();localStorage.setItem("isNightModeEnabled",e),e?(a.indexOf(s)<0&&(t.className=a+" "+s),n.hasWebMessanger&&WebMessanger.hasOwnProperty("enableDarkTheme")&&WebMessanger.enableDarkTheme()):(a=a.replace(s,""),t.className=a,n.hasWebMessanger&&WebMessanger.hasOwnProperty("disableDarkTheme")&&WebMessanger.disableDarkTheme(),a=a.replace(s="zmNightMode",""),t.className=a),n.searchObj?.service&&n.mappedServiceList.hasOwnProperty(n.searchObj?.service)&&n.mappedServiceList[n.searchObj?.service].callout&&(a=n.mappedServiceList[n.searchObj?.service].callout,n[a].hasOwnProperty("setThemeModeForPreview")&&n[a].setThemeModeForPreview())},n.resetNightMode=function(){var e="zsNightMode",s=document.body,t=s.className.trim();localStorage.setItem("isNightModeEnabled",!1),-1<t.indexOf(e)&&(t=t.replace(e,""),s.className=t),n.hasWebMessanger&&WebMessanger.hasOwnProperty("disableDarkTheme")&&WebMessanger.disableDarkTheme(),-1<t.indexOf(e="zmNightMode")&&(t=t.replace(e,""),s.className=t)},n);e.zgssearch=s}(window),function(a){a.ZSNetwork=(ZSNetwork=!a.isExtension&&a.network||{},ZSNetwork.imageRenderer={renderImage:function(e,s,t){s?a.renderPhoto("",e,s.class_name,s.errorClass,s.img_elem):t(e)}},ZSNetwork.download_file=function(e){var s=document.createElement("iframe");s.frameBorder=0,s.id="download_iframe",s.src=e,s.style="display:none";e=a.isPreviewOpenedInComponent?"zgs20_pcSearch":"zgs20_globalsearch";document.getElementById(e).appendChild(s),setTimeout(function(){s.parentElement.removeChild(s)},5e4)},ZSNetwork),a.network=a.isExtension?a.network:a.ZSNetwork}(zgssearch,window),function(g,a){g.gsspacer=g.gsspacer||g.network.getFingerPrintFilePath("images/gsspacer.gif"),g.isUBIDomain=function(){var e=g.GSConstant.INSTALLATION;return void 0!==e&&"UBI"==e},g.isNICDomain=function(){var e=g.GSConstant.INSTALLATION;return void 0!==e&&-1<e.indexOf("Zoho-NIC")},g.hasWebMessanger=g.hasWebMessanger||"undefined"!=typeof WebMessanger&&!g.isUBIDomain(),g.hasWMSTranscript=g.hasWMSTranscript||!!g.hasWebMessanger&&void 0!==WebMessanger.renderTranscript,g.isCssFileloadedCheck=function(e){for(var s=document.styleSheets,t=s.length,a=0;a<t;a++)if(s[a].href&&s[a].href.includes(e))return!0;return!1},g.isQueryValid=function(e){return 0<((e=e instanceof Object?e.hasOwnProperty("query")?e.query:"":e)?e.trim():"").length},g.getGSConstantObj=function(){return g.GSConstant},g.setGSTagElems=function(s){_jQueryGS(s).find("*").each(function(){var e=this.getAttribute("gs");e&&(s[e]=this)})},g.getTargetElem=function(e){if(""!==e&&void 0!==e)return document.getElementById(e)},g.I18N={},g.I18N.getValue=function(e,s){var t=null;if(g.Utils.isValidValue(e)&&(t=e,g.GSConstant.hasOwnProperty("jsMessages")&&(t=g.GSConstant.jsMessages[e],g.Utils.isValidValue(s))))for(var a=0;a<s.length;a++)t=s[a]?t.split("{"+a+"}").join(s[a]):t.split("{"+a+"}")[0];return t},g.getI18NMsg=function(e,s){e=e.trim(),e=g.GSConstant.hasOwnProperty("jsMessages")?g.GSConstant.jsMessages[e]||e:"";return e=s?e.toLowerCase():e},g.isMobViewport=function(){return g.hasOwnProperty("gscomponent")&&g.gscomponent.isServiceSuite?g.isWPMobViewPort():!!(g.hasOwnProperty("gscomponent")&&1===g.gscomponent.UIType&&g.ziaProperties.isPropertyNeeded("isMobileViewPortCallbackNeeded")&&a.matchMedia("(max-width: 768px)").matches)},g.uri=function(e,s,t,a,r){var o=a&&a.hasOwnProperty("timeout")?a.timeout:15e3,i={};i.url=s,i.type=e,i.data=t,i.timeout=o,i.args=a,i.success=function(e,s,t){t?t.args=this.args:t=e,t.args=this.args,r(e,s,t)},i.error=function(e,s,t){(t="object"!=typeof t?{}:t)?t.args=this.args:t=e,t.args=this.args,r({},"error",t)};i=g.network.uri(i);return a&&!_jQueryGS.isEmptyObject(a)&&a.hasOwnProperty("isCalloutReq")&&a.isCalloutReq&&(g.xmlhttpCalloutReq=i),i},g.triggerRequest=function(e,s,t,a,r){var o=a&&a.hasOwnProperty("timeout")?a.timeout:15e3,i={};i.url=s,i.type=e,i.data=t,i.timeout=o,i.args=a,i.success=function(e,s,t){(t=t||{}).args=this.args,r(e,s,t)},i.error=function(e,s,t){(t=t||{}).args=this.args,r(e,s,t)};i=g.network.uri(i);return a&&!_jQueryGS.isEmptyObject(a)&&a.hasOwnProperty("isCalloutReq")&&a.isCalloutReq&&(g.xmlhttpCalloutReq=i),i},g.uploadFile=function(e,s,t,a,r){t={url:e,method:s,data:t,contentType:!1,processData:!1,success:function(e,s,t){(t=t||{}).args=this.args,r(e,s,t)},error:function(e,s,t){(t=t||{}).args=this.args,r(e,s,t)}};g.network.upload_file(t)},g.getLHSServicePaneWidth=function(){return("ZW"!==g.gscomponent.pcode||!g.gscomponent.isWPSmartViewEnabled&&!g.isWPSmartViewEnabledinZia)&&_jQueryGS("#zgs20_gsSearchResultLeft").width()||0},g.replaceHTMLEntity=function(e){return/&(?:[a-z\d]+|#\d+|#x[a-f\d]+);/gi.test(e)?g.gssecurity.textDecoder(e):e},g.initNotebookcomponent=function(e){g.gsnotebookresults=g.gsnotebookresults||{},g.gsnotebookresults.nbClient=new NBClient(g.GSConstant.INSTALLATION,g.origins)||{},g.gsnotebookresults.unSupportedBrowser=g.gsnotebookresults.nbClient.unSupportedBrowser()||!1,e&&e()},g.loadNotebookComponent=function(e){g.isNotebookComponentLoaded||(g.isNotebookComponentLoaded=!0,g.network.loadSRIJSFile("js/znb-client-sec.js",function(){g.initNotebookcomponent(function(){e&&e()})}))},g.initZohoSecurityFileLoad=function(e){ZSEC&&!_jQueryGS.isEmptyObject(ZSEC)&&(g.isSecurityComponentLoaded=!0,g.zohoSecurity=ZSEC,e&&e())},g.preLoadComponentForServices=function(){var e,s=(g.isDashboardEnabled?g.getConstAllServList():g.hasOwnProperty("getServiceList")?g.getServiceList("serviceList"):[])||[];for(e in g.isArrayContain(g.GSConstant.NOTEBOOK,s)&&g.loadNotebookComponent(),g.addToWdSupportedServices)if(g.isArrayContain(g.addToWdSupportedServices[e],s)){g.loadWorkdriveComponent();break}var t,a=g.getResRequiredServices();for(t in a){var r=a[t];g.loadServiceComponent(r)}},g.loadServiceComponent=function(e){g.res_services&&-1<g.res_services.indexOf(e)&&(null!=(e=(new g.ResourceFactory).createInstance(e,!1))&&e.load())},g.getResRequiredServices=function(){var e=[];e.push(g.GSConstant.SALESFORCE),e.push(g.GSConstant.SLACK);var s=g.getFileServiceIfExists();return s&&e.push(s),e.push(g.GSConstant.ASANA),e.push(g.GSConstant.PROJECTS),e},g.getFileServiceIfExists=function(){for(var e=g.getServiceList("serviceList")||[],s="",t=g.SERVICES_STORAGE.length,a=0;a<t;a++)if(-1<e.indexOf(g.SERVICES_STORAGE[a])){s=g.SERVICES_STORAGE[a];break}return s},g.isWMSChatPaused=function(){return!g.hasWebMessanger||!WebMessanger.hasOwnProperty("isChatPaused")||WebMessanger.isChatPaused()},g.isArrayContain=function(e,s){return-1!==_jQueryGS.inArray(e,s)},g.isJsonObjectContain=function(e,s){s=Object.keys(s);return-1!==_jQueryGS.inArray(e,s)},g.getFourDotLoader=function(e,s){return _jQueryGS("<div>",{id:e,class:s,gs:"loadericon"}).append(_jQueryGS("<div>",{class:"zgs19_gsRequestLoadera"})).append(_jQueryGS("<div>",{class:"zgs19_gsRequestLoaderb"})).append(_jQueryGS("<div>",{class:"zgs19_gsRequestLoaderc"})).append(_jQueryGS("<div>",{class:"zgs19_gsRequestLoaderd"}))},g.getDotLoaderForBtn=function(e){return _jQueryGS("<div>",{id:e,class:"zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsAddCardLoader"}).append(_jQueryGS("<div>",{class:"zgs19_gsRequestLoadera zgs19_gsThreeDotBtnLoader"})).append(_jQueryGS("<div>",{class:"zgs19_gsRequestLoaderb zgs19_gsThreeDotBtnLoader"})).append(_jQueryGS("<div>",{class:"zgs19_gsRequestLoaderc zgs19_gsThreeDotBtnLoader"}))},g.setButtonLoader=function(e,s,t,a){g.btnLoderTar=e,t||(_jQueryGS(e).css("width",_jQueryGS(e).width()),_jQueryGS(e).css("height",_jQueryGS(e).height())),_jQueryGS(e).attr("texttemp",_jQueryGS(e).text()),_jQueryGS(e).text(""),_jQueryGS(e).append(g.getDotLoaderForBtn(s)),a||(_jQueryGS(e).attr("gstemp",_jQueryGS(e).attr("gs")),_jQueryGS(e).attr("gs",""),(a=_jQueryGS(e).attr("cnfrmtype"))&&(_jQueryGS(e).attr("cnfrmtypetemp",a),_jQueryGS(e).attr("cnfrmtype","")))},g.revertButtonLoader=function(){var e=g.btnLoderTar;e&&(_jQueryGS(e).attr("gs",_jQueryGS(e).attr("gstemp")),_jQueryGS(e).attr("cnfrmtypetemp")&&_jQueryGS(e).attr("cnfrmtype",_jQueryGS(e).attr("cnfrmtypetemp")),_jQueryGS(e).find("zgs19_gsFourDotLoader").remove(),_jQueryGS(e).text(_jQueryGS(e).attr("texttemp")),_jQueryGS(e).removeAttr("gstemp").removeAttr("cnfrmtypetemp").removeAttr("texttemp"))},g.removeEle=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},g.getMappedServiceList=function(){return g.mappedServiceList},g.getComponentType=function(){if(g.isPreviewOpenedInComponent){if(g.hasOwnProperty("pccomponent"))return"pccomponent"}else if(g.hasOwnProperty("gscomponent"))return"gscomponent";return null},g.Utils=g.hasOwnProperty("Utils")?g.Utils:{},g.Utils.isValidValue=function(e){return!(null==e||""===e||"null"===e)},g.Utils.debounce=function(e,s,t,a){var r=this,o=arguments,i=t+"DebounceTimeout";g[i]&&(clearTimeout(g[i]),g[i]=null),g[i]=setTimeout(function(){g[i]=null,a||e.apply(r,o)},s),a&&e.apply(r,o)},g.Utils.throttle=function(e,s,t){g.throttleTimeout||(e.apply(this,arguments),g.throttleTimeout=setTimeout(function(){g.throttleTimeout=null},s))},g.getEnabledCloudApps=function(){return g.GSConstant&&g.GSConstant.hasOwnProperty("accessible_cloud_apps")?g.GSConstant.accessible_cloud_apps:[]},g.addToWDEnabled=function(){return g.isArrayContain(g.GSConstant.WORKDRIVE,g.GSConstant.allserviceslist)&&!g.isExtension},g.loadWorkdriveComponent=function(e){var s,t;!g.workdriveComponentLoaded&&g.addToWDEnabled()&&(g.workdrive_component_integrity="sha384-TFZJMtyXCSjW+xo5DuC1KPJrIyOr763u7qQsbhZo6787wpX6GcaiPzqgBgGHEhae",s=a.location.protocol+"//"+g.GSConstant.STATIC_RESOURCE_SERVER+"/personal/stable/jsapps/workdrive-third-party/workdrive-frame-sdk-v1.js",t=g.gscomponent.getMountAttr().id,_jQueryGS("#"+t).prepend(_jQueryGS("<div>",{id:"zgs20_wdMount"})),g.network.loadJSFile(s,function(){g.wdComponentLoaded(e)}))},g.wdComponentLoaded=function(e){g.workdriveComponentLoaded=!0,e&&e()},g.isCardViewOpened=function(){return g.hasOwnProperty("gscards")&&g.isCardPageOpened},g.isDashboardViewOpened=function(){return g.hasOwnProperty("gsdbhome")&&g.isDashboardOpened},g.addLoader=function(e,s,t){0!=_jQueryGS("#"+s).length&&_jQueryGS("#"+s).remove();let a;a=e instanceof jQuery||e instanceof HTMLElement?_jQueryGS(e):_jQueryGS("#"+e),a.length&&(t?a.append(g.getDotLoaderForBtn(s)):a.append(g.getFourDotLoader(s,"zgs19_gsFourDotLoader zgs19_gsConnectorprevLoader zgs19_gsRequestLoader18")))},g.Utils.createElement=function(e,s,t,a,r,o){var i=document.createElement(e);if(t&&(i.className=t),s&&(i.id=s),r&&(i.textContent=r),o&&(i.innerHTML=o),a&&""!==a)for(var n in a)i.setAttribute(n,a[n]);return i},g.obtainLineIconPaths=function(e,s,t,a,r){var o=g.LINE_ICON_MAP[e],i=_jQueryGS(s).children()[0];if(i&&i.className===e+"_path1 zgs19_path")return s;for(var n=1;n<=o;n++){var l=g.Utils.createElement("span","",e+"_path"+n+" zgs19_path",a);_jQueryGS(s).append(l)}if(r&&_jQueryGS(s).attr("isIconPathParentTip","true"),t)return _jQueryGS(s)},g.getParentNode=function(e,s,t){for(var a=e,r=g.searchViewport;a&&a!==r;){if(s===(t?_jQueryGS(a).attr(t):_jQueryGS(a).attr("gs")))return a;a=a.parentNode}return null},g.getWidthOfText=function(e,s,t){t=t||"zgs19_gstooltext";var a=g.getTargetElem("zgs20_globalsearch");_jQueryGS(a).append(_jQueryGS("<div>",{id:"zgs20_gsDummytootltip",class:"zgs19_gsdummytooltext zgs19_gsOverflow "+t}).text(e));e=g.getTargetElem("zgs20_gsDummytootltip").getBoundingClientRect().width;return _jQueryGS("#zgs20_gsDummytootltip").remove(),s<e?s:e},g.loadIntegFile=function(e){g.integrationHandlerFileLoaded?g.settingsFileLoaded?e&&e():g.network.loadSRIJSFile("js/settings.js",e):g.network.loadJSFile(g.network.getFingerPrintFilePath("js/integrationshandler.js"),function(){g.gsusersettings.selectedServiceBeforeSettings=g.searchType,g.integrationHandlerFileLoaded=!0,g.loadIntegFile(e)})},g.getCapitalizedLtr=function(e){var s,t="";return e&&(0<(s=e.length)&&(t=e[0]),1<s&&(t+=e[1])),t.toUpperCase()},g.openInNewTab=function(e){var s;e&&((s=document.createElement("a")).class="zgs19_gsDisplayNone",s.id="zgs20_gsOpenInNewTabLink",s.href=e,s.target="_blank",s.rel="noopener noreferrer",document.body.appendChild(s),s.click(),_jQueryGS("#zgs20_gsOpenInNewTabLink").remove())},g.getAppIdForCloudApps=function(e,s){if(g.isIntegViewPage)return g.cloud_app_id;s=s||g.getCalloutSearchType(),s=g.getWidgetResponseData(s);return e&&s&&!_jQueryGS.isEmptyObject(s)?s.aD[e].app_id:""},g.getServiceList=function(e){return g.hasOwnProperty(e)?g[e]:g.serviceList},g.isDashboardScopeActive=function(){return g.hasOwnProperty("gsdbUtils")&&g.isDashboardViewOpened()},g.isCardScopeActive=function(){return g.hasOwnProperty("gscardUtils")&&g.isCardViewOpened()}}(zgssearch,window),function(e){window._jQueryGS;var s=e.getGSConstantObj()||{};e.serviceList=e.serviceList||[],e.mappedServiceList={},e.mappedServiceList[s.ALL]={hash:"all",api_url_service_name:"All Apps",displayName:e.getI18NMsg("gs.search.service_allapps"),is_multi_accounts:!1,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniAllIcon"},e.mappedServiceList[s.MAILS]={hash:"zmail",api_url_service_name:"Mail",displayName:e.getI18NMsg("gs.search.service_mails"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniMailsIcon",listview:!0,callout:"gsmails",results:"gsmailresults",id:"zgs20_gsMailCallout",dH:e.getI18NMsg("common.accounts"),category:e.getI18NMsg("gs.settings.service.type.email"),originService:s.MAILS,url:s.GS_MAIL_URL},e.mappedServiceList[s.STREAMS]={hash:"zmail",api_url_service_name:"Streams",displayName:e.getI18NMsg("common.streams"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniMailsIcon",listview:!0,callout:"gsstreams",results:"gsstreamsresults",id:"zgs20_gsStreamsCallout",dH:e.getI18NMsg("common.streams"),category:e.getI18NMsg("gs.settings.service.type.email"),originService:s.MAILS,is_module:!0,url:s.GS_MAIL_URL},e.mappedServiceList[s.CRM]={hash:"zcrm",api_url_service_name:"CRM",displayName:e.getI18NMsg("gs.search.service_crm"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniCrmIcon",listview:!0,callout:"gscrm",results:"gscrmresults",id:"zgs20_gsCRMCallout",dH:e.getI18NMsg("gs.search.filter.organizations"),category:e.getI18NMsg("gs.settings.service.type.sales"),url:s.GS_CRM_URL},e.mappedServiceList[s.PEOPLE]={hash:"zpeople",api_url_service_name:"People",displayName:e.getI18NMsg("gs.search.service_people"),is_multi_accounts:!1,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniPeopleIcon",listview:!0,callout:"gscontacts",results:"gscontactresults",id:"zgs20_gsContactsCallout",category:e.getI18NMsg("gs.settings.service.type.hr"),url:s.GS_PEOPLE_URL},e.mappedServiceList[s.ORGCONTACTS]={hash:"orgcontacts",api_url_service_name:"Org Contacts",displayName:e.getI18NMsg("gs.search.service_org_contact"),is_multi_accounts:!1,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniOrgIcon",listview:!0,callout:"gscontacts",results:"gscontactresults",id:"zgs20_gsContactsCallout",url:s.GS_CONTACTS_URL},e.mappedServiceList[s.PERSONALCONTACTS]={hash:"personalcontacts",api_url_service_name:"Contacts",displayName:e.getI18NMsg("common.contact"),is_filter_exist:!1,is_multi_accounts:!1,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniPerIcon",listview:!0,callout:"gscontacts",results:"gscontactresults",id:"zgs20_gsContactsCallout",url:s.GS_CONTACTS_URL},e.mappedServiceList[s.CHAT]={hash:"zchat",api_url_service_name:"Chat",displayName:e.getI18NMsg("gs.search.service_chat"),is_multi_accounts:!1,is_sorting_allowed:!0,serviceicon:"zgs18_gsUniChatIcon",listview:!0,callout:"gschat",results:"gschatresults",id:"zgs20_gsChatCallout",sort:"",category:e.getI18NMsg("gs.settings.service.type.email"),url:s.GS_CLIQ_URL},e.mappedServiceList[s.CLIQ]={hash:"zcliq",api_url_service_name:"Cliq",displayName:e.getI18NMsg("gs.search.service_chat"),is_multi_accounts:!1,is_sorting_allowed:!0,serviceicon:"zgs18_gsUniChatIcon",listview:!0,callout:"gscliq",results:"gscliqresults",id:"zgs20_gsCliqCallout",sort:"",category:e.getI18NMsg("gs.settings.service.type.email"),url:s.GS_CLIQ_URL},e.mappedServiceList[s.SUPPORT]={hash:"zdesk",api_url_service_name:"Desk",displayName:e.getI18NMsg("gs.search.service_desk"),is_multi_accounts:!0,is_sorting_allowed:!0,serviceicon:"zgs18_gsUniSupportIcon",listview:!0,callout:"gssupport",results:"gssupportresults",id:"zgs20_gsSupportCallout",dH:e.getI18NMsg("gs.search.filter.portals"),sort:"",category:e.getI18NMsg("gs.settings.service.type.itdesk"),url:s.GS_SUPPORT_URL},e.mappedServiceList[s.REPORTS]={hash:"zreports",api_url_service_name:"Analytics",displayName:e.getI18NMsg("gs.search.service_reports"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniReportsIcon",listview:!0,callout:"gsreports",results:"gsreportresults",id:"zgs20_gsReportsCallout",dH:e.getI18NMsg("gs.search.filter.workspaces"),category:e.getI18NMsg("gs.settings.service.type.custom.solutions"),url:s.GS_REPORTS_URL},e.mappedServiceList[s.CONNECT]={hash:"zconnect",api_url_service_name:"Connect",displayName:e.getI18NMsg("gs.search.service_connect"),is_multi_accounts:!0,is_sorting_allowed:!0,serviceicon:"zgs18_gsUniConnectIcon",listview:!0,callout:"gsconnect",results:"gsconnectresults",id:"zgs20_gsConnectCallout",dH:e.getI18NMsg("common.networks"),sort:"",category:e.getI18NMsg("gs.settings.service.type.email"),url:s.GS_CONNECT_URL},e.mappedServiceList[s.LEARN]={hash:"zohowiki",api_url_service_name:"Learn",displayName:e.getI18NMsg("gs.search.service_learn"),is_multi_accounts:!0,is_sorting_allowed:!0,serviceicon:"zgs18_gsUniLearnIcon",listview:!0,callout:"gslearn",results:"gslearnresults",id:"zgs20_gsLearnCallout",dH:e.getI18NMsg("common.hubs"),sort:"",category:e.getI18NMsg("gs.settings.service.type.email"),url:s.GS_LEARN_URL},e.mappedServiceList[s.WIKI]={hash:"zwiki",api_url_service_name:"Wiki",displayName:e.getI18NMsg("common.wiki"),is_multi_accounts:!0,is_sorting_allowed:!0,serviceicon:"zgs18_gsUniWikiIcon",listview:!0,callout:"gswiki",results:"gswikiresults",id:"zgs20_gsWikiCallout",dH:e.getI18NMsg("gs.search.filter.wikis"),sort:"",category:e.getI18NMsg("gs.settings.service.type.email"),url:s.GS_WIKI_URL},e.mappedServiceList[s.CREATOR]={hash:"zcreator",api_url_service_name:"Creator",displayName:e.getI18NMsg("gs.search.service_creator"),is_multi_accounts:!1,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniCreatorIcon",listview:!0,callout:"gscreator",results:"gscreatorresults",id:"zgs20_gsCreatorCallout",dH:e.getI18NMsg("gs.search.filter.applications"),category:e.getI18NMsg("gs.settings.service.type.custom.solutions"),url:s.GS_CREATOR_URL},e.mappedServiceList[s.BOOKS]={hash:"zbooks",api_url_service_name:"Books",displayName:e.getI18NMsg("gs.search.service_books"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniBooksIcon",listview:!0,callout:"gsbooks",results:"gsbooksresults",id:"zgs20_gsBooksCallout",dH:e.getI18NMsg("gs.search.filter.organizations"),category:e.getI18NMsg("gs.settings.service.type.finance"),url:s.GS_BOOKS_URL},e.mappedServiceList[s.INVOICE]={hash:"zinvoice",api_url_service_name:"Invoice",displayName:e.getI18NMsg("gs.search.service_invoice"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniInvoiceIcon",listview:!0,callout:"gsbooks",results:"gsbooksresults",id:"zgs20_gsBooksCallout",dH:e.getI18NMsg("gs.search.filter.organizations"),category:e.getI18NMsg("gs.settings.service.type.finance"),url:s.GS_INVOICE_URL},e.mappedServiceList[s.INVENTORY]={hash:"zinventory",api_url_service_name:"Inventory",displayName:e.getI18NMsg("gs.search.service_inventory"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniInventoryIcon",listview:!0,callout:"gsbooks",results:"gsbooksresults",id:"zgs20_gsBooksCallout",dH:e.getI18NMsg("gs.search.filter.organizations"),category:e.getI18NMsg("gs.settings.service.type.finance"),url:s.GS_INVENTORY_URL},e.mappedServiceList[s.WEBSITE]={hash:"zwebsite",api_url_service_name:"Help Pages",displayName:e.getI18NMsg("gs.search.service_website"),is_multi_accounts:!1,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniWebsiteIcon",listview:!0,callout:"gswebsite",results:"gswebsiteresults",id:"zgs20_gsWebsiteCallout"},e.mappedServiceList[s.ORGRESOURCES]={hash:"orgresources",api_url_service_name:"ZIntranet",displayName:e.getI18NMsg("gs.search.service_connector"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniConnectorIcon",listview:!0,callout:"gsconnector",results:"gsconnectorresults",id:"zgs20_gsConnectorCallout",dH:e.getI18NMsg("gs.search.filter.organizations")},e.mappedServiceList[s.CAMPAIGNS]={hash:"campaigns",api_url_service_name:"Campaigns",displayName:e.getI18NMsg("gs.search.service_campaigns"),is_multi_accounts:!1,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniCampaignIcon",callout:"gscampaign",results:"gscampaignresults",listview:!0,id:"zgs20_gsCampaignCallout",dH:e.getI18NMsg("common.modules"),category:e.getI18NMsg("gs.settings.service.type.sales"),url:s.GS_CAMPAIGNS_URL},e.mappedServiceList[s.WORKDRIVE]={hash:"workdrive",api_url_service_name:"WorkDrive",displayName:e.getI18NMsg("gs.search.service_workdrive"),is_multi_accounts:!0,is_sorting_allowed:!0,serviceicon:"zgs18_gsUniWorkDriveIcon",callout:"gsworkdrive",results:"gsworkdriveresults",listview:!0,id:"zgs20_gsWorkDriveCallout",sort:"",category:e.getI18NMsg("gs.settings.service.type.email"),url:s.GS_WORKDRIVE_URL},e.mappedServiceList[s.CALENDAR]={hash:"calendar",api_url_service_name:"Calendar",displayName:e.getI18NMsg("gs.search.service_calendar"),is_multi_accounts:!1,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniCalendarsIcon",callout:"gscalendar",results:"gscalendarresults",listview:!0,id:"zgs20_gsCalendarCallout"},e.mappedServiceList[s.NOTEBOOK]={hash:"notebook",api_url_service_name:"Notebook",displayName:e.getI18NMsg("gs.search.service_notebook"),is_multi_accounts:!1,is_sorting_allowed:!0,serviceicon:"zgs18_gsUniNoteBookIcon",callout:"gsnotebook",results:"gsnotebookresults",listview:!0,id:"zgs20_gsNoteBookCallout",sort:"",category:e.getI18NMsg("gs.settings.service.type.email"),url:s.GS_NOTEBOOK_URL},e.mappedServiceList[s.BIGIN]={hash:"zbigin",api_url_service_name:"Bigin",displayName:e.getI18NMsg("gs.search.service_bigin"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniBiginIcon",callout:"gscrm",results:"gscrmresults",listview:!0,id:"zgs20_gsCRMCallout",dH:e.getI18NMsg("gs.search.filter.organizations"),category:e.getI18NMsg("gs.settings.service.type.sales"),url:s.GS_BIGIN_URL},e.mappedServiceList[s.PROJECTS]={hash:"projects",api_url_service_name:"Projects",displayName:e.getI18NMsg("gs.search.service_projects"),is_multi_accounts:!0,is_sorting_allowed:!0,serviceicon:"zgs18_gsUniProjectsIcon",callout:"",results:"",listview:!0,id:"zgs20_gsProjectsCallout",sort:"",dH:e.getI18NMsg("gs.search.filter.portals"),category:e.getI18NMsg("gs.settings.service.type.project"),url:s.GS_PROJECTS_URL,timezoneBased:!0},e.mappedServiceList[s.SALESIQ]={hash:"salesiq",api_url_service_name:"SalesIq",displayName:e.getI18NMsg("gs.salesiq.service_salesiq"),is_multi_accounts:!0,is_sorting_allowed:!0,serviceicon:"zgs18_gsUniSalesiqIcon",callout:"gssalesiqcallout",results:"gssalesiqresults",listview:!0,id:"zgs20_gsSalesIQCallout",dH:e.getI18NMsg("gs.search.filter.portals"),category:e.getI18NMsg("gs.settings.service.type.email"),timezoneBased:!0},e.mappedServiceList[s.DROPBOX]={hash:"dropbox",api_url_service_name:"Dropbox",displayName:e.getI18NMsg("gs.con.service.dropbox"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniDropboxIcon",callout:"",results:"",listview:!0,id:"zgs20_gsDocsCallout",dH:e.getI18NMsg("common.accounts"),category:e.getI18NMsg("gs.settings.service.type.file"),desc:e.getI18NMsg("gs.settings.service.dropbox.desc")},e.mappedServiceList[s.GOOGLEDRIVE]={hash:"gdrive",api_url_service_name:"Google Drive",displayName:e.getI18NMsg("gs.con.service.gdrive"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniGdriveIcon",callout:"",results:"",listview:!0,id:"zgs20_gsDocsCallout",dH:e.getI18NMsg("common.accounts"),category:e.getI18NMsg("gs.settings.service.type.file"),desc:e.getI18NMsg("gs.settings.service.gdrive.desc")},e.mappedServiceList[s.BOX]={hash:"box",api_url_service_name:"Box",displayName:e.getI18NMsg("gs.con.service.box"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniBoxIcon",callout:"",results:"",listview:!0,id:"zgs20_gsDocsCallout",dH:e.getI18NMsg("common.accounts"),category:e.getI18NMsg("gs.settings.service.type.file"),desc:e.getI18NMsg("gs.settings.service.box.desc")},e.mappedServiceList[s.SLACK]={hash:"slack",api_url_service_name:"Slack",displayName:e.getI18NMsg("gs.con.service.slack"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniSlackIcon",callout:"gsslack",results:"gsslackres",listview:!0,id:"zgs20_gsSlackCallout",dH:e.getI18NMsg("gs.search.filter.workspaces"),category:e.getI18NMsg("gs.settings.service.type.email"),desc:e.getI18NMsg("gs.settings.service.slack.desc")},e.mappedServiceList[s.SALESFORCE]={hash:"salesforce",api_url_service_name:"Salesforce",displayName:e.getI18NMsg("gs.con.service.salesforce"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniSFIcon",callout:"crm_services",results:"crm_services",listview:!0,id:"zgs20_gsCRMCallout",dH:e.getI18NMsg("common.accounts"),category:e.getI18NMsg("gs.settings.service.type.sales"),desc:e.getI18NMsg("gs.settings.service.sf.desc")},e.mappedServiceList[s.O365MAIL]={hash:"outlook",api_url_service_name:"Outlook",displayName:e.getI18NMsg("gs.con.service.outlook"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUnio365MailIcon",callout:"gso365mail",results:"gso365results",listview:!0,id:"zgs20_gsOutlookcallout",dH:e.getI18NMsg("common.accounts"),category:e.getI18NMsg("gs.settings.service.type.email"),desc:e.getI18NMsg("gs.settings.service.o365mail.desc")},e.mappedServiceList[s.ONEDRIVE]={hash:"onedrive",api_url_service_name:"OneDrive",displayName:e.getI18NMsg("gs.con.service.onedrive"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniOneDriveIcon",callout:"",results:"",listview:!0,id:"zgs20_gsDocsCallout",dH:e.getI18NMsg("common.accounts"),category:e.getI18NMsg("gs.settings.service.type.file"),desc:e.getI18NMsg("gs.settings.service.onedrive.desc")},e.mappedServiceList[s.ASANA]={hash:"asana",api_url_service_name:"Asana",displayName:e.getI18NMsg("gs.con.service.asana"),is_multi_accounts:!0,is_sorting_allowed:!0,sort:"",serviceicon:"zgs18_gsUniAsanaIcon",listview:!0,dH:e.getI18NMsg("common.accounts"),category:e.getI18NMsg("gs.settings.service.type.project"),desc:e.getI18NMsg("gs.settings.service.asana.desc")},e.mappedServiceList[s.EVERNOTE]={hash:"evernote",api_url_service_name:"Evernote",displayName:e.getI18NMsg("gs.con.service.evernote"),is_multi_accounts:!0,is_sorting_allowed:!0,sort:"",results:"gsevernoteres",serviceicon:"zgs18_gsUniEvernoteIcon",id:"zgs20_gsEvernoteCallout",listview:!0,dH:e.getI18NMsg("common.accounts"),category:e.getI18NMsg("gs.settings.service.type.notesTaking"),desc:e.getI18NMsg("gs.settings.service.evernote.desc")},e.mappedServiceList[s.GMAIL]={hash:"gmail",api_url_service_name:"Gmail",displayName:e.getI18NMsg("gs.con.service.gmail"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniGmailIcon",callout:"gsgmail",results:"gsgmailresults",listview:!0,id:"zgs20_gsGmailCallout",dH:e.getI18NMsg("common.accounts"),category:e.getI18NMsg("gs.settings.service.type.email"),desc:e.getI18NMsg("gs.settings.service.gmail.desc")},e.mappedServiceList[s.ZENDESK]={hash:"zendesk",api_url_service_name:"Zendesk",displayName:e.getI18NMsg("gs.con.service.zendesk"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniZendeskIcon",callout:"gszendesk",results:"gszendeskresults",listview:!0,id:"zgs20_gsZendeskCallout",dH:e.getI18NMsg("common.accounts"),category:e.getI18NMsg("gs.settings.service.type.itdesk"),desc:e.getI18NMsg("gs.settings.service.zendesk.desc")},e.httptxt="http",e.httpstxt="https",e.handlebarDependentService=[e.GSConstant.EVERNOTE,e.GSConstant.BOX,e.GSConstant.DROPBOX,e.GSConstant.GOOGLEDRIVE,e.GSConstant.ONEDRIVE,e.GSConstant.SALESFORCE,e.GSConstant.ASANA,e.GSConstant.PROJECTS],e.multiModServices=[e.GSConstant.SALESFORCE,e.GSConstant.ASANA,e.GSConstant.EVERNOTE],e.multiModSupportedServices=[e.GSConstant.SALESFORCE,e.GSConstant.ASANA,e.GSConstant.CAMPAIGNS],e.addToWdSupportedServices=[e.GSConstant.BOX,e.GSConstant.DROPBOX,e.GSConstant.GOOGLEDRIVE,e.GSConstant.ONEDRIVE,e.GSConstant.ASANA,e.GSConstant.O365MAIL],e.mailModuleVsDispName={mails:e.getI18NMsg("gs.search.service_mails"),streams:e.getI18NMsg("common.streams")},e.originServiceVsSubService={},e.originServiceVsSubService[s.MAILS]=s.STREAMS,e.configured_mail_module=e.configured_mail_module||[],e.account_based_filter_service_list=e.account_based_filter_service_list||[],e.cursorSupportedCloudServices=[s.DROPBOX,s.GOOGLEDRIVE,s.SLACK,s.O365MAIL,s.ONEDRIVE,s.GMAIL,s.ZENDESK],e.IFRAME="iframe",e.ZIP="zip",e.FILE="file",e.FOLDER="folder",e.updateActionsURL="/zgssearch/gsserviceaction",e.getMetaData="/zgssearch/v4/getmetadata",e.servicesListURL=e.getMetaData+"?action=fetchserviceslist",e.initialdataURL=e.getMetaData+"?action=fetchinitialdata",e.widgetURL=e.getMetaData+"?action=fetchwidgetdata",e.accBgClass=["zgs19_gsE6F5FFCol","zgs19_gsFFF9E6Col","zgs19_gsF2F2F2Col","zgs19_gsE6FFE6Col"],e.GET="GET",e.POST="POST",e.DELETE="DELETE",e.GSConstant.accessible_cloud_apps=[s.GOOGLEDRIVE,s.BOX,s.DROPBOX,s.SLACK,s.O365MAIL,s.ONEDRIVE,s.SALESFORCE,s.ASANA,s.GMAIL,s.EVERNOTE,s.ZENDESK].sort(),e.account_id="account_id",e.entity_id="entity_id",e.module_id="module",e.allModules="all",e.workspaceRelatedFilters=["projects","tags"]}(zgssearch),function(e,s){s._jQueryGS;var t=e.getGSConstantObj()||{};e.allServiceList=e.allServiceList||[],e.hasOwnProperty("gscomponent")&&(e.isGSOpenedInServiceSuiteApp=e.gscomponent.isServiceSuite&&(e.gscomponent.hasOwnProperty("actionHandler")||e.gscomponent.hasOwnProperty("previewHandler")),e.gscomponent.isPreviewHandlerEnabledInSuiteApp=e.gscomponent.isServiceSuite&&e.gscomponent.hasOwnProperty("previewHandler"),e.gscomponent.isActionHandlerEnabledInSuiteApp=e.gscomponent.isServiceSuite&&e.gscomponent.hasOwnProperty("actionHandler")),e.eventStats="/zgssearch/gsevent",e.cursor_supported_services=[t.DROPBOX,t.GOOGLEDRIVE,t.SLACK,t.O365MAIL,t.ONEDRIVE,t.GMAIL,t.ZENDESK],e.LINE_ICON_MAP={zgs18_gsUniLearnIcon:3,zgs18_gsHPVideotime:2,zgs18_leg_filtericon:2,zgs18_leg_searchicon:3,zgs18_leg_ssicon:5,zgs18_leg_cardicon:5,zgs18_leg_dashboardicon:8,zgs18_leg_settingsicon:2,zgs18_gsUniAllIcon:4,zgs18_gsAppsIcon:4,zgs18_gsUniConnectIcon:4,zgs18_gsUniDocsIcon:3,zgs18_gsUniPeopleIcon:10,zgs18_gsUniPerIcon:5,zgs18_gsUniOrgIcon:6,zgs18_gsUniMailsIcon:2,zgs18_gsUniNoteBookIcon:6,zgs18_gsUniCreatorIcon:2,zgs18_gsUniWebsiteIcon:2,zgs18_gsUniCampaignIcon:2,zgs18_gsUniChatIcon:2,zgs18_gsUniProjectsIcon:9,zgs18_wone:7,zgs18_wmarketplace:3,zgs18_wofficeintegrator:5,zgs18_wbugtracker:10,zgs18_wsign:5,zgs18_wpayroll:4,zgs18_wmail:2,zgs18_wcliq:2,zgs18_wchat:2,zgs18_wconnect:6,zgs18_wcampaigns:2,zgs18_wmotivator:8,zgs18_wsocial:9,zgs18_wsurvey:8,zgs18_wbugTracker:10,zgs18_wprojects:9,zgs18_wassist:3,zgs18_wpeople:10,zgs18_wcreator:2,zgs18_wdeveloper:9,zgs18_wcalendar:9,zgs18_wnotebook:6,zgs18_wsites:6,zgs18_wsprints:3,zgs18_wvault:7,zgs18_wpagesense:8,zgs18_winventory:4,zgs18_worchestly:2,zgs18_wcatalyst:2,zgs18_wbookings:3,zgs18_wmarketinghub:5,zgs18_wlens:5,zgs18_wsite24x7:3,zgs18_wdocs:3,zgs18_wflow:2,zgs18_wcheckout:5,zgs18_analytics_table:12,zgs18_analytics_report:18,zgs18_analytics_analysisview:4,zgs18_analytics_summaryview:4,zgs18_analytics_pivot:2,zgs18_analytics_querytable:3,zgs18_analytics_dashboard:8,zgs18_gsSuppRequestIcon:7,zgs18_gsSuppSolutionIcon:5,zgs18_gsSuppAccountIcon:6,zgs18_gsSuppContactIcon:2,zgs18_gsUniEvernoteIcon:3,zgs18_gsPlusCircle:4,"zgs18_tourbus-done":12,zgs18_gsUniInventoryIcon:4,zgs18_gsInformationIcon:4,zgs18_gsErrorIcon:3,zgs18_gsExpandpanel:4,zgs18_gsQuickAddBtn:2,zgs18_gsMagicWandIcon:7,zgs18_gsAutoDbcollaboration:8,zgs18_gsRoadBlock:14,zgs18_gsErrorMsgIcon:5,zgs18_gsTickMark:2,zgs18_gsDarkMode:7,zgs18_gsLightMode:7,zgs18_gsNightMode:7,zgs18_cloudNoRequestData:6,zgs18_gsShareIcon:2},e.SERVICES_CRM=[e.GSConstant.CRM,e.GSConstant.SALESFORCE],e.SERVICES_MAIL=[e.GSConstant.MAILS,e.GSConstant.O365MAIL],e.SERVICES_STORAGE=[e.GSConstant.BOX,e.GSConstant.DROPBOX,e.GSConstant.GOOGLEDRIVE,e.GSConstant.ONEDRIVE],e.SERVICES_PROJECT=[e.GSConstant.PROJECTS,e.GSConstant.ASANA],e.SERVICES_NOTES=[e.GSConstant.EVERNOTE],e.specialkeys={BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,CUT:88},e.originParam=e.isExtension?"":"frameorigin="+s.location.origin,e.origins=s.location.origin,e.isCliqDomain=e.isCliqDomain||!(!e.hasWebMessanger||!WebMessanger.isCliqDomain)&&WebMessanger.isCliqDomain(),e.hasWmsResource=e.hasWmsResource||"undefined"!=typeof WmsResource,e.pcEnabledSer=[e.GSConstant.MAILS,e.GSConstant.CONNECT,e.GSConstant.CLIQ,e.GSConstant.WORKDRIVE,e.GSConstant.PEOPLE,e.GSConstant.SUPPORT,e.GSConstant.WIKI],e.fetchActionsURL="/zgssearch/gsservicedata",e.nps="&nps=202",e.workdriveServices=["zohosheet","zohoshow","writer","docs","spreadsheet","presentation","image","pdf","video","audio","file","folder"],e.campaigns_version=e.campaigns_version||{},e.docIdsVsEncryptedIds=e.docIdsVsEncryptedIds||{},e.entityTypeTitleMap={1:{title:e.getI18NMsg("common.email"),hasText:e.getI18NMsg("gs.search.filter.hasemails"),notitle:"("+e.getI18NMsg("gs.search.result.mail.subject")+")"},2:{title:e.getI18NMsg("gs.search.filter.notes"),hasText:e.getI18NMsg("gs.search.filter.hasnotes"),notitle:"("+e.getI18NMsg("gs.search.service_connect.callout.noTitle")+")"},3:{title:e.getI18NMsg("gs.search.service_connect.task"),hasText:e.getI18NMsg("gs.search.filter.hastasks"),notitle:"("+e.getI18NMsg("gs.search.service_connect.callout.noTitle")+")"},4:{title:e.getI18NMsg("gs.search.filter.events"),hasText:e.getI18NMsg("gs.search.filter.hasevents"),notitle:"("+e.getI18NMsg("gs.search.service_connect.callout.noTitle")+")"},6:{title:e.getI18NMsg("common.message"),hasText:e.getI18NMsg("gs.search.filter.haspostmesseges"),notitle:"("+e.getI18NMsg("gs.search.service_connect.callout.noTitle")+")"},10:{title:e.getI18NMsg("gs.search.filter.bookmarks"),hasText:e.getI18NMsg("gs.search.filter.haspostmesseges"),notitle:"("+e.getI18NMsg("gs.search.service_connect.callout.noTitle")+")"}},e.previewIframeOnlyServ=[e.GSConstant.PROJECTS,e.GSConstant.CONNECT,e.GSConstant.LEARN],e.EXCLUDED_CONNECT_POSTTYPE=["EVENT","MEETING_EVENT","ZOHOSURVEY","ZOHOCONFERENCE","CAMPAIGN","BROADCAST","BADGE_REWARD","SCHEDULED_CONF","SHOWTIME_EVENT","FILE_FEED","BULKFILE_FEED","MANUAL","VIDEOCONF","USER_ONBOARDING","BOT_BIRTHDAY","BOT_WORK_ANNIVERSARY"]}(zgssearch,window),function(z,n){var c=n._jQueryGS;z.removeLocalStorageVal=function(){z.deleteLocalStorageValue("zs_connector_configure_code"),z.deleteLocalStorageValue("zs_service_id"),z.deleteLocalStorageValue("zs_connector_id"),z.deleteLocalStorageValue("zs_connector_name"),z.deleteLocalStorageValue("zs_error_message"),z.deleteLocalStorageValue("zsoid")},z.showManageAppPopUp=function(){var e;null!=z.gsusersettings.servicesArrayList&&0!=z.gsusersettings.servicesArrayList.length||(e=z.getAllServiceListFromWidget(),z.gsusersettings.storeServicesListInfo(e)),document.getElementById("zgs20_manageApps")||(e=z.manageApps(),c("#zgs20_gsResultsHolder").append(e),z.gssettingsapptab.enabledServicesList=z.getEnabledServiceList()),c("#zgs20_manageApps").css("display","block"),z.isManageAppPopUpOpened=!0,c("#zgs20_gsSettingsHolder").removeClass("zgs19_gsDisplayNone")},z.openWindowForAuthWithTimer=function(e,t,a,s){z.removeLocalStorageVal();var r=z.getAuthenticationTabFeatures();(s||n).open("/zgssearch/cloudconnector/TPAuthentication?action=redirect&connector_auth_url="+encodeURIComponent(e),"connector_auth",r);var o=(new Date).getTime(),i=setInterval(function(){var e,s;1e5<(new Date).getTime()-o?clearInterval(i):(e=z.getLocalStorageValue("zs_connector_id"),s=z.getLocalStorageValue("zs_connector_configure_code"),(e||s)&&(clearInterval(i),t==z.GSConstant.ASANA?z.gssettingsapptab.service_modules.displayServiceAuthenticationPage(t,a):(t==z.GSConstant.SALESFORCE&&z.gssettingsapptab.crm_modules.enableDefaultModules(t),z.auth_complete(t,a,"","","",i))))},500)},z.openWindowForAuth=function(e,s){z.removeLocalStorageVal();var t=z.getAuthenticationTabFeatures(),a=s.open("../TPAuthentication?connector_auth_url="+encodeURIComponent(e),"connector_auth",t),r=setInterval(function(){a.closed&&(clearInterval(r),z.auth_complete())},500)},z.getAuthenticationTabFeatures=function(){let e="";var s,t;return z.uiServiceProperties.hasOwnProperty("authenticateInPopupWindow")&&z.uiServiceProperties.authenticateInPopupWindow&&(s=screen.height/2-350,t=screen.width/2-325,e="width=650,height=700,top="+s+",left="+t+",scrollbars=no,resizable=no"),e},z.auth_complete=function(e,s,t,a,r,o){var i,n,l=z.getLocalStorageValue("zs_connector_configure_code");l&&null!==l&&(clearInterval(o),i=z.getLocalStorageValue("zs_connector_name"),n=z.getLocalStorageValue("zs_connector_id"),o=z.getLocalStorageValue("zsoid"),z.removeLocalStorageVal(),n={ACC_ID:o,ACC_NAME:i,ADDED_TIME:z.Utils.getUIDisplayTime(new Date),APP_ID:z.GSConstant.cloud_app_id,CONNECTOR_ID:n,UPDATED_TIME:-1},z.connectors.handleConnectorAuthResponse(i,e,l,s,a,n))},z.updateLatestDataInWidget=function(e,s,t,a,r,o,i,n,l,g){var c=z.gssettingsapptab.getStoredApplicationData(e),d=!!(e!=z.GSConstant.ASANA||o&&0!=o.length),p=c.aD||{},u=c.all||[],h=c.e||d,_=void 0!==g&&-1==c.s?g:c.s,m=c.eO||[],g={};g.e=d,g.n=t,g.added_time=z.Utils.getUIDisplayTime(new Date),(e==z.GSConstant.O365MAIL||e==z.GSConstant.SALESFORCE||e==z.GSConstant.ASANA||e==z.GSConstant.EVERNOTE)&&o&&0<o.length?p[s]={e:!0,n:t,added_time:z.Utils.getUIDisplayTime(new Date),modules:o,app_id:l}:p[s]={e:n,n:t,added_time:z.Utils.getUIDisplayTime(new Date),app_id:l},c.aD=p,c.all=u,c.e=h,c.s=_,c.eO=m,z.gssettingsapptab.storeApplicationData(e,c),z.connectors.handleConnectorAuthResponse(t,e,a,r,i)},z.reloadAppData=function(s,e,t){var a=z.getFourDotLoader("zgs20_gsSettingprevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsConnectorprevLoader zgs19_gsDisplayNone");c("#zgs20_gsServiceAccountsBlock").empty().append(a);var r,o=z.gssettingsapptab.getStoredApplicationData(s);o.hasOwnProperty("all")&&(r=o.hasOwnProperty("all")?o.all:"",a=o.hasOwnProperty("aD")?o.aD:"",(i=z.getLocalStorageValue("zs_connector_id"))&&void 0===a[i]&&(r.push(i),a[i]={e:!0,n:e}),z.deleteLocalStorageValue("zs_connector_id")),z.gssettingsapptab.getCurrentSelectedService()===s&&(c("#zgs20_gsSettingprevLoader").css("display","block"),setTimeout(function(){c("#zgs20_gsSettingprevLoader").css("display","none"),z.gssettingsapptab.setCurrentSelectedService(s),z.connectors.loadConnectorAccounts(s,t);var e=z.gssettingsapptab.getStoredApplicationData(s);(1===(e.all?e.all.length:0)||s==z.GSConstant.ASANA&&!c("#"+s+"_enable").prop("checked"))&&e.e&&(c("#"+s+"_enable_detailview").prop("checked","checked"),c("#zgs20_gsAppBlock").find(".zgs19_enableContainer").removeClass("zgs19_gsHideEleme"),c("#"+s+"_enable").prop("checked","checked"),z.gssettingsapptab.serviceEnablingActions(s))},500));var i=z.GSConstant.widgetObject||{},e=i.servicesinfo||{},n=(e[s]=o).eO||[];if(n.length<1){for(var l=o.all.length,g=0;g<l;g++)n.push(o.all[g]);o.eO=n,e[s]=o}i.servicesinfo=e,z.GSConstant.widgetObject=i,z.loadWidgetList(z.GSConstant.widgetObject)},z.constructDiv=function(e,s,t,a,r){var o,t=t||"zgs20_globalsearch",s=c("<div>",{id:e,class:s});for(o in a?c("#"+t).append(s):c("#"+t).prepend(s),r)c("#"+e).css(o,r[o])},z.hideDelAccOrderOverlay=function(){c(".zgs19_gsDelAccOrderDialog").remove(),c(".zgs19_gsServiceOrderOverlay").remove()}}(zgssearch,window),zgssearch.API=zgssearch.API||{},zgssearch.API.METADATA_V4="/zgssearch/v4/getmetadata",zgssearch.API.SERVICE_ACTIONS="/zgssearch/v4/records/",zgssearch.API.DASHBOARD={SEARCH:"/zgssearch/v4/dashboard/search",AUTO_GENERATE:"/zgssearch/v1/dashboard/auto",EXPORT:"/zgssearch/v1/dashboard/export",IMPORT:"/zgssearch/v1/dashboard/import",SAVE_IMPORT:"/zgssearch/v1/dashboard/import/save",DISCARD_IMPORT:"/zgssearch/v1/dashboard/import/discard",ON_THE_FLY:"/zgssearch/v1/dashboard/onthefly",TEMPLATE:"/zgssearch/v1/dashboard/template",SAVE_ONTHEFLY:"/zgssearch/v1/dashboard/onthefly/save",DISCARD_ONTHEFLY:"/zgssearch/v1/dashboard/onthefly/discard",PERMALINK:"/zgssearch/v1/dashboard/permalink",SHARE:"/zgssearch/v1/dashboard/share/",ONTHEFLY_USERINFO:"/zgssearch/v1/dashboard/onthefly/userInfo"},zgssearch.gsZiaProperties=function(e){this.propertiesObj={},this.setProperty=function(e){for(key in e)this.propertiesObj[key]=e[key]},this.getProperty=function(e){return this.propertiesObj[e]},this.isPropertyNeeded=function(e){return this.propertiesObj[e]||!1},this.setDefaultProperties=function(){this.propertiesObj={isTopBandNeeded:!0,isTopBandIntegIcon:!0,isTopBandSettingsIcon:!0,isLeftBandNeeded:!0,isHomePageNeeded:!0,isSearchNeeded:!0,isCardsNeeded:!0,isDashboardNeeded:!0,isTracerNeeded:!0,isQuickActionsOptionNeeded:!0,isSettingsNeeded:!0,allowExpandForCategoryTab:!0,profile_newFeatureSet:!0,profile_MobileSupport:!0,profile_isDarkMode:!0,isWMSneeded:!0,windowOrigin:window.location.origin,isPushStateNeeded:!0,isServiceRestrictionEnabled:!1,isMobileViewPortCallbackNeeded:!0,viewport:""}},this.setDefaultProperties(),this.setProperty(e),this.getPropertiesObj=function(){return this.propertiesObj}},zgssearch.featureNameConst={DASHBOARDS:"dashboards",CARDS:"cards"},zgssearch.featureNameMapping={[zgssearch.featureNameConst.DASHBOARDS]:"dashboards",[zgssearch.featureNameConst.CARDS]:"cards",settings:"gssettings"},zgssearch.curUserfeaturesData={},zgssearch.curUserfeatures={},zgssearch.globalinit=function(e,s){var t;s&&(0<e.length&&zgssearch.setFeatureObjForUser(e,s),t=new Promise(function(e,s){zgssearch.getMetaDetails(e,s)}),e=new Promise(function(e,s){zgssearch.setPropertiesAndConstants(e,s)}),Promise.all([t,e]).then(function(){zgssearch.featuresInit(s)},function(){}))},zgssearch.setFeatureObjForUser=function(e,s){var t=s.hasOwnProperty("viewport")?s.viewport:"";zgssearch.curUserfeatures[t]=e;for(var a=0;a<e.length;a++)zgssearch.curUserfeaturesData[e[a]+"_"+t]=zgssearch.getFeatureObj(e[a],t)},zgssearch.getFeatureObj=function(e,s){switch(e){case zgssearch.featureNameConst.DASHBOARDS:case zgssearch.featureNameConst.CARDS:return{permission:"Edit",theme:"none",viewportID:""}}},zgssearch.createFeatureInstance=function(e,s,t){zgssearch[s]=new zgssearch[zgssearch.featureNameMapping[e]](t)},zgssearch.featurePermission={},zgssearch.setPermissionObject=function(e,s,t){zgssearch.curUserfeaturesData.push({feature:{permission:s,viewportID:t}}),zgssearch.featurePermission[e]=s},zgssearch.getPermissionObject=function(){return zgssearch.featurePermission},zgssearch.featuresInit=function(e){for(var s=e.hasOwnProperty("viewport")?e.viewport:"",t=zgssearch.curUserfeatures.hasOwnProperty(s)?zgssearch.curUserfeatures[s]:[],a=0;a<t.length;a++){var r=t[a];zgssearch.createFeatureInstance(r,"embed_"+r,e)}},zgssearch.getMetaDetails=function(e,s){var t=new Promise(function(s,t){var e={callback:zgssearch.dataProcess.initialUserMetaDataProcess,action:"fetchinitialdata",callback:function(e){zgssearch.dataProcess.initialUserMetaDataProcess(s,t,e)}};zgssearch.request.get(e,zgssearch.API.METADATA_V4,!1)}),a=new Promise(function(s,t){var e={callback:zgssearch.dataProcess.initialUserMetaDataProcess,action:"fetchwidgetdata",usd:!0};e.bdate=GSConstant.BUILD_DATE,e.callback=function(e){zgssearch.dataProcess.userWidgetDataProcess(s,t,e)},zgssearch.request.get(e,zgssearch.API.METADATA_V4,!1)}),r=new Promise(function(s,t){var e={action:"fetchserviceslist",callback:function(e){zgssearch.dataProcess.servicesMetaDataProcess(s,t,e)}};zgssearch.request.get(e,zgssearch.API.METADATA_V4,!1)});Promise.all([t,a,r]).then(function(){e(!0)},function(){s(!0)})},zgssearch.setPropertiesAndConstants=function(e,s){e(!0)},zgssearch.dataProcess=zgssearch.dataProcess||{},zgssearch.dataProcess.initialUserMetaDataProcess=function(e,s,t){var a=t.gsConstant;t.hasOwnProperty("gsConstant")&&(zgssearch.isDashboardEnabled=!(gscomponent.hasOwnProperty("pcode")&&"ZO"==gscomponent.pcode||gscomponent.hasOwnProperty("isServiceSuite")&&gscomponent.isServiceSuite||zgssearch.isExtension)&&(!!a.hasOwnProperty("dashboard")&&a.dashboard),zgssearch.setGSConstantObj(a),zgssearch.hasOwnProperty("gsusercontacts")&&(zgssearch.gsusercontacts.fetContactsCount=a.hasOwnProperty("getContactsLimit")?a.getContactsLimit:50,zgssearch.gsusercontacts.clientSearchLimit=a.hasOwnProperty("clientAutoSuggLimit")?a.clientAutoSuggLimit:10,zgssearch.gsusercontacts.isEmailOnlyResult=!!a.hasOwnProperty("emailOnlyResult")&&a.emailOnlyResult)),zgssearch.isTabModelCSSFileLoaded||zgssearch.loadNewUICSS(),t.hasOwnProperty("settings")&&(zgssearch.applyUserThemeAndMode(t),zgssearch.loadFeatureCarouselComponent(t.settings)),zgssearch.GSConstant.nlpSearchEnabled=zgssearch.GSConstant.hasOwnProperty("nlp_enabled"),zgssearch.isDashboardEnabled&&(zgssearch.cardAutoRefreshTime=zgssearch.GSConstant.cardAutoRefreshTime||18e4,zgssearch.GSConstant.cardsLimitInDB=zgssearch.GSConstant.cardsLimitInDB||30,zgssearch.includes("cards",zgssearch.gsautocomplete.querymodifiers)||zgssearch.gsautocomplete.querymodifiers.splice(2,0,"cards"),zgssearch.includes("dashboard",zgssearch.gsautocomplete.querymodifiers)||zgssearch.gsautocomplete.querymodifiers.splice(3,0,"dashboard"),zgssearch.dashboardEventListeners()),zgssearch.hasOwnProperty("sendGSOpenedStats")&&zgssearch.sendGSOpenedStats(),e(!0)},zgssearch.dataProcess.userWidgetDataProcess=function(e,s,t){var a=zgssearch.jsonParse(t);zgssearch.isWidgetCallWaitNeeded=zgssearch.isWidgetCallWaitNeeded&&!1;var r={};a.hasOwnProperty("gsConstant")&&(r=a.gsConstant,zgssearch.setGSConstantObj(r),r&&!_jQueryGS.isEmptyObject(r)&&(zgssearch.isAllGSConstantsSet=!0)),a.hasOwnProperty("widget")&&(t=a.widget,zgssearch.GSConstant.widgetObject=t,zgssearch.loadWidgetList(t),r=zgssearch.getEnabledServiceList(),a=zgssearch.getAccessibleServiceList(),0<r.length&&0<!a.length&&zgssearch.setAccessibleServiceList(r),r=zgssearch.getConstAllServList()||[],t.allserviceslist&&0<!r.length&&zgssearch.setConstAllServList(t.allserviceslist),"ZO"!=(t=zgssearch.gscomponent.pcode)&&"SS"!=t&&"ZW"!=t&&zgssearch.updateAndRenderServicelistWithLatestWidgetData(),zgssearch.fetchAdditionlInfo()),zgssearch.hasOwnProperty("fetchTopContacts")&&zgssearch.fetchTopContacts(),e(!0)},zgssearch.dataProcess.servicesMetaDataProcess=function(e,s,t){var a=zgssearch.jsonParse(t);a.hasOwnProperty("enabledserviceslist")&&(t=zgssearch.getEnabledServiceList()||[],zgssearch.setAccessibleServiceList(a.enabledserviceslist),zgssearch.setEnabledServiceList(a.enabledserviceslist),zgssearch.storeServiceList(t,"serviceList"),zgssearch.storeServiceList(t,"orderedServiceList")),a.hasOwnProperty("allserviceslist")&&zgssearch.setConstAllServList(a.allserviceslist),zgssearch.preLoadComponentForServices(),e(!0)},zgssearch.request={},zgssearch.request={ajax:function(e,s){var t,a;return zgssearch.httpReqObject&&zgssearch.abortXMLHTTPReq(zgssearch.httpReqObject),(e.type||zgssearch.GET)===zgssearch.POST&&(t=e.data,a=zgssearch.security.csrfParam.get()+"="+zgssearch.security.csrfToken.get(),e.data=t?t+"&"+a:a),_jQueryGS.ajax(e)},convertToParams:function(e){var s,t="";for(s in e)"callback"!==s&&"error"!==s&&(t+=(t?"&":"")+(s+"="+e[s]));return t},setUrlObj:function(e,s,t){var a=t&&""!==t?t:"",r=zgssearch.request.convertToParams(s),t={};return t.url=a,t.type=e,t.dataType="text",t.data=r,t.success=function(e){e=JSON.parse(e),s.callback&&s.callback(e)},t.error=function(e){s.error&&s.error(e)},t},get:function(s,e,t){e=zgssearch.request.setUrlObj(zgssearch.GET,s,e);e.error=function(e){s.error&&s.error(e)},zgssearch.request.initiateAjaxCall(t,e)},post:function(t,e,s){e=zgssearch.request.setUrlObj(zgssearch.POST,t,e);e.error=function(e){var s=e.responseText,e=s;try{e=JSON.parse(s)}catch(e){}s=e;e&&e.response&&(s=e.response),t.error&&t.error(s)},zgssearch.request.initiateAjaxCall(s,e)},initiateAjaxCall:function(e,s){e?zgssearch.httpReqObject=zgssearch.request.ajax(s):zgssearch.request.ajax(s)}},function(e){var n=e.document,s=function(o){(o=e.zgssearch||{}).GSConstant=o.GSConstant||{};var i=o.gscomponent||{};return o.rpxmlhttp=o.rpxmlhttp||"",o.GSConstant.GS_APPS="Apps",o.relatedProductURL="/zgssearch/gsrelatedproducts?",o.rpUIConfig=o.hasOwnProperty("rpUIConfig")?o.rpUIConfig:[],o.rpUIConfig.shownAllFetchedAppsInResults=!1,o.rpUIConfig.showAllFetchedAppsInResults=!1,o.rpUIConfig.isRPSearchCallActive=!1,o.rpUIConfig.resultData={},o.rpUIConfig.startAutoSuggestRPCount=0,o.rpUIConfig.fetchResCount=70,o.rpUIConfig.isShowMoreCall=!1,o.rpUIConfig.currCallType="",o.rpUIConfig.query="",o.rpUIConfig.searchedQuery="",o.rpUIConfig.onholdQuery="",o.rpUIConfig.callEntries={},o.rpUIConfig.renderedResCount=0,o.rpUIConfig.iconIncludedApps=o.rpUIConfig.hasOwnProperty("iconIncludedApps")?o.rpUIConfig.iconIncludedApps:[],o.rpUIConfig.appVsUrl=o.rpUIConfig.hasOwnProperty("appVsUrl")?o.rpUIConfig.appVsUrl:{},o.setShowAppsResMin=function(e){if(1===i.UIType||4===i.UIType){var s=Math.floor(_jQueryGS("#zgs20_gsSearchResultMiddle").width()/70);if("resize"===e){if(null!==n.getElementById("zgs20_gsAppsResults")&&!o.rpUIConfig.shownAllFetchedAppsInResults){e=o.rpUIConfig.renderedResCount;if(s<e&&null!==n.getElementById("zgs20_gsAppsResults").offsetParent)for(var t=n.getElementById("zgs20_gsAppsResults").getElementsByClassName("zgs19_gsAppsRes"),a=--e;s<=a;a--){var r=t[a];r.parentNode.removeChild(r),o.rpUIConfig.renderedResCount--}else o.rpUIConfig.showAppsResMin=s-e,o.renderRelatedProductResults(!1)}}else o.rpUIConfig.showAppsResMin=s,o.rpUIConfig.showAppsResMax=2*s}else o.rpUIConfig.showAppsResMin=6,o.rpUIConfig.showAppsResMax=12},o.getRelatedProductResults=function(e){o.network.xmlHttpReq("GET",e,!0,function(e){e?o.onSuccessRelatedProducts(e.response):o.toggleResultsRelatedProducts()})},o.canSearchRelatedProducts=function(){var e=o.getQueryText();return 0<(e.trim()?encodeURIComponent(e):"").length},o.getRelatedProducts=function(e){var s,t=o.getSearchType();0<o.rpUIConfig.iconIncludedApps.length&&t===o.GSConstant.ALL&&(t=(s=o.getQueryText()).trim()?encodeURIComponent(s):"",o.canSearchRelatedProducts()&&!o.rpUIConfig.isRPSearchCallActive?(o.rpUIConfig.currCallType=void 0!==e?e:"",e="autosuggest"!==o.rpUIConfig.currCallType,e=(o.rpUIConfig.isRPSearchCallActive=e)?o.rpUIConfig.start||0:o.rpUIConfig.startAutoSuggestRPCount,o.rpUIConfig.searchedQuery=s,e=o.relatedProductURL+"is_zs=true&query="+t+"&site_name=zoho&type=2&start="+e+"&no_of_results="+o.rpUIConfig.fetchResCount+"&__T="+(new Date).getTime(),o.getRelatedProductResults(e)):o.toggleResultsRelatedProducts())},o.resetRelatedProducts=function(){o.rpUIConfig.resultData={},o.rpUIConfig.callEntries={},o.rpUIConfig.start=0,o.rpUIConfig.totalcount=0,o.rpUIConfig.length=0,o.rpUIConfig.renderedResCount=0,o.rpUIConfig.shownAllFetchedAppsInResults=!1;var e=n.getElementById("zgs20_gsAppsResults");void 0!==e&&null!=e&&(e.innerHTML=""),o.setShowAppsResMin()},o.getSearchResultsForRelatedProducts=function(e){o.rpUIConfig.isShowMoreCall=void 0!==e,o.rpUIConfig.isShowMoreCall||o.resetRelatedProducts(),o.getRelatedProducts(e)},o}(void 0);e.zgssearch=s}(window),function(P,a){var v=a._jQueryGS;P.searchbox=P.searchbox||{};var w=P.searchbox;w.spanLeftSpacing=2,w.spanRightSpacing=2,P.getAllQueryText=function(){return v("#zgs20_gsQueryBox").val()||""},P.getQueryText=function(e){for(var s=(i=e||P.getAllQueryText()).length,t=v(".zgs19_gsSpanBoxElement"),a=0;a<t.length;a++)var r=P.getSpanText(t[a]),o=i.indexOf(r),i=i.substring(0,o).trim()+" "+i.substring(o+r.length,s).trim();return i.trim()},P.getSpanText=function(e){return v(e).text()},P.emptySearchBoxValues=function(){v("#zgs20_gsQueryBox").val(""),v("#zgs20_gsQuerySpanBox").empty()},P.getQueryOrder=function(){var e,s=v("#zgs20_gsusersSpanEleme"),t=v("#zgs20_gsservicesSpanEleme"),a=[],r="",o="",i="",n=P.getAllQueryText();return 0<t.length&&(n=n.replace(P.getSpanText(t),"").trim()),0<s.length?(e=s.attr("ZUID"),t=s.attr("EMAILID"),e&&-1!=e?r={men_user_zuid:e}:t&&(r={men_user_email:t}),t=P.getSpanText(s),s=n.indexOf(t),o=(o=n.substring(0,s))?o.trim():"",i=(i=n.substring(s+t.length))?i.trim():""):o=n,o&&a.push({query:o}),r&&a.push(r),i&&a.push({query:i}),a},P.updateQueryDiv=function(){var e;(0<(P.getAccessibleServiceList()||[]).length||GSConstant.hasOwnProperty("widgetObject"))&&(e=P.getAllQueryText(),P.gsautocomplete.hasOwnProperty("setAutoSuggestAppsData")&&P.gsautocomplete.setAutoSuggestAppsData(),P.removeQuerySugg(),P.updateSearchBox(e),P.updatesuggtext())},P.updateSearchBox=function(e,s){var t=P.getCursorPositionForSearchBox(),a=e[t];if(!a||" "==a){var r=e.substr(0,t);P.gsautocomplete.asMatchedObj=[];for(var o=P.getAvailableQueryFilters(),i=P.gsautocomplete.getAvailableQueryModifiers(),n=!1,l=i.length,g=0;g<l;g++){var c=i[g],d=""!=(C=P.gsautocomplete.modifiers[c].symbol)?r.lastIndexOf(C):-1;if(P.isQueryValid(r)&&-1<d&&!o.includes(c))if(0==d||" "==r[d-1]){var p=r.substr(0,d-1),u=r.substr(d,t),h=(f=P.gsautocomplete.findMatchedData(c,u)).length;if(0<h){var n=!0,_={key:c,value:C,matches:f,pquery:u,squery:p,length:h,max:P.gsautocomplete.modifiers[c].asMax,start:0};P.gsautocomplete.asMatchedObj.push(_),P.gsautocomplete.renderAutoSuggList(_);break}}}var a=w.getLastIndexOfFilters(t),m=r.substr(a,t).trimStart();if(!n){for(var z=[],v=0;v<l;v++){var f,c=i[v],C=P.gsautocomplete.modifiers[c].symbol,d=m&&C?m.lastIndexOf(C):-1;o.includes(c)||0<(f=P.gsautocomplete.findMatchedData(c,u=0==d?m:C+m)).length&&z.push([c,f])}var S=z.length;if(0<S){n=!0;for(var b=""==m?r.length:r.lastIndexOf(m),p=r.substr(0,b),u=" "+m,y=0;y<S;y++){var I=z[y],c=I[0],O=I[1],I=1==S?P.gsautocomplete.modifiers[c].asMax:P.gsautocomplete.modifiers[c].asMin,_={key:c,value:" ",matches:O,pquery:u,squery:p,length:O.length,max:I,start:0};P.gsautocomplete.asMatchedObj.push(_),P.gsautocomplete.renderAutoSuggList(_)}}}n||(P.removeQuerySugg(),"serverResponse"==s&&P.updateSearchBox(e))}},P.getAvailableQueryFilters=function(){return v(".zgs19_gsSpanBoxElement").map(function(){return v(this).attr("key")}).get()},P.updateautosuggest=function(s,e){var t=v(s).attr("key");if("relatedproducts"===t)P.gsautocomplete.openApp(e,s);else{var a=v(s).attr("value"),r=v(s).attr("unhigh"),o=P.gsautocomplete.get(t),i={};switch(t){case"users":var n=P.gsusercontacts.getProximityContactsObject(),l=P.gsusercontacts.getQueriedProxContactsObject(),g=P.gsusercontacts.getCurrCacheQryContact(),n=(o=v.extend({},l,g,n,o))[a],i={name:P.replaceHTMLEntity(n.DNAME),zuid:n.ZUID,emailId:a};break;case"cards":i.name=o[a].name;break;case"services":i.services=a;default:i.name=o[a]}if(o.hasOwnProperty(a)||-1<o.indexOf(a)){switch(t){case"dashboard":var c=s.getAttribute("viewid"),d=P.dbViewType.specificDashboard;let e=P.gsdbUtils.setDashboardViewDetails(d);e.setDashboardId(c),v("#zgs20_gsDashboardhome").css("display","block"),P.isDashboardViewOpened()?c!==P.gsdbhome.currentlyOpenedDbId&&(P.isDashboardOpened&&P.gsdbhome.checkIfDefaultDashboardOpened()?P.gsdbhome.defaultDbSuccAction=s:c!==P.gsdbhome.currentlyOpenedDbId&&P.gsdbhome.renderDashboardPage(d,e)):P.openDashboard(d,e);break;case"cards":P.isCardViewOpened()?v(s).attr("viewid")!==v(".zgs19_gsCrdHdrTitle").attr("cardId")&&P.gscards.loadCardsPage("preview",s):P.openCards("preview",s);break;case"recentsearch":P.gsautocomplete.handleRecentSearch(i.name);break;case"users":for(var p=P.gsautocomplete.asMatchedObj,u=p.length,h="",_=0;_<u;_++){var m,z=p[_];z.key==t&&(m=z.pquery,a=P.gsautocomplete.modifiers[t].symbol,h=0<=(z=m.lastIndexOf(a))?m.substring(z+1,m.length):m)}d=v(s).attr("index");P.gsautocomplete.sendAutoSuggClickPosition(parseInt(d)+1,h.trim()),w.updateQueryFilterSpanElement(t,r,i),P.gsautocomplete.handleSuggestionSearch();break;case"services":w.updateQueryFilterSpanElement(t,r,i),a!==P.getSearchType()&&w.handleServiceSelectActions(a);break;default:w.triggerAutoSuggestCall()}P.removeQuerySugg()}}},P.updatesuggtext=function(){P.Utils.debounce(function(){var e=P.getCursorPositionForSearchBox();v(".zgs19_gssuggtext").remove();var s,t=v(".zgs19_gsAutoSuggChild").length,a=P.getAllQueryText(),r=a.length;1<e&&e==r&&0<t&&P.gsautocomplete.isAutoSuggDisplay&&P.isQueryValid(a)&&((e=P.gsautocomplete.currselecelem)||(s=v(".zgs19_gsAutoSuggChild:first").attr("id"),e=P.getTargetElem(s)),r=v(e).attr("unhigh"),t="","relatedproducts"!==(a=v(e).attr("key"))&&(s=P.getI18NMsg("gs.search.sugg.tab"),e="  ("+P.getI18NMsg("gs.search.sugg.press")+" ",a=" "+("cards"==a||"dashboard"==a?P.getI18NMsg("gs.search.sugg.toopen"):P.getI18NMsg("gs.search.sugg.toselect"))+")",t=v("<span>",{class:"zgs19_gssuggtext zgs19_gsBorderBox zgs19_gsFontSize14Px"}).append(v("<span>").text(e)).append(v("<span>",{class:"zgs19_gssuggtab"}).text(s)).append(v("<span>").text(a))),v("#zgs20_gsSuggestionDiv").empty(),w.updateAutoSuggestDivPosition(),v("#zgs20_gsSuggestionDiv").append(v("<span>",{class:"zgs19_gssuggtext zgs19_gsBorderBox"}).text(r)).append(t))},100,"updatesuggtext")},P.handleSearchCloseIcon=function(){var e=P.getAllQueryText()?"block":"none";v("#zgs20_gsQueryCloseBox").css("display",e),P.setSearchBoxSegmentSize()},P.removeQuerySugg=function(){v(".zgs19_gssuggtext").remove(),v("#zgs20_gsQuerySugg").html("").css("display","none"),P.gsautocomplete.currselecelem="",P.gsautocomplete.showLoadingIcon=!1,P.gsautocomplete.isAutoSuggDisplay=!1},P.getQueryScrollLeft=function(e){if(P.isBrowserSupportSSE)return v(e).scrollLeft();if(e.hasOwnProperty("createTextRange")){var s=e.createTextRange(),t=a.getComputedStyle(e,void 0),t=parseFloat(t.paddingLeft),s=s.getBoundingClientRect();return e.getBoundingClientRect().left+e.clientLeft+t-s.left}},P.isQueryHasServiceCriteria=function(){return 0<v("#zgs20_gsservicesSpanEleme").length},P.isQueryHasUserCriteria=function(){return 0<v("#zgs20_gsusersSpanEleme").length},P.getCurrentQueryCriteria=function(e){return v("#zgs20_gs"+e+"SpanEleme").attr(e)||""},P.addEventForSearchBox=function(){v("#zgs20_gsQueryBox").off().on({focus:function(e){w.handleFocusActionsForSearchBox(e)},blur:function(e){w.handleBlurActionsForSearchBox(e)},mouseup:function(e){w.handleMouseUpActionsForSearchBox(e)},click:function(e){w.handleClickActionsForSearchBox(e)},keydown:function(e){w.handleKeyDownActionsForSearchBox(e)},input:function(e){w.handleInputActionsForSearchBox(e)},keyup:function(e){w.handleKeyUpActionForSearchBox(e)},paste:function(e){w.handlePasteActionsForSearchBox(e)},scroll:function(e){w.handleScrollActionsForSearchBox(e)},drop:function(e){e.preventDefault()},resize:function(e){w.updateSpanElementPosition(e.target)}},!0),v("#zgs20_gsQueryCloseBox").off().on({click:function(){P.network.removeEventSource(),P.network.abortOngoingCalls(),P.hideSearchPageLoader(),P.emptySearchBoxValues(),P.focusForWeb("zgs20_gsQueryBox"),P.handleSearchCloseIcon(),"askZia"===P.selectedLeftPanelDivision&&P.renderAskZiaHomePage()}})},P.renderQuerySpanElement=function(e){var s,t=v("#zgs20_gsQueryBox")[0];for(s in e){var a=e[s];if("query1"===s||"query2"===s||"query3"===s)t.value+=a.name;else if(!v.isEmptyObject(a)){let e=v("#zgs20_gs"+s+"SpanEleme");var r,o,i=P.gsautocomplete.modifiers[s].symbol+a.name;0===e.length?(o=v("<span>",{id:"zgs20_gs"+s+"SpanEleme",class:"zgs19_gsSpanBoxElement zgs19_gsuserselnone zgs19_gsBorderBox",key:s}).text(i),v("#zgs20_gsQuerySpanBox").append(o),e=v(o),t.value+="   "+i+"   "):(r=e.text(),e.text(i),o=P.getAllQueryText(),t.value=o?o.replace(r,i):"   "+i+"   "),"users"===s?(e.attr(s,a.name),e.attr("zuid",a.zuid),e.attr("emailId",a.emailId)):e.attr(s,a.services)}}P.focusForWeb("zgs20_gsQueryBox"),w.updateSpanElementPosition(t)},P.getCursorPositionForSearchBox=function(){return document.getElementById("zgs20_gsQueryBox").selectionStart},P.clearSearchResultPageForService=function(e){P.network.removeEventSource(),P.network.abortOngoingCalls(),w.clearSearchQueryBox(e),P.handleSearchCloseIcon(),P.hideSearchPageLoader(),P.gsfilters.checkFiltersAppliedOrNot()},w.handleFocusActionsForSearchBox=function(e){var s;P.isQueryFocused=!0,P.hasOwnProperty("hideAllDropdownList")&&P.hideAllDropdownList(),this.setSelectionRange&&(s=v(this).val().length,this.setSelectionRange(s,s))},w.handleBlurActionsForSearchBox=function(e){P.isQueryFocused=!1,v(".zgs19_gsSpanBoxElement").removeClass("zgs19_gsSelectedSpanElement"),P.gsautocomplete.mousedown?(P.stopEvent(e),P.focusForWeb(e.target.id),P.gsautocomplete.mousedown=!1):P.gsautocomplete.isAutoSuggDisplay&&P.removeQuerySugg()},w.handleMouseUpActionsForSearchBox=function(e){w.checkIfCursorInsideRange(e)},w.handleClickActionsForSearchBox=function(e){e.target.selectionStart===P.getAllQueryText().length?w.triggerAutoSuggestCall(e):P.removeQuerySugg()},w.handleKeyDownActionsForSearchBox=function(e){var s=e.keyCode||e.which;s!==P.specialkeys.LEFT&&s!==P.specialkeys.RIGHT||P.removeQuerySugg(),w.handleKeyboardShortCuts(e,s)?e.preventDefault():w.handleKeyDownMovementsInsideSpanElement(e,s)},w.handleInputActionsForSearchBox=function(e){w.updateSpanElementPosition(e.target),w.triggerAutoSuggestCall(e)},w.handleKeyUpActionForSearchBox=function(e){w.handleCursorPositionNearSpanElement(e.target,!1)},w.handlePasteActionsForSearchBox=function(e){w.handleCursorPositionNearSpanElement(e.target,!1),P.updateQueryDiv(),P.handleSearchCloseIcon()},w.handleScrollActionsForSearchBox=function(e){w.updateSpanElementPosition(e.target)},w.handleCursorPositionNearSpanElement=function(t,e,s,a){var r=P.getAllQueryText();s=s||t.selectionStart,a=a||t.selectionEnd;for(var o=v(".zgs19_gsSpanBoxElement"),i=0;i<o.length;i++){var n=o[i],l=P.getSpanText(n),g=r.indexOf(l),c=g+l.length+w.spanRightSpacing,d=g-w.spanLeftSpacing,l=d<s&&s<c,g=d<a&&a<c;if(l||g){var p=e?d:c;if(p>r.length){let e=t.value,s=r.length;for(;s<p;)e+=" ",s++;t.value=e}t.selectionStart=l?p:s,t.selectionEnd=g?p:a,v(n).addClass("zgs19_gsSelectedSpanElement")}else s<=c&&d<s||d<=s&&s<c?v(n).addClass("zgs19_gsSelectedSpanElement"):v(n).removeClass("zgs19_gsSelectedSpanElement")}},w.handleKeyDownMovementsInsideSpanElement=function(e,s){var t=v(".zgs19_gsSpanBoxElement");if(s===P.specialkeys.LEFT||s===P.specialkeys.RIGHT||s===P.specialkeys.BACKSPACE||s===P.specialkeys.DELETE)for(var a=e.target,r=P.getAllQueryText(),o=0;o<t.length;o++){var i=t[o],n=P.getSpanText(i),l=r.indexOf(n);if(w.keySpecificAction(i,a,l,n,s,e))break}},w.keySpecificAction=function(e,s,t,a,r,o){var i=s.selectionStart,n=s.selectionEnd,l=P.gscomponent.isRTLEnabled,g=t-w.spanLeftSpacing,c=t+a.length+w.spanRightSpacing;let d=r===P.specialkeys.LEFT,p=r===P.specialkeys.RIGHT;l&&(u=d,d=p,p=u);var u=d?g:c;if(d||p){if(d&&(i===c||n===c)||p&&(i===g||n===g))return w.updateInputCursor(u,t,a,s,i,n),o.preventDefault(),!0}else if(r===P.specialkeys.BACKSPACE&&i===c&&i===n||r===P.specialkeys.DELETE&&i===g){v(e).remove();e=s.value,c=e.slice(g,c-1);return s.value=e.replace(c,""),s.setSelectionRange(t-1,t-1),w.updateSpanElementPosition(o.target),v(".zgs19_gssuggtext").remove(),o.preventDefault(),!0}return!1},w.updateInputCursor=function(e,s,t,a,r,o){o===r?a.setSelectionRange(e,e):o>=s-w.spanLeftSpacing&&o<=s+t.length+w.spanRightSpacing?a.selectionEnd=e:r>=s-w.spanLeftSpacing&&r<=s+t.length+w.spanRightSpacing&&(a.selectionStart=e)},w.handleKeyboardShortCuts=function(s,t){var a=s.target;let r=a.value;var o=a.selectionStart,i=a.selectionEnd,n=P.gscomponent.isRTLEnabled;let l=!1;var g=t===P.specialkeys.LEFT,c=t===P.specialkeys.RIGHT,d=t===P.specialkeys.UP,p=t===P.specialkeys.DOWN,t=s.shiftKey||!1;if(s.shiftKey||s.ctrlKey||s.altKey||s.metaKey){let e=!1;if(d||s.metaKey&&g?(e=!0,l=!0):(p||s.metaKey&&c)&&(e=!1,l=!0),l)return w.moveCursor(a,e,r,t),!0}if(s.ctrlKey||s.altKey&&!t){let e=!1;if(g?(e=n,l=!0):c&&(e=!n,l=!0),l){o=e?r.substring(o,r.length):r.substring(0,i),i=e?0:o.length;return w.moveOneWord(a,e,i,o,r),!0}}return!1},w.moveCursor=function(e,s,t,a){let r,o;a?s?e.selectionStart=0:e.selectionEnd=t.length:(r=o=s?0:t.length,e.setSelectionRange(r,o)),w.checkAndScrollContainer(e,r,o)},w.moveOneWord=function(e,s,t,a,r){const o=/\b/g;let i,n;if(n=s?(i=1,0):i=-1,0<a.length){for(o.test(a.charAt(t+n))||(t+=i);o.test(a.charAt(t+n));)t+=i;t=s?r.length-a.length+t:t,e.setSelectionRange(t,t),w.handleCursorPositionNearSpanElement(e,!s,t,t),w.checkAndScrollContainer(e)}},w.checkIfCursorInsideRange=function(e){let s=e.target,t=s.selectionStart,a=s.selectionEnd;var r;t!==a&&(r=s.getBoundingClientRect(),r=e.pageX-r.left-parseFloat(v(s).css("padding-inline-start")),r=w.getInputWidth(s.value,r),t=a=r),w.handleCursorPositionNearSpanElement(s,!1,t,a)},w.clearResultsOnEmptySearchBox=function(e){var s=e||GSConstant.ALL,e=P.getWidgetServiceList(s);P.updateMultiPageFlag(s,e.key),P.updateSearchType(s),P.gsfilters.removeAppliedFilterIconColor(),P.updateCurrentPage(s),P.disablingSSIcon(),P.removeQuerySugg()},w.clearSearchQueryBox=function(e){P.emptySearchBoxValues(),P.focusForWeb("zgs20_gsQueryBox"),P.hideSearchPageLoader(),w.clearResultsOnEmptySearchBox(e)},w.triggerAutoSuggestCall=function(e){P.handleSearchCloseIcon(),P.hasOwnProperty("gsautocomplete")&&(P.updateQueryDiv(),e&&P.gsmousewheelevent(e)),P.hasOwnProperty("gsusercontacts")&&P.gsusercontacts.checkProxConTresholdLimit()},w.getLastIndexOfFilters=function(e){for(var s=v(".zgs19_gsSpanBoxElement"),t=P.getAllQueryText(),a=0,r=0;r<s.length;r++){var o=P.getSpanText(s[r]),i=t.indexOf(o);-1<i&&a<=(i+=o.length)&&i<=e&&(a=i)}return a},w.updateSpanElementPosition=function(e){for(var s=v(".zgs19_gsSpanBoxElement"),t=P.getAllQueryText(),a=0;a<s.length;a++){var r,o,i,n=P.getSpanText(s[a]),l=t.indexOf(n)-w.spanLeftSpacing;l<0?v(s[a]).remove():(o=(r=w.getCharacterPosition(e,l,n.length)).status,i=0<r.left?r.left:0,l=w.getInputWidth("  "+n+" "),n=v(e).css("padding-inline-start"),i+=parseFloat(n),-2===o||1===o?v(s[a]).addClass("zgs19_gsDisplayNone"):(-1!==o&&2!==o||(l=l-r.diff+w.spanRightSpacing+1,i=i-w.spanLeftSpacing-1),v(s[a]).removeClass("zgs19_gsDisplayNone").css({"inset-inline-start":i,width:l})))}},w.getCharacterPosition=function(e,s,t){var a=e.value.substring(0,s),r=e.value.substring(0,s+t+w.spanRightSpacing),o=w.getInputWidth(a),s=w.getInputWidth(r),t=e.clientWidth,a=P.gscomponent.isRTLEnabled?0-e.scrollLeft:e.scrollLeft,r=0,e=0;return s<a?r=-2:o<a?(r=-1,e=a-o):t<o-a?r=1:t<s-a&&(r=2,e=s-a-t),{left:0<(o-=a)?o:0,status:r,diff:e}},w.getCurrentQueryFilterObj=function(e,s){var t=v("#zgs20_gs"+e+"SpanEleme");if(0<t.length){var a={};return"users"===e?(a.name=t.attr(e)||"",a.zuid=t.attr("zuid")||"",a.emailId=t.attr("emailId")||""):(a.services=t.attr(e),a.name=P.getSpanText(t).replace("#","")),s&&(t=P.getSpanText(t),s=s.indexOf(t),t=t.length,a.pos=s,a.length=t),a}return""},w.updateAutoSuggestDivPosition=function(){let e=document.getElementById("zgs20_gsQueryBox");var s=e.selectionStart,t=e.value.substring(0,s),s=v(e).css("padding-inline-start"),t=w.getInputWidth(t)+parseFloat(s),s=v("#zgs20_gsQueryBox").outerWidth()-t;v("#zgs20_gsSuggestionDiv").css({"inset-inline-start":t,width:s})},w.getInputWidth=function(s,e){v("#zgs20_gsQuerySpanBox").append(v("<span>",{id:"zgs20_gsDummyQueryToolTip",class:"zgs19_gsdummySearchBox"}));let t=P.getTargetElem("zgs20_gsDummyQueryToolTip"),a=0;if(e){var r=e,o=s.length;for(let e=1;e<=o;e++){if(!(t.offsetWidth<r))break;a=e,t.textContent=s.substring(0,e)}}else{t.textContent=s;e=t.getBoundingClientRect();a=e.width}return v("#zgs20_gsDummyQueryToolTip").remove(),a},w.updateQueryFilterSpanElement=function(e,s,t){var a,r=P.getAllQueryText(),o={},i={},n="";e?"users"===e?(o=t,i=w.getCurrentQueryFilterObj("services",r)||{},s?n=t.name.replace(s,""):(a=v("#zgs20_gsQuerySugg").find(".zgs19_gshighlight").text()||"")&&(n=a)):(o=w.getCurrentQueryFilterObj("users",r)||{},n=(i=t).name.replace(s,"")):(i=w.getCurrentQueryFilterObj("services",r)||{},o=w.getCurrentQueryFilterObj("users",r)||{}),w.updateSelectedSpanObjInQueryBox(r,i,o,e,n),w.updateCursorPositionAfterSpan(t.name)},w.updateSelectedSpanObjInQueryBox=function(e,s,t,a,r){r=w.getQueryObjectForRendering(e,s,t,a,r);P.emptySearchBoxValues(),P.renderQuerySpanElement(r)},w.getQueryObjectForRendering=function(e,s,t,a,r){var o,i=[];s&&s.hasOwnProperty("pos")&&s.hasOwnProperty("length")&&(o=s.pos,i.push({key:"services",pos:o,length:s.length})),t&&t.hasOwnProperty("pos")&&t.hasOwnProperty("length")&&(o=t.pos,i.push({key:"users",pos:o,length:t.length}));for(var n=w.removeAutoSuggestMatchedQuery(a,e,r,i),l={},g=n.length,c=0;c<g;c++){var d=n[c];switch(d.key){case"services":l.services=s;break;case"users":l.users=t;break;case"query1":l.query1={name:d.value};break;case"query2":l.query2={name:d.value};break;case"query3":l.query3={name:d.value}}}return l},w.updateCursorPositionAfterSpan=function(e){var s=document.getElementById("zgs20_gsQueryBox"),e=P.getAllQueryText().indexOf(e)+e.length+w.spanRightSpacing+1;s.setSelectionRange(e,e),w.checkAndScrollContainer(s)},w.removeAutoSuggestMatchedQuery=function(e,s,t,a){var r,o,i,n,l,g,c=s;e&&(r=P.getCursorPositionForSearchBox(),o=P.gsautocomplete.modifiers[e].symbol,i=w.getLastIndexOfFilters(r),l=-1===(l=(n=c.substring(i,c.length)).indexOf(o))||" "!==n[l-1]?i:l+i,g=c.substring(l,r).length,s=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"),0<=(s=n.search(s))&&t&&(g=t.length,c[(s+=i)-1]===o&&(s-=1,g+=1),l=r-s<r-l?s:l),-1<l&&a.push({key:e,pos:l,length:g})),w.sortArray(a,"pos");var d=0,p=a.length;let u=[],h=0;for(var _=0;_<p;_++){var m=c.slice(d,a[_].pos).trim();m&&u.push({key:"query"+ ++h,value:m}),u.push({key:a[_].key}),d=a[_].pos+a[_].length,_===p-1&&(m=c.slice(d+1).trim())&&u.push({key:"query"+ ++h,value:m})}return u},w.sortArray=function(e,t){e.sort(function(e,s){return e[t]-s[t]})},w.checkAndScrollContainer=function(e,s,t){0<e.scrollWidth-e.clientWidth&&(s=s||e.selectionStart,t=t||e.selectionEnd,t=w.getCharacterPosition(e,s,t-s),s=v(e).scrollLeft(),s=P.gscomponent.isRTLEnabled?0-s:s,(t.left<s||t.left>s+e.clientWidth)&&(t=P.gscomponent.isRTLEnabled?0-t.left:t.left,v(e).scrollLeft(t)))},w.appendQueryAndSearch=function(e,s){P.updateSearchType(e),P.updateCurrentPage(e),w.appendValueInSearchBox(e,s),P.handleDefaultSearch()},w.appendValueInSearchBox=function(e,s){P.clearSearchResultPageForService();var t={name:P.gsautocomplete.get("services")[e],services:GSConstant.ALL};P.renderQuerySpanElement({services:t});e=s.zuid,t=s.name;e&&-1!=e?P.renderQuerySpanElement({users:s}):s.name&&(s=v("#zgs20_gsQueryBox").val(),s+=" "+t,v("#zgs20_gsQueryBox").val(s),P.focusForWeb("zgs20_gsQueryBox")),P.handleSearchCloseIcon()},w.handleServiceSelectActions=function(e){P.updateSearchType(e),P.updateCurrentPage(e),P.network.removeEventSource(),P.network.abortOngoingCalls(),P.hideSearchPageLoader(),P.gsfilters.checkFiltersAppliedOrNot()}}(zgssearch,window),function(r,n){var o=r._jQueryGS,l=r.document,e=function(g){var i=(g=r.zgssearch||{}).gscomponent||{};g.eventSource,g.GSConstant=g.GSConstant||{},g.xmlhttpReq=g.xmlhttpReq||"",g.searchType=g.searchType||"all",g.resultHolder=g.resultHolder||[],g.fetchResCount=g.fetchResCount||25,g.domainOriginObj=g.domainOriginObj||{},g.domainOriginInfo=g.domainOriginInfo||{},g.isBrowserSupportSSE=!!r.EventSource,g.isWidgetCallWaitNeeded=g.isWidgetCallWaitNeeded||!1,g.isSettingsEnabled=g.isSettingsEnabled||i.isSettingsEnabled&&4!==i.UIType,g.isDashboardEnabled=g.isDashboardEnabled||!(i.hasOwnProperty("pcode")&&"ZO"==i.pcode||i.hasOwnProperty("isServiceSuite")&&i.isServiceSuite||g.isExtension)&&g.isDashboardEnabled,g.isEmbedDashboardEnabled=!1,g.isEmbedCardEnabled=!1,g.isEmbed=!1,g.ziaProperties=new g.gsZiaProperties,g.getserviceresultsURL="/zgssearch/v4/getfallbackserviceresults",g.getcardresultsURL="/zgssearch/v4/getsearchresultsforcard?",g.getmultiplecardresultsURL="/zgssearch/v4/getsearchresultsformultiplecards?",g.domainURL=g.isBrowserSupportSSE?"/zgssearch/v4/getserviceresults":g.getserviceresultsURL,g.postCardsURL="/zgssearch/gsupdatecards",g.getCardsURL="/zgssearch/gscards",g.GET_DASHBOARDS="/zgssearch/gsdashboards",g.postUserSettingsDataURL="/zgssearch/gsUpdateSettings",g.getUserSettingsDataURL="/zgssearch/gsFetchSettings",g.gsserver=g.gsserver||i.hasOwnProperty("getGSServer")&&i.getGSServer(),g.contactServer=g.contactServer||i.hasOwnProperty("getContactServer")&&i.getContactServer(),g.isBulkProximityContactsFetched=g.isBulkProximityContactsFetched||!1,g.isAppsInfoFetched=g.isAppsInfoFetched||!1,g.autoSuggestApiConsumer="zos_contacts_suggestion",g.isQueryObjectModel=g.isQueryObjectModel||!0,g.isTabModelCSSFileLoaded=g.isTabModelCSSFileLoaded||!1,g.queryOrigin=g.queryOrigin||1,g.lastSearchedQueryObject=g.lastSearchedQueryObject||{},g.mail_module_subset=g.mail_module_subset||[],g.isClearRenderedFilters=g.isClearRenderedFilters||!1,g.filterFallback=!1,g.serviceActionDetails={},g.isPostSearchAPIEnabled=g.isPostSearchAPIEnabled||!1;var a=g.getGSConstantObj();return g.show=function(e){e.style.display="block"},g.hide=function(e){e.style.display="none"},g.focus=function(e){return g.getTargetElem(e).focus()},g.getValue=function(e){return g.getTargetElem(e)?g.getTargetElem(e).value:""},g.getBuildDetails=function(){if(g.hasOwnProperty("GSConstant")){var e=a.BUILD_DATE;if(e!==n)return"&bdate="+e}return""},g.loadUserPropic=function(e,s,t){try{var a=new Image;a.src=s,a.setAttribute("gs",e),a.className="zgs19_gsDisplayNone";var r=l.addEventListener?"":"on";a[l.addEventListener?"addEventListener":"attachEvent"](r+"load",function(){var e=g.getTargetElem(this.getAttribute("gs"));e&&(t&&(e.className=e.className+" "+t),e.setAttribute("src",this.src),e.className=e.className.replace("zgs19_gsFetchImgLoader",""),e.className=e.className.replace("zgs19_gstopFetchLoader","")),g.removeEle(this)},!0)}catch(e){g.throwClientError("Unable to load user profile pic.",e)}},g.initBiggerGlobalsearch=function(){var e=g.contactServer+"/file?fs=thumb&nocache="+(new Date).getTime(),s=g.ziaProperties.getProperty("isNewUI")||!1,t=1!==g.gscomponent.UIType&&0!==g.gscomponent.UIType||s?"":"zgs19_gsOldUI",a=g.ziaProperties.isPropertyNeeded("isTopBandNeeded"),s=g.ziaProperties.isPropertyNeeded("isLeftBandNeeded")?"<div id='zgs20_gsSearchResultLeft' class='zgs19_gsSearchResultLeft zgs19_gsServicesPaneWid zgs19_isPanelHidden' gs='serviceLeftPanel' rkey='refresh'>\n                                                       <div class='zgs19_gsServicesPaneWid zgs19_gsSkeletonLoading'></div>\n                                                   </div>":"",t="<div id='zgs20_zohosearchWrapper' class='zgs19_gszohosearchWrapper zgs19_gsfl "+t+"'>"+g.gstopband.createTopBandHolder(!0)+"<div id='zgs20_gsOverlayDialog' class='zgs19_gsOverlayDialog zgs19_gsDisplayNone'></div>\n                    <div id='zgs20_zohosearchLoader' class='zgs19_zohosearchLoader'>\n                            <div class='zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsCalloutLoader'><div class='zgs19_gsRequestLoadera'></div><div class='zgs19_gsRequestLoaderb'></div><div class='zgs19_gsRequestLoaderc'></div><div class='zgs19_gsRequestLoaderd'></div></div>\n                    </div>\n                    <div id='zgs20_globalsearch' class='zgs19_globalsearch zgs19_globalsearch_position_new zgs19_gsDisplayNone'>\n                        <div id='zgs20_gsHolder' class='zgs19_gsHolder "+t+"' tabindex='5'>"+s+"<div id='zgs20_gsSearchBottomHolder' class='zgs19_gsSearchBottomHolder'></div>\n            </div>\n        </div>\n        <div id='zgs20_gsTopbannertip' class='zgs19_gsTopbannertip zgs19_gsBoxShadowPopup zgs19_gsDisplayNone'>\n        <div id='zgs20_gsTopbannertipicon' class='zgs19_gsTopbannertipicon zgs19_gsfl'></div>\n        <div id='zgs20_gsTopbannertiptext' class='zgs19_gsTopbannertiptext zgs19_gsOverflow zgs19_gsfl'></div>\n        </div>\n        <div id='zgs20_feedback' class='zgs19_gsDisplayNone'></div>",s=i.getMountDetails().id;l.getElementById(s).innerHTML=t,i.setDOMDirection(),g.ziaProperties.isPropertyNeeded("isSearchNeeded")&&(s=i.getSearchBox(),(t=l.getElementById("zgs20_gsLogoHolder")).parentNode.insertBefore(s,t.nextSibling),t=i.getSearchButton(),l.getElementById("zgs20_gsQueryBoxHolder").appendChild(t)),g.loadUserPropic("zgs20_gsUserProPic",e,"zgs19_gsUserImg"),(-1<g.GSConstant.INSTALLATION.indexOf("Fuji")||g.isNICDomain())&&(g.removeEle(l.getElementById("zgs20_gsHamburger")),g.removeEle(l.getElementById("zgs20_gsHamburgerData"))),l.getElementById("zgs20_gsSearchBottomHolder").appendChild(i.getResultsArea()),l.getElementById("zgs20_zohosearchLoader").className+=" zgs19_gsDisplayNone",l.getElementById("zgs20_globalsearch").className=l.getElementById("zgs20_globalsearch").className.replace("zgs19_gsDisplayNone",""),g.searchViewport=g.pcViewport=l.getElementById("zgs20_zohosearch"),a||o("#zgs20_gsSearchTopBandHolder").css("display","none").css("height","0px")},g.initGlobalsearch=function(){var e=i.getOverlay(),s=i.getMountDetails(),t=l.createElement("div");t.tabIndex=5,t.id=s.id,t.className=s.class,t.setAttribute("gs","globalsearch"),t.style.zIndex=i.zindex;var a=i.getGSOptions(),r=1===g.gscomponent.UIType||0===g.gscomponent.UIType?"zgs19_gsOldUI":"";t.innerHTML=e+a+("<div id='zgs20_gsHolder' class='zgs19_gsHolder "+r+"' tabindex='5'>\n                                    <div id='zgs20_gsSearchTopBandHolder' class='zgs19_gsSearchTopBandHolder'>\n                                        <div id='zgs20_gsSearchBoxRight' class='zgs19_gsSearchBoxRight zgs19_gsBorderBox'>\n                                        </div>\n                                    </div>\n                                    <div id='zgs20_gsSearchResultLeft' class='zgs19_gsSearchResultLeft zgs19_gsServicesPaneWid zgs19_isPanelHidden' gs='serviceLeftPanel' rkey='refresh'>\n                                        <div class='zgs19_gsServicesPaneWid zgs19_gsSkeletonLoading'></div>\n                                    </div>\n                                    <div id='zgs20_gsOverlayDialog' class='zgs19_gsOverlayDialog zgs19_gsDisplayNone'></div>\n                                   </div>"),g.isExtension&&t.classList.add("zgs19_extSearchPage");s=s.mountParentEle;(s!==n&&""!==s?l.getElementById(s):l.body).appendChild(t),i.setDOMDirection();t=i.getSearchIcon();t&&(o=l.getElementById("zgs20_gsSearchBoxRight")).parentNode.insertBefore(t,o);var o=i.getSearchBox();l.getElementById("zgs20_gsSearchBoxRight").appendChild(o),l.getElementById("zgs20_gsHolder").appendChild(i.getResultsArea()),g.searchViewport=g.pcViewport=l.getElementById("zgs20_globalsearch")},g.renderNewUI=function(){g.isDashboardEnabled?g.renderLHSPaneTab():g.renderLHSPane()},g.updateUIPostServiceListCall=function(){1===g.gscomponent.UIType&&(g.GSConstant.IS_READ_ONLY_MODE&&g.renderWholeNotification({ty:2,msg:g.getI18NMsg("gs.search.read_only_mode_message")}),g.hasOwnProperty("setGSElemSize")&&g.setGSElemSize())},g.renderWholeNotification=function(e){var s=e.msg,t=e.ty||2,e=g.getBannerClass()[t],t=g.getBannerIconClass()[t],s=o("<div>",{id:"zgs20_gsNotificationBanner",class:"zgs19_gsNotificationBanner"}).append(o("<div>",{class:"zgs19_gsNotificationIcon "+t})).append(o("<div>",{class:"zgs19_gsNotificationText zgs19_gsOverflow"}).text(s));o("#zgs20_zohosearchWrapper").before(s),s.attr("style",e)},g.fetchWidgetDetails=function(e){g.isWidgetFetched||(g.isWidgetFetched=!0,g.getWidgetDetails(e))},g.disableParentDOMScroll=function(){g.currDOMScrollAttr=o("body").css("overflow"),l.body.style.overflow="hidden"},g.enableParentDOMScroll=function(){l.body.style.overflow=g.currDOMScrollAttr||"auto",g.currDOMScrollAttr=""},g.attachZiaEvent=function(){g.deattachZiaEvent(),g.searchViewport.addEventListener(g.mousewheelevt,g.gsmousewheelevent,{passive:!0}),g.searchViewport.addEventListener("scroll",g.scrollEvent,!0),g.searchViewport.addEventListener("click",g.clickEvent,!0)},g.deattachZiaEvent=function(){g.searchViewport.removeEventListener(g.mousewheelevt,g.gsmousewheelevent,{passive:!0}),g.searchViewport.removeEventListener("scroll",g.scrollEvent,!0),g.searchViewport.removeEventListener("click",g.clickEvent,!0)},g.openOnTheFlyDashboard=function(s,t){if(g.isCustomDashboardOpened()&&(g.gsdbhome.resetVariablesForCustomDashboards(),"userInsights"!==g.selectedLeftPanelDivision||t&&t.hasOwnProperty("onTheFlyView")||g.hideUserInsightsTab(),g.gsdbUtils.onTheFlyMode=0),g.isGSOpened)g.validateAndOpenOnTheFlyDashboard(s,t);else{t&&t.isDashboardOnlyMode&&g.toggleSidePanelAndTopBandForOnTheFlyDashboard(!0);let e={callback:function(){g.validateAndOpenOnTheFlyDashboard(s,t)}};g.openDashboardOnToggleZiaSearch(e)}},g.toggleOnTheFlyDashboard=function(e){var s;e&&(s=e.email,e=e.layout||2,g.openOnTheFlyDashboard(s,{layout:e}))},g.isCustomDashboardOpened=function(){return g.isDashboardViewOpened()&&(g.gsdbhome.isOnTheFlyDashboard()||g.gsdbhome.isTemplateDashboard()||g.gsdbhome.isAutoGenerateDashboard()||g.gsdbhome.isImportedDashboard())},g.toggleSidePanelAndTopBandForOnTheFlyDashboard=function(e){e?(o("#zgs20_gsHolder").removeClass("zgs19_gsMinLeftDivision").addClass("zgs19_gsDashboardOnlyMode zgs19_gsMaxLeftDivisionOtherTab"),o(".zgs19_gsSearchResultLeft, .zgs19_gsSearchTopBandHolder").addClass("zgs19_gsDisplayNone")):(o("#zgs20_gsHolder").removeClass("zgs19_gsDashboardOnlyMode zgs19_gsMaxLeftDivisionOtherTab"),o(".zgs19_gsSearchResultLeft, .zgs19_gsSearchTopBandHolder").removeClass("zgs19_gsDisplayNone"))},g.openTemplateDashboard=function(s,t){if(g.isCustomDashboardOpened()&&g.gsdbhome.resetVariablesForCustomDashboards(),g.isGSOpened)g.validateAndOpenTemplateDashboard(s,t);else{let e={callback:function(){g.validateAndOpenTemplateDashboard(s,t)}};g.openDashboardOnToggleZiaSearch(e)}},g.openDashboardOnToggleZiaSearch=function(e){g.toggleGlobalSearchParent(!0),g.isWidgetFetched?e.callback():g.fetchWidgetDetails(e)},g.validateAndOpenOnTheFlyDashboard=function(e,s){g.isDashboardEnabled&&a.onTheFlyDashboard?(0===g.gscomponent.UIType&&s&&s.isDashboardOnlyMode&&g.toggleSidePanelAndTopBandForOnTheFlyDashboard(!0),g.gsdbUtils.openOnTheFlyView(e,s)):g.showTopbannertip({ty:3,msg:g.getI18NMsg("gs.dashboard.getdashboard_error")})},g.validateAndOpenTemplateDashboard=function(e,s){g.isDashboardEnabled&&a.templateDashboard?(g.isDashboardOnlyViewOpened()&&g.toggleSidePanelAndTopBandForOnTheFlyDashboard(!1),g.gsdbUtils.openTemplateDashboardView(e,s)):g.showTopbannertip({ty:3,msg:g.getI18NMsg("gs.dashboard.getdashboard_error")})},g.toggleGlobalSearchParent=function(e){var s=i.beforeShow;s&&s();s=e?"block":"none";o("#zgs20_globalsearch").css("display",s).attr("data-isgsopened",e),g.isGSOpened=e,g.hasOwnProperty("handleToggleGSEvent")&&g.handleToggleGSEvent();s=i.afterShow;s&&s(),e?(g.disableParentDOMScroll(),g.attachZiaEvent(),o("#zgs20_globalsearch").focus()):(g.enableParentDOMScroll(),g.deattachZiaEvent())},g.closeDashboardOnlyMode=function(){g.toggleGlobalSearchParent(!1),g.toggleSidePanelAndTopBandForOnTheFlyDashboard(!1),g.unHideTab(g.getPrevStateforTabChanges()),g.gsdbUtils.dashboardLayout=0},g.isDashboardOnlyViewOpened=function(){return 0<o(".zgs19_gsDashboardOnlyMode").length},g.isSupportedDashboardLayout=function(e){return e&&0<e&&e<4},g.getErrorMessageForOnTheFlyDashboard=function(e){let s=o("#zgs20_gsOnTheFlyErrorMsg");0===s.length?o("#zgs20_gsDashboardhome").empty().append(o("<div>",{id:"zgs20_gsOnTheFlyErrorMsg",class:"zgs19_gsdashboard"}).text(e)):s.text(e)},g.openTemplateDashboardView=function(s,t){if(s&&t){let e=g.gsdbUtils.setDashboardViewDetails(g.dbViewType.template);e.setSubDashboardType(s+"_"+t),g.loadCardsandDashboardFile(function(){g.gsdbhome.constructDashboardPage({viewName:g.dbViewType.template,viewDetails:e})})}},g.showZiaSearch=function(e,s){var t;r.ZSLite&&(r.hasOwnProperty("openZiaAPIHandler")||r.hasOwnProperty("openZSHandler"))?(t=r.hasOwnProperty("openZiaAPIHandler")?"openZiaAPIHandler":"openZSHandler",r[t](e),s&&s()):(g.isIntegViewPage&&g.updateSearchType("",""),g.attachZiaEvent(),(t=i.beforeShow)&&t(),g.checkAndRenderServiceList(s),g.wmsuiSelectGS(!0),(s=g.getTargetElem("zgs20_globalsearch")).style.display="block",s.setAttribute("data-isgsopened",!0),g.isGSOpened=!0,g.isSearchBoxEnabled()&&g.focus("zgs20_gsQueryBox"),g.fetchWidgetDetails(),g.domainOriginObj=e||{},g.hasOwnProperty("handleGSSearch")&&g.handleGSSearch(),g.hasOwnProperty("handleToggleGSEvent")&&g.handleToggleGSEvent(),(e=i.afterShow)&&e(),g.hasOwnProperty("setSearchProperty")&&g.setSearchProperty(!0),g.disableParentDOMScroll())},g.hideZiaSearch=function(e){var s=i.beforeHide;s&&s();s=g.getTargetElem("zgs20_globalsearch");s.style.display="none",s.setAttribute("data-isgsopened",!1),g.isGSOpened=!1,g.wmsuiSelectGS(!1),g.domainOriginObj=e||{},g.hasOwnProperty("handleToggleGSEvent")&&g.handleToggleGSEvent();e=i.afterHide;e&&e(),g.hasOwnProperty("setSearchProperty")&&g.setSearchProperty(!1),g.enableParentDOMScroll(),g.deattachZiaEvent()},g.serviceSearch=function(e,s,t){g.isServiceSearch=!0,g.isWidgetCallWaitNeeded=!g.isWidgetFetched,e=g.hasOwnProperty("gshistory")?g.gshistory.getProperServiceName(e):e,g.hasOwnProperty("updateSearchType")&&g.updateSearchType(e),g.showZiaSearch({service:e,query:s,filter:t})},g.helpSearch=function(e,s,t){var a={cI:"all_applications",pT:"all_page_types"};s!==n&&""!==s&&g.includes(s,["mail","crm","campaigns","pagesense","forms","contactmanager","sign","motivator","social","salesiq","survey","salesinbox","bugtracker","cliq","writer","showtime","projects","connect","assist","people","creator","analytics","flow","crmplus","one","recruit","subscriptions","books","invoice","expense","inventory","calendar","developer","workerly","accounts","desk","sprints","meeting","sites","show","notebook","backstage","workdrive"])&&(a.cI=s),t!==n&&""!==t&&g.includes(t,["deskkb","help"])&&(a.pT=t),g.serviceSearch("website",e,a)},g.open=function(){g.toggleGlobalsearch()},g.search=function(e){g.toggleGlobalsearch({query:e})},g.advancedSearch=function(e){g.toggleGlobalsearch(e)},g.toggleGlobalsearch=function(e){if(1!==i.UIType)if(i.gsCloseIconCallback(),g.isGSOpened)4!==i.UIType&&(g.isBuildChanged||g.hideZiaSearch(e),g.isDashboardViewOpened()&&(g.gscardinDb.clearIntervalForAutoRefresh(),g.gsdbhome.clearIntervalForAutoRefresh()));else if(g.isBuildChanged||g.showZiaSearch(e),g.isDashboardViewOpened()){if(g.gsdbhome.isOnTheFlyDashboard()){if(!g.gsdbhome.checkRefreshTimeForOnTheFlyDashboard())return void g.gsdbhome.getOnTheFlyDashboard();g.gsdbhome.setNewIntervalForDashboardAutoRefresh()}g.gscardinDb.setIntervalForCardsAutoRefresh()}},g.globalToggleHandling=function(e){g.isDashboardOnlyViewOpened()?g.gsdbhome.discardCustomDbAction(g.dbViewType.onthefly):g.toggleGlobalsearch(e)},g.wmsuiSelectGS=function(e){g.getTargetElem("wmsglobalsearch")&&(e?WMSUI.selectGS&&WMSUI.selectGS():WMSUI.unselectGS&&WMSUI.unselectGS())},g.addQueryEvent=function(){var e=g.getTargetElem("zgs20_gsQueryBox");e.onfocus=function(){1===i.UIType&&(l.getElementById("zgs20_gsQueryBoxHolder").className+=" zgs19_gsQueryBoxHolderActive"),4===i.UIType&&(l.getElementsByClassName("zgs19_gsqryinnerdiv")[0].className+=" zgs19_gsqryinnerdivActive"),g.isQueryFocused=!0},e.onblur=function(){1===i.UIType&&(l.getElementById("zgs20_gsQueryBoxHolder").className=l.getElementById("zgs20_gsQueryBoxHolder").className.replace("zgs19_gsQueryBoxHolderActive","")),4===i.UIType&&(l.getElementsByClassName("zgs19_gsqryinnerdiv")[0].className=l.getElementsByClassName("zgs19_gsqryinnerdiv")[0].className.replace("zgs19_gsqryinnerdivActive","")),g.isQueryFocused=!1}},g.addSearchLoader=function(){g.getTargetElem("zgs20_gsProgressLoader").innerHTML="<div class='zgs19_gsProgressLoadera'></div>\n                                 <div class='zgs19_gsProgressLoaderb'></div>\n                                 <div class='zgs19_gsProgressLoaderc'></div>\n                                 <div class='zgs19_gsProgressLoaderd'></div>"},g.initiateSearchComponent=function(){g.addQueryEvent(),g.addSearchLoader()},g.triggerGlobalsearch=function(){g.isGSCreated||(g.isGSCreated=!0,g.initGlobalsearch(),g.initiateSearchComponent())},g.triggerBiggerGlobalsearch=function(){g.isBiggerGSCreated||(g.isBiggerGSCreated=!0,g.isGSOpened=!0,g.initBiggerGlobalsearch(),g.ziaProperties.isPropertyNeeded("isSearchNeeded")&&g.initiateSearchComponent())},g.getInitialGSData=function(){var e=g.initialdataURL;g.uri("GET",e,null,null,function(e){var s;!e||(s=g.jsonParse(e)).hasOwnProperty("gsConstant")&&(e=s.gsConstant,g.isPostSearchAPIEnabled=!!e.hasOwnProperty("postSearchAPIEnabled")&&e.postSearchAPIEnabled,g.setDashboardFlag(e),g.setGSConstantObj(e),g.setOtherGSConstantObj(e),g.isSearchViewTabOpened()&&g.obtainServicesLoader("zgs19_gsSkeletonLoading"),g.renderLandingPage(),s.hasOwnProperty("settings")&&(g.applyUserThemeAndMode(s),g.loadFeatureCarouselComponent(s.settings)),g.GSConstant.nlpSearchEnabled=g.GSConstant.hasOwnProperty("nlp_enabled"),s=g.ziaProperties.isPropertyNeeded("isSearchNeeded"),g.GSConstant.nlpSearchEnabled&&g.hasOwnProperty("gsnlpsearch")&&s&&(g.GSConstant.isAskZiaTabEnabled=!(i.hasOwnProperty("pcode")&&"ZO"==i.pcode||i.hasOwnProperty("isServiceSuite")&&i.isServiceSuite||g.isExtension)&&g.GSConstant.ask_zia_search,g.gsnlpsearch.createNLPTemplate(),g.gshistory.isPathNamePresent("/askzia")&&1===o("#zgs20_gsLeftPanelAskZia").length&&g.openAskZiaTab(!0)),g.setDashboardRelatedData(),g.hasOwnProperty("sendGSOpenedStats")&&g.sendGSOpenedStats())})},g.mapAppsData=function(e){for(var s=g.jsonParse(e),t=s.length,a=0;a<t;a++){var r=s[a];g.rpUIConfig.appVsUrl[r.aN]=[r.aURL,r.dN],-1===g.rpUIConfig.iconIncludedApps.indexOf(r.aN)&&g.rpUIConfig.iconIncludedApps.push(r.aN)}},g.getWidgetDetails=function(e){g.getInitialGSData(),g.getServicesListInCommon(e),g.getWidgetDetailsInCommon()},g.getServicesListInCommon=function(t){var e=g.servicesListURL+g.getExtraServiceSuiteURL(!0);g.uri("GET",e,null,null,function(e){var s;e&&(s=g.jsonParse(e),(e=g.gscomponent.pcode)&&"ZO"===e&&g.gscomponent.zsoid&&"-1"!=g.gscomponent.zsoid&&s.cloud_z1_accounts&&!g.gscomponent.isNoRestrictServicelist&&(g.setCloudAppObjFromServiceList(s.cloud_z1_accounts),g.storeSuitServiceList()),s.hasOwnProperty("enabledserviceslist")&&(g.setAccessibleServiceList(s.enabledserviceslist),g.setEnabledServiceList(s.enabledserviceslist)),s.hasOwnProperty("allserviceslist")&&g.setConstAllServList(s.allserviceslist),g.processServListFromServicelistCall(),g.initAutoSuggestServiceList(),g.setDashboardFlag(s),s.hasOwnProperty("onTheFlyDashboard")&&(g.GSConstant.onTheFlyDashboard=!0,s.hasOwnProperty("onTheFlySave")&&(g.GSConstant.onTheFlySave=!0)),s.hasOwnProperty("urlHistoryState")&&(g.GSConstant.urlHistoryState=!0),s.hasOwnProperty("postSearchAPIEnabled")&&(g.isPostSearchAPIEnabled=s.postSearchAPIEnabled),g.isSearchViewTabOpened()&&g.obtainServicesLoader("zgs19_gsSkeletonLoading"),g.renderNewUI(),g.renderServiceList(),s.hasOwnProperty("userInsightsTab")&&g.createUserInsightsLeftPanel(),g.dispSetting(),g.preLoadComponentForServices()),t&&t.callback&&t.callback()})},g.setDashboardFlag=function(e){e=!!e.hasOwnProperty("dashboard")&&e.dashboard;g.isDashboardEnabled=!(i.hasOwnProperty("pcode")&&"ZO"==i.pcode||i.hasOwnProperty("isServiceSuite")&&i.isServiceSuite||g.isExtension)&&e},g.setDashboardRelatedData=function(){g.isDashboardEnabled&&(g.ziaProperties.isPropertyNeeded("isSearchNeeded")&&g.createSaveIconinSearchBox(),g.cardAutoRefreshTime=g.GSConstant.cardAutoRefreshTime||18e4,g.GSConstant.cardsLimitInDB=g.GSConstant.cardsLimitInDB||30,g.includes("cards",g.gsautocomplete.querymodifiers)||g.gsautocomplete.querymodifiers.splice(2,0,"cards"),g.includes("dashboard",g.gsautocomplete.querymodifiers)||g.gsautocomplete.querymodifiers.splice(3,0,"dashboard"),g.dashboardEventListeners(),g.GSConstant.userInsightsTab&&g.createUserInsightsLeftPanel())},g.loadFeatureCarouselComponent=function(e){g.isDashboardEnabled&&!g.gscomponent.isRTLEnabled&&g.network.loadSRIJSFile("js/featurecarousel.js",function(){g.hasOwnProperty("gstourcomponent")&&g.gstourcomponent.preLoadTourComponent(e),g.hasOwnProperty("gsfeatureComponent")&&g.gsfeatureComponent.preLoadFeatureCarouselComponent()})},g.getWidgetDetailsInCommon=function(){var e=g.widgetURL+g.getServiceListAndWidgetIdsURL(!0)+g.getBuildDetails();g.uri("GET",e,null,null,function(e,s,t){var a;e&&(t.args,(t=g.jsonParse(e)).hasOwnProperty("build_details")&&(g.GSConstant.gsbuildDetails=t.build_details),e={},t.hasOwnProperty("gsConstant")&&(e=t.gsConstant,g.setDashboardFlag(e),g.setGSConstantObj(e),g.setOtherGSConstantObj(e),e&&!o.isEmptyObject(e)&&(g.isAllGSConstantsSet=!0),g.GSConstant.hasOwnProperty("isCloudIntegIconEnabledInZiaSearch")&&g.GSConstant.isCloudIntegIconEnabledInZiaSearch&&((a=o("#zgs20_gsSearchBoxRight").find(".zgs18_gsIntegIcon")).insertBefore(o(".zgs19_gsUserProfile")[0]),a.removeClass("zgs19_gsDisplayNoneImp"))),t.hasOwnProperty("widget")&&(a=t.widget,t=g.gscomponent.pcode,a.hasOwnProperty("enabledserviceslist")&&(g.setAccessibleServiceList(a.enabledserviceslist),g.setEnabledServiceList(a.enabledserviceslist)),a.hasOwnProperty("allserviceslist")&&g.setConstAllServList(a.allserviceslist),g.GSConstant.widgetObject=a,g.readyToLoadServiceList(),t&&"ZO"===t&&g.gscomponent.zsoid&&"-1"!=g.gscomponent.zsoid&&(g.zosCloudUserConfig=[],g.setCloudAppObj(a),g.storeSuitServiceList(),g.renderServiceList()),g.hasOwnProperty("handleGSSearch")&&g.isWidgetCallWaitNeeded&&(g.isWidgetCallWaitNeeded=!1,g.handleGSSearch()),g.addCloudIntegIconToLHSInZ1(!0)))})},g.filterCloudAppObj=function(e){for(var s=[],t=0;t<g.zosCloudUserConfig.length;t++){var a=g.zosCloudUserConfig[t];g.isArrayContain(a.app_name,e)||s.push(a)}return s},g.setCloudAppObjFromServiceList=function(e){if(e){for(var s=[],t=g.getEnabledCloudApps(),a=0;a<t.length;a++){var r=t[a];e.hasOwnProperty(r)&&s.push({app_name:r,app_id:g.gscomponent.zsoid,zaaid:e[r]})}g.zosCloudUserConfig=s}},g.setCloudAppObj=function(e,s){if(e&&e.servicesinfo){for(var t=e.servicesinfo,a=g.GSConstant.accessible_cloud_apps,r=[],o=[],i=0;i<a.length;i++){var n,l=a[i];t.hasOwnProperty(l)&&(n=t[l].all,r.push({app_name:l,app_id:g.gscomponent.zsoid,zaaid:n}),o.push(l))}s&&o.push(s),g.zosCloudUserConfig=g.filterCloudAppObj(o).concat(r)}},g.applyUserThemeAndMode=function(e){e=e.settings;g.GSConstant.isNightModeEnabled=/true/i.test(g.getLocalStorageValue("isNightModeEnabled")||!1),1!==i.UIType||g.isIE?g.isDashboardEnabled&&(0==g.gscomponent.UIType?g.setMode("zsDarkMode"):g.setMode("zsLightMode")):g.gstopband.setAppearanceAndAccent(e)},g.readyToLoadServiceList=function(){g.hasOwnProperty("initServiceList")&&g.initServiceList(),g.hasOwnProperty("initWidgetList")&&g.initWidgetList(),g.hasOwnProperty("onSuccessFunction")&&g.hasOwnProperty("serviceList")&&g.loadResultsFromHolder()},g.setGSHomeFilterParams=function(){var e={sort:"sortrelv",queryOrigin:g.queryOrigin};return g.hasOwnProperty("setDefaultFiltersParams")&&g.setDefaultFiltersParams(e),"&filters="+encodeURIComponent(JSON.stringify(e))},g.loadNewUICSS=function(){g.isDashboardEnabled&&g.network.loadSRICSSFile("css/gstabmodel.css",function(){g.isTabModelCSSFileLoaded=!0,g.setCalloutPreviewPosition()})},g.getAppsInfoDetails=function(){g.isAppsInfoFetched||(g.isAppsInfoFetched=!0,g.uri(g.POST,g.updateActionsURL,"action=fetchAppsInfo",null,function(e,s,t){e&&(t.args,e=g.jsonParse(e),i.isShowAppsData&&e.hasOwnProperty("appsinfo")?(e=e.appsinfo,g.mapAppsData(e)):i.isShowAppsData=!1)}))},g.setOtherGSConstantObj=function(e){var s;e.hasOwnProperty("cuo")&&!g.isWPEleCreated&&(g.isWPEleCreated=!0,g.hasOwnProperty("appendMobSupportInWelPage")&&g.appendMobSupportInWelPage()),g.isDashboardEnabled&&(g.isDashboardEnabledEleCreated||(g.isDashboardEnabledEleCreated=!0,g.isTabModelCSSFileLoaded||g.loadNewUICSS(),o("#zgs20_gsHolder").removeClass("zgs19_gsOldUI"),o("#zgs20_zohosearchWrapper").removeClass("zgs19_gsOldUI"),o("#zgs20_gsHideScrollPage").removeClass("zgs19_gsServicesPaneLeft"),o("#zgs20_gsSearchResultMiddle").removeClass("zgs19_gsServicesPaneLeft"),1!=i.UIType?(g.isLeftDivisonPanelHidden=!0,g.isDashboardOpened||o("#zgs20_gsHolder").addClass("zgs19_gsMinLeftDivision"),0!=i.UIType&&o("#zgs20_gsHolder").addClass("zgs_defaultTheme"),o("#zgs20_gsSearchBoxRight").removeClass("zgs19_gsServicesPaneLeft"),o(".zgs19_gsZSearchTxt").removeClass("zgs19_gsDisplayNone")):(s=g.isSearchViewTabOpened()?g.ziaProperties.isPropertyNeeded("isSearchNeeded")?"zgs19_gsMaxLeftDivision":"":"zgs19_gsMaxLeftDivisionOtherTab",o("#zgs20_gsHolder").addClass(s),o("#zgs20_gsQueryBoxHolder").addClass("zgs19_searchQryboxOuter"),o(".zgs19_searchbtnOuter").addClass("zgs19_searchNewbtnOuter"),o("#zgs20_gsSearchBtn").addClass("zgs19_gsDisplayNone"),o("#zgs20_gsSearchBtnIcon").removeClass("zgs19_gsDisplayNone"),g.ziaProperties.isPropertyNeeded("isQuickActionsOptionNeeded")&&g.renderCreateNewButton())),g.isDashboardRespRecieved&&g.renderDefaultDbDetailTemplate(),g.isDashboardViewOpened()&&(g.gsdbhome.toggleMagicWandIcon(),g.gsdbhome.getDefaultDashboardTemplates(),g.gsdbhome.toggleImportIcon(),0===g.gscomponent.UIType&&g.resizeForLeftPanelchanges())),g.hasOwnProperty("gsusercontacts")&&(g.gsusercontacts.fetContactsCount=e.hasOwnProperty("getContactsLimit")?e.getContactsLimit:50,g.gsusercontacts.clientSearchLimit=e.hasOwnProperty("clientAutoSuggLimit")?e.clientAutoSuggLimit:10,g.gsusercontacts.isEmailOnlyResult=!!e.hasOwnProperty("emailOnlyResult")&&e.emailOnlyResult)},g.isSSECallNeeded=function(e){var s=g.isBrowserSupportSSE;return s=a.ALL!==e&&!g.multiPageEnabled&&!g.subMultiPageEnabled&&g.isBrowserSupportSSE?!1:s},g.getSearchResultsForNonSSE=function(e,s,t){g.xmlhttpReq=g.uri(e,s,t,"",(e,s)=>{"success"===s&&e?g.handleSearchResults("NONSSE",g.jsonParse(e)):g.handleSearchResults("ERROR",e)})},g.handleSearchResults=function(e,s){var t;g.hasOwnProperty("onSuccessFunction")&&a.hasOwnProperty("widgetObject")?(g.loadResultsFromHolder(),g.onSuccessFunction(e,s)):((t={})[e]=s,g.resultHolder.push(t))},g.loadResultsFromHolder=function(){var e=g.resultHolder.length;if(0<e){for(var s=0;s<e;s++){var t,a=g.resultHolder[s];for(t in a)g.onSuccessFunction(t,a[t])}g.resultHolder=[]}},g.isShortcutDisabled=function(){var e=!1;return"undefined"!=typeof zossearch&&(e=zossearch.hasOwnProperty("getGSShortCutKey")?zossearch.getGSShortCutKey():e),e=i.hasOwnProperty("isZiaShortcutDisabled")?i.isZiaShortcutDisabled:e},g.isZohoDomain=function(){var e=g.GSConstant.INSTALLATION;return void 0!==e&&("Zoho"==e||"Zoho-CN"==e||"localzoho"==e)},g.getLocalStorageValue=function(e){return localStorage.getItem(e)||""},g.deleteLocalStorageValue=function(e){return localStorage.removeItem(e)},r.removeEventListener("keydown",g.globalgsKeydown),g.globalgsKeydown=function(e){var s,t=e.keyCode||e.which;(e.ctrlKey||e.metaKey)&&191===t?g.isShortcutDisabled()||(s={service:"ZS",origin:e.metaKey?"ZSSM":"ZSSC"},g.isOpenViaShortcut=!0,g.globalToggleHandling(s),1!==i.UIType&&g.stopEvent(e)):g.isGSOpened&&(g.hasOwnProperty("handleKeydownAction")?g.handleKeydownAction(e):t===g.specialkeys.ESC?(g.globalToggleHandling(),g.stopEvent(e)):t===g.specialkeys.ENTER&&g.isQueryFocused&&(g.handleSearchCall(g.getSearchType()),g.stopEvent(e)))},r.addEventListener("keydown",g.globalgsKeydown),r.removeEventListener("extlistener",g.extensionListener),g.extensionListener=function(e){var s=e.detail,e=g.jsonParse(s);e.toggleGlobalsearch&&(s={service:"ZS",origin:"ZSSC",query:e.query},g.isGSOpened&&e.query?g.showZiaSearch(s):g.toggleGlobalsearch(s))},r.addEventListener("extlistener",g.extensionListener),g.stopEvent=function(e){e&&(e.preventDefault(),e.stopPropagation())},g.wmsGSIconClickEvent=function(){var e,s=l.getElementById("wmsglobalsearch");s&&!g.iswmsglobalsearchIcon&&(g.iswmsglobalsearchIcon=!0,e=s.cloneNode(!0),s.parentNode.replaceChild(e,s),e.removeEventListener("click",g.chatBarSearchIconClickEvent,!0),g.chatBarSearchIconClickEvent=function(){g.globalToggleHandling()},e.addEventListener("click",g.chatBarSearchIconClickEvent,!0))},g.wmsGSIconClickEvent(),g}(void 0);r.zgssearch=e}(window),function(z){z.zosUserConfig=z.zosUserConfig||[],z.zosCloudUserConfig=z.zosCloudUserConfig||[];var v=z.hasOwnProperty("getGSConstantObj")?z.getGSConstantObj():{},c=z.gscomponent||{};z.zosConfMultiPortalServices=[v.SUPPORT,v.BOOKS,v.INVOICE],z.calendarSupportedModules=z.calendarSupportedModules||[4,8,9,13],z.checkAndAddMandatoryService=function(){if("ZO"===c.pcode){for(var e=z.getZOSUserConfig(),s=[],t=[v.WEBSITE,v.ORGRESOURCES],a=e.length,r={mail:v.MAILS,teamdrive:v.WORKDRIVE},o=0;o<a;o++){var i=e[o].app_name;r.hasOwnProperty(i)&&(i=r[i],e[o].app_name=i),s.push(i)}for(var n=t.length,o=0;o<n;o++){var l=t[o];-1==s.indexOf(l)&&(s.push(l),z.zosUserConfig.push({app_name:l}))}if(z.GSConstant.hasOwnProperty("widgetObject")){var g=z.GSConstant.widgetObject.allserviceslist;if(0<g.length)for(n=t.length,o=0;o<n;o++){l=t[o];-1==g.indexOf(l)&&(-1<s.indexOf(l)&&z.zosUserConfig.splice(s.indexOf(l),1),-1<z.serviceList.indexOf(l)&&z.serviceList.splice(z.serviceList.indexOf(l),1))}}}},z.setZOSUserConfig=function(){var e=c.hasOwnProperty("getZOUserData")?c.getZOUserData():{};e&&(z.isZOSConfUpdated=!0,z.zosUserConfig=e),z.checkAndAddMandatoryService()},z.updateZOSUserConfig=function(e){e&&(z.zosUserConfig=e),z.checkAndAddMandatoryService()},z.getZOSUserConfig=function(){return z.zosUserConfig.concat(z.zosCloudUserConfig)},z.updateZOSConfig=function(){z.isZOSConfUpdated||(z.setZOSUserConfig(),z.isZOSConfUpdated&&z.hasOwnProperty("readyToLoadServiceList")&&z.readyToLoadServiceList())},z.getExtraServiceSuiteURL=function(e){var s="";z.updateZOSConfig();var t=c.pcode;return t&&("ZW"===t||"ZO"===t||"SS"===t)&&c.hasOwnProperty("isServiceSuite")&&c.isServiceSuite?(s="&pcode=SS&usd=false",e&&"ZO"===t&&z.gscomponent.zsoid&&"-1"!=z.gscomponent.zsoid&&(s+="&cloud_app_id="+z.gscomponent.zsoid)):s="&usd=true",s},z.getServiceListAndWidgetIdsURL=function(e){var s=z.getExtraServiceSuiteURL(e);z.updateZOSConfig();var t=z.getZOSUserConfig(),a=t.length||0;if(0<a){var r=(v.STATIC_WIDGET_CONFIGURED||"").split(","),o="all"===z.searchType?z.serviceList:[z.searchType];z.preCheckForServices();for(var i=z.GSConstant.widgetObject,n=i&&i.hasOwnProperty("servicesinfo")?i.servicesinfo:{},l={},g=0;g<a;g++){var c=t[g],d=c.app_name,p=c.zaaid;if(-1<o.indexOf(d)&&-1<r.indexOf(d)&&p){if(-1<p.indexOf("-")&&(p=p.slice(p.indexOf("-")+1,p.length)),d===v.CALENDAR)if("string"!=typeof p||z.isArrayContain(p,z.calendarSupportedModules)){if("object"==typeof p)for(g=0;g<p.length;g++)z.isArrayContain(p[g],z.calendarSupportedModules)||(p="")}else p="";c=n[d];if(c){var u=z.getEnabledAccListFromWidget(d,c);if(0<u.length){for(var h="",_=u.length-1,m=0;m<=_;m++)h+=u[m],m!=_&&(h+=",");l[d]=h}}else""!==p&&(l[d]=p)}}0<Object.keys(l).length&&(s+="&widgetIds="+encodeURIComponent(JSON.stringify(l)));e=o.slice(),i=e.indexOf("all");-1<i&&e.splice(i,1),s+=0<e.length?"&services_list="+encodeURIComponent(e.toString()):""}return s},z.updateZOSConfig()}(zgssearch,window),function(t,e){var s,a=e._jQueryGS,r=(t=e.zgssearch||{}).gscomponent||{};t.GSConstant=t.GSConstant||{},t.gsnlpsearch=(s=void 0,(s=t.gsnlpsearch||{}).isNLPTracerOpened=!1,s.createNLPTemplate=function(){var e;t.GSConstant.isAskZiaTabEnabled?s.validateAskZiaTab()&&1===a("#zgs20_gsLeftDivisionPanel").length&&0===a("#zgs20_gsLeftPanelAskZia").length&&(a("#zgs20_gsLeftPanelDashboard").after(a("<div/>",{id:"zgs20_gsLeftPanelAskZia",gsparenttip:"true",class:"zgs19_gsLeftPanelTab zgs19_gsLeftPanelTabUnselected zgs19_gsCurPointer",action:"askZia",gs:"leftPanelMenu",gsa:"nlp_zia"}).append(a("<span/>",{class:"zgs19_gsLeftBandIcons zgs19_gsUniIcons zgs18_askZiaLogo zgs19_gsLensIconTab"})).append(a("<span/>",{class:"zgs19_gsLeftPanelTabText zgs19_gsOverflow",isparenttip:"true"}).text(t.getI18NMsg("gs.search.askzia")))),0===r.UIType&&a("#zgs20_gsLeftPanelAskZia .zgs19_gsLeftPanelTabText").addClass("zgs19_gsDisplayNone")):a(".zgs19_gsnlpZia").length<=0&&(e=a("<div>",{class:"zgs19_gsnlpZia"}).append(a("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfl"})).append(a("<div>",{class:"zgs19_gsnlpZiaTxt zgs19_gsfl"}).text("Zia")).append(a("<div>",{class:"zgs19_gsfl zgs19_gsnlpZiaIcon"}).append(a("<label>",{class:"zgs19_switch",for:"checkbox"}).append(a("<input>",{type:"checkbox",id:"zgs20_gsNLPSearchEnabled",gsa:"nlp_zia"})).append(a("<div>",{class:"zgs19_slider zgs19_round"})))),a(".zgs19_gsqryinnerdiv").append(e).addClass("zgs19_nlpEnabled"),t.setSearchBoxSegmentSize(),t.gsnlpsearch.toggleNLPSearchForServices()),1===r.UIType&&t.GSConstant.isNLPTracerEnabled&&!t.gsnlpsearch.isTracerObtained&&t.ziaProperties.isPropertyNeeded("isTracerNeeded")&&(t.gsnlpsearch.isTracerObtained=!0,t.network.loadSRIJSFile("js/nlptracer.js"))},s.toggleNLPSearchForServices=function(){var e;t.GSConstant.hasOwnProperty("nlp_enabled_apps")&&(e=t.getSearchType(),t.isArrayContain(e,t.GSConstant.nlp_enabled_apps)?(document.getElementById("zgs20_gsNLPSearchEnabled").disabled=!1,a(".zgs19_gsnlpZia").removeClass("zgs19_gsHideEleme")):(document.getElementById("zgs20_gsNLPSearchEnabled").disabled=!0,document.getElementById("zgs20_gsNLPSearchEnabled").checked=!1,a(".zgs19_gsnlpZia").addClass("zgs19_gsHideEleme")))},s.storeNLPTracerData=function(e){!e||(e="string"==typeof e?JSON.parse(e):e).hasOwnProperty("tracer")&&(t.gsnlpsearch.nlptracerdata=e.tracer)},s.clearNLPTracerData=function(){t.gsnlpsearch.nlptracerdata="",a(".zgs19_nlpTracerContent").html("")},s.toggleNLPTracer=function(){var e;s.isNLPTracerOpened?s.hideNLPTracer():(e=t.getTargetElem("zgs20_gsnlpTracerData"),a(".zgs19_nlpTracerLink").addClass("zmHactive"),a(e).css("display","block"),t.gsnlpsearch.nlptracerdata?(t.gsnlpsearch.nlptracerdata=t.gsnlpsearch.nlptracerdata.replaceAll("zgs_search_nonce_value",t.GSConstant.nonceVal),a(".zgs19_nlpTracerContent").html("").html(t.gsnlpsearch.nlptracerdata),a(".zgs19_nlpTracerContent").scrollTop(0),a(".zgs19_nlpTracerContent").scrollLeft(0)):a(".zgs19_nlpTracerContent").html("").append(a("<div>",{class:"zgs19_nlpTracerNoContent"}).text("No Tracer Data Availalble")),s.isNLPTracerOpened=!0)},s.hideNLPTracer=function(){var e;s.isNLPTracerOpened&&(e=t.getTargetElem("zgs20_gsnlpTracerData"),a(".zgs19_nlpTracerLink").removeClass("zmHactive"),a(e).css("display","none"),s.isNLPTracerOpened=!1)},s.validateAskZiaTab=function(){let e=t.getNLPEnabledApps(),s=t.getEnabledServiceList();return e&&s&&e.some(e=>s.includes(e))},s)}(zgssearch,window),zgssearch.ProximityContacts=zgssearch.ProximityContacts||{},zgssearch.ProximityContacts.proximityContacts=[],zgssearch.ProximityContacts.zuidVsEmailId=zgssearch.ProximityContacts.zuidVsEmailId||{},zgssearch.ProximityContacts.autoSuggContactsURL="/zgssearch/api/v1/contactsSuggestions",zgssearch.ProximityContacts.cuz=zgssearch.ProximityContacts.cuz||"",zgssearch.ProximityContacts.cuo=zgssearch.ProximityContacts.cuo||"",zgssearch.ProximityContacts.peoplePhotoURL=zgssearch.ProximityContacts.peoplePhotoURL||"",zgssearch.ProximityContacts.contacts_photo_url=zgssearch.ProximityContacts.contacts_photo_url||"",zgssearch.ProximityContacts.getTopContacts=function(e,s,t){s=s.hasOwnProperty("addEmailOnlyContacts")?"&add_email_only_contacts="+s.addEmailOnlyContacts:"";zgssearch.ProximityContacts.fetchAutoSuggestProximityContacts("action=topContacts&api_consumer="+e+s,{argparams:t})},zgssearch.ProximityContacts.getQueriedContacts=function(e,s,t){var a="action=getContacts&api_consumer="+e,e="&start="+s.start+"&limit="+s.limit+"&query="+s.query,s=s.hasOwnProperty("addEmailOnlyContacts")?"&add_email_only_contacts="+s.addEmailOnlyContacts:"";zgssearch.ProximityContacts.fetchAutoSuggestProximityContacts(a+e+s,{argparams:t})},zgssearch.ProximityContacts.fetchAutoSuggestProximityContacts=function(e,s){zgssearch.uri("GET",zgssearch.ProximityContacts.autoSuggContactsURL+"?"+e,null,s,function(e,s,t){var a,r,o,i;e&&(i={},r=(a=(t&&t.args?t.args:{}).argparams).hasOwnProperty("queryUrl")?a.queryUrl:"",o=a.hasOwnProperty("callback")?a.callback:"",t=a.hasOwnProperty("service")?a.service:"",i=zgssearch.ProximityContacts.processContacts(e),"zia"===t?zgssearch.gsusercontacts.storeExtraValuesForContacts(e,i,r,a):o&&o(i))})},zgssearch.ProximityContacts.processContacts=function(e){zgssearch.ProximityContacts.cuz=e.hasOwnProperty("cuz")?e.cuz:"",zgssearch.ProximityContacts.cuo=e.hasOwnProperty("cuo")?e.cuo:"",zgssearch.ProximityContacts.peoplePhotoURL=e.hasOwnProperty("people_photo_url")?e.people_photo_url:"",zgssearch.ProximityContacts.contacts_photo_url=e.hasOwnProperty("contacts_photo_url")?e.contacts_photo_url:"";var s=[],t={};if(e.hasOwnProperty("contacts"))for(var a=(s=e.contacts||[]).length,r=0;r<a;r++){var o=s[r]||{},i=o.cz,n=i&&-1!=i?i:"",l=o.em||"",g=o.hasOwnProperty("fN")?o.fN.trim():"",c=o.hasOwnProperty("nN")?o.nN.trim():"",o={DNAME:c||g,NICKNAME:c,FULLNAME:g,EMAILID:l,ZUID:n,UC:a-r,PURL:zgssearch.ProximityContacts.constructPhotoUrl(o)};zgssearch.ProximityContacts.proximityContacts.push(o),(zgssearch.ProximityContacts.zuidVsEmailId[i]=l)&&!t.hasOwnProperty(l)&&(t[l]=o)}return t},zgssearch.ProximityContacts.constructPhotoUrl=function(e){var s,t,a="";return e.hasOwnProperty("cId")?(s=e.cId,a=zgssearch.ProximityContacts.contacts_photo_url+zgssearch.ProximityContacts.cuz+"/contacts/"+s+"/photo?include=default_photo"):e.hasOwnProperty("ocId")?(t=e.ocId,a=zgssearch.ProximityContacts.contacts_photo_url+zgssearch.ProximityContacts.cuo+"/contacts/"+t+"/photo?include=default_photo"):e.hasOwnProperty("erec")&&(t=e.erec,e=zgssearch.ProximityContacts.peoplePhotoURL,t&&e&&(a=e+t)),a},zgssearch.ProximityContacts.jsonParse=function(s){try{return JSON.parse(s)}catch(e){return zgssearch.throwClientError("Error while parsing data",e),s}},zgssearch.QUERY_OBJ_NAME="name",zgssearch.QUERY_OBJ_VALUE="value",zgssearch.QUERY_OBJ_TYPE="type",zgssearch.QUERY_OBJ_OPERATOR="operator",zgssearch.QUERY_OBJ_EXPANDED_VALUE="ExpandedValue",zgssearch.QUERY_OBJ_DT_QUERY=0,zgssearch.QUERY_OBJ_DT_MENTION=1,zgssearch.QUERY_OBJ_DT_STRING=2,zgssearch.QUERY_OBJ_DT_DATE_TIME=3,zgssearch.QUERY_OBJ_DT_RELATIVE_DATE=4,zgssearch.QUERY_OBJ_DT_LONG=5,zgssearch.QUERY_OBJ_DT_INT=6,zgssearch.QUERY_OBJ_DT_BOOLEAN=7,zgssearch.QUERY_OBJ_DT_MAILID=8,zgssearch.QUERY_OBJ_DT_DECIMAL=9,zgssearch.QUERY_OBJ_DT_LOOKUP=10,zgssearch.QUERY_OBJ_STRING_CONTAINS=0,zgssearch.QUERY_OBJ_STRING_NOT_CONTAINS=1,zgssearch.QUERY_OBJ_LONG_IS=0,zgssearch.QUERY_OBJ_LONG_IS_NOT=1,zgssearch.QUERY_OBJ_LONG_BETWEEN=2,zgssearch.QUERY_OBJ_RELATIVE_DATE_TYPE_THIS=0,zgssearch.QUERY_OBJ_RELATIVE_DATE_TYPE_PREV=1,zgssearch.QUERY_OBJ_RELATIVE_DATE_TYPE_LAST=2,zgssearch.QUERY_OBJ_RELATIVE_DATE_TYPE_NEXT=3,zgssearch.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_DAY=0,zgssearch.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_WEEK=1,zgssearch.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_MONTH=2,zgssearch.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_YEAR=3,zgssearch.TYPE_TEXT=0,zgssearch.TYPE_NUMBER=1,zgssearch.TYPE_BOOLEAN=2,zgssearch.TYPE_DATETIME=3,zgssearch.TYPE_RELATIVEDATE=4,zgssearch.TYPE_SINGLE_SELECT_PICKLIST=5,zgssearch.TYPE_MULTI_SELECT_PICKLIST=6,zgssearch.TYPE_SINGLE_SELECT_USER=7,zgssearch.TYPE_MULTI_SELECT_USER=8,zgssearch.TYPE_LOOKUP=9,zgssearch.WS="workspaces",zgssearch.SETTINGS_ACTION_NAMES={APPLICATION_TAB:"S_A",GENERAL_TAB:"S_G",SAVEDSEARCHES_TAB:"S_S",CLOSE_TAB:"S_C"},zgssearch.maxSelFiltersCount=10,zgssearch.GSClientConstants=zgssearch.hasOwnProperty("GSClientConstants")?zgssearch.GSClientConstants:{},zgssearch.GSClientConstants.Common=zgssearch.GSClientConstants.hasOwnProperty("Common")?zgssearch.GSClientConstants.Common:{},zgssearch.GSClientConstants.Common.modules="modules",zgssearch.GSClientConstants.Common.accounts="accounts",zgssearch.GSClientConstants.LEARN=zgssearch.GSClientConstants.hasOwnProperty("LEARN")?zgssearch.GSClientConstants.LEARN:{},zgssearch.GSClientConstants.LEARN.filterby="filterby",zgssearch.GSClientConstants.LEARN.spaces="spaces",zgssearch.GSClientConstants.LEARN.manuals="manuals",function(t){var u,h=t._jQueryGS,s=t.document,_=t.zgssearch||{};_.userDetailsTemplateCreated=!1,_.gstopband=(u=void 0,u=_.gstopband||{},_.userDisplayName="undefined"!=typeof userDisplayName&&userDisplayName||"",_.userEmailId="undefined"!=typeof userEmailId&&userEmailId||"",u.createHamburgerTemplate=function(e){var s=u.jsonParse(e),e={allApps:_.getI18NMsg("gs.search.hamburger.allApps"),workPlaceApps:_.getI18NMsg("gs.search.hamburger.workPlaceApps"),allAppsSwitch:_.getI18NMsg("gs.search.hamburger.allAppsSwitch"),workPlaceSwitch:_.getI18NMsg("gs.search.hamburger.workPlaceSwitch")};t.topApps.init(s,e)},u.createTopBandHolder=function(e){var s,t=_.isNICDomain()?"zgs19_userDetailsNonHam":"",a="",r="";1!==_.gscomponent.UIType&&!_.isIntegViewPage||(a="<a class='zgs19_gsOverflow zgs19_gsLogoText' href='/searchhome' 'title'="+(s=_.getI18NMsg("gs.search.service_welcome_page"))+">"+s+"</a>"),e&&(r="\n                    <div id='zgs20_gsHamburger' class='zmHamburger' gs='hamburger' gsa='hamburger'>\n                        <div><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div>\n                    </div>\n                    <div id='zgs20_gsHamburgerData' class='zgs19_gsHamburgerData zmHApps zgs19_gsDisplayNone' gs='hamburgerData'></div>");let o="",i="";return _.ziaProperties.isPropertyNeeded("isTopBandIntegIcon")&&(o="\n<span class='zgs18_gsIntegIcon zgs19_gsDisplayNoneImp' gs='openIntegUserPageInNewTab'></span>"),_.ziaProperties.isPropertyNeeded("isTopBandSettingsIcon")&&(i='\n<span class="zgs18_gsSettingsIconTop" gs="settingsPanelMenu" style="display: none;"></span>'),"<div id='zgs20_gsSearchTopBandHolder' class='zgs19_gsSearchTopBandHolder'>\n                <div id='zgs20_gsLogoHolder' class='zgs19_gsLogoHolder zgs19_gsServicesPaneWid'>\n                    <a class='zgs19_gsSearchIcon zgs18_searchLogo' href='/searchhome'></a>\n                    <div id ='zgs20_gsMobBandName' class='zgs19_gsMobBandName'>"+a+"</div>\n                </div>\n                <div id='zgs20_gsSearchBoxRight' class='zgs19_gsInfoBox "+(e?"zgs19_gsMinWidth100":"zgs19_gsMinWidth50")+"'>"+o+i+"<div id='zgs20_gsUserProfile' class='zgs19_gsUserProfile' gs='userDetails'gsa='user_profile'><img src='"+_.gsspacer+"'  id='zgs20_gsUserProPic'  gs='gsProfilePhoto' class='zgs19_gsFetchImgLoader zgs19_gstopFetchLoader'></div>\n                  <div id='zgs20_gsUserDetails' class='zgs19_userDetails zgs19_gsDisplayNone "+t+"' gs='userData'></div>"+r+"</div>\n            </div>"},u.createStandAloneTopBand=function(e,s){var t,a,r;e&&""!=e&&0==h(e).length&&(t=h("<div>",{id:"zgs20_zohosearch",class:"zgs19CompTopBandContainer"}),a=0<h("#zgs20_gsSearchTopBandHolder").length?"":u.createTopBandHolder(!1),r=_.GSConstant.GS_CONTACTS_URL+"/file?fs=thumb&nocache="+(new Date).getTime(),e=h("#zgs20_globalsearch"),t[0].innerHTML=a,s.prepend(t),0==e.length&&(e=_JQueryGS("<div>",{id:"zgs20_globalsearch"}),h("body").append(e)),e.addClass("zgs19CompGSContainer"),h("#zgs20_gsUserDetails").detach().appendTo(e).addClass("zgs19_userDetailsMiniPopup"),_.gscomponent.setDOMDirection(void 0,"zgs20_zohosearch"),s.find("#zgs20_gsSearchTopBandHolder").addClass("zescls_nonSearchTopBandSize"),_.loadUserPropic("zgs20_gsUserProPic",r,"zgs19_gsUserImg"))},u.createMiniPopup=function(){_.userDisplayName=_.GSConstant.cun,_.userEmailId=_.GSConstant.cue,_.contactServer=_.GSConstant.GS_CONTACTS_URL,_.gstopband.createUserDetailsTemplate(2),_.gstopband.toggleUserDetails()},u.appendThemeSupportInProfile=function(){h(".zgs19_gsUserDetailsDataNavi").append(h("<div>",{class:"zgs19_gsAppearanceOuterContainer zgs19_gsPPSegment"}).append(h("<div>",{class:"zgs19_gsAppearanceContainer zgs19_gsfl"}).append(h("<div>",{class:"zgs19_gsProfileTitles zgs19_gsOverflow zgs19_gsfl",title:_.getI18NMsg("gs.search.themesupport.Appearance")}).text(_.getI18NMsg("gs.search.themesupport.Appearance"))).append(h("<div>",{class:"zgs19_gsmodeboxcontainer"})))),_.ziaProperties.isPropertyNeeded("profile_isDarkMode")&&u.appendModeElem(_.getI18NMsg("gs.search.themesupport.mode.dark"),"DarkMode"),u.appendModeElem(_.getI18NMsg("gs.search.themesupport.mode.light"),"LightMode"),u.appendModeElem(_.getI18NMsg("gs.search.themesupport.nightmode"),"NightMode"),h(".zgs19_gsAppearanceOuterContainer").append(h("<div>",{class:"zgs19_gsAccentContainer zgs19_gsfl"}).append(h("<div>",{class:"zgs19_gsProfileTitles zgs19_gsOverflow",title:_.getI18NMsg("gs.search.themesupport.Accent")}).text(_.getI18NMsg("gs.search.themesupport.Accent"))).append(h("<div>",{class:"zgs19_gsAccentBoxContainer"})));for(var e=["Blue","Red","Green","Yellow"],s=e.length,t=0;t<s;t++)u.renderThemes(e[t]);u.setAppearanceAndAccent(_.GSConstant)},u.appendMobSupportInProfile=function(){var e;_.isZohoDomain()&&(e=-1<_.GSConstant.INSTALLATION.indexOf("Zoho-CN")?"zgs19_gsCNAndroidSupLink":"zgs19_gsAndroidSupLink",h(".zgs19_gsUserDetailsDataNavi").append(h("<div>",{class:"zgs19_gsUDMobSup zgs19_gsPPSegment"}).append(h("<div>",{class:"zgs19_gsProfileTitles zgs19_gsOverflow",title:_.getI18NMsg("gs.search.themesupport.downloadapp")}).text(_.getI18NMsg("gs.search.themesupport.downloadapp"))).append(h("<div>",{class:"zgs19_gsUPScannerOuter"}).append(h("<div>",{class:"zgs19_gsUPScanner"}))).append(h("<div>",{class:"zgs19_gsWPSupportInner"}).append(h("<a>",{rel:"noopener noreferrer",class:e+" zgs19_gsfl",href:_.GSConstant.ANDROID_LINK,target:"_blank"})).append(h("<a>",{rel:"noopener noreferrer",class:"zgs19_gsiOSSupLink zgs19_gsfl",href:_.GSConstant.IOS_LINK,target:"_blank"})))))},u.appendExtensionProfilePage=function(){if(_.isZohoDomain()){h(".zgs19_gsUserDetailsDataNavi").append(h("<div>",{class:"zgs19_gsPPSegment zgs19_extensionprofilepage"}).append(h("<div>",{class:"zgs19_gsProfileTitles zgs19_gsOverflow",title:_.getI18NMsg("gs.search.themesupport.downloadextension")}).text(_.getI18NMsg("gs.search.themesupport.downloadextension"))).append(h("<div>",{class:"zgs19_extensionslinks"})));for(var e=[{type:"Chrome",href:"https://chrome.google.com/webstore/detail/zia-search-from-zoho/jebapbhanimlfnddnammimbopafiddkd",src:"https://www.zohowebstatic.com/sites/zweb/images/othercompanylogos/chrome.svg"},{type:"Firefox",href:"https://addons.mozilla.org/en-US/firefox/addon/zia-search-from-zoho/",src:"https://www.zohowebstatic.com/sites/zweb/images/othercompanylogos/firefox.svg"},{type:"Edge",href:"https://microsoftedge.microsoft.com/addons/detail/zia-search-from-zoho/imkodkffjmeohejablcfikcgcpmddbml",src:"https://www.zohowebstatic.com/sites/zweb/images/othercompanylogos/edge.svg"},{type:"Safari",href:"https://apps.apple.com/in/app/zia-search-from-zoho/id1595570784",src:"https://www.zohowebstatic.com/sites/zweb/images/othercompanylogos/safari.svg"}],s=e.length,t=0;t<s;t++)u.renderExtensionElements(e[t])}},u.createUserDetailsTemplate=function(d){var p;_.userDetailsTemplateCreated||(_.userDetailsTemplateCreated=!0,p=_.contactServer+"/file?fs=thumb&nocache="+(new Date).getTime(),_.network.imageRenderer.renderImage(p,null,function(e){var s=e||p,t=_.isExtension?_.httpstxt+"://"+GSConstant.searchdomainURL:"",a="zgs19_userDetailsArrow",r="zgs19_gsUserDetailsData",o="zgs19_gsUserDetailsAccountsPane",i="zgs19_userDetailsButton",n="zgs19_gsUserLogoutButton",l="javascript:void(0);",e="myaccounts";1!==d&&2!==d||(1===d?a="zgs19_userDetailsArrowPopup":2===d&&(a="zgs19_userDetailsTopArrow"),r="zgs19_gsUserDetailsDataPopup",o="zgs19_gsUserDetailsAccountsPanePopup",i="zgs19_userDetailsButtonPopup",n="zgs19_gsUserLogoutButtonPopup",e="",l=_.GSConstant.IAM_ACCOUNTS_URL);let g="",c="";if(_.GSConstant.supportMail||_.GSConstant.helpDeskPhoneNo){let e="",s="";_.GSConstant.supportMail&&(e=h("<div>",{class:"zgs19_gsHelpDeskInfo"}).append(h("<span>",{class:"zgs19_gsHelpDeskInfoKey zgs19_gsOverflow"}).text(_.getI18NMsg("gs.help_desk.email_support"))).append(h("<span>",{class:"zgs19_gsHelpDeskInfoVal zgs19_gsOverflow"}).text(_.GSConstant.supportMail)).append(h("<span>",{class:"zgs18_gsCopyLink zgs19_gsHelpDeskMailCopyIcon",gstitle:_.getI18NMsg("gs.search.callout.copyMailId"),gs:"copyMailId"}))),_.GSConstant.helpDeskPhoneNo&&(s=h("<div>",{class:"zgs19_gsHelpDeskInfo"}).append(h("<span>",{class:"zgs19_gsHelpDeskInfoKey zgs19_gsOverflow"}).text(_.I18N.getValue("gs.help_desk",[_.GSConstant.supportMailDomain]))).append(h("<span>",{class:"zgs19_gsHelpDeskInfoVal zgs19_gsMxWid70PerImp zgs19_gsOverflow"}).text(_.GSConstant.helpDeskPhoneNo))),g=h("<div>",{class:"zgs19_gsHelpDeskInfoWrapper"}).append(e).append(s),c="zgs19_gsUserInfoNewHt"}h("#zgs20_gsUserDetails").empty().append(h("<div>",{class:a})).append(h("<div>",{class:r}).append(h("<div>",{class:"zgs19_gsUserInfo "+c}).append(h("<div>",{class:"zgs19_gsUserDetailsDataPhoto"}).append(h("<img>",{src:s,class:"zgs19_gsUserImgProf zgs19_gsfl"}))).append(h("<div>",{class:"zgs19_gsUserDetailsDatainformation"}).append(h("<div>",{class:"zgs19_gsUserDetailsDataName",title:_.getI18NMsg(_.userDisplayName),gs:"userdisplayname"}).text(_.userDisplayName)).append(h("<div>",{class:"zgs19_gsUserDetailsDataEmail",title:_.getI18NMsg(_.userEmailId),gs:"useremailid"}).text(_.userEmailId)))).append(g).append(h("<div>",{class:"zgs19_gsUserDetailsDataNavi"}))),1!=d&&(u.appendRTLSwitch(),2!=d&&(_.isDashboardEnabled&&u.addNewFeatureTourElems(),_.isIE||u.appendThemeSupportInProfile(),_.ziaProperties.isPropertyNeeded("profile_MobileSupport")&&(u.appendMobSupportInProfile(),u.appendExtensionProfilePage())));s="_blank";"zgs19_gsUserLogoutButton"===n&&(s="_self");t=h("<div>",{class:o}).append(h("<a>",{rel:"noopener noreferrer",gs:e,class:i+" zgs19_gsfl",href:l,target:"_blank",gstitle:_.getI18NMsg("gs.search.userdetails.myaccount")}).text(_.getI18NMsg("gs.search.userdetails.myaccount")).append(h("<span>",{class:"zgs18_gsppicons_popout zgs19_iconforaccount",gs:"myaccounts"}))).append(h("<a>",{class:n+" zgs19_gsfr",target:s,gs:"signout",href:t+"/logout",gstitle:_.getI18NMsg("gs.search.userdetails.signout")}).text(_.getI18NMsg("gs.search.userdetails.signout")));h(".zgs19_gsUserDetailsDataNavi").append(t),u.resizeProfilePage(),u.profileClickEvents()}))},u.appendRTLSwitch=function(){_.GSConstant.hasOwnProperty("zsdirectioncomponent")&&_.GSConstant.zsdirectioncomponent&&h(".zgs19_gsUserDetailsDataNavi").append(h("<div>",{class:"zgs19_gsDirectionPPSegment"}).append("RTL").append(h("<label>",{class:"zgs19_switch",for:"checkbox"}).append(h("<input>",{type:"checkbox",id:"zgs20_direction"})).append(h("<div>",{class:"zgs19_slider zgs19_round"}))))},u.getTheme=function(e){return _.GSConstant.theme=e&&e.hasOwnProperty("theme")?e.theme:_.getLocalStorageValue("theme")||"zsBlueTheme"},u.getMode=function(e){return _.GSConstant.mode=e&&e.hasOwnProperty("mode")?e.mode:_.getLocalStorageValue("mode")||"zsDarkMode"},u.getIsNightModeEnabled=function(e){e=e&&e.hasOwnProperty("isNightModeEnabled")?e.isNightModeEnabled:_.getLocalStorageValue("isNightModeEnabled")||!1;return e=_.GSConstant.isNightModeEnabled=/true/i.test(e)},u.setAppearanceAndAccent=function(e){var s=u.getTheme(e);_.setTheme(s),localStorage.setItem("theme",s);var t=u.getMode(e);_.setMode(t);e=u.getIsNightModeEnabled(e);_.setNightMode(e),u.selectAppearanceAndAccent(t=e?"zsNightMode":t,s)},u.selectAppearanceAndAccent=function(e,s){_.userDetailsTemplateCreated&&(h("[mode="+e+"]").addClass("zgs19_gsModeSelected"),h('[theme="'+s+'"]').prop("checked",!0))},u.resizeProfilePage=function(){var e,s;1===_.gscomponent.UIType&&(e=h(t).height()-_.getWMSBarHeight()-h(".zgs19_gsUserProfile").outerHeight()-2*parseInt(h("#zgs20_gsUserDetails").css("borderWidth")),s=h(".zgs19_gsUserInfo").outerHeight(),h(".zgs19_gsUserDetailsDataNavi").css("max-height",e-s))},u.getHamburgerData=function(){u.isHamburgerDataLoaded||(u.isHamburgerDataLoaded=!0,u.getAllAppsData())},u.hamburgerMouseEvent=function(){h("div#zgs20_gsHamburger").off().on({mouseenter:function(){u.getHamburgerData()}})},u.triggerHamburger=function(){0==h("#zgs20_gsHamburgerData").find(".zgs19_gsHamburgerDataLoader").length&&(h("#zgs20_gsHamburgerData").append("<div class='zgs19_gsHamburgerDataLoader'><div class='zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsCalloutLoader'><div class='zgs19_gsRequestLoadera'></div><div class='zgs19_gsRequestLoaderb'></div><div class='zgs19_gsRequestLoaderc'></div><div class='zgs19_gsRequestLoaderd'></div></div></div>"),u.hamburgerMouseEvent())},u.toggleHamburger=function(){var e;u.isAllappsOpened?u.hideHamburger():(e=u.getTargetElem("zgs20_gsHamburgerData"),h("#zgs20_gsHamburger").addClass("zmHactive"),h("#zgs20_gsHamburgerData").removeClass("zmHApps"),h(e).show(),u.isAllappsOpened=!0)},u.hideHamburger=function(){var e;u.isAllappsOpened&&(e=u.getTargetElem("zgs20_gsHamburgerData"),h("#zgs20_gsHamburger").removeClass("zmHactive"),h(e).hide(),u.isAllappsOpened=!1)},u.toggleUserDetails=function(){u.isUserDetailsOpened?u.hideUserDetails():(h("#zgs20_gsUserDetails").addClass("zmHactive").show(),u.isUserDetailsOpened=!0,u.resizeProfilePage())},u.hideUserDetails=function(){u.isUserDetailsOpened&&(h("#zgs20_gsUserDetails").removeClass("zmHactive").hide(),u.isUserDetailsOpened=!1)},u.addNewFeatureTourElems=function(){_.ziaProperties.isPropertyNeeded("profile_newFeatureSet")&&h(".zgs19_gsUserDetailsDataNavi").append(h("<div>",{class:"zgs19_featuresets"}).append(h("<div>",{class:"zgs19_gsTourOpt zgs19_gsCurPointer zgs19_gsOverflow",gstour:"tourbus-start"}).append(h("<span>",{class:"zgs18_gsppicons_tour zgs19_touricon"})).append(h("<span>",{class:"zgs19_gsCurPointer"}).text(_.getI18NMsg("t.tak_tour")))).append(h("<div>",{class:"zgs19_gsFeatureOpt zgs19_gsOverflow"}).append(h("<span>",{class:"zgs19_gsCurPointer"}).text(_.getI18NMsg("t.new_features")))))},u.handleHamburgerError=function(e,s){var t={};t[e]=s,_.resultHolder.push(t)},u.getAllAppsData=function(){_.network.xmlHttpReq("POST","/allapps",!1,function(e){e&&e.status&&"error"!=e.status?u.createHamburgerTemplate(e.response):u.handleHamburgerError("ERROR",e)})},u.getTargetElem=function(e){return s.getElementById(e)},u.jsonParse=function(s){try{return JSON.parse(s)}catch(e){return _.throwClientError("Error while parsing data",e),s}},u.renderExtensionElements=function(e){h(".zgs19_extensionslinks").append(h("<a>",{class:"zgs19_gs"+e.type+"Elem zgs19_gsExtensionImage",href:e.href,target:"_blank"}).append(h("<img>",{src:e.src})))},u.renderThemes=function(e){h(".zgs19_gsAccentBoxContainer").append(h("<label>",{class:"zgs19_gsthemecontainer zgs19_gsfl"}).append(h("<input>",{name:"zstheme",theme:"zs"+e+"Theme",type:"radio"})).append(h("<span>",{class:"zgs18_checkmark zgs19_gsAccentSelected zgs19_cb"+e})))},u.appendModeElem=function(e,s){var t="zgs18_gs"+s;h(".zgs19_gsmodeboxcontainer").append(h("<div>",{class:"zgs19_gsModeContainerOuter",mode:"zs"+s}).append(h("<div>",{class:t+" zgs19_gsModeIcon"})).append(h("<span>",{class:"zgs19_gsmodecontainertext zgs19_gsOverflow"}).text(e))),_.obtainLineIconPaths(t,"."+t)},u.profileClickEvents=function(){h("#zgs20_direction").change(function(){var e=s.getElementById("zgs20_direction").checked?"rtl":"ltr";_.gscomponent.setDOMDirection(e)}),h(".zgs19_gsModeContainerOuter").off().on("click",function(){var e=h(this).attr("mode"),s="",s="zsNightMode"==e?(_.GSConstant.isNightModeEnabled=!0,"action=updatesettingsdata&isNightMode="+_.GSConstant.isNightModeEnabled):(_.GSConstant.isNightModeEnabled=!1,_.setMode(e),"action=updatesettingsdata&mode="+e);_.uri(_.POST,_.postUserSettingsDataURL,s,"",function(e,s,t){}),_.setNightMode(_.GSConstant.isNightModeEnabled),h(".zgs19_gsModeSelected").removeClass("zgs19_gsModeSelected"),h(this).addClass("zgs19_gsModeSelected")}),h('input[name^="zstheme"]').change(function(){var e=h(this).attr("theme");_.setTheme(e),localStorage.setItem("theme",e),_.uri(_.POST,_.postUserSettingsDataURL,"action=updatesettingsdata&theme="+e,"",function(e,s,t){})}),h(".zgs19_gsTourOpt").off().on("click",function(e){_.hideAllDropdownList();var s=e.target;"tourbus-start"!==h(s).attr("gstour")&&!_.getParentNode(s,"tourbus-start","gstour")||(_.gsfeatureComponent.hideFeatureCarousel(),_.gstourcomponent.showTourComponent(),_.stopEvent(e))}),h(".zgs19_gsFeatureOpt").off().on("click",function(e){_.hideAllDropdownList(),_.gsfeatureComponent.showFeatureCarousel()})},u),t.zgssearch=_}(window),function(d,a){var p=a._jQueryGS,c=d.getGSConstantObj()||{},r=d.gscomponent||{};d.quickActionsConstants=d.quickActionsConstants||{},d.quickActionsConstants.dashboard={icon:"zgs18_gsDashboardIcon zgs19_gsDashboardIcon",dispName:"common.d.dashboards",gsAttr:"createDbAction"},d.quickActionsConstants.cards={icon:"zgs18_CardsIcon zgs19_gsCardsIcon",dispName:"common.cards",gsAttr:"createCardAction"},d.renderHomePageQuickActions=function(){var e,s,t;d.isShowQuickActionsPage&&(document.getElementById("zgs20_gsQuickActionsSection")?"none"==p("#zgs20_gsQuickActionsPage").css("display")&&d.showQuickActionsPage():(d.displayDefaultPage(),p("#"+(e="zgs20_gsQuickActionsPage")).length?p("#"+e).css("display","block"):(p("#zgs20_gsResultsHolder").append(p("<div>",{id:e,class:"zgs19_gsHght100Per zgs19_gsOvfwYAuto"}).append("<div id='zgs20_gsQuickActionsSection' class='zgs19_gsQuickActionsPage zgs19_gsDisplayNone'>")),s=Object.keys(d.cardTypeConstants),d.isCardRespRecieved=!1,d.isDashboardRespRecieved=!1,d.renderQuickActionsSection(),d.constructQuickActionSection("cards",d.getI18NMsg("common.cards")),d.gscardUtils.getMergedCardMetaData(s,0,100,0,d.renderQuickActionsCardsSection),d.constructQuickActionSection("dashboard",d.getI18NMsg("common.d.dashboards"),""),t={sort:0,callback:d.renderQuickDashboardSection},s="start=0&count="+d.dashboardCount,d.gsdbUtils.getDashboardMeta(s,t),d.constructAnnouncementSection()),t={id:"search_home",title:"homepage",url:s=a.location.origin+"/searchhome"},1===r.UIType?history.pushState(t,t.title,s):d.currState=t))},d.constructAnnouncementSection=function(){var e=d.getI18NMsg("gs.announcement.header"),s=d.getI18NMsg("gs.announcement.tagline"),t=d.getI18NMsg("gs.search.trynow"),s=p("<span>",{gstitle:s,class:"zgs19_gsOverflowWrap zgs19_gsMxWid80Per zgs19_gsLineHgt22Px zgs19_gsTwoLineEllipsis"}).text(s),t=p("<span>",{gstitle:t,class:"zgs19_gsTryNow zgs19_gsOverflow zgs19_gsCurPointer",gs:"announcementSearch"}).text(t),t=p("<div>",{class:"zgs19_gsAnnouncementBanner"}).append(p("<div>",{class:"zgs19_gsBanner"}).append(p("<div>",{class:"zgs19_gsAnnouncementIcon"}).append(p("<div>",{class:"zgs18_gsAnnouncementIcon"}))).append(p("<div>",{class:"zgs19_gsAnnouncementDiv"}).append(p("<div>",{class:"zgs19_gsAnnouncementHeader"}).append(p("<div>",{class:"zgs19_gsOverflow"}).text(e))).append(p("<div>",{class:"zgs19_gsOverflowWrap zgs19_gsAnnouncementText zgs19_gsfl"}).append(s).append(t))));p("#zgs20_gsQuickActionsPage").append(t)},d.constructQuickActionSection=function(e,s,t){d.isShowQuickActionsPage=!0,d.hideWelcomePage();t=d.getQuickActionComponent(e,s,t,"");p("#zgs20_gsQuickActionsSection").css("display","flex"),p("#zgs20_gsQuickActionsSection").append(t),d.getSkeletonLoader("zgs20_gs"+e+"QuickActList",e)},d.getQuickActionComponent=function(e,s,t,a){return p("<div>",{id:"zgs20_gs"+e+"QuickActions",class:"zgs19_gsQuickActSection "+a}).append(p("<div>",{class:"zgs19_gsQuickActSectInr"}).append(p("<span>",{class:"zgs19_gsQuickActHdr"}).text(s)).append(p("<div>",{id:"zgs20_gs"+e+"QuickActList",class:"zgs19_gsQuickActCont"})).append(p("<div>",{id:"zgs20_gs"+e+"More",class:"zgs19_gsQuickActMore zgs19_gsDisplayNone",gs:e+"More",type:t}).text(d.getI18NMsg("gs.view_all"))))},d.getSkeletonLoader=function(e,s){for(var t=p("<div>",{id:"zgs20_gs"+s+"ViewSkeletonLoader"}),a=0;a<4;a++){var r=d.Utils.createElement("div","zgs20_gsSkeletonLoader","zgs19_gsHgt40Px zgs19_gsPdng7Px","","","<div class='zgs19_gsLoadSkeletonCircle zgs19_gsfl'></div><div class='zgs19_gsLoadSkeletonLine'></div>");p(t).append(r)}p("#"+e).append(t)},d.hideSkeletonLoader=function(e){p("#zgs20_gs"+e+"ViewSkeletonLoader").remove()},d.setQuickActionSectionWidth=function(){p(".zgs19_gsQuickActSection").css("width",100/3+"%")},d.removeQuickActionsSection=function(e){p("#zgs20_gs"+e+"QuickActions").remove()},d.renderQuickActionsElements=function(e,s,t,a,r,o,i,n,l){var g=p("<span>",{class:"zgs19_gsSSSerIcon zgs19_gsfl "+t}),a=p("<span>",{class:"zgs19_gsSSTitle zgs19_gsOverflow zgs19_gsQuickActionsEle",gstitle:a,gslabel:l}).text(a);p("#zgs20_gs"+e+"Loader").remove();a=p("<div>",{viewid:s,class:"zgs19_gsCardsInfoHome zgs19_gsSSServiceIcon zgs19_gsHgt35Px",type:r,gs:o,cardType:i,subcardtype:n}).append(p("<div>",{class:"zgs19_gsQuickActEachElem"}).append(g).append(a).append(p("<div>",{class:"zgs19_gsCardActionHolder zgs19_gsCurPointer zgs19_gsVisibleHidden"})));p("#zgs20_gs"+e+"QuickActList").append(a),d.LINE_ICON_MAP.hasOwnProperty(t)&&d.obtainLineIconPaths(t,p(g)[0])},d.renderQuickActionsSection=function(){d.constructQuickActionSection("actions",d.getI18NMsg("gs.search.service_welcome_quickactions")),d.hideSkeletonLoader("actions"),d.renderQuickActionsElements("actions","","zgs18_gsPlusIcon",d.getI18NMsg("gs.cards.create_card"),"","createCardAction",d.SAVED_CARD),d.renderQuickActionsElements("actions","","zgs18_gsPlusIcon",d.getI18NMsg("gs.dashboard.createDashboard"),"","createDbAction"),d.renderQuickActionsElements("actions","","zgs18_gsPlusIcon",d.getI18NMsg("gs.cards.create_bookmark_card"),"","createCardAction",d.BOOKMARK_CARD),d.renderQuickActionsElements("actions","","zgs18_gsSettingsIconAction",d.getI18NMsg("gs.menu.settings"),"","settingsPanelMenu")},d.renderQuickActionsCardsSection=function(e,s,t){var a=e.length;d.hideSkeletonLoader("cards");var r=p("#zgs20_gscardsQuickActList");if(t)r.append(p("<div>",{class:"zgs19_gsFontSize12Px zgs19_gsMxWid310Px zgs19_gsOverflow"}).text(t)),r.addClass("zgs19_gsCenteredColumnFlex");else if(0<a){for(var o=0;o<a&&o<10;o++){var i=e[o],n=i.hasOwnProperty("service")?d.mappedServiceList[i.service].serviceicon:"";!n&&i.subcardtype&&d.gscardUtils.isEmbedBookmarkCard(i.subcardtype)&&(n=d.gscardUtils.getIconForSubType(i.subcardtype));var l=i.id||i.cardid,g=i.name||i.cardname;d.renderQuickActionsElements("cards",l,n,g,i.cardtype,"cardMenuTitle",i.cardtype,i.subcardtype)}10==o&&o<a&&p("#zgs20_gscardsMore").css("display","block");t=p("#zgs20_gscardsQuickActions").height()-p("#zgs20_gscardsQuickActions .zgs19_gsQuickActHdr").outerHeight()-p("#zgs20_gscardsMore").outerHeight()-20;r.css("max-height",t+"px")}else r.append(d.renderEmptyQuickActionsSection("cards")),r.addClass("zgs19_gsCenteredColumnFlex");d.setQuickActionSectionWidth()},d.renderQuickDashboardSection=function(e,s){d.isDashboardRespRecieved=!0;var t=p("#zgs20_gsdashboardQuickActList");if(d.hideSkeletonLoader("dashboard"),s)t.append(p("<div>",{class:"zgs19_gsFontSize11Px"}).text(s)).addClass("zgs19_gsCenteredColumnFlex");else{var a=d.gsdbUtils.dashboardMeta,r=d.gsdbUtils.listOfDashboards,o=r.length;if(0<o){for(var i=0;i<o&&i<10;i++){var n=r[i],l=a[n].name;d.renderQuickActionsElements("dashboard",n,"zgs18_gsDashboardIcon zgs19_gsDashboardIcon",l,"","dbHomeTitle")}10==i&&i<o&&p("#zgs20_gsdashboardMore").css("display","block");s=p("#zgs20_gsdashboardQuickActions").height()-p("#zgs20_gsdashboardQuickActions .zgs19_gsQuickActHdr").outerHeight()-p("#zgs20_gsdashboardMore").outerHeight()-20;t.css("max-height",s+"px")}else 0==t.find(".zgs19_gsZeroDbContainer").length&&t.append(d.renderEmptyQuickActionsSection("dashboard")),d.renderDefaultDbDetailTemplate(),t.addClass("zgs19_gsCenteredColumnFlex");d.setQuickActionSectionWidth()}d.toggleHomePageBasedOnQuickActResp()},d.toggleHomePageBasedOnQuickActResp=function(){d.isCardRespRecieved&&d.isDashboardRespRecieved&&(d.isDashboardRespRecieved=!1,d.isCardRespRecieved=!1,0===p(".zgs19_gsQuickActSection").length&&"search"===d.selectedLeftPanelDivision&&d.showWelcomePage())},d.showQuickActionsPage=function(){d.isShowQuickActionsPage=!0,p("#zgs20_gsQuickActionsPage").css("display","block")},d.hideQuickActionsPage=function(){d.isShowQuickActionsPage=!1,p("#zgs20_gsQuickActionsPage").css("display","none")},d.renderLandingPage=function(){d.ziaProperties.isPropertyNeeded("isHomePageNeeded")&&(d.isDashboardEnabled&&!d.isMobViewport()?(d.hideWelcomePage(),d.renderHomePageQuickActions()):d.renderWelcomePage(),d.gscomponent.SMALL_UI_PROFILE_ENABLED&&d.createOverlayButton())},d.renderWelcomePage=function(){var e,s,t,a,r,o,i;d.loadWelcomePage||(p("#zgs20_gsWelcomePage").is(":visible")?d.isWPRNeeded=!0:(d.loadWelcomePage=!0,e=d.getI18NMsg("gs.search.service_welcome_page"),s=d.getI18NMsg("gs.search.service_welcome_pagetips"),p("#zgs20_gsHideScrollPage").exists()&&d.removeEle(p("#zgs20_gsHideScrollPage")[0]),p("#zgs20_gsResultsHolder").append(p("<div>",{id:"zgs20_gsHideScrollPage",class:"zgs19_gsHideScroll zgs19_gsServicesPaneLeft zgs19_gsDisplayNone"}).append(p("<div>",{id:"zgs20_gsWelcomePage",class:"zgs19_gsWelcomePage"}).append(p("<div>",{id:"zgs20_gsWelcomeHeaderScroll",class:"zgs19_gsWelcomeHeaderScroll"}).append(p("<div>",{class:"zgs19_gsWelcomeHeader"}).append(p("<div>",{class:"zgs19_gsWelcomeTitleNew zgs19_gsOverflow zgs19_gsBorderBox",id:"zgs20_gsWelcomePageTitle"}).append(p("<span>").text(e))).append(p("<div>",{class:"zgs19_gsWelcomeTips zgs19_gsOverflow zgs19_gsBorderBox"}).append(p("<span>",{gstitle:s}).text(s))))))),i=p("<div>",{class:"zgs19_gsWelcomeulNew"}),e=d.getI18NMsg("gs.search.service_welcome_searchbyapps"),s=d.getI18NMsg("gs.search.service_welcome_searchbyappstips"),r=(d.gscomponent.hasOwnProperty("suiteServices")&&d.gscomponent.suiteServices[1]?"#"+d.gscomponent.suiteServices[1]:"")||d.getI18NMsg("gs.search.service_welcome_searchbyappsMail"),o=d.getI18NMsg("gs.search.service_common_or"),t=(d.gscomponent.hasOwnProperty("suiteServices")&&d.gscomponent.suiteServices[2]?"#"+d.gscomponent.suiteServices[2]:"")||d.getI18NMsg("gs.search.service_welcome_searchbyappsCliq"),a=d.getI18NMsg("gs.search.service_welcome_searchbyappstips")+r+o+t,o=p("<span>",{gstitle:a}).text(s).append(p("<span>",{class:"zgs19_gsWelcomementionNew"}).text(r)).append(o).append(p("<span>",{class:"zgs19_gsWelcomementionNew"}).text(t)),t=d.renderWelcomeChild("zgs18_gsWelcomeHash",e,o),e=d.getI18NMsg("gs.search.service_welcome_searchbycontact"),s=d.getI18NMsg("gs.search.service_welcome_searchbycontacttips"),r=d.getI18NMsg("gs.search.service_welcome_searchbycontactJohn"),o=p("<div>",{gstitle:a=s+r}).text(s).append(p("<div>",{class:"zgs19_gsFitContent zgs19_gsWelcomementionNew"}).text(r)),a=d.renderWelcomeChild("zgs18_gsWelcomeAT",e,o),e=d.getI18NMsg("gs.search.service_welcome_filter"),s=d.getI18NMsg("gs.search.service_welcome_filtertips"),o=p("<span>",{gstitle:s}).text(s),r=d.renderWelcomeChild("zgs18_gsWelcomeFilter",e,o),e=d.getI18NMsg("gs.search.service_welcome_quickactions"),s=d.getI18NMsg("gs.search.service_welcome_quickactionstip"),o=p("<span>",{gstitle:s}).text(s),o=d.renderWelcomeChild("zgs18_gsWelcomeQuickActions",e,o),i.append(p("<div>",{class:"zgs19_gsDispInlblk"}).append(t).append(a)).append(p("<div>",{class:"zgs19_gsDispInlblk"}).append(r).append(o)),p("#zgs20_gsWelcomeHeaderScroll").append(p("<div>",{class:"zgs19_gsWelcomeFooter"}).append(i)),p(".zgs19_gsWPSupportOuter").remove(),d.appendMobSupportInWelPage(),p("#zgs20_gsHomeIcon").hide(),o=d.getSearchType(),i=d.searchedQuery||"",c.ALL==o&&""==i&&(d.showWelcomePage(),d.displayDefaultPage(!1)))),d.isEmbedDashboardEnabled||d.appendGoToInWelPage()},d.renderWelcomeChild=function(e,s,t){return p("<div>",{class:"zgs19_gsWelcomeli zgs19_gsfl"}).append(p("<div>",{class:"zgs19_gsWelcomelich"}).append(p("<div>",{class:"zgs19_gsWelcomelich1 zgs19_gsfl"}).append(p("<div>",{class:"zgs19_gsWelcomeIconHol zgs19_gsfl"}).append(p("<div>",{class:e}))).append(p("<div>",{class:"zgs19_gsWelcomechnameNew zgs19_gsOverflow zgs19_gsfl"}).append(p("<span>",{gstitle:s}).text(s)))).append(p("<div>",{class:"zgs19_gsWelcomelich2New zgs19_gsfl zgs19_gsOverflowWrap"}).append(t)))},d.showWelcomePage=function(){d.hideHomeIcon(),p("#zgs20_gsHideScrollPage").css("display","block")},d.hideWelcomePage=function(){p("#zgs20_gsHideScrollPage").css("display","none")},d.showHomeIcon=function(){d.hideHomeIcon();var e=d.getSearchType();c.ALL!=e||0<d.total_no_of_results||d.noMoreResults||"askZia"==d.selectedLeftPanelDivision||p("#zgs20_gsHomeIcon").css("display","block")},d.hideHomeIcon=function(){p("#zgs20_gsHomeIcon").css("display","none")},d.renderCreateNewButton=function(){var e;d.isCreateNewBtnCreated||(d.isCreateNewBtnCreated=!0,p("<div>",{id:"zgs20_gsCreateNewBtn",class:"zgs19_gsCreateNewBtn"}).append(p("<span>",{class:"zgs19_gsCreateBtn zgs18_gsQuickAddBtn",gs:"createNewBtn"})).insertBefore(p(".zgs19_gsUserProfile")[0]),d.LINE_ICON_MAP.hasOwnProperty(e="zgs18_gsQuickAddBtn")&&d.obtainLineIconPaths(e,p(".zgs19_gsCreateBtn")))},d.showCreateNewPopup=function(){var e;0==p(".zgs19_gsCreateNewPopup").length?(e=d.gsnlpsearch.isTracerObtained?"zgs19_gsTracerCreateNewPopup":"",e=p("<div>",{class:"zgs19_gsCreateNewPopup "+e}).append(p("<div>",{class:"zgs19_gsCreateNewSectElem"}).append(p("<div>",{class:"zgs19_gsCreateNewSection",gs:"createCardAction",cardType:d.SAVED_CARD}).append(p("<span>",{class:"zgs19_gsNewSectionIcon zgs19_gsNewSecCardsIcon zgs18_CardsIcon",gs:"createCardAction"})).append(p("<span>",{class:"zgs19_gsNewSectionTitle",gs:"createCardAction",cardType:"0",gsa:"create_new_card"}).text(d.getI18NMsg("gs.cards.create_card"))))).append(p("<div>",{class:"zgs19_gsCreateNewSectElem"}).append(p("<div>",{class:"zgs19_gsCreateNewSection",gs:"createDbAction"}).append(p("<span>",{class:"zgs19_gsNewSectionIcon zgs19_gsNewSecDashboardIcon zgs18_gsDashboardIcon",gs:"createDbAction"})).append(p("<span>",{class:"zgs19_gsNewSectionTitle",gs:"createDbAction",gsa:"create_new_dashboard"}).text(d.getI18NMsg("gs.dashboard.createDashboard"))))).append(p("<div>",{class:"zgs19_gsCreateNewSectElem"}).append(p("<div>",{class:"zgs19_gsCreateNewSection",gs:"createCardAction",cardType:d.BOOKMARK_CARD}).append(p("<span>",{class:"zgs19_gsNewSectionIcon zgs19_gsNewSecCardsIcon zgs18_CardsIcon",gs:"createCardAction",cardType:"3",gsa:"create_new_bookmark_card"})).append(p("<span>",{class:"zgs19_gsNewSectionTitle",gs:"createCardAction",cardType:"3"}).text(d.getI18NMsg("gs.cards.create_bookmark_card"))))),p("#zgs20_gsSearchBoxRight").append(e)):p(".zgs19_gsCreateNewPopup").css("display","block"),d.appendImportDashboardOption(),d.appendAutoGenerateDbOption()},d.appendAutoGenerateDbOption=function(){var e;0<d.validateDefaultDashboardServices().length&&0==p(".zgs19_gsAutoGenerateDb").length&&(e=p("<span>",{class:"zgs19_gsNewSectionIcon zgs19_gsNewSecMagicWandIcon zgs18_gsMagicWandIcon",gs:"autogenerateDb"}),p(".zgs19_gsCreateNewPopup").append(p("<div>",{class:"zgs19_gsCreateNewSectElem zgs19_gsAutoGenerateDb"}).append(p("<div>",{class:"zgs19_gsCreateNewSection",gs:"autogeneratedb"}).append(e).append(p("<span>",{class:"zgs19_gsNewSectionTitle",gs:"autogeneratedb"}).text(d.getI18NMsg("gs.dashboard.autogenerate"))).append(p("<span>",{class:"zgs18_gsarrowright",gs:"autogeneratedb"})))),d.defaultDbMouseEvent(),d.LINE_ICON_MAP.hasOwnProperty("zgs18_gsMagicWandIcon")&&d.obtainLineIconPaths("zgs18_gsMagicWandIcon",e)),p(".zgs19_gsAutoGenerateDb .zgs19_gsCreateNewSection").removeClass("zgs19_gsSectionSelected"),e=p("#"+d.gscomponent.getMountAttr().id).attr("class").includes("zgs19_rtl")?p("#zgs20_gsCreateNewBtn").get(0).getBoundingClientRect().left:a.innerWidth-p("#zgs20_gsCreateNewBtn").get(0).getBoundingClientRect().right,p(".zgs19_gsCreateNewPopup").css("inset-inline-end",e)},d.appendImportDashboardOption=function(){var e;c.isExportDashboardEnabled&&0==p(".zgs19_gsImportDbTopBand").length&&(e=d.getI18NMsg("gs.dashboard.import_xml"),p(".zgs19_gsCreateNewPopup").append(p("<div>",{class:"zgs19_gsCreateNewSectElem"}).append(p("<div>",{class:"zgs19_gsCreateNewSection zgs19_gsImportDbTopBand",gs:"importDbAction",title:e}).append(p("<span>",{class:"zgs19_gsNewSectionIcon zgs19_gsNewSecImportDbIcon zgs18_gsImportIcon",gs:"importDbAction",title:e})).append(p("<span>",{class:"zgs19_gsNewSectionTitle",gs:"importDbAction",gsa:"import_dashboard",title:e}).text(d.getI18NMsg("gs.dashboard.import"))))))},d.hideCreateNewPopUp=function(){p(".zgs19_gsCreateNewPopup").css("display","none"),p(".zgs19_gsAutoGenerateDb > #zgs20_gsAutoGenerateDbList").css("display","none")},d.renderEmptyQuickActionsSection=function(e){var s=p("<div>",{class:"zgs19_gsZeroDbContainer zgs19_gsCenteredColumnFlex"}).append(p("<div>",{class:"zgs19_gsOverflow zgs19_gsnoDashboardText"}).text(d.getEmptyMessage(e)));return s.append(d.createManuallyButton(e)),s},d.getPageViewIcon=function(e){return p("<div>",{class:"zgs19_gsDashboardCreateIcon zgs19_gsThemeColor "+d.quickActionsConstants[e].icon})},d.getEmptyMessage=function(e){e=d.getI18NMsg(d.quickActionsConstants[e].dispName);return d.I18N.getValue("gs.search.service_welcome_emptymsg",[e])},d.createManuallyButton=function(e){var s=d.quickActionsConstants[e].gsAttr,t=p("<div>",{class:"zgs19_gsCreateNewElem",gs:s}).append(p("<span>",{class:"zgs19_gsCreateNew zgs19_gsfl",gs:s}).text("+ "+d.getI18NMsg("gs.cards.create")));return"dashboard"==e&&1!==d.gscomponent.UIType&&t.append(p("<span>",{class:"zgs18_gsNTab zgs19_gsEditDbArrow",gs:s})),t},d.renderDefaultDbDetailTemplate=function(){if(0==d.gsdbUtils.listOfDashboards&&c.hasOwnProperty("customDefaultDashboard")&&0==p("#zgs20_gsDbDetailTemplate").length){var e=d.validateDefaultDashboardServices(),s=e.length;if(0<s){p("#zgs20_gsdashboardQuickActList").append(p("<div>",{id:"zgs20_gsDbDetailTemplate",class:"zgs19_gsDbDetailTemplate"}).append(p("<div>",{class:"zgs19_gsDefaultDbHdr"}).text(d.getI18NMsg("gs.dashboard.autogenerate"))).append(p("<div>",{class:"zgs19_gsDefaultDbContainer"}).append(p("<div>",{class:"zgs19_gsDefaultDbList"}))));for(var t=["zgs19_gsD5E6FFCol","zgs19_gsD8D8FFCol","zgs19_gsFFF2CECol","zgs19_gsFBCEFFCol"],a=0,r=0;a<s;a++){var o=e[a],i=o.type,n="zgs18_gsAutoDb"+i,l=p("<div>",{class:"zgs19_gsdefaultDbInfo zgs18_gsInformationIcon zgs19_gsDisplayNone",gstitle:o?.description,visibility:"hidden"}),g=p("<div>",{class:"zgs19_gsdefaultDbIcon "+n+" "+t[r],gstitle:o?.description}),o=p("<div>",{class:"zgs19_gsEachDefaultDbCont",gs:"zeroDashBoardAction",type:i,gstitle:o?.description}).append(g).append(p("<div>",{class:"zgs19_gsDbMenuText zgs19_gsOverflow ",gstitle:o?.description}).text(o.name)).append(l);r<t.length?r++:r=0,d.LINE_ICON_MAP.hasOwnProperty("zgs18_gsInformationIcon")&&d.obtainLineIconPaths("zgs18_gsInformationIcon",l,!1,"",!0),d.LINE_ICON_MAP.hasOwnProperty(n)&&d.obtainLineIconPaths(n,g,!1,"",!0),p(".zgs19_gsDefaultDbList").append(o)}}}d.defaultDbMouseEvent()},d.defaultDbMouseEvent=function(){p(".zgs19_gsEachDefaultDbCont").off().on({mouseenter:function(){p(this).find(".zgs19_gsdefaultDbInfo").css("display","block")},mouseleave:function(){p(this).find(".zgs19_gsdefaultDbInfo").css("display","none")}}),p(".zgs19_gsDbMenuContainer").off().on({mouseenter:function(){p(this).find(".zgs19_gsdefaultDbInfo").css("display","block")},mouseleave:function(){p(this).find(".zgs19_gsdefaultDbInfo").css("display","none")}}),p(".zgs19_gsAutoGenerateDb").off().on({mouseenter:function(){d.showDefaultDbHomepagePopup(p(this))},mouseleave:function(e){1!==p(e.target).closest("#zgs20_gsAutoGenerateDbList").length&&(p("#zgs20_gsAutoGenerateDbList").css("display","none"),p(this).find(".zgs19_gsCreateNewSection").removeClass("zgs19_gsSectionSelected"))}})},d.showDefaultDbHomepagePopup=function(e){e.find(".zgs19_gsCreateNewSection").addClass("zgs19_gsSectionSelected"),0==p(".zgs19_gsAutoGenerateDb > #zgs20_gsAutoGenerateDbList").length?d.renderDefaultDbPlainTemplate(p(".zgs19_gsAutoGenerateDb")):p(".zgs19_gsAutoGenerateDb > #zgs20_gsAutoGenerateDbList").css("display","block")},d.renderDefaultDbPlainTemplate=function(e){var s=d.validateDefaultDashboardServices(),t=s.length;if(0<t)for(var a=p("<div>",{id:"zgs20_gsAutoGenerateDbList",class:"zgs19_gsAutoGenerateDbList"}),r=0;r<t;r++){var o=s[r],i="zgs20_gsAutoGenerateDbPopup"!==e.attr("id"),n=i?"title":"gstitle",l=p("<div>",{class:"zgs19_gsdefaultDbInfo zgs18_gsInformationIcon zgs19_gsDisplayNone"});l.attr(n,o?.description);var g=p("<div>",{class:"zgs19_gsDbMenuContainer",gs:"zeroDashBoardAction",type:o.type}),c=p("<div>",{class:"zgs19_gsDbMenuText zgs19_gsOverflow zgs19_gsfl"}).text(o.name);g.attr(n,o?.description),c.attr(n,o?.description),a.append(g.append(c).append(l)),d.LINE_ICON_MAP.hasOwnProperty("zgs18_gsInformationIcon")&&(c={},i&&(c[n]=o?.description),d.obtainLineIconPaths("zgs18_gsInformationIcon",l,!1,c,!0))}e.append(a),d.defaultDbMouseEvent()},d.validateDefaultDashboardServices=function(){for(var e=[],s=d.getConstAllServList(),t=c.hasOwnProperty("customDefaultDashboard")?c.customDefaultDashboard:"",a=t.length,r=0;r<a;r++){for(var o=t[r],i=o.services,n=i.length,l=[],g=0;g<n;g++)d.isArrayContain(i[g],s)&&l.push(i[r]);0<l.length&&e.push(o)}return e}}(zgssearch,window),zgssearch.Utils=zgssearch.hasOwnProperty("Utils")?zgssearch.Utils:{},zgssearch.Utils.RESULTS_WIDTH={},zgssearch.Utils.SERVICE_MOD_RESULTS_INFO={},zgssearch.Utils.trim=function(e){return null!=e?e.replace(/^\s+|\s+$/g,""):e},zgssearch.Utils.isUndefined=function(e){return void 0===e},zgssearch.Utils.isValidDepartmentInfo=function(e){return!("none"===(e=null!=e?e.trim().toLowerCase():e)||""===e||"-"===e||"na"===e||"nil"===e||"-na-"===e)},zgssearch.Utils.addEvent=function(e,s,t,a,r){a="boolean"!=typeof a||a;function o(e){t.call(this,e,r)}return e.addEventListener?e.addEventListener(s,o,a):e.attachEvent?e.attachEvent("on"+s,o):e["on"+s]=o,o},zgssearch.Utils.isEmptyString=function(e){return!(e&&0<e.trim().length)},zgssearch.Utils.isEmpty=function(e){return null==e||""===e},zgssearch.Utils.getEventTarget=function(e){return e?e.target:window.event.srcElement},zgssearch.Utils.indexOf=function(e,s){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,s);for(var t=0;t<e.length;t++)if(s===e[t])return t;return-1},zgssearch.Utils.showMessage=function(e){var s=e.message,t=e.banner_class,a=e.banner_icon_class,r=e.icon_class||"",o=zgssearch.integViewPort?zgssearch.gsCloud.par:zgssearch.getTargetElem("zgs20_gsSearchResultsArea"),i=(zgssearch.integViewPort?zgssearch.getTargetElem(zgssearch.gsCloud.par):zgssearch.getTargetElem("zgs20_gsSearchResultsArea")).getBoundingClientRect().width-70,e=zgssearch.getWidthOfText(s,300)+50,i=(i-e)/2,e=e-30;_jQueryGS("#zgs20_gsbannertip").length||zgssearch.constructBanner(o);o=_jQueryGS("#zgs20_gsbannertip");o.find("#zgs20_gsbannertipicon").attr("style",a),o.find("#zgs20_gsbannertipicon").addClass(r);r=_jQueryGS("#zgs20_gsbannertiptext");r.css("maxWidth","470px"),r.text(s),r.hasClass("zgs19_gsfl")?300<e&&r.removeClass("zgs19_gsfl"):e<300&&r.addClass("zgs19_gsfl"),o.stop(!0).attr("style",t).css({maxWidth:"500px",left:i,opacity:0}),setTimeout(function(){_jQueryGS("#zgs20_gsbannertip").css("display","block"),_jQueryGS("#zgs20_gsbannertip").animate({opacity:1})},200),setTimeout(function(){_jQueryGS("#zgs20_gsbannertip").fadeOut(),_jQueryGS("#zgs20_gsbannertip").hide()},3e3)},zgssearch.Utils.showInfoMsg=function(e){var s={};s.message=e,s.banner_class="background-color: #ededed; border-color: #c7c6c5;",s.banner_icon_class="background-position: -82px -700px;",zgssearch.Utils.showMessage(s)},zgssearch.Utils.showSuccessMsg=function(e){var s={};s.message=e,s.banner_class="background-color: #e6f3fb; border-color: #70b2db;",s.icon_class="zgs18_gsSuccessIcon",zgssearch.Utils.showMessage(s)},zgssearch.Utils.showErrorMsg=function(e){var s={};s.message=e,s.banner_class="background-color: #f6dede; border-color: #ec9789;",s.banner_icon_class="background-position: -57px -700px;",zgssearch.Utils.showMessage(s)},zgssearch.Utils.getUIDisplayTime=function(e){var s=e.getHours(),t=e.getMinutes(),e=12<=s?"PM":"AM";return(s=(s%=12)||12)+":"+(t=t<10?"0"+t:t)+" "+e},zgssearch.Utils.getServiceIcon=function(e){return e&&zgssearch.mappedServiceList.hasOwnProperty(e)?zgssearch.mappedServiceList[e].serviceicon:""},zgssearch.Utils.openSettingsTemplate=function(e,s){zgssearch.hideWelcomePage(),zgssearch.hideQuickActionsPage();var t=zgssearch.isDashboardEnabled?"zgs19_gsDisplayNone":"",a=zgssearch.getFourDotLoader("zgs20_gsSettingsPageLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader24 zgs19_gsAutoSuggestLoader");return _jQueryGS("<div>",{id:"zgs20_gsSettingsPage",class:"zgs19_gsSettingsPage"}).append(_jQueryGS("<div>",{class:"zgs19_gsSetNavHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsSetHPage"}).append(_jQueryGS("<div>",{class:"zgs19_gsSetHTitle"}).text(e))).append(_jQueryGS("<div>",{class:"zgs19_gsSetClose "+t,gs:"renderPrefActions",datatype:"S_C",tabName:s}).append(_jQueryGS("<span>",{class:"zgs18_gsCloseIcon zgs19_gsSetCloseIcon",gs:"renderPrefActions",datatype:"S_C",tabName:s})))).append(_jQueryGS("<div>",{class:"zgs19_gsSettingsNavigationContent",id:"zgs20_gsSettingsNavigationContent"}).append(a))},zgssearch.Utils.settingsPageActionsCallable=function(e,s){_jQueryGS("#zgs20_gsSearchResultMiddle").css("display","none"),_jQueryGS("#zgs20_gsSearchResultRight").css("display","none"),s===zgssearch.SETTINGS_ACTION_NAMES.APPLICATION_TAB?(zgssearch.gssettingsapptab.fillWidgetResponseByServiceList(),zgssearch.gssettingsapptab.constructServiceAccountsPage(),zgssearch.gssettingsapptab.renderTabsView(),zgssearch.gsusersettings.showServiceReorderPage()):s===zgssearch.SETTINGS_ACTION_NAMES.CLOSE_TAB?"Cards"===e.attr("tabName")?zgssearch.closeActionForCards():(zgssearch.gsusersettings.changeUrlBeforeSettingsClose(),zgssearch.closeActionForSettings()):s===zgssearch.SETTINGS_ACTION_NAMES.GENERAL_TAB&&(zgssearch.gssettingsgeneraltab.constructGeneralPanelInSettings(),zgssearch.gssettingsgeneraltab.renderConfigurations())},zgssearch.Utils.calculatePositionForSettings=function(){var e=_jQueryGS("#zgs20_gsResultsHolder").height(),s=_jQueryGS(".zgs19_gsSetNavHeader").height()+1,t=e-s,e="0";zgssearch.isMobViewport()&&(t-=e=_jQueryGS("#zgs20_gsSearchResultLeft").height()),_jQueryGS("#zgs20_gsSettingsNavigationContent").css({"inset-block-start":s+"px",height:t+"px"});s=t/2-s;_jQueryGS("#zgs20_gsSettingsPageLoader").css({position:"relative","inset-block-start":s+"px"}),_jQueryGS("#zgs20_gsSettingsPage").css({"inset-block-start":e+"px"})},zgssearch.Utils.hideSettingsPage=function(){_jQueryGS("#zgs20_gsSettingsPages").css("display","none"),_jQueryGS("#zgs20_gsServiceReOrdering").css("display","none"),_jQueryGS("#zgs20_gsServiceAccountsReOrdering").css("display","none"),_jQueryGS(".zgs19_gsServiceAccOrderDialog").remove(),_jQueryGS(".zgs19_gsServiceOrderDialog").remove(),zgssearch.isDashboardEnabled?_jQueryGS(".zgs18_gsSettingsIconTop").removeClass("zgs19_gsLeftPanelTabSelected zgs19_gsSelectedServiceListBG").addClass("zgs19_gsLeftPanelTabUnselected"):_jQueryGS(".zgs18_gsSettingsIconTop").removeClass("zgs19_gsSettingsIconTopSelected"),zgssearch.gsusersettings.isSettingsOpened=!1};var GSConstant=zgssearch.getGSConstantObj()||{};function loadHandlebars(e,s){if(zgssearch.isHandlebarLoaded())return!0;e=(new zgssearch.ResourceFactory).createInstance(e,!0);return null!=e&&e.load(s),!1}zgssearch.gsusersettings=zgssearch.gsusersettings||{},zgssearch.gsusersettings.getTempSortableListOfServices=function(){return zgssearch.gsusersettings.tempServicesArrayList},zgssearch.gsusersettings.getSortableListOfServices=function(){return zgssearch.gsusersettings.servicesArrayList},zgssearch.gsusersettings.storeServicesListInfo=function(e){zgssearch.gsusersettings.servicesArrayList=e&&0<e.length?e:[]},zgssearch.gsusersettings.getServicesListInfo=function(){var e=zgssearch.gsusersettings.hasOwnProperty("servicesArrayList")?zgssearch.gsusersettings.servicesArrayList.length:0;return zgssearch.gsusersettings.servicesArrayList=0<e?zgssearch.gsusersettings.servicesArrayList:zgssearch.getAccessibleServiceList(),zgssearch.gsusersettings.servicesArrayList},zgssearch.gsusersettings.updateReorderActions=function(e){"cancelSerOrder"!==e&&"saveSerOrder"!==e&&(_jQueryGS("#zgs20_gsSearchResultMiddle").hide(),_jQueryGS("#zgs20_gsSearchResultRight").hide()),"saveSerOrder"===e?zgssearch.gsusersettings.isSettingsOpened?zgssearch.gsusersettings.updateServiceOrder(!0):zgssearch.gsusersettings.updateServiceOrderWithoutSettings(!0):"cancelSerOrder"===e&&(zgssearch.gsusersettings.cancelServiceReOrder(),zgssearch.hideServiceOrderOverlay()),zgssearch.selectedLeftPanelDivision="search"},zgssearch.gsusersettings.updateServiceOrderWithoutSettings=function(n){var l=zgssearch.gsusersettings.getTempSortableListOfServices(),e="action=updateservicereorder&appsorder="+JSON.stringify(l);zgssearch.uri(zgssearch.POST,zgssearch.postUserSettingsDataURL,e,"",function(e,s,t){if("1008"===zgssearch.jsonParse(e).status){zgssearch.gsusersettings.saveServiceReOrder(),zgssearch.setConstAllServList(l),zgssearch.hideServiceOrderOverlay();var a=zgssearch.gsusersettings.getSortableListOfServices(),r=a.length;zgssearch.orderedServiceList=[GSConstant.ALL];for(var o=0;o<r;o++){var i=a[o];zgssearch.orderedServiceList.push(i)}zgssearch.gsusersettings.storeServicesListInfo(a),zgssearch.renderServiceList(),zgssearch.gsusersettings.SERVICE_MODIFIED=!1,zgssearch.changeBgcolorForLHS(),n&&zgssearch.showbannertip({ty:1,msg:zgssearch.getI18NMsg("gs.settings.order.success")}),_jQueryGS("#zgs20_gsServiceSave").addClass("zgs19_gsHideEleme")}else zgssearch.showbannertip({ty:3,msg:zgssearch.getI18NMsg("gs.settings.order.failure")})})},zgssearch.gsusersettings.saveServiceReOrder=function(){zgssearch.gsusersettings.servicesArrayList=zgssearch.gsusersettings.tempServicesArrayList},zgssearch.gsusersettings.cancelServiceReOrder=function(){zgssearch.gsusersettings.tempServicesArrayList=[]},zgssearch.gsusersettings.updateTempSortableListOfServices=function(e){0<e.length&&(zgssearch.gsusersettings.tempServicesArrayList=e)},zgssearch.gsusersettings.changeUrlBeforeSettingsClose=function(){var e;1===zgssearch.gscomponent.UIType&&((!(e=history.state.previousState)||zgssearch.isMobViewport()||zgssearch.gsusersettings.selectedServiceBeforeSettings==zgssearch.GSConstant.ALL&&"zsearch"==e.id)&&(e={id:"zsearch",title:zgssearch.getI18NMsg("gs.search.service_welcome_page"),service:null,url:window.location.origin+"/searchhome"}),history.pushState(e,e.title,e.url))},zgssearch.gssettingsapptab=zgssearch.gssettingsapptab||{},zgssearch.gssettingsapptab.assignServiceListBeforeReorder=function(){var e;null!=zgssearch.gsusersettings.servicesArrayList&&0!=zgssearch.gsusersettings.servicesArrayList.length||(e=zgssearch.getAllServiceListFromWidget(),zgssearch.gsusersettings.storeServicesListInfo(e)),null!=zgssearch.gssettingsapptab.enabledServicesList&&0!=zgssearch.gssettingsapptab.enabledServicesList.length||(zgssearch.gssettingsapptab.enabledServicesList=zgssearch.getEnabledServListFromWidget())},zgssearch.gssettingsapptab.displayServicesReOrderingOverlay=function(){var r,o,i,e;zgssearch.isSettingsEnabled&&(zgssearch.selectedLeftPanelDivision="reorder",0<zgssearch.gsusersettings.servicesArrayList.length&&(r=zgssearch.getMappedServiceList(),o=_jQueryGS("<ul>",{class:"zgs19_gsTabCont zgs19_dragger zgs19_gsTabContService",id:"zgs20_ulservices"}),i=0===zgssearch.gscomponent.UIType?"max-width:80px;":"",_jQueryGS.each(zgssearch.gsusersettings.servicesArrayList,function(e,s){var t=zgssearch.isArrayContain(s,zgssearch.gssettingsapptab.enabledServicesList)?"zgs19_serReorderEnblName":"zgs19_serReorderDisbName",a=r[s],a=_jQueryGS("<li>",{id:s}).append(_jQueryGS("<div>",{class:"zgs19_gsfl zgs19_gsServiceEle zgs19_gsDragCursor zgs19_gsDummyHoverServices"}).append(_jQueryGS("<div>",{class:"zgs10_gsSerFullWid"}).append(_jQueryGS("<span>",{class:"zgs19_gsfl zgs19_gsServiceDrag zgs19_gsResultsUniIcons"})).append(_jQueryGS("<span>",{class:"zgs19_gsfl zgs19_gsOverflow zgs19_gsFS13 "+t,id:"servicetext",ser:s,style:i}).text(a.displayName))).append(_jQueryGS("<div>",{class:"zgs19_gsSSDummyServiceM2T",gs:"serviceM2T",dt:"services"})));_jQueryGS(o).append(_jQueryGS(a))}),e="",0!=zgssearch.gscomponent.UIType&&2!=zgssearch.gscomponent.UIType||(e="zgs19_gsPd5Px"),_jQueryGS(".zgs19_gsServiceOrderDialog").remove(),_jQueryGS("#zgs20_gsHolder").append(_jQueryGS("<div>",{class:"zgs19_gsServiceOrderDialog"}).html(_jQueryGS("<div>",{class:"zgs19_gsServiceOrderOverlay zgs19_gsSSDialogPos",gs:"gsSerOrderoverlay"})).append(_jQueryGS("<div>",{id:"zgs20_gsServiceReOrdering",class:"zgs19_gsSerOverlayLayer zgs19_gsServiceOrderOverlayLayer"}).append(_jQueryGS("<div>",{id:"zgs20_gsServicesListOrder",class:"zgs19_gsSetReorderAppsList zgs19_gsZSTabOrg"}).append(o)).append(_jQueryGS("<div>",{class:"zgs19_gsServiceSaveNew zgs19_gsPdLt14Px"}).append(_jQueryGS("<div>",{class:"zgs19_gsSC_PUbtmNew zgs19_gscancel zgs19_gsFontSize13Px "+e,gs:"reorderfields",gstitle:zgssearch.getI18NMsg("common.cancel"),datatype:"cancelSerOrder",isparenttip:"true",gsparenttip:"true"}).text(zgssearch.getI18NMsg("common.cancel"))).append(_jQueryGS("<div>",{class:"zgs19_gsSC_PUbtmNew zgs19_gssave zgs19_gsHideEleme zgs19_gsFontSize13Px "+e,gs:"reorderfields",gstitle:zgssearch.getI18NMsg("gs.settings.application.save"),datatype:"saveSerOrder",isparenttip:"true",gsparenttip:"true"}).text(zgssearch.getI18NMsg("gs.settings.application.save")))))),zgssearch.isLeftDivisonPanelHidden&&_jQueryGS(".zgs19_gsSerOverlayLayer").css("inset-inline-start","50px"),_jQueryGS("#zgs20_gsServiceReOrdering").css({height:_jQueryGS("#zgs20_gsSearchResultsArea").height()+"px"}),zgssearch.isServiceOverlayOpened=!0,zgssearch.gssettingsapptab.attachHoverEventForReorder(),e=_jQueryGS("#zgs20_gsServListHolder").height(),_jQueryGS("#zgs20_gsServicesListOrder").css({height:e+"px","border-bottom":"1px solid #ddd;"}),_jQueryGS("#zgs20_gsServiceReOrdering").css({height:e+_jQueryGS("#zgs20_gsSettingsHolder").outerHeight()+"px"}),zgssearch.gssettingsapptab.sortableOptionsForServices("zgs20_gsServiceReOrdering")))},zgssearch.gssettingsapptab.attachHoverEventForReorder=function(){_jQueryGS(".zgs19_gsDummyHoverServices").off().on({mouseenter:function(){zgssearch.gssettingsapptab.actionForTopMoveIcon(0,this)},mouseleave:function(){zgssearch.gssettingsapptab.actionForTopMoveIcon(1,this)}})},zgssearch.gssettingsapptab.sortableOptionsForServices=function(e){var s=_jQueryGSUI("#zgs20_gsHolder").find("#"+e);s.find(".zgs19_dragger").sortable({placeholder:"zgs19_gsMoverHolder",start:function(e){e=_jQueryGS(e.item),e=_jQueryGS(e).find(".zgs19_gsSSDummyServiceM2T").get();_jQueryGS(e).removeClass("zgs18_gsMoveToTopIcon zgs19_gsCurPointer")},update:function(){var t=[];s.find(".zgs19_dragger").children().each(function(e,s){s=_jQueryGS(s).attr("id");t.push(s)}),zgssearch.gsusersettings.updateTempSortableListOfServices(t),zgssearch.gsusersettings.SERVICE_MODIFIED=!0,_jQueryGS("#zgs20_ulservices>li:first").find(".zgs18_gsMoveToTopIcon").removeClass("zgs18_gsMoveToTopIcon"),_jQueryGS(".zgs19_gssave").removeClass("zgs19_gsHideEleme")}}).disableSelection()},zgssearch.gssettingsapptab.actionForTopMoveIcon=function(e,s){_jQueryGS(s).parent("li").attr("id")!==_jQueryGS("#zgs20_gsServicesListOrder>ul>li:first-child").attr("id")&&(s=_jQueryGS(s).find(".zgs19_gsSSDummyServiceM2T"),0===e?_jQueryGS(s).addClass("zgs19_gsfr zgs18_gsMoveToTopIcon zgs19_gsCurPointer").attr("title",zgssearch.I18N.getValue("gs.settings.reorder.top.title")).show():1===e&&_jQueryGS(s).addClass("zgs19_gsSSDummyServiceM2T").removeClass("zgs18_gsMoveToTopIcon zgs19_gsCurPointer").hide())},zgssearch.gssettingsapptab.removeMoveToTopIcon=function(e,s){e=_jQueryGS(e).closest("."+s);_jQueryGS(e).addClass(s).removeClass("zgs18_gsMoveToTopIcon zgs19_gsCurPointer")},zgssearch.gssettingsapptab.moveToTopForServices=function(e){var s,t,a=_jQueryGS(e).parents("li"),r=_jQueryGS(a),o=_jQueryGS(a).prevAll();0<o.length&&(s=_jQueryGS(o[o.length-1]),t=_jQueryGS(o[0]),a=r.offset().top-s.offset().top,s=r.offset().top+r.outerHeight()-(t.offset().top+t.outerHeight()),t="zgs19_gsDummyHoverServices",zgssearch.gssettingsapptab.removeMoveToTopIcon(e,t),r.css("position","relative"),o.css("position","relative"),t=_jQueryGS(e).parents("."+t),r.animate({top:-a},1e3),o.animate({top:s},1e3,function(){r.parent().prepend(r),r.css({position:"static",top:0}),o.css({position:"static",top:0})}),_jQueryGS(".zgs19_gsTabContService").scrollTop(0),zgssearch.gssettingsapptab.animateWithHighlightForServices(t))},zgssearch.gssettingsapptab.animateWithHighlightForServices=function(e){_jQueryGSUI(e).effect("highlight",{"background-color":"#000000",opacity:"0.5"},2e3,function(){_jQueryGS(e).css({opacity:"1.0"}).fadeIn(1e3),zgssearch.gsusersettings.SERVICE_MODIFIED=!0,_jQueryGS(".zgs19_gssave").removeClass("zgs19_gsHideEleme"),_jQueryGS("#zgs20_gsServicesListOrder").scrollTop(0),zgssearch.gssettingsapptab.updateServicesOrderForMoveToTop("zgs20_ulservices")})},zgssearch.gssettingsapptab.updateServicesOrderForMoveToTop=function(e){for(var s=[],t=_jQueryGS("#zgs20_gsServicesListOrder").find("#"+e+">li").get(),a=t.length,r=0;r<a;r++){var o=t[r],o=_jQueryGS(o).attr("id");o&&s.push(o)}zgssearch.gsusersettings.updateTempSortableListOfServices(s)},zgssearch.gssettingsapptab.animateWithChangeInBG=function(e){_jQueryGS(e).animate({"background-color":"#000000",opacity:"0.5"},1e3,function(){setTimeout(function(){_jQueryGS(e).css({opacity:"1.0"}).fadeIn(2e3)},1e3)})},zgssearch.Utils.obtainPageOpenBtn=function(e,s,t){var a=(t=t||{}).service||GSConstant.ORGRESOURCES,r=t.text||zgssearch.getI18NMsg("gs.search.result.website.callout.open_preview_page"),o=t.btnTxt||zgssearch.getI18NMsg("gs.search.result.website.callout.open_page");t=t||{};o=_jQueryGS("<div>",{class:"zgs19_gsPreviewTxt",gs:"connPageTxt"}).append(_jQueryGS("<span>").text(r)).append(_jQueryGS("<div>",{class:"zgs19_gsTabOpenBtnNew zgs19_gsOverflow",gs:"tabPage",service:a,style:"margin-top: 10px"}).append(_jQueryGS("<div>",{style:"margin-right:5px"}).text(o)).append(_jQueryGS("<div>",{style:"float:left;max-width:200px;"})));_jQueryGS("#zgs20_gsconnectorprevLoader").remove(),a===GSConstant.DROPBOX||a===GSConstant.GOOGLEDRIVE||a===GSConstant.BOX||a===GSConstant.ONEDRIVE?(_jQueryGS("#zgs20_gsdocsprevLoader").remove(),_jQueryGS("#zgs20_gscoutLoadHolder").remove(),_jQueryGS(e.docspreviewHolder).html(o),_jQueryGS(e.docspreviewHolder).css("visibility","visible")):a===GSConstant.SLACK?(zgssearch.hideCalloutLoader(),_jQueryGS(e.slackpreviewHolder).html(o)):_jQueryGS(e.connectorpreviewHolder).html(o),zgssearch.setGSTagElems(e),s.url||s.webUrl||_jQueryGS(e.tabPage).css("display","none"),zgssearch.gsconnector.setPreviewBtnPosition(e)},zgssearch.Utils.clearAllModResInfo=function(){zgssearch.Utils.SERVICE_MOD_RESULTS_INFO={}},zgssearch.Utils.clearServiceModResInfo=function(e){zgssearch.Utils.SERVICE_MOD_RESULTS_INFO[e]=[]},zgssearch.Utils.setServiceModInfo=function(e,s){var t=zgssearch.Utils.SERVICE_MOD_RESULTS_INFO[e]||[];t.push(s),zgssearch.Utils.SERVICE_MOD_RESULTS_INFO[e]=t},zgssearch.Utils.setServiceModResultsWidth=function(e){for(var s=zgssearch.Utils.SERVICE_MOD_RESULTS_INFO[e]||[],t=s.length,a=0;a<t;a++)zgssearch.Utils.setResultsWidth(s[a]);zgssearch.Utils.SERVICE_MOD_RESULTS_INFO[e]=[]},zgssearch.Utils.setResultsWidthInfo=function(e,s,t){null!=s?(zgssearch.Utils.RESULTS_WIDTH[e]={},zgssearch.Utils.RESULTS_WIDTH[e][s]=t):zgssearch.Utils.RESULTS_WIDTH[e]=t},zgssearch.Utils.getResultsWidthInfo=function(e,s){return null!=s?zgssearch.Utils.RESULTS_WIDTH[e]&&zgssearch.Utils.RESULTS_WIDTH[e][s]||{}:zgssearch.Utils.RESULTS_WIDTH[e]||{}},zgssearch.Utils.setResultsWidth=function(e){var s,t=e.service_name,a=e.account_id,r=e.results_parent_id,o=e.total_results_area_width,i=void 0===e.is_cursor_need||e.is_cursor_need,n=(e=zgssearch.Utils.getResultsWidthInfo(t,a)).current_last_elem_id||"",l="",g=o-50-15,c=Math.floor(g/100*90),d={};for(s in(""===n?_jQueryGS("#"+r+" >div"):_jQueryGS("#"+r).find("#"+n).first().nextAll()).each(function(e){var s,t,a,r=_jQueryGS(this).attr("id"),o=_jQueryGS(this).find(".zgs19_gsCRMResultTitleNew"),i=o.length;0<i&&(s=0<i?_jQueryGS(_jQueryGS(o)[0]).outerWidth()+15:0,0===(t=1<i?_jQueryGS(_jQueryGS(o)[1]).outerWidth()+15:0)?s=g:t=g<=s?(s=g,0):g-s,o=0<(i=(a=_jQueryGS(this).find(".zgs19_gsCRMResultField")).length)?_jQueryGS(_jQueryGS(a)[0]).outerWidth()+15:0,i=1<i?_jQueryGS(_jQueryGS(a)[1]).outerWidth()+15:0,0===(i=o<c?c-o:0)?o=c:i=c<=o?(o=c,0):c-o,(a=[]).push(s),a.push(t),a.push(o),a.push(i),d[r]=a,l=r)}),d){var p=_jQueryGS("#"+s),u=d[s],h=p.find(".zgs19_gsCRMResultTitleNew"),_=h.length;0<_&&(_jQueryGS(_jQueryGS(h)[0]).css("max-width",u[0]+"px"),1<_&&_jQueryGS(_jQueryGS(h)[1]).css("max-width",u[1]+"px"));h=p.find(".zgs19_gsCRMResultField"),p=h.length;0<p&&(_jQueryGS(_jQueryGS(h)[0]).css("max-width",u[2]+"px"),1<p&&_jQueryGS(_jQueryGS(h)[1]).css("max-width",u[3]+"px"))}i&&((e={}).results_area_width=o,e.results_icon_width=50,e.prev_last_element_id=n,e.current_last_elem_id=l,zgssearch.Utils.setResultsWidthInfo(t,a,e))},zgssearch.Utils.removePageLoader=function(e){_jQueryGS(e).remove()},zgssearch.Utils.isArrayContainsObject=function(t,e,a){var r=!1;return _jQueryGS.each(e,function(e,s){t[a]===s[a]&&(r=!0)}),r},zgssearch.Utils.objectEntries=function(e){return"function"!=typeof Object.entries&&(Object.entries=function(e){for(var s=Object.keys(e),t=s.length,a=new Array(t);t--;)a[t]=[s[t],e[s[t]]];return a}),Object.entries(e)},zgssearch.Utils.fromEntries=function(e){return"function"!=typeof Object.fromEntries&&(Object.fromEntries=function(e){for(var s={},t=0;t<e.length;t++)s[e[t][0]]=e[t][1];return s}),Object.fromEntries(e)},zgssearch.Utils.getServiceRelatedInfo=function(e){var s={};switch(e){case GSConstant.PERSONALCONTACTS:case GSConstant.ORGCONTACTS:case GSConstant.REPORTS:case GSConstant.CAMPAIGNS:s={dbCardColor:"zgs19_gsFeF2F2Color",cardColor:"zgs19_gsFeF2F2Color",bordercolor:"zgs19_gsFFACACColor"};break;case GSConstant.PEOPLE:case GSConstant.SUPPORT:case GSConstant.BIGIN:s={dbCardColor:"zgs19_gsEBF7F0Color",cardColor:"zgs19_gsF0FFF3Color",bordercolor:"zgs19_gs7BED66Color"};break;case GSConstant.CONNECT:case GSConstant.NOTEBOOK:case GSConstant.PROJECTS:s={dbCardColor:"zgs19_gsFFF6E2Color",cardColor:"zgs19_gsFFF6E2Color",bordercolor:"zgs19_gsFFD77EColor"};break;case GSConstant.CLIQ:case GSConstant.CHAT:case GSConstant.STREAMS:case GSConstant.MAILS:case GSConstant.CALENDAR:case GSConstant.WIKI:case GSConstant.LEARN:case GSConstant.CREATOR:case GSConstant.WORKDRIVE:case GSConstant.CRM:case GSConstant.BOOKS:case GSConstant.INVOICE:case GSConstant.ORGRESOURCES:case GSConstant.WEBSITE:s={dbCardColor:"zgs19_gsEDF3F9Color",cardColor:"zgs19_gsEAF7FFColor",bordercolor:"zgs19_gs6B99CBColor"};break;case GSConstant.INVENTORY:case GSConstant.REPORTS:case GSConstant.SALESIQ:case GSConstant.CAMPAIGNS:s={dbCardColor:"zgs19_gsFeF2F2Color",cardColor:"zgs19_gsFeF2F2Color",bordercolor:"zgs19_gsFFACACColor"};break;case GSConstant.NOTEBOOK:s={dbCardColor:"zgs19_gsFFF6E2Color",cardColor:"zgs19_gsFFF6E2Color",bordercolor:"zgs19_gsFFD77EColor"};break;case GSConstant.SUPPORT:case GSConstant.BIGIN:s={dbCardColor:"zgs19_gsEBF7F0Color",cardColor:"zgs19_gsF0FFF3Color",bordercolor:"zgs19_gs7BED66Color"};break;case GSConstant.PROJECTS:s={dbCardColor:"zgs19_gsFFF6E2Color",cardColor:"zgs19_gsFFF6E2Color",bordercolor:"zgs19_gsFFD77EColor"};break;case GSConstant.GOOGLEDRIVE:case GSConstant.ONEDRIVE:case GSConstant.BOX:case GSConstant.DROPBOX:case GSConstant.SALESFORCE:case GSConstant.O365MAIL:case GSConstant.ASANA:case GSConstant.SLACK:case GSConstant.EVERNOTE:case GSConstant.GMAIL:case GSConstant.ZENDESK:case GSConstant.GMAIL:s={dbCardColor:"zgs19_gsEDF3F9Color",cardColor:"zgs19_gsEAF7FFColor",bordercolor:"zgs19_gs6B99CBColor"}}return s},zgssearch.Utils.copyLink=function(e,s="gs.search.callout.linkcopied"){var t,a=document.createElement("textArea");a.className="zgs19_gsDisplayNone",a.value=e,document.body.appendChild(a),zgssearch.isIOS()?(t=document.createRange(),e=window.getSelection(),t.selectNodeContents(a),e.removeAllRanges(),e.addRange(t),a.setSelectionRange(0,999999)):a.select(),document.execCommand("copy"),zgssearch.showbannertip({ty:1,msg:zgssearch.getI18NMsg(s)}),document.body.removeChild(a)},zgssearch.Utils.endsWithAny=function(e,s){for(var t of s)return zgssearch.endsWith(e,t);return!1},zgssearch.Utils.convertToTitleCase=function(e){let s;switch(s=e.includes(" ")?"space-separated":e.includes("_")?"snake_case":e.includes("-")?"kebab-case":"camelCase",s){case"space-separated":e=e.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");break;case"camelCase":e=e.replace(/([a-z])([A-Z])/g,"$1 $2");case"snake_case":case"kebab-case":e=e.replace(/[_-]/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");break;default:return e}return e},zgssearch.Utils.getIconFromTxt=function(e){return e.substring(0,2).toUpperCase()},zgssearch.Utils.getDashboardColors=function(e){var s=zgssearch.dashboardCardIconColor.length,t={};return isNaN(e)||(e=e.toString().split("").reduce((e,s,t)=>e+parseInt(s,10)*(t+1),0),t=zgssearch.dashboardCardIconColor[e%s]),t},zgssearch.gslearnutil=zgssearch.gslearnutil||{};var GSClientConstants=zgssearch.GSClientConstants||{},filterBy=zgssearch.GSClientConstants.LEARN.filterby,service=GSConstant.LEARN;zgssearch.gslearnutil.modVsDisplayName={ATTACHMENT:zgssearch.getI18NMsg("gs.search.result.mail.callout.attachment"),MANUAL:zgssearch.getI18NMsg("gs.search.learn.manual"),ARTICLE:zgssearch.getI18NMsg("gs.search.learn.article")},zgssearch.gslearnutil.modChildFilters={allspaces:{filterBy:"all",moduleId:zgssearch.GSClientConstants.LEARN.spaces},myspaces:{filterBy:"my",moduleId:zgssearch.GSClientConstants.LEARN.spaces},allmanuals:{filterBy:"all",moduleId:zgssearch.GSClientConstants.LEARN.manuals},mymanuals:{filterBy:"my",moduleId:zgssearch.GSClientConstants.LEARN.manuals},sharedmanuals:{filterBy:"shared",moduleId:zgssearch.GSClientConstants.LEARN.manuals}},zgssearch.gslearnutil.childFilterModules=Object.keys(zgssearch.gslearnutil.modChildFilters),zgssearch.gslearnutil.serverCallCount=0,zgssearch.gslearnutil.getServerCallCount=function(){return zgssearch.gslearnutil.serverCallCount},zgssearch.gslearnutil.setServerCallCount=function(e){zgssearch.gslearnutil.serverCallCount=e},zgssearch.loadLearnModChildFilter=function(e,s,t,a){var r=zgssearch.gslearnutil.modChildFilters[e];a&&a.hasOwnProperty("cards")&&a.cards;let o=r?r.moduleId:"";if(s=s&&s[0],-1==zgssearch.Utils.indexOf(zgssearch.gslearnutil.childFilterModules,e))return!0;var i=r.filterBy,n=s&&"0"!==s?"_"+s:"",r=t+"_"+e;o=n?GSClientConstants.LEARN.manuals:o;r="manuals"===o&&s&&"0"!==s?r+n:r;if(childFil=zgssearch.getFilterInfo(service,o,"data"),childFil&&childFil[r])return!0;_jQueryGS("#zgs20_Date_"+service).before(zgssearch.gsadvancesearch.loaderElement());r={callbackObj:a,args:{modifier:e,module:o,filterBy:i,spaceId:s,soid:t,storeKey:r},isCallbackNeeded:!0,callback:zgssearch.gslearnutil.setModFilters};return zgssearch.gslearnutil.fetchModuleData(r),!1},zgssearch.gslearnutil.fetchModuleData=function(a){let e=a.args,s=e.module,t=e.filterBy,r=e.spaceId,o=e.soid,i=e.query,n=e.pageIndex;n=n||0;var l="action=getlearnspacesdata&module="+s+"&hub_url="+zgssearch.learnSoidVsHubURL[o]+"&module_id="+t+(i?"&query="+i:"")+(r&&"0"!==r?"&spaceId="+r:"")+"&pageIndex="+n+"&limit=99";zgssearch.uri(zgssearch.GET,"/zgssearch/gsfilters",l,"",function(s,e,t){s=zgssearch.jsonParse(s);if(_jQueryGS("#zgs20_gsEditFieldsLoader").remove(),a.hasOwnProperty("callback")){let e=a.callback;e(a,s)}return""})},zgssearch.gslearnutil.setModFilters=function(e,l){var g=e.args,c=g.module,d=(g.filterBy,g.spaceId,g.soid,g.query,g.storeKey);g.pageIndex;if(e=e.callbackObj,l&&!_jQueryGS.isEmptyObject(l)){var p=l[c],u=zgssearch.GSConstant.LEARN,h=zgssearch.getFilterObj(u),_=p?Object.keys(p).length:0;if(0<_){g=c===zgssearch.GSClientConstants.LEARN.manuals?zgssearch.GSClientConstants.LEARN.spaces:zgssearch.GSClientConstants.LEARN.filterby;let e=3,s="module",t=zgssearch.getI18NMsg("gs.search.filter.manuals");c===zgssearch.GSClientConstants.LEARN.manuals&&(z=zgssearch.gsfilters.getValueFromFilterObj(zgssearch.GSClientConstants.LEARN.spaces),e=z&&"0"!==z[0]?4:3,s=z?zgssearch.GSClientConstants.LEARN.spaces:zgssearch.GSClientConstants.LEARN.filterby,t=z&&"0"!==z[0]?zgssearch.getI18NMsg("gs.search.filter.manuals_in_spaces"):t);var m,l=c===zgssearch.GSClientConstants.LEARN.manuals?t:zgssearch.getI18NMsg("gs.search.filter.spaces");let a={},r,o="0",i="0";for(m in p)a[m]=p[m];1==_?(o=i=Object.keys(p)[0],r=p[i]):a[0]=r=zgssearch.getI18NMsg("common.all");var z=zgssearch.getFilterObj(u)[c]||{};let n={};n[d]=a,zgssearch.setFiltersDetails(z,"title",l),zgssearch.setFiltersDetails(z,"type","3"),zgssearch.setFiltersDetails(z,"default",i),zgssearch.setFiltersDetails(z,"current",o),zgssearch.setFiltersDetails(z,"dispname",r),zgssearch.setFiltersDetails(z,"length",Object.keys(a).length),zgssearch.setFiltersDetails(z,"parKey",g),zgssearch.setFiltersDetails(z,"data",n),zgssearch.setFiltersDetails(z,"key",c),zgssearch.setFiltersDetails(z,"parId",[s]),zgssearch.setFiltersDetails(z,"data_type",zgssearch.QUERY_OBJ_DT_STRING),c===zgssearch.GSClientConstants.LEARN.manuals&&zgssearch.setFiltersDetails(z,"mulSelectKey",!0),zgssearch.setFiltersDetails(z,"filterLevel",e),zgssearch.setFiltersDetails(h,c,z)}return!zgssearch.hasEditCard||zgssearch.hasFilterChanged||(z=zgssearch.gscardUtils.cardIdsVsObject[zgssearch.gscardfilter.currentCardId].cardconfig)&&zgssearch.gsfilters.updateCurrentFilterObj(zgssearch.gscardfilter.getFiltersInfoForService(u,z)),void(e&&(_jQueryGS("#zgs20_gsEditFieldsLoader").remove(),e.hasOwnProperty("callback")&&e.callback()))}e&&e.isCallbackForError&&e.hasOwnProperty("callback")&&e.callback()},zgssearch.gsprojectsutils={},zgssearch.gsprojectsutils.timezoneData={},zgssearch.gsprojectsutils.projects="projects",zgssearch.gsprojectsutils.modChildFilters={3:["dueDate"],4:["modifiedTime"],5:["dueDate"],6:["dueDate"],7:["modifiedTime"]},zgssearch.gsprojectsutils.childFilterModules=["3","5","6","7"],zgssearch.loadProjectsModChildFilter=function(e,s,t,a,r){var o=zgssearch.gsprojectsutils.modChildFilters[s];if(o&&0<o.length){var i=r&&r.hasOwnProperty("cards")&&r.cards,n=o[0];if(c=zgssearch.getFilterInfo(e,n,"data"),zgssearch.gsfilters.updateDynamicFilterDetails(e,c,n),-1==zgssearch.Utils.indexOf(zgssearch.gsprojectsutils.childFilterModules,s))return!0;if(1<o.length){var l=t+"_"+s;if((c=zgssearch.getFilterInfo(e,o[1],"data"))[l]){if(i)return!0;for(var g=1;g<o.length;g++){var n=o[g],c=zgssearch.getFilterInfo(e,n,"data");zgssearch.gsfilters.updateDynamicFilterDetails(e,c[l],n)}return!0}}return _jQueryGS("#zgs20_gsnewFltrHdr").append(zgssearch.gsadvancesearch.loaderElement()),zgssearch.gsprojectsutils.setModFilters(s,o,a,t,r),!1}return!0},zgssearch.gsprojectsutils.setModFilters=function(e,s,t,b,a){zgssearch.uri(zgssearch.GET,"/zgssearch/gsfilters","action=getprojectsmoduledata&module="+e+"&portal_id="+t+"&project_id="+b,{childFil:s,module:e,projectId:b,callbackObj:a},function(e,s,t){var a=t.args,t=a.callbackObj,e=zgssearch.jsonParse(e);if(e&&!_jQueryGS.isEmptyObject(e)&&e.filters){for(var r=e.filters,o=zgssearch.GSConstant.PROJECTS,i=zgssearch.getFilterObj(o),n=r.length,l=0;l<n;l++){var g=r[l],c=g.data,d={};if(_jQueryGS.isEmptyObject(c))return;for(var p,u="0",h="0",_=g.filter_key_order,m=0;m<_.length;m++){var z=c[S=_[m]];d[S]=z}1==Object.keys(d).length?(u=h=Object.keys(d)[0],p=d[0]):d[0]=p=zgssearch.getI18NMsg("common.all")+" "+g.display_name;var v={},f={};f[b+"_"+a.module]=d;var C,S=g.key;zgssearch.Utils.indexOf(a.childFil,S)<0?zgssearch.gsprojectsutils.modChildFilters[a.module].push(S):(v=zgssearch.getFilterObj(o)[S]||{},_jQueryGS.isEmptyObject(v)||((C=v.data)[b+"_"+a.module]=d,f=C)),zgssearch.setFiltersDetails(v,"title",g.display_name),zgssearch.setFiltersDetails(v,"type","3"),zgssearch.setFiltersDetails(v,"default",h),zgssearch.setFiltersDetails(v,"current",u),zgssearch.setFiltersDetails(v,"dispname",p),zgssearch.setFiltersDetails(v,"length",Object.keys(d).length),zgssearch.setFiltersDetails(v,"parKey","modules"),zgssearch.setFiltersDetails(v,"data",f),zgssearch.setFiltersDetails(v,"key",g.key),zgssearch.setFiltersDetails(v,"parId",[a.module]),zgssearch.setFiltersDetails(v,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(v,"mulSelectKey",!0),zgssearch.setFiltersDetails(v,"filterLevel",4),zgssearch.setFiltersDetails(i,S,v),zgssearch.includes(S,i.order)||((v=i.order).splice(v.length-2,0,S),zgssearch.setFiltersDetails(i,"order",v))}return!zgssearch.hasEditCard||zgssearch.hasFilterChanged||(e=zgssearch.gscardUtils.cardIdsVsObject[zgssearch.gscardfilter.currentCardId].cardconfig)&&zgssearch.gsfilters.updateCurrentFilterObj(zgssearch.gscardfilter.getFiltersInfoForService(o,e)),void(t&&(_jQueryGS("#zgs20_gsEditFieldsLoader").remove(),t.hasOwnProperty("callback")&&t.callback()))}t&&t.isCallbackForError&&t.hasOwnProperty("callback")&&t.callback()})},zgssearch.gszendeskutils={},zgssearch.gszendeskutils.modChildFilters={ticket:["priorityType","date"],user:["userType"]},zgssearch.gszendeskutils.childFilterModules=["ticket"],zgssearch.loadZendeskModChildFilter=function(e,s,t){var a=zgssearch.gszendeskutils.modChildFilters[e];if(a&&0<a.length){var r=t&&t.hasOwnProperty("cards")&&t.cards,o=zgssearch.gFilterData.zendesk.statusType&&zgssearch.gFilterData.zendesk.statusType.data.hasOwnProperty(s);if(-1<a.indexOf("statusType")&&o&&!r){for(var i of a)childFil=zgssearch.getFilterInfo(GSConstant.ZENDESK,i,"data"),zgssearch.gsfilters.updateDynamicFilterDetails(GSConstant.ZENDESK,childFil,i);return!0}if(-1!=zgssearch.Utils.indexOf(zgssearch.gszendeskutils.childFilterModules,e))return _jQueryGS("#zgs20_gsnewFltrHdr").append(zgssearch.gsadvancesearch.loaderElement()),zgssearch.gszendeskutils.setModFilters(e,a,s,t),!1}return!0},zgssearch.gszendeskutils.setModFilters=function(e,s,d,t){var a=zgssearch.getAppIdForCloudApps(d,GSConstant.ZENDESK);zgssearch.uri(zgssearch.GET,"/zgssearch/gsfilters","action=getzendeskmoduledata&module="+e+"&connector_id="+d+"&app_id="+a,{childFil:s,module:e,callbackObj:t},function(e,s,t){var a=t.args,r=a.callbackObj,t=zgssearch.jsonParse(e);if(t&&!_jQueryGS.isEmptyObject(t)&&t.filters){var o=t.filters,e=zgssearch.GSConstant.ZENDESK,i=zgssearch.getFilterObj(e);o.length;for(let e=0;e<o.length;e++)if("status"===o[e].key){var n={},l={},g=0,c=o[e].data;if(c[0]=zgssearch.getI18NMsg("gs.search.filter.status"),zgssearch.gFilterData.zendesk.hasOwnProperty("statusType")){zgssearch.gFilterData.zendesk.statusType.data[d]=c,zgssearch.Utils.indexOf(a.childFil,o[e].key)<0&&zgssearch.gszendeskutils.modChildFilters[a.module].push("statusType");break}l[d]=c,g+=Object.keys(c).length;c=zgssearch.getI18NMsg("common.status");zgssearch.setFiltersDetails(n,"title",c),zgssearch.setFiltersDetails(n,"type","3"),zgssearch.setFiltersDetails(n,"default","0"),zgssearch.setFiltersDetails(n,"current","0"),zgssearch.setFiltersDetails(n,"dispname",zgssearch.getI18NMsg("gs.search.filter.status")),zgssearch.setFiltersDetails(n,"length",g),zgssearch.setFiltersDetails(n,"mulSelectKey",!0),zgssearch.setFiltersDetails(n,"parKey","modules"),zgssearch.setFiltersDetails(n,"parId",["ticket"]),zgssearch.setFiltersDetails(n,"data",l),zgssearch.setFiltersDetails(n,"key","statusType"),zgssearch.setFiltersDetails(n,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(n,"filterLevel",3),zgssearch.setFiltersDetails(i,"statusType",n),zgssearch.Utils.indexOf(a.childFil,o[e].key)<0&&zgssearch.gszendeskutils.modChildFilters[a.module].push("statusType")}return!zgssearch.hasEditCard||zgssearch.hasFilterChanged||(t=zgssearch.gscardUtils.cardIdsVsObject[zgssearch.gscardfilter.currentCardId].cardconfig)&&zgssearch.gsfilters.updateCurrentFilterObj(zgssearch.gscardfilter.getFiltersInfoForService(e,t)),void(r&&(_jQueryGS("#zgs20_gsEditFieldsLoader").remove(),r.hasOwnProperty("callback")&&r.callback(r.param1,r.param2)))}r&&r.isCallbackForError&&r.hasOwnProperty("callback")&&r.callback(r.param1,zgssearch.getI18NMsg("gs.search.error.generic_error_messege"))})},zgssearch.gssalesiqutils=zgssearch.gssalesiqutils||{},zgssearch.gssalesiqutils.timezoneData=zgssearch.gssalesiqutils.timezoneData||{},zgssearch.gssalesiqutils.portalVsApiName=zgssearch.gssalesiqutils.portalVsApiName||{},zgssearch.gssalesiqutils.sortSupportedMod=[zgssearch.allModules,"0","2","3","4"];var ZGS_SALESIQ_RES=class{constructor(e,s,t,a){this.resIndex=e,this.resObj=s||{},this.accountId=t,this.moduleId=s.moduleId,this.curResultObj=a}getIndex=function(){return this.resIndex};getAccountId=function(){return this.accountId};getResObj=function(){return this.resObj};getCurResObj=function(){return this.curResultObj};getModuleId=function(){return this.moduleId};getDate=function(){return this.getResObj().date};getDeptArr=function(){return this.getResObj()?.departments||[]};getBrandsArr=function(){return this.getResObj()?.brands||[]};getEntityId=function(){return this.getResObj()?.id||this.getResObj()[zgssearch.entity_id]};setRow2Ele=function(){this.row2Ele=""};getRow2Ele=function(){return this.row2Ele};getModuleClass=function(){return""};getSecondRow=function(){var e=this.getModName(),s=this.getAccountId(),t=this.getModuleId(),a=zgssearch.isMultiSelectResults(zgssearch.GSConstant.SALESIQ,"modules",zgssearch.allModules);let r="",o=zgssearch.getI18NMsg("gs.search.multi.module"),i="zgs19_gsCurDef",n=this.getCurResObj();n.hasOwnProperty("filters")&&!n.filters||!a&&zgssearch.getSearchType()!==GSConstant.ALL&&!zgssearch.multiPageEnabled||(r="salesiqModules",o=zgssearch.getI18NMsg("gs.search.filter_through_module"),i="zgs19_hvr_underline");s=_jQueryGS("<div>",{class:"zgs19_gsResRightFilter zgs19_gsWid30Per zgs19_gsfr zgs19_gsOverflow "+this.getModuleClass(),gs:"gsOverflowFooter"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:i+" zgs19_gsOverflow zgs19_hvr_underline_filter",gslabel:o,gstitle:e,gsmodule:t,acc_id:s,gs:r,service:zgssearch.GSConstant.SALESIQ}).text(e)));this.setRow2Ele();e=this.getRow2Ele();return _jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl zgs19_SIQRow2"}).append(e).append(s)};setRow3Data=function(){this.row3Data={}};getRow3Data=function(){return this.row3Data};getModName=function(){let e=zgssearch.getFilterInfo(zgssearch.GSConstant.SALESIQ,"modules","data")||{};var t=this.getAccountId(),a=this.getModuleId();if(e.hasOwnProperty(t)){let s=e[t];for(let e=0;e<Object.keys(s).length;e++){var r=s[e];if(r.key==a)return r.name}if(s.hasOwnProperty(a))return s[a]}return""};getThirdRow=function(){this.setRow3Data();var i=this.getRow3Data();let e="";if(!_jQueryGS.isEmptyObject(i)){var n,l=Object.keys(i),s=l.length;if(0<s){let a=_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl zgs19_SIQRow3"}),r=_jQueryGS("<a>",{class:"zgs19_gsMoreCategory zgs19_gsOverflow zgs19_gsfl zgs19_gsCurPointer",gs:"showMoreFieldDataSIQ"}),o=_jQueryGS("<div>",{class:"zgs19_gsOverflow zgs19_gsfl zgs20_gsResDDList",id:"zgs20_gsSIQMoreFieldList"});for(let t=1;t<=s;t++){let e=i[l[t-1]],s=e.val;s&&("object"!=typeof s||s.length)&&("object"==typeof s?(n=s.length-1,r=0<n?_jQueryGS(r).attr({field:e.field,index:this.getIndex(),accountId:this.getAccountId()}).text("+ "+n):o="",s=s[0],"object"==typeof s&&(s=zgssearch.gssalesiqutils.decodeText(s?.name))):r=o="",n=_jQueryGS("<div>",{class:"zgs19_gsSalesIQRow3Data"+t}),e.hasOwnProperty("fieldTitle")&&e.fieldTitle&&_jQueryGS(n).prepend(_jQueryGS("<span>",{class:"zgs19_gsSIQRow3Icon"+t+" zgs19_gsfl zgs19_gsMgLf0Px",gslabel:e.dispName,gstitle:s}).text(e.fieldTitle+": ")),e.cls=e.cls||"",_jQueryGS(n).append(_jQueryGS("<span>",{class:"zgs19_gsSIQRow3Val"+t+" zgs19_gsOverflow zgs19_gsfl zgs19_gsMgLf0Px "+e.cls,gslabel:e.dispName,gstitle:s}).text(s)).append(r),e.icon&&_jQueryGS(n).prepend(_jQueryGS("<span>",{class:e.icon+" zgs19_gsSIQRow3Icon"+t+" zgs19_gsfl zgs19_gsMgLf0Px ",gslabel:e.dispName,gstitle:s})),a.append(n))}e=a}}return e};getIconEle=function(){return _jQueryGS("<span>",{class:this.getIcon()+" zgs19_gsUniIconSalesIQRes zgs19_gsfl",gs:"resultMenuItem",gslabel:zgssearch.getI18NMsg("gs.search.multi.module"),gstitle:this.getModName()})};getDateLabel=function(){return zgssearch.getI18NMsg("gs.search.sevice_docs_lastModifiedTime")};getTitleLabel=function(){return zgssearch.getI18NMsg("common.title")};getTitleDetails=function(){return""}},ZGS_SALESIQ_MOD_0=class extends ZGS_SALESIQ_RES{getIcon=function(){return"zgs18_gsConversationIcon"};setRow2Ele=function(){var e=this.getResObj().question;zgssearch.gssalesiqutils.decodeText(e),this.row2Ele=e?_jQueryGS("<span>",{class:"zgs19_gsMxWid70Per zgs19_gsOverflow zgs19_gsResultAuthor",gslabel:zgssearch.getI18NMsg("gs.search.service_connect.question"),gstitle:e}).text(e):""};setRow3Data=function(){var e=this.getDeptArr(),s=this.getBrandsArr();this.row3Data=[{icon:s.length?zgssearch.gssalesiqresults.brandIcon:"",val:s,field:"brands",dispName:zgssearch.getI18NMsg("gs.salesiq.brand")},{icon:e.length?zgssearch.gssalesiqresults.deptIcon:"",val:e,field:"departments",dispName:zgssearch.getI18NMsg("gs.search.result.support.department")}]};getDateLabel=function(){return zgssearch.getI18NMsg("gs.salesiq.chat_initiated_time")};getTitle=function(e){return e?this.getResObj().visitor_name+" - #"+this.getResObj().visitor_id:this.getResObj().visitor_name};getTitleLabel=function(){return zgssearch.getI18NMsg("gs.salesiq.visitor_name")};getIframeUrl=function(){var e=zgssearch.gssalesiqutils.portalVsApiName[this.getAccountId()];return zgssearch.GSConstant.GS_SALESIQ_URL+"/"+e+"/allchats/"+this.getEntityId()};getTitleDetails=function(e){var s="#"+this.getResObj().visitor_id;let t="",a="",r="";if(t=e?(r=this.getResObj().visitor_name+" - #"+this.getResObj().visitor_id,a=zgssearch.getI18NMsg("gs.salesiq.visitor_name_and_id"),_jQueryGS("<a>",{class:"zgs19_gsfl zgs19_gsSIQVisitorIdData",target:"_blank",rel:"noopener noreferrer",href:zgssearch.fetchCalloutUrl(zgssearch.GSConstant.SALESIQ,this.getResObj(),""),gslabel:a,gstitle:r,gs:"visitorid"})):(r=this.getResObj().visitor_id,a=zgssearch.getI18NMsg("gs.salesiq.visitor_id"),_jQueryGS("<span>",{class:"zgs19_gsfl zgs19_gsSIQVisitorIdData",gslabel:a,gstitle:r})),t)return t.append(_jQueryGS("<span>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsSIQSeparator zgs19_gsfl",gslabel:a,gstitle:r})).append(_jQueryGS("<span>",{gslabel:a,gstitle:r}).text(s))}},ZGS_SALESIQ_MOD_2=class extends ZGS_SALESIQ_RES{getIcon=function(){return"zgs18_gsCannedMsgIcon"};setRow2Ele=function(){var e=this.getResObj().creator?.name;this.row2Ele=e?_jQueryGS("<span>",{class:"zgs19_gsMxWid45Per zgs19_gsOverflow zgs19_gsResultAuthor",gslabel:zgssearch.getI18NMsg("gs.search.sevice_docs_createdBy"),gstitle:e}).text(e):""};setRow3Data=function(){var e=this.getDeptArr();this.row3Data=[{icon:e.length?zgssearch.gssalesiqresults.deptIcon:"",val:e,field:"departments",dispName:zgssearch.getI18NMsg("gs.search.result.support.department")}]};getTitle=function(){return this.getResObj().title};getIframeUrl=function(){var e=zgssearch.gssalesiqutils.portalVsApiName[this.getAccountId()];return zgssearch.GSConstant.GS_SALESIQ_URL+"/"+e+"/cannedreplies/"+this.getEntityId()+"/edit"}},ZGS_SALESIQ_MOD_3=class extends ZGS_SALESIQ_RES{getIcon=function(){return"zgs18_gsBlockedIpIcon"};setRow2Ele=function(){var e=this.getResObj().creator?.name;this.row2Ele=e?_jQueryGS("<span>",{class:"zgs19_gsMxWid45Per zgs19_gsOverflow zgs19_gsResultAuthor",gslabel:zgssearch.getI18NMsg("gs.search.sevice_docs_createdBy"),gstitle:e}).text(e):""};getIconEle=function(){return _jQueryGS("<span>",{class:"zgs19_gsUniIconSalesIQRes zgs19_gsfl "+this.getIcon(),gs:"resultMenuItem",gslabel:zgssearch.getI18NMsg("gs.search.multi.module"),gstitle:this.getModName()})};setRow3Data=function(){var e=this.getBrandsArr();this.row3Data=[{icon:e.length?zgssearch.gssalesiqresults.brandIcon:"",val:e,field:"brands",dispName:zgssearch.getI18NMsg("gs.salesiq.brand")}]};getTitle=function(){return this.getResObj().ip};getTitleLabel=function(){return zgssearch.getI18NMsg("gs.salesiq.ip")};getIframeUrl=function(){var e=zgssearch.gssalesiqutils.portalVsApiName[this.getAccountId()];return zgssearch.GSConstant.GS_SALESIQ_URL+"/"+e+"/settings/blockip/edit/"+this.getEntityId()}},ZGS_SALESIQ_MOD_4=class extends ZGS_SALESIQ_RES{getIcon=function(){return"zgs18_gsEmailTempIcon"};setRow2Ele=function(){let e=this.getResObj().creator?.name;var s=_jQueryGS("<div>",{class:"zgs19_gsSIQEmailTemp"});e&&_jQueryGS(s).append(_jQueryGS("<span>",{class:"zgs19_gsMxWid45Per zgs19_gsOverflow zgs19_gsfl zgs19_gsResultAuthor",gslabel:zgssearch.getI18NMsg("gs.search.sevice_docs_createdBy"),gstitle:e}).text(e)),e=zgssearch.capitalizeFirstLetter(this.getResObj()?.visibility),e&&_jQueryGS(s).append(_jQueryGS("<div>",{class:"zgs19_gsPdLt14Px zgs19_gsMxWid48Per zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs18_visibility zgs19_visibility",gslabel:zgssearch.getI18NMsg("gs.salesiq.visibility"),gstitle:e})).append(_jQueryGS("<span>",{class:"zgs19_gsfl zgs19_gsOverflow zgs19_gsResultAuthor zgs19_gsMxWid84Per",gslabel:zgssearch.getI18NMsg("gs.salesiq.visibility"),gstitle:e}).text(e))),this.row2Ele=s};getTitle=function(){return this.getResObj().subject};getTitleLabel=function(){return zgssearch.getI18NMsg("common.subject")};getIframeUrl=function(){var e=zgssearch.gssalesiqutils.portalVsApiName[this.getAccountId()];return zgssearch.GSConstant.GS_SALESIQ_URL+"/"+e+"/settings/emailtemplates/"+this.getEntityId()+"/edit"};getModuleClass=function(){return"zgs19_gsMxWid22Per"}},ZGS_SALESIQ_MOD_8=class extends ZGS_SALESIQ_RES{getIcon=function(){return"zgs18_salesiq_leads"};setRow2Ele=function(){var e=this.getResObj().last_visit_source;this.row2Ele=e?_jQueryGS("<div>",{class:"zgs19_gsMxWid75Per zgs19_gsOverflow zgs19_gsResultAuthor"}).append(_jQueryGS("<span>",{class:"zgs19_gsfl"}).text(zgssearch.getI18NMsg("gs.salesiq.leads.source")+": ")).append(_jQueryGS("<span>",{class:"zgs19_gsSIQVisitSrc zgs19_gsMxWid65Per zgs19_gsOverflow zgs19_gsfl",gslabel:zgssearch.getI18NMsg("gs.salesiq.leads.source"),gstitle:e}).text(e)):""};setRow3Data=function(){this.row3Data=[{fieldTitle:zgssearch.getI18NMsg("gs.salesiq.last_visit_time"),val:this.getResObj().last_visit_time,field:"last_visit_time",dispName:zgssearch.getI18NMsg("gs.salesiq.last_visit_time")},{icon:this.getResObj().region?"zgs18_gsLocationIcon":"",val:this.getResObj().region,field:"region",dispName:zgssearch.getI18NMsg("gs.salesiq.region")}]};getDateLabel=function(){return zgssearch.getI18NMsg("gs.salesiq.last_visit_time")};getTitle=function(){return this.getResObj().name};getTitleLabel=function(){return zgssearch.getI18NMsg("gs.search.service_people.name")};getIframeUrl=function(){var e=zgssearch.gssalesiqutils.portalVsApiName[this.getAccountId()];return zgssearch.GSConstant.GS_SALESIQ_URL+"/"+e+"/leads/"+this.getEntityId()}},ZGS_SALESIQ_MOD_9=class extends ZGS_SALESIQ_RES{setRow2Ele=function(){var e=this.getResObj().email;this.row2Ele=e?_jQueryGS("<span>",{class:"zgs19_gsMxWid75Per zgs19_gsOverflow zgs19_gsResultAuthor",gslabel:zgssearch.getI18NMsg("gs.salesiq.contact.mail"),gstitle:e}).text(e):""};getIconEle=function(){let e=this.getResObj();var s=e.name.substring(0,2).toUpperCase();return _jQueryGS("<span>",{class:"zgs19_gsResultIconText zgs19_gsfl",gs:"resultMenuItem",gslabel:zgssearch.getI18NMsg("gs.search.multi.module"),gstitle:this.getModName()}).text(s)};setRow3Data=function(){this.row3Data=[{icon:this.getResObj().region?"zgs18_gsLocationIcon":"",val:this.getResObj().region,field:"region",dispName:zgssearch.getI18NMsg("gs.salesiq.region")}]};getTitle=function(){return this.getResObj().name};getTitleLabel=function(){return zgssearch.getI18NMsg("gs.search.service_people.name")};getIframeUrl=function(){var e=zgssearch.gssalesiqutils.portalVsApiName[this.getAccountId()];return zgssearch.GSConstant.GS_SALESIQ_URL+"/"+e+"/contacts/"+this.getEntityId()}},ZGS_SALESIQ_MOD_10=class extends ZGS_SALESIQ_RES{getIcon=function(){return"zgs18_crm_accounts"};setRow2Ele=function(){var e=this.getResObj().email;this.row2Ele=e?_jQueryGS("<span>",{class:"zgs19_gsMxWid75Per zgs19_gsOverflow zgs19_gsResultAuthor",gslabel:zgssearch.getI18NMsg("gs.salesiq.lead.mail"),gstitle:e}).text(e):""};setRow3Data=function(){};getTitle=function(){return this.getResObj().name};getTitleLabel=function(){return zgssearch.getI18NMsg("gs.search.service_people.name")};getIframeUrl=function(){var e=zgssearch.gssalesiqutils.portalVsApiName[this.getAccountId()];return zgssearch.GSConstant.GS_SALESIQ_URL+"/"+e+"/companies/"+this.getEntityId()}};function dashboardHome(){this.get=function(e){var s=zgssearch.dashboard.Hash.getDBIdFromURL(),t="";zgssearch.gsaddcards.removeAddCardPopupAction(!1,e),zgssearch.hideCardsPage(),zgssearch.gsdbhome.emptyCustomDashboardDetail(),s?(zgssearch.gscomponent.isHashingAllowed()&&s&&-1<zgssearch.gsdbUtils.listOfDashboards.indexOf(s)&&(t=s),zgssearch.gsdbUtils.dashboardDataObtained&&t?(zgssearch.handleOpeningOfCardsAndDashboard("dashboard"),zgssearch.isDashboardOpened=!0,zgssearch.gsdbhome.renderDashboardContent(t),zgssearch.gsdbUtils.sendDashboardAnanlytics(zgssearch.DASHBOARD_TYPE,"dashboardPreview",t)):zgssearch.clickActionForDashboards()):zgssearch.gsdbUtils.dashboardDataObtained?(zgssearch.handleOpeningOfCardsAndDashboard("dashboard"),zgssearch.isDashboardOpened=!0,zgssearch.gsdbhome.openDashboardListContent(),_jQueryGS("#zgs20_gsDashboardhome").css("display","block")):zgssearch.clickActionForDashboards()}}function dashboardCreate(){this.get=function(e){zgssearch.gsaddcards.removeAddCardPopupAction(!1,e),zgssearch.hideCardsPage(),zgssearch.clickActionForDashboards(zgssearch.dbViewType.createDashboard),zgssearch.isDashboardOpened?zgssearch.gsdbhome.openAddcardAction():zgssearch.clickActionForDashboards(zgssearch.dbViewType.createDashboard)}}function dashboardEdit(){this.get=function(){var e,s=zgssearch.dashboard.Hash.getDBIdFromURL();zgssearch.isIE?(zgssearch.showbannertip({ty:2,msg:zgssearch.getI18NMsg("gs.dashboard.no_edit_info_IE")}),zgssearch.gshistory.pushDashboardsState("/dashboards/"+s,"#"+zgssearch.dashboard.Hash.home)):(e="",zgssearch.gscomponent.isHashingAllowed()&&s&&-1<zgssearch.gsdbUtils.listOfDashboards.indexOf(s)?(zgssearch.gsaddcards.showLayoutNotification=!0,zgssearch.gsaddcards.addCardPopup(s)):(e=zgssearch.gsdbUtils.pinnedDashboardId||zgssearch.gsdbUtils.listOfDashboards[0],zgssearch.gshistory.pushDashboardsState("/dashboards/"+e,"#"+zgssearch.dashboard.Hash.home),zgssearch.dashboard.Hash.render()))}}function cardsHome(){this.get=function(){var e,s=zgssearch.cardHash.getcardIdFromURL();s?(zgssearch.hideDashboard(),zgssearch.isCardViewOpened()||zgssearch.openCards("preview"),e=zgssearch.gscards.getcardTypeWithId(s),"block"==_jQueryGS("#zgs20_gsCreateCardPage").css("display")&&zgssearch.gscreatecards.closeCreateCard(),zgssearch.gscards.getCardsInfo(s,e,zgssearch.gscards.loadCardsPreview)):(e=(e=zgssearch.cardHash.pageView)&&"preview"!==e?e:"allCards",zgssearch.isCardViewOpened()?zgssearch.gscards.renderSpecificCardSection(e):zgssearch.openCards("allCards"),zgssearch.cardHash.pageView="")}}function cardsEdit(){this.get=function(){var e=zgssearch.cardHash.getcardIdFromURL(),s=zgssearch.gscards.getcardTypeWithId(e);s?zgssearch.gscards.cardsEditbasedUpohashChange(e,s):zgssearch.gscards.getCardsInfo(e,s,zgssearch.gscards.cardsEditbasedUpohashChange)}}function cardsCreate(){this.get=function(){var e="links"==zgssearch.cardHash.getCardTypeFromURL()?zgssearch.BOOKMARK_CARD:zgssearch.SAVED_CARD;zgssearch.gscreatecards.createCardPage("createCard",e)}}zgssearch.gssalesiqutils.decodeText=function(e){var s=document.createElement("textarea");return s.innerHTML=e,s.value},zgssearch.gssalesiqutils.modClassObj={0:ZGS_SALESIQ_MOD_0,2:ZGS_SALESIQ_MOD_2,3:ZGS_SALESIQ_MOD_3,4:ZGS_SALESIQ_MOD_4,8:ZGS_SALESIQ_MOD_8,9:ZGS_SALESIQ_MOD_9,10:ZGS_SALESIQ_MOD_10},function(n){var l=window._jQueryGS,e=n.getGSConstantObj()||{};n.ZSCRMSuiteAction=function(){var s;this.createActionObj=function(e){switch(e){case n.GSConstant.CRM:s=new n.CRMAction;break;case n.GSConstant.BIGIN:s=new n.BiginAction}return s.orgDetails={},s.usersInfo={},s.allUsers={},s.modProf={},s.usersInMod={},s.modData={},s.setOrgDetails=function(e){for(var s in this.orgDetails.domain={},e)this.setDomain(s,e[s].domain_name)},s.setDomain=function(e,s){this.orgDetails.domain[e]=s},s.getDomain=function(e){return this.orgDetails.domain[e]},s.isUserExists=function(e){return 0<this.getUsersInfoObj(e).count},s.setProfileForMod=function(e,s){this.modProf[s]=e},s.getProfileForMod=function(e,s){return this.modProf[s][e].split(",")},s.setModuleData=function(e,s){this.modData[s]=e},s.getModuleData=function(e,s){return this.modData[s][e]},s.getUsersInfo=function(r,e){var s,o,t=e.callback||"",a=this.getUsersInfoObj(r);a.more_records&&a.count<1e3?(s={timeout:0,extraInfo:e},a="action="+this.getActionForUsers()+"&page="+a.page+"&orgId="+r,o=this,n.advSearchXMLHttpReq=n.uri(n.GET,n.fetchActionsURL,a,s,function(e,s,t){var a=t.args||{},t=n.jsonParse(e),e=t.hasOwnProperty("info")?t.info:{};o.setUserInfo(e,r),t.hasOwnProperty("users")&&(e=t.users||{},o.setUserData(r,e),(a=(t=a.extraInfo||{}).callback)&&a(e,t))})):t&&t({},e)},s.fetchUsersInfo=function(e,o){var i,s=this.getUsersInfoObj(o);s.more_records&&s.count<1e3&&(e={timeout:0,curCount:n.gsusercontacts.getServerCallCount(),obj:e},s="action="+this.getActionForUsers()+"&page="+s.page+"&orgId="+o,i=this,n.uri(n.GET,n.fetchActionsURL,s,e,function(e,s,t){var a=t.args||{},t=n.jsonParse(e),e=t.hasOwnProperty("info")?t.info:{};i.setUserInfo(e,o),t.hasOwnProperty("users")&&(r=t.users||{},i.setUserData(o,r));var r=a.obj||{};r.hasOwnProperty("type")&&n.isEditFieldsLoader&&n.isEditFieldsLoaderUI&&a.curCount==n.gsusercontacts.getServerCallCount()&&i.renderInnerEditFieldsUI(r,o)}))},s.renderInnerEditFieldsUI=function(e,s){if(n.isEditFieldsLoader=!1,n.isEditFieldsLoaderUI=!1,l("#zgs20_gsEditFieldsFooter").empty(),this.isUserExists(s)){var t,a=[],r=this.getUsersInMod(s),o=n.gsaction.currSearchType.getCurrentCRMOwner()||"";for(t in r){var i=r[t];if(n.isArrayContain(t,a)||o==t||(a.push(t),n.gsaction.renderEditFieldsChild(t,i,e.type,"")),10<=a.length)break}l("#zgs20_gsEditFieldsBottom").show(),l("#zgs20_gsEditFieldsNotify").css("display","block"),a.length<1&&(l("#zgs20_gsEditFieldsFooter").append(l("<span>",{class:"zgs19_gsEditFieldNoUser"}).text(n.getI18NMsg("common.no_users"))),l("#zgs20_gsEditFieldsNotify").css("display","none"),l("#zgs20_gsEditFieldsBottom").css("display","none")),n.gsaction.displayEditFieldsUI(e.tarElem),5<=a.length&&(l("#zgs20_gsEditFieldsHeader").show(),n.focusForWeb("zgs20_gsEditFieldsQrybox")),n.isDashboardViewOpened()&&n.gsaction.updateEditFieldsHeight(e.tarElem)}else{s=n.getI18NMsg("gs.search.callout.crm.errorresp3");l("#zgs20_gsEditFieldsFooter").empty().append(l("<div>",{class:"zgs19_gsOverflowWrap zgs19_gsWelcomelich zgs19_gstac"}).text(s))}},s.setUserData=function(e,s){this.allUsers[e]||(this.allUsers[e]={}),l.extend(this.allUsers[e],s)},s.getUserData=function(e){return l.isEmptyObject(this.allUsers)?{}:this.allUsers[e]},s.getUsersInfoObj=function(e){if(this.usersInfo[e]&&!l.isEmptyObject(this.usersInfo[e]))return this.usersInfo[e];this.usersInfo[e]={};return{count:0,page:1,more_records:!0}},s.setUserInfo=function(e,s){var t=this.getUsersInfoObj(s);this.usersInfo[s].page=e.page||1,this.usersInfo[s].more_records=e.more_records||!1,this.usersInfo[s].count=t.count+(e.count||0)},s.getUsersInMod=function(e){var s=n.gsaction.currSearchType.getCurrentResultObj(),t=n.gscrm.getMod(s),s=n.gsaction.currSearchType.getServiceName(),a=this.getUserData(e);if(l.isEmptyObject(this.usersInMod)||l.isEmptyObject(this.usersInMod[e])||l.isEmptyObject(this.usersInMod[e][t])){l.isEmptyObject(this.usersInMod[e])&&(this.usersInMod[e]={}),this.usersInMod[e][t]={};var r,o=n[s+"OrgInfo"].getProfileForMod(t,e);for(r in a)n.isArrayContain(a[r].profile,o)&&(this.usersInMod[e][t][r]=a[r])}return this.usersInMod[e][t]},s}},n.CRMAction=function(){this.usersInMod={},this.getActionForUsers=function(){return"fetchCRMUserInfo"},this.getServiceName=function(){return e.CRM}},n.BiginAction=function(){this.getActionForUsers=function(){return"fetchBiginUserInfo"},this.getServiceName=function(){return e.BIGIN}}}(zgssearch),function(n,l){var g,r=n.getGSConstantObj()||{},c=n.gscomponent||{};n.gshistory=(g=void 0,(g=n.gshistory||{}).isURLParamsHandled=g.isURLParamsHandled||!1,n.currState=n.currState||{},g.getSearchParams=function(){for(var e=location.search.substring(1).split("&"),s={},t=0;t<e.length;t++){var a=e[t].split("="),r=a[0],a=a[1];s[r]=a}return s},g.getQueryFromUrl=function(){var e=g.getSearchParams();return e.hasOwnProperty("q")?e.q:""},g.getServFromUrl=function(){var e=g.getSearchParams();return e.hasOwnProperty("s")?e.s:""},g.isPushStateNeeded=function(){return 1===c.UIType&&n.ziaProperties.isPropertyNeeded("isPushStateNeeded")},g.handleURLSearch=function(){if(1===c.UIType&&!g.isURLParamsHandled){g.isURLParamsHandled=!0;try{var e,s=g.getQueryFromUrl(),t=g.getServFromUrl();n.isQueryValid(t)&&(t=decodeURIComponent(t),t=g.getProperServiceName(t),e=n.getServiceList("serviceList")||[],n.isArrayContain(t,e)?(n.setService(t),n.hideWelcomePage(),n.hideQuickActionsPage(),n.displayDefaultPage(!1)):(t=r.ALL,n.setService(t))),n.hasOwnProperty("setClearRenderedFiltersFlag")&&n.setClearRenderedFiltersFlag(!0);var a=n.gshistory.isPathNamePresent("/askzia");n.isQueryValid(s)?(s=decodeURIComponent(s),t=n.isQueryValid(t)?t:r.ALL,document.getElementById("zgs20_gsQueryBox").value=s,n.queryOrigin=2,g.docommonURLSearch(),a||n.handleSearchCall(t)):n.hasOwnProperty("isServiceHasEmptySearch")&&n.isServiceHasEmptySearch(t)&&(g.docommonURLSearch(),a||n.handleSearchCall(t)),n.handleSearchCloseIcon()}catch(e){n.throwClientError("Error in handleURLSearch",e)}}},g.isPathNamePresent=function(e){return n.includes(e,l.location.pathname)},g.docommonURLSearch=function(){n.isURLParamsSearch=!0,n.hideWelcomePage(),n.hideQuickActionsPage(),n.displayDefaultPage(!1),n.showSearchPageLoader()},g.getProperServiceName=function(e){for(var s=n.getServiceList("serviceList"),t=0<s.length?s:Object.keys(n.mappedServiceList),a=n.getMappedServiceList()||[],r=0;r<t.length;r++){var o=t[r];if(a.hasOwnProperty(o))if((a[o].api_url_service_name||"").toLowerCase()==e.toLowerCase()){e=o;break}}return e},g.updateSearchURLParams=function(e,s){var t,a,r,o,i;c.hasOwnProperty("isServiceSuite")&&c.isServiceSuite&&c.hasOwnProperty("queryChange")&&(n.isQueryValid(e)||n.isQueryValid(s))&&(r=n.getMappedServiceList()[e])&&(a=r.api_url_service_name||"",i=s&&s.trim(),n.gscomponent.queryChange(a.toLowerCase(),i)),void 0!==history.pushState&&(o=l.location.href.split("?")[0]||"",t=l.location.pathname,i="askZia"===n.selectedLeftPanelDivision?"/askzia":"/searchhome",i=(o=!n.includes(i,t)?l.location.origin+i:o)+"?",n.isQueryValid(i)&&(o=i,!n.GSConstant.urlHistoryState&&n.isQueryValid(s)&&(o+="q="+encodeURIComponent(s)),i=o,n.isQueryValid(e)&&(s=n.getServiceList("serviceList")||[],n.isArrayContain(e,s)&&(o+="&s="+(a=(r=n.getMappedServiceList()[e]).api_url_service_name||"").toLowerCase(),i+="&s="+e)),a={id:"zsearch",title:r=n.getI18NMsg("gs.search.service_welcome_page"),service:e,url:o},e=n.currState,n.currState=Object.assign({},a),n.currState.prevState=e,1===c.UIType?(history.state&&o==history.state.url||(a.previousState=g.getPreviousHistoryState(),history.pushState(a,r,o)),(r=document.querySelector('meta[name*="apple-itunes-app"]'))&&(i=(o=r.getAttribute("content")).slice(0,o.lastIndexOf("app-argument"))+"app-argument="+i,r.setAttribute("content",i))):g.setPreviousStateForOtherUI(a)))},g.pushStateOfAView=function(e){var s=l.location.origin+e.url,t={id:e.id,title:e.title,url:s};1===c.UIType?history.state&&s==history.state.url||(t.previousState=g.getPreviousHistoryState(),history.pushState(t,e.title,s)):g.setPreviousStateForOtherUI(t)},g.pushDashboardsState=function(e,s,t){var a=t||l.location.origin+e+s,t={id:"dashboards",title:"Dashboards Page",url:a};n.gshistory.isPushStateNeeded()?history.state&&a==history.state.url||(t.previousState=g.getPreviousHistoryState(),history.pushState(t,"Dashboards Page",a)):n.gscomponent.hasOwnProperty("isServiceSuite")&&n.gscomponent.isServiceSuite?n.gscomponent.queryChange("dashboards/"+e+s):g.setPreviousStateForOtherUI(t)},g.pushCardsState=function(e,s,t){var a=t||l.location.origin+e+s,t={id:"cards",title:"Cards Page",url:a};n.gshistory.isPushStateNeeded()?history.state&&a==history.state.url||(t.previousState=g.getPreviousHistoryState(),history.pushState(t,"Cards Page",a)):n.gscomponent.hasOwnProperty("isServiceSuite")&&n.gscomponent.isServiceSuite?n.gscomponent.queryChange("cards/"+e+s):g.setPreviousStateForOtherUI(t)},g.getPreviousHistoryState=function(){var e;return void 0!==history.state?(e=history.state)&&e.hasOwnProperty("previousState")&&delete e.previousState:e={id:"zsearch",title:n.getI18NMsg("gs.search.service_welcome_page"),service:null,url:l.location.origin+"/searchhome"},e},g.setPreviousStateForOtherUI=function(e){var s;1!=n.gscomponent.UIType&&(delete(s=n.currState||{}).prevState,n.currState=Object.assign({},e),n.currState.prevState=s)},g.getPreviousState=function(){var e=1===c.UIType?!_jQueryGS.isEmptyObject(history.state)&&history.state.hasOwnProperty("previousState")?history.state.previousState:{}:n.currState&&n.currState.hasOwnProperty("prevState")?n.currState.prevState:{};return e},g.getPreviousStateId=function(){var e=g.getPreviousState();return e&&!_jQueryGS.isEmptyObject(e)?e.id:""},g.getCurrentState=function(){return _jQueryGS.isEmptyObject(history.state)?"":history.state},g.getCurrentStateId=function(){return history.state&&!_jQueryGS.isEmptyObject(history.state)?history.state.id:""},1===c.UIType&&(l.removeEventListener("popstate",g.handlePopStateEvent,!0),g.handlePopStateEvent=function(){if(void 0!==history.state){var e=history.state||{},s=l.location.href||"",t="",t=n.includes("/dashboards",l.location.pathname)&&n.isDashboardEnabled?"dashboards":t;if(t=n.includes("/cards",l.location.pathname)&&n.isDashboardEnabled?"cards":t,t=n.includes("/search",l.location.pathname)?"search":t,t=n.includes("/askzia",l.location.pathname)?"askZia":t,e.hasOwnProperty("url"))switch(s=e.url,t){case"search":case"askZia":var a=new URL(s),r=a.searchParams.get("q"),o=a.searchParams.get("s");n.emptySearchBoxValues();a={};null!=o&&(o=n.gshistory.getProperServiceName(o),a.services={name:n.mappedServiceList[o].displayName,services:o}),r&&(a.query1={name:r}),n.renderQuerySpanElement(a),"askZia"===t?n.openAskZiaTab(!0):n.clickActionForServiceList(e.service,!0);break;case"dashboards":n.dashboard.Hash.render("back");break;case"cards":n.cardHash.render()}s&&!t&&setTimeout(function(){l.location.replace(s)},0)}},l.addEventListener("popstate",g.handlePopStateEvent,!0)),g)}(zgssearch,window),zgssearch.dashboards=zgssearch.dashboards||{},zgssearch.dashboards=function(e){this.propertyObj=e,this.viewportID=e.hasOwnProperty("viewport")?e.viewport:"",this.main=function(){zgssearch.isEmbedDashboardEnabled&&this.renderPage("embedDashboardPage")},this.init=function(){this.loadDashboardFile()},this.loadDashboardFile=function(){zgssearch.network.loadSRIJSFile("js/dashboard.js",function(){zgssearch.isCardsandDBFilesloaded=!0,zgssearch.network.loadSRICSSFile(zgssearch.GSConstant.cssFilePath,function(){zgssearch.network.loadSRIJSFile(zgssearch.GSConstant.jsFilePath,zgssearch.embed_dashboards.main(),"embeddashboards")},"embeddashboards")})},this.renderPage=function(e){"embedDashboardPage"===e&&(this.setViewPortForEmbedDashboard(),this.renderEmbedDashboard())},this.setViewPortForEmbedDashboard=function(){zgssearch.searchViewport=zgssearch.pcViewport=document.getElementById("zgs20_gsEmbedDashboard")},this.constructEmbedDashboardOutline=function(){_jQueryGS("#"+this.viewportID).find("#zgs20_globalsearch").append("<div id='zgs20_gsDashboardhome' class = 'zgs19_gsDashboardhome zgs19_gsDisplayNone'></div>")},this.renderEmbedDashboard=function(){if(this.constructEmbedDashboardOutline(),zgssearch.GSConstant.hasOwnProperty("embedDashboardObj")){var s=zgssearch.GSConstant.embedDashboardObj.hasOwnProperty("ID")?zgssearch.GSConstant.embedDashboardObj.ID:"-1",t=zgssearch.GSConstant.embedDashboardObj.hasOwnProperty("metaObj")?zgssearch.GSConstant.embedDashboardObj.metaObj:{};zgssearch.gsdbUtils.dashboardsData[s]=t,zgssearch.isDashboardOpened=!0;let e=zgssearch.gsdbUtils.setDashboardViewDetails(zgssearch.dbViewType.specificDashboard);e.setDashboardId(s),zgssearch.gsdbhome.renderDashboardPage(zgssearch.dbViewType.specificDashboard,e)}},this.init()},zgssearch.dashboard={},zgssearch.dashboard.Hash=zgssearch.dashboard.Hash||{},zgssearch.isHashingAllowed=zgssearch.gscomponent.isHashingAllowed(),zgssearch.dashboard.Hash.home="Home",zgssearch.dashboard.Hash.edit="Edit",zgssearch.dashboard.Hash.create="Create",zgssearch.dashboard.Hash.tabs_set=[zgssearch.dashboard.Hash.home,zgssearch.dashboard.Hash.create,zgssearch.dashboard.Hash.edit],zgssearch.dashboard.Hash.getPathFromURL=function(){return window.location.pathname},zgssearch.dashboard.Hash.getDBIdFromURL=function(){var e=zgssearch.dashboard.Hash.getPathFromURL().split("/");return 1<e.length?e[2]:""},zgssearch.dashboard.Hash.getFullHash=function(){return window.location.hash},zgssearch.dashboard.Hash.getCurrentHash=function(){return zgssearch.dashboard.Hash.getFullHash().split("#")[1]},zgssearch.dashboard.Hash.Listen=function(){"onhashchange"in window&&(window.onhashchange=zgssearch.dashboard.Hash.Change),zgssearch.dashboard.Hash.checkForEmpty()},zgssearch.dashboard.Hash.setDefaultHash=function(){zgssearch.includes("/dashboards",zgssearch.dashboard.Hash.getPathFromURL())&&(window.location.hash=zgssearch.dashboard.Hash.home)},zgssearch.dashboard.Hash.checkForEmpty=function(){""===window.location.hash&&zgssearch.dashboard.Hash.setDefaultHash()},zgssearch.dashboard.Hash.Change=function(){zgssearch.dashboard.Hash.validate(),zgssearch.dashboard.Hash.render()},zgssearch.dashboard.Hash.validate=function(){zgssearch.dashboard.Hash.checkForEmpty();var e,s=zgssearch.dashboard.Hash.getCurrentHash().split("/");1===s.length?(e=s[0],-1<zgssearch.dashboard.Hash.tabs_set.indexOf(e)||zgssearch.dashboard.Hash.setDefaultHash()):(s[0],s[1])},zgssearch.dashboard.Hash.render=function(e){var s=zgssearch.dashboard.Hash.getCurrentHash(),s=(new zgssearch.dashboard.HashingFactory).createInstance(s);s&&s.get(e)},zgssearch.dashboard.HashingFactory=function(){var s;this.createInstance=function(e){switch(e){case zgssearch.dashboard.Hash.home:s=new dashboardHome;break;case zgssearch.dashboard.Hash.create:s=new dashboardCreate;break;case zgssearch.dashboard.Hash.edit:s=new dashboardEdit}return s}},zgssearch.cardHash=zgssearch.cardHash||{},zgssearch.isHashingAllowed=zgssearch.gscomponent.isHashingAllowed(),zgssearch.cardHash.home="Home",zgssearch.cardHash.edit="Edit",zgssearch.cardHash.create="Create",zgssearch.cardHash.tabs_set=[zgssearch.cardHash.home,zgssearch.cardHash.edit,zgssearch.cardHash.create],zgssearch.cardHash.getPathFromURL=function(){return window.location.pathname},zgssearch.cardHash.getcardIdFromURL=function(){var e=zgssearch.cardHash.getPathFromURL().split("/");return 2<e.length?e[2]:""},zgssearch.cardHash.getCardTypeFromURL=function(){var e=zgssearch.cardHash.getPathFromURL().split("/");return 2<e.length?e[2]:""},zgssearch.cardHash.getFullHash=function(){return window.location.hash},zgssearch.cardHash.getCurrentHash=function(){return zgssearch.cardHash.getFullHash().split("#")[1]},zgssearch.cardHash.Listen=function(){"onhashchange"in window&&(window.onhashchange=zgssearch.cardHash.Change),zgssearch.cardHash.checkForEmpty()},zgssearch.cardHash.setDefaultHash=function(){zgssearch.includes("/cards/links",zgssearch.cardHash.getPathFromURL())?window.location.hash=zgssearch.cardHash.create:zgssearch.includes("/cards",zgssearch.cardHash.getPathFromURL())&&(window.location.hash=zgssearch.cardHash.home)},zgssearch.cardHash.checkForEmpty=function(){""===window.location.hash&&zgssearch.cardHash.setDefaultHash()},zgssearch.cardHash.Change=function(){zgssearch.cardHash.validate(),zgssearch.cardHash.render()},zgssearch.cardHash.validate=function(){zgssearch.cardHash.checkForEmpty();var e,s=zgssearch.cardHash.getCurrentHash().split("/");1===s.length?(e=s[0],-1<zgssearch.cardHash.tabs_set.indexOf(e)||zgssearch.cardHash.setDefaultHash()):(s[0],s[1])},zgssearch.cardHash.render=function(){var e=zgssearch.cardHash.getCurrentHash(),e=(new zgssearch.cardHashingFactory).createInstance(e);e&&e.get()},zgssearch.cardHashingFactory=function(){var s;this.createInstance=function(e){switch(e){case zgssearch.cardHash.home:s=new cardsHome;break;case zgssearch.cardHash.edit:s=new cardsEdit;break;case zgssearch.cardHash.create:s=new cardsCreate}return s}},zgssearch.CARD_TYPE="card",zgssearch.DASHBOARD_TYPE="dashboard",zgssearch.UPDATE_DASHBOARDS="/zgssearch/gsupdatedashboards",zgssearch.GET_PREVIEW_CARDS="/zgssearch/gspreviewcards",zgssearch.UPDATE_PREVIEW_CARDS="/zgssearch/gsupdatepreviewcards",zgssearch.SAVED_CARD=0,zgssearch.SYSTEM_CARD=1,zgssearch.BOOKMARK_CARD=3,zgssearch.RESULT_CARD=0,zgssearch.WIDGET_CARD=1,zgssearch.dbCrdCalloutType="dashboardCard",zgssearch.crdPagecalloutType="cardPageCallout",zgssearch.cardAutoRefreshTime=18e4,zgssearch.onTheFlyDashboardAutoRefreshTime=18e5,zgssearch.SAVED_DASHBOARD="0",zgssearch.AUTO_GENERATED_DASHBOARD="1",zgssearch.IMPORT_DASHBOARD="2",zgssearch.ONTHEFLY_DASHBOARD="3",zgssearch.TEMPLATE_DASHBOARD="4",zgssearch.SHARED_DASHBOARD="5",zgssearch.dbViewType={dashboardHome:"home",specificDashboard:"specific",createDashboard:"createDashboard",autoGenerate:"autogenerate",importDashboard:"import",onthefly:"userInsights",template:"template",sharedDashboard:"shared",userInsightsHome:"userInsightsHome"},zgssearch.AUTO_GENERATED_DASHBOARD_ID="0",zgssearch.IMPORT_DASHBOARD_ID="1";GSConstant=zgssearch.getGSConstantObj()||{};function ZSCrm(){this.formatResults=function(){var e=this.getServiceName();if(e===zgssearch.GSConstant.CRM)for(var s=this.getOffset(),t=this.getLimit(),a=this.getServiceInfo().records_info;s<t;s++){var r,o=e+s,i=a[o],n=i.mod,l=zgssearch.CrmUtils.getModuleImpFields(e,n).nameVsDispName,g={};for(r in i)g[l[r]||r]=i[r];a[o]=g}},this.formatCalloutResults=function(e){if(this.getServiceName()!==zgssearch.GSConstant.CRM)return e;var s=e.impFields,t=e.extraFields;for(a in s)t[a]=s[a];var a,r=e.apiNames,o=[];for(a in t){var i=r[a]||"",n={};n.api_name=i,n.disp_label=a,n.field_val=t[a],o.push(n)}var l={},e={};return e.disp_fields=o,l.response=e,l},this.renderResults=function(){this.formatResults(),this.render()},this.calloutParams=function(){var e=this.getCurrentResObj(),s=zgssearch.CrmUtils.getRecordId(e),e=zgssearch.CrmUtils.getModuleName(e);return"searchType="+zgssearch.getCurSelectedEleAttr("service")+"&entityId="+s+"&crmMod="+zgssearch.CrmUtils.getCrmModuleQueryName(e)},this.calloutResponse=function(e,s){var t=this.getCurrentResObj(),t=zgssearch.CrmUtils.getModuleName(t);e=this.formatCalloutResults(e),this.renderCalloutView(t,e,s)}}function ZSSalesforce(){this.renderResults=function(){this.render()},this.calloutParams=function(){this.setCurrentResObj();var e=this.getCurrentResObj(),s=zgssearch.getResultAccountId();void 0===e.CONNECTOR_ID&&(e.CONNECTOR_ID=s);var s=e.CONNECTOR_ID||"",t=e.Id||"",a=zgssearch.CrmUtils.getModuleName(e),e=zgssearch.getAppIdForCloudApps(s);if(""!==a)return"action=salesforceCallout&service_name="+zgssearch.GSConstant.SALESFORCE+"&connector_id="+s+"&module_name="+a+"&id="+t+"&app_id="+e},this.calloutResponse=function(e,s){var t=this.getCurrentResObj(),t=zgssearch.CrmUtils.getModuleName(t);this.renderCalloutView(t,e,s)}}zgssearch.AUTOREF_SUPPORTED_SERVICES=[GSConstant.PERSONALCONTACTS,GSConstant.ORGCONTACTS,GSConstant.PEOPLE,GSConstant.CLIQ,GSConstant.CHAT,GSConstant.NOTEBOOK,GSConstant.SUPPORT,GSConstant.WIKI,GSConstant.ORGRESOURCES],zgssearch.WIDGET_CARD_SERVICES=[GSConstant.PERSONALCONTACTS,GSConstant.ORGCONTACTS,GSConstant.PEOPLE,GSConstant.CLIQ,GSConstant.NOTEBOOK,GSConstant.SUPPORT,GSConstant.WIKI,GSConstant.WEBSITE,GSConstant.ORGRESOURCES,GSConstant.PROJECTS,GSConstant.WORKDRIVE,GSConstant.CRM],zgssearch.noOfCardsTobeFetched=zgssearch.noOfCardsTobeFetched||200,zgssearch.dashboardCount=zgssearch.dashboardCount||50,zgssearch.totalComunsInDbGrid=12,zgssearch.numericCardTypes=[zgssearch.SAVED_CARD,zgssearch.SYSTEM_CARD],zgssearch.dashboardCardTypes={0:zgssearch.getI18NMsg("gs.cards.saved_result_card"),1:zgssearch.getI18NMsg("gs.cards.saved_numeric_card")},zgssearch.cardNameVsTypes={savedcards:"0",previewcards:"3",systemcards:"1"},zgssearch.cardTypeConstants=zgssearch.cardTypeConstants||{},zgssearch.cardTypeConstants[zgssearch.cardNameVsTypes.savedcards]={stitle:zgssearch.getI18NMsg("gs.cards.searchCard"),ptitle:zgssearch.getI18NMsg("common.cards"),class_name:"gssavedsearches",prefixname:"Saved",placeholder:zgssearch.getI18NMsg("gs.search.search")},zgssearch.cardTypeConstants[zgssearch.cardNameVsTypes.previewcards]={stitle:zgssearch.getI18NMsg("gs.cards.previewCard"),ptitle:zgssearch.getI18NMsg("gs.cards.previewCards"),class_name:"gspreviewcard",prefixname:"Preview",placeholder:zgssearch.getI18NMsg("gs.search.preview")},zgssearch.cardTypeConstants[zgssearch.cardNameVsTypes.systemcards]={stitle:zgssearch.getI18NMsg("gs.cards.systemCard"),ptitle:zgssearch.getI18NMsg("gs.cards.sytem_cards_title"),class_name:"gssystemcard",prefixname:"System",placeholder:zgssearch.getI18NMsg("gs.search.system")},zgssearch.getCardTypePTitle=function(e){return zgssearch.cardTypeConstants[e]?.ptitle||""},zgssearch.getCardTypeClassName=function(e){return zgssearch.cardTypeConstants[e]?.class_name||""},zgssearch.getCardTypePrefixName=function(e){return zgssearch.cardTypeConstants[e]?.prefixname||""},zgssearch.otherCardFilters="otherFilters",zgssearch.autoGeneratedDbId="0",zgssearch.importedDbId="1",zgssearch.dashboardCardIconColor=[{backgroundColor:"zgs19_gsFFF9EDColor",textColor:"zgs19_gsEDA715Color"},{backgroundColor:"zgs19_gsEDFFF4Color",textColor:"zgs19_gs3B7B55Color"},{backgroundColor:"zgs19_gsEDFBFFColor",textColor:"zgs19_gs387E91Color"},{backgroundColor:"zgs19_gsEDF8FFColor",textColor:"zgs19_gs226DB4Color"},{backgroundColor:"zgs19_gsFFEDF4Color",textColor:"zgs19_gsDA407AColor"}],function(c){c.gscardUtils=c.gscardUtils||{},c.gssavedsearches=c.gssavedsearches||{},c.gssystemcard=c.gssystemcard||{},c.gspreviewcard=c.gspreviewcard||{},c.gscardUtils.cardIdsVsObject=c.gscardUtils.cardIdsVsObject||{},c.gscardUtils.cardMetaObj=c.gscardUtils.cardMetaObj||{},c.gscardUtils.cardsCount=c.gscardUtils.cardsCount||100,c.gscardUtils.oldCardObjLen=c.gscardUtils.oldCardObjLen||0,c.gscardUtils.allCardIds=c.gscardUtils.allCardIds||[],c.gscardUtils.cardsLimitInMultiCardSave=c.gscardUtils.cardsLimitInMultiCardSave||30,c.gscardUtils.cardAndDashboardDetailsRegexPattern=/^[\p{L}\u0000-\u007F]*$/u,c.isCardPageOpened=c.isCardPageOpened||!1,c.gscardUtils.getAllCardsData=function(e,s,t,a,r){r={callback:r,start:s,count:t},a="start="+s+"&count="+t+"&cardtype="+encodeURIComponent(JSON.stringify(e))+"&sort="+a;c.gscardUtils.getAllCardsResponse(a,r)},c.gscardUtils.getUnMergedCardMetaData=function(e,s,t,a,r){a="start="+(r.start=s)+"&count="+(r.count=t)+"&cardtype="+encodeURIComponent(JSON.stringify(e))+"&sort="+a+"&resultanttype=0";c.gscardUtils.getUnmergedCardMetaResponse(a,r)},c.gscardUtils.getMergedCardMetaData=function(e,s,t,a,r){r={callback:r,start:s,count:c.gscardUtils.cardsCount},a="start="+s+"&count="+t+"&cardtype="+encodeURIComponent(JSON.stringify(e))+"&sort="+a+"&resultanttype=1";c.gscardUtils.getMergedCardMetaResponse(a,r)},c.gscardUtils.getAllCardsResponse=function(e,s){e="action=getallcards&"+e;s.action="getallcards",c.uri(c.GET,c.getCardsURL,e,s,function(e,s,t){c.gssavedsearches.isCardRespRecieved=!0;var a=c.jsonParse(e),r=t.args,e=r.callback,o=0;if(a.hasOwnProperty("status")){var i,n,t=a.status;if("1004"===t){for(var l in 0==n&&(c.gscardUtils.cardIdsVsObject={}),a)c.cardNameVsTypes.hasOwnProperty(l)&&(i=c.cardNameVsTypes[l],i=c.getCardTypeClassName(i),0==(n=r.start)&&c.gscardUtils.clearCardsData(i),l=a[l],c.storeAllCardsData(i,l,r),o+=c[i].totCardsLen);0==o?e("",r,c.getI18NMsg("gs.cards.no_card_saved")):e(a,r,"")}else e("",r,"3000"===t?c.getI18NMsg("gs.cards.no_card_saved"):c.getI18NMsg("gs.search.error.generic_error_messege"))}else e("",r,c.getI18NMsg("gs.search.error.generic_error_messege"))})},c.gscardUtils.getUnmergedCardMetaResponse=function(e,s){e="action=getcardsmeta&"+e;s.action="getallcards",navigator.onLine?c.uri(c.GET,c.getCardsURL,e,s,function(e,s,t){var a=c.jsonParse(e),r=t.args,e=r.callback;if(a.hasOwnProperty("status")){var o,i,t=a.status;if("1004"===t){for(var n in 0==i&&(c.gscardUtils.cardMetaObj={}),a)c.cardNameVsTypes.hasOwnProperty(n)&&(o=c.cardNameVsTypes[n],o=c.getCardTypeClassName(o),0==(i=r.start)&&c.gscardUtils.clearCardsData(o),n=a[n],c.storeMetaCardInfo(o,n,r),c[o].totCardsLen);e(a,r,"")}else e("",r,"3000"===t?c.getI18NMsg("gs.cards.no_card_saved"):c.getI18NMsg("gs.search.error.generic_error_messege"))}else e("",r,c.getI18NMsg("gs.search.error.generic_error_messege"))}):s.hasOwnProperty("callback")&&s.callback("",s,c.getI18NMsg("gs.search.error.generic_error_messege"))},c.gscardUtils.getMergedCardMetaResponse=function(e,g){c.uri(c.GET,c.getCardsURL,"action=getcardsmeta&"+e,g,function(e,s,t){var a="",e=c.jsonParse(e),t=t.args,r=[];if("error"!==s)if(e.hasOwnProperty("status")&&"1004"===e.status){c.gscardUtils.cardsFetchedForCurrCall=!0;var o=(r=e.cardsmeta).length;if(0===g.start&&(c.gscardUtils.allCardIds=[]),0<o)for(var i=0;i<o;i++){var n,l=r[i];l&&!_jQueryGS.isEmptyObject(l)&&(n=l.cardid,c.gsautocomplete.cards[n]=l.cardname,c.gscardUtils.cardMetaObj[n]=l,c.gscardUtils.allCardIds.push(n))}c.gscardUtils.allCardsFetched=o<100}else a=c.getI18NMsg("gs.search.error.generic_error_messege"),c.gscardUtils.cardsFetchedForCurrCall=!1;else a=c.getI18NMsg("gs.search.error.generic_error_messege");t.hasOwnProperty("callback")&&t.callback(r,t,a)})},c.storeAllCardsData=function(e,s,t){c.storeCommonCardInfo(e,s,t);var a=s.data;0==t.start&&(c[e].cardData=[]),c[e].cardData=[].concat(c[e].cardData,a);for(var r=a.length,o=0;o<r;o++){var i=a[o];c.storeCommonCardDetails(i,e,t)}},c.storeMetaCardInfo=function(e,s,t){c.storeCommonCardInfo(e,s,t);var a=s.data;0==t.start&&(c[e].cardMetaData=[]),c[e].cardMetaData=[].concat(c[e].cardMetaData,a);for(var r=a.length,o=0;o<r;o++){var i=a[o],n=i.cardid;c.gscardUtils.cardMetaObj[n]=i,c.storeCommonCardDetails(i,e)}},c.storeCommonCardInfo=function(e,s,t){var a={};s.hasOwnProperty("zuidcardsinfo")&&(a=s.zuidcardsinfo),_jQueryGS.isEmptyObject(a)||(c.userIdVsDisplayName=_jQueryGS.extend({},c.userIdVsDisplayName,a));s=s.data.length,t=t.count;c[e].isMoreResults=t-s<=0,c[e].totCardsLen=s},c.storeCommonCardDetails=function(e,s){var t=e.cardid||e.id,e=e.cardname||e.name;c[s].cardIdVsNames[t]=e,c[s].cardIdArr.push(t)},c.storeCardDetails=function(e){var s=e.cardid;c.gscardUtils.cardIdsVsObject[s]=e},c.gscardUtils.clearCardsData=function(e){c[e].cardIdVsNames={},c[e].cardIdArr=[]},c.initialiseCardData=function(){for(var e in c.cardTypeConstants){e=c.getCardTypeClassName(e);c[e].cardIdVsNames=c[e].cardIdVsNames||{},c[e].cardIdArr=c[e].cardIdArr||[]}},c.gscardUtils.deleteAutoSuggOfCard=function(e){var s=c.Utils.indexOf(c.gscardUtils.allCardIds,e);-1<s&&c.gscardUtils.allCardIds.splice(s,1),c.gsautocomplete.cards.hasOwnProperty(e)&&delete c.gsautocomplete.cards[e]},c.gscardUtils.addCrdAutoSugg=function(e,s){c.gsautocomplete.cards[e]=s.name||s.reName,c.gscardUtils.allCardIds.push(e)},c.gscardUtils.updateCrdAutoSugg=function(e){var s=e.cardId;c.gsautocomplete.cards.hasOwnProperty(s)?c.gsautocomplete.cards[s]=e.reName:c.gscardUtils.addCrdAutoSugg(s,e)},c.gscardUtils.getCreateCrdClassUsingType=function(e){return e==c.BOOKMARK_CARD?"gsembeddata":"gscreatecards"},c.gscardUtils.isEmbedBookmarkCard=function(e){return"1"==e},c.gscardUtils.getSubCardType=function(e){return c.gscardUtils.cardMetaObj[e]?.subcardtype||0},c.gscardUtils.getIconForSubType=function(e){let s;switch(e){case 1:case"1":s="zgs18_gsGlobeIcon"}return s},c.initialiseCardData()}(zgssearch,window),zgssearch.cards=zgssearch.cards||{},zgssearch.cards=function(e){this.propertyObj=e,this.viewportID=e.hasOwnProperty("viewport")?e.viewport:"",this.main=function(){this.renderPage("embedCardsPage")},this.init=function(){this.loadCardsFile()},this.loadCardsFile=function(){zgssearch.network.loadSRIJSFile("js/dashboard.js",function(){zgssearch.isCardsandDBFilesloaded=!0,zgssearch.network.loadSRICSSFile(zgssearch.GSConstant.cssFilePath,function(){zgssearch.network.loadSRIJSFile(zgssearch.GSConstant.jsFilePath,zgssearch.embed_cards.main(),"embeddashboards")},"embeddashboards")})},this.renderPage=function(e){"embedCardsPage"===e&&(this.constructEmbedCardsOutline(),this.renderEmbedCards())},this.setViewPortForEmbedCards=function(){zgssearch.searchViewport=document.getElementById("zgs20_gsEmbedCard")},this.constructEmbedCardsOutline=function(){this.setViewPortForEmbedCards(),zgssearch.gscards.renderCardspage()},this.renderEmbedCards=function(){var e,s,t;zgssearch.GSConstant.hasOwnProperty("embedCardsObj")&&(e=zgssearch.GSConstant.embedCardsObj.hasOwnProperty("ID")?zgssearch.GSConstant.embedCardsObj.ID:"-1",t=""+(s=zgssearch.GSConstant.embedCardsObj.hasOwnProperty("metaObj")?zgssearch.GSConstant.embedCardsObj.metaObj:{}).cardtype,zgssearch.gscardUtils.cardMetaObj[e]=s,zgssearch.gscardUtils.cardIdsVsObject[e]=s,zgssearch.isCardPageOpened=!0,zgssearch.gscards.renderCardsPreview(e,t))},this.init()},function(h){h.gsdbUtils=h.gsdbUtils||{},h.gsdbUtils.dashboardDataObtained=!1,h.gsdbUtils.pinnedDashboardId=h.gsdbUtils.pinnedDashboardId||"",h.gsdbUtils.listOfDashboards=h.gsdbUtils.listOfDashboards||[],h.gsdbUtils.dashboardMeta=h.gsdbUtils.dashboardMeta||{},h.gsdbUtils.dashboardsData=h.gsdbUtils.dashboardsData||{},h.gsdbUtils.listOfCardsInaDashboard=h.gsdbUtils.listOfCardsInaDashboard||{},h.gsdbUtils.listOfDbCrdIdsInaDashboard=h.gsdbUtils.listOfDbCrdIdsInaDashboard||{},h.gsdbUtils.cardsDetailsinDb=h.gsdbUtils.cardsDetailsinDb||{},h.gsdbUtils.cardIdsVsObject=h.gsdbUtils.cardIdsVsObject||{},h.gsdbUtils.cardsObjInDB=h.gsdbUtils.cardsObjInDB||{},h.gsdbUtils.dbCardIdObjInDB=h.gsdbUtils.dbCardIdObjInDB||{},h.gsdbUtils.oldDbObjLen=h.gsdbUtils.oldDbObjLen||0,h.isDashboardOpened=h.isDashboardOpened||!1,h.gsdbUtils.userEmail=h.gsdbUtils.userEmail||"",h.gsdbUtils.dashboardLayout=h.gsdbUtils.dashboardLayout||0,h.gsdbUtils.getDashboardMeta=function(e,a){var s=a.hasOwnProperty("sort")?"&sort="+a.sort:"",t="action=getdashboardmeta";e&&(t+="&"+e),h.uri(h.GET,h.GET_DASHBOARDS,t+s,a,function(e,s,t){t=t.args||a;h.processDashboardResponse(e,t)})},h.processDashboardResponse=function(e,s){var t="";if(e){var a=h.jsonParse(e);if(h.Utils.removePageLoader("#zgs20_gsSettingsPageLoader"),h.gsdbUtils.clearDashboardDetails(),a.hasOwnProperty("status")){var r=a.status;if(h.gsdbUtils.isDashboardCountAPITrig=s.hasOwnProperty("getCount")&&s.getCount,h.gssavedsearches.dbDataFetchedTime=Date.now(),"1014"===r){h.gsdbUtils.dashboardDataObtained=!0;var o=h.jsonParse(a.dashboards),i=o.length;if(h.gsdbUtils.hasNoMoreDb=i<h.dashboardCount,0<i)for(var n=0;n<i;n++){var l=(e=o[n]).dashboardid;h.gsdbUtils.storeDashboardDetails(l,e),h.gsdbUtils.listOfDashboards.push(l)}}else t="3000"===r?(h.gsdbUtils.dashboardDataObtained=!0,h.gsdbUtils.hasNoMoreDb=!0,""):h.getI18NMsg("gs.search.error.generic_error_messege")}else t=h.getI18NMsg("gs.search.error.generic_error_messege")}else t=h.getI18NMsg("gs.search.error.generic_error_messege");s.hasOwnProperty("callback")&&s.callback(s,t)},h.gsdbUtils.storeDashboardDetails=function(e,s){s.isPinned&&(h.gsdbUtils.pinnedDashboardId=e),h.gsdbUtils.dashboardMeta[e]=s,h.gsautocomplete.dashboard[e]=s.name;var t=(h.gsdbUtils.dashboardsData[e]=s).dashboarditems;if(t){h.gsdbUtils.cardsDetailsinDb[e]=t;var a=[],r=[],o={},i={};h.gsdbUtils.listOfCardsInaDashboard[e]=[],h.gsdbUtils.listOfDbCrdIdsInaDashboard[e]=[];for(var n=0;n<t.length;n++){var l=t[n],g=l.viewid,c=l.type,d=h.gsdbUtils.getDbCardId(l),p=l.dashboardCardType;a.push(g),r.push(d),h.gsdbUtils.storeCardDetails(l,g),o[d]=l,i[d]={name:l.name,height:l.height,width:l.width,xpos:l.xpos,ypos:l.ypos,cardType:c,cardId:g,identifier:l.identifier,dashboardCardType:p,cardstatus:l.cardstatus}}h.gsdbUtils.dbCardIdObjInDB[e]=i,h.gsdbUtils.cardsObjInDB[e]=o,h.gsdbUtils.listOfCardsInaDashboard[e]=a,h.gsdbUtils.listOfDbCrdIdsInaDashboard[e]=r}},h.gsdbUtils.storeCardDetails=function(e,s){e=e.viewdetails;e&&(h.gsdbUtils.cardIdsVsObject[s]=e)},h.gsdbUtils.clearDashboardDetails=function(){h.gsdbUtils.pinnedDashboardId="",h.gsdbUtils.listOfDashboards=[],h.gsdbUtils.listOfCardsInaDashboard={},h.gsdbUtils.listOfDbCrdIdsInaDashboard={},h.gsdbUtils.dashboardsData={},h.gsdbUtils.cardsDetailsinDb={},h.gsdbUtils.cardIdsVsObject={}},h.gsdbUtils.getDbCardId=function(e){return e.itemId},h.gsdbUtils.sendDashboardAnanlytics=function(e,s,t,a){e="featuretype="+(e=e.toUpperCase());e+=s?"&eventtype="+s:"",e+=t?"&featureId="+t:"",a&&(e+="&eventitems="+encodeURIComponent(JSON.stringify(a))),h.uri(h.POST,"/zgssearch/gsdashboardevent",e,{},function(){})},h.gsdbUtils.getGridHeight=function(){return 110};var e=class{#isHeaderNeeded;#cardHeight;constructor(){this.#isHeaderNeeded=!0,this.#cardHeight=h.gsdbUtils.getGridHeight()}setIsHeaderNeeded=e=>{this.#isHeaderNeeded=e};getIsHeaderNeeded=()=>this.#isHeaderNeeded;setCardHeight=e=>{this.#cardHeight=e};getCardHeight=()=>this.#cardHeight};h.gsdbUtils.resetDashboardMode=function(){h.gsdbUtils.currentDashboardMode=new e},h.gsdbUtils.resetDashboardMode(),h.gsdbUtils.importDashboard=function(){try{_jQueryGS("#zgs20_gsImportDashboard").remove();let e=_jQueryGS("<input>",{type:"file",id:"zgs20_gsImportDashboard",class:"zgs19_gsDisplayNone",gs:"importInput",accept:".xml"});_jQueryGS("#zgs20_gsDashboardhome").append(e),h.gsdbUtils.importDbEventHandler(),e.click()}catch(e){_jQueryGS("#zgs20_gsImportDashboard").remove()}},h.gsdbUtils.importDbEventHandler=function(){let e=document.getElementById("zgs20_gsImportDashboard");e.addEventListener("change",function(){if(this.files){var s=this.files[0];if(s){let e=h.gsdbUtils.setDashboardViewDetails(h.dbViewType.importDashboard);e.setFile(s),_jQueryGS("#zgs20_gsImportDashboard").remove(),h.openDashboard(h.dbViewType.importDashboard,e)}}},!1)},h.gsdbUtils.setDashboardViewDetails=function(e){switch(e){case h.dbViewType.specificDashboard:return new h.gsdbUtils.specificDashboardPage;case h.dbViewType.autoGenerate:return new h.gsdbUtils.defaultDashboardPage;case h.dbViewType.importDashboard:return new h.gsdbUtils.importDashboardPage;case h.dbViewType.onthefly:return new h.gsdbUtils.onTheFlyDashboardPage;case h.dbViewType.template:return new h.gsdbUtils.templateDashboardPage;case h.dbViewType.sharedDashboard:return new h.gsdbUtils.sharedDashboardPage;default:return}},h.gsdbUtils.specificDashboardPage=function(){this.dashboardId="",this.setDashboardId=e=>{this.dashboardId=e},this.getDashboardId=()=>this.dashboardId,this.getDashboardType=()=>h.SAVED_DASHBOARD},h.gsdbUtils.defaultDashboardPage=function(){this.autoGenerateType="",this.setSubDashboardType=e=>{this.autoGenerateType=e},this.getSubDashboardType=()=>this.autoGenerateType,this.getDashboardType=()=>h.AUTO_GENERATED_DASHBOARD},h.gsdbUtils.importDashboardPage=function(){this.file="",this.setFile=e=>{this.file=e},this.getFile=()=>this.file,this.getDashboardType=()=>h.IMPORT_DASHBOARD},h.gsdbUtils.onTheFlyDashboardPage=function(){this.email="",this.setEmailId=e=>{this.email=e},this.getEmailId=()=>this.email,this.getDashboardType=()=>h.ONTHEFLY_DASHBOARD,this.setSubDashboardType=e=>{this.role=e},this.getSubDashboardType=()=>this.role},h.gsdbUtils.templateDashboardPage=function(){this.templateType="",this.setSubDashboardType=e=>{this.templateType=e},this.getSubDashboardType=()=>this.templateType,this.getDashboardType=()=>h.TEMPLATE_DASHBOARD},h.gsdbUtils.sharedDashboardPage=function(e){this.digest="",this.setSubDashboardType=e=>{this.digest=e},this.getSubDashboardType=()=>this.digest,this.getDashboardType=()=>h.SHARED_DASHBOARD},h.gsdbUtils.openOnTheFlyView=function(t,a){if(t&&h.emailRegexPattern.test(t)){h.gsdbUtils.userEmail=t.toLowerCase();let e=a&&a.hasOwnProperty("layout")?a.layout:0;e=isNaN(e)?0:e,0===h.gscomponent.UIType&&2<e&&(e=2),h.gsdbUtils.dashboardLayout=e;let s=h.gsdbUtils.setDashboardViewDetails(h.dbViewType.onthefly);if(s.setEmailId(t.toLowerCase()),a){let e=h.gsdbUtils.currentDashboardMode;if(a.hasOwnProperty("onTheFlyView"))return s.setSubDashboardType(a.onTheFlyView),h.gsdbUtils.onTheFlyMode=3,void h.gsdbhome.getDashboardIdAndRenderView(h.dbViewType.onthefly,s);a.hasOwnProperty("isHeaderNeeded")&&e.setIsHeaderNeeded(a.isHeaderNeeded),a.hasOwnProperty("cardHeight")&&e.setCardHeight(a.cardHeight),h.gsdbUtils.onTheFlyMode=2}h.openDashboard(h.dbViewType.onthefly,s)}else h.showTopbannertip({ty:3,msg:h.getI18NMsg("gs.search.calendar.callout.emailError")})},h.gsdbUtils.openTemplateDashboardView=function(s,t){if(s&&t){let e=h.gsdbUtils.setDashboardViewDetails(h.dbViewType.template);e.setSubDashboardType(s+"_"+t),h.openDashboard(h.dbViewType.template,e)}else h.showTopbannertip({ty:3,msg:h.getI18NMsg("gs.dashboard.getdashboard_error")})},h.gsdbUtils.renderCardsComponent=function(e,s,t,a,r,o,i,n){let l="";var g,c=h.gscardUtils.getSubCardType(s);let d="",p="",u="";r?(g=h.Utils.getServiceRelatedInfo(r),p=g.cardColor,d=g.bordercolor):e==h.BOOKMARK_CARD&&h.gscardUtils.isEmbedBookmarkCard(c)?(p="zgs19_gsEmbedLinkListIcon",d="",o=h.gscardUtils.getIconForSubType(c)):(g=h.Utils.getDashboardColors(s))&&(p=g.backgroundColor,u=g.textColor);i=_jQueryGS("<span>",{class:"zgs19_gsSSSerIcon "+o+" "+u}).text(i);l=a?_jQueryGS("<div>",{class:"zgs19_gsCardDescription zgs19_gsOverflowWrap",gstitle:a}).text(a):(a=h.getI18NMsg("gs.cards.no_description"),_jQueryGS("<div>",{class:"zgs19_gsCardDescription zgs19_gsOverflowWrap zgs19_gsNoDescription",gstitle:a}).text(a));t=_jQueryGS("<div>",{class:"zgs19_gsCardsOuterInfo"}).append(_jQueryGS("<div>",{id:s,class:"zgs19_gsCardsInfo zgs19_gsSSServiceIcon",cardType:e,gs:n,subcardtype:c}).append(_jQueryGS("<div>",{class:"zgs19_gsCardsTextHolder"}).append(_jQueryGS("<div>",{class:"zgs19_titleContentHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCardsIconHolder "+p+" "+d}).append(i),_jQueryGS("<div>",{class:"zgs19_gsCardMetaDataHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsDbMetaTitle"}).append(_jQueryGS("<span>",{class:"zgs19_gsCrdPageTitle zgs19_gsCardInfoTitle",gstitle:t}).text(t)))),l)));return e!=h.SAVED_CARD&&e!=h.BOOKMARK_CARD&&e!=h.SYSTEM_CARD||h.LINE_ICON_MAP.hasOwnProperty(o)&&h.obtainLineIconPaths(o,_jQueryGS(i)[0]),t}}(zgssearch,window),function(o,i){o.gsanalytics=function(a){(a=o.gsanalytics||{}).analyticsData=[];var r=i._jQueryGS;return a.init=function(){for(var e=["click","keypress"],s=e.length,t=0;t<s;t++)i.addEventListener(e[t],a.sendStatsData)},a.constructObj=function(e,s){return{t:e?e.type:"",l:s}},a.sendStatsForServicesPane=function(e){var s=i.event||s,e=o.getStatsKey("mc-sp-"+e);o.gsanalytics.sendStatsData(s,e)},a.sendStatsData=function(e,s){var t="";s?t=s:!(e=i.event||e)||0<(s=r(e.target).closest("[gsa]")).length&&(t=o.getStatsKey(r(s[0]).attr("gsa"))),""!==t&&(t=a.constructObj(e,t),a.analyticsData.push(t),a.pushDataToServer())},a.pushDataToServer=function(){var e;0<a.analyticsData.length&&(e="ej="+JSON.stringify(a.analyticsData[0]),o.uri(o.POST,o.eventStats,e,{},function(){a.analyticsData=[]}))},a.init(),a}(void 0)}(zgssearch,window),function(s,t){var a,r=s.getGSConstantObj()||{};s.gscomponent;s.gsversion=(a=void 0,(a=s.gsversion||{}).gsb=a.gsb||r.BUILD_DATE||"",a.isBuildChanged=function(e){return void 0!==e&&e.BUILD_DATE},a.handleVersionChanges=function(e){e&&(a.getLatestFiles(e),s.setGSConstantObj(e))},a.getLatestFiles=function(e){e&&e.hasOwnProperty("BUILD_DATE")&&a.gsb!=e.BUILD_DATE&&(s.isBuildChanged=!0,a.BUILD_DATE=e.BUILD_DATE,s.isExtension?(a.gsb=r.BUILD_DATE=a.BUILD_DATE,setTimeout(function(){a.updateLatestChanges()},100)):(s.GSConstant.gsbuildDetails=e.hasOwnProperty("build_details")?e.build_details:e,a.loadZSFiles(e)))},a.loadZSFiles=function(e){s.gscomponent=Object.assign(s.gscomponent,e),s.gsbuildDetails=Object.assign(s.gsbuildDetails,e),a.gsb=r.BUILD_DATE=s.gscomponent.BUILD_DATE,r.gsjQueryURL="js/jquery-3.6.0.min.js",r.gsi18NJSURL=s.getLanguageFileName(),r.resultNewJSURL=1===s.gscomponent.UIType?"js/zsresult.js":"js/gsresult.js",r.resultNewCSSURL=1===s.gscomponent.UIType?"css/zsresult.css":"css/gsresult.css",s.network.loadSRICSSFile(r.resultNewCSSURL,s.loadNewUICSS),a.loadI18NResultJsFiles()},a.updateLatestChanges=function(){var e;_jQueryGS("#zgs20_gsCRMCallout").remove(),_jQueryGS("#zgs20_gsSupportCallout").remove(),s.hasOwnProperty("gstopband")&&(s.gstopband.isHamburgerDataLoaded=!1),s.gsbuildDetails.hasOwnProperty("settings")&&1===s.gscomponent.UIType&&s.isDashboardEnabled&&(s.isLoadedTourbusFiles=!1,s.isFeatureCarouselLoaded=!1,s.loadFeatureCarouselComponent(s.gsbuildDetails.settings)),s.hasOwnProperty("all_timezones")&&(s.gscalendaraction.all_timezones=s.all_timezones),s.loadWelcomePage=!1,s.renderLandingPage(),s.preLoadComponentForServices(),s.settingsFileLoaded=!1,s.isCardsandDBFilesloaded=!1,s.gsbuildDetails.hasOwnProperty("latest_widget")&&(e=s.gsbuildDetails.latest_widget.servicesinfo,s.GSConstant.widgetObject.hasOwnProperty("servicesinfo")&&(s.gsbuildDetails.latest_widget.hasOwnProperty("allserviceslist")&&s.setConstAllServList(s.GSConstant.widgetObject.allserviceslist),s.GSConstant.widgetObject.servicesinfo=s.assignObject(s.GSConstant.widgetObject.servicesinfo,e),s.loadWidgetList(s.GSConstant.widgetObject),s.renderServiceList())),s.statusOfWidgetFetchData="READY",s.initWidgetList(),s.isBuildChanged&&(s.isBuildChanged=!1,s.searchURL?s.newHandleUserSearchQuery(s.getSearchType()):s.searchParamObj&&(delete s.searchParamObj.usd,s.getNewSearchResults(s.searchParamObj)))},a.loadLatestJSFileAndChanges=function(){r.resultNewJSURL,s.network.loadSRIJSFile(r.resultNewJSURL,function(){a.updateLatestChanges()})},a.loadLatestCoreJqueryFile=function(){s.network.loadSRIJSFile(r.gsjQueryURL,function(){var e;"undefined"!=typeof jQuery&&"3.6.0"===jQuery().jquery&&(t._jQueryGS=(e=jQuery).noConflict(!0),t.jQuery=void 0===t.jQuery?e:t.jQuery),a.loadLatestJSFileAndChanges()})},a.loadI18NResultJsFiles=function(){s.network.loadSRIJSFile(r.gsi18NJSURL,function(){r.hasOwnProperty("loadLatestCoreJQueryFile")&&r.loadLatestCoreJQueryFile?a.loadLatestCoreJqueryFile():a.loadLatestJSFileAndChanges()})},a.checkGSVersion=function(){a.getLatestFiles(s.GSConstant.gsbuildDetails)},a)}(zgssearch,window),function(a){var e;a.filtercomponent=(e=void 0,(e=a.filtercomponent||{}).getSearchFilterComponent=function(){var e=new r(!0,a.gscomponent.isRTLEnabled),s=new o(!0,!0,!1,!0,!1);e.setFilters(s);var t=new i(!0,!0,!0),s=new n(a.getI18NMsg("common.info.resetFilters"),a.resetFilterActions,a.gsfilters.enableResetFilter,a.gsfilters.disableResetFilter);t.setResetAction(s);s=new n(a.getI18NMsg("common.cancel"),a.cancelFilterActions);t.setCancelAction(s);s=new n(a.getI18NMsg("gs.search.filter.apply"),a.applyFilterActions,a.enableApplyButton,a.disableApplyButton);return t.setApplyAction(s),e.setActions(t),e},e.getCreateCardFilterComponent=function(){var e=new r(!0,a.gscomponent.isRTLEnabled),s=new o(!0,!1,!0,!1,!0);e.setFilters(s);var t=new i(!1,!1,!0),s=new n("","",a.gscreatecards.enableApplyButton,a.gscreatecards.disableApplyButton);return t.setApplyAction(s),e.setActions(t),e},e.getCcInDbFilterComponent=function(){let e=new r(!0,a.gscomponent.isRTLEnabled);var s=new o(!0,!1,!0,!1,!0);e.setFilters(s);let t=new i(!1,!0,!0,!0);s=new n(a.getI18NMsg("common.info.resetFilters"),a.resetFilterActions,a.gsfilters.enableResetFilter,a.gsfilters.disableResetFilter);t.setResetAction(s);s=new n(a.getI18NMsg("common.cancel"),a.gscreatecardindb.closePage);t.setCancelAction(s);s=new n(a.getI18NMsg("gs.settings.application.save"),a.gscreatecardindb.saveCard,a.gscreatecards.enableApplyButton,a.gscreatecards.disableApplyButton);t.setApplyAction(s);s=new n(a.getI18NMsg("gs.saved_searches.action_add_dashboard"),a.gscreatecardindb.saveCardAndAddToDb,a.gscreatecards.enableApplyButton,a.gscreatecards.disableApplyButton);return t.setAddToDbAction(s),e.setActions(t),e},e.getCardFilterComponent=function(){var e=new r(!0,a.gscomponent.isRTLEnabled),s=new o(!0,!1,!0,!1,!1);e.setFilters(s);var t=new i(!0,!0,!0),s=new n(a.getI18NMsg("common.info.restoreFilters"),a.gscardfilter.resetFilterActions,a.gsfilters.enableResetFilter,a.gsfilters.disableResetFilter);t.setResetAction(s);s=new n(a.getI18NMsg("common.cancel"),a.gscardfilter.cancelFilterActions);t.setCancelAction(s);s=new n(a.getI18NMsg("gs.search.filter.apply"),a.gscardfilter.applyFiltersActions,a.gscardfilter.enableApplyButton,a.gscardfilter.disableApplyButton);return t.setApplyAction(s),e.setActions(t),e},e);var r=class{#mode;#filters;#actions;#isRTLEnabled;constructor(e,s){this.#mode=e,this.#isRTLEnabled=s}getMode=()=>this.#mode;getRTLEnabled=()=>this.#isRTLEnabled;setFilters=e=>{this.#filters=e};getFilters=()=>this.#filters;setActions=e=>{this.#actions=e};getActions=()=>this.#mode?this.#actions:""},o=class{#service=!1;#settings=!1;#query=!1;#allLabel=!1;#description=!1;constructor(e,s,t,a,r){this.#service=e,this.#settings=s,this.#query=t,this.#allLabel=a,this.#description=r}getService=()=>this.#service;getSettings=()=>this.#settings;getQuery=()=>this.#query;getAllLabel=()=>this.#allLabel;getDescription=()=>this.#description},i=class{#reset=!1;#cancel=!1;#apply=!1;#addToDbBtn=!1;#resetAction;#cancelAction;#applyAction;#addToDbAction;constructor(e,s,t,a){this.#reset=e,this.#cancel=s,this.#apply=t,this.#addToDbBtn=a}getReset=()=>this.#reset;getCancel=()=>this.#cancel;getApply=()=>this.#apply;setResetAction=e=>{this.#reset&&(this.#resetAction=e)};getResetAction=()=>this.#resetAction;setCancelAction=e=>{this.#cancel&&(this.#cancelAction=e)};getCancelAction=()=>this.#cancelAction;setApplyAction=e=>{this.#apply&&(this.#applyAction=e)};getApplyAction=()=>this.#applyAction;getAddToDbAction=()=>this.#addToDbAction;setAddToDbAction=e=>{this.#addToDbBtn&&(this.#addToDbAction=e)}},n=class{#title;#callback;#enableCallback;#disableCallback;constructor(e,s,t="",a=""){this.#title=e,this.#callback=s,this.#enableCallback=t,this.#disableCallback=a}getTitle=()=>this.#title;getCallback=()=>this.#callback;getEnableCallback=()=>this.#enableCallback||"";getDisableCallback=()=>this.#disableCallback||""}}(zgssearch,window),function(y,i){var I=i._jQueryGS;y.gsfilters=y.gsfilters||{};var O=y.getGSConstantObj()||{},p=y.GSClientConstants||{},P=y.gsfilters;y.searchObj=y.searchObj||{service:"all"},P.currentFilterObj=P.currentFilterObj||{},P.childRenderingNeed=!0,P.appliedFilters=P.appliedFilters||0,P.dateKeys=["date","dueDate","modifiedTime"],P.peopleDeptCache=P.peopleDeptCache||{result:[],noresult:[]},P.wDFoldersCache=P.wDFoldersCache||{result:{},noResult:{}},P.learnSpacesCache=P.learnSpacesCache||{result:[],noresult:[]},P.learnManualsCache=P.learnManualsCache||{result:[],noresult:[]},P.clientSearchLimit=10,y.userIdVsDisplayName=y.userIdVsDisplayName||{},P.filterClickActions=function(e){var s=I(e).attr("actionType");switch(s){case"openAppliedFilters":case"newFilterClick":P.showFilterContainer(e);break;case"apply":case"cancel":case"reset":case"addToDbBtn":P.filterActions(s,{target:e});break;case"openFilterList":P.openEachFilterPopUp(e);break;case"moduleFilterEditFields":P.filterEditFieldsActionControl(e);break;case"moduleFilterChild":P.singleSelectFilterClickActions(e);break;case"filterCheckBoxChild":P.filterCheckBoxClickActions(e);break;case"moreFiltercheckbox":var t=I(e).closest(".zgs19_checkbox");0<t.length&&P.moreFilterCheckBoxActionControl(e,t);break;case"contextFilters":y.contextFilterActions(e);break;case"tabFilters":y.tabFilterActions(e)}},P.getActionObjectForActionType=function(e){var s=P.currentFilterComponent.getActions();switch(e){case"apply":return s.getApplyAction();case"cancel":return s.getCancelAction();case"reset":return s.getResetAction();case"addToDbBtn":return s.getAddToDbAction()}return""},P.buttonAction=function(e,s){e=P.getActionObjectForActionType(e);!e||(e=s?e.getEnableCallback():e.getDisableCallback())&&e()},P.addEventsForFiltersPage=function(){I("#zgs20_gsSerListQrybox").off().on({focus:function(){I("#zgs20_gsSearchQryHolder").removeClass("zgs19_gsModuleFilterWidgetFocusOut").addClass("zgs19_gsModuleFilterWidgetFocus")},blur:function(){I("#zgs20_gsSearchQryHolder").removeClass("zgs19_gsModuleFilterWidgetFocus").addClass("zgs19_gsModuleFilterWidgetFocusOut")},input:function(){var s=I(this).val().toLowerCase().trim();I(".zgs19_gsAppsMenu").find(".zgs19_gsNewSerivceTxt").filter(function(){var e=I(this).closest(".zgs19_gsnewServiceInfoHolder");I(e).toggle(I(this).text().toLowerCase().startsWith(s))})}}),I("#zgs20_gsDescriptionTxt").off().on({focusout:function(){var e=I(this)[0];e.value.trim().length||(e.value="")},keydown:function(e){(e.keyCode||e.which)===y.specialkeys.ENTER&&y.stopEvent(e);e=I("#zgs20_gsDescriptionTxt").val().trim();e&&!y.gssavedsearches.cardDetailsCheck(e)||P.checkAndEnableApplyButtonForFilters(P.getCurrentService())}}),y.gssavedsearches.addEventForCardAndDashboardDetails("#zgs20_gsDescriptionTxt"),I(".zgs19_gsnewServiceInfoHolder").off().on({mousemove:function(){P.currselecElem=this,I(this).addClass("zgs19_gsAutoSuggChildIn")},mouseleave:function(){I(this).removeClass("zgs19_gsAutoSuggChildIn"),P.currselecElem=""},click:function(){var e=I(this).attr("service");P.serviceClickActions(e)}}),I(".zgs19_gsTxtBox").off().on({focusout:function(){var e=I(this);e.text().trim().length||e.empty()},input:function(){P.getCurrentService()&&P.enableApplyButton()}}),I("#zgs20_gsQryBox").off().on({input:function(e){e=e.target;P.openUserContactsList(e)},keydown:function(e){var s,t=e.keyCode||e.which;t!==y.specialkeys.ENTER&&t!==y.specialkeys.TAB||(e.preventDefault(),P.isUserSuggDisplay&&((s=y.gsautocomplete.currselecelem)||(t=I(".zgs19_gsAutoSuggChild:first").attr("id"),s=y.getTargetElem(t)),P.updateQrySearchBox(s)),y.stopEvent(e))},paste:function(e){P.pasteEventForEditableDiv(e),P.getCurrentService()&&(P.enableApplyButton(),P.enableResetButton())}}),I(".zgs19_gsAutoSuggChild").off().on({mousemove:function(){var e;y.handleMouseMoveEvent(),y.gsautocomplete.currselecelem!==this&&(y.gsautocomplete.currselecelem=this,I(".zgs19_gsAutoSuggChild").removeClass("zgs19_gsAutoSuggChildIn"),I(".zgs19_gsAutoSuggChild .zgs19_gsAutoSuggChildName").removeClass("zgs19_gsFtWeightBold"),e=I(this).attr("id"),I(this).addClass("zgs19_gsAutoSuggChildIn"),I("#"+e+" .zgs19_gsAutoSuggChildName").addClass("zgs19_gsFtWeightBold"))},mouseleave:function(){var e;y.isMouseStopped||(e=I(this).attr("id"),I(this).removeClass("zgs19_gsAutoSuggChildIn"),I("#"+e+" .zgs19_gsAutoSuggChildName").removeClass("zgs19_gsFtWeightBold"),y.gsautocomplete.currselecelem="")},click:function(){P.updateQrySearchBox(this)}}),I(".zgs19_gsAutoSuggShowMore").off().on({click:function(){P.showMoreUserSuggest(this)}}),I(".zgs19_filterBodyHldr").off().on({keydown:function(e){var s=(e=e||i.event).keyCode||e.which;if(s===y.specialkeys.ENTER){if(y.isFilterListDisplay){var t=y.currFilterSelectedElem;t&&P.filterClickActions(t)}else if(y.isAppListOpened){t=P.currselecElem;t&&(t=I(t).attr("service"),P.serviceClickActions(t))}else if(y.hasOwnProperty("gsadvancesearch")&&y.isAdvancedFitersApplied&&y.gsadvancesearch.isAdvFieldListOpened){var a=I(".zgs19_gsAutoSuggChildIn:visible");if(a){var r=I.isEmptyObject(a)?"":a.attr("class").split(" ")[0];if("zgs19_gsFieldOptionHldr"===r)switch(I(a).attr("fType")){case"0":y.gsadvancesearch.selectField(a);break;case"1":y.gsadvancesearch.selectOperator(a)}else"zgs19_gsValueOptionTxt"===r?y.gsadvancesearch.selectSingleValue(a):"zgs19_gsFieldValueHolder"===r&&y.gsadvancesearch.multiSelectPicklistActions(a)}}else{var o,r=I(".zgs19_curSelectedFilter");0<r.length&&((o=r).hasClass("zgs19_gsFieldValue")&&(o=r.find(".zgs19_gsAsInputField")),I(o).click())}y.stopEvent(e)}else s===y.specialkeys.UP||s===y.specialkeys.DOWN?y.isFilterListDisplay||y.isMoreInnerFilterListDisplay?y.gskeyboard.keyboardNavgForFilters(s):y.gsadvancesearch.isAdvFieldListOpened?y.gskeyboard.keyboardNavgForAdvFilters(s):y.isAppListOpened&&y.gskeyboard.keyboardNavgForServiceSugg(s):s===y.specialkeys.TAB&&(y.isFilterListDisplay||y.gsadvancesearch.isAdvFieldListOpened||y.isAppListOpened||(o=I(".zgs19_curSelectedFilter"),(s=I(".zgs19_gsFilterElementOuter")).removeClass("zgs19_gsBorderThemeCol zgs19_curSelectedFilter"),(o&&0===o.length?I(s[0]):o=s.eq(s.index(o)+1)||I(s[0])).addClass("zgs19_curSelectedFilter zgs19_gsBorderThemeCol"),I(o).focus()),y.stopEvent(e))}}),I("#zgs20_gsfilterHolder").off("mousemove").on("mousemove",function(e){y.setTooltipTimer(e)}),I("#zgs20_gsfilterHolder").off("mouseout").on("mouseout",function(){y.hidetooltip()})},P.pasteEventForEditableDiv=function(e){e.preventDefault();e=(e=i.event.clipboardData.getData("text/plain")).replace(/\r?\n/g," ");const s=i.getSelection();if(!s.isCollapsed){const a=s.getRangeAt(0);a.deleteContents()}const t=s.getRangeAt(0);t.insertNode(document.createTextNode(e))},P.addEventForFilterQueryBox=function(e,s){I("#"+e+" .zgs19_gsFilterQuerySelection").off().on({mousemove:function(){y.handleMouseMoveEvent(),y.currFilterSelectedElem!=this&&(y.currFilterSelectedElem=this,I(".zgs19_gsFilterQuerySelection").removeClass("zgs19_gsAutoSuggChildIn"),I(this).addClass("zgs19_gsAutoSuggChildIn"))},mouseleave:function(){y.isMouseStopped||(I(this).removeClass("zgs19_gsAutoSuggChildIn"),y.currFilterSelectedElem="")},mousedown:function(){y.currFilterClickelem=this,y.isCurrFilterClickelem=!0}}),I("#"+e+" .zgs19_gsFilterQuerySelection_sub").off().on({mousedown:function(){y.isCurrFilterClickelem=!0}}),P.filterPopUpSearchQueryActions(s)},P.createFilterIcon=function(){return I("<div>",{id:"zgs20_gsFilterIconHolder",class:"zgs19_gsFilterIconHolder zgs19_gsfl",gs:"newfilterActions",actionType:"newFilterClick",viewType:"search"}).append(I("<span>",{class:"zgs18_gsNewFilterIcon",gs:"newfilterActions",actionType:"newFilterClick",viewType:"search"}))},P.appliedFilterIconColor=function(){var e=I(".zgs19_gsFilterIconHolder");0===I(".zgs18_appliedFilterIcon").length&&e.append(I("<span>",{class:"zgs18_appliedFilterIcon",gs:"newfilterActions",actionType:"newFilterClick"})),e.css("color","#EA942F").removeClass("zgs19_gsHideEleme")},P.removeAppliedFilterIconColor=function(){I(".zgs18_appliedFilterIcon").remove(),I(".zgs19_gsFilterIconHolder").css("color","var(--zs-primaryThemeIconColor)").removeClass("zgs19_gsHideEleme")},P.checkFiltersAppliedOrNot=function(){y.getSearchType()===O.ALL?P.removeAppliedFilterIconColor():P.appliedFilterIconColor()},P.getFilterLevel=function(e,s){return y.getFilterObj(e)[s].filterLevel},P.getFilterLevelElement=function(e){var s,t="zgs20_filterLevel_"+e,a=I("#"+t);return 0===a.length&&((s=0===(s=I("#"+(1===e?"zgs20_gsnewFltrHdr":"zgs20_filterLevel_"+(e-1)))).length?P.getFilterLevelElement(e-1):s).append(I("<div>",{id:t,class:"zgs19_filterLevel"})),a=I("#"+t)),a},P.getMaxFlevelForService=function(e){var s,t=0;for(s in e){var a=e[s].filterLevel;t<a&&(t=a)}return t=P.getCurrentService()===O.CONNECT?3:t},P.getCurrentFilterObjFromPageMeta=function(){return P.currentFilterComponent.getFilters()},P.getIsReadMode=function(){return!P.currentFilterComponent.getMode()},P.getIsRTLEnabled=function(){var e=P.currentFilterComponent;return e?e.getRTLEnabled():y.gscomponent.isRTLEnabled},P.getIsSettingsHonored=function(){return P.currentFilterComponent.getFilters().getSettings()},P.getIsAllLabelNeeded=function(){return P.currentFilterComponent.getFilters().getAllLabel()},P.getCurrentService=function(){return P.currentFilterObj.service},P.getCurrentFilterObj=function(){return P.currentFilterObj},P.updateCurrentFilterObj=function(e){P.currentFilterObj=Object.assign({},e)},P.setValueInFilterObj=function(e,s){P.currentFilterObj[e]=[s]},P.getValueFromFilterObj=function(e,s){return(s=s||P.currentFilterObj)[e]},P.setChildRenderingNeed=function(e){P.childRenderingNeed=e},P.getChildRenderingNeed=function(){return P.childRenderingNeed},P.getTitleForFilter=function(e,s){return y.getFilterObj(e)[s].title},P.removeChildFiltersValuesFromSearchObj=function(e,s){var t,a=y.getFilterObj(e),r=P.getCurrentFilterObj();for(t in r)a.hasOwnProperty(t)&&s<a[t].filterLevel&&delete r[t];e===O.PROJECTS&&3===s&&delete r.sort},P.showFilterContainer=function(e){"cards"===I(e).attr("viewType")?(e=I(e).attr("cardId"),y.gscardfilter.showFilterContainer(e)):y.showFilterContainer()},P.createFilterHolder=function(e){var s=P.currentFilterComponent,t=I("<div>",{id:"zgs20_gsfilterHolder",class:"zgs19_filterHolder"}),a=s.getFilters(),r=a.getService(),o=a.getQuery(),i=a.getDescription();t.append(P.getFilterUIComponent(P.createFiltersContainer(r,o,i))),s.getMode()&&(r=(a=s.getActions()).getReset(),o=a.getApply(),i=a.getCancel(),s=I("<div>",{class:"zgs19_gsfilterFooter"}),r&&(r=a.getResetAction().getTitle(),t.append(I("<div>",{id:"zgs20_filterNewResetTitle",class:"zgs19_resetFilterTitle zgs19_gsHideEleme zgs19_gsLogoText",gs:"newfilterActions",actionType:"reset"}).text(r))),o&&(o=a.getApplyAction().getTitle(),s.append(I("<button>",{id:"zgs20_gsnewFilterSaveBtn",class:"zgs19_filterBtn zgs19_applyButton zgs19_gsOverflow  zgs19_gsContentBox zgs19_gsCurPointer zgs19_gsfr",gs:"newfilterActions",actionType:"apply"}).append(I("<span>",{class:"zgs19_gsBtnText",gs:"newfilterActions",actionType:"apply",gstitle:o}).text(o)))),i&&(a=a.getCancelAction().getTitle(),s.append(I("<button>",{id:"zgs20_gsnewFilterCancelBtn",class:" zgs19_filterBtn zgs19_cancelButton zgs19_gsOverflow zgs19_gsContentBox zgs19_gsCurPointer zgs19_gsfr",gs:"newfilterActions",actionType:"cancel"}).append(I("<span>",{class:"zgs19_gsBtnText",gs:"newfilterActions",actionType:"cancel",gstitle:a}).text(a)))),t.append(s)),e.append(t)},P.createFiltersContainer=function(e,s,t){var a=I("<div>",{id:"zgs20_newFiltersPage",class:"zgs19_newFiltersPage zgs19_gsfl"});return s&&a.append(I("<div>",{class:"zgs19_gsSearchQryTextHolder"}).append(I("<div>",{class:"zgs19_gsFilterLabel"}).text(y.getI18NMsg("gs.cards.search_query"))).append(I("<div>",{contenteditable:"true",id:"zgs20_gsQryBox",class:"zgs19_gsTxtBox",placeholder:y.I18N.getValue("gs.cards.enter_query")}))),e&&a.append(I("<div>",{class:"zgs19_gsServiceHolder zgs19_gsfl"}).append(I("<div>",{class:"zgs19_gsFilterLabel",gstitle:y.getI18NMsg("common.app")}).text(y.getI18NMsg("common.app")).append(I("<span>",{class:"zgs19_gsMandatory"}).text("*"))).append(I("<div>",{id:"zgs20_gsFilterElem_app",class:"zgs19_gsSSServiceIcon zgs19_gsFilterElementOuter",gs:"openAppsList",service:""}))),a.append(I("<div>",{id:"zgs20_gsnewFltrHdr",class:"zgs19_gsFltrHdr zgs19_gsfl"})),a.append(I("<div>",{id:"zgs20_gsAdvSearchHolder",class:"zgs19_gsAdvSearchHolder"})),t&&a.append(I("<div>",{class:"zgs19_gsDescriptionTextHolder"}).append(I("<div>",{class:"zgs19_gsFilterLabel"}).text(y.getI18NMsg("common.description"))).append(I("<div>",{id:"zgs20_gsDescriptionField",class:"zgs19_gsDescriptionField zgs19_gsfl"}).append(I("<textarea>",{id:"zgs20_gsDescriptionTxt",class:"zgs19_gsDescriptionTxt",placeholder:y.I18N.getValue("gs.save.card_description")})))),a},P.getFilterUIComponent=function(e){return I("<div>",{id:"zgs20_gsfilterBodyHldr",class:"zgs19_filterBodyHldr",tabindex:"0"}).append(I("<div>",{id:"zgs20_gsFilterPopup",class:"zgs19_gsFilterPopup zgs19_gsDisplayNone"})).append(e)},P.clearAllFilterElements=function(){I("#zgs20_gsnewFltrHdr").empty()},P.clearAllChildElements=function(e){I("#zgs20_filterLevel_"+(e+1)).empty()},P.renderFilters=function(){P.disabledApplyButton(),P.clearAllFilterElements();var e=P.currentFilterObj.service;P.currentFilterComponent.getFilters().getService()&&y.updateServiceElem(e),P.renderFiltersPage(e,0),y.hasFilterChanged=!1,y.checkAdvanceSearchEnabledOrNot()},P.renderFiltersPage=function(e,s){var t,a=y.getFilterObj(e),r=y.getServiceOrders(a),o=r.length;P.setChildRenderingNeed(!0);for(var i=P.getMaxFlevelForService(a),n=0;n<o;n++){var l,g=r[n];a.hasOwnProperty(g)&&((l=a[g].filterLevel)<=s||t<l||P.skipRenderingNeeded(a,e,g,l)||(P.renderEachFilter(l,g,i),t=P.getChildRenderingNeed()?void 0:l))}},P.skipRenderingNeeded=function(s,e,t,a){switch(t){case"accounts":var r=y.getWidgetServiceList(e);if(I.isEmptyObject(r))return P.getFilterLevelElement(a),P.setValueInFilterObj(t,P.getDefValueForServiceType(e,t)),P.enableApplyButton(),!0;break;case"sort":return!0;case p.Common.modules:if(e===O.CONNECT)if((i=P.getValueFromFilterObj("accounts"))&&!s[t].data[i[0]])return!0;break;case p.LEARN.spaces:case p.LEARN.manuals:if(e===O.LEARN){var o=p.LEARN.filterby;if(i=P.getValueFromFilterObj(o),parIdVal=i[0],t===y.GSClientConstants.LEARN.spaces&&t===y.GSClientConstants.LEARN.spaces&&"0"!==s[o].data[parIdVal]&&("allmanuals"==parIdVal||"mymanuals"==parIdVal||"sharedmanuals"==parIdVal))return!0;if(t===y.GSClientConstants.LEARN.manuals){r=y.GSClientConstants.LEARN.spaces;let e=P.getValueFromFilterObj(r);if(e=e?e[0]:"",t===y.GSClientConstants.LEARN.manuals&&"0"!==s[o].data[parIdVal]&&s[r].hasOwnProperty("data")&&"0"===e)return!0}}break;case"projects":case"workspaces":if(e===O.PROJECTS||"workspaces"===t)if(!(i=P.getValueFromFilterObj("accounts"))||!s[t].data[i[0]])return!0;break;case"folders":if(e===O.WORKDRIVE){var i="ENTERPRISE"===y.editionTypeForWD?"teams":"accounts";if(!y.includes(P.getValueFromFilterObj(i)[0]||"",Object.keys(s[t].data)))return!0}}if(e===O.MAILS&&3===a){if(!(n=P.getValueFromFilterObj(p.Common.modules)))return!0;if(1<n.length)return!0;if(s[t].hasOwnProperty("parKey"))if(!y.includes(n[0],s[t].parId))return!0}if(e===O.ZENDESK&&3===a){if(!(n=P.getValueFromFilterObj("modules")))return!0;if(s[t].hasOwnProperty("parKey"))if(!y.includes(n[0],s[t].parId))return!0}if(y.isAdvanceSearchEnabledForService(e)&&4===a){var n;if(1<(n=P.getValueFromFilterObj(p.Common.modules)).length)return!0;if(!y.includes(n[0],s[t].parId))return!0}return P.isSkipNeededForAdvanceSearch(e,t)},P.isSkipNeededForAdvanceSearch=function(e,s){if(y.isAdvanceSearchEnabledForService(e))switch(e){case O.CLIQ:case O.NOTEBOOK:case O.CONNECT:case O.WORKDRIVE:if("notecardtype"===s||"date"===s||"filetype"===s)return!0}return!1},P.renderEachFilter=function(e,s,t){var a=P.getCurrentService();if((3===e||2===e&&a===O.O365MAIL||a===O.GMAIL)&&"6"===y.getFilterInfo(P.getCurrentService(),s,"type"))return void P.renderTypeSixFilters(e,s);var r=P.getIsSettingsHonored(),o=P.getFilterLevelElement(e),i=P.getTitleForFilter(a,s),n=P.getValueFromFilterObj(s),l=P.getDefValueForServiceType(a,s,r),g=n&&n[0]?n[0]:l;y.includes(s,P.dateKeys)&&(g=g.type||g);var c=y.getWidgetServiceList(a),d=!I.isEmptyObject(c)&&(s===c.key||s===c.childkey),p=P.handleDisplayNameForFilter(a,g,d,s,r),c=P.getDataLengthForServiceType(a,s);p||(c||(p=y.getI18NMsg("gs.cards.select")),P.setChildRenderingNeed(!1)),o.append(P.renderEachFilterElement(a,s,"newfilterActions",g,l,i,p,d,c)),P.isMultiSelectEnabledFilter(a,s)&&(c=n?n.length:0,P.showingFilterCount(s,c)),n||P.setValueInFilterObj(s,g),e<t?P.isChildRenderingNeeded(a,s,g,l,e,d,r):1===e&&I("#zgs20_gsFilterElem_"+s).prev().find(".zgs19_gsMandatory").remove()},P.getDefValueForServiceType=function(e,s,t,a){t=void 0===t?P.getIsSettingsHonored():t;var r=P.getTypeForFilter(e,s),a=P.getDataForFilter(e,s,t,a);if("accounts"===s)return a?1<Object.keys(a).length?"0":Object.keys(a)[0]:"";if(e===O.MAILS){if(s===p.Common.modules&&a&&1<Object.keys(a).length)return y.getFilterInfo(e,s,"default");if("entity_type"===s)return"-1"}else if(e===O.LEARN){if(s===y.GSClientConstants.LEARN.filterby)return y.getFilterInfo(e,s,"default")}else{if("4"==r)return a&&a[0].hasOwnProperty("key")?a[0].key:"";if(e===O.SALESFORCE)return y.getFilterInfo(e,s,"default")}return a?Object.keys(a)[0]:""},P.getDataLengthForServiceType=function(e,s,t){t=P.getDataForFilter(e,s,t);return 1===Object.keys(t).length},P.handleDisplayNameForFilter=function(e,s,t,a,r){return("0"!==s||!t||P.getIsAllLabelNeeded())&&P.getDispName(e,a,s,r)||""},P.getTypeForFilter=function(e,s){e=y.getFilterObj(e);return I.isEmptyObject(e)?"":e[s].type},P.getDispName=function(e,s,t,a){var r=P.getDataForFilter(e,s,a);if("4"==P.getTypeForFilter(e,s))for(var o in r)if(r[o].key===t)return r[o].name;if(e!==O.LEARN||s!==y.GSClientConstants.LEARN.manuals&&s!==y.GSClientConstants.LEARN.spaces)return e===O.MAILS&&s===p.Common.modules&&"0"===t?y.getFilterInfo(e,s,"dispname"):r&&r.hasOwnProperty(t)?r[t]:null;s=y.getFilterInfo(e,s,"dispname");return r&&r.hasOwnProperty(t)?r[t]:s},P.isMultiSelectEnabledFilter=function(e,s){e=y.getFilterObj(e);return!!(0<Object.keys(e).length&&e[s].hasOwnProperty("mulSelectKey"))},P.getDataForFilter=function(e,t,s,a){var r=y.getFilterObj(e);if(I.isEmptyObject(r))return"";var o=r[t].filterLevel,i=s?r[t].hasOwnProperty("data")?r[t].data:"":r[t].alldata||r[t].data;switch(o){case 1:return i;case 2:if("date"===t)return i;switch(e){case O.CLIQ:case O.NOTEBOOK:case O.REPORTS:case O.CAMPAIGNS:case O.GOOGLEDRIVE:return i;default:return(n=P.getValueFromFilterObj("accounts",a))&&i[n[0]]?i[n[0]]:i}case 3:var n,l=P.getParentId(r,o);if(e===O.LEARN){var g=P.getValueFromFilterObj("accounts",a)[0]+"_"+P.getValueFromFilterObj(y.GSClientConstants.LEARN.filterby,a)[0];return i&&i.hasOwnProperty(g)?i[g]:""}if(e===O.CONNECT){var c=P.getValueFromFilterObj(p.Common.modules,a)[0];return i[d=P.getValueFromFilterObj("accounts",a)[0]+"_"+c]}if(e===O.ZENDESK)return"date"===t?i:i[n=P.getValueFromFilterObj("accounts",a)];"folders"===t&&(e===O.MAILS?l="accounts":e===O.WORKDRIVE&&(l="ENTERPRISE"===y.editionTypeForWD?"teams":"accounts"));var d=P.getValueFromFilterObj(l,a);return i?d&&0!=d[0]?"object"==typeof i[d[0]]?i[d[0]]:i:"":"";case 4:if(e===O.PROJECTS){c=P.getValueFromFilterObj(p.Common.modules,a)[0];return"modifiedTime"===t||"dueDate"===t?i:i[d=P.getValueFromFilterObj(e,a)[0]+"_"+c]}if(e!==O.LEARN)return i;{d=P.getValueFromFilterObj("accounts",a)[0];let e=P.getValueFromFilterObj(y.GSClientConstants.LEARN.filterby,a)[0];e="myspaces"!==e&&"allspaces"!=e||t!==y.GSClientConstants.LEARN.manuals?e:"allmanuals";let s=d+"_"+e;return t===y.GSClientConstants.LEARN.manuals&&(d=(d=P.getValueFromFilterObj(y.GSClientConstants.LEARN.spaces,a))&&"0"!==d[0]?"_"+d[0]:"",s+=d),i&&i.hasOwnProperty(s)?i[s]:""}default:return""}},P.getParentId=function(e,s){var t,a="";for(t in e)if(e[t].filterLevel===s-1){a=t;break}return a},P.renderTypeSixFilters=function(e,s){var t=P.getFilterLevelElement(e),a=P.getCurrentService(),r=P.getTitleForFilter(a,s),e=P.getValueFromFilterObj(s),a=y.getFilterInfo(a,s,"default"),e=e&&e[0]?e[0]:a;P.renderMoreFilterTitleWithCheckBox(t,"newfilterActions",s,e,r)},P.isChildRenderingNeeded=function(e,s,t,a,r,o,i){i=P.checkValueAndDisableApplybutton(o,e,s,t,a,i);P.setChildRenderingNeed(i),P.getOnDemandFilters(e,s,r,i)},P.checkValueAndDisableApplybutton=function(e,s,t,a,r,o){o=P.getDataForFilter(s,t,o),o=Object.keys(o).length,o=a!==r||1===o;return(o=s===O.NOTEBOOK&&"notes"===a||s===O.LEARN&&(""===a||""===r)?!0:o)||P.getIsAllLabelNeeded()?P.enableApplyButton():e&&P.disabledApplyButton(),o},P.getOnDemandFilters=function(e,s,t,a){var r,o,i,n={isCallbackNeeded:!0,callback:function(){P.renderFiltersPage(e,t)}},l=a;e!==O.LEARN||s!==p.LEARN.filterby&&s!==p.LEARN.spaces||!a?s===p.Common.modules&&e===O.PROJECTS&&a&&(i=P.getValueFromFilterObj(p.Common.modules))&&(l=y.loadProjectsModChildFilter(e,i[0],P.getValueFromFilterObj("projects")[0],P.getValueFromFilterObj("accounts")[0],n),P.setChildRenderingNeed(l),P.getFilterLevelElement(t+1)):(i=P.getValueFromFilterObj(p.LEARN.filterby))&&(r=s===p.LEARN.spaces?P.getValueFromFilterObj(p.LEARN.spaces):"",o=s===p.LEARN.spaces&&r&&"0"!==r?"allmanuals":i[0],l=y.loadLearnModChildFilter(o,r,P.getValueFromFilterObj("accounts")[0],n),P.setChildRenderingNeed(l)),"modules"===s&&e===O.ZENDESK&&a?(i=P.getValueFromFilterObj("modules"))&&0!=i.length&&(l=y.loadZendeskModChildFilter(i[0],P.getValueFromFilterObj("accounts")[0],n),P.setChildRenderingNeed(l),P.getFilterLevelElement(t+1)):e===O.ASANA&&s===y.WS&&a&&(i=P.getValueFromFilterObj(y.WS),s=y.getFilterObj(e),a=P.getvalidFilterList(s.order,s),""!==y.getFilterInfo("asana","projects","data")&&y.getFilterInfo("asana","projects","data").hasOwnProperty(i)||(P.setAsanaProjectsFilter(i,n),s=a.indexOf("completed"),a.splice(s,0,"projects"),l=!1),""!==y.getFilterInfo("asana","tags","data")&&y.getFilterInfo("asana","tags","data").hasOwnProperty(i)||(l?P.setAsanaTagsFilter(i,n):P.setAsanaTagsFilter(i),l=!1,i=a.indexOf("date"),a.splice(i,0,"tags")),P.setChildRenderingNeed(l),P.getFilterLevelElement(t+1)),e!==O.ZENDESK&&P.getFilterLevelElement(t+1)},P.getvalidFilterList=function(e,s,t){var a=[],r=e.length;if(r)for(var o=0;o<r;o++){var i,n=e[o];s.hasOwnProperty(n)&&((1<((i=s[n]||{}).length||0)||"6"==i.type&&t!==O.MAILS||"1"==i.subtype)&&a.push(n))}return a},P.checkQueryExists=function(){return y.isQueryValid(y.getQueryText())||y.isQueryHasUserCriteria()},P.renderEachFilterElement=function(e,s,t,a,r,o,i,n,l){var g="date"===s||"dueDate"===s||"modifiedTime"===s?"FilterDate":"",c="";if(!(a&&r&&i))return"";c=I("<div>",{class:"zgs19_gsEachFilterHolder",id:g?"zgs20_Date_"+e:""}).append(I("<div>",{class:"zgs19_gsFilterLabel zgs19_gsOverflow",gstitle:o}).text(o)).append(I("<div>",{id:"zgs20_gsFilterElem_"+s,class:"zgs19_gsFilterElementOuter",gs:t,actionType:"openFilterList",service:e,fkey:s,value:a,gsa:g}).append(I("<div>",{class:"zgs19_gsnewFilterTxt zgs19_gsOverflow zgs19_gsfl ",gs:t,gstitle:i}).text(i)).append(I("<span>",{class:"zgs19_gsEachFilterCount zgs19_gsfl zgs19_gsDisplayNone",gs:t})));a!==r&&I(c).find(".zgs19_gsnewFilterTxt").addClass("zgs19_tc2fa6ea"),n&&!l&&I(c).find(".zgs19_gsFilterLabel").append(I("<span>",{class:"zgs19_gsMandatory"}).text("*"));n=P.getIsReadMode();return l||n?I(c).find(".zgs19_gsFilterElementOuter").css("pointer-events","none"):I(c).find(".zgs19_gsFilterElementOuter").append(I("<div>",{class:"zgs18_gsFilterDropDownIcon zgs19_gsfr zgs19_gsMgRt3Px",gs:t})),c},P.showingFilterCount=function(e,s){e=I("#zgs20_gsFilterElem_"+e).find(".zgs19_gsEachFilterCount");1<s?(e.text("+"+(s-1)),e.css("display","block")):e.css("display","none")},P.openEachFilterPopUp=function(e){var s=I(e).closest(".zgs19_gsFilterElementOuter");P.highlightFilterHolder(s);var t,a=I(s).attr("service"),r=I(s).attr("fkey"),o="zgs20_gsFilterPopup",i=I("#"+o);i.is(":visible")?P.hideEachFilterPopUp(o):(t=P.getValueFromFilterObj(r),e=P.getDefValueForServiceType(a,r),t=t||[e],i.hasClass("zgs19_gsFilterPopup")||(P.removeAllAttributes(o),i.empty().addClass("zgs19_gsFilterPopup zgs19_gsDisplayNone")),P.renderFilterListPopUp(s,o,a,r,t,e),P.addEventsForFiltersPage(),y.isFilterListDisplay=!0)},P.highlightFilterHolder=function(e){I(".zgs19_curSelectedFilter").removeClass("zgs19_gsBorderThemeCol").removeClass("zgs19_curSelectedFilter"),e.addClass("zgs19_gsBorderThemeCol").addClass("zgs19_curSelectedFilter"),I(".zgs18_gsFilterDropDownIcon").removeClass("zgs18_gsOpenFilterDropDownIcon"),e.find(".zgs18_gsFilterDropDownIcon").addClass("zgs18_gsOpenFilterDropDownIcon")},P.hideEachFilterPopUp=function(e){I("#"+e).css("display","none"),y.isCurrFilterClickelem=!1,y.isFilterListDisplay=!1,I(".zgs18_gsFilterDropDownIcon").removeClass("zgs18_gsOpenFilterDropDownIcon"),I(".zgs19_curSelectedFilter").removeClass("zgs19_gsBorderThemeCol"),y.isFilterPageOpened&&I(".zgs19_applyButton").focus()},P.openAppsList=function(e){var s,t,a=I("#zgs20_gsFilterPopup");y.isAppListOpened?P.hideAppsList():(a.hasClass("zgs19_gsFilterPopup")||(P.removeAllAttributes("zgs20_gsFilterPopup"),a.empty().addClass("zgs19_gsFilterPopup zgs19_gsDisplayNone")),s=I("#zgs20_gsFilterElem_app").attr("service"),t=P.getIsSettingsHonored()?y.getEnabledServiceList():y.getConstAllServList(),P.renderAppsMenu(s,a,t,P.getIsAllLabelNeeded()),P.highlightFilterHolder(I(e).closest(".zgs19_gsFilterElementOuter")),y.focusForWeb("zgs20_gsSerListQrybox"),a.hide(),P.setFilterListPosition(I(e).closest(".zgs19_gsFilterElementOuter"),"zgs20_gsFilterPopup","zgs19_filterBodyHldr"),P.addEventsForFiltersPage(),y.isAppListOpened=!0)},P.renderAppsMenu=function(e,s,t,a){s.empty();var r=I("<div>",{class:"zgs19_gsAppsMenu zgs19_gsSSServiceIcon"}),o=t.length;6<o&&P.addSearchQueryBox(s,"zgs20_gsSerListQrybox"),a&&r.append(I("<div>",{class:"zgs19_gsnewServiceInfoHolder zgs19_gsServiceInfoHolder",service:"all"}).append(P.renderEachAppMenu("all",[e])));for(var i=0;i<o;i++){var n=t[i];(O.ASANA!==n&&O.widgetObject.hasOwnProperty("servicesinfo")&&O.widgetObject.servicesinfo.hasOwnProperty(n)||y.isFilterPageOpened)&&(n=I("<div>",{class:"zgs19_gsnewServiceInfoHolder zgs19_gsServiceInfoHolder",service:n}).append(P.renderEachAppMenu(n,[e])),r.append(n))}s.append(r),s.css("display","block")},P.addSearchQueryBox=function(e,s){e.append(I("<div>",{id:"zgs20_gsSearchQryHeader",class:"zgs19_gsModuleFilterWidgetHeader"}).append(I("<div>",{id:"zgs20_gsSearchQryHolder",class:"zgs19_gsFilterQueryHolder zgs19_gsModuleFilterWidgetFocus"}).append(I("<span>",{class:"zgs18_gsLensIconTab zgs19_gsfl"})).append(I("<input>",{id:s,class:"zgs19_gsFilterQueryBox zgs19_gsBorderBox",type:"text",placeholder:y.getI18NMsg("common.search")})))),I("#"+s).attr("autocomplete","off")},P.renderEachAppMenu=function(e,s,t){var a,r="",o="",i="",n="",l="",g=I("<div>",{class:"zgs19_gsEachServiceRow"});return""===e?o=y.getI18NMsg("gs.cards.select"):(a=y.mappedServiceList[e].serviceicon,o=y.mappedServiceList[e].displayName,r=I("<span>",{class:"zgs19_gsSSSerIcon zgs19_gsfl zgs19_gsMgTop10Px "+a}),y.LINE_ICON_MAP.hasOwnProperty(a)&&y.obtainLineIconPaths(a,I(r)[0]),(a=s&&-1<s.indexOf(e))&&(t||(i="zgs19_tc2fa6ea",n=I("<span>",{class:"zgs18_TickIcon zgs19_gsCardTypeSelected zgs19_gsfr"}))),l=t?(a=a||s[0]===O.ALL,g.append(y.renderCheckBox("edit",a,"service",e))," zgs19_gsWid70Per"):" zgs19_gsWid80Per"),g.append(r).append(I("<span>",{class:"zgs19_gsNewSerivceTxt zgs19_gsOverflow zgs19_gsfl "+i+l,gstitle:o}).text(o).append(n)),g},P.hideAppsList=function(){I("#zgs20_gsFilterPopup").css("display","none"),y.isAppListOpened=!1,I(".zgs19_curSelectedFilter").focus(),I(".zgs18_gsFilterDropDownIcon").removeClass("zgs18_gsOpenFilterDropDownIcon"),I(".zgs19_curSelectedFilter").removeClass("zgs19_gsBorderThemeCol zgs19_curSelectedFilter"),P.currselecElem="",y.isFilterPageOpened&&I(".zgs19_applyButton").focus()},P.checkAndEnableApplyButtonForFilters=function(e){var s,t,a,r,o;e&&(s=y.getWidgetServiceList(e),!P.getIsAllLabelNeeded()&&!I.isEmptyObject(s)&&(s.hasOwnProperty("key")||s.hasOwnProperty("childkey"))?(t=P.getIsSettingsHonored(),r=a=o="",(o=s.hasOwnProperty("childkey")?(a=s.childkey,P.getValueFromFilterObj(s.childkey)||""):(a=s.key,P.getValueFromFilterObj(s.key)||""))&&(r=P.getDefValueForServiceType(e,a,t),P.checkValueAndDisableApplybutton(!0,e,a,o[0],r,t))):P.enableApplyButton())},P.removeAllAttributes=function(e){for(var s=I("#"+e)[0],t=s.attributes.length,a=0;a<t;a++)s.removeAttributeNode(s.attributes[0]);I(s).attr("id",e)},P.renderFilterListPopUp=function(e,s,t,a,r,o){var i=I("#"+s);i.empty().hide(),i.append(I("<div>",{id:"zgs20_gsModuleFilterWidgetHeader",class:"zgs19_gsEachFilterWidgetHeader zgs19_gsDisplayNone",gs:"newfilterActions",actionType:"gsFilterWidgetHeader"})).append(I("<div>",{id:"zgs20_gsModuleFilterWidgetFooter",class:"zgs19_gsEachFilterHdr",service:t,fkey:a})),y.includes(a,P.dateKeys)&&(r=r[0].hasOwnProperty("type")?[r[0].type]:r),P.renderallFilterList(t,a,"zgs20_gsModuleFilterWidgetFooter",s,r,o),t!==O.WORKDRIVE&&t!==O.LEARN||""!==(n=y.getFilterInfo(t,a,"header"))&&n[0].isrequired&&P.addSegregationInFilters(a,n);var o=I("#zgs20_gsModuleFilterWidgetFooter"),n=1===y.gscomponent.UIType?"zgs19_gsMxHt245Px":"zgs19_gsMxHt190Px";0<i.find("#zgs20_gsEditFieldsBottom").length?o.removeClass("zgs19_gsMxHt310Px").addClass(n):o.removeClass(n).addClass("zgs19_gsMxHt310Px"),i.attr("service",t),i.css("display","block"),250<=o[0].scrollHeight?(y.renderSearchQueryHoldersInFilters("zgs20_gsModuleFilterWidgetHeader","gsFilterQueryBox","zgs20_gsFilterQueryBox"),o.removeClass("zgs19_gsMxHt190Px zgs19_gsMxHt245Px zgs19_gsMxHt310Px"),0<i.find("#zgs20_gsEditFieldsBottom").length?1===y.gscomponent.UIType?o.addClass("zgs19_gsMxHt190Px"):o.addClass("zgs19_mgMxHt150Px"):o.addClass(n)):o.addClass("zgs19_gsPdngTp10Px"),y.includes(a,P.dateKeys)&&y.loadDatePicker(),i.hide(),P.setFilterListPosition(e,s,"zgs19_filterBodyHldr"),P.addEventForFilterQueryBox("zgs20_gsModuleFilterWidgetFooter",t)},P.addSegregationInFilters=function(e,s){if("teams"===e||"folders"===e||e===p.LEARN.filterby){for(var t in s[1]){var a="#zgs20_gsFilterQuerySelection"+t,r="#zgs20_gsFilterQuerySelection"+(parseInt(t)+1);0<I(r).length&&(I(a).next().hasClass("zgs18_gsModuleSeleFilterTick")&&(a=".zgs18_gsModuleSeleFilterTick"),I(a).after(I("<div>",{class:"zgs19_gsModuleFilterServiceHeader zgs19_gsOverflow",gs:"mFilterWidgetHeader"}).text(s[1][t])))}I(".zgs19_gsFilterQuerySelection").css("padding-left","15px")}},P.renderallFilterList=function(e,s,t,a,r,o){var i,n=P.getIsSettingsHonored(),l=P.getDataForFilter(e,s,n),g=0;if(i=(i=P.isMultiSelectEnabledFilter(e,s))&&1<Object.keys(l).length){var c=r[0]===o,d=!1;for(u in l){var d=!1,p="";"object"!=typeof l[u]&&"folders"!==s||e===O.O365MAIL?p=l[u]:(p=l[u].name,u=l[u].key),y.includes(u,r)&&(d=!0),P.renderEachFilterList(t,"newfilterActions","filterCheckBoxChild",g++,s,u,r,p,i,c,d)}P.renderMultiSelectActions(a)}else for(var u in l){p="";"folders"===s&&e!==O.O365MAIL?(p=l[u].name,u=l[u].key):p=l[u],P.renderEachFilterList(t,"newfilterActions","moduleFilterChild",g++,s,u,r[0],p)}y.includes(s,P.dateKeys)&&I("#zgs20_gsFilterQuerySelection4").after(I("<hr>",{class:"zgs19_gsMoreFilterHRTag",style:"width:90%;margin:0 auto;"}))},P.getoffset=function(e){var s=e[0].getBoundingClientRect(),t=P.getIsRTLEnabled(),e=t?"right":"left",e=t?s[e]-s.width:s[e];return{top:s.top,left:e}},P.setFilterListPosition=function(e,s,t){if(e){var a=I(e).closest("."+t),r="relative"===a.css("position"),o=I("#"+s),i=parseFloat(I(e).outerHeight()),n=y.gsfilters.getoffset(I(e));P.closestHolderElem=I(e);var l=y.gsfilters.getoffset(a),g=P.parentElem,c=n.top+i-l.top,d=I("#"+s).outerHeight()+5,t=l.top-g.offset().top,s="top";a[0].scrollHeight>a.height()?r||0===a.scrollTop()||(a.css("position","relative"),r=!0):(a.css("position","static"),r=!1);(r?c+t>g.height()/2&&c+d>a.height():c+t>g.height()/2&&c+t+d>g.height())&&(s="bottom",(c=(g=c)-i-d)<0&&(c=g,s="top",r||(a.css("position","relative"),r=!0)));l=n.left-l.left;if(r?(c+=a.scrollTop(),l+=a.scrollLeft()):c+=5,o.hasClass("zgs19_gsFieldsPopup"))switch(o.attr("lType")){case"1":o.removeClass("zgs19_gsMinWid180px zgs19_gsWid300px"),o.addClass("zgs19_gsMinWid180px");break;case"2":o.removeClass("zgs19_gsMinWid180px zgs19_gsWid300px"),o.addClass("zgs19_gsWid300px");break;default:o.removeClass("zgs19_gsMinWid180px zgs19_gsWid300px")}a=I(e).outerWidth();P.getIsRTLEnabled()&&(l-=((e=parseInt(I(o).css("min-width").replace("px","")))<a?a:e)-a),o.css({"inset-block-start":Math.floor(c),left:Math.floor(l),width:a}),"top"===s?o.css({"margin-block-start":"5px","margin-block-end":"0px"}):o.css({"margin-block-start":"0px","margin-block-end":"5px"}),o.show(),!y.gskeyboard.isCurElementInViewPort(o[0])&&r&&o[0].scrollIntoView(!1)}},P.isElementInViewPort=function(e,s){s=(e=0<e.length?e[0]:e).closest("."+s).getBoundingClientRect(),e=e.getBoundingClientRect();return e.top>=s.top&&e.bottom<=s.bottom},P.updateFilterListPosition=function(){var e=I("#zgs20_gsFilterPopup"),s=e.offset().top,t=P.closestHolderElem,a=t?t.offset().top:s;s<a&&(t=I(".zgs19_filterBodyHldr"),s=a-e.outerHeight()-t.offset().top+t.scrollTop(),e.css({"inset-block-start":Math.floor(s),"margin-block-start":"0px","margin-block-end":"5px"}))},P.renderEachFilterList=function(e,s,t,a,r,o,i,n,l,g,c,d){n=y.replaceHTMLEntity(n);var p=o==i?"zgs19_gsModuleSeleFilterElem":"zgs19_gsModuleUnSeleFilterElem",u="";l?c&&(p="zgs19_gsModuleSeleFilterElem "):o==i&&(i=y.isExtension?"zgs19_gsModuleSeleFilterTickMargin":"zgs18_gsModuleSeleFilterTickMargin",u=I("<div>",{class:"zgs18_gsModuleSeleFilterTick "+i}));r=I("<div>",{id:"zgs20_gsFilterQuerySelection"+a,class:(d=d||"")+" zgs19_gsFilterQuerySelection zgs19_gsModuleFilterServiceChild zgs19_gsCurPointer zgs19_gsOverflow "+p,gs:s,actionType:t,fkey:r,key:o,value:n});l?(r.append(P.renderCheckBox(c=g?!0:c,o,n)),r.append(I("<span>",{class:"zgs19_gsFlterTxt zgs19_gsWid80Per zgs19_gsOverflow zgs19_gsfl "+p,gstitle:n}).text(n)),I(r).addClass("zgs19_gsNewMultiFilterSelection")):(r.text(n),I(r).attr("gstitle",n)),I(r).attr("index",a),I("#"+e).append(r).append(u)},P.renderCheckBox=function(e,s,t){return I("<div>",{class:"zgs19_gsCurPointer zgs19_checkbox"}).append(I("<input>",{class:"zgs19_gsfl",type:"checkbox",checked:e,key:s,value:t,gs:"newfilterActions",actionType:"moreFiltercheckbox"})).append(I("<label>"))},P.renderMultiSelectActions=function(e){I("#"+e).append(I("<div>",{id:"zgs20_gsEditFieldsBottom",class:"zgs19_gsEditFieldsBottom"}).append(I("<input>",{class:"zgs19_gsEditFieldsBottom1 zgs19_gsOverflow zgs19_gsHideEleme zgs19_gsContentBox zgs19_gsCurPointer zgs19_gsfr",type:"button",value:y.getI18NMsg("common.done"),gs:"newfilterActions",actionType:"moduleFilterEditFields",datatype:"applyFilterFields"})).append(I("<input>",{class:"zgs19_gsEditFieldsBottom2 zgs19_gsOverflow zgs19_gsContentBox zgs19_gsCurPointer zgs19_gsfr",type:"button",gstitle:y.getI18NMsg("common.cancel"),value:y.getI18NMsg("common.cancel"),gs:"newfilterActions",actionType:"moduleFilterEditFields",datatype:"closeFilterFields"})))},P.renderMoreFilterTitleWithCheckBox=function(e,s,t,a,r){a=""+a=="true",I(e).append(I("<div>",{class:"zgs19_gsNewMoreFilterTitle zgs19_gsOverflow"}).append(I("<div>",{class:"zgs19_gsCurPointer zgs19_checkbox",gs:s,fkey:t,soid:a}).append(I("<span>",{class:"zgs19_gsFilterLabel zgs19_gsOverflow zgs19_gsfl",gs:s,actionType:"moreFiltercheckbox"}).text(r)).append(I("<input>",{class:"zgs19_gsfl",type:"checkbox",value:r,checked:a,gs:s,actionType:"moreFiltercheckbox"})).append(I("<label>",{gs:s,actionType:"moreFiltercheckbox"}))))},P.serviceClickActions=function(e){P.hideAppsList(),P.currentFilterObj={},P.currentFilterObj.service=e,y.hasServiceChanged=!0,P.renderFilters(P.currentFilterComponent),P.checkAndApplyResetEnabledOrNot(),P.getIsAllLabelNeeded()&&P.enableApplyButton(),y.hasServiceChanged=!1},P.checkAndApplyResetEnabledOrNot=function(){P.getCurrentService()!==O.ALL?P.enableResetButton():P.disableResetButton()},P.moreFilterCheckBoxActionControl=function(e,s){var t=I(s).attr("fkey"),s=""+y.moreFilterCheckBoxAction(e,s);P.setValueInFilterObj(t,s),y.hasFilterChanged=!0,P.enableResetButton(),P.enableApplyButton()},P.filterEditFieldsActionControl=function(e){switch(I(e).attr("datatype")){case"closeFilterFields":P.hideEachFilterPopUp("zgs20_gsFilterPopup");break;case"applyFilterFields":P.multiSelectFilterClickActions()}},P.multiSelectFilterClickActions=function(e){P.hideEachFilterPopUp("zgs20_gsFilterPopup");var s=I("#zgs20_gsModuleFilterWidgetFooter"),t=s.attr("fkey"),a=e||s.find("input:checked"),r=a.length;if(0<r){var o=I(s).find("#zgs20_gsFilterQuerySelection0").attr("key"),i=I(a[0]).attr("key"),e=I(a[0]).attr("value"),n=[i],l=[e];if(o!==i)for(var g=1;g<r;g++)n.push(I(a[g]).attr("key")),l.push(I(a[g]).attr("value"));P.currentFilterObj[t]=n;s=I("#zgs20_gsFilterElem_"+t),s=I(s).find(".zgs19_gsnewFilterTxt");i===o?I(s).removeClass("zgs19_tc2fa6ea"):I(s).addClass("zgs19_tc2fa6ea"),I(s).text(e).attr("gstitle",l.join(", ")),P.showingFilterCount(t,n.length),y.hasFilterChanged=!0,P.enableApplyButton(),P.enableResetButton();s=P.getCurrentService();t!==p.Common.modules||s!==O.PROJECTS&&s!==O.CONNECT||(e=P.getFilterLevel(s,t),P.removeChildFiltersValuesFromSearchObj(s,e),P.clearAllChildElements(e),P.setChildRenderingNeed(i!==o),P.getOnDemandFilters(s,t,e,i!==o),P.getChildRenderingNeed()&&P.renderFiltersPage(s,e)),t!==p.Common.modules&&"departments"!==t||((t=P.getCurrentFilterObj()).hasOwnProperty("advConfig")&&(delete t.advConfig,delete t.qryPattern),y.checkAdvanceSearchEnabledOrNot())}},P.singleSelectFilterClickActions=function(e){P.hideEachFilterPopUp("zgs20_gsFilterPopup");var s,t=I(e).closest(".zgs19_gsEachFilterHdr"),a=I(t).attr("service"),r=I(t).attr("fkey"),o=I(e).closest(".zgs19_gsFilterQuerySelection"),t=I(o).attr("key"),e=I(o).attr("value"),o=I("#zgs20_gsFilterElem_"+r);"customrange"===t||"customdate"===t?(s=I("#zgs20_gsFilterElem_"+r),P.selectedDateKey=r,"customrange"===t?y.loadCustomDatePickers("3","2","dd-MM-yyyy","zgs20_gsCustomCalendarHolder",s):y.loadCustomDatePickers("3","0","dd-MM-yyyy","zgs20_gsCustomCalendarHolder",s),P.handleDatepicker(r,s,t),I(o).removeClass("zgs19_gsboxholder")):(s=P.getValueFromFilterObj(r))&&s[0]===t||(P.setValueInFilterObj(r,t),s=P.getDefValueForServiceType(a,r),o=I(o).find(".zgs19_gsnewFilterTxt"),I(o).text(e).attr("gstitle",e),(t=t===s)?I(o).removeClass("zgs19_tc2fa6ea"):I(o).addClass("zgs19_tc2fa6ea"),o=y.getWidgetServiceList(a),o=!I.isEmptyObject(o)&&(r===o.key||r===o.childkey),!P.getIsAllLabelNeeded()&&o&&t?P.disabledApplyButton():P.enableApplyButton(),y.hasFilterChanged=!0,P.enableResetFilter(),o=P.getFilterLevel(a,r),y.includes(r,P.dateKeys)||(P.removeChildFiltersValuesFromSearchObj(a,o),P.clearAllChildElements(o),"modules"===r&&a===O.ZENDESK?(P.setChildRenderingNeed(r!==s),P.getOnDemandFilters(a,r,o,!t),P.getChildRenderingNeed()&&P.renderFiltersPage(a,o)):t||(a!==O.LEARN||r!==p.LEARN.filterby&&r!==p.LEARN.spaces?P.renderFiltersPage(a,o):(P.setChildRenderingNeed(!0),P.getOnDemandFilters(a,r,o,!0),P.getChildRenderingNeed()&&P.renderFiltersPage(a,o)))),"accounts"!==r&&r!==p.Common.modules&&"departments"!==r||((r=P.getCurrentFilterObj()).hasOwnProperty("advConfig")&&(delete r.advConfig,delete r.qryPattern),y.checkAdvanceSearchEnabledOrNot()))},P.filterActions=function(e,s){e=P.getActionObjectForActionType(e),e=e?e.getCallback():"";return e?e(s):""},P.getAdvanceFilterDetails=function(e){if(y.hasFilterChanged||y.hasServiceChanged)return{};var s=P.getCurrentFilterObj(),t=s.advConfig||[],s=s.qryPattern||"1";return y.getCriteriaListFromAdvConfig(e,t,s)},P.handleDatepicker=function(e,s,t){var a,r,o;y.isCustomDatePickerDisplay?y.hideNewCustomDatePicker():(a={},o=r="",(e=P.getValueFromFilterObj(e))&&e[0].hasOwnProperty("type")&&(r=e[0].fdate,o=e[0].tdate),"customrange"===t?(a.selectionType="separate",a.fromValue=r,a.toValue=o,t="customdaterange"):a.fromValue=r,a.callback=P.updateFieldDateobject,s=I(s).closest(".zgs19_gsFilterElementOuter"),y.handleNewCustomDatePicker(s,t,a))},P.updateFieldDateobject=function(e){var s,t="",a=P.selectedDateKey;e.hasOwnProperty("valueString")&&e.valueString?(s=""+e.valueString,P.currentFilterObj[a]=[{fdate:s,tdate:s,type:"customdate"}],t=y.getI18NMsg("gs.search.filter.customdate")):e.hasOwnProperty("toValueString")&&e.toValueString&&(s=""+e.fromValueString,r=""+e.toValueString,P.currentFilterObj[a]=[{fdate:s,tdate:r,type:"customrange"}],t=y.getI18NMsg("gs.search.filter.customrange"));var r=I("[gsa='FilterDate']").find(".zgs19_gsnewFilterTxt");I(r).text(t).addClass("zgs19_tc2fa6ea"),y.isCustomDatePickerDisplay=!1,y.hasFilterChanged=!0,P.enableApplyButton(),P.enableResetButton()},P.filterPopUpSearchQueryActions=function(e){I("#zgs20_gsFilterQueryBox").off().on({focus:function(){I("#zgs20_gsFilterQueryHolder").removeClass("zgs19_gsModuleFilterWidgetFocusOut").addClass("zgs19_gsModuleFilterWidgetFocus")},blur:function(){I("#zgs20_gsFilterQueryHolder").removeClass("zgs19_gsModuleFilterWidgetFocus").addClass("zgs19_gsModuleFilterWidgetFocusOut")},input:function(){P.filterPopUpInputFetch(e),P.setFilterListPosition(P.closestHolderElem,"zgs20_gsFilterPopup","zgs19_filterBodyHldr")}},!0)},P.filterPopUpInputFetch=function(e){y.currFilterSelectedElem="",I(".zgs19_gsFilterQuerySelection").removeClass("zgs19_gsAutoSuggChildIn");for(var s,t,a,r=(r=y.getValue("zgs20_gsFilterQueryBox")).trim(),o={},i=y.getTargetElem("zgs20_gsModuleFilterWidgetFooter"),n=i.childNodes||[],l=0,g=n.length,c=0;c<g;c++){var d,p,u,h,_,m,z,v=n[c],f=I(v).attr("gs");f&&("mFilterWidgetHeader"==f?o[s=c]=!1:(_=I(v).attr("fkey"),d=I(v).attr("value"),p=I(v).hasClass("zgs19_gsModuleSeleFilterElem"),u=P.isMultiSelectEnabledFilter(e,_),y.isQueryValid(r)?(h=d,e==O.MAILS&&"folders"==_&&(h=(h=h.replace(new RegExp("(^.../)"),"")).replace(new RegExp("(/$)"),"")),f=r.replace(y.gsautocomplete.regex_replacer,"\\$&"),_=new RegExp(f,"i"),-1<h.search(_)?(l+=1,y.isEditFieldsLoader=!1,o[s]=!0,f=d.search(_),h=d.substr(0,f),_=d.substr(f,r.length),f=d.substr(f+r.length,d.length),f=y.gssecurity.getHighlightTextNode(h,_,f,{class:"zgs19_gshighlight"}),u?((z=(m=I(v)).find(".zgs19_gsFlterTxt")).empty(),I(z).append(f),m.css("display","block")):(I(v).empty(),v.appendChild(f),I(v).css("display","block"))):((u?I(v).find(".zgs19_gsFlterTxt"):I(v)).text(d),I(v).css("display","none"))):(l+=1,o[s]=!0,u?((z=(m=I(v)).find(".zgs19_gsFlterTxt")).text(d),m.css("display","block")):(I(v).text(d).css("display","block"),p&&I(".zgs18_gsModuleSeleFilterTick").css("display","block")))))}for(t in o){var C=o[t],S=n[t];S&&(C=C?"block":"none",I(S).css("display",C))}if(l<P.clientSearchLimit)if(e===O.PEOPLE)P.ispeopleDeptCached(r)||(I("#zgs20_gsEditFieldsLoader").remove(),a=y.getFourDotLoader("zgs20_gsEditFieldsLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader10 zgs19_gsAutoSuggestLoader"),I("#zgs20_gsModuleFilterWidgetFooter").after(a),a={query:r,nodeLen:n.length},P.fetchPeopleDeptData(a));else if(e===O.WORKDRIVE){I("#zgs20_gsEditFieldsLoader").remove();let e=P.getWorkDriveTeamDetails();"3"!==e.teamId&&Object.keys(e.data).length>=O.wDFoldersSearchLimit&&(P.isWDFoldersCached(r.toUpperCase(),e.teamId)||(b=y.getFourDotLoader("zgs20_gsEditFieldsLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader10 zgs19_gsAutoSuggestLoader"),I("#zgs20_gsModuleFilterWidgetFooter").after(b),y.Utils.debounce(function(){P.fetchWDTeamFolders(r,e)},300,"wdFolderFetch")))}else if(e===O.LEARN){var b=y.gsfilters.currentFilterObj.filterby[0],i=I(i).attr("fkey");let s="myspaces"!==b&&"allspaces"!=b||"manuals"!==i?b:"allmanuals",t=y.gsfilters.currentFilterObj.hasOwnProperty("spaces")?y.gsfilters.currentFilterObj.spaces[0]:"";t="myspaces"!==s&&"allspaces"!==s?t:"",I("#zgs20_gsEditFieldsLoader").remove(),P.isLearnDataCached(r)||(b=y.getFourDotLoader("zgs20_gsEditFieldsLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader10 zgs19_gsAutoSuggestLoader"),I("#zgs20_gsModuleFilterWidgetFooter").after(b),y.Utils.debounce(function(){var e=y.gslearnutil.modChildFilters[s],e={args:{modifier:s,module:e.moduleId,filterBy:e.filterBy,spaceId:t,soid:y.gsfilters.currentFilterObj.accounts[0],query:r,nodeLen:n.length,count:y.gslearnutil.getServerCallCount()},isCallbackNeeded:!0,callback:P.renderLearnModuleData};y.gslearnutil.fetchModuleData(e)},300,"fetchLearnMod"))}},P.getWorkDriveTeamDetails=function(){let e={};var s,t=y.gsfilters.currentFilterObj.accounts[0];return"TEAM"===y.editionTypeForWD?(e.teamId=y.gFilterData[O.WORKDRIVE].accounts.other_info[t],e.data=y.gFilterData[O.WORKDRIVE].folders.data[t]):"ENTERPRISE"===y.editionTypeForWD&&(s=y.gsfilters.currentFilterObj.teams[0],e.teamId=s,e.data=y.gFilterData[O.WORKDRIVE].folders.data[s]),e.accountId=t,e},P.filterCheckBoxClickActions=function(e){var s=I(e).closest(".zgs19_gsFilterQuerySelection"),t=I(s).attr("fkey"),a=I(s).closest(".zgs19_gsEachFilterHdr").attr("service"),r=P.getDefValueForServiceType(a,t);P.filterCheckBoxActionsHandling(e,s,a,t,r,"zgs20_gsFilterPopup",!1)},P.filterCheckBoxActionsHandling=function(e,s,t,a,r,o,i){var n=I(s).attr("key"),l=I(s).find("input").prop("checked"),l=e&&"INPUT"==e.tagName?l:!l,g=I("#"+o).find("input[type=checkbox]"),c=g.length,d=!1,e=0;if(n===r)for(var d=l,p=0;p<c;p++)I(g[p]).prop("checked",l);else{e=I("#"+o).find("input:checked").length;l?((i||e<y.maxSelFiltersCount||e+2===c)&&I(s).find("input").prop("checked",l),e++):(I(s).find("input").prop("checked",l),e--),c-1===e&&(I(g[0]).prop("checked",l),d=l),!i&&e>y.maxSelFiltersCount&&(a="service"===a?"Service":y.getFilterInfo(t,a,"title"),y.showbannertip({ty:2,msg:y.getI18NMsg("gs.search.filter.selected")+" "+a+" "+y.getI18NMsg("gs.search.filter.not_exceed")+" "+y.maxSelFiltersCount}))}P.renderFilterCheckBoxUpdateChanges(g,d,r),d||0<e&&(--e<=y.maxSelFiltersCount||i)?P.enableApplyButtonForCheckboxActions(o):P.disableApplyButtonForCheckboxActions(o)},P.renderFilterCheckBoxUpdateChanges=function(e,s,t){for(var a=0;a<e.length;a++){var r=I(e[a]),o=r.prop("checked"),i=r.attr("key");(o=s&&i!==t?!1:o)?r.closest(".zgs19_gsFilterQuerySelection").find(".zgs19_gsFlterTxt").removeClass("zgs19_gsModuleUnSeleFilterElem zgs19_gsModuleSeleFilterElem").addClass("zgs19_gsModuleSeleFilterElem"):r.closest(".zgs19_gsFilterQuerySelection").find(".zgs19_gsFlterTxt").removeClass("zgs19_gsModuleUnSeleFilterElem zgs19_gsModuleSeleFilterElem").addClass("zgs19_gsModuleUnSeleFilterElem")}},P.enableApplyButtonForCheckboxActions=function(e){I("#"+e).find(".zgs19_gsEditFieldsBottom1").removeClass("zgs19_gsHideEleme")},P.disableApplyButtonForCheckboxActions=function(e){I("#"+e).find(".zgs19_gsEditFieldsBottom1").addClass("zgs19_gsHideEleme")},P.enableApplyButton=function(){P.buttonAction("apply",!0)},P.disabledApplyButton=function(){P.buttonAction("apply",!1)},P.enableResetButton=function(){P.buttonAction("reset",!0)},P.disableResetButton=function(){P.buttonAction("reset",!1)},P.compareWithDefObj=function(e,s){var t,a=e.service,r=y.getFilterObj(a),o=0;if(!I.isEmptyObject(r)){for(var i in e)r.hasOwnProperty(i)&&"sort"!=i&&(t=P.getDefValueForServiceType(a,i,s,e),i=(i=e[i][0])?i.toString().trim():"",t&&i&&i!==t&&o++);e.hasOwnProperty("advConfig")&&0<e.advConfig.length&&(o+=e.advConfig.length)}return o},P.enableResetFilter=function(){I("#zgs20_filterNewResetTitle").removeClass("zgs19_gsHideEleme")},P.disableResetFilter=function(){I("#zgs20_filterNewResetTitle").addClass("zgs19_gsHideEleme")},P.checkAndHideFilterPageElements=function(e){var s;(y.isFilterListDisplay||P.isUserSuggDisplay)&&(s=I(e).closest(".zgs19_gsFilterElementOuter"),e=I(e).closest("#zgs20_gsFilterPopup"),s.length||e.length||P.hideEachFilterPopUp("zgs20_gsFilterPopup"))},P.hideAndRemoveFilterElements=function(){I("#zgs20_gsfilterHolder").remove()},P.openUserContactsList=function(e){var s,t=I(e).text().replace(/\u00a0/g," ").replace(/\u200B/g," ");0<t.length&&((s=I("#zgs20_gsFilterPopup")).empty(),s.css("display","none"),s.hasClass("zgs19_gsFilterPopup")||(P.removeAllAttributes("zgs20_gsFilterPopup"),s.addClass("zgs19_gsFilterPopup zgs19_gsDisplayNone")),y.ContactsSearchType="filterUI",P.showUserContactSugg(t),0<I(".zgs19_gsAutoSuggChild").length&&(P.setFilterListPosition(I(e),s.attr("id"),"zgs19_filterBodyHldr"),s.css("display","block")),P.addEventsForFiltersPage()),y.isQueryChanged=!0,P.checkAndEnableApplyButtonForFilters(P.getCurrentService()),P.enableResetButton()},P.showUserContactSugg=function(e){var s=e.length,t=e.substr(0,s);P.asMatchedObj=[];var a="users",r=y.gsautocomplete.modifiers[a],o=r.symbol,i=t.lastIndexOf(o),n="",l="";y.isQueryValid(e)&&0===I("#zgs20_gsQryBox .zgs19_gsSelectedUsercont").length&&(l=0==i||" "==t[i-1]?(n=t.substr(0,i-1),t.substr(i,s)):(n=t.substr(0,s),o+t.substr(0,s)),0<(s=(t=y.gsautocomplete.findMatchedData(a,l)).length)?(r={key:a,value:o,matches:t,pquery:l,squery:n,length:s,max:r.asMax,start:0},P.asMatchedObj.push(r),y.gsautocomplete.renderUsersuggestList(r,"zgs20_gsCustomUserSugg","zgs20_gsFilterPopup"),P.isUserSuggDisplay=!0):P.hideUserContactSugg())},P.hideUserContactSugg=function(){I("#zgs20_gsFilterPopup").css("display","none"),P.isUserSuggDisplay=!1,P.currselecElem=""},P.updateQrySearchBox=function(e){e=I(e).attr("value");P.addMentionedUserInfo(e),y.setCursorPosInEditableDivElement("zgs20_gsQryBox"),P.hideUserContactSugg(),y.isQueryChanged=!0,y.gsautocomplete.currselecelem=""},P.enableOverlayDialog=function(){I("#zgs20_gsOverlayDialog").css("display","block")},P.disableConfirmDialogBox=function(){I(".zgs19_gsCnfrmDialogBox").css("display","none"),y.isFilterPageOpened||y.popupUtils.closeOverlayDialog()},P.addMentionedUserInfo=function(e){var s=y.gsautocomplete.get("users"),t=y.gsautocomplete.modifiers.users.symbol,a=y.gsusercontacts.getProximityContactsObject(),r=y.gsusercontacts.getQueriedProxContactsObject(),o=y.gsusercontacts.getCurrCacheQryContact(),o=(s=I.extend({},r,o,a,s))[e],a=t+(a=y.replaceHTMLEntity(o.DNAME)),s=I("#zgs20_gsQryBox"),e=s.text(),t=e.lastIndexOf(t);-1<t?(e=e.substr(0,t),s.text(e)):s.text(""),P.createMentionElement(o.ZUID,a,o.EMAILID)},P.createMentionElement=function(e,s,t){I("#zgs20_gsQryBox").append("").append(I("<span>",{contenteditable:!1,class:"zgs19_gsSelectedUsercont zgs19_gsOverflow",zuid:e,email:t}).text(s)).append("")},P.showMoreUserSuggest=function(e){var s,t,a=e.parentNode;a&&(t=P.asMatchedObj||[],s=I(a).attr("key"),e=I(a).attr("lindex"),e=parseInt(e),I(a).remove(),(t=t[0]||{}).key==s&&(t.start=e,t.max=y.gsautocomplete.modifiers[s].asMax,y.gsautocomplete.renderUsersuggestList(t,"zgs20_gsCustomUserSugg","zgs20_gsFilterPopup"),P.addEventsForFiltersPage()))},P.updateSearchBoxQueryInFilters=function(e){e&&0<e.length&&e.forEach(function(e){var s=Object.keys(e)[0];switch(s){case"query":var t=e[s];t&&(o=I("<span>").text(t),I("#zgs20_gsQryBox").append(o).append(""));break;case"men_user_zuid":case"men_user_email":var a,r,t=e[s],o="";(o="men_user_email"===s?t:(r=y.userIdVsDisplayName).hasOwnProperty(a=t)?r[a]:"")&&(r=y.ProximityContacts.zuidVsEmailId[a],P.createMentionElement(a,o="@"+o,r))}})},P.getQueryInfo=function(e){for(var s=[],t=e.length,a=0;a<t;a++){var r,o=e[a];if(o.hasOwnProperty("name"))switch(o.name){case"zs_query":var i=o.value;(i=null!=i?i[0]:"")&&s.push({query:i});break;case"zs_mention":(r=null!=(r=o.value)?r[0]:"")&&s.push({men_user_zuid:r});break;case"mentioned_email":(r=null!=(r=o.value)?r[0]:"")&&s.push({men_user_email:r})}}return s},P.getQueryFilterInOrder=function(){var e=[],s=I("#zgs20_gsQryBox").text(),t=I("#zgs20_gsQryBox .zgs19_gsSelectedUsercont"),a=t.text(),r=a.replace(y.gsautocomplete.regex_replacer,"\\$&"),o=new RegExp("(^"+r+"\\s|\\s"+r+"\\s|\\s"+r+"$|^"+r+"$)","g"),r=o.exec(s);return s&&r&&null!==r?(r=s.substring(0,r.index),o=s.substring(o.lastIndex,s.length),r.trim()&&e.push({query:r}),r=t.attr("zuid"),t=t.attr("email"),r?(e.push({men_user_zuid:r}),y.userIdVsDisplayName[r]=a.slice(1)):t&&e.push({men_user_email:t}),o.trim()&&e.push({query:o})):e.push({query:s}),e},P.renderLearnModuleData=function(a,r){let o=a.args;var i=O.LEARN;let e=y.getFilterObj(i);var n=o.module;if(e.hasOwnProperty(n)){var l=o.query||"";y.gslearnutil.getServerCallCount();if(I("#zgs20_gsEditFieldsLoader").remove(),r&&!I.isEmptyObject(r)){let e=o.nodeLen-1||0;r=(r=y.jsonParse(r)||[])[n];var g=Object.keys(r).length,c=o.modifier||"",d=P.getValueFromFilterObj("accounts")[0]||"",a=o.hasOwnProperty("spaceId")?o.spaceId:"",c="manuals"===n&&a&&"0"!==a?d+"_"+c+"_"+a:d+"_"+c;let s=y.getFilterInfo(O.LEARN,n,"data"),t=s[c];if(t){var p,u,h,_=P.getValueFromFilterObj(n),m=P.isMultiSelectEnabledFilter(O.LEARN,n);for(p in r)t.hasOwnProperty(p)||(u=r[p],t[p]=u,m?(h=I(".zgs19_gsFilterQuerySelection")[0],h=I(h).find("input[type=checkbox]").prop("checked"),P.renderEachFilterList("zgs20_gsModuleFilterWidgetFooter","newfilterActions","filterCheckBoxChild",e++,n,p,_,u,m,h,!1)):P.renderEachFilterList("zgs20_gsModuleFilterWidgetFooter","newfilterActions","moduleFilterChild",e++,n,p,_,u));s[c]=t}P.addEventForFilterQueryBox("zgs20_gsModuleFilterWidgetFooter",i),y.updateFilterInfo(O.LEARN,n,"data",s),l&&(l="per_page=99&query="+encodeURIComponent(l),(99<=g?(n===y.GSClientConstants.LEARN.manuals?P.learnManualsCache:P.learnSpacesCache).result:(n===y.GSClientConstants.LEARN.manuals?P.learnManualsCache:P.learnSpacesCache).noresult).push(l)),P.filterPopUpInputFetch(i)}}},P.fetchPeopleDeptData=function(e){e=e||{};var s,d=O.PEOPLE;y.getFilterObj(d).hasOwnProperty("departments")&&(e={obj:e,query:s=e.query||"",curCount:y.gsusercontacts.getServerCallCount()},s="action=fetchPeopleDept&query="+encodeURIComponent(s),y.gsusercontacts.queueserver={flag:!0,expiry_time:(new Date).getTime()},y.uri(y.GET,y.fetchActionsURL,s,e,function(e,s,t){var t=t.args||{},a=(t.obj||{}).nodeLen-1||0,r=y.jsonParse(e)||[];y.gsusercontacts.queueserver={flag:!1,expiry_time:0},I("#zgs20_gsEditFieldsLoader").remove();var e=P.getValueFromFilterObj("accounts"),o=y.getFilterInfo(O.PEOPLE,"departments","data")[e],i=P.getValueFromFilterObj("departments");if(o){var n,l,g,c=P.isMultiSelectEnabledFilter(O.PEOPLE,"departments");for(n in r)o.hasOwnProperty(n)||(l=r[n],o[n]=l,c?(g=I(".zgs19_gsFilterQuerySelection")[0],g=I(g).find("input[type=checkbox]").prop("checked"),P.renderEachFilterList("zgs20_gsModuleFilterWidgetFooter","newfilterActions","filterCheckBoxChild",a++,"departments",n,i,l,c,g,!1)):P.renderEachFilterList("zgs20_gsModuleFilterWidgetFooter","newfilterActions","moduleFilterChild",a++,"departments",n,i,l))}P.addEventForFilterQueryBox("zgs20_gsModuleFilterWidgetFooter",d),y.updateFilterInfo("people","data",o);t=(t.obj||{}).query||"";t&&(t="per_page=50&query="+encodeURIComponent(t),P.peopleDeptCache.noresult.push(t)),P.filterPopUpInputFetch(d)}))},P.ispeopleDeptCached=function(e){var s=P.peopleDeptCache.result||[],t=P.peopleDeptCache.noresult||[];return y.isReqCached(e,s,t,"","per_page=50")},P.isLearnDataCached=function(e){var s=P.learnManualsCache.result||[],t=P.learnManualsCache.noresult||[],a=P.learnSpacesCache.result||[],r=P.learnSpacesCache.noresult||[],o="per_page=99";return y.isReqCached(e,s,t,"",o)||y.isReqCached(e,a,r,"",o)},P.isWDFoldersCached=function(e,s){var t=P.wDFoldersCache.result[s]||[],s=P.wDFoldersCache.noResult[s]||[];return y.isReqCached(e,t,s,"","")},P.fetchWDTeamFolders=function(l,g){var e={query:l,teamId:g.teamId},e="entityToFetch=teamFolders&portalId="+g.accountId+"&dataObject="+encodeURIComponent(JSON.stringify(e));y.uri(y.GET,y.API.SERVICE_ACTIONS+O.WORKDRIVE,e,"",function(s){if(I("#zgs20_gsEditFieldsLoader").remove(),s){var t=y.jsonParse(s).data;if("SUCCESS"===t.status){var a,r=t.details.teamFolders||{},s=r.length;let e=g.data;for(a in r){var o,i,n=r[a].id;P.isWorkDriveFolderExist(e,n)||(o=r[a].n,i=Object.keys(e).length,e[i]={key:n,name:o},P.renderEachFilterList("zgs20_gsModuleFilterWidgetFooter","newfilterActions","moduleFilterChild",i,"folders",n,e,o))}if(l){l=encodeURIComponent(l).toUpperCase();t=g.teamId;let e=s>=O.wDFoldersSearchLimit?P.wDFoldersCache.result:P.wDFoldersCache.noResult;e.hasOwnProperty(t)?e[t].push("query="+l):e[t]=["query="+l]}P.addEventForFilterQueryBox("zgs20_gsModuleFilterWidgetFooter",O.WORKDRIVE),P.filterPopUpInputFetch(O.WORKDRIVE)}}})},P.isWorkDriveFolderExist=function(e,s){for(var t in e)if(e[t].key===s)return!0;return!1},P.setAsanaProjectsFilter=function(g,c){var e=P.getValueFromFilterObj("accounts"),s=y.getAppIdForCloudApps(e,y.GSConstant.ASANA),e="&service_name="+y.GSConstant.ASANA+"&connector_id="+e+"&gid="+g+"&app_id="+s,s={url:"/zgssearch/exconnector/getCalloutData?",type:"GET",dataType:"text"};s.data="action=getAsanaProjects"+e,s.success=function(e){var e=("string"==typeof e?JSON.parse(e):e).response,s=document.getElementById("zgs20_gsModuleFilterElem_projects")?document.getElementById("zgs20_gsModuleFilterElem_projects").classList:[],t=e.projects,a={},r=y.getFilterInfo(y.GSConstant.ASANA,"projects","data"),o=y.getFilterObj(y.GSConstant.ASANA).projects;if(e.projects&&0<e.projects.length){a.all=y.getI18NMsg("gs.search.filter.allprojects");for(var i=0;i<t.length;i++){var n=t[i],l=n.name;a[n.gid]=l}r[g]=a,y.isArrayContain("zgs19_gsboxholder",s)&&(I("#zgs20_gsModuleFilterWidgetLoader").remove(),I("#zgs20_gsModuleFilterElem_projects").click()),y.setFiltersDetails(o,"dispname",y.getI18NMsg("gs.search.filter.allprojects"))}else y.isArrayContain("zgs19_gsboxholder",s)&&(I("#zgs20_gsModuleFilterWidgetLoader").remove(),I("#zgs20_gsModuleFilterWidgetFooter").append("No projects")),I("#zgs20_gsModuleFilterElem_projects").attr("gs",""),I("#zgs20_gsModuleFilterElem_projects").removeClass("zgs19_gsCurPointer"),I("#zgs20_gsModuleFilterElem_projects .zgs19_gsModuleFilterSerNameNew").removeClass("zgs19_tc2fa6ea"),I("#zgs20_gsModuleFilterElem_projects .zgs19_gsModuleFilterSerNameNew").addClass("zgs19_serDisbName");y.setFiltersDetails(o,"data",r),y.setFiltersDetails(o,"length",Object.keys(r[g]).length),c&&c.hasOwnProperty("callback")&&c.callback()},y.network.uri(s)},P.setAsanaTagsFilter=function(l,g){var e=P.getValueFromFilterObj("accounts"),s=y.getAppIdForCloudApps(e,y.GSConstant.ASANA),e="&service_name="+y.GSConstant.ASANA+"&connector_id="+e+"&gid="+l+"&app_id="+s,s={url:"/zgssearch/exconnector/getCalloutData?",type:"GET",dataType:"text"};s.data="action=getAsanaTags"+e,s.success=function(e){var s=(e=("string"==typeof e?JSON.parse(e):e).response).tags,t={},a=y.getFilterInfo(y.GSConstant.ASANA,"tags","data"),r=y.getFilterObj(y.GSConstant.ASANA).tags;if(e.tags&&0<e.tags.length){t.all=y.getI18NMsg("gs.search.filter.alltags");for(var o=0;o<s.length;o++){var i=s[o],n=i.name;t[i.gid]=n}a[l]=t}else a[l]={};y.setFiltersDetails(r,"data",a),y.setFiltersDetails(r,"length",Object.keys(a[l]).length),y.setFiltersDetails(r,"dispname",y.getI18NMsg("gs.search.filter.alltags")),g&&g.hasOwnProperty("callback")&&g.callback()},y.network.uri(s)},P.updateDynamicFilterDetails=function(e,s,t,a){var r,o,i,n,l;s&&(r=y.getFilterInfo(e,t,"default"),o=y.getFilterInfo(e,t,"type"),n=l="",l=r,1<(i=Object.keys(s).length)?n=s[r]:1==i&&(n=s[l]),"object"==typeof n?n=n.name||y.getFilterInfo(e,t,"headertitle"):"3"!==a||"categories"!==t&&"group"!==t||(n=s[Object.keys(s)[0]][r]),n="6"===o?y.getFilterInfo(e,t,"title"):n,y.updateFilterInfo(e,t,"default",l),y.updateFilterInfo(e,t,"dispname",n),y.updateFilterInfo(e,t,"length",i))},P.checkAndReturnFiltersTabElement=function(e,s){var t,a,r;switch(e){case"filters":return 0===(t=I("#"+s)).length&&(r=I("<div>",{id:s,class:"zgs19_filtersAppliedTitle zgs19_gsfl zgs19_gsOverflow zgs19_tcfd9c10",gs:"newfilterActions",actionType:"openAppliedFilters",viewType:"search"}),I("#zgs20_gsModuleFilterDataHolder").append(r),t=I("#"+s)),t;case"sort":return 0===(t=I("#"+s)).length&&(a=I("<div>",{class:"zgs19_gssortTitle zgs19_gsfr zgs19_gsOverflow"}).text(y.getI18NMsg("gs.search.filter.sortby")+": "),r=I("<div>",{id:"zgs20_gsModuleFilterSortHolder",class:"zgs19_gsModuleFilterElemHolder zgs19_gsModuleSortNameHolderNew zgs19_gsBorderBox zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",fkey:"sort",gs:"mFilterWidget"}).append(I("<span>",{id:"zgs20_gsSortname",class:"zgs19_gsModuleFilterSerNameNew zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl "})).append(I("<div>",{class:"zgs19_gsModuleFilterElemIcon zgs18_gsModuleFilterDownIcon zgs19_gsVisibleHidden zgs19_gsBorderBox zgs19_gsfl"})),I("#zgs20_gsModuleFilterDataHolder").append(r).append(a),t=I("#"+s)),t;case"cardFilters":return I("<div>",{class:"zgs19_filtersAppliedTitle zgs19_gsfl zgs19_gsOverflow ",gs:"newfilterActions",actionType:"openAppliedFilters",viewType:"cards"});case"timezone":I("#zgs20_gsModuleFilterDataHolder").append(I("<span>",{class:"zgs18_gsGlobeIcon zgs19_gsTimezoneIcon zgs19_gsfr zgs19_gssortTitle",gs:"gsTimezoneInfo",id:s,gslabel:y.getI18NMsg("gs.search.service_projects_portalTz")}));break;case"separator":I("#zgs20_gsModuleFilterDataHolder").append(I("<span>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gssortTitle"}))}return{}}}(zgssearch,window),function(p,o){var u=o._jQueryGS,l=p.getGSConstantObj()||{},n=p.gscomponent||{};p.moreDataList={},p.ziaOrderedServiceList=[l.ALL,l.PEOPLE,l.PERSONALCONTACTS,l.ORGCONTACTS,l.MAILS,l.CHAT,l.CLIQ,l.NOTEBOOK,l.WORKDRIVE,l.CONNECT,l.CRM,l.BIGIN,l.BOOKS,l.INVOICE,l.INVENTORY,l.SUPPORT,l.CREATOR,l.CAMPAIGNS,l.REPORTS,l.WIKI,l.ORGRESOURCES,l.DROPBOX,l.GOOGLEDRIVE,l.BOX,l.SLACK,l.O365MAIL,l.WEBSITE,l.CALENDAR,l.ONEDRIVE,l.GMAIL,l.SALESFORCE,l.PROJECTS,l.EVERNOTE,l.ASANA,l.ZENDESK,l.LEARN];var e=p.gscomponent.isServiceSuite?n.getSuiteServiceList():[];p.orderedServiceList=p.orderedServiceList||(0<e.length?e:p.ziaOrderedServiceList),p.moreDataList.settings={displayName:p.getI18NMsg("t.settings"),serviceicon:"zgs19_gsUniSettingsIcon",id:"zgs20_gsSettingsView"},p.LAZY_IMG_LOAD_SUPPORTED_SERVICES=[l.PEOPLE,l.PERSONALCONTACTS,l.CONNECT,l.LEARN,l.CLIQ,l.STREAMS,l.PROJECTS,l.ZENDESK],p.havingUserPhoto=[l.CLIQ,l.CHAT,l.PEOPLE,l.ORGCONTACTS,l.PERSONALCONTACTS,l.CONNECT,l.SLACK,l.STREAMS,l.ZENDESK],p.FINANCE_SUITE_SERVICES=[l.BOOKS,l.INVOICE,l.INVENTORY],p.gsCloud=p.gsCloud||{},p.servMetaData={},p.obtainServicesLoader=function(e){var s=u("."+e)[0];if(p.isDashboardEnabled){var t=p.Utils.createElement("div","","zgs19_gsSkeletonLHSTabsOuter","","",""),a=p.Utils.createElement("div","","zgs19_gsSkeletonLHSTabs","","","");t.append(a);for(var r=u(".zgs19_gsSkeletonLHSTabs")[0],o=u(".zgs19_gsSkeletonLHSServices")[0],i=0;i<3;i++){var n=p.Utils.createElement("div","","zgs19_gsSkeletonLoader","","","<div class='zgs19_gsSkeletonLoadingCircle'></div><div class='zgs19_gsSkeletonLoadingLine'></div>");u(r).append(n)}for(var l=0;l<4;l++){var g=p.Utils.createElement("div","","zgs19_gsSkeletonLoader","","","<div class='zgs19_gsSkeletonLoadingCircle'></div><div class='zgs19_gsSkeletonLoadingLine'></div>");u(o).append(g)}p.isSettingsEnabled&&(e=p.Utils.createElement("div","","zgs19_gsSkeletonLoader","","","<div class='zgs19_gsSkeletonLoadingCircle'></div>"),a=p.Utils.createElement("div","","zgs19_gsSkeletonLoader","","","<div class='zgs19_gsSkeletonLoadingCircle'></div>"),u(t).append(e).append(a))}else for(var c=0;c<4;c++){var d=p.Utils.createElement("div","","zgs19_gsSkeletonLoader","","","<div class='zgs19_gsSkeletonLoadingCircle'></div><div class='zgs19_gsSkeletonLoadingLine'></div>");u(s).append(d)}},p.setLHSHiddenScrollHeight=function(){var e=p.gscomponent.pcode,s=0;"ZO"==e?s=u("#zgs20_gsResultsHolder").height():"ZW"==e&&(s=u("#zgs20_gsHolder").height()),0<s&&u("#zgs20_gsSearchResultLeft").height(s+"px")},p.createSaveIconinSearchBox=function(){var e=p.hasOwnProperty("getLastSearchedQuery")?p.getLastSearchedQuery():"",s=p.getSearchType(),t="zgs19_gsSTS zgs19_gsHideEleme";s===l.ALL||p.isServiceHasMultiPortals(s)?t="zgs19_gsSTS zgs19_gsHideEleme":e&&""!=e&&(t="zgs19_gsCSTS");t=u("<div>",{id:"zgs20_gsSSIconHolder",class:"zgs19_gsSSIconHolder zgs19_gsfl"}).append(u("<span>",{id:"zgs20_gsSSIcon",class:"zgs18_gsSTSIcon zgs19_gsCurPointer "+t,gs:"savethissearch",gsa:"save_search_icon"}));u(".zgs19_gsqryinnerdiv").append(t).addClass("zgs19_gsSSEnabled"),"askZia"===p.selectedLeftPanelDivision&&u("#zgs20_gsSSIconHolder").css("display","none"),p.setSearchBoxWidth(),p.setSearchBoxSegmentSize()},p.getAccountType=function(e,s){e=p.isArrayContain(e,p.configured_mail_module)?p.mappedServiceList[e].originService:e;if(p.gFilterData.hasOwnProperty(e)){e=p.gFilterData[e].hasOwnProperty("accountsMeta")?p.gFilterData[e].accountsMeta:{};if(e.hasOwnProperty(s))return e[s]}return 0},p.setSearchType=function(e){p.searchType=e},p.getSearchType=function(){return p.searchType},p.getOrderedServiceList=function(){return p.orderedServiceList},p.clearOrderedServiceList=function(){p.orderedServiceList=[]},p.checkAndRenderServiceList=function(e){var s;n.hasOwnProperty("isServiceSuite")&&n.isServiceSuite&&(s=Object.assign({},p.zosUserConfig),p.gscomponent.setSuiteService(),p.setZOSUserConfig(),JSON.stringify(s)!==JSON.stringify(p.zosUserConfig)&&(p.storeSuitServiceList(),p.renderServiceList()),e&&e())},p.preCheckForServices=function(){for(var e=[[l.CLIQ,l.CHAT],[l.PEOPLE,l.ORGCONTACTS]],s=e.length,t=0;t<s;t++){var a=e[t],r=p.getServiceList("serviceList")||[];p.isArrayContain(a[0],r)&&p.isArrayContain(a[1],r)&&(a=r.indexOf(a[1]),p.serviceList.splice(a,1))}p.preLoadComponentForServices()},p.canShowHomepage=function(){return"search_home"==p.gshistory.getCurrentStateId()||"/searchhome"==o.location.pathname&&!p.gshistory.getQueryFromUrl()&&!p.gshistory.getServFromUrl()},p.initServiceList=function(){var e,s;p.isShowQuickActionsPage=!p.hasOwnProperty("isShowQuickActionsPage")||p.isShowQuickActionsPage,p.hasOwnProperty("fetchTopContacts")&&p.fetchTopContacts(),1!=p.gscomponent.UIType||p.canShowHomepage()||(p.isShowQuickActionsPage=!1),p.hasOwnProperty("renderLandingPage")&&p.renderLandingPage(),"COMPLETE"!=p.statusOfServiceFetchData&&((e=p.getServiceList("serviceList")||[])&&0!=e.length||(s=p.getAccessibleServiceList()||[],(n.isServiceSuite||0<s.length||l.hasOwnProperty("widgetObject"))&&(p.statusOfServiceFetchData="COMPLETE",n.isServiceSuite?n.isNoRestrictServicelist?(p.statusOfServiceFetchData="",0<s.length?(p.statusOfServiceFetchData="COMPLETE",p.storeServiceList(s,"serviceList"),p.storeServiceList(s,"orderedServiceList")):l.hasOwnProperty("widgetObject")&&(p.processServListFromWidgetCall(),p.statusOfServiceFetchData="COMPLETE")):(e=p.getZOSUserConfig(),p.storeServiceList(e,"serviceList")):0<s.length?(p.storeServiceList(s,"serviceList"),p.storeServiceList(s,"orderedServiceList"),s=p.getConstAllServList()||[],p.setConstAllServList(s)):p.processServListFromWidgetCall(),p.renderNewUI(),p.updateUIPostServiceListCall(),p.renderServiceList(),p.displayDefaultPage(!1))))},p.processServListFromServicelistCall=function(){var e=p.getEnabledServiceList()||[];p.storeServiceList(e,"serviceList"),p.storeServiceList(e,"orderedServiceList");e=p.getConstAllServList()||[];p.setConstAllServList(e)},p.getEnabledServListFromWidget=function(){for(var e=p.hasOwnProperty("getWidgetdata")?p.getWidgetdata():"",s=e.hasOwnProperty("allserviceslist")?e.allserviceslist:[],t=e.hasOwnProperty("servicesinfo")?e.servicesinfo:{},a=[],r=s.length,o=0;o<r;o++){var i=s[o];(t[i]||{}).e&&a.push(i)}return p.setEnabledServiceList(a),a},p.processServListFromWidgetCall=function(){var e=p.getEnabledServListFromWidget()||[];p.storeServiceList(e,"serviceList"),p.storeServiceList(e,"orderedServiceList");e=p.GSConstant.widgetObject.allserviceslist||[];p.setConstAllServList(e)},p.getExtraServiceList=function(e,s){for(var t=[],a=e.length,r=0;r<a;r++)-1===s.indexOf(e[r])&&t.push(e[r]);return t},p.isServiceAllowedForLHSPanel=function(e){return!!p.mappedServiceList.hasOwnProperty(e)&&!p.mappedServiceList[e].hasOwnProperty("is_module")},p.renderNewServiceInLeftPanel=function(e){for(var s=p.enabledSubServicesList(p.getServiceList("serviceList")||[]),t=p.getMappedServiceList(),a=e.length,r=0;r<a;r++){var o=e[r];p.isServiceAllowedForLHSPanel(o)&&p.isArrayContain(o,s)&&p.mappedServiceList.hasOwnProperty(o)&&p.renderServicePanelList(o,t[o])}},p.initAutoSuggestServiceList=function(){p.hasOwnProperty("gsautocomplete")&&p.gsautocomplete.initServiceList()},p.storeServiceList=function(e,s){"orderedServiceList"==s&&p.clearOrderedServiceList();var t=p.gscomponent.pcode;if("ZO"!=t&&"ZW"!=t||!n.hasOwnProperty("isServiceSuite")||!n.isServiceSuite||n.isNoRestrictServicelist){var a=e.length;0<a&&(p[s]=[l.ALL]);for(var r=0;r<a;r++)p[s].push(e[r].trim())}else p.storeSuitServiceList()},p.getSuitServicesObject=function(){return p.suiteServiceUserConfig},p.getServiceSuiteWidgetServices=function(e){if("ZO"===n.pcode&&n.hasOwnProperty("isServiceSuite")&&n.isServiceSuite)for(var s=[[l.CHAT,l.CLIQ]],t=s.length,a=0;a<t;a++){var r,o=s[a];p.isArrayContain(o[0],e)&&(r=e.indexOf(o[0]),p.serviceList[r]=o[1],e[r]=o[1])}return e},p.storeSuitServiceList=function(){var e=p.getZOSUserConfig(),s=e.length,t=p.serviceList||[];if(0<s){var a=[l.ALL];if(1<t.length)a=p.getServiceSuiteWidgetServices(t);else for(var r=0;r<s;r++){var o=(n=e[r]).hasOwnProperty("app_name")?n.app_name.trim():"";p.isArrayContain(o,p.ziaOrderedServiceList)?a.push(o):0<=a.indexOf(o)&&a.splice(a.indexOf(o),1)}for(var i=p.GSConstant.accessible_cloud_apps,r=0;r<s;r++){var n,o=(n=e[r]).hasOwnProperty("app_name")?n.app_name.trim():"";p.isArrayContain(o,i)&&!p.isArrayContain(o,a)&&a.push(o)}p.serviceList=a,p.hasOwnProperty("gsautocomplete")&&p.gsautocomplete.addServices(),p.gscomponent.isNoRestrictServicelist||(p.orderedServiceList=a)}},p.manageApps=function(){var e="",s=2;1==p.gscomponent.UIType&&(s++,e=u(p.Utils.createElement("div","","zgs19_gsServiceSaveNew zgs19_manageAppsEle zgs19_gsCurPointer zgs19_gsSettingPopupwth",{gs:"zsfeedback"})).append(p.Utils.createElement("span","","zgs18_gsFeedbackMenuIcon")).append(p.Utils.createElement("span","zgs19_gsFeedback","zgs19_gsReorderTxt zgs19_gsCalMW20Pxof100 zgs19_gsOverflow",{gstitle:p.I18N.getValue("gs.search.feedback.view")},p.I18N.getValue("gs.search.feedback.title"))));var t=p.Utils.createElement("div","zgs20_manageApps","zgs19_gsSettingsPopUp ",{gs:"settingPopUp"}),a=u(p.Utils.createElement("div","","zgs19_gsServiceSaveNew zgs19_manageAppsEle zgs19_gsCurPointer zgs19_gsSettingPopupwth",{gs:"reorderservices"})).append(p.Utils.createElement("span","","zgs18_gsReorderAppMenuIcon")).append(p.Utils.createElement("span","","zgs19_gsReorderTxt zgs19_gsCalMW20Pxof100 zgs19_gsOverflow",{gstitle:p.I18N.getValue("gs.settings.application.reorder_apps")},p.I18N.getValue("gs.settings.application.reorder_apps"))),r=p.Utils.createElement("div","","zgs19_gsBorderBox zgs19_gstoolSidearrow"),o=u(p.Utils.createElement("div","zgs20_gsSettingsHolder","zgs19_manageAppsEle zgs19_gsBorderBox zgs19_gsCurPointer zgs19_gsFontSize15Px")).append(u(p.Utils.createElement("div","zgs20_gsServicePanelListsettings","zgs19_gsServiceMenu zgs19_gsCurPointer",{service:"settings",gs:"settingsPanelMenu"})).append(u(p.Utils.createElement("div","","zgs19_gsServiceSaveNew zgs19_manageAppsEle zgs19_gsSettingPopupwth")).append(p.Utils.createElement("span","","zgs18_gsSettingsMenuIcon")).append(p.Utils.createElement("span","","zgs19_gsReorderTxt zgs19_gsCalMW20Pxof100 zgs19_gsOverflow",{gs:"settingsPanel",gstitle:p.I18N.getValue("t.settings")},p.I18N.getValue("t.settings"))))),e=u(t).append(r).append(a).append(o).append(e),s=40*s+"px";return u(t).css("height",s),e},p.lhsComponentHeight=function(){var e=u(".zgs19_gsServiceListBtm").height()||0;u("#zgs20_gsServListHolder").css("height","calc(100% - "+e+"px)")},p.renderLHSPane=function(){var e;u("#zgs20_gsSearchResultLeft").html(""),u("#zgs20_gsSearchResultLeft").append(u("<div>",{id:"zgs20_gsServListHolder",class:"zgs19_gsServListHolder zgs19_gsServicesPaneWidScroll zgs19_gsBorderBox",gs:"servListHolder"})),p.isSettingsEnabled&&(e=u("<div>",{id:"zgs20_gsSettingsHolder",class:"zgs19_gsSettingsHolder zgs19_gsServiceListBtm zgs19_gsBorderBox",gs:"manageApps"}).append(u("<span>",{class:"zgs18_gsSettingsNewIcon"})),u("#zgs20_gsSearchBoxRight").find(".zgs18_gsSettingsIconTop").css("display","block"),u("#zgs20_gsSearchResultLeft").append(e)),p.lhsComponentHeight()},p.addCloudIntegIconToLHSInZ1=function(e){let s=!1;var t,a,r,o="ZO"===p.gscomponent.pcode,i=!u("#zgs20_cloudConnectorIntegrationsIcon").length;e&&(p.gscomponent.isNewUI,t=-1!==p.gscomponent.zsoid,a=p.gscomponent.canEnableZiaIntegration,r=p.GSConstant.hasOwnProperty("widgetObject")&&p.GSConstant.widgetObject.hasOwnProperty("isCloudEnabledForZ1")&&p.GSConstant.widgetObject.isCloudEnabledForZ1,s=(r||!r&&a)&&o&&i&&(t||!t&&a)),(!e&&i&&o||s)&&(o=u("<div>",{id:"zgs20_cloudConnectorIntegrationsIcon",class:"zgs19_gsServicesPaneWid zgs19_connectorsIntegIcon",gs:"openIntegUserPageInZ1"}).append(u("<span>",{class:"zgs18_gsIntegIcon"})).append(u("<span>",{gstitle:p.I18N.getValue("gs.search.connectors.ManageCloudApps"),class:"zgs19_gsIntegIconToolTipOverlay"})),u("#zgs20_gsHolder").append(o),u("#zgs20_globalsearch.zgs19_gsonezoho #zgs20_gsSearchResultLeft").addClass("zgs19_lessCloudIntegIconHeight"))},p.renderLHSPaneTab=function(){u("#zgs20_gsSearchResultLeft").html("");var e="",s="",t="",a="",r="",o="";p.hasOwnProperty("ziaProperties")&&(o=p.ziaProperties.isPropertyNeeded("isLeftBandNeeded"),e=p.ziaProperties.isPropertyNeeded("isSearchNeeded"),t=p.ziaProperties.isPropertyNeeded("isCardsNeeded"),a=p.ziaProperties.isPropertyNeeded("isDashboardNeeded"),s=p.ziaProperties.isPropertyNeeded("isSettingsNeeded"),r=p.ziaProperties.isPropertyNeeded("allowExpandForCategoryTab")),o&&(o='<div id="zgs20_gsLeftDivisionPanel" class="" gs="leftpanel1" >'+(e?'<div id="zgs20_gsLeftPanelSearch" gsparenttip="true" class="zgs19_gsLeftPanelTab zgs19_gsLeftPanelTabUnselected zgs19_gsCurPointer"  action="search" gs="leftPanelMenu"  gsa="left_panel_search">\n                                                          <span class="zgs19_gsLeftBandIcons zgs19_gsUniIcons zgs18_gsLensIconTab zgs19_gsLensIconTab" gs="icon"></span>\n                                                          <span class="zgs19_gsLeftPanelTabText zgs19_gsOverflow" isparenttip="true" gs="text">Search</span>\n                                                        </div>':""),o+=(t?'<div id="zgs20_gsLeftPanelCards" gsparenttip="true" class="zgs19_gsLeftPanelTab zgs19_gsLeftPanelTabUnselected zgs19_gsCurPointer" action="openCards"  gs="leftPanelMenu"  gsa="left_panel_cards">\n                                                       <span class="zgs19_gsLeftBandIcons zgs19_gsUniIcons zgs18_CardsIcon zgs19_gsCardsIcon" gs="icon"></span>\n                                                       <span class="zgs19_gsLeftPanelTabText zgs19_gsOverflow" isparenttip="true" gs="text">Cards</span>\n                                                    </div>':"")+(a?'<div id="zgs20_gsLeftPanelDashboard" gsparenttip="true" class="zgs19_gsLeftPanelTab zgs19_gsLeftPanelTabUnselected zgs19_gsCurPointer" action="dashboard" gs="leftPanelMenu"  gsa="left_panel_dashboard">\n                                                                   <span class="zgs19_gsLeftBandIcons zgs19_gsUniIcons zgs18_gsDashboardIcon zgs19_gsDashboardIcon" gs="icon"></span>\n                                                                   <span class="zgs19_gsLeftPanelTabText zgs19_gsOverflow" isparenttip="true" gs="text">Dashboards</span>\n                                                             </div>':"")+"</div>",u("#zgs20_gsSearchResultLeft").append(u("<div>",{id:"zgs20_gsLeftBand1"})),u("#zgs20_gsLeftBand1").append(o),e?u("#zgs20_gsSearchResultLeft").append(u("<div>",{id:"zgs20_gsLeftBand2"})):(u("#zgs20_gsLeftBand1").find("#zgs20_gsLeftPanelDashboard").addClass("zgs19_gsSelectedServiceListBG").removeClass("zgs19_gsLeftPanelTabUnselected"),p.seletedLeftPanelDivision="dashboard",p.clickActionForDashboards()),p.GSConstant.nlpSearchEnabled&&p.hasOwnProperty("gsnlpsearch")&&p.gsnlpsearch.createNLPTemplate(),p.isSearchViewTabOpened()&&u("#zgs20_gsLeftBand2").removeClass("zgs19_gsDisplayNone"),u(u(".zgs19_gsLeftPanelTab[action="+p.selectedLeftPanelDivision+"]")[0]).addClass("zgs19_gsLeftPanelTabSelected zgs19_gsSelectedServiceListBG").removeClass("zgs19_gsLeftPanelTabUnselected"),0==n.UIType&&(u(".zgs19_gsLeftPanelTabText").addClass("zgs19_gsDisplayNone"),p.isLeftDivisonPanelHidden=!0),u("#zgs20_gsLeftBand2").append(u("<div>",{id:"zgs20_gsServListHolder",class:"zgs19_gsServListHolder zgs19_gsServicesPaneWidScroll zgs19_gsBorderBox zgs19_gsSelectedServiceListBG",gs:"servListHolder",style:"float: inline-start;padding-inline-end: 50px;"})),r&&(r="",r='<span id="zgs20_gsMaxMinLeftBand" gs="LeftBandToggle" action="'+(p.isLeftDivisonPanelHidden?(r="zgs19_gsMaxLeftBand","expandLeftBand"):(r="zgs19_gsMinLeftBand","collapseLeftBand"))+'"  class=" zgs18_gsExpandpanel zgs19_gsCurPointer '+r+'"></span>',u("#zgs20_gsLeftBand1").append(r),p.LINE_ICON_MAP.hasOwnProperty(r="zgs18_gsExpandpanel")&&p.obtainLineIconPaths(r,u("#zgs20_gsMaxMinLeftBand")),p.isLeftDivisonPanelHidden||u(".zgs18_gsExpandpanel_path4").addClass("zgs19_gsFlipIcon")),p.isSettingsEnabled&&s&&(s=u("<div>",{id:"zgs20_gsSettingsBand",class:"zgs18_gsSettingsIconTop zgs19_gsLeftPanelTabUnselected zgs19_gsDisplayNone",gs:"settingsPanelMenu"}),u("#zgs20_gsLeftBand1").append(s),u("#zgs20_gsLeftBand2").append('<div id="zgs20_gsReorderBtm" class="zgs19_gsServiceSaveNew zgs19_gsServiceListBtm zgs19_gsCurPointer " gs="reorderservices" gsparenttip="true"><div class="zgs18_gsReorderAppMenuIcon" style="margin-inline-start: 0px;"></div><div class="zgs19_gsReorderTxt zgs19_gsCalMW20Pxof100 zgs19_gsOverflow" gstitle="Reorder Apps" isparenttip="true">Reorder Apps</div></div>'),null!=p.gsusersettings.servicesArrayList&&0!=p.gsusersettings.servicesArrayList.length||(s=p.getAllServiceListFromWidget(),p.gsusersettings.storeServicesListInfo(s))),p.lhsComponentHeight())},p.renderPreviousPage=function(e){var s=p.gshistory.getPreviousState();p.renderReqPage(s,e)},p.renderReqPage=function(s,e){if(s){var t=s.id;if("search_home"==t)p.openHomePage();else if("zsearch"==t)p.leftDivisionNavigation("search");else if("settings"==t)p.hideAskZiaTab(),p.hideDashboard(),p.hideCardsPage(),p.hideIntegrationsPage(),p.setHighlightForLeftDivisonPanel(),p.beforeSettingsOpen("settings"),p.gsusersettings.showSettingsPage();else if("cards"==t)p.hideDashboard(),p.isHashingAllowed&&0!=e&&p.gshistory.pushCardsState("","",s.url),p.setHighlightForLeftDivisonPanel("cards"),p.showCardsPage();else if("dashboards"==t){if(p.hideCardsPage(),p.isHashingAllowed&&0!=e&&(p.gshistory.pushDashboardsState("","",s.url),s.url)){let e=s.url.split("#");"Home"!=e[1]||(s=e[0].split("dashboards/")[1])&&(p.gsdbhome.currentlyOpenedDbId=s)}p.setHighlightForLeftDivisonPanel("dashboard"),p.showDashboardPage()}else"integrations"==t&&p.gsCloud.showIntegrationsView()}},p.dispSetting=function(){u("#zgs20_gsSettingsHolder").css("display","block")},p.enabledSubServicesList=function(e){for(var s=e.length,t=0;t<s;t++){var a=e[t];p.isArrayContain(a,p.account_based_filter_service_list)&&p.originServiceVsSubService.hasOwnProperty(a)&&!p.isArrayContain(p.originServiceVsSubService[a],e)&&e.push(p.originServiceVsSubService[a])}return e},p.renderServiceList=function(){p.preCheckForServices();var e=p.enabledSubServicesList(p.getServiceList("serviceList")||[]),s=p.getMappedServiceList(),t=p.getOrderedServiceList();1===n.UIType&&p.hasOwnProperty("gshistory")&&(p.hasOwnProperty("gsusersettings")&&p.gsusersettings.isSettingsOpened&&(p.gshistory.isURLParamsHandled=!0),p.gshistory.handleURLSearch());var a=t.length;if(0<a){u("#zgs20_gsServListHolder").empty();for(var r=0;r<a;r++){var o=t[r];p.isServiceAllowedForLHSPanel(o)&&p.isArrayContain(o,e)&&p.mappedServiceList.hasOwnProperty(o)&&p.renderServicePanelList(o,s[o])}}p.hasOwnProperty("jqueryMouseEvent")&&p.jqueryMouseEvent();var i=p.getSearchType(),i=p.getTargetElem("zgs20_gsServicePanelList"+i);u("#zgs20_gsSearchResultLeft").scrollTop(0),i&&p.gskeyboard&&(p.gskeyboard.isCurElementInViewPort(i)||i.scrollIntoView(!1)),p.isSettingsEnabled&&p.loadSettingsUIJqueryFile(),p.lhsComponentHeight(),p.setLHSHiddenScrollHeight(),p.GSConstant.isAskZiaTabEnabled&&p.gshistory.isPathNamePresent("/askzia")&&p.openAskZiaTab(!0)},p.renderServicePanelList=function(e,s){var t="zgs19_gsUnServiceLeftPanel",a=p.getSearchType();p.isIntegViewPage||a!==e||(t="zgs19_gsSelectedServicepanel");a=s.serviceicon,s=s.displayName;u("#zgs20_gsServListHolder").append(u("<div>",{id:"zgs20_gsServicePanelList"+e,gsParentTip:!0,class:"zgs19_gsServiceMenu zgs19_gsServiceLeftPanel zgs19_gsServicesPaneWid zgs19_gsCurPointer "+t,service:e,gs:"serviceLeftPanelMenu"}).append(u("<div>",{class:"zgs19_gsServiceLeftPanelRow"}).append(u("<div>",{class:"zgs19_gsServiceLeftPanelCell1New zgs19_gsServicesPaneWid"}).append(u("<span>",{class:"zgs19_gsUniIcons "+a,gs:"icon"})).append(u("<span>",{class:"zgs19_gsServiceLeftPanelServiceNew zgs19_gsOverflow",isParentTip:!0,gstitle:s,gs:"text"}).text(s))))),p.LINE_ICON_MAP.hasOwnProperty(a)&&p.obtainLineIconPaths(a,u(".zgs19_gsServiceLeftPanelCell1New > ."+a)[0])},p.setScrollTop=function(e,s){u(e).scrollTop(s)},p.displayAllResultPage=function(){u("#zgs20_gsModuleSearchResultPage").empty().hide(),u("#zgs20_gsMultiSearchResultPage").empty().hide(),u("#zgs20_gsSearchResultRight").empty(),u("#zgs20_gsAllSearchResultPage").empty().show(),p.setScrollTop("#zgs20_gsAllSearchResultPage",0)},p.displayDefaultPage=function(e){p.displayAllResultPage(),e?u("#zgs20_gsModuleFilterList").show():u("#zgs20_gsModuleFilterList").hide(),u("#zgs20_gsResultsHolder").css("display","block")},p.showSearchPageLoader=function(){u("#zgs20_gsProgressLoader").css("display","block")},p.hideSearchPageLoader=function(){u("#zgs20_gsProgressLoader").css("display","none")},p.getStatsKey=function(e){var s="";switch(n.UIType&&"ZO"==n.pcode){case 2:s="olderzos-";break;case 4:s="newerzos-"}return(s="ZW"===n.pcode?"zw-":s)+e},p.clickActionForServiceList=function(s,e){try{var t,a,r;(p.gscomponent.hasOwnProperty("isWPSmartViewEnabled")&&n.isWPSmartViewEnabled||p.isWPSmartViewEnabledinZia)&&p.toggleSmartViewServicePane(!1),p.isArrayContain(s,p.serviceList)&&(p.hasOwnProperty("gsanalytics")&&p.gsanalytics.sendStatsForServicesPane(s),p.isServiceHasMultiPortals(s)||(p.multiPageEnabled=!1),t=p.getSearchType(),p.updateSearchType(s),p.updateCurrentPage(s),a=p.getQueryText(),t===s||a||p.isQueryHasUserCriteria()||e?p.handleSearchCall(s):(p.clearSearchResultPageForService(s),"search"===p.selectedLeftPanelDivision&&p.updateQueryBox(s,a))),p.isMaxCalloutOpen&&p.curSelectedEle&&(r=u(p.curSelectedEle).attr("service"),p.minCalloutPreview(r)),p.hideIntegrationsPage(),p.focusForWeb("zgs20_gsQueryBox")}catch(e){p.throwClientError("Error in clickActionForServiceList. service > "+s+" Exception>",e)}},p.handleOpeningOfCardsAndDashboard=function(e){p.hideAskZiaTab(),p.hideWelcomePage(),p.hideQuickActionsPage(),p.hideIntegrationsPage(),p.gsfilters.hideAndRemoveFilterElements(),p.setHighlightForLeftDivisonPanel(e),u("#zgs20_gsResultsHolder").css("display","none"),u("#zgs20_gsSearchResultMiddle").css("display","none"),u("#zgs20_gsSearchResultRight").css("display","none"),u("#zgs20_gsQuickActionsPage").css("display","none"),p.setStatusClsForLeftDivision(),p.isDashboardEnabled?u(".zgs18_gsSettingsIconTop").removeClass("zgs19_gsLeftPanelTabSelected zgs19_gsSelectedServiceListBG").addClass("zgs19_gsLeftPanelTabUnselected"):u(".zgs18_gsSettingsIconTop").removeClass("zgs19_gsSettingsIconTopSelected"),p.setSearchBoxPlaceHolder()},p.setSearchBoxPlaceHolder=function(){var e,s;p.ziaProperties.isPropertyNeeded("isSearchNeeded")&&("askZia"===p.selectedLeftPanelDivision?e=p.getI18NMsg("gs.search.askzia_placeholder"):(e=p.getI18NMsg("common.search"),l.ALL==p.getSearchType()&&(e=p.getI18NMsg("gs.search_across_zoho"),s=p.getEnabledCloudApps(),(p.isNICDomain()||0<s.length&&4!==n.UIType)&&(e=p.getI18NMsg("t.search_box")),navigator&&1!==n.UIType&&(e+=0<=navigator.platform.toUpperCase().indexOf("MAC")?" ( "+p.getI18NMsg("gs.search_across_zoho_cmd")+" + / )":" ( "+p.getI18NMsg("gs.search_across_zoho_ctrl")+" + / )",e=n.getSearchBoxPlaceholder()||e))));let t=p.getTargetElem("zgs20_gsQueryBox");t&&(t.setAttribute("placeholder",e),p.focusForWeb("zgs20_gsQueryBox"))},p.setStatusClsForLeftDivision=function(){p.isDashboardEnabled&&p.ziaProperties.isPropertyNeeded("isLeftBandNeeded")&&(p.isLeftDivisonPanelHidden?(p.isSearchViewTabOpened()?u("#zgs20_gsHolder").addClass("zgs19_gsMinLeftDivision").removeClass("zgs19_gsMaxLeftDivision").removeClass("zgs19_gsMinLeftDivisionNoSearch"):u("#zgs20_gsHolder").addClass("zgs19_gsMinLeftDivisionNoSearch").removeClass("zgs19_gsMinLeftDivision").removeClass("zgs19_gsMaxLeftDivision")).removeClass("zgs19_gsMaxLeftDivisionOtherTab"):p.isSearchViewTabOpened()?u("#zgs20_gsHolder").addClass("zgs19_gsMaxLeftDivision").removeClass("zgs19_gsMinLeftDivision").removeClass("zgs19_gsMinLeftDivisionNoSearch").removeClass("zgs19_gsMaxLeftDivisionOtherTab"):u("#zgs20_gsHolder").addClass("zgs19_gsMaxLeftDivisionOtherTab").removeClass("zgs19_gsMinLeftDivisionNoSearch").removeClass("zgs19_gsMinLeftDivision").removeClass("zgs19_gsMaxLeftDivision"))},p.isSearchViewTabOpened=function(){return"search"===p.selectedLeftPanelDivision||"askZia"===p.selectedLeftPanelDivision},p.resizeForLeftPanelchanges=function(){var e=p.getLHSServicePaneWidth(),s=u(o).height(),t=u(o).width(),a=u("#zgs20_gsResultsHolder").width()||0,r="";1==p.gscomponent.UIType?(s=u("#zgs20_zohosearchWrapper").outerHeight(!0)-u("#zgs20_gsSearchTopBandHolder").outerHeight(!0),p.isSearchViewTabOpened()&&p.setSizeForRespectiveResultsArea()):0==p.gscomponent.UIType&&(t=u("#zgs20_gsHolder").width(),s=u("#zgs20_gsHolder").height()-u("#zgs20_gsSearchTopBandHolder").outerHeight(!0),r=a-(p.isMaxCalloutOpen?0:u("#zgs20_gsSearchResultMiddle").width()),p.isSearchViewTabOpened()&&p.setResultPreviewWidth(a,r),u("#zgs20_gsSearchResultRight").css("width",r+"px"),p.setCalloutPreviewPosition()),u("#zgs20_gsSearchResultsArea").css({width:t-e+"px",height:s+"px"}),p.hasOwnProperty("gsusersettings")&&p.gsusersettings.isSettingsOpened&&p.gsusersettings.resizeSettingsPage(),p.isCardViewOpened()&&p.gscards.handleHorizontalResizeForCards(),p.isDashboardViewOpened()&&p.gsdbhome.setSizeForDashboards()},p.setPrevStateforTabChanges=function(e){p.prevSelectedLeftPanelDivision=e},p.getPrevStateforTabChanges=function(){return p.prevSelectedLeftPanelDivision},p.setCurStateforTabChanges=function(e){p.selectedLeftPanelDivision=e},p.getCurStateforTabChanges=function(){return p.selectedLeftPanelDivision},p.resetAllSelectedTabCategory=function(){u(".zgs19_gsLeftPanelTab").removeClass("zgs19_gsLeftPanelTabSelected").addClass("zgs19_gsLeftPanelTabUnselected").removeClass("zgs19_gsSelectedServiceListBG")},p.setHighlightForLeftDivisonPanel=function(e){var s=p.getCurStateforTabChanges();p.setCurStateforTabChanges(e),p.ziaProperties.isPropertyNeeded("isLeftBandNeeded")&&(p.resetAllSelectedTabCategory(),e&&(p.setPrevStateforTabChanges(s),e=e.charAt(0).toUpperCase()+e.slice(1),u("#zgs20_gsLeftPanel"+e).addClass("zgs19_gsLeftPanelTabSelected").removeClass("zgs19_gsLeftPanelTabUnselected").addClass("zgs19_gsSelectedServiceListBG")),p.setStatusClsForLeftDivision(),p.isSearchViewTabOpened()?(0<u(".zgs19_gsSearchResultTable").length&&p.enablingSSIcon(),u("#zgs20_gsLeftBand2").removeClass("zgs19_gsDisplayNone").addClass("zgs19_gsSelectedServiceListBG")):u("#zgs20_gsLeftBand2").addClass("zgs19_gsDisplayNone").removeClass("zgs19_gsSelectedServiceListBG"),p.resizeForLeftPanelchanges())},p.changeBgcolorForLHS=function(){0<u("#zgs20_gsSettingsHolder").length&&(e=u("#zgs20_gsSettingsHolder").children("#zgs20_gsServicePanelListsettings"),u(e).addClass("zgs19_gsSelectedServicepanel").removeClass("zgs19_gsUnServiceLeftPanel"));var e=u("#zgs20_gsServListHolder").children(".zgs19_gsServiceLeftPanel");u.each(e,function(e,s){u(s).addClass("zgs19_gsUnServiceLeftPanel").removeClass("zgs19_gsSelectedServicepanel")})},p.clickActionForDashboards=function(e){p.hasOwnProperty("gsdbhome")&&!p.isDashboardOpened&&(p.gsdbhome.isOnTheFlyDashboard()||p.gsdbhome.isTemplateDashboard()||p.gsdbhome.isAutoGenerateDashboard()||p.gsdbhome.isImportedDashboard())?(p.openDashboardTabActions(),p.gsdbhome.isImportedDashboard()||p.gsdbhome.refreshDashboard()):p.openDashboard(e)},p.openSharedDashboard=function(){let e=p.gsdbUtils.setDashboardViewDetails(p.dbViewType.sharedDashboard),s=o.location.pathname;var t=s.split("/");let a="";1<t.length&&(a=t[3]),e.setSubDashboardType(a),p.handleDashboardOpenAction(),p.loadCardsandDashboardFile(function(){p.gsdbhome.getDashboardIdAndRenderView(p.dbViewType.sharedDashboard,e,!1)})},p.handleDashboardOpenAction=function(){var e;p.isDashboardOpened||(p.network.removeEventSource(),p.network.abortOngoingCalls(),p.clearPrevSearchAction(),p.hideSearchPageLoader(),p.hideCardsPage(),p.disablingSSIcon(),p.Utils.hideSettingsPage(),p.handleOpeningOfCardsAndDashboard("dashboard"),(e=u("#zgs20_gsDashboardhome")).html("").append(p.getFourDotLoader("zgs20_gsDashboardHomeLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsDashboardHomeLoader")),e.css("display","block"),p.isDashboardOpened=!0)},p.dashboardFileCallback=function(e){p.gsdbhome.renderDashboardPage(e.viewName,e.viewDetails)},p.waitForPropertyToBeDefined=function(t){return new Promise((e,s)=>{void 0!==p[t]?e():setTimeout(()=>{s(new Error("Timeout"))},800)})},p.openDashboard=async function(e,s){try{var t,a;void 0===p.isDashboardEnabled&&(u("#zgs20_gsDashboardhome").html("").append(p.getFourDotLoader("zgs20_gsDashboardHomeLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsDashboardHomeLoader")),u("#zgs20_gsResultsHolder").css("display","none"),u("#zgs20_gsDashboardhome").css("display","block"),await p.waitForPropertyToBeDefined("isDashboardEnabled")),p.isDashboardEnabled?p.isDashboardOpened&&"userInsights"!==p.selectedLeftPanelDivision?e&&(p.gsdbhome.isOnTheFlyDashboard()&&(p.gsdbhome.closeActionForOnTheFlyDashboard(),p.isDashboardOnlyViewOpened()&&p.toggleSidePanelAndTopBandForOnTheFlyDashboard(!1)),p.gsdbhome.getDashboardIdAndRenderView(e,s)):(t=p.getFourDotLoader("zgs20_gsDashboardHomeLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsDashboardHomeLoader"),u("#zgs20_gsDashboardhome").html("").append(t),p.openDashboardTabActions(),a={viewName:e,viewDetails:s},p.loadCardsandDashboardFile(function(){p.dashboardFileCallback(a)})):p.clickActionForServiceList(l.ALL)}catch(e){u("#zgs20_gsDashboardhome").html("").append(u("<div>",{class:"zgs19_gsNoResults zgs19_gsCrdErrMsg"}).text(p.getI18NMsg("gs.error.something_went_wrong")))}},p.openDashboardTabActions=function(){p.network.abortOngoingCalls(),p.handleOpeningOfCardsAndDashboard("dashboard"),p.dashboard.Hash.Listen(),p.hideSearchPageLoader(),p.hideCardsPage(),p.hideUserInsightsTab(),p.disablingSSIcon(),p.gsusersettings.isSettingsOpened&&(u("#zgs20_gsSettingsPages").css("display","none"),p.gsusersettings.isSettingsOpened=!1),u("#zgs20_gsSettingsPages").css("display","none"),p.gsusersettings.selectedServiceBeforeSettings=p.searchType,p.changeBgcolorForLHS("dashboard"),p.hideWelcomePage(),p.hideHomeIcon(),u("#zgs20_gsDashboardhome").css("display","block"),p.isDashboardOpened=!0},p.hideDashboard=function(){p.isDashboardOpened&&(u("#zgs20_gsDashboardhome").css("display","none"),p.isDashboardOpened=!1,p.hasOwnProperty("gsdbhome")&&(p.gsdbhome.isOnTheFlyDashboard()?p.gsdbUtils.onTheFlyMode=0:p.gsdbhome.currentlyOpenedDbId="",p.gscardinDb.maximisedCardId="",p.gscardinDb.isCardMaximised=!1,p.gscardinDb.clearIntervalForAutoRefresh(),p.gsdbhome.clearIntervalForAutoRefresh(),p.gscardinfo.isCardInfoPopupOpened&&p.gscardinfo.hideCardPageInfoBox()))},p.clickActionForSettings=function(e,s){var t;p.hasOwnProperty("gsusersettings")&&!p.gsusersettings.isSettingsOpened&&("COMPLETE"!=p.statusOfWidgetFetchData?(u("#zgs20_gsInAppSettingsPageLoader","#zgs20_gsHideScrollPage").length?u("#zgs20_gsInAppSettingsPageLoader").css("visibility","visible"):(p.hideQuickActionsPage(),u("#zgs20_gsWelcomePage").css("display","none"),t=p.getFourDotLoader("zgs20_gsInAppSettingsPageLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader24 zgs19_gsInAppSettingsPageLoader"),u("#zgs20_gsHideScrollPage").append(t)),setTimeout(function(){u("#zgs20_gsInAppSettingsPageLoader").css("visibility","hidden"),p.clickActionForSettings(e)},500)):(p.actionsBeforeOpeningSettingsTab(),p.loadSettingsFiles(e,s)))},p.openIntegrationTabInZiaSearch=function(){u("#zgs20_cloudConnectorIntegrationsIcon").length||(p.needToInitCloudAppsInZiaSearch=!0,p.addCloudIntegIconToLHSInZ1(!1)),p.showZiaSearch({},p.openCloudConnectorsTabInZohoOneZiaSearch)},p.initCloudAppsInZiaSearch=function(){p.gscomponent.zsoid=p.cloud_app_id,p.isZOSConfUpdated=!1,p.getServicesListInCommon(),p.statusOfWidgetFetchData="",p.getWidgetDetailsInCommon(),p.checkAndRenderServiceList(),p.needToInitCloudAppsInZiaSearch=!1},p.openCloudConnectorsTabInZohoOneZiaSearch=function(){if(u("#zgs20_cloudConnectorIntegrationsIcon").addClass("zgs19_gsSelectedServicepanel"),p.setSearchType(""),p.emptySearchBoxValues(),p.handleSearchCloseIcon(),p.integIconSelected=!0,u("#zgs20_gsCloudAccView .zgs19_gsCloudAppBack").click(),p.openingEachTab("integrations"),p.addLoader("zgs20_cloudIntegration","zgs20_gsIntegPageLoader"),p.integrationHandlerFileLoaded&&p.integrationFilesLoaded||p.isStateRefreshRequired)p.gscomponent.isNewUI&&p.gscomponent.canEnableZiaIntegration&&!p.GSConstant.widgetObject.isCloudEnabledForZ1?p.askToOpenIntegPageInSetupView():(p.integHandler.initIntegPage(p.gsbuildDetails),p.gsCloud.showIntegrationsView(),p.gsCloud.removeLoader());else{let e={integUrl:"/zgssearch/exconnector/integ",parentFrame:"zohoone"};p.isCloudConnectorsEmbeddedAsComponent=!0,e.embeddedInService="zohoone",p.gscomponent.isNewUI?p.uiTypeOfEmbeddedInService="NEW":p.uiTypeOfEmbeddedInService="OLD",e.isAdminPage=!1,e.cloud_app_id=-1,e.integZsoId=-1,e.integGadgetsURL=p.GSConstant.integGadgetsURL,e.getbdDataObtained=!1,p.gscomponent.canEnableZiaIntegration&&(e.isAdminUser=!0),p.gscomponent.zsoid&&(e.cloud_app_id=p.gscomponent.zsoid),p.gscomponent.zohoOrgID&&(e.integZsoId=p.gscomponent.zohoOrgID),p.loadIntegFile(function(){u("#zgs20_cloudIntegration").removeClass("zgs19_gsDisplayNoneImp"),p.integHandler.initIntegPage(e)})}},p.clickActionForIntegrations=function(e,s){let t;if(e&&("admin"!=s&&(s="user"),""!=p.integAdminPageURLToOpen&&(t=p.integAdminPageURLToOpen,p.integAdminPageURLToOpen="")),t||p.isIntegViewPage||"ZO"===p.gscomponent.pcode||(t=o.location.protocol+"//"+p.GSConstant.searchdomainURL+"/cloudconnector/v1/user?zsappid="+p.GSConstant.integ_icon_cloud_app_id),!e||!t)return"ZO"!==p.gscomponent.pcode||-1!=p.gscomponent.zsoid&&p.GSConstant.widgetObject.isCloudEnabledForZ1||p.gscomponent.isNewUI?void("ZO"!==p.gscomponent.pcode||-1!=p.gscomponent.zsoid&&p.GSConstant.widgetObject.isCloudEnabledForZ1||!p.gscomponent.isNewUI?p.openCloudConnectorsTabInZohoOneZiaSearch():p.askToOpenIntegPageInSetupView()):(p.integAdminPageURLToOpen=o.location.protocol+"//"+p.GSConstant.searchdomainURL+"/cloudconnector/v1/admin?zsoid="+p.gscomponent.zohoOrgID+"&service=zohoone&zsappid="+p.gscomponent.zsoid,void p.clickActionForIntegrations(!0,"admin"));p.openInNewTab(t)},p.invokeIntegAction=function(e){switch(e.action){case"setIntegEnabledAndAppIdInZ1":var s=e.dataObject;p.GSConstant.widgetObject.isCloudEnabledForZ1=!0,p.gscomponent.zsoid=s.cloud_App_id;break;case"setIntegDisabledInZ1":p.GSConstant.widgetObject.isCloudEnabledForZ1=!1}},p.askToOpenIntegPageInNewTab=function(){p.popupUtils.openConfirmationPopup({header:p.I18N.getValue("integ.enable_integrations_popup_title"),popupMsg:p.I18N.getValue("integ.integNotEnabledMessage"),gsattr:"openIntegAdminPageInNewTab",leftBtnTxt:p.I18N.getValue("common.cancel"),leftBtnAction:"closeIntegMsgPopUp",leftBtnClass:"zgs19_gsConfirmSubtleAction",rightBtnTxt:p.I18N.getValue("integ.openAdminSettings"),rightBtnAction:"openIntegAdminPageInNewTab",rightBtnClass:"zgs19_gsConfirmMainAction zgs19_gsConfirmBg zgs19_openAdminPage",closeAction:"closeIntegMsgPopUp"}),u(".zgs19_openAdminPage").append(u("<div>",{class:"zgs19_openAdminPageInNewTab zgs18_openAdminPageButton"}))},p.askToOpenIntegPageInSetupView=function(){p.popupUtils.openConfirmationPopup({header:p.I18N.getValue("integ.enable_integrations_popup_title"),popupMsg:p.I18N.getValue("integ.integNotEnabledMessage"),gsattr:"openIntegAdminPageInNewTab",leftBtnTxt:p.I18N.getValue("common.cancel"),leftBtnAction:"closeIntegMsgPopUp",leftBtnClass:"zgs19_gsConfirmSubtleAction",rightBtnTxt:p.I18N.getValue("integ.openAdminSettings"),rightBtnAction:"openIntegAdminPageInSetUpView",rightBtnClass:"zgs19_gsConfirmMainAction zgs19_gsConfirmBg zgs19_openAdminPage",closeAction:"closeIntegMsgPopUp"})},p.openZohoOneAdminSettings=function(){p.gscomponent.hasOwnProperty("openZiaSetup")?(u("#zgs20_gsSearchBoxLeft").click(),p.gscomponent.openZiaSetup()):p.showbannertip({ty:3,msg:p.I18N.getValue("integ.actionError")})},p.openActionForIntegrations=function(){p.hideOtherTabs(),u("#zgs20_gsResultsHolder").css("display","none"),u("#"+p.gsCloud.par).css("display","block")},p.hideOtherTabs=function(){p.changeBgcolorForLHS(),p.hideQuickActionsPage(),p.hideAskZiaTab(),p.hideDashboard(),p.hideCardsPage(),p.hideUserInsightsTab(),p.network.abortOngoingCalls(),p.hideSearchPageLoader(),u("#zgs20_gsHideScrollPage").css("display","none"),p.isDashboardEnabled&&(p.resetAllSelectedTabCategory(),u("#zgs20_gsLeftBand2").addClass("zgs19_gsDisplayNone"),p.setStatusClsForLeftDivision(),p.resizeForLeftPanelchanges()),p.setSearchBoxPlaceHolder()},p.actionsBeforeOpeningSettingsTab=function(){p.hideOtherTabs(),p.setHighlightForLeftDivisonPanel("settings"),p.hideIntegrationsPage();var e=[],e=void 0!==p.gsusersettings.servicesArrayList&&0<p.gsusersettings.servicesArrayList.length?p.gsusersettings.servicesArrayList:p.getAllServiceListFromWidget();p.gsusersettings.storeServicesListInfo(e),p.disablingSSIcon()},p.loadSettingsFiles=function(e,s){p.settingsFileLoaded?(p.openingEachTab(e),s&&s()):p.network.loadSRIJSFile("js/settings.js",function(){p.settingsFileLoaded=!0,p.openingEachTab(e),s&&s()})},p.openingEachTab=function(e){p.gsusersettings.selectedServiceBeforeSettings=p.searchType,"settings"===e&&(p.gshistory.pushStateOfAView({id:"settings",title:"Settings Page",url:"/settings"}),p.openActionForSettings(e)),"integrations"===e&&(p.gshistory.pushStateOfAView({id:"integrations",title:"Integrations Page",url:"/integrations"}),p.openActionForIntegrations())},p.openActionForSettings=function(e){p.beforeSettingsOpen(e),p.gsusersettings.openSettingsPage(e),p.hasOwnProperty("gsanalytics")&&p.gsanalytics.sendStatsForServicesPane("settings")},p.beforeSettingsOpen=function(e){p.selectedLeftPanelDivision=e,p.gsusersettings.isSettingsOpened=!0,p.isDashboardEnabled?u(".zgs18_gsSettingsIconTop").removeClass("zgs19_gsLeftPanelTabUnselected").addClass("zgs19_gsLeftPanelTabSelected zgs19_gsSelectedServiceListBG"):u(".zgs18_gsSettingsIconTop").addClass("zgs19_gsSettingsIconTopSelected"),p.setSearchBoxPlaceHolder()},p.beforeOpenIntegPage=function(){p.hideAskZiaTab(),p.hideDashboard(),p.hideCardsPage(),u("#zgs20_gsResultsHolder").css("display","none"),0==u(".zgs19_gsIntegIconSelected").length&&u("#zgs20_gsIntegrationsTab").addClass("zgs19_gsIntegIconSelected"),p.setHighlightForLeftDivisonPanel()},p.closeActionForSettings=function(){var e,s;p.hideServiceOrderOverlay(),p.gsusersettings.isSettingsOpened&&(u("#zgs20_gsSettingsPage").remove(),u("#zgs20_gsSettingsPages").css("display","none"),p.isDashboardEnabled?u(".zgs18_gsSettingsIconTop").removeClass("zgs19_gsLeftPanelTabSelected zgs19_gsSelectedServiceListBG").addClass("zgs19_gsLeftPanelTabUnselected"):u(".zgs18_gsSettingsIconTop").removeClass("zgs19_gsSettingsIconTopSelected"),s=u("#zgs20_gsSettingsHolder").children("#zgs20_gsServicePanelListsettings"),u(s).addClass("zgs19_gsUnServiceLeftPanel").removeClass("zgs19_gsSelectedServicepanel"),p.gsusersettings.isSettingsOpened=!1,p.isAsanaWorkspacesAuthentication=!1,e=p.searchObj.service,(s=p.getPrevStateforTabChanges())&&p.isDashboardEnabled&&(p.setHighlightForLeftDivisonPanel(s),p.setStatusClsForLeftDivision()),p.isDashboardEnabled&&(p.includes("/dashboards",o.location.pathname)||"dashboard"==s)?p.clickActionForDashboards():p.isDashboardEnabled&&p.includes("/cards",o.location.pathname)||"cards"==s?p.clickActionForCards():(""===e||e===l.ALL||p.isArrayContain(e,p.gssettingsapptab.enabledServicesList)?p.isArrayContain(e,p.gssettingsapptab.enabledServicesList)?p.updateSearchType(e):p.updateSearchType(l.ALL):(e=l.ALL,p.clickActionForServiceList(e)),"askZia"===s&&p.GSConstant.isAskZiaTabEnabled&&p.handleListOfEnabledServicesForAskZia(),u(".zgs19_gsServiceOrderDialog").hide(),u(".zgs19_gsServiceAccOrderDialog").hide(),p.isShowQuickActionsPage&&p.isDashboardEnabled?p.renderHomePageQuickActions():(u("#zgs20_gsSearchResultMiddle").show(),u("#zgs20_gsSearchResultRight").show(),(s=p.gshistory.getCurrentState())&&"search_home"==s.id&&p.openHomePage())))},p.hideServiceOrderOverlay=function(){u(".zgs19_gsServiceOrderDialog").remove(),u(".zgs19_gsServiceOrderOverlay").remove()},p.hideManageAppPopUp=function(){p.isManageAppPopUpOpened=!1,u("#zgs20_manageApps").css("display","none")},p.loadSettingsUIJqueryFile=function(){p.isSettingsUIJqueryFileLoaded||(void 0!==u&&u.fn.hasOwnProperty("sortable")&&u.fn.hasOwnProperty("resizable")&&u.fn.hasOwnProperty("effect")&&u.fn.hasOwnProperty("draggable")?p.loadSortableJQueryComponent():p.network.loadSRIJSFile("js/jquery-ui.min.js",p.loadSortableJQueryComponent))},p.loadSortableJQueryComponent=function(){p.isSettingsUIJqueryFileLoaded=!0,o._jQueryGSUI=o._jQueryGS},p.clickActionForCards=function(){p.openCards("allCards")},p.openCards=async function(e,s){try{var t;void 0===p.isDashboardEnabled&&(u("#zgs20_gsCardsPage").html("").append(p.getFourDotLoader("zgs20_gsDashboardHomeLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsDashboardHomeLoader")),u("#zgs20_gsResultsHolder").css("display","none"),u("#zgs20_gsCardsPage").css("display","block"),await p.waitForPropertyToBeDefined("isDashboardEnabled")),p.isDashboardEnabled?(t={pageView:e,target:s},p.isCardPageOpened?e&&p.cardsFileCallBack(t):(u("#zgs20_gsCardsPage").html("").append(p.getFourDotLoader("zgs20_gsDashboardHomeLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsDashboardHomeLoader")),p.openCardsTabAction(),p.cardHash.pageView=e,p.loadCardsandDashboardFile(function(){p.cardsFileCallBack(t)}))):p.clickActionForServiceList(l.ALL)}catch(e){u("#zgs20_gsCardsPage").html("").append(u("<div>",{class:"zgs19_gsNoResults zgs19_gsCrdErrMsg"}).text(p.getI18NMsg("gs.error.something_went_wrong")))}},p.openCardsTabAction=function(){p.hideOtherTabs(),p.gsusersettings.selectedServiceBeforeSettings=p.searchType,p.disablingSSIcon(),p.hideUserInsightsTab(),p.hasOwnProperty("gsusersettings")&&p.gsusersettings.isSettingsOpened&&(u("#zgs20_gsSettingsPages").css("display","none"),p.gsusersettings.isSettingsOpened=!1),p.handleOpeningOfCardsAndDashboard("cards"),p.showCardsPage()},p.showCardsPage=function(){p.hideHomeIcon(),p.isCardPageOpened=!0,u("#zgs20_gsCardsPage").css("display","block"),u("#zgs20_gsSettingsPages").css("display","none")},p.showDashboardPage=function(){p.hideHomeIcon(),p.isDashboardOpened=!0,u("#zgs20_gsDashboardhome").css("display","block"),u("#zgs20_gsSettingsPages").css("display","none")},p.cardsFileCallBack=function(e){e&&!u.isEmptyObject(e.pageView)&&"createCard"!=e.pageView&&(p.includes("/cards",o.location.pathname)||p.gshistory.pushCardsState("/cards","#"+p.cardHash.home)),p.cardHash.Listen(),p.gscards.openCardsPage(e.pageView,e.target)},p.loadCardsandDashboardFile=function(e){p.isCardsandDBFilesloaded?e():p.network.loadSRIJSFile("js/dashboard.js",function(){p.isCardsandDBFilesloaded=!0,e()})},p.closeActionForCards=function(){var e;p.isCardPageOpened&&(p.isCardPageOpened=!1,p.gsusersettings.changeUrlBeforeSettingsClose(),p.hideCardsPage(),p.isDashboardEnabled&&p.includes("/dashboards",o.location.pathname)?p.clickActionForDashboards():p.includes("/settings",o.location.pathname)?p.clickActionForSettings("settings"):(e=p.gsusersettings.selectedServiceBeforeSettings,p.updateSearchType(e),u("#zgs20_gsResultsHolder").css("display","block"),u("#zgs20_gsSearchResultMiddle").css("display","block"),u("#zgs20_gsSearchResultRight").css("display","block")))},p.hideCardsPage=function(){p.isCardPageOpened=!1,u("#zgs20_gsCardsPage").css("display","none"),p.hasOwnProperty("gscards")&&(p.gscreatecards.isCreateCardPageOpened=!1,p.hasEditCard=!1,u("#zgs20_gsCreateCardPage").remove(),u("#zgs20_gsCreateNewBtn").removeClass("zgs19_gsHideEleme"),u("#zgs20_gsQueryBoxHolder,.zgs19_searchbtnOuter").removeClass("zgs19_gsHideEleme"),p.gscardinfo.isCardInfoPopupOpened&&p.gscardinfo.hideCardPageInfoBox())},p.hideAskZiaTab=function(){p.GSConstant.isAskZiaTabEnabled&&"askZia"===p.selectedLeftPanelDivision&&(p.setService(p.getSearchType()),u("#zgs20_gsServListHolder").children().css("display","block"),u("#zgs20_gsReorderBtm").css("display","flex"),1===p.gscomponent.UIType&&u("#zgs20_gsAskZiaButton").addClass("zgs19_gsDisplayNone"),u("#zgs20_gsSearchBtnIcon").removeClass("zgs19_gsDisplayNone"),u("#zgs20_gsFilterIconHolder, #zgs20_gsSSIconHolder").css("display","block"),u("#zgs20_gsAskZiaPage").addClass("zgs19_gsDisplayNone"),p.hideHomeIcon(),p.setSearchBoxSegmentSize(),clearInterval(p.queryAnimationInterval),p.setSearchBoxPlaceHolder())},p.hideUserInsightsTab=function(){"userInsights"===p.selectedLeftPanelDivision&&(p.constructUserInsightsHomePage(),p.hideDashboard(),u("#zgs20_gsUserInsightsHeader").remove(),u("#zgs20_gsResultsHolder").css("display","none"))},p.hideIntegrationsPage=function(){u("#zgs20_cloudConnectorIntegrationsIcon").removeClass("zgs19_gsSelectedServicepanel"),u("#zgs20_cloudIntegration").addClass("zgs19_gsDisplayNoneImp"),p.isIntegViewPage=!1,p.gsCloud.currentSelectedTab=""},p.disablingSSIcon=function(){p.isDashboardEnabled&&u("#zgs20_gsSSIcon").removeClass("zgs19_gsCSTS").addClass("zgs19_gsSTS zgs19_gsHideEleme")},p.enablingSSIcon=function(){p.isDashboardEnabled&&0<p.total_no_of_results&&u("#zgs20_gsSSIcon").removeClass("zgs19_gsSTS zgs19_gsHideEleme").addClass("zgs19_gsCSTS")},p.updateCurrentPage=function(e){p.isSearchViewTabOpened()&&(p.showHomeIcon(),p.isServiceHasFilter(e)?(p.displayResultPage(),p.displayModuleResultPage()):p.displayDefaultPage(!1),u("#zgs20_gsSearchResultMiddle").find(".zgs19_gsBackToTop").css("display","none"),"askZia"===p.selectedLeftPanelDivision&&p.renderAskZiaHomePage())},p.appendMobSupportInWelPage=function(){var e,s,t,a,r,o,i=p.detectBrowser();p.isZohoDomain()&&4!==n.UIType&&(1!==n.UIType&&u("#zgs20_gsWelcomePageTitle").removeClass("zgs19_gsWelcomeTitleNew").addClass("zgs19_gsSmallerWelcomeTitleNew"),0==u(".zgs19_gsWCPScanner").length&&(s=1===n.UIType?"zgs19_gsWPMobSupport":"zgs19_gsSWPMobSupport",u(".zgs19_gsWPSupportOuter").remove(),t=-1<p.GSConstant.INSTALLATION.indexOf("Zoho-CN")?"zgs19_gsResultsUniIcons zgs19_gsSCNAndroidSupLink":"zgs19_gsSAndroidSupLink",e=u("<div>",{class:"zgs19_gsWPSupportInner"}),a=u("<div>",{class:s}),r=u("<div>",{class:"zgs19_gsWPSupportOuter"}).append(u("<div>",{class:"zgs19_gsUDMobSupTit"}).text(p.getI18NMsg("gs.search.userdetails.welcomepage.appssupport"))).append(a.append(e)),o=jQuery("<a>",{rel:"noopener noreferrer",class:"zgs19_gsfl zgs19_gsSiOSSupLink",href:p.GSConstant.IOS_LINK,target:"_blank"}),e.append(o),s=p.detectBrowser(),!p.isExtension||p.isExtension&&"Safari"!=s?e.append(u("<a>",{rel:"noopener noreferrer",class:"zgs19_gsfl "+t,href:p.GSConstant.ANDROID_LINK,target:"_blank"})):o.addClass("zgs19_gsSiOSSupLinkExtn"),a.append(u("<div>",{class:"zgs19_gsWCPScanner zgs19_gsfl"})),u("#zgs20_gsWelcomeHeaderScroll").append(r))),p.isExtension||!p.isZohoDomain()||"Chrome"!==i&&"Safari"!==i&&"Edge"!==i&&"Firefox"!==i||(u(".zgs19_gsWPSupportOuter").remove(),t=p.getI18NMsg("gs.search.extension.welcomepage_header_"+i.toLowerCase()),o=p.getI18NMsg("gs.search.extension.welcomepage_tagline"),a="zgs19_gsExtensionWelPageIcon"+i.toLowerCase(),r=p.getI18NMsg("gs.search.service.feature_new"),o=u("<span>",{gstitle:o}).text(o),o=u("<div>",{class:"zgs19_gsWPSupportOuter zgs19_gsWPExtensionOuter zgs19_gsWPHoverEffect",browserType:i,gs:"extensionSearch"}).append(u("<div>",{class:"zgs19_gsConnectorWelPageHeader"}).append(u("<div>",{class:a})).append(u("<div>",{class:"zgs19_gsConnectorWelPageHeaderTxt zgs19_gsOverflow",gstitle:t,browserType:i,gs:"extensionSearch"}).text(t)).append(u("<div>",{class:"zgs19_gsConnectorWelPageNewTxt"}).text(r))).append(u("<div>",{class:"zgs19_gsOverflowWrap zgs19_gsWelcomelich2New zgs19_gsExtensionWelcomelich2New zgs19_gsfl zgs19_gsTextAlignCenter"}).append(o)),u("#zgs20_gsWelcomeHeaderScroll").append(o))},p.createOverlayButton=function(){var e,s,t,a,r=u("#zgs20_globalsearch");p.gscomponent.SMALL_UI_PROFILE_ENABLED&&"block"===r.css("display")&&0===u("#zgs20_gsOverlayButtons").length&&(e=p.getI18NMsg("gs.search.close"),s=p.getI18NMsg("gs.search.profile"),a=p.getI18NMsg("gs.search.service_welcome_go_to")+p.getI18NMsg("gs.search.service_welcome_page"),t=u("#zgs20_gsHolder"),r=u("<div>",{id:"zgs20_gsUserDetails",class:"zgs19_userDetailsPopup zgs19_gsDisplayNone zgs19_zmHactivePopup",gs:"userData"}),t="calc( 50% + "+(parseInt(t.css("width"))/2+20)+"px)",o.addEventListener("resize",p.extResize,!1),a=u("<div>",{id:"zgs20_gsOverlayButtons",css:{"margin-inline-start":t}}).append(u("<div>",{class:"zgs19_gsCloseHolder zgs19_gsButtonHolder",title:e,gs:"gsClose"}).append(u("<div>",{id:"zgs20_closeIcon",class:"zgs18_gsClose",gs:"gsClose"}))).append(u("<div>",{class:"zgs19_gsProfileHolder zgs19_gsButtonHolder",title:s,gs:"gsOpenProfile"}).append(u("<div>",{id:"zgs20_openProfile",class:"zgs18_gsProfile",gs:"gsOpenProfile"}))).append(u("<div>",{class:"zgs19_gsOpenPageHolder zgs19_gsButtonHolder",title:a,gs:"gsOpenInNewTab"}).append(u("<div>",{id:"zgs20_openInNewTab",class:"zgs18_gsOpenPage",gs:"gsOpenInNewTab"}))),u("#zgs20_globalsearch").append(a).append(r),p.extResize())},p.appendGoToInWelPage=function(){var e;0!==n.UIType&&2!==n.UIType||void 0===l.searchdomainURL||0!=u(".zgs19_gsWPDomainSupportOuter").length||(e=u("<div>",{class:"zgs19_gsWPDomainSupportOuter"}).append(u("<span>").text(p.getI18NMsg("gs.search.service_welcome_go_to")+" ").append(u("<a>",{rel:"noopener noreferrer",class:"zgs19_gsDomainLink",href:p.httptxt+"://"+l.searchdomainURL,target:"_blank"}).text(l.searchdomainURL))),u("#zgs20_gsWelcomeHeaderScroll").append(e))},u.fn.exists=function(){return 0<u(this).length},p.isWPMobViewPort=function(){if("ZW"===n.pcode&&n.isWPSmartViewEnabled||p.isWPSmartViewEnabledinZia){var e=u("#zgs20_globalsearch").is(":visible")?u("#zgs20_globalsearch").width():0;return 0!=e&&e<=768}return!1},p.focusForWeb=function(e){u("#"+e)[0]&&(p.isMobileBrowser()?p.getTargetElem(e).blur():p.hasOwnProperty("gsfeatureComponent")&&p.gsfeatureComponent.isFeatureComponentOpened||p.focus(e))},p.isSearchBoxEnabled=function(){return!u(".zgs19_searchBoxFocusedChild").hasClass("zgs19_gsHideEleme")&&"block"!==u(".zgs19_gsOverlayDialog").css("display")},p.isMobileBrowser=function(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(p.userAgent)},p.isIOS=function(){return p.userAgent.match(/ipad|iphone/i)},p.setConstAllServList=function(e){p.allServiceList=e},p.getAllServiceList=function(){return p.allServiceList||[]},p.setConstAllServList=function(e){p.GSConstant.allserviceslist=e},p.getConstAllServList=function(){return p.GSConstant.allserviceslist||[]},p.setEnabledServiceList=function(e){p.GSConstant.enabledserviceslist=e},p.getEnabledServiceList=function(){return p.GSConstant.enabledserviceslist||[]},p.getNLPEnabledApps=function(){return p.GSConstant.nlp_enabled_apps||[]},p.setAccessibleServiceList=function(e){if(p.GSConstant.accessibleServices=e,p.gscomponent&&"ZO"==p.gscomponent.pcode)for(var s=0;s<p.zosCloudUserConfig.length;s++)p.zosCloudUserConfig[s]&&p.GSConstant.accessibleServices.push(p.zosCloudUserConfig[s].app_name)},p.getAccessibleServiceList=function(){return p.GSConstant.accessibleServices||[]},p.openHomePage=function(){p.hasOwnProperty("isWPRenderNeeded")&&p.isWPRNeeded?(p.loadWelcomePage=!1,p.renderLandingPage(),u("#zgs20_gsHomeIcon").hide()):(p.isDashboardEnabled?(u("#zgs20_gsQuickActionsPage").remove(),p.isShowQuickActionsPage=!0,p.leftDivisionNavigation("search")):p.showWelcomePage(),u("#zgs20_gsHomeIcon").hide(),p.displayDefaultPage(!1))},p.createUserInsightsLeftPanel=function(){0===u("#zgs20_gsLeftPanelUserInsights").length&&(u("#zgs20_gsLeftDivisionPanel").append(u("<div/>",{id:"zgs20_gsLeftPanelUserInsights",class:"zgs19_gsLeftPanelTab zgs19_gsLeftPanelTabUnselected zgs19_gsCurPointer",action:"userInsights",gs:"leftPanelMenu"}).append(u("<span/>",{class:"zgs19_gsLeftBandIcons zgs19_gsUniIcons zgs18_gsUserInsightsTabIcon zgs19_gsDashboardIcon"})).append(u("<span/>",{class:"zgs19_gsLeftPanelTabText zgs19_gsOverflow",isparenttip:"true"}).text("User Insights"))),0===n.UIType&&u("#zgs20_gsLeftPanelUserInsights .zgs19_gsLeftPanelTabText").addClass("zgs19_gsDisplayNone"))}}(zgssearch,window),function(L,e){var R=(L=e.zgssearch||{}).getGSConstantObj()||{},x=L.GSClientConstants||{};L.getFilterRelatedDetails=function(e,s){var t={};switch(e){case R.PEOPLE:case R.CLIQ:case R.CRM:case R.BIGIN:case R.BOOKS:case R.INVOICE:case R.INVENTORY:case R.CAMPAIGNS:case R.ORGRESOURCES:t={title:L.getI18NMsg("gs.search.multi.organization"),fdispName:L.getI18NMsg("gs.search.filter.allorganizations")};break;case R.WORKDRIVE:var a,r=s.hasOwnProperty("edition")?s.edition:"";"TEAM"===r?(a=L.getI18NMsg("gs.search.filter.teams"),t={title:L.mappedServiceList[R.WORKDRIVE].dH=a,fdispName:L.getI18NMsg("gs.search.filter.allteams")}):"ENTERPRISE"===r&&(a=L.getI18NMsg("common.accounts"),t={title:L.mappedServiceList[R.WORKDRIVE].dH=a,fdispName:L.getI18NMsg("gs.search.filter.allaccounts")});break;case R.ORGCONTACTS:case R.PERSONALCONTACTS:case R.MAILS:case R.NOTEBOOK:case R.CALENDAR:case R.CREATOR:case R.WEBSITE:case R.GOOGLEDRIVE:case R.DROPBOX:case R.BOX:case R.ONEDRIVE:case R.O365MAIL:case R.SALESFORCE:case R.ASANA:case R.EVERNOTE:case R.GMAIL:case R.ZENDESK:t={title:L.getI18NMsg("common.accounts"),fdispName:L.getI18NMsg("gs.search.filter.allaccounts")};break;case R.CONNECT:t={title:L.getI18NMsg("common.networks"),fdispName:L.getI18NMsg("gs.search.filter.allnetworks")};break;case R.LEARN:t={title:L.getI18NMsg("common.hubs"),fdispName:L.getI18NMsg("gs.search.filter.allhubs")};break;case R.REPORTS:case R.SLACK:t={title:L.getI18NMsg("gs.search.filter.workspaces"),fdispName:L.getI18NMsg("gs.search.filter.allworkspaces")};break;case R.WIKI:t={title:L.getI18NMsg("gs.search.filter.wikis"),fdispName:L.getI18NMsg("gs.search.filter.allwikis")};break;case R.SUPPORT:case R.PROJECTS:case R.SALESIQ:t={title:L.getI18NMsg("gs.search.filter.portals"),fdispName:L.getI18NMsg("gs.search.filter.allportals")}}return t},L.loadWidgetList=function(e){var s={},t=[],a=L.serviceList;if(e.hasOwnProperty("servicesinfo")){L.setFullWidgetResponseData(e);for(var s=e.servicesinfo,r=(a=e.hasOwnProperty("allserviceslist")?e.allserviceslist:a).length,o=0;o<r;o++){var i=a[o],n=s.hasOwnProperty(i)?s[i]:{};n.hasOwnProperty("e")&&n.e&&t.push(i),L.setWidgetResponseData(i,n),L.formatWidgetData(i,n)}L.setEnabledServiceList(t)}},L.fetchWidgetData=function(e,s){var t=L.getMetaData,a="action=fetchwidgetdata&services_list="+e+"&sp="+!L.isArrayContain(e,L.multiModServices)+L.getExtraServiceSuiteURL(!1),e={};e.url=t,e.type="GET",e.dataType="text",e.data=a,e.success=function(e){s&&s(e)},L.network.uri(e)},L.formatWidgetData=function(e,s){var t=s.hasOwnProperty("all")?s.all:[],a=s.hasOwnProperty("aD")?s.aD:{},r=s.hasOwnProperty("s")?s.s:-1,o=s.hasOwnProperty("other_info")?s.other_info:{},i={};switch(e){case R.PEOPLE:i=L.setAccountsObjForService(e,t,a),L.setPeopleWidgetData(e,t,a,i);break;case R.PERSONALCONTACTS:case R.ORGCONTACTS:i=L.setAccountsObjForService(e,t,a),L.setAccountOnlyWidgetData(e,i);break;case R.MAILS:i=L.setAccountsObjForService(e,t,a),L.setMailWidgetData(e,t,a,i);break;case R.CLIQ:i=L.setAccountsObjForService(e,t,a),L.setCliqWidgetData(e,i,r);break;case R.CHAT:i=L.setAccountsObjForService(e,t,a),L.setChatWidgetData(e,i,r);break;case R.LEARN:i=L.setAccountsObjForService(e,t,a),L.setLearnWidgetData(e,t,a,i,r);break;case R.CONNECT:i=L.setAccountsObjForService(e,t,a),L.setConnectWidgetData(e,t,a,i,r);break;case R.WORKDRIVE:i=L.setAccountsObjForService(e,t,a,o),L.setNewWorkdriveWidgetData(e,t,a,i,r,o);break;case R.REPORTS:i=L.setAccountsObjForService(e,t,a),L.setReportsWidgetData(e,i);break;case R.WIKI:i=L.setAccountsObjForService(e,t,a),L.setWikiWidgetData(e,i,r);break;case R.NOTEBOOK:i=L.setAccountsObjForService(e,t,a),L.setNotebookWidgetData(e,i,r);break;case R.CALENDAR:i=L.setAccountsObjForService(e,t,a),L.setCalendarWidgetData(e,t,a,i,r);break;case R.SUPPORT:i=L.setAccountsObjForService(e,t,a),L.setDeskWidgetData(e,t,a,i,r);break;case R.CRM:i=L.setAccountsObjForService(e,t,a),L.setCrmWidgetData(e,t,a,i);break;case R.BIGIN:i=L.setAccountsObjForService(e,t,a),L.setBiginWidgetData(e,t,a,i);break;case R.BOOKS:case R.INVOICE:case R.INVENTORY:i=L.setAccountsObjForService(e,t,a),L.setBooksWidgetData(e,t,a,i);break;case R.CAMPAIGNS:i=L.setAccountsObjForService(e,t,a),L.setCampaignsWidgetData(e,t,a,i);break;case R.CREATOR:i=L.setAccountsObjForService(e,t,a),L.setCreatorWidgetData(e,i);break;case R.ORGRESOURCES:i=L.setAccountsObjForService(e,t,a),L.setOrgResourcesWidgetData(e,t,a,i);break;case R.WEBSITE:i=L.setAccountsObjForService(e,t,a),L.setWebsiteWidgetData(e,t,a,i);break;case R.GOOGLEDRIVE:i=L.setAccountsObjForService(e,t,a),L.setGDriveWidgetData(e,i);break;case R.DROPBOX:case R.BOX:case R.ONEDRIVE:i=L.setAccountsObjForService(e,t,a),L.setAccountOnlyWidgetData(e,i);break;case R.O365MAIL:i=L.setAccountsObjForService(e,t,a),L.setO365MailWidgetData(e,t,a,i);break;case R.SLACK:i=L.setAccountsObjForService(e,t,a),L.setAccountOnlyWidgetData(e,i);break;case R.SALESFORCE:i=L.setAccountsObjForService(e,t,a),L.setSalesForceWidgetData(e,t,a,i);break;case R.ASANA:i=L.setAccountsObjForService(e,t,a),L.setAsanaWidgetData(e,t,a,i,r);break;case R.EVERNOTE:i=L.setAccountsObjForService(e,t,a),L.setEvernoteWidgetData(e,t,a,i,r);break;case R.PROJECTS:i=L.setAccountsObjForService(e,t,a),L.setProjectsWidgetData(e,t,a,i,r);break;case R.GMAIL:i=L.setAccountsObjForService(e,t,a),L.setGmailWidgetData(e,t,a,i,r);break;case R.ZENDESK:i=L.setAccountsObjForService(e,t,a),L.setZendeskWidgetData(e,t,a,i,r);break;case R.SALESIQ:i=L.setAccountsObjForService(e,t,a),L.setSalesIQWidgetData(e,t,a,i)}},L.setAccountsObjForService=function(e,s,t,a){var r="",o="",i="",n={},l={},g={},c={},d=[],p={},u=s.length;if(0<u)for(var h=L.isArrayContain(e,L.getEnabledCloudApps()),_=0;_<u;_++){var m,z=s[_];t.hasOwnProperty(z)&&(m=(p=t[z]).hasOwnProperty("n")?p.n:"",m=L.replaceHTMLEntity(m),e===R.LEARN&&(L.learnSoidVsHubURL[z]=p.url),p.e&&(l[z]=m,d.push(z)),c[z]=m,p.d&&(o=z),h&&(L.servMetaData[e]=L.servMetaData[e]||{},L.servMetaData[e][z]=L.servMetaData[e][z]||{},L.servMetaData[e][z].parServId=p.hasOwnProperty("ps_id")?p.ps_id:"",L.servMetaData[e][z].appName=p.hasOwnProperty("apname")?p.apname:""))}else{var v=e===R.PERSONALCONTACTS?""+R.cuz:e===R.ORGCONTACTS?""+R.cuo:"";v&&(l[v]="",d.push(v),c[v]="")}i=c[r=d[0]||""],o=o||r,a=L.getFilterRelatedDetails(e,a);L.updateMultiPageServiceList(e,d.length)&&(i=a.fdispName,l[r="0"]=i,d.unshift(r));a=a.title;return L.setFiltersDetails(g,"title",a),-1<L.GSConstant.accessible_cloud_apps.indexOf(e)&&L.setFiltersDetails(g,"app_id",p.app_id),L.setFiltersDetails(g,"type","1"),L.setFiltersDetails(g,"mdefault",o),L.setFiltersDetails(g,"default",r),L.setFiltersDetails(g,"current",r),L.setFiltersDetails(g,"dispname",i),L.setFiltersDetails(g,"length",d.length),L.setFiltersDetails(g,"accIdArr",d),L.setFiltersDetails(g,"data",l),L.setFiltersDetails(g,"alldata",c),L.setFiltersDetails(g,"isDependentKey",!0),L.setFiltersDetails(g,"key","accounts_list"),L.setFiltersDetails(g,"data_type",L.QUERY_OBJ_DT_LONG),L.setFiltersDetails(g,"filterLevel",1),L.setFiltersDetails(n,"accounts",g),n},L.setAccountOnlyWidgetData=function(e,s){L.setFiltersDetails(s,"order",["accounts"]),L.setFilterObj(e,s)},L.setPeopleWidgetData=function(e,s,t,a){for(var r={},o={},i="",n="",l=s.length,g=0;g<l;g++){var c=s[g];if(t.hasOwnProperty(c)){var d,p={},u=t[c],h=u.hasOwnProperty("deptData")?u.deptData:{},_=0;for(d in h){var m=h[d];p[d]=m,0===_&&(i=d,n=m),_++}1<_&&(n=L.getI18NMsg("gs.search.filter.alldepartments"),p[i="0"]=n,_++),o[c]=p}}var z=L.getI18NMsg("gs.search.filter.departments");L.setFiltersDetails(r,"title",z),L.setFiltersDetails(r,"type","3"),L.setFiltersDetails(r,"default",i),L.setFiltersDetails(r,"current",i),L.setFiltersDetails(r,"dispname",n),L.setFiltersDetails(r,"length",_),L.setFiltersDetails(r,"mulSelectKey",!0),L.setFiltersDetails(r,"isDependentKey",!0),L.setFiltersDetails(r,"data",o),L.setFiltersDetails(r,"key","department"),L.setFiltersDetails(r,"data_type",L.QUERY_OBJ_DT_LONG),L.setFiltersDetails(r,"filterLevel",2),L.setFiltersDetails(a,"departments",r),L.setFiltersDetails(a,"order",["accounts","departments"]),L.setFilterObj(e,a)},L.setMailWidgetData=function(e,s,t,a){for(var r={},o={},i={},n={},l={},g="0",c=L.getI18NMsg("common.allmodules"),d=s.length,p=0;p<d;p++){var u=s[p],h=t[u],_=h.fArr||[];l[u]=L.formatMailFoldersDetails(_),_.length;_=h.accountType;n[u]=_;var m={},z={};try{var v=h.hasOwnProperty("moduleData")?h.moduleData:"",f=v.length,C=[],S=[];if("1"===_&&1<f){for(var b=0;b<f;b++){var y=v[b],I=y.id,O=y.e;S.push(I),O&&(m[I]=L.mailModuleVsDispName[I],C.push(I)),z[I]=L.mailModuleVsDispName[I],L.configured_mail_module.push(I)}1<C.length&&(m[0]=L.getI18NMsg("common.allmodules")),L.isStreamsEnabled=L.isArrayContain(R.STREAMS,S);var P={};P[u]=h;var w=L.setAccountsObjForService(R.STREAMS,[u],P);L.setFilterObj(R.STREAMS,w)}else I=L.GSConstant.MAILS,S.push(I),C.push(I),m[I]=L.mailModuleVsDispName[I],z[I]=L.mailModuleVsDispName[I];L.setFiltersDetails(a,"enabled_mod_list",C),L.setFiltersDetails(a,"allowed_mod_list",S)}catch(e){L.throwClientError("Error while obtaining Mail modules")}r[u]=m,o[u]=z}L.isArrayContain(R.MAILS,L.account_based_filter_service_list)||L.account_based_filter_service_list.push(R.MAILS),L.setFiltersDetails(a,"accountsMeta",n);var D=L.getI18NMsg("common.modules");L.setFiltersDetails(i,"title",D);D=a.accounts.mdefault;1!=d||L.isStreamsEnabled||(g=L.GSConstant.MAILS,c=L.mailModuleVsDispName[L.GSConstant.MAILS]),L.setFiltersDetails(i,"type","3"),L.setFiltersDetails(i,"default",g),L.setFiltersDetails(i,"current",g),L.setFiltersDetails(i,"dispname",c),L.setFiltersDetails(i,"length",Object.keys(r[D]).length),L.setFiltersDetails(i,"parKey","accounts"),L.setFiltersDetails(i,"hasChildFilter",!0),L.setFiltersDetails(i,"isDependentKey",!0),L.setFiltersDetails(i,"alldata",o),L.setFiltersDetails(i,"data",r),L.setFiltersDetails(i,"key","module"),L.setFiltersDetails(i,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(i,"filterLevel",2),L.setFiltersDetails(a,x.Common.modules,i);i={},D=L.getI18NMsg("gs.search.filter.folders");L.setFiltersDetails(i,"title",D),L.setFiltersDetails(i,"type","4"),L.setFiltersDetails(i,"default","0"),L.setFiltersDetails(i,"current","0"),L.setFiltersDetails(i,"headertitle",L.getI18NMsg("gs.search.filter.allfolders")),L.setFiltersDetails(i,"dispname",L.getI18NMsg("gs.search.filter.allfolders")),L.setFiltersDetails(i,"length",0),L.setFiltersDetails(i,"parKey",x.Common.modules),L.setFiltersDetails(i,"parId",[R.MAILS]),L.setFiltersDetails(i,"mulSelectKey",!0),L.setFiltersDetails(i,"isDependentKey",!0),L.setFiltersDetails(i,"data",l),L.setFiltersDetails(i,"key","folderId"),L.setFiltersDetails(i,"data_type",L.QUERY_OBJ_DT_LONG),L.setFiltersDetails(i,"filterLevel",3),L.setFiltersDetails(a,"folders",i),L.setMailOtherFiltersData(e,a)},L.setMailOtherFiltersData=function(e,s){var t,a={},a={0:L.getI18NMsg("gs.search.filter.alldays"),today:L.getI18NMsg("gs.search.filter.today"),yesterday:L.getI18NMsg("gs.search.filter.yesterday"),last7days:L.getI18NMsg("gs.search.filter.last7days"),thismonth:L.getI18NMsg("gs.search.filter.thismonth"),customdate:L.getI18NMsg("gs.search.filter.customdate"),customrange:L.getI18NMsg("gs.search.filter.customrange")};s=L.setDateTypeWidgetData(a,s),L.setFiltersDetails(s.date,"filterLevel",3),s.date.length=0,s.date.parId=["mails","streams"],s.date.parKey="modules",t={},a={};var r=L.getI18NMsg("gs.search.filter.withattach");a={false:"False",true:"True"},L.setFiltersDetails(t,"title",r),L.setFiltersDetails(t,"type","6"),L.setFiltersDetails(t,"default",!1),L.setFiltersDetails(t,"current",!1),L.setFiltersDetails(t,"length",0),L.setFiltersDetails(t,"parKey",x.Common.modules),L.setFiltersDetails(t,"parId",[R.MAILS]),L.setFiltersDetails(t,"data",a),L.setFiltersDetails(t,"key","hasAtt"),L.setFiltersDetails(t,"data_type",L.QUERY_OBJ_DT_BOOLEAN),L.setFiltersDetails(t,"filterLevel",3),L.setFiltersDetails(s,"attach",t),t={},a={};r=L.getI18NMsg("gs.search.filter.flagged");a={false:"False",true:"True"},L.setFiltersDetails(t,"title",r),L.setFiltersDetails(t,"type","6"),L.setFiltersDetails(t,"default",!1),L.setFiltersDetails(t,"current",!1),L.setFiltersDetails(t,"length",0),L.setFiltersDetails(t,"parKey",x.Common.modules),L.setFiltersDetails(t,"parId",[R.MAILS]),L.setFiltersDetails(t,"data",a),L.setFiltersDetails(t,"key","hasFlg"),L.setFiltersDetails(t,"data_type",L.QUERY_OBJ_DT_BOOLEAN),L.setFiltersDetails(t,"filterLevel",3),L.setFiltersDetails(s,"flag",t),t={},a={};r=L.getI18NMsg("gs.search.filter.withreplies");a={false:"False",true:"True"},L.setFiltersDetails(t,"title",r),L.setFiltersDetails(t,"type","6"),L.setFiltersDetails(t,"default",!1),L.setFiltersDetails(t,"current",!1),L.setFiltersDetails(t,"length",0),L.setFiltersDetails(t,"parKey",x.Common.modules),L.setFiltersDetails(t,"parId",[R.MAILS]),L.setFiltersDetails(t,"data",a),L.setFiltersDetails(t,"key","hasResp"),L.setFiltersDetails(t,"data_type",L.QUERY_OBJ_DT_BOOLEAN),L.setFiltersDetails(t,"filterLevel",3),L.setFiltersDetails(s,"replies",t),L.gFilterData.hasOwnProperty(R.STREAMS)&&(t={},ffodata={},ffodata={tome:L.getI18NMsg("gs.search.filter.allstreams"),allUnread:L.getI18NMsg("common.unread"),invited:L.getI18NMsg("gs.search.filter.invites"),mention:L.getI18NMsg("gs.search.filter.at_mentions"),label:L.getI18NMsg("gs.search.filter.favourites"),byme:L.getI18NMsg("gs.search.filter.streams_by_me")},a=L.getI18NMsg("gs.search.filter.view"),L.setFiltersDetails(t,"title",a),L.setFiltersDetails(t,"type","1"),L.setFiltersDetails(t,"key","view"),L.setFiltersDetails(t,"data",ffodata),L.setFiltersDetails(t,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(t,"length",0),L.setFiltersDetails(t,"parKey",x.Common.modules),L.setFiltersDetails(t,"parId",[R.STREAMS]),L.setFiltersDetails(t,"mdefault","tome"),L.setFiltersDetails(t,"default","tome"),L.setFiltersDetails(t,"current","tome"),L.setFiltersDetails(t,"dispname",L.getI18NMsg("gs.search.filter.allstreams")),L.setFiltersDetails(t,"filterLevel",3),L.setFiltersDetails(s,"view",t),t={},ffodata={},ffodata={"-1":L.getI18NMsg("gs.search.filter.allentities"),1:L.getI18NMsg("common.email"),2:L.getI18NMsg("gs.search.filter.notes"),3:L.getI18NMsg("gs.search.service_connect.task"),4:L.getI18NMsg("gs.search.filter.events"),6:L.getI18NMsg("common.message"),10:L.getI18NMsg("gs.search.filter.bookmarks")},a=L.getI18NMsg("gs.search.filter.entity_type"),L.setFiltersDetails(t,"title",a),L.setFiltersDetails(t,"type","1"),L.setFiltersDetails(t,"key","entity_type"),L.setFiltersDetails(t,"data",ffodata),L.setFiltersDetails(t,"data_type",L.QUERY_OBJ_DT_LONG),L.setFiltersDetails(t,"length",0),L.setFiltersDetails(t,"parKey",x.Common.modules),L.setFiltersDetails(t,"parId",[R.STREAMS]),L.setFiltersDetails(t,"default","-1"),L.setFiltersDetails(t,"current","-1"),L.setFiltersDetails(t,"dispname",L.getI18NMsg("gs.search.filter.allentities")),L.setFiltersDetails(t,"render_order",[-1,1,2,3,4,6,10]),L.setFiltersDetails(t,"isDependentKey",!0),L.setFiltersDetails(t,"filterLevel",3),L.setFiltersDetails(s,"entity_type",t)),L.isStreamsEnabled?L.setFiltersDetails(s,"order",["accounts",x.Common.modules,"view","entity_type","folders","date","attach","flag","replies"]):L.setFiltersDetails(s,"order",["accounts",x.Common.modules,"folders","date","attach","flag","replies"]),L.setFilterObj(e,s)},L.formatConnectModulesDetails=function(e){var s={};if(0<Object.keys(e).length){1<Object.keys(e).length&&(s[0]=L.getI18NMsg("common.allmodules"));var t,a={};for(t in e)a[t]=e[t];for(var r=["feeds","forums","tasks","townhall"],o=r.length,i=0;i<o;i++){var n=r[i];a.hasOwnProperty(n)&&(s[n]=a[n])}}return s},L.setConnectWidgetData=function(e,s,t,a,r){for(var o={},i={},n=0,l=s.length,g=0;g<l;g++){var c,d=s[g];t.hasOwnProperty(d)&&(c=(c=t[d].moduleData)?L.formatConnectModulesDetails(c):"",0<Object.keys(c).length&&(i[d]=c)),n+=Object.keys(c).length}L.setFiltersDetails(o,"title",L.getI18NMsg("common.modules")),L.setFiltersDetails(o,"type","3"),L.setFiltersDetails(o,"default","0"),L.setFiltersDetails(o,"current","0"),L.setFiltersDetails(o,"dispname",L.getI18NMsg("common.allmodules")),L.setFiltersDetails(o,"mulSelectKey",!0),L.setFiltersDetails(o,"length",n),L.setFiltersDetails(o,"parKey","accounts"),L.setFiltersDetails(o,"hasChildFilter",!0),L.setFiltersDetails(o,"isDependentKey",!0),L.setFiltersDetails(o,"alldata",i),L.setFiltersDetails(o,"data",i),L.setFiltersDetails(o,"key","module"),L.setFiltersDetails(o,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(o,"filterLevel",2),L.setFiltersDetails(a,x.Common.modules,o),i={},i={0:L.getI18NMsg("gs.search.filter.alldays"),today:L.getI18NMsg("gs.search.filter.today"),yesterday:L.getI18NMsg("gs.search.filter.yesterday"),last7days:L.getI18NMsg("gs.search.filter.last7days"),thismonth:L.getI18NMsg("gs.search.filter.thismonth"),customdate:L.getI18NMsg("gs.search.filter.customdate"),customrange:L.getI18NMsg("gs.search.filter.customrange")},L.setDateTypeWidgetData(i,a),L.setSortFilters(a,r),L.isArrayContain(R.CONNECT,L.account_based_filter_service_list)||L.account_based_filter_service_list.push(R.CONNECT),L.setFiltersDetails(a,"order",["accounts",x.Common.modules,"board","status","categories","group","date"]),L.setFilterObj(e,a)},L.setLearnWidgetData=function(e,s,t,a,r){var o={},i={0:L.getI18NMsg("gs.search.filter.alllocations"),allspaces:L.getI18NMsg("gs.search.filter.allspaces"),myspaces:L.getI18NMsg("gs.search.filter.myspaces"),allmanuals:L.getI18NMsg("gs.search.filter.allmanuals"),mymanuals:L.getI18NMsg("gs.search.filter.mymanuals"),sharedmanuals:L.getI18NMsg("gs.search.filter.sharedmanuals")},n=[{isrequired:!0},{0:L.getI18NMsg("gs.search.filter.spaces"),2:L.getI18NMsg("gs.search.filter.manuals")}],l=L.getI18NMsg("gs.search.filter.locations");L.setFiltersDetails(o,"title",l),L.setFiltersDetails(o,"type","4"),L.setFiltersDetails(o,"default","0"),L.setFiltersDetails(o,"current","0"),L.setFiltersDetails(o,"dispname",L.getI18NMsg("gs.search.filter.alllocations")),L.setFiltersDetails(o,"length",6),L.setFiltersDetails(o,"data",i),L.setFiltersDetails(o,"header",n),L.setFiltersDetails(o,"key",L.GSClientConstants.LEARN.filterby),L.setFiltersDetails(o,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(o,"isDependentKey",!0),L.setFiltersDetails(o,"filterLevel",2),L.setFiltersDetails(a,L.GSClientConstants.LEARN.filterby,o),o={};l=L.getI18NMsg("gs.search.filter.allspaces");L.setFiltersDetails(o,"title",l),L.setFiltersDetails(o,"type","4"),L.setFiltersDetails(o,"default","0"),L.setFiltersDetails(o,"current","0"),L.setFiltersDetails(o,"dispname",L.getI18NMsg("gs.search.filter.allspaces")),L.setFiltersDetails(o,"length",0),L.setFiltersDetails(o,"key",L.GSClientConstants.LEARN.spaces),L.setFiltersDetails(o,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(o,"isDependentKey",!0),L.setFiltersDetails(o,"filterLevel",3),L.setFiltersDetails(a,x.LEARN.spaces,o),o={};l=L.getI18NMsg("gs.search.filter.manuals_in_spaces");L.setFiltersDetails(o,"title",l),L.setFiltersDetails(o,"type","4"),L.setFiltersDetails(o,"default","0"),L.setFiltersDetails(o,"current","0"),L.setFiltersDetails(o,"dispname",L.getI18NMsg("gs.search.filter.manuals_in_spaces")),L.setFiltersDetails(o,"length",0),L.setFiltersDetails(o,"key",x.LEARN.spaces),L.setFiltersDetails(o,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(o,"isDependentKey",!0),L.setFiltersDetails(o,"filterLevel",3),L.setFiltersDetails(a,x.LEARN.manuals,o),i={0:L.getI18NMsg("gs.search.filter.alldays"),today:L.getI18NMsg("gs.search.filter.today"),yesterday:L.getI18NMsg("gs.search.filter.yesterday"),last7days:L.getI18NMsg("gs.search.filter.last7days"),thismonth:L.getI18NMsg("gs.search.filter.thismonth"),customdate:L.getI18NMsg("gs.search.filter.customdate"),customrange:L.getI18NMsg("gs.search.filter.customrange")},L.setDateTypeWidgetData(i,a),L.setSortFilters(a,r),L.isArrayContain(R.LEARN,L.account_based_filter_service_list)||L.account_based_filter_service_list.push(R.LEARN),L.setFiltersDetails(a,"order",["accounts",L.GSClientConstants.LEARN.filterby,x.LEARN.spaces,x.LEARN.manuals,"date"]),L.setFilterObj(e,a)},L.setCliqWidgetData=function(e,s,t){var a={},r={0:L.getI18NMsg("common.allmodules"),1:L.getI18NMsg("gs.search.filter.cliq.chat"),8:L.getI18NMsg("gs.search.filter.cliq.channel"),9:L.getI18NMsg("gs.search.filter.cliq.bot")},o=L.getI18NMsg("common.modules");L.setFiltersDetails(a,"title",o),L.setFiltersDetails(a,"type","1"),L.setFiltersDetails(a,"default","0"),L.setFiltersDetails(a,"current","0"),L.setFiltersDetails(a,"dispname",L.getI18NMsg("common.allmodules")),L.setFiltersDetails(a,"mulSelectKey",!0),L.setFiltersDetails(a,"length",4),L.setFiltersDetails(a,"isDependentKey",!0),L.setFiltersDetails(a,"data",r),L.setFiltersDetails(a,"key","module"),L.setFiltersDetails(a,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(a,"filterLevel",2),L.setFiltersDetails(s,x.Common.modules,a),r={0:L.getI18NMsg("gs.search.filter.alldays"),today:L.getI18NMsg("gs.search.filter.today"),yesterday:L.getI18NMsg("gs.search.filter.yesterday"),last7days:L.getI18NMsg("gs.search.filter.last7days"),thismonth:L.getI18NMsg("gs.search.filter.thismonth"),customdate:L.getI18NMsg("gs.search.filter.customdate"),customrange:L.getI18NMsg("gs.search.filter.customrange")},L.setDateTypeWidgetData(r,s),L.setSortFilters(s,t),L.setFiltersDetails(s,"order",["accounts",x.Common.modules,"date"]),L.setFilterObj(e,s)},L.setChatWidgetData=function(e,s,t){var a={0:L.getI18NMsg("gs.search.filter.alldays"),today:L.getI18NMsg("gs.search.filter.today"),yesterday:L.getI18NMsg("gs.search.filter.yesterday"),last7days:L.getI18NMsg("gs.search.filter.last7days"),thismonth:L.getI18NMsg("gs.search.filter.thismonth"),customdate:L.getI18NMsg("gs.search.filter.customdate"),customrange:L.getI18NMsg("gs.search.filter.customrange")},s=L.setDateTypeWidgetData(a,s);L.setSortFilters(s,t),L.setFiltersDetails(s,"order",["chattype","date"]),L.setFilterObj(e,s)},L.setNewWorkdriveWidgetData=function(e,s,t,a,r,o){o=o.hasOwnProperty("edition")?o.edition:"";o&&""!==o&&("TEAM"===(L.editionTypeForWD=o)?(a=L.formatWDTeamEditionDetails(s,t,a),L.setFiltersDetails(a,"order",["accounts","folders","filetype","date"])):"ENTERPRISE"===o&&(a=L.formatWDEnterpriseDetails(s,t,a),L.setFiltersDetails(a,"order",["accounts","teams","folders","filetype","date"])));t={all:L.getI18NMsg("gs.search.filter.alltypes"),folder:L.getI18NMsg("gs.search.filter.folders"),documents:L.getI18NMsg("gs.search.filter.writer"),spreadsheets:L.getI18NMsg("gs.search.filter.sheet"),presentations:L.getI18NMsg("gs.search.filter.show"),pdf:L.getI18NMsg("gs.search.filter.pdf"),images:L.getI18NMsg("gs.search.filter.image"),audio:L.getI18NMsg("gs.search.filter.music"),video:L.getI18NMsg("gs.search.filter.video")};a=L.setFileTypeWidgetData(t,a),t={0:L.getI18NMsg("gs.search.filter.alldays"),today:L.getI18NMsg("gs.search.filter.today"),yesterday:L.getI18NMsg("gs.search.filter.yesterday"),last7days:L.getI18NMsg("gs.search.filter.last7days"),thismonth:L.getI18NMsg("gs.search.filter.thismonth"),customdate:L.getI18NMsg("gs.search.filter.customdate"),customrange:L.getI18NMsg("gs.search.filter.customrange")},a=L.setDateTypeWidgetData(t,a),L.setSortFilters(a,r),L.setFilterObj(e,a)},L.setWorkdriveWidgetData=function(e,s,t,a){var r={},o=t[s[0]||""]||"",o=o.hasOwnProperty("moduleData")?o.moduleData:[];0<o.length&&((o=(o=o[0]).hasOwnProperty("edition")?o.edition:"")&&""!==o&&("TEAM"===(L.editionTypeForWD=o)?(r=L.formatWDTeamEditionDetails(s,t,r),L.setFiltersDetails(r,"order",["accounts","folders","filetype","date"])):"ENTERPRISE"===o&&(r=L.formatWDEnterpriseDetails(s,t,r),L.setFiltersDetails(r,"order",["accounts","teams","folders","filetype","date"]))));t={all:L.getI18NMsg("gs.search.filter.alltypes"),folder:L.getI18NMsg("gs.search.filter.folders"),documents:L.getI18NMsg("gs.search.filter.writer"),spreadsheets:L.getI18NMsg("gs.search.filter.sheet"),presentations:L.getI18NMsg("gs.search.filter.show"),pdf:L.getI18NMsg("gs.search.filter.pdf"),images:L.getI18NMsg("gs.search.filter.image"),audio:L.getI18NMsg("gs.search.filter.music"),video:L.getI18NMsg("gs.search.filter.video")},r=L.setFileTypeWidgetData(t,r),t={0:L.getI18NMsg("gs.search.filter.alldays"),today:L.getI18NMsg("gs.search.filter.today"),yesterday:L.getI18NMsg("gs.search.filter.yesterday"),last7days:L.getI18NMsg("gs.search.filter.last7days"),thismonth:L.getI18NMsg("gs.search.filter.thismonth"),customdate:L.getI18NMsg("gs.search.filter.customdate"),customrange:L.getI18NMsg("gs.search.filter.customrange")};r=L.setDateTypeWidgetData(t,r),L.setSortFilters(r,a),L.setFilterObj(e,r)},L.formatWDTeamEditionDetails=function(e,s,t){var a={},r=[],o=0,i=e.length;let n={};for(var l=0;l<i;l++){var g,c,d=e[l];r.push(d),n[d]=s[d].workdriveId,s.hasOwnProperty(d)&&(g=(c=s[d]).hasOwnProperty("teamfolders")?c.teamfolders:[],c=L.formatTeamFolderDetails(g),o+=g.length+3,a[d]=c)}var p={},u=[{isrequired:!0},{0:L.getI18NMsg("gs.search.filter.searchin"),2:L.getI18NMsg("gs.search.filter.teamfolders")}],h=L.getI18NMsg("gs.search.filter.locations");return L.setFiltersDetails(p,"title",h),L.setFiltersDetails(p,"type","4"),L.setFiltersDetails(p,"default","0"),L.setFiltersDetails(p,"current","0"),L.setFiltersDetails(p,"dispname",L.getI18NMsg("gs.search.filter.alllocations")),L.setFiltersDetails(p,"length",o),L.setFiltersDetails(p,"data",a),L.setFiltersDetails(p,"header",u),L.setFiltersDetails(p,"key","WD_folderId"),L.setFiltersDetails(p,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(p,"isDependentKey",!0),L.setFiltersDetails(p,"filterLevel",2),L.setFiltersDetails(t,"folders",p),L.setFiltersDetails(t.accounts,"other_info",n),t},L.formatTeamFolderDetails=function(e){var s={};s[0]={key:"0",name:L.getI18NMsg("gs.search.filter.alllocations")},s[1]={key:"1",name:L.getI18NMsg("gs.search.filter.myfolders")},s[2]={key:"2",name:L.getI18NMsg("common.shared_with_me")};for(var t=0;t<e.length;t++){var a=e[t]||"",r=a.id||"",a=a.n||"";s[t+3]={key:r,name:a}}return s},L.formatWDEnterpriseDetails=function(e,s,t){var a={},r={},o={},i=0,n=0,l=e.length;let g={};for(var c=0;c<l;c++){var d=e[c];if(g[d]=s[d].workdriveId,s.hasOwnProperty(d)){var p=s[d],u=p.hasOwnProperty("teams")?p.teams:[],h={0:L.getI18NMsg("gs.search.filter.alllocations"),1:L.getI18NMsg("gs.search.filter.myfolders"),2:L.getI18NMsg("common.shared_with_me")},i=3,_=[{isrequired:!0},{0:L.getI18NMsg("gs.search.filter.searchin")}],m=p.hasOwnProperty("orgws")?p.orgws:[],p=m.length;0<p?(h[3]=L.getI18NMsg("gs.search.filter.orgfolders"),i+=1,_[1][3]=L.getI18NMsg("gs.search.filter.teams")):_[1][2]=L.getI18NMsg("gs.search.filter.teams");for(var z=u.length,v=0;v<z;v++){var f=(S=u[v]).id,C=S.n;h[f]=C}if(i=z+i,r[d]=h,0<z||0<p){for(v=0;v<z;v++){var S,f=(S=u[v]).id,b=S.hasOwnProperty("teamfolders")?S.teamfolders:[],y=L.formatEnterpriseEditionFolderDetails(b);o[f]=y,n+=Object.keys(y).length}0<p&&(y=L.formatEnterpriseEditionFolderDetails(m),o[3]=y,n+=Object.keys(y).length)}}}L.setFiltersDetails(a,"title",L.getI18NMsg("gs.search.filter.locations")),L.setFiltersDetails(a,"type","3"),L.setFiltersDetails(a,"default","0"),L.setFiltersDetails(a,"current","0"),L.setFiltersDetails(a,"dispname",L.getI18NMsg("gs.search.filter.alllocations")),L.setFiltersDetails(a,"length",i),L.setFiltersDetails(a,"data",r),L.setFiltersDetails(a,"header",_),L.setFiltersDetails(a,"key","WD_teamId"),L.setFiltersDetails(a,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(a,"isDependentKey",!0),L.setFiltersDetails(a,"filterLevel",2),L.setFiltersDetails(t,"teams",a);var a={},I=L.getI18NMsg("gs.search.filter.teamfolders");return L.setFiltersDetails(a,"title",I),L.setFiltersDetails(a,"type","4"),L.setFiltersDetails(a,"default","0"),L.setFiltersDetails(a,"current","0"),L.setFiltersDetails(a,"dispname",L.getI18NMsg("gs.search.filter.allfolders")),L.setFiltersDetails(a,"data",o),L.setFiltersDetails(a,"key","WD_folderId"),L.setFiltersDetails(a,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(a,"length",n),L.setFiltersDetails(a,"isDependentKey",!0),L.setFiltersDetails(a,"filterLevel",3),L.setFiltersDetails(t,"folders",a),L.setFiltersDetails(t.accounts,"other_info",g),t},L.formatEnterpriseEditionFolderDetails=function(e){var s={},t=0;1<e.length&&(s[0]={key:"0",name:L.getI18NMsg("gs.search.filter.allfolders")},t++);for(var a=0;a<e.length;a++){var r=e[a]||"",o=r.id||"",r=r.n||"";s[t]={key:o,name:r},t++}return s},L.setReportsWidgetData=function(e,s){var t,a,r;0<Object.keys(s).length&&(t={},a={},a={all:L.getI18NMsg("gs.search.filter.alltypes"),dashboard:L.getI18NMsg("common.d.dashboard"),table:L.getI18NMsg("gs.search.result.reports.table"),pivot:L.getI18NMsg("gs.search.result.reports.pivot"),analysisview:L.getI18NMsg("gs.search.result.reports.analysisview"),querytable:L.getI18NMsg("gs.search.result.reports.querytable"),report:L.getI18NMsg("gs.search.result.reports.tableview"),summaryview:L.getI18NMsg("gs.search.result.reports.summaryview")},r=L.getI18NMsg("gs.search.filter.viewtype"),L.setFiltersDetails(t,"title",r),L.setFiltersDetails(t,"type","1"),L.setFiltersDetails(t,"default","all"),L.setFiltersDetails(t,"current","all"),L.setFiltersDetails(t,"dispname",L.getI18NMsg("gs.search.filter.alltypes")),L.setFiltersDetails(t,"mulSelectKey",!0),L.setFiltersDetails(t,"length",8),L.setFiltersDetails(t,"data",a),L.setFiltersDetails(t,"key","category"),L.setFiltersDetails(t,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(t,"filterLevel",2),L.setFiltersDetails(s,"viewtype",t)),L.setFiltersDetails(s,"order",["accounts","viewtype"]),L.setFilterObj(e,s)},L.setWikiWidgetData=function(e,s,t){var a;0<Object.keys(s).length&&(a={},a={0:L.getI18NMsg("gs.search.filter.alldays"),today:L.getI18NMsg("gs.search.filter.today"),yesterday:L.getI18NMsg("gs.search.filter.yesterday"),last7days:L.getI18NMsg("gs.search.filter.last7days"),thismonth:L.getI18NMsg("gs.search.filter.thismonth"),customdate:L.getI18NMsg("gs.search.filter.customdate"),customrange:L.getI18NMsg("gs.search.filter.customrange")},L.setDateTypeWidgetData(a,s)),L.setSortFilters(s,t),L.setFiltersDetails(s,"order",["accounts","date"]),L.setFilterObj(e,s)},L.setNotebookWidgetData=function(e,s,t){var a={},r={notes:L.getI18NMsg("common.notes"),notebooks:L.getI18NMsg("gs.f.nb.notebook")},o=L.getI18NMsg("gs.search.filter.searchin");L.setFiltersDetails(a,"title",o),L.setFiltersDetails(a,"type","1"),L.setFiltersDetails(a,"default","notes"),L.setFiltersDetails(a,"current","notes"),L.setFiltersDetails(a,"dispname",L.getI18NMsg("common.notes")),L.setFiltersDetails(a,"length",2),L.setFiltersDetails(a,"data",r),L.setFiltersDetails(a,"key","module"),L.setFiltersDetails(a,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(a,"isDependentKey",!0),L.setFiltersDetails(a,"filterLevel",2),L.setFiltersDetails(s,x.Common.modules,a),a={},r={notes:L.getI18NMsg("gs.f.nb.allnotes"),favorite:L.getI18NMsg("gs.f.nb.favorite"),text:L.getI18NMsg("gs.f.nb.text"),checklist:L.getI18NMsg("gs.f.nb.checklist"),image:L.getI18NMsg("gs.f.nb.photo"),document:L.getI18NMsg("gs.f.nb.file"),contact:L.getI18NMsg("gs.f.nb.contact"),audio:L.getI18NMsg("gs.f.nb.audio"),sketch:L.getI18NMsg("gs.f.nb.sketch"),bookmark:L.getI18NMsg("gs.f.nb.link")};o=L.getI18NMsg("gs.f.nb.notecardtypes");L.setFiltersDetails(a,"title",o),L.setFiltersDetails(a,"type","1"),L.setFiltersDetails(a,"default","notes"),L.setFiltersDetails(a,"current","notes"),L.setFiltersDetails(a,"dispname",L.getI18NMsg("gs.f.nb.allnotes")),L.setFiltersDetails(a,"mulSelectKey",!0),L.setFiltersDetails(a,"length",9),L.setFiltersDetails(a,"isDependentKey",!0),L.setFiltersDetails(a,"data",r),L.setFiltersDetails(a,"key","category"),L.setFiltersDetails(a,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(a,"filterLevel",3),L.setFiltersDetails(s,"notecardtype",a),r={0:L.getI18NMsg("gs.search.filter.alldays"),today:L.getI18NMsg("gs.search.filter.today"),yesterday:L.getI18NMsg("gs.search.filter.yesterday"),last7days:L.getI18NMsg("gs.search.filter.last7days"),thismonth:L.getI18NMsg("gs.search.filter.thismonth"),customdate:L.getI18NMsg("gs.search.filter.customdate"),customrange:L.getI18NMsg("gs.search.filter.customrange")},L.setDateTypeWidgetData(r,s),L.setSortFilters(s,t),L.setFiltersDetails(s,"order",["accounts",x.Common.modules,"notecardtype","date"]),L.setFilterObj(e,s)},L.setCalendarWidgetData=function(e,s,t,a){for(var r={},o={},i=s.length,n="",l="",g=0;g<i;g++){var c,d,p=t[s[g]],u=p.hasOwnProperty("serviceData")?p.serviceData:{},h=0;for(g in u)c=""+u[g],d=L.getCalendarServiceName(c),o[c]=d,0===h&&(n=c,l=d),h++;1<h&&(n="0",l=L.getI18NMsg("gs.search.filter.allServices"),o[n]=l)}var _=L.getI18NMsg("gs.search.filter.services");L.setFiltersDetails(r,"title",_),L.setFiltersDetails(r,"type","1"),L.setFiltersDetails(r,"default",n),L.setFiltersDetails(r,"current",n),L.setFiltersDetails(r,"dispname",l),L.setFiltersDetails(r,"mulSelectKey",!0),L.setFiltersDetails(r,"length",h),L.setFiltersDetails(r,"isDependentKey",!0),L.setFiltersDetails(r,"data",o),L.setFiltersDetails(r,"key","category"),L.setFiltersDetails(r,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(r,"filterLevel",1),L.setFiltersDetails(a,"services",r),r={},o={};o={0:L.getI18NMsg("gs.search.filter.allEvents"),1:L.getI18NMsg("gs.search.filter.upcomingEvents"),"-1":L.getI18NMsg("gs.search.filter.completedEvents")},_=L.getI18NMsg("gs.search.filter.eventTypes");L.setFiltersDetails(r,"title",_),L.setFiltersDetails(r,"type","1"),L.setFiltersDetails(r,"default","0"),L.setFiltersDetails(r,"current","0"),L.setFiltersDetails(r,"dispname",L.getI18NMsg("gs.search.filter.allEvents")),L.setFiltersDetails(r,"length",3),L.setFiltersDetails(r,"data",o),L.setFiltersDetails(r,"key","eventTypeId"),L.setFiltersDetails(r,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(r,"filterLevel",1),L.setFiltersDetails(a,"eventTypes",r),o={},o={0:L.getI18NMsg("gs.search.filter.alldays"),today:L.getI18NMsg("gs.search.filter.today"),tomorrow:L.getI18NMsg("gs.search.filter.tomorrow"),thisweek:L.getI18NMsg("gs.search.filter.thisweek"),thismonth:L.getI18NMsg("gs.search.filter.thismonth"),customdate:L.getI18NMsg("gs.search.filter.customdate"),customrange:L.getI18NMsg("gs.search.filter.customrange")},L.setDateTypeWidgetData(o,a),L.setFiltersDetails(a.date,"filterLevel",1),L.setFiltersDetails(a,"order",["accounts","services","eventTypes","date"]),L.setFilterObj(e,a)},L.setDeskWidgetData=function(e,s,t,a,r){for(var o={},i={},n="",l="",g=0,c=s.length,d=0;d<c;d++){var p=s[d];if(t.hasOwnProperty(p)){for(var u={},h=t[p].deptData,_=h.length,m=0;m<_;m++){var z=h[m],v=z.id,f=z.name;u[v]=f,0===m&&(n=v,l=f)}1<_&&(f=L.getI18NMsg("gs.search.filter.alldepartments"),n="0",l=u[0]=f,_++),g+=_,i[p]=u}}var C=L.getI18NMsg("gs.search.filter.departments");L.setFiltersDetails(o,"title",C),L.setFiltersDetails(o,"type","3"),1<c&&(n="0",l=L.getI18NMsg("gs.search.filter.alldepartments")),L.setFiltersDetails(o,"default",n),L.setFiltersDetails(o,"current",n),L.setFiltersDetails(o,"dispname",l),L.setFiltersDetails(o,"length",g),L.setFiltersDetails(o,"mulSelectKey",!0),L.setFiltersDetails(o,"isDependentKey",!0),L.setFiltersDetails(o,"data",i),L.setFiltersDetails(o,"key","department"),L.setFiltersDetails(o,"data_type",L.QUERY_OBJ_DT_LONG),L.setFiltersDetails(o,"filterLevel",2),L.setFiltersDetails(a,"departments",o);for(var S={},o={},i={},g=0,d=0;d<c;d++){p=s[d];if(t.hasOwnProperty(p)){var b,y={},I={},O=t[p].moduleData;for(b in y[0]=L.getI18NMsg("common.allmodules"),O)L.isArrayContain(b,L.deskmodid)?y[b]=O[b]:I[b]=O[b];i[p]=y,S[p]=I,g+=Object.keys(y).length}}C=L.getI18NMsg("common.modules");L.setFiltersDetails(o,"title",C),L.setFiltersDetails(o,"type","3"),L.setFiltersDetails(o,"default","0"),L.setFiltersDetails(o,"current","0"),L.setFiltersDetails(o,"dispname",L.getI18NMsg("common.allmodules")),L.setFiltersDetails(o,"length",g),L.setFiltersDetails(o,"mulSelectKey",!0),L.setFiltersDetails(o,"isDependentKey",!0),L.setFiltersDetails(o,"data",i),L.setFiltersDetails(o,"unusedModData",S),L.setFiltersDetails(o,"key","module"),L.setFiltersDetails(o,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(o,"filterLevel",2),L.setFiltersDetails(a,x.Common.modules,o),L.setSortFilters(a,r),L.setFiltersDetails(a,"order",["accounts","departments",x.Common.modules]),L.setFilterObj(e,a)},L.setCrmWidgetData=function(e,s,t,a){var r=new L.ZSCRMSuiteAction;L.crmOrgInfo=r.createActionObj(L.GSConstant.CRM)||{},_jQueryGS.isEmptyObject(L.crmOrgInfo)||L.crmOrgInfo.setOrgDetails(t);for(var o={},i={},n={},l=s.length,g=a.accounts.mdefault,c=0;c<l;c++){var d,p,u=s[c];t.hasOwnProperty(u)&&(d=(p=t[u]||"").moduleData||p.modules||[],p={},p=L.setCRMSuiteModuleData(d,e),i[u]=p.ffodata,n[u]=p.crmUrlObj,L.crmOrgInfo.setProfileForMod(p.profiledata,u),L.crmOrgInfo.setModuleData(p.moduleData,u))}r=L.getI18NMsg("common.modules");L.setFiltersDetails(o,"title",r),L.setFiltersDetails(o,"type","3"),L.setFiltersDetails(o,"default","all"),L.setFiltersDetails(o,"current","all"),L.setFiltersDetails(o,"dispname",L.getI18NMsg("common.allmodules")),L.setFiltersDetails(o,"mulSelectKey",!0),L.setFiltersDetails(o,"length",Object.keys(i[g]).length),L.setFiltersDetails(o,"isDependentKey",!0),L.setFiltersDetails(o,"data",i),L.setFiltersDetails(o,"crm_modules",n),L.setFiltersDetails(o,"key","module"),L.setFiltersDetails(o,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(o,"filterLevel",2),L.setFiltersDetails(a,x.Common.modules,o),L.setFiltersDetails(a,"order",["accounts",x.Common.modules]),L.setFilterObj(e,a)},L.setCRMSuiteModuleData=function(e,s){var t={},a={},r={},o={},i=0,n=e.length;if(0<n){var l={};1<n&&(t={all:L.getI18NMsg("common.allmodules")},i++);for(var g=0;g<n;g++){var c={},d=e[g],p=d.modQueryName,u=d.modDispName,h=d.modName,_=d.profile;c.isDefault=d.d||!1,t[p]=u,i++,o[p]=_,r[p]=c,s==L.GSConstant.CRM&&("Deals"===h&&(h="Potentials"),l[p+"_url"]=h)}}return a.ffodata=t,a.crmUrlObj=l,a.profiledata=o,a.fiterLen=i,a.moduleData=r,a},L.setBiginWidgetData=function(e,s,t,a){var r=new L.ZSCRMSuiteAction;L.biginOrgInfo=r.createActionObj(L.GSConstant.BIGIN)||{},_jQueryGS.isEmptyObject(L.biginOrgInfo)||L.biginOrgInfo.setOrgDetails(t);for(var r={},o={},i=0,n=s.length,l=0;l<n;l++){var g,c,d=s[l];t.hasOwnProperty(d)&&(g=(c=t[d]||"").moduleData||c.modules||[],c={},c=L.setCRMSuiteModuleData(g,e),o[d]=c.ffodata,i+=c.fiterLen,L.biginOrgInfo.setProfileForMod(c.profiledata,d),L.biginOrgInfo.setModuleData(c.moduleData,d))}L.setFiltersDetails(r,"title",L.getI18NMsg("common.modules")),L.setFiltersDetails(r,"type","3"),L.setFiltersDetails(r,"default","all"),L.setFiltersDetails(r,"current","all"),L.setFiltersDetails(r,"dispname",L.getI18NMsg("common.allmodules")),L.setFiltersDetails(r,"mulSelectKey",!0),L.setFiltersDetails(r,"length",i),L.setFiltersDetails(r,"isDependentKey",!0),L.setFiltersDetails(r,"data",o),L.setFiltersDetails(r,"key","module"),L.setFiltersDetails(r,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(r,"filterLevel",2),L.setFiltersDetails(a,x.Common.modules,r),L.setFiltersDetails(a,"order",["accounts",x.Common.modules]),L.setFilterObj(e,a)},L.setBooksWidgetData=function(e,s,t,a){for(var r={},o={},i=0,n=s.length,l=0;l<n;l++){var g,c=s[l];!t.hasOwnProperty(c)||(g=(g=t[c]).hasOwnProperty("moduleData")?g.moduleData:"")&&(g=L.formatBooksModulesDetails(g),1<Object.keys(g).length&&(o[c]=g),i+=Object.keys(g).length)}var d=L.getI18NMsg("common.modules");L.setFiltersDetails(r,"title",d),L.setFiltersDetails(r,"type","3"),L.setFiltersDetails(r,"default","all"),L.setFiltersDetails(r,"current","all"),L.setFiltersDetails(r,"dispname",L.getI18NMsg("common.allmodules")),L.setFiltersDetails(r,"mulSelectKey",!0),L.setFiltersDetails(r,"length",i),L.setFiltersDetails(r,"isDependentKey",!0),L.setFiltersDetails(r,"data",o),L.setFiltersDetails(r,"key","module"),L.setFiltersDetails(r,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(r,"filterLevel",2),L.setFiltersDetails(a,x.Common.modules,r),L.setFiltersDetails(a,"order",["accounts",x.Common.modules]),L.setFilterObj(e,a)},L.formatBooksModulesDetails=function(e){L.booksModulesObj={Items:{key:"items",value:L.getI18NMsg("gs.search.service_books.item")},Contact:{key:"contacts",value:L.getI18NMsg("common.customer")},Invoice:{key:"invoices",value:L.getI18NMsg("gs.search.service_books.invoices")},Estimate:{key:"estimates",value:L.getI18NMsg("gs.search.service_books.estimates")},Credit_Note:{key:"creditnotes",value:L.getI18NMsg("gs.search.service_books.creditnotes")},Payment_Received:{key:"customerpayments",value:L.getI18NMsg("gs.search.service_books.payreceived")},Recurring_Invoice:{key:"recurring_invoices",value:L.getI18NMsg("gs.search.service_books.recurringinv")}};var s,t,a={};for(s in a.all=L.getI18NMsg("common.allmodules"),L.booksModulesObj)e&&e.hasOwnProperty(s)&&"true"==e[s]&&(a[(t=L.booksModulesObj[s]).key]=t.value);return a},L.setCampaignsWidgetData=function(e,s,t,a){for(var r={},o={},i=0,n="",l="",g=s.length,c=0;c<g;c++){var d=s[c];if(t.hasOwnProperty(d)){var p=t[d].moduleData;for(c in p){var u=p[c];o[u]=c,1===i&&(n=u,l=c),i++}1<i&&(n="0",l=L.getI18NMsg("common.allmodules"),o[n]=l,i++)}}var h=L.getI18NMsg("common.modules");L.setFiltersDetails(r,"title",h),L.setFiltersDetails(r,"type","1"),L.setFiltersDetails(r,"default",n),L.setFiltersDetails(r,"current",n),L.setFiltersDetails(r,"dispname",l),L.setFiltersDetails(r,"length",i),L.setFiltersDetails(r,"data",o),L.setFiltersDetails(r,"key","module"),L.setFiltersDetails(r,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(r,"filterLevel",2),L.setFiltersDetails(a,x.Common.modules,r),L.setFiltersDetails(a,"order",["accounts",x.Common.modules]),L.setFilterObj(e,a)},L.setCreatorWidgetData=function(e,s){var t={},a={all_apps:L.getI18NMsg("gs.search.filter.all_applications"),custom_apps:L.getI18NMsg("gs.search.result.creator.custom_apps"),personal_apps:L.getI18NMsg("common.owned_by_me"),shared_apps:L.getI18NMsg("common.shared_with_me"),shared_to_group_apps:L.getI18NMsg("gs.search.result.creator.shared_to_group_apps")},r=L.getI18NMsg("gs.search.filter.applications");L.setFiltersDetails(t,"title",r),L.setFiltersDetails(t,"type","1"),L.setFiltersDetails(t,"default","all_apps"),L.setFiltersDetails(t,"current","all_apps"),L.setFiltersDetails(t,"dispname",L.getI18NMsg("gs.search.filter.all_applications")),L.setFiltersDetails(t,"length",5),L.setFiltersDetails(t,"data",a),L.setFiltersDetails(t,"key","category"),L.setFiltersDetails(t,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(t,"filterLevel",1),L.setFiltersDetails(s,"applications",t),L.setFiltersDetails(s,"order",["accounts","applications"]),L.setFilterObj(e,s)},L.setOrgResourcesWidgetData=function(e,s,t,a){for(var r={},o={},i=0,n=s.length,l=0;l<n;l++){for(var g=s[l],c=t.hasOwnProperty(g)?t[g]:{},d=c.hasOwnProperty("moduleData")?c.moduleData:"",p={},u="",h="",_="",m=d.length,z=0;z<m;z++){var v=d[z]||"",f=v.hasOwnProperty("connector_id")?v.connector_id:"",v=v.hasOwnProperty("display_name")?v.display_name:"";p[f]=v}1<m?(u=h="0",p[0]=_=L.getI18NMsg("common.allmodules")):1==m&&(u=h=d[0].hasOwnProperty("connector_id")?d[0].connector_id:"",_=d[0].hasOwnProperty("display_name")?d[0].display_name:""),o[g]=p,i+=m}var C=L.getI18NMsg("common.modules");L.setFiltersDetails(r,"title",C),L.setFiltersDetails(r,"type","3"),L.setFiltersDetails(r,"default",u),L.setFiltersDetails(r,"current",h),L.setFiltersDetails(r,"dispname",_),L.setFiltersDetails(r,"mulSelectKey",!0),L.setFiltersDetails(r,"length",i),L.setFiltersDetails(r,"isDependentKey",!0),L.setFiltersDetails(r,"data",o),L.setFiltersDetails(r,"key","module"),L.setFiltersDetails(r,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(r,"filterLevel",2),L.setFiltersDetails(a,x.Common.modules,r),L.setFiltersDetails(a,"order",["accounts",x.Common.modules]),L.setFilterObj(e,a)},L.setWebsiteWidgetData=function(e,s,t,a){for(var r={},o={},i=0,n="",l="",g=s.length,c=0;c<g;c++){var d=[],p=s[c],p=t.hasOwnProperty(p)?t[p]:"",u=p.hasOwnProperty("appsData")?p.appsData:{},h=u.length;1<h?(n="all_applications",l=L.getI18NMsg("gs.search.filter.all_applications"),o[n]=L.getI18NMsg("gs.search.filter.all_applications")):1===h&&(n=(m=u[0]).pN,l=m.dN);for(var _=0;_<h;_++){var m,z=(m=u[_]).pN,v=m.dN;o[z]=v,d.push(z)}i+=h}var f=L.getI18NMsg("gs.search.filter.applications");L.setFiltersDetails(r,"title",f),L.setFiltersDetails(r,"type","1"),L.setFiltersDetails(r,"default",n),L.setFiltersDetails(r,"current",n),L.setFiltersDetails(r,"dispname",l),L.setFiltersDetails(r,"length",i),L.setFiltersDetails(r,"mulSelectKey",!0),L.setFiltersDetails(r,"isDependentKey",!0),L.setFiltersDetails(r,"data",o),L.setFiltersDetails(r,"key","cI"),L.setFiltersDetails(r,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(r,"filterLevel",1),L.setFiltersDetails(a,"serviceType",r),r={},o={};o={all_page_types:L.getI18NMsg("gs.search.filter.allpagetype"),help:L.getI18NMsg("gs.search.filter.resources"),deskkb:L.getI18NMsg("gs.search.filter.deskkb"),helpvideos:L.getI18NMsg("gs.search.filter.helpvideo")},f=L.getI18NMsg("gs.search.filter.pagetype");return L.setFiltersDetails(r,"title",f),L.setFiltersDetails(r,"type","1"),L.setFiltersDetails(r,"default","all_page_types"),L.setFiltersDetails(r,"current","all_page_types"),L.setFiltersDetails(r,"dispname",L.getI18NMsg("gs.search.filter.allpagetype")),L.setFiltersDetails(r,"mulSelectKey",!0),L.setFiltersDetails(r,"length",4),L.setFiltersDetails(r,"data",o),L.setFiltersDetails(r,"key","pT"),L.setFiltersDetails(r,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(r,"filterLevel",1),L.setFiltersDetails(a,"categ",r),L.setFiltersDetails(a,"order",["accounts","serviceType","categ"]),L.setFilterObj(e,a),-1<L.gscomponent.nonAccountFilterServices.indexOf(L.GSConstant.WEBSITE)&&((r=L.getWidgetResponseData(e)).eO=d,L.setWidgetResponseData(e,r)),a},L.setGDriveWidgetData=function(e,s){var t={},a={allfiles:L.getI18NMsg("gs.search.filter.allfiles"),mydocs:L.getI18NMsg("common.owned_by_me"),sharedtome:L.getI18NMsg("common.shared_with_me"),trash:L.getI18NMsg("gs.search.filter.trash")},r=L.getI18NMsg("gs.search.filter.ownertype");L.setFiltersDetails(t,"title",r),L.setFiltersDetails(t,"type","1"),L.setFiltersDetails(t,"default","allfiles"),L.setFiltersDetails(t,"current","allfiles"),L.setFiltersDetails(t,"dispname",L.getI18NMsg("gs.search.filter.allfiles")),L.setFiltersDetails(t,"length",3),L.setFiltersDetails(t,"data",a),L.setFiltersDetails(t,"key","category"),L.setFiltersDetails(t,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(t,"filterLevel",2),L.setFiltersDetails(s,"ownertype",t),t={},a={all:L.getI18NMsg("gs.search.filter.alltypes"),writer:L.getI18NMsg("gs.search.filter.writer"),sheet:L.getI18NMsg("gs.search.filter.sheet"),show:L.getI18NMsg("gs.search.filter.show"),pdf:L.getI18NMsg("gs.search.filter.pdf"),image:L.getI18NMsg("gs.search.filter.image"),music:L.getI18NMsg("gs.search.filter.music"),video:L.getI18NMsg("gs.search.filter.video"),zip:L.getI18NMsg("gs.search.filter.zip")};r=L.getI18NMsg("common.fileType");L.setFiltersDetails(t,"title",r),L.setFiltersDetails(t,"type","1"),L.setFiltersDetails(t,"default","all"),L.setFiltersDetails(t,"current","all"),L.setFiltersDetails(t,"dispname",L.getI18NMsg("gs.search.filter.alltypes")),L.setFiltersDetails(t,"length",Object.keys(a).length),L.setFiltersDetails(t,"mulSelectKey",!0),L.setFiltersDetails(t,"data",a),L.setFiltersDetails(t,"key","searchin"),L.setFiltersDetails(t,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(t,"filterLevel",2),L.setFiltersDetails(s,"filetype",t),L.setFiltersDetails(s,"order",["accounts","ownertype","filetype"]),L.setFilterObj(e,s)},L.setO365MailWidgetData=function(e,s,t,a){for(var r={},o=s.length,i={},r={},n=0,l=0;l<o;l++){var g=s[l],c=t.hasOwnProperty(g)?t[g]:"",d=c.hasOwnProperty(x.Common.modules)?c.modules:"",p={},u="",h="",_="",m=d.length;n+=m,1<m?(u=h="0",p[0]=_=L.getI18NMsg("gs.search.filter.allfolders")):1==m&&(u=h=d[0].hasOwnProperty("id")?d[0].id:"",_=d[0].hasOwnProperty("name")?d[0].name:"");for(var z=0;z<m;z++){var v=d[z]||"",f=v.hasOwnProperty("id")?v.id:"",v=v.hasOwnProperty("name")?v.name:"";p[f]=v}r[g]=p}var C=L.getI18NMsg("gs.search.filter.allfolders");L.setFiltersDetails(i,"title",C),L.setFiltersDetails(i,"type","3"),L.setFiltersDetails(i,"default",u),L.setFiltersDetails(i,"current",h),L.setFiltersDetails(i,"dispname",_),L.setFiltersDetails(i,"length",n),L.setFiltersDetails(i,"data",r),L.setFiltersDetails(i,"isDependentKey",!0),L.setFiltersDetails(i,"filterLevel",2),L.setFiltersDetails(i,"key","folderId"),L.setFiltersDetails(i,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(a,"folders",i),r={},r={0:L.getI18NMsg("gs.search.filter.alldays"),today:L.getI18NMsg("gs.search.filter.today"),yesterday:L.getI18NMsg("gs.search.filter.yesterday"),last7days:L.getI18NMsg("gs.search.filter.last7days"),thismonth:L.getI18NMsg("gs.search.filter.thismonth"),customdate:L.getI18NMsg("gs.search.filter.customdate"),customrange:L.getI18NMsg("gs.search.filter.customrange")},L.setDateTypeWidgetData(r,a),i={},r={};C=L.getI18NMsg("gs.search.filter.withattach");r={false:"False",true:"True"},L.setFiltersDetails(i,"title",C),L.setFiltersDetails(i,"type","6"),L.setFiltersDetails(i,"default",!1),L.setFiltersDetails(i,"current",!1),L.setFiltersDetails(i,"length",1),L.setFiltersDetails(i,"filterLevel",2),L.setFiltersDetails(i,"data",r),L.setFiltersDetails(i,"key","hasAtt"),L.setFiltersDetails(i,"data_type",L.QUERY_OBJ_DT_BOOLEAN),L.setFiltersDetails(a,"attach",i),i={},r={};C=L.getI18NMsg("common.unread");r={false:"False",true:"True"},L.setFiltersDetails(i,"title",C),L.setFiltersDetails(i,"type","6"),L.setFiltersDetails(i,"default",!1),L.setFiltersDetails(i,"current",!1),L.setFiltersDetails(i,"length",1),L.setFiltersDetails(i,"filterLevel",2),L.setFiltersDetails(i,"data",r),L.setFiltersDetails(i,"key","isRead"),L.setFiltersDetails(i,"data_type",L.QUERY_OBJ_DT_BOOLEAN),L.setFiltersDetails(a,"unread",i),L.setFiltersDetails(a,"order",["accounts","folders","date","attach","unread"]),L.setFilterObj(e,a)},L.setSalesForceWidgetData=function(e,s,t,a){for(var r={},o={},i=0,n=s.length,l=0;l<n;l++){var g=s[l],c=t[g]||{},d=c.moduleData||c.modules||[],p=d.length,u={};1<p&&(u.all=L.getI18NMsg("common.allmodules"),i++);for(var h=0;h<p;h++){var _=d[h],m=_.name;u[_.id]=m}o[g]=u,i+=p}var z=L.getI18NMsg("common.modules");L.setFiltersDetails(r,"title",z),L.setFiltersDetails(r,"type","3"),L.setFiltersDetails(r,"default","all"),L.setFiltersDetails(r,"current","all"),L.setFiltersDetails(r,"dispname",L.getI18NMsg("common.allmodules")),L.setFiltersDetails(r,"length",i),L.setFiltersDetails(r,"isDependentKey",!0),L.setFiltersDetails(r,"data",o),L.setFiltersDetails(r,"key","module"),L.setFiltersDetails(r,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(r,"filterLevel",2),L.setFiltersDetails(a,x.Common.modules,r),L.setFiltersDetails(a,"order",["accounts",x.Common.modules]),L.setFilterObj(e,a)},L.setAsanaWidgetData=function(e,s,t,a,r){for(var o={},i={},n="",l="",g=s.length,c=0;c<g;c++){var d=s[c],p=(t[d]||"").modules||[],u=p.length,h={};if(!(u<1)){1<u&&(n="all",l=L.getI18NMsg("gs.search.filter.allworkspaces"),h[n]=l,0);for(var _=0;_<u;_++){var m=p[_],z=m.name,m=m.id;h[m]=z,1==u&&0==_&&(n=m,l=z)}i[d]=h}}var v=L.getI18NMsg("gs.search.filter.workspaces");L.setFiltersDetails(o,"title",v),L.setFiltersDetails(o,"type","3"),L.setFiltersDetails(o,"default",n),L.setFiltersDetails(o,"current",n),L.setFiltersDetails(o,"dispname",l),L.setFiltersDetails(o,"isDependentKey",!0),L.setFiltersDetails(o,"filterLevel",2),L.setFiltersDetails(o,"data",i),L.setFiltersDetails(o,"key","workspaceId"),L.setFiltersDetails(o,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(a,"workspaces",o);o={},i={},v=L.getI18NMsg("gs.search.service_projects");L.setFiltersDetails(o,"title",v),L.setFiltersDetails(o,"type","3"),L.setFiltersDetails(o,"default","all"),L.setFiltersDetails(o,"current","all"),L.setFiltersDetails(o,"dispname",L.getI18NMsg("gs.search.filter.allprojects")),L.setFiltersDetails(o,"length",0),L.setFiltersDetails(o,"data",i),L.setFiltersDetails(o,"filterLevel",3),L.setFiltersDetails(o,"isDependentKey",!0),L.setFiltersDetails(o,"key","projectId"),L.setFiltersDetails(o,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(a,"projects",o),o={},i={};v=L.getI18NMsg("gs.search.filter.tags");L.setFiltersDetails(o,"title",v),L.setFiltersDetails(o,"type","3"),L.setFiltersDetails(o,"default","all"),L.setFiltersDetails(o,"current","all"),L.setFiltersDetails(o,"dispname",L.getI18NMsg("gs.search.filter.alltags")),L.setFiltersDetails(o,"length",0),L.setFiltersDetails(o,"filterLevel",3),L.setFiltersDetails(o,"data",i),L.setFiltersDetails(o,"key","tagId"),L.setFiltersDetails(o,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(a,"tags",o),i={},i={0:L.getI18NMsg("gs.search.filter.alldays"),today:L.getI18NMsg("gs.search.filter.today"),tomorrow:L.getI18NMsg("gs.search.filter.tomorrow"),thisweek:L.getI18NMsg("gs.search.filter.thisweek"),thismonth:L.getI18NMsg("gs.search.filter.thismonth"),customdate:L.getI18NMsg("gs.search.filter.customdate"),customrange:L.getI18NMsg("gs.search.filter.customrange")},L.setDateTypeWidgetData(i,a,L.getI18NMsg("gs.search.filter.dueDate")),L.setFiltersDetails(a.date,"filterLevel",3),o={},i={},i={all:L.getI18NMsg("gs.search.filter.alltasks"),complete:L.getI18NMsg("gs.search.filter.completed"),incomplete:L.getI18NMsg("gs.search.filter.incomplete")};v=L.getI18NMsg("gs.search.filter.task_status");L.setFiltersDetails(o,"title",v),L.setFiltersDetails(o,"type","1"),L.setFiltersDetails(o,"default","all"),L.setFiltersDetails(o,"current","all"),L.setFiltersDetails(o,"dispname",L.getI18NMsg("gs.search.filter.alltasks")),L.setFiltersDetails(o,"length",3),L.setFiltersDetails(o,"filterLevel",3),L.setFiltersDetails(o,"data",i),L.setFiltersDetails(o,"key","completed"),L.setFiltersDetails(o,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(a,"completed",o);var f=L.getI18NMsg("gs.search.filter.createdDate"),C=L.getI18NMsg("gs.search.filter.dueDate");o={},i={sortCreatedDate:f,sortDueDate:C};v="sortCreatedDate";void 0!==r&&-1!==r&&1===r&&(f=C,v="sortDueDate");C=L.getI18NMsg("gs.search.filter.sortby");L.setFiltersDetails(o,"title",C),L.setFiltersDetails(o,"type","1"),L.setFiltersDetails(o,"default",v),L.setFiltersDetails(o,"current",v),L.setFiltersDetails(o,"dispname",f),L.setFiltersDetails(o,"length",2),L.setFiltersDetails(o,"data",i),L.setFiltersDetails(o,"key","sort"),L.setFiltersDetails(o,"filterLevel",1),L.setFiltersDetails(o,"data_type",L.QUERY_OBJ_DT_LONG),L.setFiltersDetails(a,"sort",o),L.setFiltersDetails(a,"sort_order",["sort"]),L.setFiltersDetails(a,"order",["accounts","workspaces","projects","completed","tags","date"]),L.setFilterObj(L.GSConstant.ASANA,a)},L.setEvernoteWidgetData=function(e,s,t,a,r){for(var o={},i={},n=0,l=s.length,g=0;g<l;g++){var c=s[g],d=t[c],p=d.hasOwnProperty(x.Common.modules)?d.modules:[],u=p.length,h={};1<u&&(h[0]=L.getI18NMsg("gs.f.nb.allnotebooks"),n++);for(var _=0;_<u;_++){var m=p[_],z=m.name;h[m.id]=z}i[c]=h,n+=u}var v=L.getI18NMsg("gs.f.nb.mynotebooks");L.setFiltersDetails(o,"title",v),L.setFiltersDetails(o,"type","3"),L.setFiltersDetails(o,"default","0"),L.setFiltersDetails(o,"current","0"),L.setFiltersDetails(o,"dispname",L.getI18NMsg("gs.f.nb.allnotebooks")),L.setFiltersDetails(o,"length",n),L.setFiltersDetails(o,"data",i),L.setFiltersDetails(o,"isDependentKey",!0),L.setFiltersDetails(o,"key","notebookId"),L.setFiltersDetails(o,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(o,"filterLevel",2),L.setFiltersDetails(a,x.Common.modules,o),L.setSortFilters(a,r,e),L.setFiltersDetails(a,"order",["accounts",x.Common.modules]),L.setFilterObj(e,a)},L.setProjectsWidgetData=function(e,s,t,a,r){a.hasOwnProperty("accounts")&&(a.accounts.hasChildFilter=!0,1<Object.keys(a.accounts.alldata).length&&(a.accounts.subtype=1));for(var o={},i={},n={},l={},g={},c=0,d="",p="",u="",h="",_="",m="",z=0,v=s.length,f=0;f<v;f++){var C=s[f],S=t[C];L.gsprojectsutils.timezoneData[C]={timezone:S.timezone,offset:S.formattedTzOffset};for(var b=t.hasOwnProperty(C)?t[C]:{},y=b.hasOwnProperty("projectsData")?b.projectsData:"",I={},O={},P=y.length,w=0;w<P;w++){var D=y[w]||"",E=D.hasOwnProperty("id")?D.id:"",T=D.hasOwnProperty("name")?D.name:"",D=D.hasOwnProperty(x.Common.modules)?D.modules:"";O[E]=T,g[E]=D,1<Object.keys(g[E]).length&&(g[E][0]=L.getI18NMsg("common.allmodules")),b.e&&(I[E]=T,1<(T=Object.keys(D).length)?(u=h="0",D[0]=m=L.getI18NMsg("common.allmodules")):1==T&&(T=Object.keys(D)[0],u=h=Object.keys(D),m=D[T]),l[E]=D)}1<(P=Object.keys(I).length)?(d=p="0",I[0]=_=L.getI18NMsg("gs.search.filter.allprojects")):1==P&&(d=p=Object.keys(I)[0],_=I[p],z=Object.keys(l[p]).length),1<Object.keys(O).length&&(O[0]=L.getI18NMsg("gs.search.filter.allprojects")),_jQueryGS.isEmptyObject(I)||(i[C]=I),n[C]=O,c+=P}1<a.accounts.length&&(d=p="0",_=L.getI18NMsg("gs.search.filter.allprojects"));var A=L.getI18NMsg("gs.search.service_projects");L.setFiltersDetails(o,"title",A),L.setFiltersDetails(o,"type","3"),L.setFiltersDetails(o,"default",d),L.setFiltersDetails(o,"current",p),L.setFiltersDetails(o,"dispname",_),L.setFiltersDetails(o,"length",c),L.setFiltersDetails(o,"parKey","accounts"),L.setFiltersDetails(o,"hasChildFilter",!0),L.setFiltersDetails(o,"subtype",1),L.setFiltersDetails(o,"data",i),L.setFiltersDetails(o,"alldata",n),L.setFiltersDetails(o,"key","project_id"),L.setFiltersDetails(o,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(o,"isDependentKey",!0),L.setFiltersDetails(o,"filterLevel",2),L.setFiltersDetails(a,"projects",o);o={},A=L.getI18NMsg("common.modules");L.setFiltersDetails(o,"title",A),L.setFiltersDetails(o,"type","3"),L.setFiltersDetails(o,"default",u),L.setFiltersDetails(o,"current",h),L.setFiltersDetails(o,"dispname",m),L.setFiltersDetails(o,"length",z),L.setFiltersDetails(o,"parKey","projects"),L.setFiltersDetails(o,"hasChildFilter",!0),L.setFiltersDetails(o,"isDependentKey",!0),L.setFiltersDetails(o,"data",l),L.setFiltersDetails(o,"alldata",g),L.setFiltersDetails(o,"key","module"),L.setFiltersDetails(o,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(o,"mulSelectKey",!0),L.setFiltersDetails(o,"filterLevel",3),L.setFiltersDetails(a,x.Common.modules,o),i={},i={0:L.getI18NMsg("gs.search.filter.alldays"),today:L.getI18NMsg("gs.search.filter.today"),yesterday:L.getI18NMsg("gs.search.filter.yesterday"),last7days:L.getI18NMsg("gs.search.filter.last7days"),thismonth:L.getI18NMsg("gs.search.filter.thismonth"),customdate:L.getI18NMsg("gs.search.filter.customdate"),customrange:L.getI18NMsg("gs.search.filter.customrange")},L.setDateTypeWidgetData(i,a,L.getI18NMsg("gs.search.modfied_time"),"modifiedTime"),a.modifiedTime.length=0,a.modifiedTime.parId=["4","7"],a.modifiedTime.parKey="modules",i={},i={0:L.getI18NMsg("gs.search.filter.alldays"),today:L.getI18NMsg("gs.search.filter.today"),tomorrow:L.getI18NMsg("gs.search.filter.tomorrow"),next7days:L.getI18NMsg("gs.search.filter.next7days"),thismonth:L.getI18NMsg("gs.search.filter.thismonth"),customdate:L.getI18NMsg("gs.search.filter.customdate"),customrange:L.getI18NMsg("gs.search.filter.customrange")},L.setDateTypeWidgetData(i,a,L.getI18NMsg("gs.search.filter.dueDate"),"dueDate"),a.dueDate.length=0,a.dueDate.parId=["3","5","6"],a.dueDate.parKey="modules";var M=L.getI18NMsg("gs.search.filter.sortrelv"),F=L.getI18NMsg("gs.search.filter.dueDate"),N=L.getI18NMsg("gs.search.modfied_time");o={};i={sortrelv:M,sorttime:N,sortduedate:F},A="sorttime";void 0!==r&&-1!==r&&(0===r?(N=M,A="sortrelv"):2===r&&(N=F,A="sortduedate"));F=L.getI18NMsg("gs.search.filter.sortby");L.setFiltersDetails(o,"title",F),L.setFiltersDetails(o,"type","1"),L.setFiltersDetails(o,"default",A),L.setFiltersDetails(o,"current",A),L.setFiltersDetails(o,"dispname",N),L.setFiltersDetails(o,"length",3),L.setFiltersDetails(o,"data",i),L.setFiltersDetails(o,"key","sort"),L.setFiltersDetails(o,"data_type",L.QUERY_OBJ_DT_LONG),L.setFiltersDetails(o,"filterLevel",1),L.setFiltersDetails(a,"sort",o),L.setFiltersDetails(a,"sort_order",["sort"]),L.isArrayContain(R.PROJECTS,L.account_based_filter_service_list)||L.account_based_filter_service_list.push(R.PROJECTS),L.setFiltersDetails(a,"order",["accounts","projects",x.Common.modules,"modifiedTime","dueDate"]),L.setFilterObj(e,a),L.searchObj.service!==R.PROJECTS||"0"!=(a=L.getCurrentValue(x.Common.modules))&&""!=a&&L.loadProjectsModChildFilter(R.PROJECTS,a,L.getCurrentValue("projects"),L.getCurrentValue("accounts"))},L.setSortFilters=function(e,s,t){var a=L.getI18NMsg("gs.search.filter.sortrelv"),r=L.getI18NMsg("common.time"),o=L.getI18NMsg("common.title"),i=2,n={},l={sortrelv:a,sorttime:r};t&&t===R.EVERNOTE&&(l.sorttitle=o,i=3);var g="",c="";switch(s){case 0:g="sortrelv",c=a;break;case 1:c=r,g="sorttime";break;case 2:c=o,g="sorttitle"}s=L.getI18NMsg("gs.search.filter.sortby");L.setFiltersDetails(n,"title",s),L.setFiltersDetails(n,"type","1"),L.setFiltersDetails(n,"default",g),L.setFiltersDetails(n,"current",g),L.setFiltersDetails(n,"dispname",c),L.setFiltersDetails(n,"length",i),L.setFiltersDetails(n,"data",l),L.setFiltersDetails(n,"key","sort"),L.setFiltersDetails(n,"data_type",L.QUERY_OBJ_DT_INT),L.setFiltersDetails(n,"filterLevel",1),L.setFiltersDetails(e,"sort",n),L.setFiltersDetails(e,"sort_order",["sort"])},L.setFileTypeWidgetData=function(e,s){var t={},a=L.getI18NMsg("common.fileType");return L.setFiltersDetails(t,"title",a),L.setFiltersDetails(t,"type","1"),L.setFiltersDetails(t,"default","all"),L.setFiltersDetails(t,"current","all"),L.setFiltersDetails(t,"length",Object.keys(e).length),L.setFiltersDetails(t,"dispname",L.getI18NMsg("gs.search.filter.alltypes")),L.setFiltersDetails(t,"data",e),L.setFiltersDetails(t,"key","searchin"),L.setFiltersDetails(t,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(t,"filterLevel",2),L.setFiltersDetails(s,"filetype",t),s},L.setDateTypeWidgetData=function(e,s,t,a){var r={},a=a||"date",t=t||L.getI18NMsg("gs.search.filter.date_rage");return L.setFiltersDetails(r,"title",t),L.setFiltersDetails(r,"type","1"),L.setFiltersDetails(r,"default","0"),L.setFiltersDetails(r,"current","0"),L.setFiltersDetails(r,"dispname",L.getI18NMsg("gs.search.filter.alldays")),L.setFiltersDetails(r,"fromdate",""),L.setFiltersDetails(r,"todate",""),L.setFiltersDetails(r,"length",Object.keys(e).length),L.setFiltersDetails(r,"data",e),L.setFiltersDetails(r,"key","date"),L.setFiltersDetails(r,"data_type",L.QUERY_OBJ_DT_DATE_TIME),"dueDate"==a||"modifiedTime"==a?L.setFiltersDetails(r,"filterLevel",4):L.setFiltersDetails(r,"filterLevel",2),L.setFiltersDetails(s,a,r),s},L.setGmailWidgetData=function(e,s,t,a){L.setFiltersDetails(a,"order",["accounts"]),L.setFilterObj(e,a)},L.setZendeskWidgetData=function(e,s,t,a,r){for(var o={},i={},n="",l="",g=s.length,c=0;c<g;c++){var d,p=s[c];t.hasOwnProperty(p)&&(d=t[p].orgData||{},1<Object.keys(d).length&&(l=L.getI18NMsg("gs.search.filter.allorganizations"),d[n="0"]=l),i[p]=d)}var u=L.getI18NMsg("gs.search.multi.organization");L.setFiltersDetails(o,"title",u),L.setFiltersDetails(o,"type","3"),L.setFiltersDetails(o,"default",n),L.setFiltersDetails(o,"current",n),L.setFiltersDetails(o,"dispname",l),L.setFiltersDetails(o,"mulSelectKey",!0),L.setFiltersDetails(o,"isDependentKey",!0),L.setFiltersDetails(o,"data",i),L.setFiltersDetails(o,"key","organization"),L.setFiltersDetails(o,"data_type",L.QUERY_OBJ_DT_LONG),L.setFiltersDetails(o,"filterLevel",2),L.setFiltersDetails(a,"organization",o),o={},i={},fLen=3;for(var h={0:L.getI18NMsg("common.allmodules"),ticket:L.getI18NMsg("gs.search.zendesk_ticketModule"),user:L.getI18NMsg("common.users")},c=0;c<g;c++){p=s[c];t.hasOwnProperty(p)&&(i[p]=h)}u=L.getI18NMsg("common.modules");L.setFiltersDetails(o,"title",u),L.setFiltersDetails(o,"type","3"),L.setFiltersDetails(o,"default","0"),L.setFiltersDetails(o,"current","0"),L.setFiltersDetails(o,"dispname",L.getI18NMsg("common.allmodules")),L.setFiltersDetails(o,"length",fLen),L.setFiltersDetails(o,"data",i),L.setFiltersDetails(o,"key","module"),L.setFiltersDetails(o,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(o,"filterLevel",2),L.setFiltersDetails(o,"hasChildFilter",!0),L.setFiltersDetails(a,"modules",o),o={},i={},fLen=5;for(var _={0:L.getI18NMsg("gs.search.zendesk_allUsers"),"end-user":L.getI18NMsg("gs.search.zendesk_endUser"),agent:L.getI18NMsg("gs.search.zendesk_supportAgent"),admin:L.getI18NMsg("gs.search.zendesk_admin")},c=0;c<g;c++){p=s[c];t.hasOwnProperty(p)&&(i[p]=_)}u=L.getI18NMsg("gs.search.zendesk_userType");L.setFiltersDetails(o,"title",u),L.setFiltersDetails(o,"type","3"),L.setFiltersDetails(o,"default","0"),L.setFiltersDetails(o,"current","0"),L.setFiltersDetails(o,"dispname",L.getI18NMsg("gs.search.zendesk_allUsers")),L.setFiltersDetails(o,"length",fLen),L.setFiltersDetails(o,"mulSelectKey",!0),L.setFiltersDetails(o,"parKey","modules"),L.setFiltersDetails(o,"parId",["user"]),L.setFiltersDetails(o,"data",i),L.setFiltersDetails(o,"key","userType"),L.setFiltersDetails(o,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(o,"filterLevel",3),L.setFiltersDetails(a,"userType",o),o={},i={},fLen=5;for(var m={0:L.getI18NMsg("gs.search.zendesk_allPriority"),low:L.getI18NMsg("gs.search.zendesk_lowPriority"),normal:L.getI18NMsg("gs.search.zendesk_normalPriority"),high:L.getI18NMsg("gs.search.zendesk_highPriority"),urgent:L.getI18NMsg("gs.search.zendesk_urgentPriority")},c=0;c<g;c++){p=s[c];t.hasOwnProperty(p)&&(i[p]=m)}u=L.getI18NMsg("gs.search.zendesk_allPriority");L.setFiltersDetails(o,"title",u),L.setFiltersDetails(o,"type","3"),L.setFiltersDetails(o,"default","0"),L.setFiltersDetails(o,"current","0"),L.setFiltersDetails(o,"dispname",L.getI18NMsg("gs.search.zendesk_allPriority")),L.setFiltersDetails(o,"length",fLen),L.setFiltersDetails(o,"mulSelectKey",!0),L.setFiltersDetails(o,"parKey","modules"),L.setFiltersDetails(o,"parId",["ticket"]),L.setFiltersDetails(o,"data",i),L.setFiltersDetails(o,"key","priorityType"),L.setFiltersDetails(o,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(o,"filterLevel",3),L.setFiltersDetails(a,"priorityType",o),i={},i={0:L.getI18NMsg("gs.search.filter.alldays"),today:L.getI18NMsg("gs.search.filter.today"),yesterday:L.getI18NMsg("gs.search.filter.yesterday"),last7days:L.getI18NMsg("gs.search.filter.last7days"),thismonth:L.getI18NMsg("gs.search.filter.thismonth"),customdate:L.getI18NMsg("gs.search.filter.customdate"),customrange:L.getI18NMsg("gs.search.filter.customrange")},a=L.setDateTypeWidgetData(i,a),L.setFiltersDetails(a.date,"filterLevel",3),a.date.length=0,a.date.parId=["ticket"],a.date.parKey="modules",L.setFiltersDetails(a,"order",["accounts","organization","modules","priorityType","statusType","userType","date"]),L.setFilterObj(e,a)},L.setSalesIQWidgetData=function(e,s,t,a){for(var r=s.length,o="0",i={},n=L.getI18NMsg("common.allmodules"),l=L.allModules,g=0;g<r;g++){var c=s[g];if(t.hasOwnProperty(c)&&t[c]&&!_jQueryGS.isEmptyObject(t[c])){var d=t[c];if(L.gssalesiqutils.timezoneData[c]={timezone:d.timezone,offset:d.formattedTzOffset},L.gssalesiqutils.portalVsApiName[c]=d.api_name,0<d.modules.length){var p=d.modules,u=p.length;let s={};var h=0;1<u?(s[0]={key:L.allModules,name:n},h++):(o=l=p[0].id,n=p[0].name);for(let e=0;e<u;e++,h++)s[h]={key:p[e].entity,name:p[e].name};i[c]=s}}}var _={};L.setFiltersDetails(_,"title",L.getI18NMsg("common.modules")),L.setFiltersDetails(_,"type","4"),L.setFiltersDetails(_,"default",l),L.setFiltersDetails(_,"current",o),L.setFiltersDetails(_,"dispname",n),L.setFiltersDetails(_,"length",0),L.setFiltersDetails(_,"isDependentKey",!0),L.setFiltersDetails(_,"data",i),L.setFiltersDetails(_,"key","module"),L.setFiltersDetails(_,"data_type",L.QUERY_OBJ_DT_STRING),L.setFiltersDetails(_,"filterLevel",2),L.setFiltersDetails(_,"mulSelectKey",!0),L.setFiltersDetails(a,"modules",_),L.setFiltersDetails(a,"order",["accounts","modules"]),L.setFilterObj(e,a)}}(zgssearch,window),function(C,e){var S=e._jQueryGS,b=(C=e.zgssearch||{}).getGSConstantObj()||{},o=C.GSClientConstants||{};C.gscomponent;C.gFilterData=C.gFilterData||{},C.deskmodid=["1","2","3","4"],C.config_multiPortals=C.config_multiPortals||{},C.ismultiConfigEnabled=C.ismultiConfigEnabled||!1,C.multiPageServices=C.multiPageServices||[],C.filterDates={},C.filterDates.today={datevalue:"0",datetype:C.QUERY_OBJ_RELATIVE_DATE_TYPE_THIS,timeunit:C.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_DAY},C.filterDates.yesterday={datevalue:"1",datetype:C.QUERY_OBJ_RELATIVE_DATE_TYPE_PREV,timeunit:C.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_DAY},C.filterDates.tomorrow={datevalue:"1",datetype:C.QUERY_OBJ_RELATIVE_DATE_TYPE_NEXT,timeunit:C.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_DAY},C.filterDates.last7days={datevalue:"7",datetype:C.QUERY_OBJ_RELATIVE_DATE_TYPE_LAST,timeunit:C.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_DAY},C.filterDates.next7days={datevalue:"7",datetype:C.QUERY_OBJ_RELATIVE_DATE_TYPE_NEXT,timeunit:C.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_DAY},C.filterDates.thismonth={datevalue:"0",datetype:C.QUERY_OBJ_RELATIVE_DATE_TYPE_THIS,timeunit:C.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_MONTH},C.filterDates.thisweek={datevalue:"0",datetype:C.QUERY_OBJ_RELATIVE_DATE_TYPE_THIS,timeunit:C.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_WEEK},C.filterDates.last2weeks={datevalue:"2",datetype:C.QUERY_OBJ_RELATIVE_DATE_TYPE_LAST,timeunit:C.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_WEEK},C.relativeDateDispName={today:C.getI18NMsg("gs.search.filter.today"),yesterday:C.getI18NMsg("gs.search.filter.yesterday"),last7days:C.getI18NMsg("gs.search.filter.last7days"),last2weeks:C.getI18NMsg("gs.search.filter.last2weeks"),thisweek:C.getI18NMsg("gs.search.filter.thisweek"),thismonth:C.getI18NMsg("gs.search.filter.thismonth"),customdate:C.getI18NMsg("gs.search.filter.customdate")},C.storedFullWidgetResponseData=C.storedFullWidgetResponseData||{},C.storedWidgetResponseData=C.storedWidgetResponseData||{},C.setFullWidgetResponseData=function(e){C.storedFullWidgetResponseData=e},C.getFullWidgetResponseData=function(){return C.storedFullWidgetResponseData},C.setWidgetResponseData=function(e,s){C.storedWidgetResponseData.hasOwnProperty(e)&&delete C.storedWidgetResponseData[e],C.storedWidgetResponseData[e]=s},C.getWidgetResponseData=function(e){return C.storedWidgetResponseData.hasOwnProperty(e)?C.storedWidgetResponseData[e]:{}},C.getWidgetdata=function(){return C.GSConstant.hasOwnProperty("widgetObject")&&C.GSConstant.widgetObject?C.GSConstant.widgetObject:""},C.getAllServiceListFromWidget=function(){var e=C.hasOwnProperty("getWidgetdata")?C.getWidgetdata():"",s="";return s=e?e.hasOwnProperty("allserviceslist")&&e.allserviceslist?e.allserviceslist:"":s},C.getEnabledAccListFromWidget=function(e,s){var t=[];if(s.hasOwnProperty("all"))for(var a=s.all,r=a.length,o=s.aD,i=0;i<r;i++){var n=a[i];((o[n]||{}).e||!1)&&t.push(n)}return t},C.setFilterObj=function(e,s){s&&(C.gFilterData[e]=s)},C.getFilterObj=function(e){return e=C.isArrayContain(e,C.configured_mail_module)?C.mappedServiceList[e].originService:e,C.gFilterData[e]||{}},C.getFilterInfo=function(s,e,t){try{var a=C.getFilterObj(s);if(a.hasOwnProperty(e)){var r=a[e];if(r.hasOwnProperty(t))return r[t]}}catch(e){C.throwClientError("Error in getFilterInfo. service"+s+"  >>>>>>>>>>>>> ",e)}return""},C.getFilterData=function(e,s,t,a,r){var o=C.getWidgetServiceList(e),i=C.getFilterInfo(e,s,t),n=C.getFilterInfo(e,s,"type");if(i&&""!=i)if("1"==n||"6"==n){if(i.hasOwnProperty(a))return i[a]}else if("2"==n){for(var l in i)if((d=i[l]).hasOwnProperty(a))return d[a]}else if("3"==n){var g=C.getFilterAccountKeyName(e,s,n),t=r||C.getFilterInfo(e,g,"current");if(i.hasOwnProperty(t))if((d=i[t]).hasOwnProperty(a))return d[a]}else if("4"==n){var g=C.getFilterAccountKeyName(e,s,n),c=r||C.getFilterInfo(e,g,"current");if(i.hasOwnProperty(c))for(p in d=i[c])if((u=d[p]).key==a)return u.name}else if("5"==n){var d,p,u,c=r||C.getFilterInfo(e,o.key,"current");if(i.hasOwnProperty(c))for(p in d=i[c])if((u=d[p]).ID==a)return u.NAME}return""},C.updateFilterInfo=function(e,s,t,a){e=C.getFilterObj(e);!e.hasOwnProperty(s)||(s=e[s]).hasOwnProperty(t)&&(s[t]=a)},C.isServiceHasFilter=function(e){var s=!1,t=C.isArrayContain(e,C.configured_mail_module)?C.mappedServiceList[e].originService:e;if(i=C.getFilterObj(t))for(var a=C.getServiceOrders(i),r=0;r<a.length;r++){var o,i,n=a[r];i.hasOwnProperty(n)&&((1<((o=i[n]).length||0)||"6"==o.type&&t===b.MAILS)&&(s=!0),t!=C.GSConstant.ASANA||n!=C.WS||s||(i=C.getFilterObj(t)))}return s},C.isServiceHasWidget=function(e){var s=!1;try{var t,a,r=C.getFilterObj(e);if(e=C.isArrayContain(e,C.configured_mail_module)?C.mappedServiceList[e].originService:e,C.isArrayContain(e,C.account_based_filter_service_list))return!0;r&&(t=C.getWidgetKey(e),!r.hasOwnProperty(t)||(1<((a=r[t]).length||0)||"6"==a.type&&e===b.MAILS)&&(s=!0))}catch(e){}return s},C.getCurrentKeyData=function(e,s){var t=C.getFilterObj(e);if(t){var a=C.getWidgetKey(e);if(t.hasOwnProperty(a)){var r=C.getCurrentValue(a,e)||"";switch(s){case"current":return r;case"dispname":return t[a].data[r]||""}}}},C.isWidgetService=function(e){switch(e){case b.STREAMS:case b.MAILS:case b.CRM:case b.SUPPORT:case b.CONNECT:case b.WIKI:case b.REPORTS:case b.CREATOR:case b.PEOPLE:case b.BOOKS:case b.INVOICE:case b.INVENTORY:case b.WEBSITE:case b.WORKDRIVE:case b.ORGRESOURCES:case b.CAMPAIGNS:case b.DROPBOX:case b.GOOGLEDRIVE:case b.BOX:case b.SLACK:case b.SALESFORCE:case b.O365MAIL:case b.ONEDRIVE:case b.CALENDAR:case b.NOTEBOOK:case b.ASANA:case b.BIGIN:case b.EVERNOTE:case b.PROJECTS:case b.SALESIQ:return!0}return!1},C.getWidgetKey=function(e){return e!==b.CREATOR?C.getWidgetServiceList(e).key||"":"apps"},C.updateFilterParamsForService=function(e,s,t){var a=C.getFilterObj(e);if(a)for(var r=C.getServiceOrders(a),o=0;o<r.length;o++){var i,n,l=r[o];a.hasOwnProperty(l)&&(n=(i=a[l]).key,i=i.data,s.hasOwnProperty(n)&&(n=s[n],C.updateFilterInfo(e,l,"current",n),C.updateFilterInfo(e,l,"dispname",i[n]),t&&C.updateFilterInfo(e,l,"default",n)))}},C.setDefaultFiltersParams=function(e,s){s=s||C.getSearchType();b.ALL!=s&&b.CONNECT!=s||e.hasOwnProperty("searchin")||(e.searchin="all")},C.isListViewSearch=function(){var e=C.getQueryText();return!C.isQueryValid(e)&&!C.isQueryHasUserCriteria()},C.isMultiDefaultAccount=function(e,s){var t=C.getFilterObj(e),e=C.getWidgetServiceList(e);if(t&&e&&(t.hasOwnProperty(e.key)&&s==t[e.key].mdefault))return!0;return!1},C.updateMultiPageFlag=function(e,s){var t=C.getWidgetServiceList(e);C.isServiceHasMultiPortals(e)&&s==t.key&&(C.multiPageEnabled=!1,t=C.getCurrentValue(s),s=C.gsfilters.getDefValueForServiceType(e,s,!0),t&&t[0]!==s||(C.multiPageEnabled=!0))},C.initWidgetList=function(){var e,s,t;"COMPLETE"!=C.statusOfWidgetFetchData&&b.hasOwnProperty("widgetObject")&&(C.statusOfWidgetFetchData="COMPLETE",e=b.widgetObject,C.loadWidgetList(e),t=C.getEnabledServiceList(),s=C.getAccessibleServiceList(),0<t.length&&0<!s.length&&C.setAccessibleServiceList(t),t=C.getConstAllServList()||[],e.allserviceslist&&0<!t.length&&C.setConstAllServList(e.allserviceslist),C.updateAndRenderServicelistWithLatestWidgetData(),C.fetchAdditionlInfo())},C.updateAndRenderServicelistWithLatestWidgetData=function(){var e,s,t=C.gscomponent.pcode;("ZO"!=t&&"SS"!=t&&"ZW"!=t||"ZO"==t&&C.gscomponent.zsoid&&"-1"!=C.gscomponent.zsoid)&&(e=C.getConstAllServList()||[],t=(s=C.getAllServiceListFromWidget()||[]).length>=e.length?s:e,C.setConstAllServList(t),s=C.getAccessibleServiceList()||[],t=(e=C.getEnabledServiceList()||[]).length>=s.length?e:s,C.storeServiceList(t,"serviceList"),C.storeServiceList(t,"orderedServiceList"),C.hasOwnProperty("gsautocomplete")&&C.gsautocomplete.addServices(),C.setAccessibleServiceList(t),0<(s=C.getExtraServiceList(e,s)||[]).length&&(C.renderNewServiceInLeftPanel(s),"askZia"===C.selectedLeftPanelDivision&&C.handleListOfEnabledServicesForAskZia()))},C.setFiltersDetails=function(e,s,t){e[s]=t},C.updateConfigPortals=function(){C.ismultiConfigEnabled=!0},C.updateMultiPageServiceList=function(e,s){C.updateConfigPortals();var t=b.widgetObject.hasOwnProperty("allserviceslist")?b.widgetObject.allserviceslist:C.serviceList;return 1<s&&C.isArrayContain(e,t)?(C.isArrayContain(e,C.multiPageServices)||C.multiPageServices.push(e),!0):(1===s&&C.isArrayContain(e,C.multiPageServices)&&(e=C.multiPageServices.indexOf(e),C.multiPageServices.splice(e,1)),!1)},C.isServiceHasSubMultiPortals=function(e){return C.isArrayContain(e,C.configured_mail_module)},C.isServiceHasMultiPortals=function(e){return C.isArrayContain(e,C.multiPageServices)},C.updateSupportFilterInfo=function(e){var s=C.getFilterObj(e);if(s&&b.SUPPORT==e){var t=C.getFilterInfo(e,"accounts","current"),s=C.getFilterInfo(e,"departments","data"),a="";if(s.hasOwnProperty(t)){var r,o=s[t];for(r in o){C.updateFilterInfo(e,"departments","default",r),C.updateFilterInfo(e,"departments","current",r),a=o[r];break}}else C.updateFilterInfo(e,"departments","default","0"),C.updateFilterInfo(e,"departments","current","0"),a=C.getI18NMsg("gs.search.filter.alldepartments");C.updateFilterInfo(e,"departments","dispname",a);s=C.getFilterInfo(e,"modules","data");if(s.hasOwnProperty(t)){var i,n=s[t];for(i in n){C.updateFilterInfo(e,"modules","default",i),C.updateFilterInfo(e,"modules","current",i),C.updateFilterInfo(e,"modules","dispname",n[i]);break}}}},C.formatMailFoldersDetails=function(e){var s={},t=[C.getI18NMsg("gs.search.service_outbox")+"/"];s[0]={key:"0",tip:C.getI18NMsg("gs.search.filter.allfolders"),name:C.getI18NMsg("gs.search.filter.allfolders")};for(var a=0;a<e.length;a++){var r,o=(e[a]||"").split(","),i=o[0]||"",n=o[1]||"";C.isArrayContain(n,t)||(-1<(o=(r=n).substr(0,n.length-1)).indexOf("/")&&(r=".../"+(o=o.split("/"))[o.length-1]+"/"),s[a+1]={key:i,tip:n,name:r})}return s},C.formatMailLabelsDetails=function(e){var s={};s[0]={COLOR:"",ID:"alltags",NAME:C.getI18NMsg("gs.search.filter.alltags")};for(var t=0;t<e.length;t++){var a=e[t]||{};S.isEmptyObject(a)||(s[t+1]=e[t]||{})}return s},C.formatDeskModulesDetails=function(e){var s,t={},a={},r={};for(s in a[0]=C.getI18NMsg("common.allmodules"),e)C.isArrayContain(s,C.deskmodid)?a[s]=e[s]:r[s]=e[s];return t.moduleData=a,t.unusedModuleData=r,t.length=Object.keys(a).length,t},C.updateDateFormat=function(e,s,t){var a,r,o=new Date,i=("0"+o.getDate()).slice(-2),n=o.getMonth()+1,l=o.getFullYear(),g="",c="",d="",p={1:"-01-",2:"-02-",3:"-03-",4:"-04-",5:"-05-",6:"-06-",7:"-07-",8:"-08-",9:"-09-",10:"-10-",11:"-11-",12:"-12-"};switch(t){case"today":c=d=i+(g=p[n])+l;break;case"yesterday":var u=new Date(o);u.setDate(o.getDate()-1),i=("0"+u.getDate()).slice(-2),n=u.getMonth()+1,l=u.getFullYear(),c=d=i+(g=p[n])+l;break;case"tomorrow":u=new Date(o);u.setDate(o.getDate()+1),i=("0"+u.getDate()).slice(-2),n=u.getMonth()+1,l=u.getFullYear(),c=d=i+(g=p[n])+l;break;case"last7days":var d=i+(g=p[n])+l,h=new Date(o);h.setDate(o.getDate()-7),i=("0"+h.getDate()).slice(-2),n=h.getMonth()+1,l=h.getFullYear(),c=i+(g=p[n])+l;break;case"next7days":c=i+(g=p[n])+l,h=new Date(o);h.setDate(o.getDate()+7),i=("0"+h.getDate()).slice(-2),n=h.getMonth()+1,l=h.getFullYear(),d=i+(g=p[n])+l;break;case"thisweek":if(e===b.CALENDAR){var _=new Date(o.setDate(o.getDate()-o.getDay())),m=new Date(o.setDate(o.getDate()-o.getDay()+6));switch(d=i+(g=p[n])+l,C.getFilterInfo("calendar","eventTypes","current")){case"0":c=(i=("0"+_.getDate()).slice(-2))+(g=p[n=_.getMonth()+1])+(l=_.getFullYear()),d=(i=("0"+m.getDate()).slice(-2))+(g=p[n=m.getMonth()+1])+(l=m.getFullYear());break;case"1":c=d,d=(i=("0"+m.getDate()).slice(-2))+(g=p[n=m.getMonth()+1])+(l=m.getFullYear());break;case"-1":c=(i=("0"+_.getDate()).slice(-2))+(g=p[n=_.getMonth()+1])+(l=_.getFullYear())}}else{var z=o.getDay()||7;o.setHours(-24*z),i=("0"+o.getDate()).slice(-2),n=o.getMonth()+1,l=o.getFullYear(),c=i+(g=p[n])+l,o.setHours(144),i=("0"+o.getDate()).slice(-2),n=o.getMonth()+1,l=o.getFullYear(),d=i+(g=p[n])+l}break;case"thismonth":if(g=p[n],e===b.CALENDAR){var v=new Date(o.getFullYear(),o.getMonth(),1),f=new Date(o.getFullYear(),o.getMonth()+1,0),l=v.getFullYear();switch(C.getFilterInfo("calendar","eventTypes","current")){case"0":c=(i=("0"+v.getDate()).slice(-2))+g+l,d=(i=("0"+f.getDate()).slice(-2))+g+l;break;case"1":c=i+g+l,d=(i=("0"+f.getDate()).slice(-2))+g+l;break;case"-1":d=i+g+l,c=(i=("0"+v.getDate()).slice(-2))+g+l}}else{d=i+g+l;z=new Date(o);z.setDate(1),i=("0"+z.getDate()).slice(-2),n=z.getMonth()+1,l=z.getFullYear(),c=i+(g=p[n])+l}}C.isMoreFilterListDisplay?(C.curMoreFiltersList[s]=t,C.curMoreDateFiltersList={fromdate:c,todate:d},S(a="#zgs20_gsMoreFilterElem_"+s).attr("soid",t),r=C.getFilterData(e,s,"data",t),S(a).find(".zgs19_gsMoreFilterValue").attr("gstitle",r).text(r),t=C.getFilterInfo(e,s,"default")==t?"zgs19_tc2fa6ea":"zgs19_tcfd9c10",S(a).find(".zgs19_gsMoreFilterValue").removeClass("zgs19_tc2fa6ea zgs19_tcfd9c10").addClass(t)):(C.updateFilterInfo(e,s,"fromdate",c),C.updateFilterInfo(e,s,"todate",d))},C.toggleCreatorFormViewsHeader=function(e){S(C.currCreatorFilterHeaderSelectedEleId).addClass("zgs19_gsModuleFilterSerNameSelect"),C.currCreatorFilterHeaderSelectedEleId="#zgs20_gs"+e,S(C.currCreatorFilterHeaderSelectedEleId).removeClass("zgs19_gsModuleFilterSerNameSelect")},C.clickActionForWidgetList=function(e){var s=C.getSearchType(),t=S(e).attr("ftype"),a=C.getQueryText(),r=!1,o=S(e).attr("key"),i=S(e).attr("fkey"),e=C.getCurrentValue(i,s);(C.isQueryValid(a)||C.isQueryHasUserCriteria())&&(r=!0),C.handleSearchCall(s),r||("formList"==t||"viewList"==t||"pageList"==t?(C.hideFilterList(),C.toggleCreatorFormViewsHeader(t),C.gscreator.loadCreatorFormView(o,t)):"customrange"!=o&&"customdate"!=o&&o!=e&&(C.updateMultiPageFlag(s,i),C.displayModuleResultPage()))},C.clickActionForMoreInnerList=function(e){var s=C.getSearchType(),t=S(e).attr("key"),a=S(e).attr("fkey"),r=S(e).attr("value"),e=C.getFilterInfo(s,a,"key");"customrange"==t||"customdate"==t?(C.curDatePickerObj={service:s,key:a,soid:t},C.handleDatePicker(t)):"date"==e?C.updateDateFormat(s,a,t):(e="#zgs20_gsMoreFilterElem_"+a,C.curMoreFiltersList[a]=t,S(e).attr("soid",t),S(e).find(".zgs19_gsMoreFilterValue").attr("gstitle",r).text(r),t=C.getFilterInfo(s,a,"default")==t?"zgs19_tc2fa6ea":"zgs19_tcfd9c10",S(e).find(".zgs19_gsMoreFilterValue").removeClass("zgs19_tc2fa6ea zgs19_tcfd9c10").addClass(t))},C.getServiceOrders=function(e){var s=e.order||[],e=e.sort_order||[];return s?s.concat(e):{}},C.updateSubMultiPageFlag=function(e){C.subMultiPageEnabled="0"===e},C.updateServiceFilters=function(e,s,t){e=C.isArrayContain(e,C.configured_mail_module)?C.mappedServiceList[e].originService:e;var a,r=C.isArrayContain(s,C.configured_mail_module)?C.mappedServiceList[s].originService:s;C.isArrayContain(r,C.account_based_filter_service_list)&&r==C.GSConstant.PROJECTS&&"sortduedate"==C.getFilterInfo(s,"sort","current")&&("0"!=(r=C.getFilterInfo(s,o.Common.modules,"current"))&&"4"!=r&&"7"!=r&&"9"!=r||(a=C.getFilterInfo(s,"sort","default"),r=C.getFilterInfo(s,"sort","data"),C.updateFilterInfo(s,"sort","current",a),C.updateFilterInfo(s,"sort","dispname",r[a]))),s!=e&&(s=C.hasOwnProperty("gshistory")&&s?C.gshistory.getProperServiceName(s):e,a=C.getServiceList("serviceList")||[],!C.isArrayContain(e,a)||(s=C.getFilterObj(e))&&(a=C.getServiceOrders(s),C.resetToAllDefaultFilter(a,void 0,s,e)))},C.resetToAllDefaultFilter=function(e,s,t,a){var r=e.length;if(0<r)for(var o=0;o<r;o++){var i,n,l,g=e[o];t.hasOwnProperty(g)&&g!==s&&(n=(i=t[g]).default,l=C.getFilterData(a,g,"data",n),C.updateFilterInfo(a,g,"current",n),l&&C.updateFilterInfo(a,g,"dispname",l),"1"==i.type&&C.updateSupportFilterInfo(a),"date"==g&&(C.updateFilterInfo(a,g,"todate",""),C.updateFilterInfo(a,g,"fromdate","")))}},C.storeMailLabelInfo=function(e,s,t){var a,r;0<(e=e||[]).length&&(a={},(r={})[t]=C.formatMailLabelsDetails(e),t=C.getI18NMsg("gs.search.filter.tags"),C.setFiltersDetails(a,"title",t),C.setFiltersDetails(a,"type","5"),C.setFiltersDetails(a,"data",r),C.setFiltersDetails(a,"key","labelId"),C.setFiltersDetails(a,"default","alltags"),C.setFiltersDetails(a,"current","alltags"),C.setFiltersDetails(a,"length",e.length),C.setFiltersDetails(a,"dispname",C.getI18NMsg("gs.search.filter.alltags")),C.setFiltersDetails(s,"labels",a))},C.fetchSupportModuleInfo=function(e,s){e={service:e,portalId:s},s="action=fetchDeskModuleDetails&portalId="+encodeURIComponent(s);C.uri(C.GET,C.fetchActionsURL,s,e,function(e,s,t){var a=t.args||{},r=C.jsonParse(e),t=C.formatDeskModulesDetails(r),e=C.getFilterInfo(a.service,"modules","data"),r=C.getFilterInfo(a.service,"modules","unusedModData");e[a.portalId]=t.moduleData,r[a.portalId]=t.unusedModuleData,C.updateFilterInfo(a.service,"modules","data",e),C.updateFilterInfo(a.service,"modules","unusedModData",r)})},C.fetchFinancePlusModuleInfo=function(e,s){var t={service:e,portalId:s},s="action=fetchFinancePlusModules&service="+e+"&orgId="+encodeURIComponent(s);C.uri(C.GET,C.fetchActionsURL,s,t,function(e,s,t){var a=t.args||{},t=C.jsonParse(e),e=C.formatBooksModulesDetails(t),t=C.getFilterInfo(a.service,"modules","data");t[a.portalId]=e,C.updateFilterInfo(a.service,"modules","data",t)})},C.fetchAdditionlInfo=function(){C.loadResultsFromHolder(),C.hasOwnProperty("gsversion")&&C.gsversion.checkGSVersion()},C.initWidgetList()}(zgssearch,window),function(x,o){var k=o._jQueryGS,U=x.getGSConstantObj()||{},m=x.gsfilters||{};x.isContextBoxOpened=!1,x.setService=function(e){x.searchObj={},x.searchObj.service=e,x.setSearchType(e)},x.hasValueInSearchObj=function(e){return x.searchObj.hasOwnProperty(e)},x.getCurrentValue=function(e,s){var t=x.searchObj;s=s||t.service;s=x.getFilterInfo(s,e,"default");if(t.service===U.ALL)return s;e=t[e];return e?e[0]:s},x.setCurrentValue=function(e,s){x.searchObj[e]=[s]},x.checkContextFiltersAppliedOrNot=function(e,s){e=x.searchObj[e];return 1<e.length||e[0]===s},x.showFilterContainer=function(){var e=k("#zgs20_gsOverlayDialog");e.empty(),m.currentFilterComponent=x.filtercomponent.getSearchFilterComponent(),0===k("#zgs20_gsfilterHolder").length&&(m.createFilterHolder(e),m.addEventsForFiltersPage()),m.currentFilterObj=Object.assign({},x.searchObj),x.isFilterPageOpened=!0,m.renderFilters(),m.disabledApplyButton(),m.topHolderElem=k("#zgs20_gsQueryBoxHolder"),m.parentElem=1===x.gscomponent.UIType?k(".zgs19_zohosearch"):k(".zgs19_gsHolder"),x.setSearchFilterContainerPosition(),m.checkAndApplyResetEnabledOrNot()},x.hideFilterContainer=function(){m.hideEachFilterPopUp("zgs20_gsFilterPopup");var e=k("#zgs20_gsOverlayDialog");k("#zgs20_gsfilterHolder").remove(),e.css("display","none"),k("#zgs20_globalsearch").focus(),x.isFilterPageOpened=!1,e.removeClass("zgs19_gsContextualOverlay"),delete m.currentFilterComponent},x.setSearchFilterContainerPosition=function(){var e=m.topHolderElem,s=x.gscomponent.UIType,t=k("#zgs20_gsfilterHolder"),a=m.parentElem,r=parseFloat(k(e).outerHeight()),o=m.getoffset(k(e)),i=m.getoffset(a),n=o.top+r-i.top,l=(d=k("#zgs20_gsQueryBoxHolder")[0].getBoundingClientRect()).width,e=k("#zgs20_gsSSIconHolder").is(":visible")?k("#zgs20_gsSSIconHolder").outerWidth(!0):0,o=k(".zgs19_gsnlpZia").is(":visible")?k(".zgs19_gsnlpZia").outerWidth(!0):0,r=k("#zgs20_gsFilterIconHolder"),g=(r.is(":visible")&&r.outerWidth(!0),e+o),c=x.gscomponent.isRTLEnabled?"right":"left",d=k("#zgs20_gsQueryBoxHolder")[0].getBoundingClientRect(),p=k(a)[0].getBoundingClientRect(),u=x.gscomponent.isRTLEnabled?p.right-d.right:d.left-p.left;switch(s){case 0:case 2:l-=g;break;case 4:var c=x.gscomponent.isRTLEnabled?"left":"right",h=k("#zgs20_gsFilterIconHolder"),_=k("#zgs20_gsFilterIconHolder")[0].getBoundingClientRect();h.offset().left,i.left,h.width(),parseInt(t.css("max-width"));l-=g,u=x.gscomponent.isRTLEnabled?_.left-p.left:p.right-_.right}t.css({"inset-block-start":Math.floor(n),width:l}).click().focus(),t.css(c,Math.floor(u));s=k("#zgs20_gsOverlayDialog"),n=s.outerHeight();k("#zgs20_gsfilterBodyHldr").css("max-height",.75*n*.92),s.css("display","block"),t.css("display","block")},x.updateServiceElem=function(e){var s=k("#zgs20_gsFilterElem_app");k(s).empty(),k(s).append(m.renderEachAppMenu(e).append(k("<div>",{class:"zgs18_gsFilterDropDownIcon zgs19_gsfr zgs19_gsMgRt3Px"}))),k(s).attr("service",e),e&&k(s).find(".zgs19_gsNewSerivceTxt").attr("gstitle",x.mappedServiceList[e].displayName),e!==U.ALL&&k(s).find(".zgs19_gsNewSerivceTxt").addClass("zgs19_tc2fa6ea")},x.applyFilterActions=function(){var e,s=m.getCurrentService(),t=m.getCurrentFilterObj();if(x.isAdvancedFitersApplied){if(e=x.getAdvanceSearchConfig(),!x.isAdvCriteriaCorrect)return;0<e.length?(t.advConfig=e,t.qryPattern=x.getAdvanceQueryPattern()):(delete t.advConfig,delete t.qryPattern)}s!==x.getSearchType()&&(x.updateSearchType(s),x.setService(s)),x.searchObj=Object.assign({},t),x.handleSearchCall(s),m.hideEachFilterPopUp("zgs20_gsFilterPopup"),x.hideFilterContainer()},x.cancelFilterActions=function(){m.currentFilterObj={},x.isAdvancedFitersApplied&&x.gsadvancesearch.cancelEditCriteria(),x.hideFilterContainer()},x.resetFilterActions=function(){m.currentFilterObj={},m.currentFilterObj.service=U.ALL,x.isAdvancedFitersApplied&&x.gsadvancesearch.cancelEditCriteria(),m.renderFilters(m.currentFilterComponent),m.enableApplyButton(),m.disableResetFilter()},x.enableApplyButton=function(){k("#zgs20_gsnewFilterSaveBtn").removeClass("zgs19_gsHideEleme")},x.disableApplyButton=function(){k("#zgs20_gsnewFilterSaveBtn").addClass("zgs19_gsHideEleme")},x.updateSearchObjForContextFilters=function(e,s,t,a){if(x.checkIsAdvanceSearchField(s,t)){x.setParentMetaData(e,t),x.checkServiceAndClearAdvConfig(s);var r,o,i=x.searchObj,n=i.advConfig||[];n.length<x.gsadvancesearch.maxCriteriaSelectCount?(r={name:x.getRespectiveAPIName(t),operator:0,type:2,value:[a]},0<n.length?(n.push(r),o=1<(o=i.qryPattern||"").length?o.substr(0,o.length-1):"( "+o+" ",o+="and "+n.length+" )",i.qryPattern=o):(i.advConfig=x.formNewQueryObjectModelForAdvanceSearch([r]),i.qryPattern="1")):x.showTopbannertip({ty:3,msg:x.I18N.getValue("common.adv.maxCriteria_error",[gsadvancesearch.maxCriteriaSelectCount])})}else{x.setCurrentValue(t,a);var l={},a=k(e).attr("acc_id");a&&(l.accounts=a);a=k(e).attr("teamId");a&&(l.teams=a);a=k(e).attr("pid");a&&(l.projects=a);a=k(e).attr("fId");a&&s!==U.SUPPORT&&(l.folders=a);e=k(e).attr("gsmodule");if(e&&(l.modules=e),!k.isEmptyObject(l))for(var g in l)x.setCurrentValue(g,l[g])}},x.checkServiceAndClearAdvConfig=function(e){e===x.GSConstant.GMAIL&&x.searchObj.hasOwnProperty("advConfig")&&(x.searchObj.advConfig=[])},x.checkIsAdvanceSearchField=function(e,s){if(x.isAdvanceSearchEnabledForService(e))switch(e){case U.NOTEBOOK:return"notecardtype"===s;case U.GMAIL:return"labels"===s;default:return!1}return!1},x.setParentMetaData=function(e,s){switch(s){case"notecardtype":x.setCurrentValue("modules","notes");break;case"labels":var t=k(e).attr("acc_id")||"";t&&x.setCurrentValue("accounts",t)}},x.getRespectiveAPIName=function(e){switch(e){case"notecardtype":return"notesType";case"labels":return"label";default:return e}},x.renderFiltersInfoAction=function(s){m.checkFiltersAppliedOrNot();var e=k("#zgs20_gsModuleFilterList"),t=x.getSearchType();if("askZia"===x.selectedLeftPanelDivision)x.appendAskZiaFiltersTab();else if(t!==U.ALL){var a=x.isArrayContain(s,x.configured_mail_module)?x.mappedServiceList[s].originService:s,r=x.getFilterObj(a),o=r.sort_order||[];0===e.length&&(k("#zgs20_gsSearchResultMiddle").prepend(k("<div>",{id:"zgs20_gsModuleFilterList",class:"zgs19_gsModuleFilterList"})),e=k("#zgs20_gsModuleFilterList")),e.empty().show(),e.append(k("<div>",{id:"zgs20_gsModuleFilterDataHolder",class:"zgs19_gsModuleFilterDataHolder zgs19_gsOverflow zgs19_gsfl"})),k("#zgs20_gsModuleFilterSortHolder").css("display","none"),m.appliedFilters=m.compareWithDefObj(x.searchObj,!0);var i=m.appliedFilters+1,n=x.getQueryText(),t=x.isSortNeeded(s,o,n),a=m.checkAndReturnFiltersTabElement("filters","zgs20_gsfiltersAppliedTitle"),o=i+" "+(1===i?x.getI18NMsg("common.info.appliedFilter"):x.getI18NMsg("common.info.appliedFilters"));if(a.text(o).attr("gstitle",o),a.attr("gsa",s+"_resultarea_filter"),t&&(n=m.checkAndReturnFiltersTabElement("sort","zgs20_gsSortname"),a=l=o=i="",i=x.getFilterInfo(s,"sort","default"),o=x.getCurrentValue("sort",s),l=r.sort.data[o],a=i===o?"zgs19_tc2fa6ea":"zgs19_tcfd9c10",n.attr("soid",o),n.attr("gstitle",l),n.removeClass().addClass("zgs19_gsModuleFilterSerNameNew zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl "+a),n.text(l),k("#zgs20_gsModuleFilterSortHolder").css("display","block")),x.mappedServiceList[s]?.timezoneBased&&!x.multiPageEnabled&&x.searchObj&&x.searchObj.accounts){var l=x.searchObj.accounts[0];let e="";x["gs"+s+"utils"]?.timezoneData&&x["gs"+s+"utils"]?.timezoneData?.[l]?(l=x["gs"+s+"utils"]?.timezoneData[l],e=l.timezone+" ( "+x.getI18NMsg("gs.search.calendar.callout.GMT")+" "+l.offset+" )"):k("#zgs20_gsTimezone").css("display","none"),t&&m.checkAndReturnFiltersTabElement("separator"),m.checkAndReturnFiltersTabElement("timezone","zgs20_gsTimezone"),k("#zgs20_gsTimezone").attr("gstitle",e)}k("#zgs20_gsModuleFilterDataHolder").css("width","100%").css("height","100%"),k("#zgs20_gsModuleFilterSortHolder").css("display","block"),x.addEventForFilterElem()}else e.empty().hide()},x.addEventForFilterElem=function(){k(".zgs19_gsModuleFilterElemHolder").off().on({mousemove:function(){x.showFilterElemIcon(this)},click:function(){x.showFilterElemIcon(this)},mouseleave:function(){x.hideFilterElemIcon(this)}})},x.tabFilterActions=function(e){var s=k(e).attr("key"),t=k(e).attr("value"),e=k(e).attr("fkey");x.getCurrentValue(e)!=s&&(x.setCurrentValue(e,s),s=s===x.getFilterInfo(x.getSearchType(),"sort","default")?"zgs19_tc2fa6ea":"zgs19_tcfd9c10",k(".zgs19_gsModuleFilterSerNameNew").text(t).attr("gstitle",t).removeClass().addClass("zgs19_gsModuleFilterSerNameNew zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl "+s),x.hideFilterList(),x.handleSearchCall(x.getSearchType()))},x.checkIfKeyPresentInAdvanceSearch=function(e,s){if(x.isAdvanceSearchEnabledForService(e)){var t=x.searchObj.advConfig||[];e===U.NOTEBOOK&&"notecardtype"===s&&(s="notesType");for(var a=0;a<t.length;a++)if(t[a].name===s)return!1}return!0},x.showContextFilterDialog=function(e,s,t,a){var r,o,i,n,l,g,c=x.searchObj[s]||"";1===c.length&&s==c[0]||(g=k(a),r=(m.selectedContextElem=g).attr("acc_id"),o=g.attr("pid"),i=g.attr("gsmodule"),n=g.attr("fId"),l=g.attr("teamId"),c=g.attr("organizationId"),g=x.replaceHTMLEntity(k(a).text()),g=k("<div>",{class:"zgs19_gsContextFilterTxt zgs19_gsOverflow",gs:"newfilterActions",actiontype:"contextFilters"}).append(k("<span>",{class:"zgs19_gs606060Col",gs:"newfilterActions",actiontype:"contextFilters"}).append(x.I18N.getValue("common.sugg.filterby")+" ")).append(k("<span>",{class:"zgs19_gsFontWeight600",gs:"newfilterActions",actiontype:"contextFilters"}).text(g)),g=k("<div>",{class:"zgs19_gsContextFilterCont",gs:"newfilterActions",actiontype:"contextFilters",fkey:t,key:s,service:e}).append(k("<div>",{class:"zgs18_gsNewFilterIcon zgs19_gsContextIcon zgs19_gsfl"})).append(g),r&&g.attr("acc_id",r),l&&g.attr("teamId",l),o&&g.attr("pid",o),i&&g.attr("gsmodule",i),n&&g.attr("fId",n),c&&g.attr("organizationId",c),(c=k("#zgs20_gsOverlayDialog")).append(g).append(k("<div>",{class:"zgs19_gsContextArrow"})).show(),c.addClass("zgs19_gsContextualOverlay"),x.setContextPosition(a,"zgs19_gsContextFilterCont","zgs19_gsContextArrow"),x.isContextBoxOpened=!0)},x.hideContextFilterDialogBox=function(){m.selectedContextElem={},k(".zgs19_gsContextFilterCont, .zgs19_gsContextArrow").remove(),k("#zgs20_gsOverlayDialog").removeClass("zgs19_gsContextualOverlay"),x.popupUtils.closeOverlayDialog(),x.isContextBoxOpened=!1},x.setContextPosition=function(e,s,t){var a=parseFloat(k(e).outerHeight()),r=k(e).get(0).getBoundingClientRect(),o=x.gscomponent.isRTLEnabled?"right":"left",i={top:r.top,left:r[o]},n=i.top+a,r=i.left,o=k("."+t),i=k(e).outerWidth(),t=1===x.gscomponent.UIType?k(".zgs19_zohosearch"):k(".zgs19_gsHolder"),e=x.gsfilters.getoffset(t);r-=e.left,n-=e.top,parseFloat(k("#zgs20_gsOverlayDialog").outerWidth())-10<r+i?x.gsfilters.hideContextFilterDialogBox():(e=x.isMobViewport()?100:80,e=0<(e=Math.floor(r)-e)?e:0,n>t.height()/2?(n=n-a-(a=k("."+s).outerHeight()),k(o).css("transform","rotate(180deg)"),k("."+s).css({"inset-block-start":Math.floor(n)-10,left:Math.floor(e)}),r=x.gscomponent.isRTLEnabled?Math.floor(r)-(.3*i+20):Math.floor(r)+(.3*i+20),k(o).css({"inset-block-start":Math.floor(n)+a+12,left:Math.floor(r)})):(k("."+s).css({"inset-block-start":Math.floor(n)+10,left:Math.floor(e)}),r=x.gscomponent.isRTLEnabled?Math.floor(r)-.3*i:Math.floor(r)+.3*i,k(o).css({"inset-block-start":Math.floor(n)-12,left:r})))},x.contextFilterActions=function(e){var s=k(e).closest(".zgs19_gsContextFilterCont"),t=k(s).attr("service"),a=k(s).attr("fkey"),e=k(s).attr("key");x.filterThroughOptions(t,e,a,s),k(".zgs19_gsContextFilterCont, .zgs19_gsContextArrow").remove(),k("#zgs20_gsOverlayDialog").removeClass("zgs19_gsContextualOverlay"),x.popupUtils.closeOverlayDialog(),x.isContextBoxOpened=!1},x.moreFilterCheckBoxAction=function(e,s){var t=k(s).find("input").prop("checked"),t=e&&"INPUT"==e.tagName?t:!t;return k(s).find("input").prop("checked",t),t},x.renderSearchQueryHoldersInFilters=function(e,s,t){k("#"+e).css("display","block"),k("#"+e).empty().append(k("<div>",{id:"zgs20_gsFilterQueryHolder",class:"zgs19_gsFilterQueryHolder zgs19_gsModuleFilterWidgetFocus"}).append(k("<span>",{class:"zgs18_gsLensIconTab zgs19_gsfl"})).append(k("<input>",{id:t,class:"zgs19_gsFilterQueryBox zgs19_gsBorderBox",gs:s,type:"text",placeholder:x.getI18NMsg("common.search")}))),x.focusForWeb(t),k("#"+t).attr("autocomplete","off")},x.showingFilterCount=function(e,s){e=k("#zgs20_gsCardModuleFilterElem_"+e).find(".zgs19_gsModuleFilterCount");1<s?(e.text("+"+(s-1)),e.css("display","block")):e.css("display","none")},x.renderModuleFilterWidgetList=function(e){x.currFilterSelectedElem="",x.isFilterListDisplay=!1;var s=k(e).attr("fkey"),t="formList"==s||"viewList"==s||"pageList"==s?"zgs20_gsFormViewsFilterDataHolder":"zgs20_gsModuleFilterList",a="zgs20_gsModuleFilterWidgetList";s!=k("#"+a).attr("fkey")&&(k(x.currFilterListElem).remove(),k("#"+a).empty().remove(),k(".zgs19_gsModuleFilterNameHolderNew").removeClass("zgs19_gsboxholder"),k(".zgs19_gsModuleSortNameHolderNew").removeClass("zgs19_gsboxholder"),x.hideFilterElemIcon(x.oldFilterElemIcon));var r,o,i,n,l=k("#"+a).css("display");null==l||"none"===l?(k(x.currFilterListElem).remove(),k("#"+a).empty().remove(),r=k(e).attr("service")||x.getSearchType(),"formList"!=s&&"viewList"!=s&&"pageList"!=s||(r=U.CREATOR),x.getFilterInfo(r,s,"data"),i=x.getCurrentValue(s,r),n=x.getFilterInfo(r,s,"title"),x.getFilterInfo(r,s,"key"),o=m.isMultiSelectEnabledFilter(r,s),x.getFilterInfo(r,s,"default"),x.curFilterType="gs_filters",l=k("<div>",{id:"zgs20_gsModuleFilterWidgetFooter",class:"zgs19_gsPosRelative zgs19_gsOverflowAuto zgs19_gsPdng10Px0px"}),k("#"+t).append(k("<div>",{id:a,class:"zgs19_gsDropdownOuterElemNew",fkey:s}).append(k("<div>",{class:"zgs19_gsModuleFilterTitleHeader zgs19_gsOverflow",gs:"mFilterWidgetHeader"}).text(n).append("")).append(k("<div>",{id:"zgs20_gsModuleFilterWidgetHeader",class:"zgs19_gsModuleFilterWidgetHeader zgs19_gsDisplayNone",gs:"gsFilterWidgetHeader"})).append(l)),x.currFilterListElem=k("#"+a),x.renderTypeOneModuleFilterList(r,s,"zgs20_gsModuleFilterWidgetFooter",t,a,i),x.curDatePickerElem=e,x.isFilterListDisplay=!0,250<=k("#"+(n="zgs20_gsModuleFilterWidgetFooter"))[0].scrollHeight&&x.renderSearchQueryHoldersInFilters("zgs20_gsModuleFilterWidgetHeader","gsFilterQueryBox","zgs20_gsFilterQueryBox"),s=200<(l=k(e).outerWidth(!0))?l:200,i=20,o&&(i+=20),k("#"+a).css("minWidth",l+i),k("#"+a).css("maxWidth",s+i),k("#"+n).css("maxHeight",250),s="zgs20_gsModuleFilterElemSL_filter"===k(e).parent()[0].id?70:33,k(e).addClass("zgs19_gsboxholder"),i=k("#"+t).width(),n=k("#"+a).width(),t=k(e).outerWidth(!0)-2||0,t=(e=e.offsetLeft)+t,i<e+n&&(n<t?e=t-n:e/=2),k("#"+a).css("inset-block-start",s),k("#"+a).css("left",e),x.focusForWeb("zgs20_gsFilterQueryBox"),m.addEventForFilterQueryBox("zgs20_gsModuleFilterWidgetFooter",r)):x.hideFilterList()},x.renderTypeOneModuleFilterList=function(e,s,t,a,r,o){try{var i,n=0,l=x.getFilterInfo(e,s,"data");for(i in l){var g=(g=l[i]).hasOwnProperty("componentname")?g.componentname:g,c=U.CREATOR==e?"creatorFormsViews":"newfilterActions",d=U.CREATOR==e?s:"tabFilters";x.renderNewFilterList(t,c,n++,s,i,o,g,d)}}catch(e){x.throwClientError("Error in zgssearch.renderTypeOneModuleFilterList ",e)}},x.renderNewFilterList=function(e,s,t,a,r,o,i,n){i=x.replaceHTMLEntity(i);var l=r==o?"zgs19_gsModuleSeleFilterElem":"zgs19_gsModuleUnSeleFilterElem",g="";r==o&&(o=x.isExtension?"zgs19_gsModuleSeleFilterTickMargin":"zgs18_gsModuleSeleFilterTickMargin",g=k("<div>",{class:"zgs18_gsModuleSeleFilterTick "+o}));r=k("<div>",{id:"zgs20_gsFilterQuerySelection"+t,class:" zgs19_gsFilterQuerySelection zgs19_gsModuleFilterServiceChild zgs19_gsCurPointer zgs19_gsOverflow "+l,gs:s,actionType:n,fkey:a,key:r,value:i});r.text(i),k(r).attr("gstitle",i),k(r).attr("index",t),k("#zgs20_gsModuleFilterWidgetList #"+e).append(r).append(g)},x.getAccountValue=function(e,s,t,a,r){var o,i;return e===U.WORKDRIVE&&"4"==s&&(a=t.hasOwnProperty("teams")?t.teams[0]:a),e===U.MAILS&&(a=t.hasOwnProperty("accounts")?a:x.getCurrentValue("accounts",e),"folders"===r&&(a=t.accounts[0])),e===U.PROJECTS&&(o=x.getFilterInfo(e,r,"parKey"),i=x.getFilterInfo(e,r,"parId"),o&&t.hasOwnProperty(o)&&(a=t[o][0]),i&&t.hasOwnProperty(x.gsprojectsutils.projects)&&t.projects[0]&&(a=t[x.gsprojectsutils.projects][0]+"_"+a)),e===U.CONNECT?(o=x.getFilterInfo(e,r,"parKey"),i=x.getFilterInfo(e,r,"parId"),o&&t.hasOwnProperty(o)&&(a=t[o][0]),i&&t.hasOwnProperty(x.gsconnects.accounts)&&t.accounts[0]&&(a=t[x.gsconnects.accounts][0]+"_"+a)):e===U.LEARN&&(o=x.getFilterInfo(e,r,"parKey"),i=x.getFilterInfo(e,r,"parId"),o&&t.hasOwnProperty(o)&&(a=t[o][0]),i&&t.hasOwnProperty(x.GSClientConstants.Common.accounts)&&t.accounts[0]&&(a=t[x.GSClientConstants.Common.accounts][0]+"_"+a),r===x.GSClientConstants.LEARN.manuals&&(a=(r=t.hasOwnProperty("spaces")?"_"+t.spaces[0]:"")?t[x.GSClientConstants.Common.accounts][0]+"_"+t[x.GSClientConstants.LEARN.filterby][0]+r:t[x.GSClientConstants.Common.accounts][0])),a},x.getFilterAccountKeyName=function(e,s,t){var a="accounts";return"3"===t?e===U.ASANA?s!=x.WS&&(a=x.WS):e===U.PROJECTS&&s!=x.gsprojectsutils.projects&&(a=x.gsprojectsutils.projects):"4"==t&&e===U.WORKDRIVE&&"ENTERPRISE"===x.editionTypeForWD&&(a="teams"),a},x.formNewQueryObjectModelQuery=function(e){try{var s,t,a=[];if(e.hasOwnProperty("query"))for(var r=e.query,o=0;o<r.length;o++){var i,n,l,g,c,d,p=r[o];p.hasOwnProperty("query")?(i={},n=[p.query],i[x.QUERY_OBJ_NAME]="zs_query",i[x.QUERY_OBJ_VALUE]=n,i[x.QUERY_OBJ_TYPE]=x.QUERY_OBJ_DT_QUERY,i[x.QUERY_OBJ_OPERATOR]=x.QUERY_OBJ_STRING_CONTAINS,a.push(i)):p.hasOwnProperty("men_user_zuid")?(l={},g=[p.men_user_zuid],l[x.QUERY_OBJ_NAME]="zs_mention",l[x.QUERY_OBJ_VALUE]=g,l[x.QUERY_OBJ_TYPE]=x.QUERY_OBJ_DT_MENTION,l[x.QUERY_OBJ_OPERATOR]=x.QUERY_OBJ_LONG_IS,a.push(l)):p.hasOwnProperty("men_user_email")&&(c={},d=[p.men_user_email],c[x.QUERY_OBJ_NAME]="mentioned_email",c[x.QUERY_OBJ_VALUE]=d,c[x.QUERY_OBJ_TYPE]=x.QUERY_OBJ_DT_MAILID,c[x.QUERY_OBJ_OPERATOR]=x.QUERY_OBJ_LONG_IS,a.push(c))}e.hasOwnProperty("nlpsearch")&&(s={},t=e.nlpsearch,s[x.QUERY_OBJ_NAME]="nlpsearch",s[x.QUERY_OBJ_VALUE]=t,s[x.QUERY_OBJ_TYPE]=x.QUERY_OBJ_DT_STRING,s[x.QUERY_OBJ_OPERATOR]=x.QUERY_OBJ_STRING_CONTAINS,a.push(s));var u=e.service,h=x.getFilterObj(u);if(h&&!k.isEmptyObject(h)){e.hasOwnProperty("accounts")?e.accounts:x.getFilterInfo(u,"accounts","current");for(var _=e.hasOwnProperty("accounts")?"accounts":"",m=(_&&e[_][0],x.getServiceOrders(h)),z=m.length,o=0;o<z;o++){var v=m[o];if(h.hasOwnProperty(v)&&e.hasOwnProperty(v)){var f,C,S,b,y,I,O,P=h[v],w=""+P.default,D=P.key,E=e[v];if(E&&E[0])if("sort"!==v){if("accounts"===v&&"0"!==E[0]?((f={})[x.QUERY_OBJ_NAME]="accounts_list",f[x.QUERY_OBJ_VALUE]=E,f[x.QUERY_OBJ_TYPE]=P.data_type,f[x.QUERY_OBJ_OPERATOR]=x.QUERY_OBJ_LONG_IS,a.push(f)):E[0]===w&&(u!==U.NOTEBOOK&&u!==U.MAILS&&u!==U.LEARN||"modules"!==v&&v!==x.GSClientConstants.LEARN.manuals&&v!==x.GSClientConstants.LEARN.spaces)||("date"===D?(C={},S=E[0],x.filterDates.hasOwnProperty(S)?(b=[x.filterDates[S]],(y=k.extend(!0,{},b))[0].datetype=b[0].datetype,C[x.QUERY_OBJ_TYPE]=x.QUERY_OBJ_DT_RELATIVE_DATE,C[x.QUERY_OBJ_OPERATOR]=x.QUERY_OBJ_LONG_IS,C[x.QUERY_OBJ_VALUE]=[y[0]]):(I=S.fdate+" 00:00:00",O=S.tdate+" 23:59:59",C[x.QUERY_OBJ_TYPE]=x.QUERY_OBJ_DT_DATE_TIME,C[x.QUERY_OBJ_OPERATOR]=x.QUERY_OBJ_LONG_BETWEEN,C[x.QUERY_OBJ_VALUE]=[I,O]),C[x.QUERY_OBJ_NAME]="date",a.push(C)):((A={})[x.QUERY_OBJ_NAME]=D,A[x.QUERY_OBJ_VALUE]=E,A[x.QUERY_OBJ_TYPE]=P.data_type,A[x.QUERY_OBJ_OPERATOR]=x.QUERY_OBJ_LONG_IS,a.push(A))),u===x.GSConstant.PROJECTS&&"projects"==v){var T,A,M="project_id"==(A=A||{}).name,F=E[0];if(M&&"0"==F)for(var N in a)"project_id"==a[N].name&&delete a[N];M||"0"==F||(T=x.gsprojectsutils.projects,(A={})[x.QUERY_OBJ_NAME]="project_id",A[x.QUERY_OBJ_VALUE]=E,A[x.QUERY_OBJ_TYPE]=h[T].data_type,A[x.QUERY_OBJ_OPERATOR]=x.QUERY_OBJ_LONG_IS,a.push(A))}}else{var L={},R="sortrelv"===E[0]||"sortCreatedDate"===E[0]?0:1;L[x.QUERY_OBJ_NAME]="sort_criteria",L[x.QUERY_OBJ_VALUE]=[R],L[x.QUERY_OBJ_TYPE]=x.QUERY_OBJ_DT_LONG,L[x.QUERY_OBJ_OPERATOR]=x.QUERY_OBJ_LONG_IS,a.push(L)}}}}}catch(e){x.throwClientError("Error in formNewQueryObjectModelQuery. ",e)}return a},x.getFilterConfig=function(e){var s=x.searchObj,t=s.service,a={service:t},e=x.getQueryObjModelForFilters(s,e);if(a.filterconfig=e||[],e&&0<e.length){e=s.advConfig||[];0<e.length&&(s=s.qryPattern,a.advanceconfig=e,a.querypattern=s)}else if(1===x.gscomponent.UIType&&t!=U.ALL&&!x.isURLParamsSearch){t=x.getFilterInfo(t,"accounts","data");if(!t||k.isEmptyObject(t))return}return a},x.getQueryObjModelForFilters=function(e,s){m.checkQueryExists()?e.query=x.getQueryOrder():delete e.query,x.searchedQuery=x.getAllQueryText();var t,a=Object.assign({},e);return a.hasOwnProperty("sort")||x.isURLParamsSearch||(t=a.service,m.checkQueryExists()?x.getFilterObj(t).hasOwnProperty("sort")&&(e=x.getFilterInfo(t,"sort","default"),a.sort=[e]):a.sort=[t===U.ASANA?"sortDueDate":"sorttime"]),!s||(s=x.getLastSearchedQuery()).hasOwnProperty("nlpsearch")&&s.nlpsearch&&(a.nlpsearch=[s.nlpsearch]),x.formNewQueryObjectModelQuery(a)},x.renderCheckBox=function(e,s,t,a){return k("<div>",{class:"zgs19_gsCurPointer zgs19_checkbox "+("read"==e?"zgs19_gsPoint3opacity":"")}).append(k("<input>",{class:"zgs19_gsfl",type:"checkbox",checked:s,key:t,value:a})).append(k("<label>"))},x.setCursorPosInEditableDivElement=function(e,s){var t=x.getTargetElem(e),a=t.childNodes,r=void 0===s?a.length-1:s,e=0<a.length?t.childNodes[r]:"";e&&!1!==e.isContentEditable&&(s=e.textContent.length,a=document.createRange(),r=o.getSelection(),a.setStart(e,s),a.collapse(!0),r.removeAllRanges(),r.addRange(a),t.focus())},x.getWDParKeyForFolders=function(){var e=x.GSConstant.WORKDRIVE,s=x.gsfilters.getFilterLevel(e,"folders");return x.gsfilters.getParentId(x.getFilterObj(e),s)},x.isSortNeeded=function(e,s,t){t=!x.isQueryValid(t)&&!x.isQueryHasUserCriteria();return!x.multiPageEnabled&&0<s.length&&!t&&1<x.total_no_of_results&&(e!=x.GSConstant.SALESIQ||!x.searchObj?.modules||x.gssalesiqutils.sortSupportedMod.find(e=>x.searchObj.modules.includes(e)))},x.isReqCached=function(e,t,s,a,r){var o=r+(a=a||"")+(r||a?"&query=":"query=")+encodeURIComponent(e);for(let s=0;s<t.length;s++){let e=t[s];if(-1!==e.indexOf(o))return!0}return x.isEmptyReqCached(e,s,a,r)},x.isEmptyReqCached=function(e,s,t,a){let r=a+(t=t||"")+(a||t?"&query=":"query=")+encodeURIComponent(e);for(let e=0;e<s.length;e++){var o=s[e];if(-1!==r.indexOf(o))return!0}return!1}}(zgssearch,window),function(u){var _=window._jQueryGS,m=u.gsfilters||{};u.gsadvancesearch=function(h){(h=u.gsadvancesearch||{}).curCriteriaList=h.curCriteriaList||[],h.emailVsSelectedUserObj=h.emailVsSelectedUserObj||{},h.maxCriteriaSelectCount=15,h.maxValueSelectCount=10;var n=u.getI18NMsg("gs.cards.select");return h.addEventsForAdvancedSearch=function(){_(".zgs19_gsFieldOptionHldr").off().on({mousemove:function(){_(this).addClass("zgs19_gsAutoSuggChildIn")},mouseleave:function(){_(this).removeClass("zgs19_gsAutoSuggChildIn")},click:function(){switch(_(this).attr("fType")){case"0":h.selectField(this),m.disabledApplyButton();break;case"1":h.selectOperator(this)}}}),_(".zgs19_gsValueOptionTxt").off().on({mousemove:function(){_(this).addClass("zgs19_gsAutoSuggChildIn")},mouseleave:function(){_(this).removeClass("zgs19_gsAutoSuggChildIn")},click:function(){h.selectSingleValue(this),h.enableSaveButton()}}),_(".zgs19_gsSingleSelectPicklistTxt").off().on({mousemove:function(){_(this).addClass("zgs19_gsAutoSuggChildIn")},mouseleave:function(){_(this).removeClass("zgs19_gsAutoSuggChildIn")},click:function(){h.singleSelectPicklistActions(this)}}),_(".zgs19_gsFieldValueHolder").off().on({mousemove:function(){_(this).addClass("zgs19_gsAutoSuggChildIn")},mouseleave:function(){_(this).removeClass("zgs19_gsAutoSuggChildIn")},click:function(){h.multiSelectPicklistActions(this)}}),_(".zgs19_gsAsInputField").off().on({focus:function(){_(this).closest(".zgs19_gsFilterElementOuter").removeClass("zgs19_gsBorderFC0D1ECol"),_(this).closest(".zgs19_gsFilterElementOuter").addClass("zgs19_gsBorderBottomInput"),_(".zgs19_gsFilterElementOuter").removeClass("zgs19_gsBorderThemeCol zgs19_curSelectedFilter"),_(this).addClass("zgs19_curSelectedFilter")},blur:function(){_(this).closest(".zgs19_gsFilterElementOuter").removeClass("zgs19_gsBorderFC0D1ECol"),_(this).closest(".zgs19_gsFilterElementOuter").removeClass("zgs19_gsBorderBottomInput")},input:function(){h.storeInputValues(this),h.enableSaveButton()}}),_(".zgs19_gsNumInputField").off().on({keypress:function(e){var s=e.charCode;(46==s&&-1!=_(this).val().indexOf(".")||46!=s&&(s<48||57<s))&&e.preventDefault()},focus:function(){_(this).closest(".zgs19_gsFilterElementOuter").removeClass("zgs19_gsBorderFC0D1ECol")},blur:function(){_(this).closest(".zgs19_gsFilterElementOuter").removeClass(" zgs19_gsBorderFC0D1ECol")},click:function(){_(this).hasClass("zgs19_gsFilterElementOuter")&&(_(".zgs19_gsFilterElementOuter").removeClass("zgs19_gsBorderThemeCol zgs19_curSelectedFilter"),_(this).addClass("zgs19_curSelectedFilter zgs19_gsBorderThemeCol"),_(this).focus())},input:function(){h.storeInputValues(this),h.enableSaveButton()}}),_("#zgs20_gsFieldListQrybox").off().on({focus:function(){_("#zgs20_gsSearchQryHolder").removeClass("zgs19_gsModuleFilterWidgetFocusOut").addClass("zgs19_gsModuleFilterWidgetFocus")},blur:function(){_("#zgs20_gsSearchQryHolder").removeClass("zgs19_gsModuleFilterWidgetFocus").addClass("zgs19_gsModuleFilterWidgetFocusOut")},input:function(){var s=_(this).val().toLowerCase().trim();_(".zgs19_gsFieldListCont").find(".zgs19_gsFieldOptionTxt").filter(function(){var e=_(this).closest(".zgs19_gsFieldOptionHldr");_(e).toggle(-1<_(this).text().toLowerCase().indexOf(s)),m.updateFilterListPosition()})}}),_("#zgs20_gsOptionListQryBox").off().on({focus:function(){_("#zgs20_gsSearchQryHolder").removeClass("zgs19_gsModuleFilterWidgetFocusOut").addClass("zgs19_gsModuleFilterWidgetFocus")},blur:function(){_("#zgs20_gsSearchQryHolder").removeClass("zgs19_gsModuleFilterWidgetFocus").addClass("zgs19_gsModuleFilterWidgetFocusOut")},input:function(){var e=_(this).val();u.Utils.debounce(function(){h.optionListSearch(e)},50,"optionListSearch",!1)}}),_("#zgs20_gsUserListQrybox").off().on({focus:function(){_("#zgs20_gsSearchQryHolder").removeClass("zgs19_gsModuleFilterWidgetFocusOut").addClass("zgs19_gsModuleFilterWidgetFocus")},blur:function(){_("#zgs20_gsSearchQryHolder").removeClass("zgs19_gsModuleFilterWidgetFocus").addClass("zgs19_gsModuleFilterWidgetFocusOut")},input:function(){var e=_(this).val();u.Utils.debounce(function(){h.advanceUserSearch(e)},50,"advUserSearch",!1)},keydown:function(e){var s,t=e.keyCode||e.which;t===u.specialkeys.ENTER?(s=m.getCurrentService())!=GSConstant.MAILS&&s!=GSConstant.GMAIL||h.checkIfValidMailId(e.target):t!==u.specialkeys.UP&&t!==u.specialkeys.DOWN||u.stopEvent(e)}}),_("#zgs20_gsCrtPatnTxt").off().on({keydown:function(e){_(".zgs19_gscriSaveTxt").removeClass("zgs19_gsHideEleme");var s=e.keyCode||e.which;s===u.specialkeys.ENTER?(h.saveEditedCriteria(),u.stopEvent(e)):s===u.specialkeys.ESC&&(u.isCrtPatnESCPressed=!0)}}),_(".zgs19_gsFieldListCont").off().on({scroll:function(e){var s=_(this).closest(".zgs19_gsFieldsPopup").attr("index");if(s){var t=h.curCriteriaList[s]||{};if(parseInt(t.type)===u.TYPE_LOOKUP){var a=_(this)[0],r=a.scrollTop+a.offsetHeight,s=a.scrollHeight;if((s-r<10||r===s)&&!u.fieldsSearchQueue.flag){a=t.name||"",r=u.getRequiredMetaInfo(),s=u.getFieldObj(r[0],r[1],r[2],r[3]),t=_("#zgs20_gsOptionListQryBox").val(),a=s[a].lookUpModule;if(a){var o,r=u.getFormattedLookupKey(r[0],r[1],a);let e=u.getFieldDataObject(r).hasMore;t&&(o=u.getFieldCacheObj(r),e=o[t]?.hasMore||!1),e&&((o=_(".zgs19_gsFieldListCont")).find("#zgs20_gsEditFieldsLoader").remove(),o.append(h.loaderElement()),u.fetchLookUpValuesForField(a,t,h.renderSearchedOptionValues))}}}}}})},h.checkIfValidMailId=function(e){var s;0<_(e).val().length&&(s=_(e).val().toLowerCase(),_(".zgs19_gstagOuter").length<h.maxValueSelectCount-1?(h.renderSelectedTagInContainer(s),h.multiSelectPicklistActions(),_(e).val(""),_(e).focus(),h.advanceUserSearch(""),m.setFilterListPosition(m.closestHolderElem,"zgs20_gsFilterPopup","zgs19_filterBodyHldr")):u.showbannertip({ty:2,msg:u.I18N.getValue("common.adv.pickListErrorMsg",[h.maxValueSelectCount])}))},h.enableSaveButton=function(){h.checkValidCriteriaList()&&(m.enableApplyButton(),u.hasAdvCriteriaChanged=!0)},h.advancedSearchActions=function(e){switch(_(e).attr("actionType")){case"clearCriteria":h.clearCriteria();break;case"editCriteria":h.editCriteriaPattern();break;case"saveCriteria":h.saveEditedCriteria();break;case"cancelCriteria":h.cancelEditCriteria();break;case"addCriteria":var s=_(e).closest(".zgs19_gsCriteria").attr("index");h.addCriteria(!0,s);break;case"removeCriteria":s=_(e).closest(".zgs19_gsCriteria").attr("index");h.removeCriteria(s);break;case"changeComparator":h.changeComparator(e);break;case"showFields":h.showAdvPopUpList(e,0);break;case"showOperators":h.showAdvPopUpList(e,1);break;case"showValueList":h.showAdvPopUpList(e,2);break;case"showDatePicker":h.handleDatepicker(e);break;case"setValueList":h.storeSelectedValueList();break;case"hideValueList":h.hideAdvPopUpList();break;case"undoSelectedTag":s=_(e).closest(".zgs19_gstagUndo");h.undoSelectedTag(s)}},h.showAdvancedSearchPage=function(e){var s,t,a,r,o,i;0===_("#zgs20_gsAdvSearchContainer").length&&(s=u.getI18NMsg("common.adv.advFilters"),t=u.getI18NMsg("common.adv.crtPattern"),a=u.getI18NMsg("gs.settings.application.save"),i=u.getI18NMsg("common.edit"),r=u.getI18NMsg("common.cancel"),o=u.getI18NMsg("common.reset"),o=_("<div>",{id:"zgs20_gsAdvSearchContainer",class:"zgs19_gsAdvSearchContainer"}).append(_("<div>",{class:"zgs19_gsAdSrhTleHolder"}).append(_("<div>",{class:"zgs19_gsFilterLabel zgs19_gsfl",gstitle:s}).text(s)).append(_("<div>",{class:"zgs19_gsclrfltrBtn zgs19_gsHideEleme",gs:"advSearch",actionType:"clearCriteria",gstitle:o}).text(o))),i=_("<div>",{id:"zgs20_gsCrtContainer",class:"zgs19_gsCrtContainer zgs19_gsDisplayNone"}).append(_("<div>",{id:"zgs20_gsCrtList",class:"zgs19_gsCrtList"})).append(_("<div>",{id:"zgs20_gsCrtPattern",class:"zgs19_gsCrtPattern zgs19_gsDisplayNone"}).append(_("<div>",{class:"zgs19_gsFilterLabel zgs19_gsMxWid120Px zgs19_gsOverflow",gstitle:t}).text(t)).append(_("<div>",{id:"zgs20_gsCrtPatnTxt",class:"zgs19_gsNewCrtPatnTxt",contenteditable:"false"})).append(_("<div>",{class:"zgs19_gsCrtPatnActionHdr zgs19_gsDisplayNone"}).append(_("<div>",{class:"zgs19_gscriSaveTxt zgs19_tc2fa6ea zgs19_gsfl zgs19_gsOverflow",gs:"advSearch",actionType:"saveCriteria",gstitle:a}).text(a)).append(_("<div>",{class:"zgs19_gscriCancelTxt zgs19_gsfl zgs19_gsOverflow",gs:"advSearch",actionType:"cancelCriteria",gstitle:r}).text(r))).append(_("<div>",{id:"zgs20_gsEditPatn",class:"zgs19_gsEditPatnTxt zgs19_gsOverflow",gs:"advSearch",actionType:"editCriteria",gstitle:i}).text(i))),o.append(i),(i=_("#zgs20_gsAdvSearchHolder")).removeClass("zgs19_gsDisplayNone"),i.append(o),h.addEventsForAdvancedSearch()),h.cancelEditCriteria(),h.showCriteriaContainer(e),_("#zgs20_gsAdvSearchContainer").css("display","block"),u.isAdvancedFitersApplied=!0,u.hasAdvCriteriaChanged=!1,u.curFieldDetails={}},h.hideAdvancedSearchPage=function(){_("#zgs20_gsAdvSearchContainer").css("display","none"),u.isAdvancedFitersApplied=!1},h.renderPopUpElement=function(){var e="zgs20_gsFilterPopup";m.removeAllAttributes(e);e=_("#"+e);e.empty().addClass("zgs19_gsFieldsPopup zgs19_gsDisplayNone").append(_("<div>",{class:"zgs19_gsCriteriaInfo"}).append(_("<span>",{class:"zgs18_gsInfoSmallIcon zgs19_gsCriInfoIcon"})).append(_("<span>",{class:"zgs19_gsCriInfoTxt zgs19_gsOverflow"}).text(u.getI18NMsg("common.adv.pickListMsgInfo")))),e.append(_("<div>",{class:"zgs19_gsSelectedTagContainer"})),e.append(m.addSearchQueryBox(e,"zgs20_gsFieldListQrybox")),e.append(_("<div>",{class:"zgs19_gsFieldListCont"}))},h.enableClearCriteria=function(){_(".zgs19_gsclrfltrBtn").removeClass("zgs19_gsHideEleme"),_("#zgs20_gsCrtPattern").removeClass("zgs19_gsDisplayNone")},h.handleEmptyCriteriaActions=function(){_(".zgs19_gsclrfltrBtn, #zgs20_gsEditPatn").addClass("zgs19_gsHideEleme")},h.clearCriteria=function(){_("#zgs20_gsCrtList").empty(),h.hideAdvPopUpList(),h.curCriteriaList=[],h.renderDefaultCriteria(),h.enableSaveButton(),m.enableResetButton()},h.showCriteriaContainer=function(e){var s=_("#zgs20_gsCrtList");if(s.empty(),e){switch(m.getCurrentService()){case GSConstant.MAILS:case GSConstant.GMAIL:h.maxCriteriaSelectCount=10,h.maxValueSelectCount=5;break;default:h.maxCriteriaSelectCount=15,h.maxValueSelectCount=10}e=u.getFieldsList();0<Object.keys(e).length?h.handleRenderCriteria(e):(s.append(h.loaderElement()),u.fetchFieldsList(h.handleRenderCriteria))}else s.append(h.noResultElement(u.getI18NMsg("common.adv.enable_error"))),h.noAdvSearchFilterActions();_("#zgs20_gsCrtContainer").removeClass("zgs19_gsDisplayNone")},h.noAdvSearchFilterActions=function(){h.curCriteriaList=[],h.handleEmptyCriteriaActions(),_("#zgs20_gsCrtPattern").addClass("zgs19_gsDisplayNone")},h.handleRenderCriteria=function(e){var s,t,a=_("#zgs20_gsCrtList");a.empty(),0<Object.keys(e).length?(h.curCriteriaList=[],s=(t=m.getAdvanceFilterDetails(e)||{}).criteriaList||[],(t=t.pattern)?(h.renderCriteria(e,t,s),h.enableClearCriteria(),t=u.correctCriteriaExpression(t),u.renderCriteriaPatternText(_("#zgs20_gsCrtPatnTxt"),t)):h.renderDefaultCriteria()):(a.append(h.noResultElement(u.getI18NMsg("common.adv.filters_error"))),h.noAdvSearchFilterActions())},h.renderDefaultCriteria=function(){h.addCriteria(!0,-1),h.handleEmptyCriteriaActions(),_("#zgs20_gsCrtPatnTxt").text(1)},h.renderCriteria=function(e,s,t){var a=t.length;if(0<a){var r=s.match(/(AND|OR)/gi);_.isEmptyObject(t[0])&&h.handleEmptyCriteriaActions();for(var o=0;o<a;o++){var i=t[o],n=i.name||"",l=e[n]||"",g=l.display_name||"",c=l.type,d=i.operator||"";d+="";var p=i.value,l=u.getOperatorDisplayName(d,c),i=0<o&&r&&r[o-1]||"";h.addCriteria(!1,o-1,n,g,c,d,l,p,i)}}else h.renderDefaultCriteria()},h.addCriteria=function(e,s,t,a,r,o,i,n,l){var g,c=(s=parseInt(s))+1;c<h.maxCriteriaSelectCount?(g=_("#zgs20_gsCrtList"),i=h.formCriteriaDiv(c,a,i),l=l||_("#zgs20_gsCrtOper"+s).find(".zgs19_gsCrtOperTxt").attr("comparator"),l=0<c?h.formComparatorDiv(c,l):"",g.append(l),g.append(i),i.attr("index",c),h.renderFieldValueElement(c,t,r,o,n),h.curCriteriaList.splice(c,0,{}),e?(-1<s&&(e=_("#zgs20_gsCrtPattern"),m.isElementInViewPort(e,"zgs19_filterBodyHldr")||_(".zgs19_filterBodyHldr").scrollTop(_(".zgs19_filterBodyHldr").scrollTop()+_("#zgs20_gsCriteria"+s).offset().top)),h.addCriteriaPattern(c),h.enableClearCriteria()):t&&(h.curCriteriaList[c]={name:t,type:r,operator:o,value:n}),h.checkAndShowRemoveCrtOption(),h.addEventsForAdvancedSearch()):u.showTopbannertip({ty:3,msg:u.I18N.getValue("common.adv.maxCriteria_error",[h.maxCriteriaSelectCount])})},h.removeCriteria=function(e){e=parseInt(e),h.curCriteriaList.splice(e,1),h.removeCriteriaPattern(e+1);var s=_("#zgs20_gsCrtPatnTxt").text();_("#zgs20_gsCrtList").empty();var t=h.curCriteriaList;h.curCriteriaList=[];e=u.getFieldsList();h.renderCriteria(e,s,t),h.checkAndShowRemoveCrtOption(),h.enableSaveButton(),m.enableResetButton()},h.formCriteriaDiv=function(e,s,t){var a="",r=m.getIsReadMode(),o=r?"zgs19_gsPntEvtNone":"";s||r||(s=n,a="zgs19_gsHideEleme"),t||r||(t=n);a=_("<div>",{id:"zgs20_gsCriteria"+e,class:"zgs19_gsCriteria"}).append(_("<span>",{class:"zgs19_gsCrtName"}).text(e+1)).append(_("<div>",{id:"zgs20_gsFieldId"+e,class:"zgs19_gsfieldDiv zgs19_gsFilterElementOuter zgs19_gsFieldName "+o,gs:"advSearch",actionType:"showFields"}).append(_("<span>",{class:" zgs19_gsSelFldName zgs19_gsNewSelFieldTxt zgs19_gsOverflow",gs:"advSearch",actionType:"showFields",gstitle:s}).text(s)).append(h.returnDropDownIconElem(r,"showFields"))).append(_("<div>",{id:"zgs20_gsFieldOpr"+e,class:"zgs19_gsfieldDiv zgs19_gsFilterElementOuter zgs19_gsFieldOpr "+a+o,gs:"advSearch",actionType:"showOperators"}).append(_("<span>",{class:"zgs19_gsNewSelOprTxt zgs19_gsNewSelFieldTxt zgs19_gsOverflow",gs:"advSearch",actionType:"showOperators",gstitle:t}).text(t)).append(h.returnDropDownIconElem(r,"showOperators"))).append(_("<div>",{id:"zgs20_gsFieldValue"+e,class:"zgs19_gsfieldDiv zgs19_gsFilterElementOuter zgs19_gsFieldValue "+a+o}).append(_("<div>",{id:"zgs20_gsInputFieldHdr",class:"zgs19_gsInputFieldHdr"}))).append(_("<div>",{class:"zgs19_gsCrtActions"}).append(_("<div>",{class:"zgs18_MinusCircle zgs19_gsRemoveCrt",gs:"advSearch",actionType:"removeCriteria"}))),o=_("<div>",{class:"zgs18_gsPlusCircle zgs19_gsAddCrt zgs19_gsHideEleme"});return a.find(".zgs19_gsCrtActions").append(o),u.LINE_ICON_MAP.hasOwnProperty("zgs18_gsPlusCircle")&&u.obtainLineIconPaths("zgs18_gsPlusCircle",o[0],!1,{gs:"advSearch",actionType:"addCriteria"}),a},h.returnDropDownIconElem=function(e,s){return e?"":_("<div>",{class:"zgs18_gsFilterDropDownIcon zgs19_gsfr",gs:"advSearch",actionType:s})},h.formComparatorDiv=function(e,s){return s=s||"AND",_("<div>",{id:"zgs20_gsCrtOper"+e,class:"zgs19_gsCrtOper",cid:e}).append(_("<span>",{class:"zgs18_gsReorderAppMenuIcon zgs19_gsfr zgs18_gsReorderExtAppMenuIcon",gs:"advSearch",actionType:"changeComparator"})).append(_("<div>",{class:"zgs19_gsCrtOperTxt",comparator:s,gs:"advSearch",actionType:"changeComparator"}).text(s.toUpperCase()))},h.checkAndShowRemoveCrtOption=function(){var e=_(".zgs19_gsCriteria"),s=e.length;if(1==s)(a=_(e[0]).find(".zgs19_gsAddCrt")).removeClass("zgs19_gsDisplayNone"),(r=h.curCriteriaList[0]||{}).name&&r.operator&&r.value?a.removeClass("zgs19_gsHideEleme"):a.addClass("zgs19_gsHideEleme"),_(e[0]).find(".zgs19_gsRemoveCrt").addClass("zgs19_gsDisplayNone");else if(1<s)for(var t=0;t<s;t++){var a,r,o=_(e[t]);o.find(".zgs19_gsRemoveCrt").removeClass("zgs19_gsDisplayNone"),t==s-1?((a=o.find(".zgs19_gsAddCrt")).removeClass("zgs19_gsDisplayNone"),(r=h.curCriteriaList[t]||{}).name&&r.operator&&r.value?a.removeClass("zgs19_gsHideEleme"):a.addClass("zgs19_gsHideEleme")):o.find(".zgs19_gsAddCrt").addClass("zgs19_gsDisplayNone")}},h.changeComparator=function(e){var s=_(e).closest(".zgs19_gsCrtOper"),t=parseInt(s.attr("cid")),e=_(s).find(".zgs19_gsCrtOperTxt"),s="AND"==(s=e.attr("comparator"))?"OR":"AND";e.attr("comparator",s),e.text(s.toLocaleUpperCase()),h.changeComparatorCriteriaPattern(t,s),h.enableSaveButton(),m.enableResetButton()},h.checkValidCriteriaList=function(){for(var e=h.curCriteriaList,s=e.length,t=0;t<s;t++){var a=e[t];if(!(_.isEmptyObject(a)||a.hasOwnProperty("value")&&0!==a.value.length))return!1}return!0},h.showAdvPopUpList=function(e,s){var t=_(e).closest(".zgs19_gsCriteria").attr("index"),a=_("#zgs20_gsFilterPopup");a.hasClass("zgs19_gsFieldsPopup")||h.renderPopUpElement();var r=a.attr("index"),o=a.attr("lType");if(h.isAdvFieldListOpened&&r==t&&o==s)h.hideAdvPopUpList();else{a.find(".zgs19_gsCriteriaInfo").css("display","none"),a.find(".zgs19_gsSelectedTagContainer").css("display","none").empty(),a.find("#zgs20_gsSearchQryHeader").css("display","none"),a.find("#zgs20_gsEditFieldsBottom").css("display","none"),a.find(".zgs19_gsFilterQueryBox").val("");var i=h.curCriteriaList[t]||{},n=i.name||"",l=parseInt(i.type);switch(s){case 0:h.handleFieldList(n);break;case 1:var g=i.operator||"";h.handleOperatorList(n,l,g);break;case 2:g=i.value||[];h.handleValueList(t,n,l,g)}o=_(e).closest(".zgs19_gsfieldDiv");switch(a.attr("index",t),a.attr("lType",s),m.highlightFilterHolder(_(e).closest(".zgs19_gsFilterElementOuter")),m.setFilterListPosition(o,"zgs20_gsFilterPopup","zgs19_filterBodyHldr"),a.css("display","block"),h.addEventsForAdvancedSearch(),h.isChildVisibleActions(_(".zgs19_gsFieldListCont")),h.isAdvFieldListOpened=!0,l){case u.TYPE_SINGLE_SELECT_PICKLIST:case u.TYPE_MULTI_SELECT_PICKLIST:case u.TYPE_LOOKUP:u.focusForWeb("zgs20_gsOptionListQryBox");break;case u.TYPE_MULTI_SELECT_USER:u.focusForWeb("zgs20_gsUserListQrybox");break;default:u.focusForWeb("zgs20_gsFieldListQrybox")}}},h.hideAdvPopUpList=function(){var e=_("#zgs20_gsFilterPopup");e.find(".zgs19_gsFilterQueryBox").val(""),e.css("display","none"),_(".zgs18_gsFilterDropDownIcon").removeClass("zgs18_gsOpenFilterDropDownIcon"),_(".zgs19_curSelectedFilter").removeClass("zgs19_gsBorderThemeCol"),h.isAdvFieldListOpened=!1,u.isFilterPageOpened&&_(".zgs19_applyButton").focus()},h.handleFieldList=function(e){var s=u.getFieldsList();h.addOptionInFieldList(s,e)},h.addOptionInFieldList=function(e,s){var t=_(".zgs19_gsFieldListCont");t.empty();var a,r=Object.keys(e).length;if(0<r){for(a in 6<r&&((r=_("#zgs20_gsFilterPopup #zgs20_gsSearchQryHeader")).find(".zgs19_gsFilterQueryBox").attr("id","zgs20_gsFieldListQrybox"),r.css("display","block")),e){var o=e[a],i=o.type,n=o.display_name,n=u.replaceHTMLEntity(n),o=u.getFilterTypeIcons(i);h.addOptionElementInContainer(t,0,i,s,a,n,o)}h.addEventsForAdvancedSearch()}},h.handleOperatorList=function(e,s,t){var a=_(".zgs19_gsFieldListCont");a.empty();for(var r=u.getFieldsList()[e].availableCondition||[],o=r.length,i=0;i<o;i++){var n=""+r[i],l=u.getOperatorDisplayName(n,s);h.addOptionElementInContainer(a,1,s,t,n,l)}h.addEventsForAdvancedSearch()},h.addOptionElementInContainer=function(e,s,t,a,r,o,i){var n="zgs19_gsModuleUnSeleFilterElem zgs19_gsCalMW25Pxof100",l="";a==r&&(n="zgs19_gsModuleSeleFilterElem zgs19_gsCalMW45Pxof100",l=_("<div>",{class:"zgs18_gsModuleSeleFilterTick"}));s=_("<div>",{class:"zgs19_gsFieldOptionHldr",fType:s});i&&s.append(_("<div>",{class:"zgs19_gsFieldTypeIcon "+i})),s.append(_("<div>",{class:"zgs19_gsFieldOptionTxt zgs19_gsOverflow "+n,type:t,key:r,gstitle:o}).text(o)),s.append(l),e.append(s)},h.handleValueList=function(e,s,t,a){switch(t){case u.TYPE_BOOLEAN:h.handleBooleanList(a);break;case u.TYPE_DATETIME:case u.TYPE_SINGLE_SELECT_PICKLIST:h.handleSingleSelectPickList(s,t,a);break;case u.TYPE_MULTI_SELECT_PICKLIST:h.handleMultiSelectPickList(s,a);break;case u.TYPE_LOOKUP:h.handleLookUpList(s,a);break;case u.TYPE_MULTI_SELECT_USER:h.handleUsersList(e,a)}},h.handleBooleanList=function(e){var s=_(".zgs19_gsFieldListCont");s.empty();var t,a=u.BOOLEANPICKLIST;for(t in a){var r=a[t];h.addOptionElementInValueListContainer(s,e,t,r,!1)}h.addEventsForAdvancedSearch()},h.handleSingleSelectPickList=function(e,s,t){var a=_(".zgs19_gsFieldListCont");a.empty();var r=h.getPickListFromFieldObj(e);_("#zgs20_gsFilterPopup #zgs20_gsSearchQryHeader").css("display","none");var o,i=!1,n=t[0]||"";for(o in r){var l,g,c=r[o]||"";o&&""!==c&&(g=l="",n&&(o===n||"customdate"===o&&!i)?(l="zgs19_gsModuleSeleFilterElem",g=_("<div>",{class:"zgs18_gsModuleSeleFilterTick"}),i=!0):l="zgs19_gsModuleUnSeleFilterElem",a.append(_("<div>",{id:"zgs20_gsPickListSingleSelectTxt_"+o,class:"zgs19_gsSingleSelectPicklistTxt zgs19_gsOverflow "+l,value:o,gstitle:c}).text(c).append(g)))}s===u.TYPE_DATETIME&&_(".zgs19_gsFieldListCont").children(":last-child").before(_("<hr>",{class:"zgs19_gsMoreFilterHRTag"})),m.updateFilterListPosition(),h.addEventsForAdvancedSearch()},h.handleMultiSelectPickList=function(e,s){_(".zgs19_gsCriteriaInfo").css("display","block");var t=_(".zgs19_gsFieldListCont");t.empty();var a=h.getPickListFromFieldObj(e);h.renderOptionsList(a,t,e,u.TYPE_MULTI_SELECT_PICKLIST,s)},h.handleLookUpList=function(e,s){_(".zgs19_gsCriteriaInfo").css("display","block");var t=_(".zgs19_gsFieldListCont");t.empty();var a=u.getRequiredMetaInfo(),r=h.getLookUpListFromFieldObj(e,a[0],a[1],a[2],a[3]);null!=r?h.renderOptionsList(r,t,e,u.TYPE_LOOKUP,s):(t.append(h.loaderElement()),a=u.getFieldObj(a[0],a[1],a[2],a[3])[e].lookUpModule,u.fetchLookUpValuesForField(a,"",function(){h.handleLookUpList(e,s)}))},h.renderOptionsList=function(e,s,t,a,r){var o,i=Object.keys(e).length;0<i?(_(".zgs19_gsNoResultsFound").remove(),o=_("#zgs20_gsFilterPopup #zgs20_gsSearchQryHeader"),6<i?(o.find(".zgs19_gsFilterQueryBox").attr("id","zgs20_gsOptionListQryBox"),o.css("display","block")):o.css("display","none"),h.addOptionsInFieldListContainer(t,a,e,s,r)):0===_(".zgs19_gsNoResultsFound").length&&0===_(".zgs19_gsFieldValueHolder:visible").length&&s.append(_("<div>",{class:"zgs19_gsNoResultsFound"}).append(h.noResultElement(u.getI18NMsg("gs.search.error.no_items")))),0<r.length&&_(".zgs19_gsSelectedTagContainer").css("display","block")},h.getPickListFromFieldObj=function(e,s){s=(s||u.getFieldsList())[e];if(s.hasOwnProperty("picklistValues")){e=(s.picklistValues||{}).data||{};return u.getSortedKeyValuePairs(e)}return s.type===u.TYPE_DATETIME?u.relativeDateDispName:{}},h.getLookUpListFromFieldObj=function(e,s,t,a,r){e=u.getFieldObj(s,t,a,r)[e].lookUpModule;if(e){t=u.getFormattedLookupKey(s,t,e),e=u.getFieldDataObject(t),t=e.data||"";return!t||_.isEmptyObject(t)?e.hasMore?null:{}:t}return{}},h.addOptionsInFieldListContainer=function(e,s,t,a,r){for(var o in t){var i=t[o]||"";o&&"-None-"!=i&&(i=u.replaceHTMLEntity(i),s==u.TYPE_LOOKUP?h.addLookUpOptionsInValueList(a,r,o,i,!0):h.addOptionElementInValueListContainer(a,r,o,i,!0))}r&&h.updateSelectedOption(e,s,r),m.updateFilterListPosition(),h.addEventsForAdvancedSearch()},h.updateSelectedOption=function(s,t,a){u.getRequiredMetaInfo();for(let e=0;e<a.length;e++){var r=a[e],o=h.getDisplayText(s,t,r);o&&(h.renderSelectedTagInContainer(r,o),_('.zgs19_gsFieldValueHolder[value="'+r+'"]').addClass("zgs19_gsDisplayNoneImp"))}},h.optionListSearch=function(s){s=s.toLowerCase(),_(".zgs19_gsNoResultsFound").remove(),_(".zgs19_gsFieldListCont").find(".zgs19_gsFieldPickTxt").filter(function(){_(this).closest(".zgs19_gsFieldValueHolder:not('.zgs19_gsDisplayNoneImp')").toggle(-1<_(this).text().toLowerCase().indexOf(s))});var t=_(".zgs19_gsFieldValueHolder:visible").length;if(t<6){var a=_("#zgs20_gsFilterPopup").attr("index"),r=(h.curCriteriaList[a]||{}).name||"";if(r&&u.checkIfExistingCallInProgress()){var o=u.getRequiredMetaInfo(),i=u.getFieldObj(o[0],o[1],o[2],o[3])[r],o=i.type,r=o===u.TYPE_LOOKUP?i.lookUpModule:r;let e=!1;r&&!u.isAdvanceSearchFieldCache(s,r)&&(e=o===u.TYPE_LOOKUP?h.fetchLookUpSearch(r,i,s):h.fetchPickListSearch(r,i,s,a)),e||0!==t||0!==_(".zgs19_gsNoResultsFound").length||_(".zgs19_gsFieldListCont").append(_("<div>",{class:"zgs19_gsNoResultsFound"}).append(h.noResultElement(u.getI18NMsg("gs.search.error.no_items"))))}}m.updateFilterListPosition()},h.fetchPickListSearch=function(e,s,t,a){var r,o,i=s.picklistValues||{};let n=!1;return i.hasOwnProperty("hasMore")&&i.hasMore&&(n=!0,(r=_(".zgs19_gsFieldListCont")).find("#zgs20_gsEditFieldsLoader").remove(),u.ZSNetwork.abortOngoingAdvSearchCalls(),i=(o=m.getCurrentFilterObj()).service||"",o=o.hasOwnProperty("accounts")&&!(1<o.accounts.length)&&o.accounts[0]||"",r.append(h.loaderElement()),s=s.id,u.fetchPicklistValueForField(i,o,t,s,a,h.renderSearchedOptionValues)),n},h.fetchLookUpSearch=function(e,s,t){var a,r=!1,o=u.getRequiredMetaInfo(),o=u.getFormattedLookupKey(o[0],o[1],e);let i=u.getFieldDataObject(o);return t&&(a=u.getFieldCacheObj(o),i=a[t]),i&&!0!==i.hasMore||(r=!0,(a=_(".zgs19_gsFieldListCont")).find("#zgs20_gsEditFieldsLoader").remove(),u.ZSNetwork.abortOngoingAdvSearchCalls(),a.append(h.loaderElement()),u.fetchLookUpValuesForField(e,t,h.renderSearchedOptionValues)),r},h.renderSearchedOptionValues=function(e){var s,t,a=_(".zgs19_gsFieldListCont");a.find("#zgs20_gsEditFieldsLoader").remove(),e&&0<Object.keys(e).length?(_(".zgs19_gsNoResultsFound").remove(),t=_("#zgs20_gsFilterPopup").attr("index"),t=(s=h.curCriteriaList[t]||{}).value||"",h.addOptionsInFieldListContainer(s.name,s.type,e,a,t)):0===_(".zgs19_gsNoResultsFound").length&&0===_(".zgs19_gsFieldValueHolder:visible").length&&a.append(_("<div>",{class:"zgs19_gsNoResultsFound"}).append(h.noResultElement(u.getI18NMsg("gs.search.error.no_items"))))},h.handleUsersList=function(e,s,t){var a=_(".zgs19_gsFieldListCont");a.empty();var r=u.getUserSearchList(t=t||"");0<r.length?h.addUserOptionInValueList(r,s,e):(a.append(h.loaderElement()),t={index:e,query:t||""},u.ContactsSearchType="filterUI",u.fetchUsersList(t))},h.addOptionElementInValueListContainer=function(e,s,t,a,r){a=u.replaceHTMLEntity(a);var o,i="zgs19_gsModuleUnSeleFilterElem";r?((o=_("<div>",{class:"zgs19_gsFieldValueHolder zgs19_gsNewMultiFilterSelection",value:t,type:1})).append(_("<div>",{class:"zgs19_gsFieldPickTxt zgs19_gsOverflow "+i,gstitle:a}).text(a)),e.append(o)):(o="",s==t&&(i="zgs19_gsModuleSeleFilterElem",o=_("<div>",{class:"zgs18_gsModuleSeleFilterTick"})),e.append(_("<div>",{class:"zgs19_gsValueOptionTxt zgs19_gsOverflow "+i,value:t,gstitle:a}).text(a).append(o)))},h.addLookUpOptionsInValueList=function(e,s,t,a,r){a=u.replaceHTMLEntity(a);var o,i="zgs19_gsModuleUnSeleFilterElem";r?((o=_("<div>",{class:"zgs19_gsFieldValueHolder zgs19_gsNewMultiFilterSelection zgs19_gsLookUpValueHolder",value:t,type:1})).append(_("<div>",{class:"zgs19_gsLookUpPicHolder zgs19_gsfl"}).text(u.Utils.getIconFromTxt(a))).append(_("<div>",{class:"zgs19_gsLookUpText zgs19_gsFieldPickTxt zgs19_gsOverflow "+i,gstitle:a}).text(a)),e.append(o)):(o="",s==t&&(i="zgs19_gsModuleSeleFilterElem",o=_("<div>",{class:"zgs18_gsModuleSeleFilterTick"})),e.append(_("<div>",{class:"zgs19_gsSuggUserCell1"}).append(_("<div>",{class:"zgs19_gsUniIconHolder"}))).append(_("<div>",{class:"zgs19_gsValueOptionTxt zgs19_gsOverflow "+i,value:t,gstitle:a}).text(a).append(o)))},h.addUserOptionInValueList=function(e,s,t){_(".zgs19_gsCriteriaInfo").css("display","block");var a=_(".zgs19_gsFieldListCont");if(a.find("#zgs20_gsEditFieldsLoader").remove(),0<e.length){var r=_("#zgs20_gsFilterPopup #zgs20_gsSearchQryHeader");r.find(".zgs19_gsFilterQueryBox").attr("id","zgs20_gsUserListQrybox"),r.css("display","block"),_(".zgs19_gsNoResultsFound").remove();var o,i=m.getCurrentService(),n=u.gsadvancesearch.curCriteriaList[t]||{};for(o in i===GSConstant.SUPPORT&&"assigneeId"===n.name&&((t={}).full_name=u.getI18NMsg("common.unassigned"),t.uid="0",e[0].hasOwnProperty("uid")&&"0"!=e[0].uid&&e.unshift(t)),e)h.addUserInContainer(a,i,e[o],s);h.addEventsForAdvancedSearch()}else 0===_(".zgs19_gsNoResultsFound").length&&0===_(".zgs19_gsFieldValueHolder:visible").length&&a.append(_("<div>",{class:"zgs19_gsNoResultsFound"}).append(h.noResultElement(u.getI18NMsg("common.no_users"))));if(0<s.length){for(var l=0;l<s.length;l++){var g,c=s[l];0===_('.zgs19_gstagOuter[value="'+c+'"]').length&&(g=h.getUserDisplayName(c,n.name,i),h.renderSelectedTagInContainer(c,g))}_(".zgs19_gsSelectedTagContainer").css("display","block")}m.updateFilterListPosition()},h.addUserInContainer=function(e,s,t,a){var r=t.DNAME||t.full_name||"",o=t.EMAILID||t.email||"",i=""+(i=t.ZUID||t.zuid||""),n="",l=!1;switch(s){case GSConstant.CRM:case GSConstant.BIGIN:case GSConstant.SUPPORT:l=!!(n=t.uid||"");break;case GSConstant.CLIQ:case GSConstant.NOTEBOOK:case GSConstant.WORKDRIVE:case GSConstant.CONNECT:l=!(!(n=i)||"-1"==n);break;case GSConstant.MAILS:case GSConstant.GMAIL:l=!!(n=o)}l&&0===e.find('.zgs19_gsFieldValueHolder[value="'+n+'"]').length&&(u.renderUserDetailsInContainer(e,2,n,i,r,o,a,!0),(e=t.PURL||(i&&"-1"!=i?u.getThumbPhotoURL(i):""))?u.updateUserPhoto("zgs20_gsCustomUserChild_"+n,e):u.loadResNoPhotoImg("zgs20_gsCustomUserChild_"+n),u.includes(n,a)&&0===_('.zgs19_gstagOuter[zuid="'+i+'"]').length&&(h.renderSelectedTagInContainer(n,n===o?n:r),_('.zgs19_gsFieldValueHolder[value="'+n+'"]').addClass("zgs19_gsDisplayNoneImp")))},h.renderSelectedTagInContainer=function(e,s){s=s||e,_(".zgs19_gsSelectedTagContainer").append(_("<div>",{id:"zgs20_gsCustomTagsChild_"+e,class:"zgs19_gstagOuter zgs19_gsOverflow",value:e,gstitle:s}).append(_("<div>",{class:"zgs19_gsTagsTxt zgs19_gsOverflow",gstitle:s}).text(s)).append(_("<div>",{class:"zgs19_gstagUndo",gs:"advSearch",actionType:"undoSelectedTag"}).append(_("<div>",{class:"zgs18_gsCloseIcon",gs:"advSearch",actionType:"undoSelectedTag"}))))},h.advanceUserSearch=function(a){var e,s;a=a.toLowerCase(),_(".zgs19_gsNoResultsFound").remove(),_(".zgs19_gsFieldListCont").find(".zgs19_gsFieldValueHolder:not('.zgs19_gsDisplayNoneImp')").filter(function(){var e=_(this).find(".zgs19_gsAutoSuggChildName").text().toLowerCase(),s=_(this).find(".zgs19_gsUserChildEmail").text().toLowerCase(),t=-1<(-1<e.indexOf(a)||s.indexOf(a));_(this).toggle(t)}),_(".zgs19_gsFieldValueHolder:visible").length<6&&(s=_("#zgs20_gsFilterPopup").attr("index"),(e=_(".zgs19_gsFieldListCont")).find("#zgs20_gsEditFieldsLoader").remove(),s={index:s,query:a||""},u.ContactsSearchType="filterUI",e.append(h.loaderElement()),u.fetchUsersList(s)),m.updateFilterListPosition()},h.loaderElement=function(){return u.getFourDotLoader("zgs20_gsEditFieldsLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader10 zgs19_gsAutoSuggestLoader")},h.noResultElement=function(e){return _("<div>",{class:"zgs19_gsEditFieldNoUser zgs19_gsAdvSearchNoUser"}).text(e)},h.renderFieldValueElement=function(e,s,t,a,r){var o=_("#zgs20_gsFieldValue"+e);o.addClass("zgs19_gsFilterElementOuter");var i=o.find("#zgs20_gsInputFieldHdr"),n=!0;if(a&&(i.removeClass("zgs19_gsFieldBoderBtm"),"6"!==a&&"7"!==a||(o.addClass("zgs19_gsCurNotAllowed"),i.addClass("zgs19_gsHideEleme zgs19_gsPntEvtNone"),h.renderEmptyField(i),n=!1)),n)switch(o.removeClass("zgs19_gsCurNotAllowed"),i.removeClass("zgs19_gsHideEleme zgs19_gsPntEvtNone"),parseInt(t)){case u.TYPE_TEXT:h.renderTextField(i,r);break;case u.TYPE_NUMBER:h.renderNumberField(i,a,r);break;case u.TYPE_BOOLEAN:case u.TYPE_SINGLE_SELECT_PICKLIST:case u.TYPE_MULTI_SELECT_PICKLIST:case u.TYPE_MULTI_SELECT_USER:case u.TYPE_LOOKUP:h.renderOptionsField(i,s,t,r);break;case u.TYPE_DATETIME:case u.TYPE_RELATIVEDATE:h.renderDateField(i,t,a,r)}e=_("#zgs20_gsCriteria"+e).find(".zgs19_gsAddCrt");r&&e.is(":visible")?e.removeClass("zgs19_gsHideEleme"):e.addClass("zgs19_gsHideEleme"),h.addEventsForAdvancedSearch()},h.renderEmptyField=function(e){e.empty();var s=_("<input>",{class:"zgs19_gsAsInputField zgs19_gsTxtInputField",type:"text"});s.val(""),e.append(s),_(e).find(".zgs19_gsAsInputField").val("")},h.renderTextField=function(e,s){s=s&&(s[0]||""),e.empty();var t=_("<input>",{class:"zgs19_gsAsInputField zgs19_gsTxtInputField",type:"text"});t.val(s),t.attr("gstitle",s),e.append(t),(t=_(e).find(".zgs19_gsAsInputField")).val(s),t.focus()},h.renderNumberField=function(e,s,t){e.empty(),2==s||3==s?(e.closest(".zgs19_gsFieldValue").removeClass("zgs19_gsFilterElementOuter"),e.append(_("<input>",{class:" zgs19_gsNumInputField zgs19_gsFilterElementOuter zgs19_gsFromNumField zgs19_curSelectedFilter",type:"text",placeholder:"From",maxlength:"20"})).append(_("<input>",{class:" zgs19_gsNumInputField zgs19_gsFilterElementOuter zgs19_gsToNumField",type:"text",placeholder:"To",maxlength:"20"}))):2!=s&&3!=s&&e.append(_("<input>",{class:"zgs19_gsAsInputField zgs19_gsNumInputField",type:"text",maxlength:"20"}));var a="";t&&(a=t[0]||""),2==s||3==s?(s="",t&&(s=t[1]),t=_(e).find(".zgs19_gsFromNumField"),20<a.length&&(a=a.substring(0,20),u.showbannertip({ty:2,msg:u.getI18NMsg("common.adv.maxLength_error")})),t.attr("gstitle",a),t.val(a),t.focus(),t=_(e).find(".zgs19_gsToNumField"),20<s.length&&(s=s.substring(0,20),u.showbannertip({ty:2,msg:u.getI18NMsg("common.adv.maxLength_error")})),t.attr("gstitle",s),t.val(s)):((e=_(e).find(".zgs19_gsNumInputField")).attr("gstitle",a),e.val(a),e.focus())},h.renderDateField=function(e,s,t,a){0=="#zgs20_gsCustomCalendarHolder".length&&_("#zgs20_globalsearch").append(_("<div>",{id:"zgs20_gsCustomCalendarHolder"}));var r="2"!==t&&"3"!==t,o={};e.empty(),r?(o=_("<div>",{class:"zgs19_gsAsInputField zgs19_gsInputDateHolder",gs:"advSearch",actionType:"showValueList"})).append(_("<span>",{class:"zgs19_gsNewSelFieldTxt zgs19_gsDateTxt zgs19_gsNewSelValueTxt zgs19_gsOverflow ",gs:"advSearch",actionType:"showValueList"})).append(_("<div>",{class:"zgs18_gsFilterDropDownIcon zgs19_gsfr zgs19_gsMgRt3Px",gs:"advSearch",actionType:"showValueList"})):(o=_("<div>",{class:"zgs19_gsAsInputField zgs19_gsInputDateHolder",gs:"advSearch",actionType:"showDatePicker"})).append(_("<span>",{class:"zgs19_gsNewSelFieldTxt zgs19_gsDateTxt zgs19_gsDateFromTxt zgs19_gsOverflow ",gs:"advSearch",actionType:"showDatePicker"})).append(_("<span>",{class:"zgs19_gsNewSelFieldTxt zgs19_gsDateTxt zgs19_gsDateToLebel zgs19_gsOverflow zgs19_gsDisplayNone",gs:"advSearch",actionType:"showDatePicker"})).append(_("<span>",{class:"zgs19_gsNewSelFieldTxt zgs19_gsDateTxt zgs19_gsDateToText zgs19_gsOverflow zgs19_gsDisplayNone",gs:"advSearch",actionType:"showDatePicker"})),e.append(o);var i=u.DATEFORMAT[s],n=_(o[0]).find(".zgs19_gsDateTxt"),l=_(n[0]),g=_(n[1]),c=_(n[2]);a?(e=a[0],u.relativeDateDispName.hasOwnProperty(n=e)&&(n=u.relativeDateDispName[e]),l.attr("gstitle",n),l.text(n),a[1]?(l.removeClass("zgs19_gsMxWid100Per"),g.removeClass("zgs19_gsDisplayNone"),g.text(u.getI18NMsg("common.to")),c.removeClass("zgs19_gsDisplayNone zgs19_gsMxWid100Per"),c.attr("gstitle",a[1]),c.text(a[1])):l.addClass("zgs19_gsMxWid100Per")):r?(l.addClass("zgs19_gsMxWid100Per"),l.text("Select")):(l.text(i),g.text(u.getI18NMsg("common.to")),c.text(i),l.removeClass("zgs19_gsMxWid100Per"),g.removeClass("zgs19_gsDisplayNone"),c.removeClass("zgs19_gsDisplayNone zgs19_gsMxWid100Per")),u.loadCustomDatePickers(s,t,i,"zgs20_gsCustomCalendarHolder",o)},h.renderOptionsField=function(e,s,t,a){e.empty(),e.append(_("<div>",{class:"zgs19_gsAsInputField zgs19_gsPickValHolder",gs:"advSearch",actionType:"showValueList"}).append(_("<span>",{class:"zgs19_gsNewSelFieldTxt zgs19_gsNewSelValueTxt zgs19_gsOverflow ",gs:"advSearch",actionType:"showValueList"})).append(_("<span>",{class:"zgs19_gsEachFilterCount zgs19_gsNewAdvMultiCount zgs19_gsfl zgs19_gsDisplayNone",gs:"advSearch",actionType:"showValueList"})).append(_("<div>",{class:"zgs18_gsFilterDropDownIcon  zgs19_gsfr",gs:"advSearch",actionType:"showValueList"})));var r=_(e).find(".zgs19_gsNewSelValueTxt"),o=_(e).find(".zgs19_gsNewAdvMultiCount"),i="";a&&0<a.length?(e=a.length,i=(t=h.getDisplayValueAndOverText(s,parseInt(t),a)).dispTxtArr[0]||a[0]||"",r.removeClass("zgs19_gsMxWid75Per"),1<e&&(o.text("+"+--e),o.attr("gstitle",t.dispTxt),o.removeClass("zgs19_gsDisplayNone"),r.addClass("zgs19_gsMxWid75Per"))):(i=n,o.addClass("zgs19_gsDisplayNone")),r.attr("gstitle",i),r.text(i)},h.getDisplayValueAndOverText=function(e,s,t,a,r,o,i,n,l){for(var g=[],c="",d=t.length,p=0;p<d;){var u=h.getDisplayText(e,s,t[p],a,r,o,i,n,l);c+=u,++p<d&&(c+=", "),g.push(u)}return{dispTxtArr:g,dispTxt:c}},h.getDisplayText=function(e,s,t,a,r,o,i,n,l){var g="";if(r=r||m.getCurrentService(),s===u.TYPE_BOOLEAN&&u.BOOLEANPICKLIST.hasOwnProperty(t))g=u.BOOLEANPICKLIST[t];else if(s===u.TYPE_SINGLE_SELECT_PICKLIST||s===u.TYPE_MULTI_SELECT_PICKLIST){a=h.getPickListFromFieldObj(e,a);a.hasOwnProperty(t)&&(g=u.replaceHTMLEntity(a[t]))}else if(s===u.TYPE_LOOKUP)g=h.getLookUpDisplayName(t,e,r,o,i,n);else if(s===u.TYPE_MULTI_SELECT_USER)g=h.getUserDisplayName(t,e,r,o,n);else if(s===u.TYPE_DATETIME)if(l===u.TYPE_RELATIVEDATE){var c,d=u.filterDates;for(c in d){var p=d[c];p.datevalue!=t.datevalue||p.datetype!=t.datetype||p.timeunit!=t.timeunit&&(t.timeunit!=u.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_MONTH&&t.timeunit!=u.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_WEEK||"4"!=t.datetype)||(g=u.relativeDateDispName[c])}}else g=u.convertClientDateFormat([t],s);else g=t;return g},h.getLookUpDisplayName=function(e,s,t,a,r,o){let i={};var n;return t&&a&&r||(t=(n=u.getRequiredMetaInfo())[0],a=n[1],r=n[2]),i=h.getLookUpListFromFieldObj(s,t,a,r,o),null!=i&&i.hasOwnProperty(e)?u.replaceHTMLEntity(i[e]):u.userIdVsDisplayName[e]||e},h.getUserDisplayName=function(e,s,t,a,r){r=t&&a?u.getUserDispName(e,!1,t,a,r):u.getUserDetails(e);return _.isEmptyObject(r)?t===GSConstant.SUPPORT&&"assigneeId"===s&&"0"===e?u.getI18NMsg("common.unassigned"):u.userIdVsDisplayName[e]||e:t===GSConstant.MAILS?r.EMAILID:r.DNAME||r.full_name||""},h.updatedSelectedUserInfo=function(e,s,t){var a;_.isEmptyObject(t)||(a=t.value||"",s&&!_.isEmptyObject(s)&&(a=s[a].full_name||"",t=t.index||"",(t=_("#zgs20_gsFieldValue"+t).find("#zgs20_gsInputFieldHdr .zgs19_gsNewSelValueTxt")).attr("gstitle",a),t.text(a)))},h.selectField=function(e){var s=_(e).find(".zgs19_gsFieldOptionTxt"),t=s.attr("key"),a=_("#zgs20_gsFilterPopup").attr("index"),r=h.curCriteriaList[a]||{};r.name!=t&&(e=s.attr("type"),r.name=t,r.type=e,r=s.text()||"",(s=_("#zgs20_gsFieldId"+a)).removeClass("zgs19_gsBorderFC0D1ECol"),(s=s.find(".zgs19_gsSelFldName")).text(r),s.attr("gstitle",r),h.autoSelectOperator(a,t,e),h.enableSaveButton(),h.enableClearCriteria()),h.hideAdvPopUpList()},h.autoSelectOperator=function(e,s,t){var a=_("#zgs20_gsFieldOpr"+e);a.removeClass("zgs19_gsHideEleme"),_("#zgs20_gsFieldValue"+e).removeClass("zgs19_gsHideEleme");var r=a.find(".zgs19_gsNewSelOprTxt"),o=""+(u.getFieldsList()[s].availableCondition||[])[0],a=u.getOperatorDisplayName(o,t);r.text(a),r.attr("gstitle",a);a=h.curCriteriaList[e];a.operator=o,delete a.value,h.renderFieldValueElement(e,s,t,o)},h.selectOperator=function(e){var s=_(e).find(".zgs19_gsFieldOptionTxt"),t=s.attr("key"),a=_("#zgs20_gsFilterPopup").attr("index"),r=h.curCriteriaList[a],o=r.operator;o!=t&&(r.operator=t,e=s.text()||"",(s=_("#zgs20_gsFieldOpr"+a)).removeClass("zgs19_gsBorderFC0D1ECol"),(s=s.find(".zgs19_gsNewSelOprTxt")).text(e),s.attr("gstitle",e),h.fieldValueClearActions(r,t,o,a,r.name,r.type)),h.hideAdvPopUpList()},h.fieldValueClearActions=function(e,s,t,a,r,o){switch(s){case"2":case"3":if("2"!==t&&"3"!==t)return delete e.value,h.renderFieldValueElement(a,r,o,s),void m.disabledApplyButton();break;case"6":case"7":e.value=["0"],h.renderFieldValueElement(a,r,o,s,!0);break;default:if(["2","3","6","7"].includes(t))return delete e.value,h.renderFieldValueElement(a,r,o,s),void m.disabledApplyButton()}h.enableSaveButton()},h.handleDatepicker=function(e){var s,t,a,r,o,i=_(e).closest(".zgs19_gsCriteria").attr("index");u.isCustomDatePickerDisplay&&h.oldDateIndex==i?u.hideNewCustomDatePicker():(s={},t=(a=h.curCriteriaList[i]).operator,o=r="",(a=a.value||"")&&(r=a[0]||"",o=a[1]||""),2==t||3==t?(s.selectionType="separate",s.fromValue=r,s.toValue=o):s.value=r,s.callback=h.updateFieldDateObject,h.oldDateIndex=i,s.index=i,e=(i=_(e).closest(".zgs19_gsInputDateHolder")).attr("dType"),u.handleNewCustomDatePicker(_(i).closest(".zgs19_gsFieldValue"),e,s))},h.multiSelectPicklistActions=function(e){var s=_("#zgs20_gsFilterPopup"),t=_(".zgs19_gstagOuter"),a=t.length,r=m.getCurrentService();if(a<h.maxValueSelectCount){for(var o,i,n,l="",g=[],c=0;c<a;c++){var d=_(t[c]),p=d.attr("value");p&&g.push(p),0==c&&(l=r===GSConstant.MAILS?d.attr("value"):d.attr("gstitle"))}e&&(i=(o=_(e)).attr("type"),n=o.attr("value"),g.push(n),e="",2==i?(e=r===GSConstant.MAILS?n:o.find(".zgs19_gsAutoSuggChildName").text(),_("#zgs20_gsUserListQrybox").val(""),u.focusForWeb("zgs20_gsUserListQrybox"),h.advanceUserSearch("")):1==i&&(e=o.find(".zgs19_gsFieldPickTxt").text(),_("#zgs20_gsOptionListQryBox").val(""),u.focusForWeb("zgs20_gsOptionListQryBox"),h.optionListSearch("")),h.renderSelectedTagInContainer(n,e),t=_(".zgs19_gstagOuter"),++a,o.addClass("zgs19_gsDisplayNoneImp"),l=l||e,0===_(".zgs19_gsFieldListCont").children(":visible").length&&_(".zgs19_gsFieldListCont").append(_("<div>",{class:"zgs19_gsNoResultsFound"}).append(h.noResultElement(u.getI18NMsg("gs.search.error.all_options_selected")))));s=s.attr("index");h.updateFieldValueHolder(g,s,l,a),0<g.length&&(h.curCriteriaList[s].value=g,_("#zgs20_gsCriteria"+s).find(".zgs19_gsAddCrt").removeClass("zgs19_gsHideEleme"),h.enableSaveButton(),m.enableResetButton(),_(".zgs19_gsSelectedTagContainer").css("display","block")),m.setFilterListPosition(m.closestHolderElem,"zgs20_gsFilterPopup","zgs19_filterBodyHldr");s=t[a-1];s&&!m.isElementInViewPort(s,"zgs19_gsSelectedTagContainer")&&_(".zgs19_gsSelectedTagContainer").scrollTop(_(s).offset().top)}else u.showbannertip({ty:2,msg:u.I18N.getValue("common.adv.pickListErrorMsg",[h.maxValueSelectCount])})},h.updateFieldValueHolder=function(e,s,t,a){var r=m.closestHolderElem;r.find(".zgs19_gsBorderBtmFC0D1ECol").removeClass("zgs19_gsBorderBtmFC0D1ECol");var o=r.find(".zgs19_gsNewSelValueTxt");if(o.removeClass("zgs19_gsMxWid75Per"),0===e.length)return o.attr("gstitle",n),o.text(n),delete h.curCriteriaList[s].value,_("#zgs20_gsCriteria"+s).find(".zgs19_gsAddCrt").addClass("zgs19_gsHideEleme"),_(".zgs19_gsSelectedTagContainer").css("display","none"),void m.disabledApplyButton();o.attr("gstitle",t),o.text(t);t=r.find(".zgs19_gsNewAdvMultiCount");1<a?(s=(r=h.curCriteriaList[s]).name,r=parseInt(r.type),e=h.getDisplayValueAndOverText(s,r,e),t.text("+"+(a-1)),t.attr("gstitle",e.dispTxt),_(t).removeClass("zgs19_gsDisplayNone"),o.addClass("zgs19_gsMxWid75Per")):_(t).addClass("zgs19_gsDisplayNone")},h.undoSelectedTag=function(e){var s=_(e).closest(".zgs19_gstagOuter"),e=s.attr("value");_(s).remove();e=_('.zgs19_gsFieldValueHolder[value="'+e+'"]');_.isEmptyObject(e)||(_(".zgs19_gsNoResultsFound").remove(),e.removeClass("zgs19_gsDisplayNoneImp")),h.multiSelectPicklistActions()},h.storedUserInfo=function(e){var s,t,a=_(e).attr("value"),r=u.getUserDetails(a,!0);_.isEmptyObject(r)&&(s={},t=_(e).find(".zgs19_gsAutoSuggChildName").text(),r=_(e).find(".zgs19_gsUserChildEmail").text(),e=_(e).attr("zuid"),s.full_name=t,s.email=r,s.zuid=e,s.uid=a,m.getCurrentService(),h.emailVsSelectedUserObj[a]=s)},h.storeInputValues=function(e){var s=_(e).closest(".zgs19_gsCriteria").attr("index"),t=h.curCriteriaList[s],a=t.operator;delete t.value;var r,o=[],i=_("#zgs20_gsFieldValue"+s),e=_("#zgs20_gsCriteria"+s).find(".zgs19_gsAddCrt");2==a||3==a?(s=(r=i.find(".zgs19_gsFromNumField")).val().trim(),r.attr("gstitle",s),r=(a=i.find(".zgs19_gsToNumField")).val().trim(),a.attr("gstitle",r),s&&r?(o=[s,r],e.removeClass("zgs19_gsHideEleme")):e.addClass("zgs19_gsHideEleme")):(i=(r=i.find(".zgs19_gsAsInputField")).val().trim(),r.attr("gstitle",i),i?(o=[i],e.removeClass("zgs19_gsHideEleme")):e.addClass("zgs19_gsHideEleme")),t.value=o,h.enableSaveButton()},h.selectSingleValue=function(e){var s=_(e).attr("value"),t=_("#zgs20_gsFilterPopup").attr("index"),a=h.curCriteriaList[t];a.value!=s&&(a.value=[s],s=_(e).text()||"",(e=_("#zgs20_gsFieldValue"+t)).removeClass("zgs19_gsBorderFC0D1ECol"),(e=e.find(".zgs19_gsNewSelValueTxt")).text(s),e.attr("gstitle",s),_("#zgs20_gsCriteria"+t).find(".zgs19_gsAddCrt").removeClass("zgs19_gsHideEleme"),h.enableSaveButton()),h.hideAdvPopUpList()},h.singleSelectPicklistActions=function(e){var s=_(e).attr("value"),t=_("#zgs20_gsFilterPopup").attr("index"),a=h.curCriteriaList[t];a.value!=s&&("customdate"!==s?(a.value=[s],a=_(e).text()||"",(e=_("#zgs20_gsFieldValue"+t)).removeClass("zgs19_gsBorderFC0D1ECol"),(e=e.find(".zgs19_gsNewSelValueTxt")).text(a),e.attr("gstitle",a),_("#zgs20_gsCriteria"+t).find(".zgs19_gsAddCrt").removeClass("zgs19_gsHideEleme")):h.handleDatepicker(_(m.closestHolderElem).find(".zgs19_gsInputDateHolder"))),h.hideAdvPopUpList(),"customdate"!=s&&h.enableSaveButton()},h.updateFieldDateObject=function(e){var s,t=e.options.index||"",a=_("#zgs20_gsFieldValue"+t),r=a.find(".zgs19_gsDateTxt"),o=_(r[0]),i=_(r[1]),n=_(r[2]),r=h.curCriteriaList[t]||{};e.hasOwnProperty("valueString")&&e.valueString?(s=""+e.valueString,o.attr("gstitle",s),o.text(s),r.value=[s],o.addClass("zgs19_gsMxWid100Per"),i.addClass("zgs19_gsDisplayNone"),n.addClass("zgs19_gsDisplayNone")):e.fromValueString&&e.toValueString&&(s=""+e.fromValueString,o.attr("gstitle",s),o.text(s),o.removeClass("zgs19_gsMxWid100Per"),i.removeClass("zgs19_gsDisplayNone"),i.text(u.getI18NMsg("common.to")),e=""+e.toValueString,n.removeClass("zgs19_gsDisplayNone zgs19_gsMxWid100Per"),n.attr("gstitle",e),n.text(e),r.value=[s,e]),a.removeClass("zgs19_gsBorderFC0D1ECol"),_("#zgs20_gsCriteria"+t).find(".zgs19_gsAddCrt").removeClass("zgs19_gsHideEleme"),u.isCustomDatePickerDisplay=!1,h.enableSaveButton()},h.storeSelectedValueList=function(){var e=[],s=_(".zgs19_gsFieldListCont").find("input[type=checkbox]:checked"),t=s.length;if(0<t){for(var a="",r=0;r<t;r++){var o=_(_(s[r])).closest(".zgs19_gsFieldValueHolder"),i=o.attr("type"),n=o.attr("value");n&&e.push(n),0===r&&(a=(2==i?o.find(".zgs19_gsAutoSuggChildName"):o).text())}var l=_("#zgs20_gsFilterPopup").attr("index"),g=_("#zgs20_gsFieldValue"+l);g.removeClass("zgs19_gsBorderFC0D1ECol");var c=g.find(".zgs19_gsNewSelValueTxt");c.removeClass("zgs19_gsMxWid75Per"),c.attr("gstitle",a),c.text(a);var d,p=g.find(".zgs19_gsNewAdvMultiCount");1<t?(g=(d=h.curCriteriaList[l]).name,d=parseInt(d.type),d=h.getDisplayValueAndOverText(g,d,e),p.text("+"+--t),p.attr("gstitle",d.dispTxt),_(p).removeClass("zgs19_gsDisplayNone"),c.addClass("zgs19_gsMxWid75Per")):_(p).addClass("zgs19_gsDisplayNone"),0<e.length&&(h.curCriteriaList[l].value=e,_("#zgs20_gsCriteria"+l).find(".zgs19_gsAddCrt").removeClass("zgs19_gsHideEleme"),h.enableSaveButton(),m.enableResetButton())}h.hideAdvPopUpList()},h.addCriteriaPattern=function(e){var s=_("#zgs20_gsCrtPatnTxt"),t=s.text()||"1";u.includes(e+1,t)||(e=u.correctCriteriaExpression(t,"",e),u.renderCriteriaPatternText(s,e))},h.removeCriteriaPattern=function(e){var s=_("#zgs20_gsCrtPatnTxt"),t=s.text(),e=u.correctCriteriaExpression(t,e);u.renderCriteriaPatternText(s,e)},h.changeComparatorCriteriaPattern=function(e,s){var t=_("#zgs20_gsCrtPatnTxt"),a=t.text(),a=u.changeCriteriaExpression(a,e-1,s.toUpperCase()),a=u.correctCriteriaExpression(a);u.renderCriteriaPatternText(t,a)},h.editCriteriaPattern=function(){var e=_("#zgs20_gsCrtPatnTxt");e.removeClass("zgs19_gsBorderBtmFC0D1ECol"),e.attr("contenteditable","true"),u.setCursorPosInEditableDivElement("zgs20_gsCrtPatnTxt"),h.oldPattern=e.text(),h.hideElementsForEditCriteria(),_(".zgs19_gsCrtPatnActionHdr").removeClass("zgs19_gsDisplayNone"),_("#zgs20_gsEditPatn").addClass("zgs19_gsDisplayNone"),m.disabledApplyButton()},h.saveEditedCriteria=function(){var e=_("#zgs20_gsCrtPatnTxt"),s=e.text().trim();if(h.oldPattern!=s)if(u.validatePattern(s,h.curCriteriaList.length)){for(var t=(s=u.correctCriteriaExpression(s)).match(/(AND|OR)/gi),a=_("#zgs20_gsCrtList").find(".zgs19_gsCrtOper"),r=a.length,o=0;o<r;o++){var i=t?t[o]:"",n=_(a[o]).find(".zgs19_gsCrtOperTxt");n.attr("comparator",i),n.text(i)}u.renderCriteriaPatternText(e,s),h.oldPattern=s,h.cancelEditCriteria(),h.checkValidCriteriaList()&&m.enableApplyButton(),m.enableResetButton()}else u.showbannertip({ty:3,msg:u.getI18NMsg("common.adv.criteriaPatternError")}),e.addClass("zgs19_gsBorderBtmFC0D1ECol");else h.cancelEditCriteria()},u.renderCriteriaPatternText=function(e,s){e.empty();for(var t=s.split(" "),a=t.length,r=0;r<a;r++)"AND"===t[r]||"OR"===t[r]?e.append(_("<span>",{class:"zgs19_gsCrtPatternOprClr"}).text(t[r]+" ")):e.append(t[r]+" ");1===a?_("#zgs20_gsEditPatn").addClass("zgs19_gsHideEleme"):_("#zgs20_gsEditPatn").removeClass("zgs19_gsHideEleme")},h.cancelEditCriteria=function(){h.unHideElementsForEditCriteria();var e=_("#zgs20_gsCrtPatnTxt");e.removeClass("zgs19_gsBorderBtmFC0D1ECol"),e.attr("contenteditable","false"),u.renderCriteriaPatternText(e,h.oldPattern||"1"),_(".zgs19_gsCrtPatnActionHdr").addClass("zgs19_gsDisplayNone"),_("#zgs20_gsEditPatn").removeClass("zgs19_gsDisplayNone"),h.enableSaveButton()},h.unHideElementsForEditCriteria=function(){_("#zgs20_gsCrtList, .zgs19_gsclrfltrBtn, #zgs20_gsnewFltrHdr, .zgs19_gscriSaveTxt, .zgs19_gsDescriptionTextHolder, .zgs19_gsSearchQryTextHolder, .zgs19_gsServiceHolder").removeClass("zgs19_gsHideEleme")},h.hideElementsForEditCriteria=function(){_("#zgs20_gsCrtList, .zgs19_gsclrfltrBtn, #zgs20_gsnewFltrHdr, .zgs19_gscriSaveTxt, .zgs19_gsDescriptionTextHolder, .zgs19_gsSearchQryTextHolder, .zgs19_gsServiceHolder").addClass("zgs19_gsHideEleme")},h.isChildVisibleActions=function(e){0===e.children(":visible").length?e.append(_("<div>",{class:"zgs19_gsNoResultsFound"}).append(h.noResultElement(u.getI18NMsg("gs.search.error.all_options_selected")))):e.scrollTop(0)},h}(void 0)}(zgssearch),function(m){var z=window._jQueryGS,v=m.getGSConstantObj()||{},f=m.gsfilters||{};m.fieldDetailsMapping={},m.advanceSearchEnabledServiceArr=[v.CLIQ,v.CRM,v.BIGIN,v.SUPPORT,v.MAILS,v.NOTEBOOK,v.WORKDRIVE,v.GMAIL,v.CONNECT,v.SALESIQ],m.isAdvancedFitersApplied=!1,m.isAdvCriteriaCorrect=!0,m.hasAdvCriteriaChanged=!1,m.lookupFieldVsValueObject=m.lookupFieldVsValueObject||{},m.fieldsSearchQueue=m.fieldsSearchQueue||{},m.fieldsCache=m.fieldsCache||{values:{},result:{},noResult:{}},m.lookUpFieldListViewCount=100,m.lookUpFieldQueryCount=50,m.lookUpFieldQueryMaxCount=500,m.lookUpFieldListViewMaxCount=1e3,m.DATEFORMAT={3:"dd MMM yyyy",4:"dd MMM yyyy hh:mm tt"},m.CALENDAR_MONTH=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],m.BOOLEANPICKLIST={true:m.getI18NMsg("common.adv.true"),false:m.getI18NMsg("common.adv.false")};const g=["&","|"],c=e=>e[e.length-1],i=e=>e.match(/\d+/);m.getOperatorDisplayName=function(e,s){switch(e){case"0":return 1==s?"=":m.getI18NMsg("common.adv.is");case"1":return 1==s?"!=":m.getI18NMsg("common.adv.isNot");case"2":return m.getI18NMsg("common.adv.between");case"3":return m.getI18NMsg("common.adv.notBetween");case"4":return m.getI18NMsg("common.adv.contains");case"5":return m.getI18NMsg("common.adv.notContains");case"6":return m.getI18NMsg("common.adv.isEmpty");case"7":return m.getI18NMsg("common.adv.isNotEmpty");case"8":return m.getI18NMsg("common.adv.startWith");case"9":return 1==s?"<":m.getI18NMsg("common.adv.isBefore");case"10":return 1==s?"<=":m.getI18NMsg("common.adv.isLessEqual");case"11":return 1==s?">":m.getI18NMsg("common.adv.isAfter");case"12":return 1==s?">=":m.getI18NMsg("common.adv.isGreaterEqual");default:return""}},m.getFilterTypeIcons=function(e){switch(e){case m.TYPE_TEXT:return"zgs18_gsTextFieldIcon";case m.TYPE_NUMBER:return"zgs18_gsNumberFieldIcon";case m.TYPE_BOOLEAN:case m.TYPE_SINGLE_SELECT_PICKLIST:case m.TYPE_MULTI_SELECT_PICKLIST:case m.TYPE_LOOKUP:return"zgs18_gsPickListFieldIcon";case m.TYPE_DATETIME:case m.TYPE_RELATIVEDATE:return"zgs18_gsDateFieldIcon";case m.TYPE_MULTI_SELECT_USER:return"zgs18_gsUserFieldIcon"}},m.getDataTypeVSSearchType=function(e){switch(e){case m.TYPE_TEXT:case m.TYPE_BOOLEAN:case m.TYPE_SINGLE_SELECT_PICKLIST:case m.TYPE_MULTI_SELECT_PICKLIST:return m.QUERY_OBJ_DT_STRING;case m.TYPE_NUMBER:return m.QUERY_OBJ_DT_DECIMAL;case m.TYPE_DATETIME:return m.QUERY_OBJ_DT_DATE_TIME;case m.TYPE_MULTI_SELECT_USER:return m.QUERY_OBJ_DT_MENTION;case m.TYPE_LOOKUP:return m.QUERY_OBJ_DT_LOOKUP}return""},m.renderUserDetailsInContainer=function(e,s,t,a,r,o,i,n){var l=z("<div>",{id:"zgs20_gsUserResultRow",class:"zgs19_gsUserResultRow"});l.append(z("<div>",{class:"zgs19_gsSuggUserCell1"}).append(z("<div>",{class:"zgs19_gsUniIconHolder"}).append(z("<img>",{class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl",gs:"gsUserPhoto",src:m.gsspacer})))).append(z("<div>",{class:"zgs19_gsSuggUserCell2"}).append(z("<div>",{class:"zgs19_gsSuggUserTitle zgs19_gsOverflow"}).append(z("<div>",{id:"zgs20_gsAutoSuggChildName"+t,class:"zgs19_gsAutoSuggChildName zgs19_gsOverflow",gstitle:r}).text(r))).append(z("<div>",{class:"zgs19_gsSuggUserAuthor zgs19_gsOverflow"}).append(z("<div>",{id:"zgs20_gsUserChildEmail"+t,class:"zgs19_gsUserChildEmail zgs19_gsOverflow",gstitle:o}).text(o)))),e.append(z("<div>",{id:"zgs20_gsCustomUserChild_"+t,class:"zgs19_gsFieldValueHolder zgs19_gsQuerySugguser zgs19_gsNewMultiFilterSelection zgs19_gsCurPointer",type:s,zuid:a,value:t}).append(l))},m.loadCustomDatePickers=function(e,s,t,a,r){3==e?2==s||3==s?(z(r).attr("dType","customdaterange"),0===z("#zgs20_gsCustomDateRangePickerElem").length&&m.loadDatePicker(m.createNewCustomDateRangePicker.bind(null,a,t))):(z(r).attr("dType","customdate"),0===z("#zgs20_gsCustomDatePickerElem").length&&m.loadDatePicker(m.createNewCustomDatePicker.bind(null,a,t))):4==e&&(2==s||3==s?(z(r).attr("dType","customdatetimerange"),0===z("#zgs20_gsCustomDateTimeRangePickerElem").length&&m.loadDatePicker(m.createNewCustomDateTimeRangePicker.bind(null,a,t))):(z(r).attr("dType","customdatetime"),0===z("#zgs20_gsCustomDateTimePickerElem").length&&m.loadDatePicker(m.createNewCustomDateTimePicker.bind(null,a,t))))},m.isAdvanceSearchEnabledForService=function(e){return m.isArrayContain(e,m.advanceSearchEnabledServiceArr)},m.checkAdvanceSearchEnabledOrNot=function(){var e=!1;m.curFieldDetails={};var s=f.getCurrentFilterObj(),t=s.service;if(m.isAdvanceSearchEnabledForService(t)){var a=s.accounts||"";if(a){var r=a[0]||"";if(r&&0!=r){var o="";switch(t){case v.CLIQ:case v.CONNECT:(o=s.modules||"")&&1===o.length&&(e=!0);break;case v.CRM:case v.BIGIN:if((o=s.modules||"")&&1===o.length&&"all"!=o[0]){var i=o[0],n=m[t+"OrgInfo"].getModuleData(i,r);if(!(l=n&&n.isDefault)&&n&&t===v.CRM){n=m.getFilterInfo(v.CRM,"modules","crm_modules");if(n){let e=n[r][i+"_url"];var i=e?e.split("CustomModule"):[],l=1<i.length&&parseFloat(i[1])<=500}}l&&(e=!0)}break;case v.SUPPORT:(o=s.modules||"")&&1==o.length&&"0"!=o[0]&&(e=!0);break;case v.SALESIQ:l=(o=s.modules||"")?o[0]:"";o&&1==o.length&&l!=m.allModules&&"4"!=l&&(e=!0);break;case v.MAILS:if(!(o=s.modules||["mails"])||1!==o.length||"mails"!=o[0])return void m.gsadvancesearch.hideAdvancedSearchPage();e=!0;break;case v.NOTEBOOK:(o=s.modules||"")&&1===o.length&&(e=!0);break;case v.WORKDRIVE:case v.GMAIL:e=!0}return void m.gsadvancesearch.showAdvancedSearchPage(e)}}}m.gsadvancesearch.hideAdvancedSearchPage()},m.getFieldsList=function(){var e,s,t,a,r=m.curFieldDetails||{};return 0===Object.keys(r).length&&(e=(a=m.getRequiredMetaInfo())[0],s=a[1],t=a[2],a=a[3],a=m.formatFieldObjKey(e,s,t,a),m.fieldDetailsMapping.hasOwnProperty(a)&&(r=m.fieldDetailsMapping[a],m.curFieldDetails=r)),r},m.getFieldObj=function(e,s,t,a,r){var o={},i=m.formatFieldObjKey(e,s,t,a);return m.fieldDetailsMapping.hasOwnProperty(i)?o=m.fieldDetailsMapping[i]:m.fetchFieldDetailsForService(e,s,a,t,r),o},m.getRequiredMetaInfo=function(){var e=f.getCurrentFilterObj(),s=e.service||"",t="";return[s,e.hasOwnProperty("accounts")&&!(1<e.accounts.length)&&e.accounts[0]||"",e.hasOwnProperty("modules")&&!(1<e.modules.length)&&e.modules[0]||"",t=s==v.SUPPORT?e.hasOwnProperty("departments")&&!(1<e.departments.length)&&e.departments[0]||"":t]},m.formatFieldObjKey=function(e,s,t,a){var r="";switch(e){case v.CRM:case v.BIGIN:case v.CONNECT:case v.SALESIQ:s&&t&&(r=e+"_"+s+"_"+t);break;case v.CLIQ:case v.NOTEBOOK:t&&(r=e+"_"+t);break;case v.SUPPORT:s&&t&&(r=e+"_"+s+"_"+t),a&&"0"!==a&&(r+="_"+a);break;case v.MAILS:case v.WORKDRIVE:case v.GMAIL:r=e}return r},m.fetchFieldsList=function(e){var s=m.getRequiredMetaInfo(),t=s[0],a=s[1],r=s[2],s=s[3];m.fetchFieldDetailsForService(t,a,s,r,{callback:e})},m.fetchFieldDetailsForService=function(c,d,p,u,e){var s="action=getFields&service="+c+"&accountId="+d;p&&"0"!==p&&(s+="&deptId="+p),u&&(s+="&module="+u),m.advSearchXMLHttpReq=m.uri(m.GET,"/zgssearch/gsadvancesearch",s,e,function(e,s,t){var a=t.args||{},r={},o=a.callback,t=m.jsonParse(e),e=m.formatFieldObjKey(c,d,u,p);if(t.hasOwnProperty("fields")&&0<t.fields.length)for(var i=t.fields,t=c==v.GMAIL?"id":"display_name",n=(i=m.sortFieldDetails(i,t)).length,l=0;l<n;l++){var g=i[l];(r[g.api_name]=g).type!==m.TYPE_MULTI_SELECT_PICKLIST||(g=g.picklistValues)&&m.getSortedKeyValuePairs(g.data)}else a.status=s;m.fieldDetailsMapping[e]=r,o&&o(r,a)})},m.fetchPicklistValueForField=function(e,s,t,a,r,o){e&&s&&a&&(a="action=getPicklistValues&service="+e+"&accountId="+s+"&fieldId="+a,t&&(a+="&query="+t),r={callback:o,index:r},m.fieldsSearchQueue={flag:!0,expiry_time:(new Date).getTime()},m.advSearchXMLHttpReq=m.uri(m.GET,"/zgssearch/gsadvancesearch",a,r,function(e,s,t){var a=t.args||{},r=[],t=a.callback,e=m.jsonParse(e);m.fieldsSearchQueue={flag:!1,expiry_time:0},e.hasOwnProperty("data")&&(r=e.data,e=a.index||"",a=(m.gsadvancesearch.curCriteriaList[e]||{}).name||"",a=(e=m.curFieldDetails[a]).picklistValues||{},z.extend(a,r),e.picklistValues=m.getSortedKeyValuePairs(a)),t&&t(r)}))},m.fetchLookUpValuesForField=function(g,c,s){var t=m.getRequiredMetaInfo(),a=t[0];let d=t[1];if(a&&d&&g){t="action=getLookupValues&service="+a+"&accountId="+d+"&module="+g;c&&(t+="&query="+c);var r,a=m.getFormattedLookupKey(a,d,g);let i=m.getFieldDataObject(a),n=i.start||0,e=n<m.lookUpFieldListViewMaxCount,l={};c&&(l=m.getFieldCacheObj(a),r=l[c],n=r?r.start:0,e=n<m.lookUpFieldQueryMaxCount),e?(t+="&start="+n,r={callback:s},m.fieldsSearchQueue={flag:!0,expiry_time:(new Date).getTime()},m.advSearchXMLHttpReq=m.uri(m.GET,"/zgssearch/gsadvancesearch",t,r,function(s,e,t){var a={},r=(t.args||{}).callback,t=m.jsonParse(s);if(m.fieldsSearchQueue={flag:!1,expiry_time:0},t.hasOwnProperty("data")){var o,a=t.data,s=t.hasMore;let e=i.data;for(o in a)e.hasOwnProperty(o)?delete a[o]:e[o]=a[o];if(c){t="portalId="+d+"&query="+encodeURIComponent(c);let e=6<=Object.keys(a).length?m.fieldsCache.result:m.fieldsCache.noResult;e.hasOwnProperty(g)?e[g].push(t):e[g]=[t],l.hasOwnProperty(c)||(l[c]={hasMore:!1,start:0}),l[c].hasMore=s,l[c].start=n+m.lookUpFieldQueryCount}else i.hasMore=s,i.start=(i.start||0)+m.lookUpFieldListViewCount;r&&r(a)}else r&&(c||(i.hasMore=!1),r(a))})):s({})}},m.getFieldDataObject=function(s){if(!m.lookupFieldVsValueObject.hasOwnProperty(s)){let e={data:{},hasMore:!0};m.lookupFieldVsValueObject[s]=e}return m.lookupFieldVsValueObject[s]},m.getFieldCacheObj=function(e){let s=m.fieldsCache.values;return s.hasOwnProperty(e)||(s[e]={}),s[e]},m.getFormattedLookupKey=function(e,s,t){return e===v.CRM||e===v.SUPPORT?e+"_"+s+"_"+t:e+"_"+t},m.sortFieldDetails=function(e,t){e.sort(function(e,s){e=e[t].toLowerCase(),s=s[t].toLowerCase();return e<s?-1:s<e?1:0});for(var s=[],a=[],r=[],o=e.length,i=0;i<o;i++){var n=e[i],l=n.type;(l==m.TYPE_MULTI_SELECT_PICKLIST||l==m.TYPE_LOOKUP?s:l==m.TYPE_MULTI_SELECT_USER?a:r).push(n)}return(s=s.concat(a)).concat(r)},m.getUserDetails=function(e,s){var t=m.getRequiredMetaInfo(),a=t[0],r=t[1],t=t[3];return m.getUserDispName(e,s,a,r,t)},m.getUserDispName=function(e,s,t,a,r){switch(t){case v.CRM:case v.BIGIN:var o=m[t+"OrgInfo"].getUserData(a);return o.hasOwnProperty(e)?o[e]:{};case v.SUPPORT:var i="agent_"+a;r&&"0"!=r&&(i+="_"+r);var n=m.gssupportaction.supportContacts[i]||{};return n.hasOwnProperty(e)?n[e]:{};case v.CLIQ:case v.MAILS:case v.NOTEBOOK:case v.WORKDRIVE:case v.CONNECT:case v.GMAIL:i=s?m.gsusercontacts.getProximityContactsObject():m.getUsersContactList(),n=t==v.MAILS?e:m.ProximityContacts.zuidVsEmailId[e];if(i.hasOwnProperty(n))return i[n]}return{}},m.getUserSearchList=function(e){e=e||"";var s=m.getRequiredMetaInfo(),t=s[0],a=s[1],s=s[3];return m.getUserDetailsForService(t,a,s,e)},m.fetchUsersList=function(e){var s=m.getRequiredMetaInfo(),t=s[0],a=s[1];switch(t){case v.CRM:case v.BIGIN:return e.callback=m.advanceUserSearchAfterFetch,m[t+"OrgInfo"].getUsersInfo(a,e);case v.SUPPORT:var r=s[3],o="&portalId="+a+"&deptId="+r;if(m.gsusercontacts.checkIfExistingCallInProgress()){if(!m.gssupportaction.isDeskSearchReqCached(e.query,o))return e.curPortalId=a,r&&0!=r&&(e.curDeptId=r),e.extraParams=o,e.type="advDeskAgentSearch",m.gssupportaction.fetchSupportAgents(e);m.advanceUserSearchAfterFetch({},e)}break;case v.CLIQ:case v.MAILS:case v.NOTEBOOK:case v.CONNECT:case v.WORKDRIVE:case v.GMAIL:var i=e.query||"",r=m.advContactssearch(i),o=e.index||"",i=(m.gsadvancesearch.curCriteriaList[o]||{}).value||"";m.gsadvancesearch.addUserOptionInValueList(r,i,o)}},m.usersLocalSearch=function(e,s){var t=[];if(e&&0<Object.keys(e).length){var a,r=s.replace(m.gsautocomplete.regex_replacer,"\\$&");for(a in e){var o=e[a],i=m.replaceHTMLEntity(o.full_name),n=new RegExp("(^"+r+"|\\s"+r+")","i");-1<i.search(n)?t.push(o):(i=m.replaceHTMLEntity(o.email),n=new RegExp(r,"i"),-1<i.search(n)&&t.push(o))}}return t},m.getUserDetailsForService=function(e,s,t,a){switch(e){case v.CRM:case v.BIGIN:var r=m[e+"OrgInfo"].getUserData(s);return m.usersLocalSearch(r,a);case v.SUPPORT:r="agent_"+s;t&&"0"!=t&&(r+="_"+t);r=m.gssupportaction.supportContacts[r]||{};return m.usersLocalSearch(r,a);case v.CLIQ:case v.MAILS:case v.NOTEBOOK:case v.WORKDRIVE:case v.CONNECT:case v.GMAIL:return m.advContactssearch(a)}},m.advanceUserSearchAfterFetch=function(e,s){var t,a,r;z.isEmptyObject(s)||(t=s.index||"",a=(m.gsadvancesearch.curCriteriaList[t]||{}).value||"",r=[],e&&!z.isEmptyObject(e)&&(s=s.query||"",r=m.usersLocalSearch(e,s)),m.gsadvancesearch.addUserOptionInValueList(r,a,t))},m.advContactssearch=function(e){var s=[],t=m.gsautocomplete.findMatchedData("users","@"+e),a=t.length;if(0<a)for(var r=m.getUsersContactList(),o=0;o<a;o++){var i=t[o][0];r.hasOwnProperty(i)&&s.push(r[i])}return s},m.getUsersContactList=function(){var e=m.gsautocomplete.get("users"),s=m.gsusercontacts.getProximityContactsObject(),t=m.gsusercontacts.getQueriedProxContactsObject(),a=m.gsusercontacts.getCurrCacheQryContact();return z.extend({},t,a,s,e)},m.getCriteriaListFromAdvConfig=function(e,s,t){var a={};t=t.toUpperCase();var r=s.length;if(0<r){for(var o=[],i=0;i<r;i++){var n={},l=s[i],g=l.name;if(e.hasOwnProperty(g)){var c=e[g].type,c=parseInt(c);n.name=g,n.operator=""+l.operator;var d=l.value;if(c===m.TYPE_DATETIME)if(l.type===m.TYPE_RELATIVEDATE){var p,d=d[0],u=m.filterDates;for(p in u){var h=u[p];if(h.datevalue==d.datevalue&&h.datetype==d.datetype&&h.timeunit==d.timeunit){d=[p];break}}}else d=m.convertClientDateFormat(d);n.value=d,o.push(n)}}a.criteriaList=o,a.pattern=t}return a},m.checkAndMoveAdvCriteria=function(e,s,t){var a="",r="",o=e.name||"",i=e.value||[],n=parseInt(e.type);switch(o){case"date":switch(n===m.TYPE_RELATIVEDATE?r=0:n===m.TYPE_DATETIME&&(r=2===i.length?2:0),t||f.getCurrentService()){case v.CLIQ:case v.GMAIL:a="date";break;case v.WORKDRIVE:case v.CONNECT:a="modifiedtime";break;case v.NOTEBOOK:a="modifiedDate";break;default:return}break;case"searchin":a="fileType",r=0;break;case"category":if(t!==v.NOTEBOOK)return;a="notesType",r=0;break;case"group":case"categories":case"status":case"boards":a=o,r=0;break;default:return}s.push({name:a,value:i,operator:r,type:n})},m.getAdvanceSearchConfig=function(){var e,s=[];return!m.isAdvancedFitersApplied||0<(e=m.checkAndFormCriteriaList(m.gsadvancesearch.curCriteriaList)).length&&(s=m.formNewQueryObjectModelForAdvanceSearch(e)),s},m.getAdvanceQueryPattern=function(){var e=z(".zgs19_gsNewCrtPatnTxt").text();return(e=e.split(" ").join(""))||1!==m.gsadvancesearch.curCriteriaList.length||(e="1"),e=(e=m.correctCriteriaExpression(e)).toLowerCase()},m.checkAndFormCriteriaList=function(e){var s=[];m.isAdvCriteriaCorrect=!0;for(var t=z(".zgs19_gsCriteria").length,a=f.getCurrentService(),r=0;r<t;r++){var o=[];if(e.hasOwnProperty(r)&&0!==Object.keys(e[r]).length){var i=e[r],n=i.name,l=i.operator,g=parseInt(i.type),c=m.getDataTypeVSSearchType(g);switch(g){case m.TYPE_TEXT:(u=(p=z("#zgs20_gsFieldValue"+r)).find(".zgs19_gsAsInputField").val())&&(o=[u]);break;case m.TYPE_NUMBER:var d,p=z("#zgs20_gsFieldValue"+r);2==l||3==l?(d=p.find(".zgs19_gsFromNumField").val(),h=p.find(".zgs19_gsToNumField").val(),d&&h&&(o=[d,h])):(u=p.find(".zgs19_gsAsInputField").val())&&(o=[u]);break;case m.TYPE_DATETIME:var u,h=i.value;h&&(u=h[0],m.filterDates.hasOwnProperty(u)?(o=[m.filterDates[u]],c=m.QUERY_OBJ_DT_RELATIVE_DATE):(h=m.convertServerDateFormat(g,l,i.value))&&0<h.length&&(o="2"===l||"3"===l?[h[0],h[1]]:[h[0]]));break;case m.TYPE_RELATIVEDATE:break;case m.TYPE_BOOLEAN:case m.TYPE_SINGLE_SELECT_PICKLIST:case m.TYPE_MULTI_SELECT_PICKLIST:case m.TYPE_MULTI_SELECT_USER:case m.TYPE_LOOKUP:(u=i.value)&&(o=u),a==v.MAILS&&g==m.TYPE_MULTI_SELECT_USER&&(c=m.QUERY_OBJ_DT_STRING)}if(0===(o="6"===l||"7"===l?["0"]:o).length)return m.criteriaErrorMsg(r),[];var _={};_.name=n,_.type=c,_.operator=parseInt(l),_.value=o,s.push(_)}else{if(r!==t-1)return m.criteriaErrorMsg(r),[];0!==r&&m.gsadvancesearch.removeCriteria(r)}}return s},m.convertClientDateFormat=function(e){if(e){for(var s=[],t=0;t<e.length;t++){var a=e[t].split(" ")[0].split("-"),a=a[0]+" "+m.CALENDAR_MONTH[--a[1]]+" "+a[2];s[t]=a}return s}},m.convertServerDateFormat=function(e,s,t){if(t){for(var a=[],r=0;r<t.length;r++){var o=t[r].split(" "),i=o[0],n=m.CALENDAR_MONTH.indexOf(o[1])+1,o=i+"-"+(n=n<10?"0"+n:n)+"-"+o[2];a[r]=o+=r%2==0&&"11"!=s?" 00:00:00":" 23:59:59"}return a}},m.criteriaErrorMsg=function(e){var s=m.gsadvancesearch.curCriteriaList[e],t=""+s.name,s=""+s.operator;(t?s?(s=z("#zgs20_gsFieldValue"+e).find(".zgs19_gsAsInputField"),z(s[0]).val()?z(s[1]):z(s[0])):z("#zgs20_gsFieldOpr"+e):z("#zgs20_gsFieldId"+e)).closest(".zgs19_gsFilterElementOuter").addClass("zgs19_gsBorderFC0D1ECol"),m.isAdvCriteriaCorrect=!1;e=m.getI18NMsg("common.adv.fieldError")+' "'+(e+1)+'"';m.showbannertip({ty:3,msg:e})},m.validatePattern=function(e,s){if(0==s)return!1;if(""===(e=(e=e.toUpperCase()).split(" ").join("").replace(/\n/g,"")))return!1;if(""!==e.replace(/(AND|OR|\d+|\(|\))/g,""))return!1;for(var t=0,a=e.length,r=0;r<a-1;r++)if("("===e[r]?t+=1:")"===e[r]&&--t,t<=0)return!1;var o=e.match(/\(/g),i=e.match(/\)/g);if(!o||!i)return!1;if(o.length!==i.length)return!1;var n=e.match(/\d+/g);if(!n)return!1;for(r=0;r<n.length;r++)if(n[r]!==String(r+1))return m.includes(String(r+1),n),!1;if(n.length!==s)return!1;s=e.replace(/(AND|OR)/g,"#");return-1===s.indexOf("(#")&&-1===s.indexOf("#)")&&(!m.includes("##",s)&&(-1===s.indexOf("()")&&-1===e.indexOf(")(")))},m.formNewQueryObjectModelForAdvanceSearch=function(e){for(var s=[],t=e.length,a=0;a<t;a++){var r=e[a],o={};o[m.QUERY_OBJ_NAME]=r.name,o[m.QUERY_OBJ_VALUE]=r.value,o[m.QUERY_OBJ_TYPE]=r.type,o[m.QUERY_OBJ_OPERATOR]=r.operator,s.push(o)}return s},m.changeCriteriaExpression=function(e,t,a){var r=0;return e.replace(/(OR|AND)/g,(e,s)=>r===t?(r++,a):(r++,e))},m.correctCriteriaExpression=function(e,s,t){e=e.toUpperCase();t=m.getPostFixAsArray(e,s,t);return m.getInFix(t)},m.getInFix=function(e){const s=[],t=[];if(!m.includes("2",e))return"1";for(var a,r,o=0;o<e.length;o++)i(e[o])?s.push(e[o]):(a=s.pop(),r=s.pop(),t.length&&("("===a[0]&&")"===a[a.length-1]&&t.pop()===e[o]&&(a=a.substring(1,a.length-1)),"("===r[0]&&")"===r[r.length-1]&&t.pop()===e[o]&&(r=r.substring(1,r.length-1))),s.push(`(${r}${e[o]}${a})`),t.push(e[o]));return s.pop().replace(/&/g," AND ").replace(/\|/g," OR ").replace(/\(/g,"( ").replace(/\)/g," )")},m.getPostFixAsArray=function(e,s,t){var a=e.toUpperCase().split(" ").join("").replace(/\n/g,"").replace(/(AND)/g,"&").replace(/(OR)/g,"|").match(/(&|\||\d+|\(|\))/g);s&&(a=m.removeCriteriaFromExpression(a,s));var r=(a=t?m.addCriteriaToExpression(a,t,e):a).length;const o=[],i=[];for(var n=0;n<r;n++){var l=a[n];if(parseFloat(l)&&o.push(l),m.includes(l,g)){for(;-1!==g.indexOf[c(i)]&&g[l]<=g[c(i)];)o.push(i.pop());i.push(l)}if("("===l&&i.push(l),")"===l){for(;"("!==c(i);)o.push(i.pop());i.pop()}}return o},m.addCriteriaToExpression=function(e,t,s){var a,r=e,e=String(t),e=r.indexOf(e);if(!m.includes("2",r))return["(","1","&","2",")"];var s=s.match(/(OR|AND)/g)||[],r=r.map((e,s)=>i(e)?(a=Number(e),t<a?String(a+1):e):e),s=1===t?"OR"===s[0]?"|":"&":"OR"===s[t-2]?"|":"&";return r.splice(e+1,0,s,String(t+1)),r},m.removeCriteriaFromExpression=function(e,t){var a,s=e,r=String(t),o=s.indexOf(r);if(-1===o)return s;if("("===s[o-1]){e=o;if("1"!==r){for(;!m.includes(s[o],g);)o--;s[o]=s[e+1]}s.splice(e,2)}else s.splice(o-1,2);return s=s.map((e,s)=>i(e)?(a=Number(e),t<a?String(a-1):e):e)},m.getSortedKeyValuePairs=function(e){e=Object.entries(e);return e.sort((e,s)=>e[1].toLowerCase().localeCompare(s[1].toLowerCase())),Object.fromEntries(e)},m.isAdvanceSearchFieldCache=function(e,s){var t=m.fieldsCache.result.hasOwnProperty(s)&&m.fieldsCache.result[s]||[],a=m.fieldsCache.noResult.hasOwnProperty(s)&&m.fieldsCache.noResult[s]||[],s="&portalId="+m.getRequiredMetaInfo()[1];return m.isReqCached(e,t,a,s,"")},m.checkIfExistingCallInProgress=function(){var e=m.fieldsSearchQueue,s=e.flag||!1,t=e.expiry_time||0,e=(new Date).getTime();return!s||15e3<e-t}}(zgssearch),function(l){var g=window._jQueryGS;l.askZiaServiceVsQuery=l.askZiaServiceVsQuery||{},l.openAskZiaTab=function(e){l.GSConstant.isAskZiaTabEnabled&&(!l.isURLParamsSearch&&"askZia"===l.selectedLeftPanelDivision||(l.setAskZiaLeftPanelHighlight(),l.handleListOfEnabledServicesForAskZia(),l.toggleSearchRelatedIconsForAskZia(),l.hideDashboard(),l.hideCardsPage(),l.hideIntegrationsPage(),l.Utils.hideSettingsPage(),g("#zgs20_gsResultsHolder").css("display","block"),l.setStatusClsForLeftDivision()),l.updateAskZiaUI(e))},l.updateAskZiaUI=function(e){var s=l.searchObj.service||l.gsusersettings.selectedServiceBeforeSettings,s=l.includes(s,l.getEnabledServiceList())&&l.includes(s,l.getNLPEnabledApps())?s:GSConstant.ALL;l.searchObj={service:s},l.updateSearchType(s),e&&l.checkAndHandleSearchCallInAskZiaTab(s),l.setSizeForRespectiveResultsArea()},l.checkAndHandleSearchCallInAskZiaTab=function(e){l.getQueryText()||l.isQueryHasUserCriteria()?l.handleSearchForAskZia(e):(l.clearSearchResultPageForService(e),l.gshistory.pushStateOfAView({id:"askzia",title:"Ask Zia Page",url:"/askzia"}))},l.setAskZiaLeftPanelHighlight=function(){var e=l.getCurStateforTabChanges();l.setCurStateforTabChanges("askZia"),l.ziaProperties.isPropertyNeeded("isLeftBandNeeded")&&(l.resetAllSelectedTabCategory(),l.setPrevStateforTabChanges(e),g("#zgs20_gsLeftPanelAskZia").addClass("zgs19_gsLeftPanelTabSelected").removeClass("zgs19_gsLeftPanelTabUnselected").addClass("zgs19_gsSelectedServiceListBG"),l.setStatusClsForLeftDivision(),g("#zgs20_gsLeftBand2").removeClass("zgs19_gsDisplayNone").addClass("zgs19_gsSelectedServiceListBG"),l.resizeForLeftPanelchanges())},l.handleListOfEnabledServicesForAskZia=function(){let t=l.getNLPEnabledApps();var a=g("#zgs20_gsServListHolder").children(),e=a.length;g(a).css("display","block"),0===a&&l.renderServiceList();for(let s=0;s<e;s++){let e=g(a[s]);var r=e.attr("service");t.includes(r)||e.css("display","none")}g("#zgs20_gsReorderBtm").css("display","none")},l.toggleSearchRelatedIconsForAskZia=function(){1===l.gscomponent.UIType&&(0===g("#zgs20_gsAskZiaButton").length&&g(".zgs19_searchbtnOuter").append(g("<span/>",{id:"zgs20_gsAskZiaButton",class:"zgs19_gsAskZiaButton zgs19_gsSearchBtnIcon zgs19_gsDisplayNone zgs19_gsFontSize14Px zgs19_gsOverflow ",gs:"defsearchicon",gstitle:l.getI18NMsg("gs.search.ask")}).text(l.getI18NMsg("gs.search.ask"))),g("#zgs20_gsAskZiaButton").removeClass("zgs19_gsDisplayNone")),g("#zgs20_gsSearchBtnIcon").addClass("zgs19_gsDisplayNone"),g("#zgs20_gsFilterIconHolder, #zgs20_gsSSIconHolder").css("display","none")},l.handleSearchForAskZia=function(e){clearInterval(l.queryAnimationInterval),l.setSearchBoxPlaceHolder(),l.network.removeEventSource(),l.hideSearchPageLoader(),l.clearPrevSearchAction(),l.clearOldSearchData(e);var s=l.getQueryText();l.updateQueryBox(e,s),l.gshistory.updateSearchURLParams(e,s),l.gsautocomplete.storeRecentSearch(),l.displayDefaultPage(!1),l.showSearchPageLoader(),l.checkAndWaitForWidgetCall(l.renderSearchCallSuccessCase,l.renderSearchErrorCase)},l.appendAskZiaFiltersTab=function(){var s=l.getSearchType(),e=g("#zgs20_gsModuleFilterList");0===e.length&&(g("#zgs20_gsSearchResultMiddle").prepend(g("<div>",{id:"zgs20_gsModuleFilterList",class:"zgs19_gsModuleFilterList"})),e=g("#zgs20_gsModuleFilterList")),e.empty().append(g("<div>",{id:"zgs20_gsModuleFilterDataHolder",class:"zgs19_gsModuleFilterDataHolder zgs19_gsOverflow zgs19_gsfl"})).show();let t="";if(t=s===GSConstant.CALENDAR?"services":l.getWidgetServiceList(s)?.key,t){var a=l.getFilterInfo(s,t,"data");if(a){var r=1<Object.keys(a).length,o=r?"zgs19_gsCurPointer":"zgs19_gsPntEvtNone",i=l.getCurrentValue(t),n=l.gsfilters.getDispName(s,t,i,!0),a=l.getFilterInfo(s,t,"title"),s=i===l.gsfilters.getDefValueForServiceType(s,t,!0)?"zgs19_tc2fa6ea":"zgs19_tcfd9c10",a=g("<div>",{class:"zgs19_gsAskZiaFilterTitle zgs19_gsfl zgs19_gsOverflow"}).text(a+": ");let e=g("<div>",{id:"zgs20_gsAskZiaFilterHolder",class:"zgs19_gsModuleFilterElemHolder zgs19_gsModuleSortNameHolderNew zgs19_gsBorderBox zgs19_gsfl "+o,fkey:t,gs:"mFilterWidget"}).append(g("<span>",{id:"zgs20_gsPortalName",class:"zgs19_gsModuleFilterSerNameNew zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl "+s}).text(n));r&&e.append(g("<div>",{class:"zgs19_gsModuleFilterElemIcon zgs18_gsModuleFilterDownIcon zgs19_gsVisibleHidden zgs19_gsBorderBox zgs19_gsfl"})),g("#zgs20_gsModuleFilterDataHolder").append(a).append(e),g("#zgs20_gsModuleFilterSortHolder").css("display","block"),g("#zgs20_gsModuleFilterDataHolder").css("width","100%").css("height","100%"),l.addEventForFilterElem()}else e.empty().hide()}else e.empty().hide()},l.renderAskZiaHomePage=function(){0===g("#zgs20_gsAskZiaPage").length?(g("#zgs20_gsSearchResultsArea").append(g("<div/>",{id:"zgs20_gsAskZiaPage",class:"zgs19_gsAskZiaPage"})),g("#zgs20_gsAskZiaPage").append(l.getQuickActionComponent("askZia",l.getI18NMsg("gs.askzia.suggested_queries"),"","zgs19_gsAskZiaQuerySection")),l.getSkeletonLoader("zgs20_gsaskZiaQuickActList","askZia"),l.getQuerySuggestionForServices(l.querySuggestionCallback)):(g("#zgs20_gsAskZiaPage").removeClass("zgs19_gsDisplayNone"),l.renderAskZiaSuggestionQueryHolder()),g("#zgs20_gsResultsHolder").css("display","none")},l.renderAskZiaSuggestionQueryHolder=function(){var e=l.getSearchType();if(e!==g(".zgs19_gsAskZiaQuerySection").attr("service")){g("#zgs20_gsaskZiaQuickActList").empty();var s=l.askZiaServiceVsQuery;l.hideSkeletonLoader("askZia");var t=s[e];if(g.isEmptyObject(t))g("#zgs20_gsaskZiaQuickActList").append(g("<div>",{class:"zgs19_gsFontSize11Px"}).text(l.getI18NMsg("gs.search.error.generic_error_messege"))).addClass("zgs19_gsCenteredColumnFlex");else{for(var a in t){var r=t[a],o=l.mappedServiceList[e].serviceicon;l.renderQuickActionsElements("askZia",a,o,r,"","askZiaQueryAction","","",l.getI18NMsg("gs.cards.search_query"))}g(".zgs19_gsAskZiaQuerySection").attr("service",e)}}g(".zgs19_gsQuickActSectInr").scrollTop(0),l.queryTypeAnimationList(1)},l.getQuerySuggestionForServices=function(o){l.uri(l.GET,"/zgssearch/askziaActions","action=getSugQueries","",function(e,s,t){if("success"===s){var a,r=l.jsonParse(e)||{};for(a in r)l.askZiaServiceVsQuery[a]=r[a];o(!0)}else o(!1)})},l.querySuggestionCallback=function(e){e?l.renderAskZiaSuggestionQueryHolder():(l.hideSkeletonLoader("askZia"),g("#zgs20_gsaskZiaQuickActList").append(g("<div>",{class:"zgs19_gsFontSize11Px"}).text(l.getI18NMsg("gs.search.error.generic_error_messege"))).addClass("zgs19_gsCenteredColumnFlex"))},l.appendAskZiaQueryAction=function(e){var s=g(e).find(".zgs19_gsSSTitle").text();s&&(e=l.getSearchType(),l.emptySearchBoxValues(),e={name:l.gsautocomplete.get("services")[e],services:e},l.renderQuerySpanElement({services:e,query1:{name:s}}),g("#zgs20_gsAskZiaPage").addClass("zgs19_gsDisplayNone"),l.handleDefaultSearch(),l.handleSearchCloseIcon())},l.queryTypeAnimationList=function(e){clearInterval(l.queryAnimationInterval);var s=l.askZiaServiceVsQuery[l.getSearchType()];e===Object.keys(s).length&&(e=1),l.queryTypeAnimation(s[e],function(){l.Utils.debounce(function(){l.queryTypeAnimationList(e+1)},1e3,"queryTypeAnimationList")})},l.queryTypeAnimation=function(r,o){if("askZia"===l.selectedLeftPanelDivision){let s=l.getTargetElem("zgs20_gsQueryBox"),t=0,a=r.length;l.queryAnimationInterval=setInterval(function(){var e=r.substring(0,t);e&&(s.setAttribute("placeholder",e),t===a&&(clearInterval(l.queryAnimationInterval),o&&o())),t++},60)}}}(zgssearch),function(Re){var xe=window._jQueryGS;Re.defaultMaxCount=3;var ke=Re.getGSConstantObj()||{};Re.resToBeShown=Re.resToBeShown||0,Re.curSelectedEle=Re.curSelectedEle||"",Re.resultToBeShown=Re.resultToBeShown||{},Re.renderedResultServiceMetaObj=Re.renderedResultServiceMetaObj||{},Re.firstResultCallOutShown=!1,Re.temp_img_info={},Re.crm_rendered_modules=Re.crm_rendered_modules||{},Re.projects_rendered_modules=Re.projects_rendered_modules||{},Re.docsShared||(Re.docsShared=[{title:Re.getI18NMsg("common.shared_with_me",!0),icon:"zgs18_gsSharedIcon"},{title:Re.getI18NMsg("gs.search.result.sharedwithgroup"),icon:"zgs18_gsGroupSharedIcon"}]),Re.createServiceTemplate=function(s,t,a){var r="",e="",o="",i=(a=a||{}).account_name||"";s!==Re.GSConstant.SALESFORCE&&s!==Re.GSConstant.ASANA&&s!=Re.GSConstant.BIGIN&&s!=Re.GSConstant.CRM||(i=Re.getFilterObj(s).accounts.data[t]);var n=Re.getWidgetServiceList(s),l=Re.getI18NMsg("gs.view_all"),g=Re.getI18NMsg("gs.search.link.viewmore"),c="",d="",p="",u="",h="",_="",m=Re.mappedServiceList[s],z=m.serviceicon,v=Re.isServiceHasWidget(s),f="",C="",S=Re.getSearchType();if(Re.storeRenderedResultServiceInfo(s,t,a),Re.mappedServiceList.hasOwnProperty(s)){var b=Re.isArrayContain(s,Re.configured_mail_module)?Re.mappedServiceList[s].originService:s,y=Re.isArrayContain(b,Re.account_based_filter_service_list)?Re.getAccountType(b,t):"",I="zgs20_gs"+b+"Template",O=Re.mappedServiceList[s].api_url_service_name||"",P="",a=Re.getCurrentKeyData(s,"current");if(ke.ALL===S){d=_=g+" "+(m=Re.isArrayContain(b,Re.account_based_filter_service_list)?Re.mappedServiceList[b]:m).displayName,v?(p=g+" "+n.label.toLowerCase(),u=C=i||Re.getFilterInfo(b,n.key,"dispname")):n.key&&s!=Re.GSConstant.CAMPAIGNS&&(d=_=D=Re.getCurrentKeyData(s,"dispname"),c=h=g+" "+n.label.toLowerCase(),f=xe("<span>",{class:"zgs19_gsServiceBandPortal zgs19_gsOverflow zgs19_gsfl",gstitle:D}).text("("+D+")"));var w,D="zgs19_gsMxWid50Per";Re.isArrayContain(s,Re.GSConstant.accessible_cloud_apps)&&Re.servMetaData[s]&&Re.servMetaData[s].hasOwnProperty(t)&&(T=(E=Re.servMetaData[s][t])&&Re.GSConstant.widgetObject.hasOwnProperty("parent_service_info")?Re.GSConstant.widgetObject.parent_service_info.hasOwnProperty(E.parServId)?Re.GSConstant.widgetObject.parent_service_info[E.parServId]:E.parServId:"",D="zgs19_gsMxWid50Per",w=Re.isArrayContain(s,Re.GSConstant.accessible_cloud_apps)&&""!=T?xe("<span>",{class:"zgs19_infoIcon zgs18_gsInfoIcon",id:"zgs20_infoIconOf"+s}).append("").append(xe("<span>",{class:"zgs19_pseudoTail"})):"",A=xe("<div>",{class:"zgs19_accInfoOnHover"}).append(xe("<div>",{class:"zgs19_accInfoOnHoverAccName"}).text(i)).append(xe("<div>",{class:"zgs19_accInfoOnHoverPortalInfo"}).append(xe("<span>",{class:"zgs19_accInfoOnHoverPortalInfoText"}).append(Re.getI18NMsg("gs.con.parServInfo")+" "+T+"'s - ")).append(xe("<span>",{class:"zgs19_accInfoOnHoverPortalName"}).text(E.appName)).append(xe("<span>",{class:"zgs19_accInfoOnHoverPortalInfoText"}).text(" "+Re.getI18NMsg("gs.con.portal")))),""!=w&&w.append(A)),r=xe("<div>",{id:"zgs20_gs"+s+"Topband",class:"zgs19_gsServiceTopbandNew zgs19_gsBorderBox zgs19_gsOverflow"}).append(xe("<div>",{class:"zgs19_gsOverflow zgs19_gsAccInfoDiv",id:"zgs20_gsAccInfoDiv"}).append(xe("<span>",{class:"zgs19_gsUniIcons_ServBand zgs19_gsfl "+z})).append(xe("<div>",{class:"zgs19_gsServiceBandNameNew zgs19_gsOverflow zgs19_gsfl zgs19_gsW30",service:s,gsa:"mc-sb-"+s,action_type:"service",gs:"serviceBand",acc_id:a,gslabel:c,gstitle:d}).text(m.displayName)).append(f).append(w||"")),v&&xe(r).find("#zgs20_gsAccInfoDiv").append(xe("<span>",{class:"zgs19_gsAllServiceBandWidget zgs19_gsOverflow zgs19_gsfl"}).text(" - ")).append(xe("<div>",{class:"zgs19_gsAllServiceBandWidget zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl "+D,service:s,gs:"serviceWidgetBand",acc_id:t,gslabel:p,gstitle:u}).text(C)),"1"===y?xe("#zgs20_gs"+b+"Results")[0]||(B="",B=xe("#"+(H="zgs20_gs_"+s+"_"+t+"_Results"))[0]?xe("#"+H):xe("<div>",{id:H,class:"zgs19_gsSearchResults zgs19_gsAllSearchResults",service:s,acc_id:t,gs:"ServiceTemplate"}),v=g+" "+Re.mappedServiceList[s].displayName,L="",Re.checkStreamsNeeded()&&(R="zgs20_gs_"+ke.MAILS+"_"+t+"_Results_Outer",x="zgs20_gs_"+ke.MAILS+"_"+t+"_moduleHeader",xe("#"+R+" > #"+x)[0]||(k=Re.mappedServiceList[ke.MAILS].api_url_service_name||"",U=g+" "+Re.mappedServiceList[ke.MAILS].displayName,j=xe("<div>",{id:"zgs20_gs_"+ke.MAILS+"_"+t+"_moduleHeader",class:"zgs19_gsServiceTopbandNew zgs19_gsBorderBox zgs19_gsBG"}).append(xe("<div>",{class:"zgs19_gsServiceBandMultiWidget zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid60Per",service:ke.MAILS,acc_id:t,gsa:"mc-sb-"+ke.MAILS,gs:"mailModule",module_name:ke.MAILS,gstitle:U}).text(k)),xe("#"+R).prepend(j)),L=xe("<div>",{id:"zgs20_gs_"+s+"_"+t+"_moduleHeader",class:"zgs19_gsServiceTopbandNew zgs19_gsBorderBox zgs19_gsBG"}).append(xe("<div>",{class:"zgs19_gsServiceBandMultiWidget zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid60Per",service:s,acc_id:t,gsa:"mc-sb-"+s,gs:"mailModule",module_name:s,gstitle:v}).text(O))),o=xe("#"+(N="zgs20_gs"+b+"More"))[0]?xe("#"+N):xe("<div>",{id:N,class:"zgs19_gsMoreOption zgs19_gsOverflow zgs19_gsDisplayNone",service:b,gsa:"mc-va-"+b,action_type:"service",gs:"moreBand",acc_id:t,gslabel:h,gstitle:_}).text(l),G="",(G=xe("#"+I)[0]?xe("#"+I):(v=(D=1<Object.keys(Re.gFilterData[b].accounts.alldata).length)?xe("<span>",{class:"zgs19_gsAllServiceBandWidget zgs19_gsOverflow zgs19_gsfl"}).text(" - "):"",f=D?xe("<div>",{class:"zgs19_gsAllServiceBandWidget zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid50Per",service:s,gs:"serviceWidgetBand",acc_id:t,gslabel:p,gstitle:u}).text(C):xe("<span>",{class:"zgs19_gsServiceBandPortal zgs19_gsOverflow zgs19_gsfl",gstitle:i}).text("("+i+")"),r=xe("<div>",{class:"zgs19_gsServiceTopbandNew zgs19_gsBorderBox"}).append(xe("<span>",{class:"zgs19_gsUniIcons_ServBand zgs19_gsfl "+z})).append(xe("<div>",{class:"zgs19_gsServiceBandNameNew zgs19_gsOverflow zgs19_gsfl zgs19_gsW30",service:b,gsa:"mc-sb-"+b,action_type:"service",gs:"serviceBand",acc_id:a,gslabel:c,gstitle:d}).text(m.displayName)).append(v).append(f),xe("<div>",{id:I,class:"zgs19_gsServiceTemplate",service:b,acc_id:t,gs:"ServiceTemplate"}).append(r))).append(o),e=G,P=xe("<div>",{id:"zgs20_gs_"+s+"_"+t+"_Results_Outer"}).append(L).append(B)):(o=xe("<div>",{id:"zgs20_gs"+s+"More",class:"zgs19_gsMoreOption zgs19_gsOverflow zgs19_gsDisplayNone",service:s,gsa:"mc-va-"+s,action_type:"service",gs:"moreBand",acc_id:t,gslabel:h,gstitle:_}).text(l),e=xe("<div>",{id:"zgs20_gs"+s+"Template",class:"zgs19_gsServiceTemplate",service:s,acc_id:t,gs:"ServiceTemplate"}).append(r).append(xe("<div>",{id:"zgs20_gs"+s+"Results",class:"zgs19_gsSearchResults zgs19_gsAllSearchResults"})).append(o))}else if((Re.multiPageEnabled||Re.subMultiPageEnabled)&&(Re.isServiceHasMultiPortals(s)||Re.isServiceHasSubMultiPortals(s))){xe("#zgs20_MultiSearchPageHolder").length<=0&&(W=Re.subMultiPageEnabled?"":"multiPageHolder",xe("#zgs20_gsMultiSearchResultPage").append(xe("<div>",{id:"zgs20_MultiSearchPageHolder",class:"zgs19_gsModuleScrollPage zgs19_gsOverflowAuto zgs19_gsServiceSpecificPage",service:b,acc_id:t,gs:W}))),a=t,d=_=i,c=h=g+" "+(n=Re.getWidgetServiceList(b)).label.toLowerCase(),"1"===y&&(n=Re.getWidgetServiceList(s),_=d=g+" "+m.displayName,h=c="");var E,T,A,M,F,N,L,R,x,k,U,j,m="";if(s===Re.GSConstant.SALESFORCE&&(m="zgs19_gsBG"),i){Re.isArrayContain(s,Re.GSConstant.accessible_cloud_apps)&&Re.servMetaData[s]&&Re.servMetaData[s].hasOwnProperty(t)&&(T=(E=Re.servMetaData[s][t])&&Re.GSConstant.widgetObject.hasOwnProperty("parent_service_info")?Re.GSConstant.widgetObject.parent_service_info.hasOwnProperty(E.parServId)?Re.GSConstant.widgetObject.parent_service_info[E.parServId]:E.parServId:"",F=Re.isArrayContain(s,Re.GSConstant.accessible_cloud_apps)&&""!=T?xe("<span>",{class:"zgs19_infoIcon zgs18_gsInfoIcon",id:"zgs20_infoIconOf"+s}).append("").append(xe("<span>",{class:"zgs19_pseudoTail"})):"",A=xe("<div>",{class:"zgs19_accInfoOnHover"}).append(xe("<div>",{class:"zgs19_accInfoOnHoverAccName"}).text(i)).append(xe("<div>",{class:"zgs19_accInfoOnHoverPortalInfo"}).append(xe("<span>",{class:"zgs19_accInfoOnHoverPortalInfoText"}).append(Re.getI18NMsg("gs.con.parServInfo")+" "+T+"'s - ")).append(xe("<span>",{class:"zgs19_accInfoOnHoverPortalName"}).text(E.appName)).append(xe("<span>",{class:"zgs19_accInfoOnHoverPortalInfoText"}).text(" "+Re.getI18NMsg("gs.con.portal")))),""!=F&&F.append(A));let e="";Re.mappedServiceList[s].timezoneBased&&(M=(M=Re["gs"+s+"utils"]?.timezoneData[a]).timezone+" ( "+Re.getI18NMsg("gs.search.calendar.callout.GMT")+" "+M.offset+" )",e=xe("<span>",{class:"zgs18_gsGlobeIcon zgs19_gsServiceBandWidgetNew zgs19_gsTimezoneIcon zgs19_gsfr",gs:"gsTimezoneInfo",service:s,acc_id:a,gslabel:Re.getI18NMsg("gs.search.service_projects_portalTz"),gstitle:M})),r=xe("<div>",{id:"zgs20_gs"+t+"Topband",class:"zgs19_gsServiceTopbandNew zgs19_gsBorderBox "+m}).append(xe("<div>",{class:"zgs19_gsServiceBandWidgetNew zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid30Per",service:s}).text(n.label+": ")).append(xe("<div>",{class:"zgs19_gsServiceBandMultiWidget zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid60Per",service:s,acc_id:a,gsa:"mc-sb-"+s,gs:"serviceBand",gslabel:c,gstitle:d}).text(i)).append(F).append(e)}"1"===y?(B="",B=xe("#"+(H="zgs20_gs_"+s+"_"+t+"_Results"))[0]?xe("#"+H):xe("<div>",{id:H,class:"zgs19_gsSearchResults zgs19_gsAllSearchResults",service:s,acc_id:t,gs:"ServiceTemplate"}),N="zgs20_gs"+t+"More",F=Re.gFilterData[M=b].modules.current,Re.subMultiPageEnabled&&(N="zgs20_gs_"+(M=F=s)+"_"+t+"_More"),o=!xe("#"+N)[0]||Re.subMultiPageEnabled?xe("<div>",{id:N,class:"zgs19_gsMoreOption zgs19_gsOverflow zgs19_gsDisplayNone",service:M,acc_id:t,gsa:"mc-va-"+M,action_type:"service",gs:"moreBand",module_name:F,gslabel:g+" "+n.label.toLowerCase(),gstitle:i}).text(l):xe("#"+N),I=Re.subMultiPageEnabled?"zgs20_gs_"+s+"_"+t+"_Template":"zgs20_gs"+t+"Template",G="",G=xe("#"+I)[0]?xe("#"+I):(N=b,r=Re.subMultiPageEnabled?(N=s,""):xe("<div>",{id:"zgs20_gs"+t+"Topband",class:"zgs19_gsServiceTopbandNew zgs19_gsBorderBox "+m}).append(xe("<div>",{class:"zgs19_gsServiceBandWidgetNew zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid30Per",service:s}).text(n.label+": ")).append(xe("<div>",{class:"zgs19_gsServiceBandMultiWidget zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid60Per",service:b,acc_id:a,gsa:"mc-sb-"+b,gs:"serviceBand",gslabel:g+" "+n.label.toLowerCase(),gstitle:i}).text(i)),xe("<div>",{id:I,class:"zgs19_gsServiceTemplate",service:N,acc_id:t,gs:"ServiceTemplate"}).append(r)),L="",Re.checkStreamsNeeded()&&(R="zgs20_gs_"+ke.MAILS+"_"+t+"_Results_Outer",x="zgs20_gs_"+ke.MAILS+"_"+t+"_moduleHeader",xe("#"+R+" > #"+x)[0]||(k=Re.mappedServiceList[ke.MAILS].api_url_service_name||"",U=g+" "+Re.mappedServiceList[ke.MAILS].displayName,j=xe("<div>",{id:"zgs20_gs_"+ke.MAILS+"_"+t+"_moduleHeader",class:"zgs19_gsServiceTopbandNew zgs19_gsBorderBox zgs19_gsBG"}).append(xe("<div>",{class:"zgs19_gsServiceBandMultiWidget zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid60Per",service:ke.MAILS,acc_id:t,gsa:"mc-sb-"+ke.MAILS,gs:"mailModule",module_name:ke.MAILS,gstitle:U}).text(k)),xe("#"+R).prepend(j)),L=xe("<div>",{id:"zgs20_gs"+t+"_moduleHeader",class:"zgs19_gsServiceTopbandNew zgs19_gsBorderBox zgs19_gsBG"+m}).append(xe("<div>",{class:"zgs19_gsServiceBandMultiWidget zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid60Per",service:s,acc_id:t,gsa:"mc-sb-"+s,gs:"mailModule",module_name:s,gslabel:c,gstitle:d}).text(O))),G.append(o),e=G,P=xe("<div>",{id:"zgs20_gs_"+s+"_"+t+"_Results_Multi_Outer"}).append(L).append(B)):(o=xe("<div>",{id:"zgs20_gs"+t+"More",class:"zgs19_gsMoreOption zgs19_gsOverflow zgs19_gsDisplayNone",service:s,acc_id:t,gsa:"mc-va-"+s,gs:"moreBand",gslabel:h,gstitle:_}).text(l),e=xe("<div>",{id:"zgs20_gs"+t+"Template",class:"zgs19_gsServiceTemplate",service:s,acc_id:t,gs:"ServiceTemplate"}).append(r).append(xe("<div>",{id:"zgs20_gs"+t+"Results",class:"zgs19_gsSearchResults zgs19_gsAllSearchResults"})).append(o))}else{var B,H,G,W,V=Re.isServiceHasFilter(s)?"zgs19_gsServiceSpecificPage":"zgs19_gsNonWidgetServicePage";e="1"===y?(B="",B=xe("#"+(H="zgs20_gs_"+s+"_"+t+"_Results"))[0]?xe("#"+H):xe("<div>",{id:H,class:"zgs19_gsSearchResults zgs19_gsAllSearchResults",service:s,acc_id:t,gs:"ServiceTemplate"}),G="",(G=xe("#"+(I="zgs20_gs"+s+"Template"))[0]?xe("#"+I):(d=_=i,c=h=g+" "+n.label.toLowerCase(),W=Re.subMultiPageEnabled?"":"serviceSpecificPage",f=xe("<div>",{class:"zgs19_gsServiceBandMultiWidget zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid60Per",service:s,acc_id:t,gsa:"mc-sb-"+s,gs:"serviceWidgetBand",gslabel:c,gstitle:d}).text(O),xe("<div>",{id:I,class:"zgs19_gsModuleScrollPage zgs19_gsBorderBox zgs19_gsModuleServSpecific zgs19_gsOverflowAuto "+V,service:s,acc_id:t,gs:W}))).append(L).append(B).append(o)):xe("<div>",{id:"zgs20_gs"+s+"Template",class:"zgs19_gsModuleScrollPage zgs19_gsBorderBox zgs19_gsModuleServSpecific zgs19_gsOverflowAuto "+V,service:s,gs:"serviceSpecificPage"}).append(xe("<div>",{id:"zgs20_gs"+s+"Results",class:"zgs19_gsModuleInnerServSpecific",service:s}))}var Q,V="";Re.GSConstant.ALL===S?(V="zgs20_gsAllSearchResultPage",""!==(Q=Re.getSiblingServiceElement(s))?xe("#"+Q).after(e):0<xe("#zgs20_gsAppsTemplate").length?xe(e).insertAfter(xe("#zgs20_gsAppsTemplate")[0]):xe("#zgs20_gsAllSearchResultPage").prepend(e),"1"===y&&(s==Re.configured_mail_module[0]?P.insertAfter(xe("#"+xe(e).attr("id")+" > .zgs19_gsServiceTopbandNew")[0]):P.insertBefore(xe("#"+xe(e).attr("id")+" > .zgs19_gsMoreOption")[0]))):(Re.multiPageEnabled||Re.subMultiPageEnabled)&&(Re.isServiceHasMultiPortals(s)||Re.isServiceHasSubMultiPortals(s))?(V="zgs20_MultiSearchPageHolder",""!==(Q=Re.getSiblingMultiElement(s,t))?xe("#"+Q).after(e):xe("#"+V).prepend(e),"1"===y&&(s==Re.configured_mail_module[0]&&Re.multiPageEnabled?P.insertAfter(xe("#"+xe(e).attr("id")+" > .zgs19_gsServiceTopbandNew")[0]):P.insertBefore(xe("#"+xe(e).attr("id")+" > .zgs19_gsMoreOption")[0]))):(V="zgs20_gs"+s+"Template",xe("#zgs20_gsModuleSearchResultPage").append(e)),Re.obtainLineIconPaths(z,xe("#"+V).find("."+z)[0]),Re.setServiceResPaneHeight(V)}0<xe(".zgs19_infoIcon").length&&xe(".zgs19_infoIcon").hover(function(){xe(".zgs19_accInfoOnHover").css("right","auto"),xe(".zgs19_pseudoTail").css("left",parseFloat(xe(this).position().left)-parseFloat(xe(this).width())/4),xe(this).position().left>.8*(xe(".zgs19_accInfoOnHover").position().left+xe(".zgs19_accInfoOnHover").width())||xe(this).position().left<.2*xe(".zgs19_gsServiceTopbandNew").width()?xe(this).position().left<.2*xe("#zgs20_gsAccInfoDiv").width()?xe(".zgs19_accInfoOnHover").css("left",Math.abs(parseFloat(.2*xe(".zgs19_accInfoOnHover").width())-parseFloat(xe(this).position().left))):xe("#zgs20_gsAccInfoDiv").width()<=xe(this).position().left+.4*xe(".zgs19_accInfoOnHover").width()?(xe(".zgs19_accInfoOnHover").css("right","0"),xe(".zgs19_accInfoOnHover").css("left","auto")):xe(".zgs19_accInfoOnHover").css("left",parseFloat(xe(this).position().left)-parseFloat(.7*xe(".zgs19_accInfoOnHover").width())):xe(".zgs19_accInfoOnHover").css("left","20%"),xe(".zgs19_pseudoTail").css("left",parseFloat(xe(this).position().left)-parseFloat(xe(this).width())/4)})},Re.checkStreamsNeeded=function(){return Re.isStreamsEnabled&&"askZia"!==Re.selectedLeftPanelDivision},Re.setServiceResPaneHeight=function(e){var s=xe("#zgs20_gsResultsHolder").height()-(xe("#zgs20_gsModuleFilterList").is(":visible")?xe("#zgs20_gsModuleFilterList").outerHeight(!0):0);Re.isMobViewport()&&(Re.isScrollDownwards||(s-=Re.getLHSServicePaneHeight())),xe("#"+e).css("height",s+"px")},Re.getSiblingServiceElement=function(e){Re.isArrayContain(e,Re.configured_mail_module)&&(e=Re.mappedServiceList[e].originService);var s="",t=Re.getOrderedServiceList(),a=t.length;if(0<a)for(var r=0;r<a;r++){var o=t[r],i="zgs20_gs"+o+"Template";if(0<xe("#"+i).length&&(s=i),e===o)break}return s},Re.getSiblingMultiElement=function(e,s){var t="",a=e;Re.isArrayContain(e,Re.configured_mail_module)&&(a=Re.mappedServiceList[e].originService);for(var e=Re.getWidgetServiceList(a),r=Re.getFilterInfo(a,e.key,"accIdArr"),o=0;o<r.length;o++){var i=r[o],n="zgs20_gs"+i+"Template";if(0<xe("#"+n).length&&(t=n),i==s){n=Re.isArrayContain(a,Re.account_based_filter_service_list)?Re.getAccountType(a,s):"";Re.subMultiPageEnabled&&"1"===n&&(i="zgs20_gs_"+Re.configured_mail_module[0]+"_"+i+"_Template",0<xe("#"+i).length&&(t=i));break}}return t},Re.getResultMaxCount=function(e,s,t){return(ke.ALL===e||Re.multiPageEnabled||Re.subMultiPageEnabled)&&(s=Re.fWeightage[s]||Re.iWeightage[s]||Re.defaultMaxCount,(s=Re.multiPageEnabled||Re.subMultiPageEnabled?Re.defaultMaxCount:s)<t&&(t=s)),t},Re.getServiceResultCount=function(s,e,t){try{var a=Re.mappedServiceList.hasOwnProperty(s)&&Re.mappedServiceList[s].hasOwnProperty("originService")?Re.mappedServiceList[s].originService:s,r=Re.resultCount[a];if(Re.isServiceHasWidget(a)&&r.hasOwnProperty(e)){if(s===Re.GSConstant.SALESFORCE||s===Re.GSConstant.ASANA||s===Re.GSConstant.CAMPAIGNS){var o=s===Re.GSConstant.ASANA?Re.WS:"modules",i=Re.getCurrentValue(o,s);if("all"!==(i=(i="0"!==i?i:Re.getFilterInfo(s,Re.WS,"default"))||"all")&&"0"!==i)return r[e][i]}if("1"!==(Re.isArrayContain(a,Re.account_based_filter_service_list)?Re.getAccountType(a,e):""))return r[e];var n=t||s,l=r[e];if(l.hasOwnProperty(n))return l[n];var g,c=Object.keys(l),d=0;for(g in c)d+=l[c[g]];return d}return r}catch(e){Re.throwClientError("Error while getting getServiceResultCount servicename :"+s+" Ex: ",e)}},Re.getServiceResultObject=function(e,s){var t=Re.isArrayContain(e,Re.configured_mail_module)?Re.mappedServiceList[e].originService:e,a=Re.resultObject[t]||{};if(s=t===Re.GSConstant.CAMPAIGNS?Re.getCurrentValue("accounts",Re.GSConstant.CAMPAIGNS):s,Re.isServiceHasWidget(t)||t===ke.MAILS||t===Re.GSConstant.SALESFORCE||t===Re.GSConstant.ASANA||t===Re.GSConstant.CAMPAIGNS){if("1"===(Re.isArrayContain(t,Re.account_based_filter_service_list)?Re.getAccountType(t,s):""))return a.hasOwnProperty(s)&&a[s][e]?a[s][e]:a;if(a.hasOwnProperty(s))return a[s]}return a},Re.getShownResultCount=function(e,s,t){var a=Re.isArrayContain(e,Re.configured_mail_module)?Re.mappedServiceList[e].originService:e,r=Re.resultToBeShown.hasOwnProperty(a)?Re.resultToBeShown[a]:0;if(Re.isServiceHasWidget(a)){if("1"!==(Re.isArrayContain(a,Re.account_based_filter_service_list)?Re.getAccountType(a,s):""))return r&&r.hasOwnProperty(s)?r[s]:0;e=t||e;if(r){var o=r[s];if(o.hasOwnProperty(e))return o[e];var i,n=Object.keys(o),l=0;for(i in n)l+=o[n[i]];return l}return r&&r[s].hasOwnProperty(e)?r[s][e]:0}return r},Re.setShownResultCount=function(e,s,t,a){var r,o,i=Re.isArrayContain(e,Re.configured_mail_module)?Re.mappedServiceList[e].originService:e;Re.isServiceHasWidget(i)?(r=Re.resultToBeShown[e]||{},Re.isArrayContain(i,Re.account_based_filter_service_list)?(o=Re.getAccountType(i,s),i=r.hasOwnProperty(s)?r[s]:{},"1"===o?i[a]=t:i=t,r[s]=i):r[s]=t,Re.resultToBeShown[e]=r):Re.resultToBeShown[e]=t},Re.getStampPhotoURL=function(e){return ke.GS_CONTACTS_URL+"/file?fs=stamp&t=user&ID="+e+Re.nps},Re.storeRenderedResultServiceInfo=function(e,s,t){e=e===ke.STREAMS?ke.MAILS:e;for(var a=Re.renderedResultServiceMetaObj[e]||{},r=a.hasOwnProperty(s)?a[s]:[],o=t.modId||t.module_id||"",i=0;i<r.length;i++){var n=r[i];if(o==(n.modId||n.module_id||""))return}r.push(t),a[s]=r,Re.renderedResultServiceMetaObj[e]=a},Re.setErrorResultPageHeight=function(){var e=xe("div#zgs20_gsAppsTemplate").parent().outerHeight(!0)-xe("div#zgs20_gsAppsTemplate").outerHeight(!0);xe(".zgs19_gsNonWidgetServicePage").css("height",e+"px")},Re.getMoreAppsSearchResults=function(){xe("#zgs20_gsAppsMore").hide();var e=(e=Re.rpUIConfig.renderedResCount+Re.rpUIConfig.showAppsResMin)>Re.rpUIConfig.totalcount?Re.rpUIConfig.totalcount:e,s=Object.keys(Re.rpUIConfig.resultData).length;Re.rpUIConfig.renderedResCount<s&&e<=s?(Re.rpUIConfig.showAllFetchedAppsInResults=!0,Re.renderRelatedProductResults(!0)):e<=Re.rpUIConfig.totalcount&&(Re.rpUIConfig.start+=Re.fetchResCount,Re.getSearchResultsForRelatedProducts("result")),Re.setErrorResultPageHeight()},Re.hideRelatedProductResults=function(){Re.rpUIConfig.isTriggeredSuggestCall=!1,Re.rpUIConfig.isRPSearchCallActive=!1,xe("div#zgs20_gsAppsTemplate").remove()},Re.getRenderedAppsList=function(e){for(var s=xe("#"+e).find(".zgs19_appsTxt"),t=s.length,a=[],r=0;r<t;r++){var o=s[r],o=xe(o).attr("sName");a.push(o)}return a},Re.getExcludedRelatedproductsData=function(e,s){for(var t=[],a=e.length,r=Re.getRenderedAppsList(s),o=0;o<a;o++){var i=e[o],i=i.iam_app_name||i;-1<Re.rpUIConfig.iconIncludedApps.indexOf(i)&&-1===r.indexOf(i)?t.push(i):Re.rpUIConfig.totalcount--}return Re.rpUIConfig.resultData=t},Re.toggleMoreRelatedProducts=function(){Object.keys(Re.rpUIConfig.resultData).length>Re.rpUIConfig.renderedResCount&&(Re.curMoreService=ke.GS_APPS,xe("#zgs20_gsAppsMore").show())},Re.toggleResultsRelatedProducts=function(){0===Re.getRenderedAppsList("zgs20_gsAppsResults").length&&Re.hideRelatedProductResults()},Re.renderAppsResultTemplate=function(){var e,s;0===xe("#zgs20_gsAppsResults").length&&(s=Re.getI18NMsg("gs.search.sugg.apps"),e=xe("<div>",{id:"zgs20_gsAppsTopband",class:"zgs19_gsServiceTopbandNew  zgs19_gsBorderBox"}).append(xe("<span>",{class:"zgs18_gsAppsIcon"})).append(xe("<div>",{class:"zgs19_gsServiceBandNameTxt zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWidImpPer100",gstitle:s}).text(s)),s=xe("<div>",{id:"zgs20_gsAppsMore",class:"zgs19_gsCurPointer zgs19_gsMoreOption zgs19_gsOverflow zgs19_gsDisplayNone",service:ke.GS_APPS,gsa:"mc-va-apps",gs:"moreBand",gstitle:Re.getI18NMsg("gs.view_all")}).text(Re.getI18NMsg("gs.view_all")),s=xe("<div>",{id:"zgs20_gsAppsTemplate",class:"zgs19_gsAppsServiceTemplate zgs19_gsAppsTemplate",service:ke.GS_APPS,gs:"ServiceTemplate"}).append(e).append(xe("<div>",{id:"zgs20_gsAppsResults",class:"zgs19_gsSearchResults zgs19_gsAllSearchResults zgs19_gsAppsList"})).append(s),xe("#zgs20_gsAllSearchResultPage").prepend(s),Re.obtainLineIconPaths("zgs18_gsAppsIcon",xe(".zgs19_gsServiceTopbandNew  > .zgs18_gsAppsIcon")[0]))},Re.onSuccessRelatedProducts=function(e){var s;""!==e&&void 0!==e&&((e=(e=Re.jsonParse(e)).results||e.result_objects)?"autosuggest"===Re.rpUIConfig.currCallType?(s=Re.getExcludedRelatedproductsData(e,"zgs20_gsQuerySuggApps_relatedproducts"),Re.gsautocomplete.setAutoSuggestAppsData(s),Re.gsautocomplete.renderMoreAppsSugg()):(Re.rpUIConfig.isRPSearchCallActive=!1,Re.renderAppsResultTemplate(),0<Object.keys(Re.rpUIConfig.resultData).length&&(s=Re.rpUIConfig.resultData,e=xe.merge(s,e)),Re.rpUIConfig.resultData=Re.getExcludedRelatedproductsData(e,"zgs20_gsAppsResults"),Re.rpUIConfig.totalcount=Object.keys(Re.rpUIConfig.resultData).length,0<Re.rpUIConfig.resultData.length?Re.renderRelatedProductResults(!0):Re.hideRelatedProductResults()):Re.hideRelatedProductResults())},Re.renderRelatedProductResults=function(e){var s=Re.rpUIConfig.resultData,t=s.length,a=Re.rpUIConfig.renderedResCount;e&&Re.setShowAppsResMin(),Re.rpUIConfig.showAllFetchedAppsInResults&&(Re.rpUIConfig.shownAllFetchedAppsInResults=!0,Re.rpUIConfig.showAllFetchedAppsInResults=!1,Re.rpUIConfig.showAppsResMin=t);for(var r=a+Re.rpUIConfig.showAppsResMin,o=a;o<t&&o<r;o++){Re.rpUIConfig.renderedResCount++;var i=s[o].replace(/\s/g,"").toLowerCase(),n="zgs18_w"+i,l=void 0!==Re.rpUIConfig.appVsUrl[i]?Re.rpUIConfig.appVsUrl[i][0]:"",g=void 0!==Re.rpUIConfig.appVsUrl[i]?Re.rpUIConfig.appVsUrl[i][1]:i;xe("div#zgs20_gsAppsResults").append(xe("<a>",{rel:"noopener noreferrer",href:l,target:"_blank",gs:"rpStats",gsa:"result-rp_"+i,key:"relatedproducts",productName:i,class:"zgs19_gsAppsRes zgs19_gsCurPointer"}).append(xe("<span>",{class:"zgs19_gsNaviArr zgs19_gsResultsUniIcons"})).append(xe("<li>",{class:"zgs19_gsQueryResAppsIcon"}).append(xe("<span>",{class:n}))).append(xe("<span>",{sName:i,class:"zgs19_gsQueryResAppsName zgs19_appsTxt",gstitle:g}).text(g))),Re.LINE_ICON_MAP.hasOwnProperty(n)&&Re.obtainLineIconPaths(n,xe(".zgs19_gsQueryResAppsIcon > ."+n)[0])}Re.toggleMoreRelatedProducts(),Re.toggleResultsRelatedProducts(),Re.jqueryMouseEvent()},Re.getAcronym=function(e){var s=[];e=e.trim();try{var t=e.split(" "),a=t.length,r=/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]+/;if(0<a)for(var o=0;o<a&&!(1<s.length);o++){var i=t[o],n=i[0];if(1==r.test(n))for(var l=i.length,g=1;g<l-1;g++){var c=i[g];0==r.test(c)&&s.length<2&&(s[o++]=c)}else s.length<2&&(s[o]=n);if(1<s.length)break}}catch(e){Re.throwClientError("Error while getting Acronym ",e)}e=e.slice(0,2);return(e=1<s.length?s.join(""):e).toUpperCase()},Re.getPhotoURL=function(e,s){var t,a,r=s.type||"",o="";return"personal"===r?o=s.photo+"?API=true":"org"===r&&(o=ke.GS_CONTACTS_URL+"/api/v1/accounts/"+Re.GSConstant.cuo+"/contacts/"+s.contact_id+"/photo?include=default_photo"),e===ke.PEOPLE?(o=s.photo)&&-1<o.indexOf("/api/viewEmployeePhoto?")&&(o=o.replace("/api/viewEmployeePhoto?","/viewPhoto?")):e===ke.CLIQ?(t=s.cid||"",(t=((r=Re.chidVsMeta||{}).hasOwnProperty(t)?r[t]:{}).owner||"")&&"-1"!==t&&(o=Re.getThumbPhotoURL(t))):e===ke.CONNECT||e===ke.STREAMS?(t=s.zuid||"")&&"-1"!==t&&(o=Re.getThumbPhotoURL(t)):e===ke.SLACK?5!=(a=s.module_id||"")&&1!=a||(o=s.photo||""):e===ke.ZENDESK&&"user"==(a=s.result_type||"")&&(o=s.photo&&Re.replaceHTMLEntity(s.photo)||""),o},Re.renderSearchResults=function(s,e,t,a,r){try{var o="",i="";s===Re.GSConstant.ORGRESOURCES&&(i=Re.getCurrentValue("modules",s),o=Re.getFilterInfo(s,"accounts","mdefault"));var n=0,l=Re.getSearchType(),g="zgs20_gs"+s+"Results",c=a||Re.getCurrentValue("accounts",s),d=Re.isArrayContain(s,Re.configured_mail_module)?Re.mappedServiceList[s].originService:s;"1"===(Re.isArrayContain(d,Re.account_based_filter_service_list)?Re.getAccountType(d,c):"")?g=r?"zgs20_gs"+r+"Results":"zgs20_gs_"+s+"_"+c+"_Results":Re.multiPageEnabled&&(g="zgs20_gs"+c+"Results");var p=Re.fetchResCount,u=Re.getServiceResultObject(s,c),h=0,_="askZia"===Re.selectedLeftPanelDivision?{type:"AskZia",templateId:"zgs20_gs"+s+"AskZiaTemplate",filters:!1}:{};if(s===Re.GSConstant.CALENDAR){Re.eventSplitter=!1,Re.completedResToBeShown=Re.completedResToBeShown||0,Re.futureResToBeShown=Re.futureResToBeShown||0;var m=0,z=0,v=0,f=0,h=(v=Re.isCompleted?Re.getServiceResultCount(s+"_completed",c):v)+(f=Re.isUpcoming?Re.getServiceResultCount(s+"_future",c):f)}else if(s===Re.GSConstant.SALESFORCE||s===Re.GSConstant.CAMPAIGNS){var C=Re.getMoreResultCount(s,c);if(Re.GSConstant.ALL==l&&e&&0<C&&(b=Re.iWeightage[s],y=Re.getResultMaxCount(l,s,C+b),Re.reArragegeResultsForWeightage(s,c,y-b),u=Re.getServiceResultObject(s,c)),"object"==typeof(h="all"!==(ce=(ce=Re.getCurrentValue("modules"))||Re.gsfilters.getDefValueForServiceType(s,"modules",!0))&&"0"!=ce?"object"==typeof(I=Re.getServiceResultCount(s,c))?I[c][ce]:I:Re.getServiceResultCount(s,c))){h=h.hasOwnProperty(c)?h[c]:h;var S=0;for(se in h)s==Re.GSConstant.CAMPAIGNS&&Re.isArrayContain(se,Re.campaignsRenderedMod)||(S+=h[se]);h=S}}else if(s===Re.GSConstant.ASANA){var b,y,I,C=Re.getMoreResultCount(s,c);if(Re.GSConstant.ALL==l&&e&&0<C&&(b=Re.iWeightage[s],y=Re.getResultMaxCount(l,s,C+b),Re.reArragegeResultsForWeightage(s,c,y-b),u=Re.getServiceResultObject(s,c)),"object"==typeof(h="all"!==(ce="0"!==(ce=Re.getCurrentValue(Re.WS,s))?ce:Re.getFilterInfo(s,Re.WS,"default"))?"object"==typeof(I=Re.getServiceResultCount(s,c))?I[c][ce]:I:Re.getServiceResultCount(s,c))){var O,S=0;for(O in h)if("object"==typeof h[O])for(var P in h[O])S+=h[O][P];else S=h[O];h=S}}else h=Re.getServiceResultCount(s,c);var w,D,E,T,A,M=Re.getResultMaxCount(l,s,h);e?(n=Re.getShownResultCount(s,c),w=2<=h?2:1,Re.GSConstant.ALL==l?(M=(D=(Re.fWeightage||{})[s])<h?D:n+w,s===Re.GSConstant.CALENDAR&&(Re.isCompleted&&(m=Re.completedResToBeShown),Re.isUpcoming&&(z=Re.futureResToBeShown))):c&&(M=n+w<h?n+w:h)):t?M=(n=Re.resToBeShown)+25<h?n+25:h:Re.scrollSearch?s===Re.GSConstant.CALENDAR?Re.isCompleted?m=n=Re.completedResToBeShown:Re.isUpcoming&&(z=n=Re.futureResToBeShown):n=Re.resToBeShown:Re.GSConstant.ORGRESOURCES===s&&Re.isListViewSearch()&&o===c&&"0"===i&&Re.isDefWelAdded&&(M+=1,p+=1),ke.O365MAIL!==s&&ke.SLACK!==s&&ke.GMAIL!==s||(E=Re.Template.iconTemplate(),T=Re.Template.infoTemplate(),A=Re.Template.resultTitleTemplate(),xe("#zgs20_gsSearchResultMiddle").find("#iconTemplate").remove(),xe("#zgs20_gsSearchResultMiddle").find("#infoTemplate").remove(),xe("#zgs20_gsSearchResultMiddle").find("#resultTitleTemplate").remove(),xe("#zgs20_gsSearchResultMiddle").append(E).append(T).append(A)),s!==ke.CALENDAR&&(M=p<M-n?p:M);var F=Re.getResultsAreaWidth();F<=0&&(F=xe("#zgs20_gsModuleSearchResultPage").width()-100,Re.setResultsAreaWidth(F));var N,L,R,x,k,U,j,B,H,G,W,V,Q,q,Z=[],K=Re.mappedServiceList[s].results,Y=0;if(s===Re.GSConstant.SALESFORCE){ce=(ce=Re.getCurrentValue("modules"))||"all";var J,X=u,$=[],ee=(te=Re.crm_rendered_modules[s]||{})[c]||[];for(J in X)("all"!==ce&&!Re.multiPageEnabled||ee.indexOf(J)<=-1||Re.GSConstant.ALL==l)&&(Re.GSConstant.ALL!=l&&ee.push(J),(re={}).parent_div_id=g,re.service_name=s,re.offset=n,oe=X[J],0<(ie=Re.resultCount[s][c][J])&&(re.limit=ie,s!==Re.GSConstant.CRM&&(re.acc_id=c),ne="zgs20_gs"+c+J+"Results","all"===ce&&(re.module_parent_id=ne),re.records_info=oe,re.search_module_name=J,re.search_type=ce,re.results_area_width=F,re.service_addtional_info=Re.getServiceResultsAdditionalInfo(s,c),(new Re.ZSCRMFactory).createCRM(re).renderResults(),((ge={}).service_name=s)!==Re.GSConstant.CRM&&(ge.account_id=c),ge.results_parent_id="all"===ce?ne:g,ge.total_results_area_width=F,$.push(ge)));Re.GSConstant.ALL!=l&&(te[c]=ee,Re.crm_rendered_modules[s]=te);for(var se=0;se<$.length;se++)(de=$[se]).is_cursor_need="all"!==ce,Re.Utils.setResultsWidth(de)}else if(s==Re.GSConstant.ASANA){var te,ae,re,oe,ie,ne,le,ge,ce=Re.getCurrentValue(Re.WS,s),X=u,$=[],ee=(te=Re.projects_rendered_modules[s]||{})[c]||[];for(ae in X)("all"!==ce&&!Re.multiPageEnabled||ee.indexOf(ae)<=-1||Re.GSConstant.ALL==l)&&(Re.GSConstant.ALL!=l&&ee.push(ae),(re={}).parent_div_id=g,re.acc_id=c,re.service_name=s,re.offset=n,oe=X[ae],0<(ie=Re.resultCount[s][c][ae])&&(re.limit=ie,ne="zgs20_gs"+c+"_"+ae+"Results","all"===ce&&(re.module_parent_id=ne),re.results=oe,re.search_workspace_id=ae,re.search_workspace_name=Re.getFilterData(Re.GSConstant.ASANA,Re.WS,"data",ae,c),re.search_type=ce,re.results_area_width=F,(le=(new Re.ZSProjectMgmtFactory).createProjectMgmtInstance(re)).renderResults(),(ge={}).service_name=s,ge.account_id=c,ge.results_parent_id="all"===ce?ne:g,ge.total_results_area_width=F,$.push(ge)));Re.GSConstant.ALL!=l&&(te[c]=ee,Re.projects_rendered_modules[s]=te);for(var de,se=0;se<$.length;se++)(de=$[se]).is_cursor_need="all"!==ce,Re.Utils.setResultsWidth(de);l!==Re.GSConstant.ALL&&(!Re.multiPageEnabled||Re.multiPageEnabled&&e)&&Re.gskeyboard.insertElement()}else if(s==Re.GSConstant.PROJECTS)(re={}).results=u,re.service_name=s,re.parent_div_id=g,re.offset=n,re.limit=M,re.acc_id=c,re.results_area_width=F,(le=(new Re.ZSProjectMgmtFactory).createProjectMgmtInstance(re)).renderResults(),Z=le.getServiceImgData();else if(-1<Re.SERVICES_STORAGE.indexOf(s)){if("object"!=typeof h){var pe=new Re.FileMgmtFactory;0===c&&(c=xe("#zgs20_gs"+s+"Template .zgs19_gsSearchResultTable")[0].getAttribute("acc_id"));var ue=Re.getResponseObject(s+c),he=Object.assign({},ue);if(l==Re.GSConstant.ALL||Re.multiPageEnabled){for(var _e=[],me=n;me<M;me++)he.result_objects[me]&&_e.push(he.result_objects[me]);he.result_objects=_e}var ze={};ze.offset=n,ze.parentId=g,ze.service=s,ze.accountId=c;var ve=pe.createFileMgmtService(ze);ve.setResponseObj(he.result_objects),ve.renderResults()}}else if(s===Re.GSConstant.EVERNOTE){var fe=new Re.notesTemplateFactory,ue=Re.getResponseObject(s+c),he=Object.assign({},ue);if(l==Re.GSConstant.ALL||Re.multiPageEnabled){for(_e=[],me=n;me<M;me++)he.result_objects[me]&&_e.push(he.result_objects[me]);he.result_objects=_e}var Ce={};Ce.offset=n,Ce.parentId=g,Ce.service=s,Ce.accountId=c;var Se=fe.createCurServiceInstance(Ce);Se.setResponseObj(he.result_objects),Se.renderResults()}else for(s===Re.GSConstant.CALENDAR&&!Re.eventSplitter&&!Re.scrollSearch&&Re.isCompleted&&Re.isUpcoming&&0===m&&0===z&&(Re.eventSplitter=!0),s===Re.GSConstant.CAMPAIGNS&&(N=n,L=u);n<M;n++){if(s===Re.GSConstant.CAMPAIGNS){for(var be in Re.campaignsRenderedMod=Re.campaignsRenderedMod||[],L)if(!Re.isArrayContain(be,Re.campaignsRenderedMod)||Re.scrollSearch){var ye,Ie,Oe,Pe,we,u=L[be],De=Re.getFilterObj(s),Ee=parseInt(be);if(!(l==Re.GSConstant.ALL&&e&&Object.keys(u).length<=N)){"0"!=ce||l==Re.GSConstant.ALL&&0!=N||(Ie="zgs20_gs"+be+"_"+(ye=De.modules.data.hasOwnProperty(Ee)?De.modules.data[Ee]:"")+"Results",(Oe={}).id="zgs20_gs"+be+"_"+ye+"Template",Oe.service_name=s,Oe.mod_name=be,Oe.mod_disp_name=ye,Oe.acc_id=c,Pe=Re.CrmUtils.constructModHeader(Oe),we={modId:be},Re.storeRenderedResultServiceInfo(s,c,we),xe("#"+g).append(xe("<div>",{id:Ie}).append(Pe)),g=Ie),c=be,l!=Re.GSConstant.ALL&&Re.campaignsRenderedMod.push(be);break}N=0,Re.campaignsRenderedMod.push(be)}Y=N++}s===Re.GSConstant.CALENDAR?Re.isUpcoming&&z<f?(Y=z,z++):Re.isCompleted&&m<v&&(Re.eventSplitter&&(xe(Re.getTargetElem(g)).prepend(Re.getEventSplitter()),Re.eventSplitter=!1),Y=-m-1,m++):s!=Re.GSConstant.CAMPAIGNS&&(Y=n);var Te=s+Y;if(u.hasOwnProperty(Te)){var Ae,Me=u[Te],Fe=Re.fetchCalloutUrlByAccId(s,Me,c),Ne=Re[K].getHtmlTemplate(Me,c,Fe,g,s,Y,F,_),Le=Re.getPhotoURL(s,Me);if(Ne&&Re.renderHtmlElement(Ne,s,g,Le,Y,c,Me),s===ke.GMAIL){let e=xe("#zgs20_gs"+c+"Results_"+Y);e.length<1&&(e=xe("#zgs20_gsgmailResults_"+Y)),Re.gsgmailresults.pushLabelsToSpace(e,c,!0,!1)}-1<Re.LAZY_IMG_LOAD_SUPPORTED_SERVICES.indexOf(s)&&void 0!==Le&&((Ae={}).id=g+"_"+n,""===Le.trim()&&(Ae.no_photo=!0),Ae.img_url=Le||Re.gsspacer,Z.push(Ae))}}l!==Re.GSConstant.ALL&&(!Re.multiPageEnabled||Re.multiPageEnabled&&e)&&Re.gskeyboard.insertElement(),Re.GSConstant.WORKDRIVE===s&&((R={}).service_name=s,R.total_results_area_width=F,R.account_id=c,x=Re.mappedServiceList[s].results,Re[x].hasOwnProperty("setFooterElementsWidth")&&Re[x].setFooterElementsWidth(R)),0<Z.length&&(Re.mappedServiceList[s].is_multi_accounts&&c?((k={})[c]=Z,Re.temp_img_info[s]=k):Re.temp_img_info[s]=Z),Re.GSConstant.ALL===l?(U=s==Re.GSConstant.ASANA?h:M,Re.setShownResultCount(d,c,U,s),s===Re.GSConstant.CALENDAR&&(Re.isCompleted&&(Re.completedResToBeShown=m),Re.isUpcoming&&(Re.futureResToBeShown=z)),e||Re.setWeightServices(s),j=Re.getOrderedServiceList(),Re.scrollSearch||s!=j[1]||(Re.firstResultCallOutShown=!0)):Re.multiPageEnabled||Re.subMultiPageEnabled?(Re.resToBeShown=0,Re.setShownResultCount(d,c,M,s),B=Re.getWidgetServiceList(s),H=Re.getFilterInfo(s,B.key,"accIdArr"),Re.scrollSearch||s!=H[1]||(Re.firstResultCallOutShown=!0)):s===Re.GSConstant.CALENDAR?(Re.isCompleted&&(Re.completedResToBeShown=m,Re.setScrollTop(".zgs19_gsModuleScrollPage",Re.calendarScrollValue)),Re.isUpcoming&&(Re.futureResToBeShown=z),0<h&&(Re.firstResultCallOutShown=!0),(Re.scrollSearch||0!=m)&&Re.completedResToBeShown!==Re.searchResultsLimit&&m%p==0||(Re.completedNoMoreResults=!0),(Re.scrollSearch||0!=z)&&Re.futureResToBeShown!==Re.searchResultsLimit&&z%p==0||(Re.futureNoMoreResults=!0)):(Re.firstResultCallOutShown=!0,Re.resToBeShown=M,s==Re.GSConstant.ORGRESOURCES&&Re.isListViewSearch()&&o===c&&"0"===i&&Re.isDefWelAdded&&Re.scrollSearch&&--h,Re.resToBeShown!==Re.searchResultsLimit&&h%p==0||(Re.noMoreResults=!0,s==ke.ONEDRIVE&&(Re.noMoreResults=Re.isListViewSearch()?h%p!=24:h%24!=0)),s===Re.GSConstant.SALESFORCE&&Re.isListViewSearch()&&"all"===(ce=(ce=Re.getCurrentValue("modules"))||"all")&&(G=Object.keys(Re.resultObject[Re.GSConstant.SALESFORCE][c]).length,Re.noMoreResults=10<G),Re.setShownResultCount(d,c,M,s)),Re.noMoreResults&&s==Re.GSConstant.ORGRESOURCES&&!Re.noResFeed&&(W=Re.getTargetElem(g),xe("<div>",{class:"zgs19_gsFeedbackForm",gs:"feedBack",style:"margin-top: 5px;"}).append(xe("<a>",{class:"zgs19_gsResultTitle zgs19_gsFeedbackCol zgs19_gsCurPointer ",gs:"feedBack"}).text(Re.getI18NMsg("gs.search.error.no_result_feedback_form"))).insertAfter(xe(W)),Re.noResFeed=!0),Re.isMobViewport()&&(Re.firstResultCallOutShown=!1),Re.firstResultCallOutShown&&!Re.curSelectedEle&&""==Re.curSelectedEle&&(q="",q=s===Re.GSConstant.CALENDAR?(Re.isUpcoming?q=Re.gskeyboard.findDataNode(0,""):Re.isCompleted&&!Re.isUpcoming&&(q=Re.gskeyboard.findDataNode(-1,"")),q.getAttribute("id")):s===Re.GSConstant.SALESFORCE?(Re.multiPageEnabled?(V=xe("#zgs20_MultiSearchPageHolder >div")[0],Q=xe(V).find(".zgs19_gsSearchResultTable")[0]):(Q=xe(xe("#zgs20_gssalesforceResults >div")[0]).find(".zgs19_gsSearchResultTable")[0],"all"!==(Re.getCurrentValue("modules")||"all")&&(Q=xe("#zgs20_gssalesforceResults >div")[0])),xe(Q).attr("id")):Re.gskeyboard.getFirstDataNode(),xe("#"+q).click()),-1<Re.LAZY_IMG_LOAD_SUPPORTED_SERVICES.indexOf(s)&&Re.setContactsImage(s,c)}catch(e){Re.throwClientError("Error while rendering search results. servicename :"+s+" Ex:",e)}},Re.getEventSplitter=function(){return xe("<div>",{class:"zgs19_gsEventSplitter"}).append(xe("<span>",{class:"zgs19_gsSplitterText"}).text(Re.getI18NMsg("gs.search.filter.upcomingEvents")))},Re.renderHtmlElement=function(e,s,t,a,r,o,i){xe("#"+("zgs20_dummy"+s+"Res")).remove();var n,l,g=Re.getTargetElem(t),c="",d=t+"_"+r;c=s==ke.SLACK||s==ke.O365MAIL||s==ke.GMAIL?(n=e.infoDiv||{},l=e.infoDiv1||{},t=e.infoDiv2||{},xe("<div>",{id:d,class:"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem",service:s,gs:"searchResultTable"}).append(xe("<div>",{class:"zgs19_gsSearchResultRow"}).append(e.iconDiv).append(xe("<div>",{class:"zgs19_gsSearchResultCell2"}).append(n).append(l).append(t)))):xe("<div>",{id:d,class:"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem",service:s,gs:"searchResultTable"}).append(e),xe(c).attr("index",r),o&&xe(c).attr("acc_id",o),s==ke.CALENDAR&&r<0?xe(g).prepend(c):xe(g).append(c),s==ke.CONNECT&&(g=(r=xe("#"+d).find(".zgs19_gsConnectFooterTxt")).find(".zgs19_gsContactEmail:not(:empty)"),c=r.find(".zgs19_gsResRightFilter"),c=(c=xe(r).outerWidth()-xe(c).outerWidth())/g.length/xe(r).outerWidth()*100,xe(g).css("max-width",c+"%")),Re.LAZY_IMG_LOAD_SUPPORTED_SERVICES.indexOf(s)<=-1&&("8"===(i.cpt||"")?Re.setDeptIcon(d):a?Re.updateUserPhoto(d,a):-1===Re.havingUserPhoto.indexOf(s)&&Re.loadResNoPhotoImg(d))},Re.setContactsImage=function(e,s){if(Re.temp_img_info[e]){for(var t=Re.mappedServiceList[e].is_multi_accounts,a=t&&s?xe.isEmptyObject(Re.temp_img_info[e])?[]:Re.temp_img_info[e][s]:Re.temp_img_info[e],r=a.length,o=0;o<r;o++){var i=a[o],n=i.id,l=i.img_url,i=i.no_photo||!1,n=xe("#"+n).find("img");i?Re.setEmptyPhoto(n):(null==(i=xe(n).attr("gs_err_class"))&&(i="zgs19_gsResultsUniIcons zgs19_gsResNoUserPhoto"),Re.network.imageRenderer.renderImage(l,{img_elem:n,class_name:"zgs19_gsUserPhoto",errorClass:i},null))}t&&s?delete Re.temp_img_info[e][s]:delete Re.temp_img_info[e]}},Re.setEmptyPhoto=function(e){e.attr("group")&&"true"==e.attr("group")||!1||e.attr("class","zgs19_gsResultsUniIcons zgs19_gsResNoUserPhoto")},Re.setDeptIcon=function(e){e=Re.getTargetElem(e);e&&(Re.setGSTagElems(e),e.gsUserPhoto&&xe(e.gsUserPhoto).removeClass("zgs19_gsFetchImgLoader zgs19_gsResFetchLoader").addClass("zgs19_gsResultsUniIcons zgs19_gsGRDeptSMIcon"))},Re.getConnectorFilterMod=function(e,s,t,a){var s=s||"",r=e.cid||"",o=e.cn||"",i=Re.getCurrentValue("modules",ke.ORGRESOURCES),n=Re.getI18NMsg("gs.search.service_people.status.in",!0),e="";return(t.cell1||t.cell2)&&(e="display:initial;margin-inline-start:12px;"),a&&"0"===i&&void 0!==i&&"undefined"!==i?xe("<div>",{gs:"gsFilterIcon",class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl",style:e}).append(xe("<span>",{class:"zgs19_gsResIntxt2 zgs19_gsOverflow zgs19_gsfl"}).text(n)).append(xe("<span>",{id:"zgs20_moduleName",class:"zgs19_hvr_underline",istip:!0,gslabel:Re.getI18NMsg("gs.search.filter_through_department"),gstitle:o,gs:"gsconnService",key:r,acc_id:s}).text(o)):xe("<div>",{gs:"gsFilterIcon",class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl zgs19_gsCurDefault",style:e}).append(xe("<span>",{class:"zgs19_gsResIntxt2 zgs19_gsOverflow zgs19_gsfl"}).text(n)).append(xe("<span>",{id:"zgs20_moduleName",istip:!0,gslabel:Re.getI18NMsg("gs.search.result.support.department"),gstitle:o,style:"display:initial;margin-inline-start:3px;"}).text(o))},Re.getPeopleUserDetails=function(e,s,t,a,r,o,i,n){var l=Re.getSearchType(),g=n.cpt||"",c={},d="",p="",u="",h="",_="",m="";t&&(c.cell1=t,_=Re.getI18NMsg("common.mobile"),z=c.cell1),"8"===g&&(c.cell1=n.suppmail||"-",_=Re.getI18NMsg("gs.connector.support.email"),"-"===c.cell1&&(c.cell1=Re.getI18NMsg("common.not_available")),z=c.cell1),(r||a)&&(a&&(c.cell2=a,m=Re.getI18NMsg("common.phone")),r&&(c.cell2=r,m=Re.getI18NMsg("gs.search.service_people.extn"),"8"===g&&"-"===c.cell2&&(c.cell2=Re.getI18NMsg("common.not_available")))),o&&(c.cell3=o);var z,r="";Object.keys(c).length;return c.cell1&&(t=t?"zgs19_gsContactMobileImg":"zgs19_gsContactPhoneImg",z=c.cell1,"8"===g&&(t="zgs19_gsGRDeskIcon zgs19_gsGRDeskIconStyles"),d=xe("<div>",{class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl"}).append(xe("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsfl "+t})).append(xe("<span>",{class:"contactDetail",istip:!0,gslabel:_,gstitle:z}).text(c.cell1))),c.cell2&&(p=xe("<div>",{class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl",style:r=d?"margin-inline-start:12px;":""}).append(xe("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl"})).append(xe("<span>",{class:"contactDetail",istip:!0,gslabel:m,gstitle:c.cell2}).text(c.cell2))),c.cell3&&(r=d||p?"margin-left:12px;":"",c=Re.getCurrentValue("departments",ke.PEOPLE),u=l===Re.GSConstant.ALL||"0"===c&&l===Re.GSConstant.PEOPLE?xe("<div>",{class:"zgs19_gsContactNumber zgs19_hvr_underline zgs19_gsOverflow zgs19_gsfl",style:r}).append(xe("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactDeptImg zgs19_gsfl"})).append(xe("<span>",{class:"contactDetail",istip:!0,gslabel:Re.getI18NMsg("gs.search.filter_through_department"),gstitle:o,gs:"peopleResDepartment",fId:i,gsfilter:"deptName",fName:o,style:"display:initial;margin-left:3px;"}).text(o)):xe("<div>",{class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl",style:r}).append(xe("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactDeptImg zgs19_gsfl"})).append(xe("<span>",{class:"contactDetail",istip:!0,gslabel:Re.getI18NMsg("gs.search.result.support.department"),gstitle:o,style:"display:initial;margin-left:3px;"}).text(o))),{cell1:d,cell2:p,cell3:u,cell4:h=s?xe("<div>",{class:"zgs19_gsContactEmail zgs19_gsfl zgs19_gsOverflow zgs19_gsWid97Per"}).append(xe("<span>",{istip:!0,gslabel:Re.getI18NMsg("common.email"),gstitle:s}).text(s)):h}},Re.getPulseFooterElemsWidth=function(e,s){xe("#zgs20_gsResultsHolder").append(xe("<span>",{class:"zgs19_fontsize14 zgs19_gsDisplayNone",id:"zgs20_gsConnectTempSpan"})),xe("#zgs20_gsConnectTempSpan").text("").text(e);e=xe("#zgs20_gsConnectTempSpan").width()+10;xe("#zgs20_gsConnectTempSpan").empty().append(s);s=xe("#zgs20_gsConnectTempSpan").width()+40;return xe("#zgs20_gsConnectTempSpan").remove(),150<=e&&s<150?e=150-s+150:e<150&&150<=s?s=150-e+150:e=s=150,{auth:"max-width:"+e+"px;",name:"max-width:"+s+"px;"}},Re.getUserStatus=function(e,s){var t="",a="",r="",o=Re.isWMSChatPaused();return e&&"-1"!==e&&!o&&(o="big"==s?"zgs19_gsWMSUserStatusBig":"zgs19_gsWMSUserStatus",(s=Re.getWMSUserContacts()).hasOwnProperty(e)&&(0==(r=s[e].STATUS)?(t=o+" zgs19_gsWMSOffline",a=Re.getI18NMsg("gs.search.iam.offline")):1==r?(t=o+" zgs19_gsWMSOnline",a=Re.getI18NMsg("gs.search.iam.online")):2==r?(t=o+" zgs19_gsWMSInvisible",a=Re.getI18NMsg("gs.search.iam.invisible")):3==r?(t=o+" zgs19_gsWMSBusy",a=Re.getI18NMsg("gs.search.iam.busy")):4==r&&(t=o+" zgs19_gsWMSIdle",a=Re.getI18NMsg("gs.search.iam.idle")))),{name:t,tip:a,status:r}}}(zgssearch),function(U,i){var n=i.document,j=i._jQueryGS;U.sseHolder=[],U.total_no_of_results=0,U.isCompleted=!1,U.isUpcoming=!1,U.calendarScrollValue=0,U.SECOND_IN_MILLIS=1e3,U.MINUTE_IN_MILLIS=6e4,U.HOURS_IN_MILLIS=36e5,U.DAY_IN_MILLIS=864e5,U.searchCallDelay=300,U.MAX_LIMIT_FOR_WIDGET_CALL_WAIT=5e3,U.currentTimeMillis=0;var e,I=U.getGSConstantObj()||{},l=U.gscomponent||{};if(U.iWeightage=U.iWeightage||{},U.fWeightage=U.fWeightage||{},U.resultCount=U.resultCount||{},U.resultObject=U.resultObject||{},U.moreResultCount=U.moreResultCount||{},U.moreResultObject=U.moreResultObject||{},U.max_view_port_results_count=12,U.max_mod_results_count=4,U.max_mod_count=2,U.cursorObj=U.cursorObj||{},U.weightServices=U.weightServices||[],U.moduleRenderedInAllApps=U.moduleRenderedInAllApps||{},U.prevSelectedLeftPanelDivision=U.prevSelectedLeftPanelDivision||"",U.selectedLeftPanelDivision=U.selectedLeftPanelDivision||"search",U.filter_type="search_view",I.timeoutSSE=I.timeoutSSE?U.jsonParse(I.timeoutSSE):150,U.service_addtional_info={},U.storedServiceMod={},U.crmDataObj={},U.crmDispObj={},U.crmMandName={},U.crmCustomMod={},U.biginDataObj={},U.biginDispObj={},U.biginMandName={},U.chidVsMeta=U.chidVsMeta||{},U.pulseNetworkId=U.pulseNetworkId||{},U.pulseNetworkURL=U.pulseNetworkURL||{},U.learnSoidVsHubURL=U.learnSoidVsHubURL||{},U.crm_modules_data=[],U.multiStartSet=U.multiStartSet||0,U.multiResCount=U.multiResCount||0,U.multiResulList=U.multiResulList||{},U.multiResultObj=U.multiResultObj||{},U.multiPageEnabled=U.multiPageEnabled||!1,U.subMultiPageEnabled=U.subMultiPageEnabled||!1,U.widgetServiceList={},U.widgetServiceList[I.STREAMS]={label:U.getI18NMsg("gs.search.multi.account"),sublabel:U.getI18NMsg("gs.search.multi.module"),key:"accounts",childkey:"modules"},U.widgetServiceList[I.MAILS]={label:U.getI18NMsg("gs.search.multi.account"),sublabel:U.getI18NMsg("gs.search.multi.module"),key:"accounts",childkey:"modules"},U.widgetServiceList[I.CONNECT]={label:U.getI18NMsg("gs.search.multi.network"),key:"accounts"},U.widgetServiceList[I.LEARN]={label:U.getI18NMsg("common.hub"),key:"accounts"},U.widgetServiceList[I.CRM]={label:U.getI18NMsg("gs.search.multi.organization"),key:"accounts"},U.widgetServiceList[I.SUPPORT]={label:U.getI18NMsg("gs.search.multi.portal"),key:"accounts"},U.widgetServiceList[I.REPORTS]={label:U.getI18NMsg("gs.search.multi.database"),key:"accounts"},U.widgetServiceList[I.WIKI]={label:U.getI18NMsg("common.wiki"),key:"accounts"},U.widgetServiceList[I.BOOKS]={label:U.getI18NMsg("gs.search.multi.organization"),key:"accounts"},U.widgetServiceList[I.INVOICE]={label:U.getI18NMsg("gs.search.multi.organization"),key:"accounts"},U.widgetServiceList[I.INVENTORY]={label:U.getI18NMsg("gs.search.multi.organization"),key:"accounts"},U.widgetServiceList[I.ORGRESOURCES]={label:U.getI18NMsg("gs.search.multi.organization"),key:"accounts"},U.widgetServiceList[I.CAMPAIGNS]={label:U.getI18NMsg("gs.search.multi.organization"),key:"accounts"},U.widgetServiceList[I.WORKDRIVE]={label:U.getI18NMsg("gs.search.multi.account"),key:"accounts"},U.widgetServiceList[I.BIGIN]={label:U.getI18NMsg("gs.search.multi.organization"),key:"accounts"},U.widgetServiceList[I.PROJECTS]={label:U.getI18NMsg("gs.search.multi.portal"),key:"accounts"},U.widgetServiceList[I.SALESIQ]={label:U.getI18NMsg("gs.search.multi.portal"),key:"accounts"},U.widgetServiceList[I.DROPBOX]={label:U.getI18NMsg("gs.search.multi.account"),key:"accounts"},U.widgetServiceList[I.GOOGLEDRIVE]={label:U.getI18NMsg("gs.search.multi.account"),key:"accounts"},U.widgetServiceList[I.BOX]={label:U.getI18NMsg("gs.search.multi.account"),key:"accounts"},U.widgetServiceList[I.SLACK]={label:U.getI18NMsg("gs.search.multi.database"),key:"accounts"},U.widgetServiceList[I.SALESFORCE]={label:U.getI18NMsg("gs.search.multi.account"),key:"accounts"},U.widgetServiceList[I.O365MAIL]={label:U.getI18NMsg("gs.search.multi.account"),key:"accounts"},U.widgetServiceList[I.ONEDRIVE]={label:U.getI18NMsg("gs.search.multi.account"),key:"accounts"},U.widgetServiceList[I.ASANA]={label:U.getI18NMsg("gs.search.multi.account"),key:"accounts",childkey:"workspaces"},U.widgetServiceList[I.EVERNOTE]={label:U.getI18NMsg("gs.search.multi.account"),key:"accounts"},U.widgetServiceList[I.GMAIL]={label:U.getI18NMsg("gs.search.multi.account"),key:"accounts"},U.widgetServiceList[I.ZENDESK]={label:U.getI18NMsg("gs.search.multi.account"),key:"accounts"},U.service_cursor_info=U.service_cursor_info||[],U.cursor_info_service_search=U.cursor_info_service_search||{},U.service_module_cursor_info=U.service_module_cursor_info||[],U.responseObj={},U.emptySearchAllowedFromExternal=[I.WEBSITE],U.getWidgetServiceList=function(e){return U.widgetServiceList[e]||{}},U.onSuccessFunction=function(e,s){U.preCheckForURLSearch();var t=U.jsonParse(s);switch(e){case"IWEIGHT":U.initialWeightage(t);break;case"WEIGHT":U.finalWeightage(t);break;case"NLP_TRACER":U.gsnlpsearch.storeNLPTracerData(t.nlp_tracer);break;case"RESULT":U.GSConstant.isNLPTracerEnabled&&U.gsnlpsearch.storeNLPTracerData(t.nlp_tracer),U.handleSSESearchResult(t);break;case"NONSSE":U.GSConstant.isNLPTracerEnabled&&U.gsnlpsearch.storeNLPTracerData(t.nlp_tracer),U.handleNonSSESearchResult(t),U.closeMsg="CLOSE",U.closeConnection();break;case"VERSION":U.gsversion.handleVersionChanges(t);break;case"CLOSE":case"ERROR":U.closeSSEAction(e)}},U.closeSSEAction=function(e){U.isBuildChanged||(U.closeMsg=e,U.network.removeEventSource(),U.isPostSearchAPIEnabled||!U.multiPageEnabled&&!U.subMultiPageEnabled&&I.ALL!==U.getSearchType()?U.closeConnection():U.handleSSESearchResult({closeSSEAction:!0}))},U.hasSearchResults=function(e){U.multiPageEnabled||U.scrollSearch?U.total_no_of_results+=e||0:U.total_no_of_results=e||0},U.hasSearchResultsNonSSE=function(e){for(var s in e)"weightage"!==s&&U.hasSearchResults(e[s])},U.closeConnection=function(){U.renderMultiResults(),U.removeScrollLoader(),U.hideSearchPageLoader();var e=U.getSearchType();U.is_scroll_search=U.scrollSearch;var s,t=U.GSConstant.ALL===e?"zgs20_gsAllSearchResultPage":"zgs20_gsModuleSearchResultPage";(U.multiPageEnabled||U.subMultiPageEnabled)&&(U.isServiceHasMultiPortals(e)||U.isServiceHasSubMultiPortals(e))&&(t="zgs20_gsMultiSearchResultPage"),0===U.total_no_of_results?(U.noMoreResults=!0,U.completedNoMoreResults=!0,U.futureNoMoreResults=!0,U.scrollSearch?"ERROR"==U.closeMsg&&U.errorResultPage("zgs20_gs"+e+"Template"):(U.displayResultPage(),U.displayAllResultPage(),U.GSConstant.ALL!==e&&(U.displayModuleResultPage(),U.renderFiltersInfoAction(e,"zgs20_gsModuleFilterList",""),U.setScrollTop(".zgs19_gsModuleScrollPage",0)),"CLOSE"===U.closeMsg?U.zeroResultsPage(t):"ERROR"!==U.closeMsg&&""!==U.closeMsg||U.isSearchCallActive&&navigator.onLine||U.errorResultPage(t))):U.scrollSearch||U.openFirstResultCallout(),U.scrollSearch&&!U.isBuildChanged&&(U.scrollSearch=!1,U.isScrollSearchResults||(U.getSearchType()==U.GSConstant.CALENDAR?U.isTopReached(s="zgs20_gscalendarTemplate")?U.completedNoMoreResults=!0:U.isBottomReached(s)&&(U.futureNoMoreResults=!0):U.noMoreResults=!0),U.isScrollSearchResults=!1),U.multiPageEnabled&&(s=U.multiResultObj||{},U.renderMultiMorePageOption(s,e),e!==U.GSConstant.SALESFORCE||U.is_scroll_search||(U.renderResultsForViewPort(e),setTimeout(function(){U.gskeyboard.checkAndInsertElements()},1e3))),U.subMultiPageEnabled&&U.renderSubMultiMorePageOption(e),U.multiPageEnabled||e!==U.GSConstant.SALESFORCE||U.is_scroll_search||U.renderResultsForViewPort(e),!U.scrollSearch&&U.isBuildChanged&&(U.noMoreResults=!1,U.completedNoMoreResults=!1,U.futureNoMoreResults=!1),U.moduleRenderedInAllApps={},U.isSearchCallActive=!1,U.enablingSSIcon()},U.openFirstResultCallout=function(){var e,s,t;U.scrollSearch||U.firstResultCallOutShown||U.curSelectedEle||""!=U.curSelectedEle||(e=U.getSearchType(),U.gskeyboard.insertElement(),s=U.gskeyboard.getFirstDataNode(),e===U.GSConstant.SALESFORCE&&(t=U.multiPageEnabled||U.subMultiPageEnabled?(t=j("#zgs20_MultiSearchPageHolder >div")[0],j(t).find(".zgs19_gsSearchResultTable")[0]):j(j("#zgs20_gssalesforceResults >div")[0]).find(".zgs19_gsSearchResultTable")[0],s=j(t).attr("id")),!U.isMobViewport()&&s&&j("#"+s).click())},U.zeroResultsPage=function(e,s){var t,a,r,o,i,n;j("#zgs20_gsSearchResultRight").html(""),U.hideSearchPageLoader(),0===U.getRenderedAppsList("zgs20_gsAppsResults").length&&(t=U.getSearchType(),a=s||(U.searchErrorMsg?U.getI18NMsg(U.searchErrorMsg):U.getI18NMsg("gs.search.error.no_result_match_for_search")),r=s||U.searchErrorMsg?"":U.getI18NMsg("gs.search.error.no_result_match_for_search_try_different"),o="zgs19_gsTryDifferent zgs19_gsOverflow",i="",t==I.ORGRESOURCES&&(r=U.getI18NMsg("gs.search.error.no_result_feedback_form"),o="zgs19_gsFeedbackForm",i="zgs19_gsResultTitle",U.gsconnector.renderfeedbackForm()),n=U.isServiceHasFilter(t)?"zgs19_gsServiceSpecificPage":"zgs19_gsNonWidgetServicePage",U.isSettingsEnabled&&"all"!=t&&!U.getFilterObj(t)?.accounts?.accIdArr.length?(s=U.getMappedServiceList()[t],j("#"+e).append(j("<div>",{class:"zgs19_gsSettingRedirectHolder zgs19_gsOverflow",id:"zgs20_gsErrorMsgInAcc"}).append(j("<span>",{class:"zgs19_gsEnableMsgInSettings zgs19_gsfl"}).text(U.I18N.getValue("gs.search.enableAccInSettings",[U.widgetServiceList[t].label,s.displayName]))).append(j("<span>",{class:"zgs19_gsLinkElem zgs19_gsSettingsLink zgs19_gsfl",gs:"openAppInSettings",service:t}).text(U.getI18NMsg("gs.search.goToSettings"))))):j("#"+e).append(j("<div>",{class:n+" zgs19_gsOverflowAuto"}).append(j("<div>",{class:"zgs19_gsNoResults zgs19_gsOverflow"}).append(j("<span>").text(a))).append(j("<div>",{class:o}).append(j("<div>",{class:i}).text(r)))),U.searchErrorMsg="")},U.errorResultPage=function(e){var s=U.getSearchType(),t=U.getI18NMsg("gs.search.error.generic_error_messege"),a=U.isServiceHasFilter(s)?"zgs19_gsServiceSpecificPage":"zgs19_gsNonWidgetServicePage",s="";0<U.getRenderedAppsList("zgs20_gsAppsResults").length&&(t=U.getI18NMsg("gs.search.error.noresults_generic_error_messege"),s=j("<div>",{class:"zgs19_gsTryDifferent zgs19_gsOverflow"}).append(j("<span>").text(U.getI18NMsg("gs.search.error.tryagain_generic_error_messege")))),j("#"+e).append(j("<div>",{class:a+" zgs19_gsOverflowAuto"}).append(j("<div>",{class:"zgs19_gsNoResults zgs19_gsOverflow"}).append(j("<span>").text(t))).append(s));e=j("#"+e).outerHeight(!0)-j("div#zgs20_gsAppsTemplate").outerHeight(!0);j("."+a).css("height",e+"px")},U.clearOldSelectedEle=function(){var e=U.curSelectedEle;e&&j(e).css("background-color","#fff")},U.changeBGClass=function(e,s,t){e&&j(e).removeClass(s).addClass(t)},U.initialWeightage=function(e){U.iWeightage=e,U.weightServices=[]},U.finalWeightage=function(e){U.fWeightage=e,U.fillEmptySlots()},U.setWeightServices=function(e){U.weightServices.push(e),U.fillEmptySlots()},U.fillEmptySlots=function(){for(var e=U.fWeightage||{},s=U.enabledSubServicesList(U.getServiceList("serviceList")||[]),t=U.getSearchType(),a=U.weightServices.length,r=0;r<a;r++){var o,i,n,l=U.weightServices[r];e.hasOwnProperty(l)&&U.isArrayContain(l,s)&&I.ALL==t&&(l=U.isArrayContain(l,U.configured_mail_module)?U.mappedServiceList[l].originService:l,o=U.getTargetElem("zgs20_gs"+l+"Template"),i=j(o).attr("acc_id"),n=U.getShownResultCount(l,i),U.GSConstant.SALESFORCE,U.weightServices[r]="",e[l]>n&&(U.renderSearchResults(l,!0,!1,i),U.handleMoreOptionforWeightage(l,i,o),U.jqueryMouseEvent()))}},U.handleMoreOptionforWeightage=function(e,s,t){var a=U.enabledSubServicesList(U.getServiceList("serviceList")||[]);U.isArrayContain(e,a)&&U.getServiceResultCount(e,s)<=U.getShownResultCount(e,s)&&U.hideResMoreOption(t,e)},U.handleSSESearchResult=function(e){var s,t=U.getSearchType();I.ALL===t?(U.startResultTimer(),U.handleSearchResult(e)):U.multiPageEnabled||U.subMultiPageEnabled?(s=U.multiResultObj||{},j.isEmptyObject(s)&&(U.displayResultPage(),U.displayModuleResultPage(),U.renderFiltersInfoAction(t,"zgs20_gsModuleFilterList","")),U.scrollSearch?U.removeScrollLoader():U.setScrollTop(".zgs19_gsModuleScrollPage",0),U.processSearchResponse(e)):U.scrollSearch?(U.removeScrollLoader(),U.processSearchResponse(e)):(U.displayResultPage(),U.displayModuleResultPage(),U.renderFiltersInfoAction(t,"zgs20_gsModuleFilterList",""),U.processSearchResponse(e),U.setScrollTop(".zgs19_gsModuleScrollPage",0))},U.startResultTimer=function(){U.isBrowserSupportSSE&&(U.timerEnabled||(U.timerEnabled=!0,U.sseWaitingTime=!0,setTimeout(function(){U.sseWaitingTime=!1,U.isSearchViewTabOpened()&&(U.displayResultPage(),U.displayAllResultPage(),U.loadSSEHolderSearchResults())},I.timeoutSSE)))},U.loadSSEHolderSearchResults=function(){var e=U.sseHolder.length;if(0<e){for(var s=0;s<e;s++){var t=U.sseHolder[s];U.processSearchResponse(t)}U.sseHolder=[]}},U.handleSearchResult=function(e){U.sseWaitingTime?U.sseHolder.push(e):U.processSearchResponse(e)},U.handleNonSSESearchResult=function(e){U.gsversion.isBuildChanged(e)?(U.scrollSearch&&(U.accountUpdateForScroll=!0),U.firstResultCallOutShown=!0,U.curSelectedEle="",U.gsversion.handleVersionChanges(e)):U.toggleSearchResultsForNonSSE(e)},U.toggleSearchResultsForNonSSE=function(e){e.hasOwnProperty("nlp_tracer")&&(U.gsnlpsearch.storeNLPTracerData(e.nlp_tracer),delete e.nlp_tracer);var s,t=U.getSearchType();I.ALL===t?(U.displayResultPage(),U.displayAllResultPage(),e.hasOwnProperty("weightage")&&U.finalWeightage(e.weightage)):U.scrollSearch?U.removeScrollLoader():(s=U.multiResultObj||{},j.isEmptyObject(s)&&(U.displayResultPage(),U.displayModuleResultPage(),U.renderFiltersInfoAction(t,"zgs20_gsModuleFilterList",""))),U.processSearchResponse(e)},U.processSearchResponse=function(e){if(e.hasOwnProperty("results"))for(var s=e.results,t=s.length,a=0;a<t;a++){var r=s[a];if(1==r.response_code)for(var o=r.service,i=r.service_results,n=i.length,l=0;l<n;l++){var g=i[l],c=g.account_id;if(U.searchErrorMsg="gs.search.error.reload_error_message",!U.getFilterObj(o)||!U.getFilterObj(o).accounts)return;if(!U.isArrayContain(c,U.getFilterInfo(o,"accounts","accIdArr")))break;U.searchErrorMsg="",U.generateSearchResult(o,g)}}else e.hasOwnProperty("closeSSEAction")&&e.closeSSEAction&&U.closeConnection()},U.displayResultPage=function(){U.hideWelcomePage(),U.hideQuickActionsPage(),U.hideCalloutHolder(),j("#zgs20_gsSearchResultMiddle").css("display","block"),j("#zgs20_gsSearchResultRight").css("display","block"),j("#zgs20_gsResultsHolder").css("display","block")},U.displayModuleResultPage=function(){U.clearAndReturnCurrResultPage().style.display="block"},U.clearAndReturnCurrResultPage=function(){j("#zgs20_gsSearchResultRight").html("");var e=n.getElementById("zgs20_gsAllSearchResultPage");e.innerHTML="",e.style.display="none";var s=n.getElementById("zgs20_gsMultiSearchResultPage");s.innerHTML="",s.style.display="none";e=n.getElementById("zgs20_gsModuleSearchResultPage");return e.innerHTML="",e.style.display="none",j("#zgs20_gsModuleFilterList").hide(),U.multiPageEnabled||U.subMultiPageEnabled?s:e},U.updateCurrentAccountDetails=function(e,s,t,a){if(U.updateSpecificAccountDetails(e,s,t),U.isWidgetService(e)){var r,o,i,n=(t=t||{}).hasOwnProperty("account_name")?t.account_name:U.getAccountNameFromWidget(e,s);if(e===U.GSConstant.SUPPORT){if(s&&t.hasOwnProperty("department_id")){var l=t.department_id;U.updateFilterInfo(e,"accounts","current",s);for(var g=l.split(","),c=U.getFilterInfo(e,"departments","current").split(","),d=g.length,p=0;p<d;p++)if(!U.includes(g[p],c)){U.updateFilterInfo(e,"departments","current",l),c=U.getFilterInfo(e,"departments","current").split(",");break}var u=U.getFilterData(e,"accounts","data",s),h=0<c.length?U.getFilterData(e,"departments","data",c[0]):"";U.updateFilterInfo(e,"accounts","dispname",u),U.updateFilterInfo(e,"departments","dispname",h)}}else e===U.GSConstant.CRM||e===U.GSConstant.BIGIN?(U.storeServiceResultsAdditionalInfo(e,s,t),(i=U.getFilterInfo(e,"accounts","data"))&&(U.updateFilterInfo(e,"accounts","current",s),U.updateFilterInfo(e,"accounts","dispname",i[s])),(i=U.getFilterInfo(e,"modules","data"))&&""!=i&&i.hasOwnProperty(n)&&(U.updateFilterInfo(e,"modules","current",n),U.updateFilterInfo(e,"modules","dispname",i[n]))):e===U.GSConstant.SALESFORCE?(U.storeServiceResultsAdditionalInfo(e,s,t),a=void 0===a||a,(r=s||t.account_id||t.CONNECTOR_ID||t.acc_id)&&a&&(U.updateFilterInfo(e,"accounts","current",r),o=U.getFilterData(e,"accounts","data",r),U.updateFilterInfo(e,"accounts","dispname",o),(i=U.getFilterInfo(e,"modules","data")).hasOwnProperty(n)&&(U.updateFilterInfo(e,"modules","current",n),U.updateFilterInfo(e,"modules","dispname",i[n])))):e===U.GSConstant.WEBSITE?(I.rD=I.rD||t.rD,I.pId=I.pId||t.pId):e===U.GSConstant.ASANA?(r=s||t.account_id||t.CONNECTOR_ID||t.acc_id)&&(U.updateFilterInfo(e,"accounts","current",r),o=U.getFilterData(e,"accounts","data",r),U.updateFilterInfo(e,"accounts","dispname",o),(i=U.getFilterInfo(e,U.WS,"data")).hasOwnProperty(n)&&(U.updateFilterInfo(e,U.WS,"current",n),U.updateFilterInfo(e,U.WS,"dispname",i[n]))):e!=U.GSConstant.CAMPAIGNS&&(i=U.getWidgetServiceList(e),U.updateFilterInfo(e,i.key,"dispname",n||""),U.updateFilterInfo(e,i.key,"current",s||""))}},U.storeServiceResultsAdditionalInfo=function(e,s,t){var a;e===I.CRM||e===I.BIGIN?U.assignCRMMetaDetails(e,s,t):e===I.SALESFORCE&&(a=s||t.CONNECTOR_ID||t.acc_id||t.account_id,s=t.fields,U.setServiceResultsAdditionalInfo(e,a,t.modId,s))},U.setServiceResultsAdditionalInfo=function(e,s,t,a){U.service_addtional_info[e]=U.service_addtional_info[e]||{};var r=U.service_addtional_info[e][s]||{};r[t]=a,U.service_addtional_info[e][s]=r},U.getServiceResultsAdditionalInfo=function(e,s){return U.service_addtional_info[e][s]||{}},U.updateBooksModuleName=function(e,s){if(s)for(var t in U.booksModulesObj){t=U.booksModulesObj[t];if(t.key==s){U.updateFilterInfo(e,"searchin","dispname",t.value),U.updateFilterInfo(e,"searchin","current",t.key);break}}},U.storeResultObject=function(e,s,t,a){var r=0,o={},i=t.no_of_results,n=-1,l=0;e===U.GSConstant.CALENDAR&&(U.isCompleted=0<t.completed_no_of_results,U.isUpcoming=0<t.future_no_of_results),U.isCursorSupportedService(e)&&(i=t.total_no_of_results),e===U.GSConstant.CLIQ&&(U.chidVsMeta=j.extend({},U.chidVsMeta,t.chidVsMeta));var g=U.resultObject[e]||{},c=U.resultCount[e]||{},d=U.isArrayContain(e,U.account_based_filter_service_list)?U.getAccountType(e,s):"";if(U.isServiceHasMultiPortals(e))if(e===U.GSConstant.SALESFORCE||e==U.GSConstant.ASANA)U.storeMultiOrgModuleResults(e,s,t,a);else if(U.scrollSearch&&c.hasOwnProperty(s)&&g.hasOwnProperty(s)&&(r=c[s],o=g[s]),"1"===d){var r=c.hasOwnProperty(s)?c[s]:r,o=g.hasOwnProperty(s)?g[s]:{},p=t.module_id;r=r.hasOwnProperty(p)?r[p]:0,o=o.hasOwnProperty(p)?o[p]:{};for(var u=0;u<i;u++,r++)o[p+r]=a[u];U.storeMultiModuleResults(e,s,t,r,o,g,c)}else{for(u=0;u<i;u++,r++)o[e+r]=a[u];c[s]=r,g[s]=o,U.resultCount[e]=c,U.resultObject[e]=g}else if(e===U.GSConstant.CALENDAR){if(U.scrollSearch&&(U.isCompleted&&(n=U.resultCount[e+"_completed"],n*=-1,--n),U.isUpcoming&&(l=U.resultCount[e+"_future"]),o=U.resultObject[e]),U.isCompleted){for(u=0;u<t.completed_no_of_results;u++,n--)o[e+n]=a[u];n+=1}if(U.isUpcoming){u=0;for(U.isCompleted&&(u=t.completed_no_of_results);u<i;u++,l++)o[e+l]=a[u]}U.isCompleted&&(U.calendarScrollValue=85*(t.completed_no_of_results-1),U.resultCount[e+"_completed"]=-1*n),U.isUpcoming&&(U.resultCount[e+"_future"]=l),U.resultCount[e]=-1*n+l,U.resultObject[e]=o}else if(e===U.GSConstant.SALESFORCE||e===U.GSConstant.CAMPAIGNS||e===U.GSConstant.ASANA)U.storeMultiOrgModuleResults(e,s,t,a);else if(U.scrollSearch&&(r=U.resultCount[e],o=U.resultObject[e]),"1"===d){r=c.hasOwnProperty(s)?c[s]:r,o=g.hasOwnProperty(s)?g[s]:{};p=t.module_id;r=r.hasOwnProperty(p)?r[p]:0,o=o.hasOwnProperty(p)?o[p]:{};for(u=0;u<i;u++,r++)o[p+r]=a[u];U.storeMultiModuleResults(e,s,t,r,o,g,c)}else{for(u=0;u<i;u++,r++)o[e+r]=a[u];U.resultCount[e]=r,U.resultObject[e]=o}c=U.exIdsData||{};!t.exIds||0!==Object.keys(c).length||"connector"!==e&&"website"!==e||U.exIdsData.push(t.exIds)},U.storeMultiModuleResults=function(e,s,t,a,r,o,i){var n=t.module_id,t=i.hasOwnProperty(s)?i[s]:{};t[n]=a,i[s]=t;t=o.hasOwnProperty(s)?o[s]:{};t[n]=r,o[s]=t,U.resultCount[e]=i,U.resultObject[e]=o},U.storeMultiOrgModuleResults=function(e,s,t,a,r){var o=U.max_view_port_results_count;U.resetAccountMoreResObj(e,s);var i,n=a,l=n.length,g=U.resultObject[e]||{},c=U.resultCount[e]||{},d=U.storedServiceMod[e]||0,p=g[s]||{},u=c[s]||{},h=U.getSearchType(),_=e==U.GSConstant.ASANA?"workspaces":"modules",m=U.getCurrentValue(_,e);r&&(i=(new U.dashboardSearchActions).createActionType(),a=r.cardId,_=U.gscardinDb.getOriginalCardId(a),_=i.getCardObjInContext(_)||{},g=U.gscardsresult.cardResultsObj[a][e]||{},c=U.gscardsresult.cardResultsCount[a][e],h=(h=_.service||e)||U.GSConstant.ALL,p=g[s]||{},u=c||{},a=(U.gscardfilter.tempCardIdsVsObj.hasOwnProperty(a)?U.gscardfilter.tempCardIdsVsObj[a]:_).cardconfig,m=U.gscardinDb.getFilterVal(a,"module")||U.GSConstant.ALL,j.isEmptyObject(_)&&(m=t.modId)),h===U.GSConstant.ALL&&(o=U.fWeightage[e]||U.iWeightage[e]||U.defaultMaxCount);var z=U.isListViewSearch();if("all"!==m&&"0"!==m){var v={},f=0;g[s]&&((j.isEmptyObject(r)?"":U.cardScrollSearch[r.cardId])||U.scrollSearch)&&g[s]&&(v=p[m]||{},f=u[m]);for(var C=0;C<l;C++,f++)v[e+f]=n[C];p[m]=v,u[m]=f}else{var S=!1,b={},y={},I=0,O=0,P=t.modId,w=n,D=w.length;if(0<D)if(h===U.GSConstant.ALL||z||U.multiPageEnabled)if(U.multiPageEnabled&&d>=U.max_mod_count){for(S=!0,v={},C=0;C<D;C++)v[e+C]=w[C];b[P]=v,y[P]=Object.keys(v).length}else{U.storedServiceMod[e]=++d;for(var v={},E={},f=0,T=0,A=0,C=0;C<D;C++,f++)(r||(h!=U.GSConstant.CAMPAIGNS||"0"!=m&&"all"!=m)&&z)&&!U.multiPageEnabled&&h!==U.GSConstant.ALL?(v[e+C]=w[C],T++):T<U.max_mod_results_count&&0<o?(T++,o--,v[e+C]=w[C]):(E[e+C]=w[C],A++);0<T&&(p[P]=v,u[P]=T),0<A&&(S=!0,b[P]=E,y[P]=A)}else{for(var v={},M={},C=0;C<D;C++,f++)C<U.max_mod_results_count?(I++,v[e+C]=w[C]):(S=!0,O++,M[e+C]=w[C]);p[P]=v,u[P]=Object.keys(v).length,b[P]=M,y[P]=Object.keys(M).length}if(!z&&!U.multiPageEnabled&&I<U.max_view_port_results_count&&0<O){var F,N=U.max_view_port_results_count-I;for(F in b){if(N<0)break;var L,R=b[F],x=p[F]||{};for(L in R){if(N<0)break;x[L]=R[L],delete R[L],N--}p[F]=x,u[F]=Object.keys(x).length,b[F]=R,y[F]=Object.keys(R).length}}}d=U.resultObject[e]||{};d[s]=p;var k,P=U.resultCount[e]||{};P[s]=u,U.resultCount[e]=P,U.resultObject[e]=d,r&&((k={})[e]={},k[e][s]=p,U.gscardsresult.cardResultsObj[r.cardId]=k,U.gscardsresult.cardResultsCount[r.cardId][e]=u),S&&(U.moreResultObject=U.moreResultObject||{},(k=U.moreResultObject[e]||{})[s]=b,U.moreResultObject[e]=k,U.moreResultCount=U.moreResultCount||{},(k=U.moreResultCount[e]||{})[s]=y,U.moreResultCount[e]=k)},U.resetAccountMoreResObj=function(e,s){U.moreResultObject=U.moreResultObject||{},e&&U.moreResultObject[e]&&(s&&U.moreResultObject[e][s]&&(U.moreResultObject[e][s]={}),s&&U.moreResultCount[e][s]&&(U.moreResultCount[e][s]={}))},U.reArragegeResultsForWeightage=function(e,s,t){var a=U.getServiceResultObject(e,s),r=[];for(d in a)r.push(d);U.moreResultObject=U.moreResultObject||{};var o=(U.moreResultObject[e]||{})[s]||{},i=[];for(d in o){if(t<=0)break;var n,l=a[d]||{},g=o[d]||{};for(n in g){if(t<=0)break;t--,l[n]=g[n],i.push(n)}a[d]=l}var c=U.resultObject[e]||{};c[s]=a,U.resultObject[e]=c;var d,c=U.resultCount[e]||{},p={};for(d in a)p[d]=Object.keys(a[d]).length;c[s]=p,U.resultCount[e]=c},U.assignCRMMetaDetails=function(e,s,t){var a,r=t.modules_metadata||t.all_search;for(a in r){var o=r[a];U[e+"DataObj"][s]&&U[e+"DispObj"][s]&&U[e+"MandName"][s]||(U[e+"DataObj"][s]={},U[e+"DispObj"][s]={},U[e+"MandName"][s]={}),U[e+"DataObj"][s][e+"_"+a]||(U[e+"DataObj"][s][e+"_"+a]=o.search_data_type_columns,U[e+"DispObj"][s][e+"_"+a]=o.search_display_columns,U[e+"MandName"][s][e+"_"+a]=o.mand_col)}},U.checkUndefined=function(e){return void 0===e||"undefined"===e||"null"===e?"":e},U.addDefWelcomePageResult=function(e,s,t,a){var r=U.getFilterInfo(I.ORGRESOURCES,"accounts","mdefault"),o=s||"";I.ORGRESOURCES!=e||!U.isListViewSearch()||o!==r||"0"===(o=U.getCurrentValue("modules",e))&&void 0!==o&&"undefined"!==o&&t.no_of_results%U.fetchResCount==0&&(U.isDefWelAdded=!0,r=U.getI18NMsg("gs.search.service_connector.welcomepage_tagline"),o=U.getI18NMsg("gs.search.service_connector.welcomepage_header"),a.unshift({cpt:"0",title:o,summ:r,url:"https://ziasearch.zohosites.com"}),t.no_of_results+=1,U.total_no_of_results+=1,U.storeResultObject(e,s,t,a))},U.getAccountNameFromWidget=function(e,s){var t="",a="accounts";return t=""!==(a=e==U.GSConstant.CAMPAIGNS?"modules":a)?U.getFilterData(e,a,"data",s):t},U.updateCursorInfo=function(e,s,t,a,r){var o=s||t.account_id||"",i=t.no_of_results,s=t.cursor||("object"==typeof r?r.cursor:""),r=t.total_no_of_results||0,t={};t.cursor=s,t.total_no_of_results=r,t.no_of_results=i,a?U.service_cursor_info[a]=t:""!==o?(U.service_cursor_info[e]=U.service_cursor_info[e]||{},U.service_cursor_info[e][o]=t):U.service_cursor_info[e]=t},U.getCursorInfo=function(e,s){return""!==s?U.service_cursor_info[e][s]||{}:U.service_cursor_info[e]||{}},U.updateModuleCursorInfo=function(e,s,t){var a=s,s={};s.cursor=t;t={};t[a]=s,U.service_module_cursor_info=U.service_module_cursor_info||{},U.service_module_cursor_info[e]=t},U.getModuleCursorInfo=function(e,s){return((U.service_module_cursor_info[e]||{})[s]||{}).cursor||""},U.resetModuleCursorInfo=function(e,s){(U.service_module_cursor_info[e]||{})[s]={}},U.isCursorSupportedService=function(e){return-1<U.cursor_supported_services.indexOf(e)},U.handleSearchCall=function(e){"askZia"===U.selectedLeftPanelDivision?U.handleSearchForAskZia(e):U.newHandleUserSearchQuery(e)},U.newHandleUserSearchQuery=function(e){U.network.removeEventSource(),U.hideSearchPageLoader(),U.clearPrevSearchAction(),U.isIntegViewPage&&(U.hideIntegrationsPage(),""!=e&&e!=U.GSConstant.ALL||U.updateSearchType(U.GSConstant.ALL)),e=U.isCardPageOpened||U.isDashboardOpened||U.gsusersettings.isSettingsOpened?U.updateSearchPage():e,U.clearOldSearchData(e);var s=U.getQueryText();U.updateQueryBox(e,s),U.gshistory.updateSearchURLParams(e,s),U.gsautocomplete.storeRecentSearch(),U.displayDefaultPage(!0),U.showSearchPageLoader(),U.checkAndWaitForWidgetCall(U.renderSearchCallSuccessCase,U.renderSearchErrorCase)},U.checkAndWaitForWidgetCall=function(e,s){clearInterval(U.searchCallInterval),U.isWidgetDataFetched()?e():U.searchCallInterval=setInterval(function(){U.isWidgetDataFetched()?(clearInterval(U.searchCallInterval),e()):U.currentTimeMillis<U.MAX_LIMIT_FOR_WIDGET_CALL_WAIT?U.currentTimeMillis+=U.searchCallDelay:(clearInterval(U.searchCallInterval),s())},U.searchCallDelay)},U.isWidgetDataFetched=function(){return U.GSConstant.hasOwnProperty("widgetObject")&&U.GSConstant.widgetObject},U.renderSearchErrorCase=function(){U.network.abortOngoingCalls(),U.hideSearchPageLoader(),U.errorResultPage("zgs20_gsAllSearchResultPage")},U.renderSearchCallSuccessCase=function(){var e=U.formFinalSearchObj();e?(U.getNewSearchResults(e),U.isMobViewport()&&(U.isScrollDownwards=!1,j("#zgs20_gsSearchResultLeft").css("transform","translateY(0%)"),j(".zgs19_gsSearchResultMiddle").css("transform","translateY(0px)"))):U.renderSearchErrorCase()},U.updateSearchPage=function(){U.handleSearchTabUIAction();var e=U.searchObj,s=e.service,t=U.getCurrentQueryCriteria("service");return t&&s!==t?(s=U.includes(t,U.getEnabledServiceList())?t:I.ALL,U.updateSearchType(s)):(s=U.includes(s,U.getEnabledServiceList())?s:I.ALL,U.updateSearchType(s),s!=I.ALL&&(U.searchObj=Object.assign({},e))),U.gshistory.updateSearchURLParams(s,U.getQueryText()),U.gsfilters.checkFiltersAppliedOrNot(),j("#zgs20_gsSearchResultMiddle").show(),j("#zgs20_gsSearchResultRight").show(),U.setSizeForRespectiveResultsArea(),s},U.updateQueryBox=function(e,s){var t=U.getCurrentQueryCriteria("services"),a=U.isURLParamsSearch?U.getMappedServiceList():U.gsautocomplete.get("services");a.hasOwnProperty(e)&&t!==e&&(U.isQueryHasServiceCriteria()||!s&&!U.isQueryHasUserCriteria()||U.isURLParamsSearch)&&(t=U.isURLParamsSearch?a[e].displayName:a[e],(a={}).services={name:t,services:e},U.isURLParamsSearch&&(a.query1={name:s},U.emptySearchBoxValues()),U.renderQuerySpanElement(a),U.handleSearchCloseIcon())},U.formFinalSearchObj=function(s,t,a){let r={};var o=U.getFilterConfig();if(o){var i=o.service;r={search_type:i,no_of_results:U.fetchResCount},t&&(r.scroll_type=t),a&&U.isCursorSupportedService(i)&&(r.cursor=a),U.ismultiConfigEnabled&&(I.ALL===i||U.multiPageEnabled)&&(r.startSet=U.multiStartSet);let e=o.filterconfig||[];s?(["connector","website"].includes(i)&&0<Object.keys(U.exIdsData).length&&e.push({name:"ex_id",value:U.exIdsData}),r={...r,is_scroll:!0,start:s}):(U.exIdsData=[],r.is_scroll=!1),0<e.length&&(r.query_object=encodeURIComponent(JSON.stringify(e)));s=o.advanceconfig||[];return 0<s.length&&(r.adv_query_object=encodeURIComponent(JSON.stringify(s)),r.querypattern=o.querypattern||""),r}},U.getSearchParameters=function(e){let s="";for(var t in e)s&&(s+="&"),s+=t+"="+e[t];var a;return I.nlpSearchEnabled&&(U.GSConstant.isAskZiaTabEnabled&&"askZia"===U.selectedLeftPanelDivision?s+="&nlpsearch=true":U.GSConstant.isAskZiaTabEnabled||(a=n.getElementById("zgs20_gsNLPSearchEnabled"))&&!a.disabled&&a.checked&&(s+="&nlpsearch=true")),s+=U.getServiceListAndWidgetIdsURL(!1)+U.getBuildDetails()+"&__T="+(new Date).getTime(),U.isExtension&&(s+="&api_consumer=zgs-ex"),s},U.getNewSearchResults=function(e){U.searchParamObj=e;var s=U.getSearchType(),e=U.getWidgetServiceList(s);U.updateMultiPageAndSubPageFlag(s,e.key),U.renderFiltersInfoAction(s),U.isArrayContain(s,U.handlebarDependentService)&&!U.isHandlebarLoaded()&&((new ZSHandlebarsResource).load(),U.handlebarsErrShown=!1,U.waitForHandlebarLoad=!1),U.isSearchCallActive=!0,U.network.abortOngoingCalls(),U.scrollSearch||(U.disablingSSIcon(),U.showSearchPageLoader());var t,e=U.getSearchParameters(U.searchParamObj);!U.isPostSearchAPIEnabled&&U.isSSECallNeeded(s)?(t=U.domainURL+"?"+e,U.network.getSearchResultsForSSE(t)):(s=U.getserviceresultsURL,t=U.isPostSearchAPIEnabled?U.POST:U.GET,U.getSearchResultsForNonSSE(t,s,e))},U.isMultiSelectResults=function(e,s,t){var a=U.searchObj;return a.hasOwnProperty(s)&&e===a.service?U.checkContextFiltersAppliedOrNot(s,t):U.getFilterInfo(e,s,"default")===t},U.updateMultiPageAndSubPageFlag=function(e,s){U.updateMultiPageFlag(e,s),U.checkAndUpdateSubMultiPageFlag(e)},U.updateSubMultiPageFlagNoWidgetData=function(e){e===U.GSConstant.MAILS&&(e=U.getCurrentValue("accounts",e),U.multiPageEnabled||"0"!==e||U.updateSubMultiPageFlag("0"))},U.checkAndUpdateSubMultiPageFlag=function(e){var s;e===U.GSConstant.MAILS&&("search"===U.selectedLeftPanelDivision?(s=U.getCurrentValue("accounts",e),e=U.getAccountType(e,s)||"0",s=(s=U.getCurrentValue("modules"))&&"1"===e?s[0]:"",U.updateSubMultiPageFlag(s)):U.subMultiPageEnabled=!1)},U.generateSearchResult=function(e,s){U.gsautocomplete.isAutoSuggDisplay&&U.removeQuerySugg();var t=U.getServiceList("serviceList")||[],a=s.response_code;if(1==a)if(U.isArrayContain(e,U.handlebarDependentService)&&U.isArrayContain(e,t)&&!U.isHandlebarLoaded())U.waitForHandlebarLoad?U.handlebarsErrShown||(a=U.multiPageEnabled||U.subMultiPageEnabled?"zgs20_gsMultiSearchResultPage":"zgs20_gsModuleSearchResultPage",U.zeroResultsPage(a,U.getI18NMsg("gs.search.error.reload_error_message")),U.multiPageEnabled&&(U.handlebarsErrShown=!0)):setTimeout(function(){U.waitForHandlebarLoad=!0,U.generateSearchResult(e,s)},2e3);else if(e===I.NOTEBOOK&&U.isArrayContain(e,t)&&!U.isNotebookComponentLoaded)U.loadNotebookComponent(function(){U.generateSearchResult(e,s)});else{var r=s.hasOwnProperty("account_id")?s.account_id:"";if(s.hasOwnProperty("account_results")){var o=s.account_results,i=o.length,n=U.getSearchType(),l=U.isArrayContain(e,U.configured_mail_module)?U.mappedServiceList[e].originService:e;e===U.GSConstant.MAILS&&U.updateSubMultiPageFlagNoWidgetData(e),!U.multiPageEnabled&&1<i&&n!==U.GSConstant.ALL&&U.isArrayContain(l,U.account_based_filter_service_list)&&U.displayModuleResultPage();for(var g=0;g<i;g++){var c=o[g],d=c.meta_data,p=c.result_objects;if("appsearch"===e){U.onSuccessRelatedProducts(c);break}var u=d.no_of_results,h=d.hasOwnProperty("module_id")?d.module_id:"",_=d.hasOwnProperty("modId")?d.modId:"";if(e==U.GSConstant.ASANA){U.searchErrorMsg="gs.search.error.reload_error_message";var m=U.getFilterInfo(e,"workspaces","data");if(!m||j.isEmptyObject(m)||!m[r])return;if("object"!=typeof m[r]||!m[r].hasOwnProperty(_))return;U.searchErrorMsg=""}m=u,_=U.getCurrentValue("modules",e);e==I.SALESFORCE&&"all"===_&&(m=i),U.hasSearchResults(m),c.account_id=r,U.setResponseObject(e,r,c,d);_=U.enabledSubServicesList(U.getServiceList("serviceList")||[]);U.updateCursorInfo(e,r,d),U.includes(e,U.cursorSupportedCloudServices)&&(U.cursorObj[r]=U.getCursorInfo(e,r)),e!==U.GSConstant.SALESFORCE&&e!==U.GSConstant.ASANA||U.updateModuleCursorInfo(e,r,s.cursor);c=d.account_name||U.getAccountNameFromWidget(e,r);if(c&&(d.account_name=c),0<u&&U.isArrayContain(e,_)){U.storeResultObject(e,r,d,p),U.iterResultObjData(e,r,d);_=U.isArrayContain(e,U.account_based_filter_service_list)?U.getAccountType(e,r):"";if(U.multiPageEnabled||U.subMultiPageEnabled||n==U.GSConstant.ALL&&U.isServiceHasMultiPortals(e)){e===U.GSConstant.SALESFORCE&&U.updateCurrentAccountDetails(e,r,d,!1),e!==U.GSConstant.BIGIN&&e!==U.GSConstant.CRM||U.assignCRMMetaDetails(e,r,d);var z,v=U.isMultiDefaultAccount(e,r),f=U.multiResultObj[e]||[],C=!1;for(z in f)r==f[z].account_id&&(C=!0);C||(v?f.unshift(s):f.push(s),"1"===_&&(U.isArrayContain(h,U.mail_module_subset)||U.mail_module_subset.push(h))),U.updateSpecificAccountDetails(e,r,d),"1"===_&&(U.isArrayContain(h,U.mail_module_subset)||(U.mail_module_subset.push(h),f.push(s))),U.multiResultObj[e]=f;var S,b,y;m==g+1||U.GSConstant.SALESFORCE,v&&(S=r,b=d,y=p,U.isArrayContain(e,U.multiModServices)||U.renderSingleMultiResults(e,r,d,p))}else U.moduleRenderedInAllApps[e]||(l=U.isArrayContain(e,U.configured_mail_module)?U.mappedServiceList[e].originService:e,v=e,h=d.module_id,U.isArrayContain(l,U.account_based_filter_service_list)&&"1"===_&&(U.isArrayContain(h,U.mail_module_subset)||U.mail_module_subset.push(h),v=h),U.scrollSearch?(U.isScrollSearchResults=!0,!U.accountUpdateForScroll&&l!==U.GSConstant.CRM&&l!==U.GSConstant.BIGIN||(U.updateCurrentAccountDetails(l,r,d),U.accountUpdateForScroll=!1),l===U.GSConstant.CRM&&U.assignCRMMetaDetails(l,r,d),l===U.GSConstant.SALESFORCE&&U.storeServiceResultsAdditionalInfo(l,r,d)):(U.updateCurrentAccountDetails(l,r,d),U.renderFiltersInfoAction(e),U.createServiceTemplate(v,r,d),U.addDefWelcomePageResult(l,r,d,p)),U.renderSearchResults(v,!1,!1,r),n!=U.GSConstant.ALL||e!=U.GSConstant.SALESFORCE&&e!=U.GSConstant.CAMPAIGNS||0!=g||(U.moduleRenderedInAllApps[e]=!0),U.jqueryMouseEvent())}else U.scrollSearch&&(U.noMoreResults=!0)}(U.multiPageEnabled||n==U.GSConstant.ALL)&&U.isArrayContain(e,U.multiModServices)&&S&&U.renderSingleMultiResults(e,S,b,y),U.storedServiceMod[e]=0}}},U.renderMultiResults=function(){var e=U.getSearchType(),s=U.multiResultObj||{};if(U.GSConstant.ALL==e)for(var t in s)U.renderInnerMultiResults(s,t,1);else if(U.isArrayContain(e,U.account_based_filter_service_list)&&!U.multiPageEnabled&&s.hasOwnProperty(e)||U.resultCount.hasOwnProperty(e)){var a=[],r=[],o=[],i="",n=U.gFilterData[e],l=n&&n.accounts?U.getCurrentValue("accounts",e):"";if("1"===U.getAccountType(e,l)){n.hasOwnProperty("enabled_mod_list")?(i="0"!==(n=U.getCurrentValue("modules",e))?n:"")?(n=U.getServiceResultCount(i,l),U.getShownResultCount(i,l)<n&&a.push(i)):a=U.configured_mail_module:U.isArrayContain(e,a)||a.push(e);for(var g=a.length,c=0;c<g;c++){var d=a[c]+l,p=U.getResponseObject(d),d=p||U.multiResultObj[d];d&&r.push(d)}0<r.length&&(o[e]=r,U.renderInnerMultiResults(o,e,g))}else U.multiPageEnabled&&s.hasOwnProperty(e)&&U.renderInnerMultiResults(s,e)}else U.multiPageEnabled&&s.hasOwnProperty(e)&&U.renderInnerMultiResults(s,e);U.openFirstResultCallout()},U.renderInnerMultiResults=function(e,s,t){var a=e[s]||[],r=a.length;if(r){t=t||r;for(var o=0;o<r&&o<t;o++){var i=a[o],n=i.account_id;if(i.hasOwnProperty("account_results"))for(var l=i.account_results,g=l.length,c=0;c<g;c++){var d=l[c],p=d.meta_data,d=d.result_objects;U.renderSingleMultiResults(s,n,p,d)}else U.renderSingleMultiResults(s,n,i.meta_data,i.result_objects)}}else U.renderSingleMultiResults(s,a.account_id,a.meta_data,a.result_objects)},U.renderSingleMultiResults=function(e,s,t,a){var r=U.isArrayContain(e,U.configured_mail_module)?U.mappedServiceList[e].originService:e,o=U.multiResulList[r]||[],i=(t.hasOwnProperty("module_id")?t.module_id:e)+(s||t.account_id||t.CONNECTOR_ID);U.isArrayContain(r,U.account_based_filter_service_list)&&e==U.GSConstant.MAILS&&(e=t.module_id),U.isArrayContain(i,o)||(U.multiResCount++,o.push(i),U.multiResulList[r]=o,U.createServiceTemplate(e,s,t),U.addDefWelcomePageResult(e,s,t,a),U.renderSearchResults(e,!1,!1,s),U.jqueryMouseEvent())},U.handleResizeForMultiPortalPage=function(){var e,s,t,a,r,o;(U.multiPageEnabled||U.subMultiPageEnabled)&&(o="zgs20_MultiSearchPageHolder",e=U.getSearchType(),s=U.isArrayContain(e,U.configured_mail_module)?U.mappedServiceList[e].originService:e,t=U.gFilterData[s],a=U.getCurrentValue("accounts",e),"1"===(U.isArrayContain(s,U.account_based_filter_service_list)?U.getAccountType(s,a):"")&&(!t.hasOwnProperty("enabled_mod_list")||"all"!==(r=U.getCurrentValue("modules",e))&&(o="zgs20_gs"+r+"Template")),U.setServiceResPaneHeight(o),r=U.getSearchType(),o=U.multiResultObj||{},U.renderMultiMorePageOption(o,r))},U.getMoreResultCount=function(e,s){var t=0;s=s||"",U.moreResultCount=U.moreResultCount||{};var a,r=U.moreResultCount[e];for(a in r)if(""===s||s===a){var o,i=r[a];for(o in i)t+=i[o];if(s===a)break}return t},U.getRenderedResultCount=function(e,s){var t=0;s=s||"",U.resultCount=U.resultCount||{};var a,r=U.resultCount[e];for(a in r)if(""===s||s===a){var o,i=r[a];for(o in i)t+=i[o];if(s===a)break}return t},U.renderModuleResults=function(e){e===U.GSConstant.SALESFORCE&&"all"!==U.getCurrentValue("modules",e)&&U.renderResultsForViewPort(e)},U.renderAccountResults=function(e,s){if(e===U.GSConstant.SALESFORCE){U.moreResultObject=U.moreResultObject||{};var t=U.moreResultObject[e];if(t){var a=t[s],r=U.resultObject[e][s],o=U.resultCount[e][s];if(0<U.getMoreResultCount(e,s)){for(var i in a){var n,l=a[i],g=r[i]||{};for(n in l)g[n]=l[n];0<Object.keys(g).length&&(r[i]=g,o[i]=Object.keys(g).length)}U.resetAccountMoreResObj(e,s)}}}},U.renderResultsForViewPort=function(e){if(e===U.GSConstant.SALESFORCE){if(0<U.getMoreResultCount(e)){var s=U.getRenderedResultCount(e);if(s<U.max_view_port_results_count){U.console.log(e+" Render more results for view port");var t=U.max_view_port_results_count-s;U.moreResultObject=U.moreResultObject||{};var a=U.moreResultObject[e];for(m in a){var r=U.resultObject[e][m],o=U.resultCount[e][m],i=a[m];if(U.multiPageEnabled)for(var n in i){var l={};if(!r[n]){var g=0;for(c in d=i[n])g<U.max_mod_results_count&&(l[c]=d[c],g++,t--),r[n]=l,o[n]=Object.keys(l).length}}if(0<t)for(var n in i){var c,d=i[n],l=r[n]||{};for(c in d){if(t<=0)break;l[c]=d[c],t--}if(0<Object.keys(l).length&&(r[n]=l,o[n]=Object.keys(l).length),t<=0)break}if(t<=0)break}for(var p=U.multiResultObj[e],u=p.length,h=0;h<u;h++)for(var _=p[h],m=_.account_id||_.CONNECTOR_ID||_.acc_id,z=_.account_results.length,v=0;v<z;v++)U.renderSearchResults(e,!1,!1,m);s=j("#zgs20_MultiSearchPageHolder >div")[0],s=j(s).find(".zgs19_gsSearchResultTable")[0];U.changeBGClass(U.curSelectedEle,"zgs19_gsSelectedElem","zgs19_gsUnSelectedElem"),U.changeBGClass(s,"zgs19_gsUnSelectedElem","zgs19_gsSelectedElem")}}U.Utils.setServiceModResultsWidth(e)}},U.hasVerticalScrollBar=function(e){var s=!1,e=U.getTargetElem(e);return s=e?e.scrollHeight>e.clientHeight:s},U.renderMultiMorePageOption=function(e,s){var t,a,r;U.multiPageEnabled&&(U.hasVerticalScrollBar("zgs20_MultiSearchPageHolder")||(t=e[s]||[],a=U.getWidgetServiceList(s),a=(e=U.getFilterInfo(s,a.key,"accIdArr")).length-1,0<(e=U.getMultiPageIndex(s,e,t))&&e<a&&0<U.multiResCount&&U.multiStartSet!=(r=(e+e%2)/2)?U.handleMultiPageScroll(s,r):U.weightageForMultiPage(s,t),U.jqueryMouseEvent()))},U.renderSubMultiMorePageOption=function(e){if(U.mappedServiceList[e]){var s=U.gFilterData.hasOwnProperty(e)?U.gFilterData[e]:"";if(s)for(var t=s.hasOwnProperty("accounts")?U.getCurrentValue("accounts",e):"",a=U.resultToBeShown.hasOwnProperty(e)?U.resultToBeShown[e][t]:[],r=!0;r;){var o=!1;if(!U.hasVerticalScrollBar("zgs20_MultiSearchPageHolder"))for(var i=a?Object.keys(a):[],n=i.length,l=0;l<n;l++){var g,c=i[l];a[c]<U.getServiceResultCount(c,t)&&(U.renderSearchResults(c,o=!0,!1,t),g=U.getTargetElem("zgs20_gs_"+c+"_"+t+"Template"),U.handleMoreOptionforWeightage(c,t,g))}r=o}}},U.getMultiPageIndex=function(e,s,t){var a=[];if(-1<U.getEnabledCloudApps().indexOf(e)){var r=t.length;if(s.length-1>r){for(var o=!1,i=0;i<r;i++)if((n=t[i]).account_id!==s[i+1]){o=!0;break}if(o){a.push("0");for(i=0;i<r;i++){var n=t[i];a.indexOf(n.account_id)<=-1&&a.push(n.account_id)}for(var l=s.length,i=0;i<l;i++)a.indexOf(s[i])<=-1&&a.push(s[i])}}}return a.length<=0&&(a=s),U.getSearchedMultiPageIndex(e,t,a)},U.getSearchedMultiPageIndex=function(e,s,t){for(var a=-1,r=s.length,o=0;o<r;o++)var i=s[o],i=i.account_id||i.CONNECTOR_ID,i=t.indexOf(i),a=i<a?a:i;return U.isArrayContain(e,U.account_based_filter_service_list)&&U.gFilterData[e].all_mod_list&&1<U.gFilterData[e].all_mod_list.length&&a--,a},U.weightageForMultiPage=function(e,s){if(U.multiPageEnabled)for(var t=!0;t;){var a=!1;if(!U.hasVerticalScrollBar("zgs20_MultiSearchPageHolder"))for(var r=s.length,o=0;o<r;o++)for(var i=s[o],n=i.account_id||"",l=i.account_results,g=0;g<l.length;g++){var c=l[g].meta_data;e=c.hasOwnProperty("module_id")?c.module_id:e;var d=c.no_of_results,d=(d=e===I.SALESFORCE?c.hasOwnProperty("cursor")?c.cursor:l.length:d)||0;U.getShownResultCount(e,n)<d&&(U.renderSearchResults(e,a=!0,!1,n),d=U.getTargetElem("zgs20_gs"+n+"Template"),U.handleMoreOptionforWeightage(e,n,d))}t=a}},U.getResObjByAccId=function(e,s,t){var a={},r=(U.multiResultObj||{})[U.isArrayContain(e,U.configured_mail_module)?U.mappedServiceList[e].originService:e]||[],o=r.length;if(0<o)for(var i=0;i<o;i++){var n=r[i],l=n.account_id||n.CONNECTOR_ID||n.acc_id;if(t)if(n.account_results[0].meta_data.module_id===t){a=n;break}if(l==s){a=n;break}}return a},U.loadSearchResults=function(e,s,t){var a=U.getAccountType(e,s),r=U.isArrayContain(e,U.configured_mail_module)?U.mappedServiceList[e].originService:e,a=U.isArrayContain(r,U.account_based_filter_service_list)?U.getAccountType(r,s):"",o=j(t).attr("module_name")||"";U.multiPageEnabled||"1"!==a||(U.resultToBeShown[r]=0),U.gshistory.updateSearchURLParams(r),e==I.MAILS&&"1"===a&&""!==o&&(t=U.getCurrentValue("modules",r),U.updateSubMultiPageFlag(t)),U.displayResultPage(),U.displayModuleResultPage(),U.multiPageEnabled||U.subMultiPageEnabled||"1"===a?(U.renderFiltersInfoAction(r),U.renderMultiResults(),a=U.multiResultObj||{},U.renderMultiMorePageOption(a,e),U.subMultiPageEnabled&&U.renderSubMultiMorePageOption(r)):(U.renderFiltersInfoAction(e),U.createServiceTemplate(e),e===U.GSConstant.SALESFORCE&&U.renderAccountResults(e,s),U.renderSearchResults(e,!1,!1,s,o)),e!==U.GSConstant.CALENDAR&&U.setScrollTop(".zgs19_gsModuleScrollPage",0),U.jqueryMouseEvent()},U.getSpecificResultsObject=function(e,s,t){return s!==U.GSConstant.SALESFORCE&&s!==U.GSConstant.ASANA&&s!==U.GSConstant.CAMPAIGNS||!t?e:e[t]},U.findPosY=function(e,s){var t=0;if(e)if(e.offsetParent){for(;null!=e&&e.offsetParent!=s;)t+=e.offsetTop,e=e.offsetParent;0==t&&(t+=e.offsetTop)}else e.y?t+=e.y:t+=e.offsetTop;return t},U.findPosX=function(e,s){var t=0;if(e)if(e.offsetParent){for(;null!=e&&e.offsetParent!=s;)t+=e.offsetLeft,e=e.offsetParent;0==t&&(t+=e.offsetLeft)}else e.x?t+=e.x:t+=e.offsetLeft;return t},U.hasOwnProperty("onSuccessFunction")&&U.hasOwnProperty("serviceList")&&U.loadResultsFromHolder(),U.showBiggerSearch=function(){j("#zgs20_globalsearch").show(),U.focusForWeb("zgs20_gsQueryBox"),j("#zgs20_zohosearchLoader").hide()},U.resetZiaMobileResultArea=function(){var e=j("#zgs20_gsSearchResultRight").css("display"),s=j("#zgs20_gsSearchResultMiddle").css("display");"block"!=e&&"block"!=s||(U.isMobViewport()?(U.changeBGClass(U.curSelectedEle,"zgs19_gsSelectedElem","zgs19_gsUnSelectedElem"),U.firstResultCallOutShown=!1,U.curSelectedEle="",j("#zgs20_gsSearchResultMiddle").css("display","block"),j("#zgs20_gsSearchResultMiddle").css("width","100%"),j("#zgs20_gsSearchResultRight").css("display","none")):(j("#zgs20_gsSearchResultMiddle").css("display","block"),j("#zgs20_gsSearchResultRight").css("display","block"),j(".zgs19_gsCalloutActionMob").css("display","none"),j(".zgs19_gsMobDisableFields").css("display","block"),U.isScrollDownwards=!1,j("#zgs20_gsSearchResultLeft").css("transform","translateY(0%)"),j(".zgs19_gsSearchResultMiddle").css("transform","translateY(0px)")))},U.resetZiaMobileCalloutArea=function(){var e=j("#zgs20_gsSearchResultRight").css("display"),s=j("#zgs20_gsSearchResultMiddle").css("display");"block"!==e&&"block"!==s||U.isMobViewport()||U.curSelectedEle||0===U.total_no_of_results||U.openFirstResultCallout()},U.getLHSServicePaneHeight=function(){return"ZW"===l.pcode&&(l.isWPSmartViewEnabled||U.isWPSmartViewEnabledinZia)?0:j("#zgs20_gsSearchResultLeft").height()},U.getWMSBarHeight=function(){return U.isMobViewport()||!U.ziaProperties.isPropertyNeeded("isWMSneeded")?0:j("#wmstoolbar").height()||28},U.getResultAreaWidth=function(){return j("#zgs20_gsSearchResultMiddle").width()+1},U.setCalloutPreviewPosition=function(){var e=l.isResizeEnabled()?U.getLHSServicePaneWidth():"auto",e=U.isMaxCalloutOpen?e:U.getResultAreaWidth();U.isMaxCalloutOpen?j("#zgs20_gsSearchResultRight").css("inset-inline-start","0px !important"):(j("#zgs20_gsSearchResultRight").css("inset-inline-start",e+"px"),e=U.getSizeForResultsArea(),j("#zgs20_gsSearchResultMiddle").css("width",e.resultsAreaW+"px"),j("#zgs20_gsSearchResultRight").css("width",e.calloutAreaW+"px"))},U.setSearchBoxSegmentSize=function(){var e,s,t,a,r,o=j(".zgs19_gsqryinnerdiv").outerWidth(!0);0<o&&(r=j("#zgs20_gsQueryCloseBox").outerWidth(!0),e=j("#zgs20_gsSSIconHolder").is(":visible")?j("#zgs20_gsSSIconHolder").outerWidth(!0):0,a=j(".zgs19_gsnlpZia").is(":visible")?j(".zgs19_gsnlpZia").outerWidth(!0):0,t=(s=j("#zgs20_gsFilterIconHolder")).is(":visible")?s.outerWidth(!0):0,U.sQueryBoxWid=o-(a=e+a+t),r=o-(r+a),s.css("inset-inline-end",a-t),j("#zgs20_gsQueryCloseBox").css("inset-inline-end",a),j("#zgs20_gsQueryBox, #zgs20_gsQuerySpanBox").css("width",r).trigger("resize"),j("#zgs20_gsSuggestionDiv").css("width",r))},U.isWPSmartViewPort=function(){if("ZW"!==l.pcode||!l.isWPSmartViewEnabled&&!U.isWPSmartViewEnabledinZia)return!1;var e=j("#zgs20_globalsearch").is(":visible")?j("#zgs20_globalsearch").width():0;return U.isWPSmartViewEnabledinZia=0!=e&&e<=768,l.isWPSmartViewEnabled||U.isWPSmartViewEnabledinZia},U.switchWPSmartView=function(e,s){void 0!==s?U.isWPSmartViewEnabledinZia=s:l.isWPSmartViewEnabled=e,U.isSmartViewServicePaneOpened=!1,l.isWPSmartViewEnabled||U.isWPSmartViewEnabledinZia?(U.isWPSmartViewEnabledComponent||(U.isWPSmartViewEnabledComponent=!0,t=j("<div>",{class:"zgs18_gsSVLHSArrow zgs19_gsDisplayNone",gs:"hideSVLHSServices"}),j(t).insertAfter("#zgs20_gsSearchResultLeft"),a=j("<div>",{id:"zgs20_gsSVOverlayDialog",class:"zgs19_gsSVOverlayDialog zgs19_gsDisplayNone",gs:"hideSVLHSServices"}),j(a).insertBefore("#zgs20_gsSearchTopBandHolder")),j("#zgs20_globalsearch").addClass("zgs19_gsWPSmartView")):j("#zgs20_globalsearch").removeClass("zgs19_gsWPSmartView");var t=U.getSizeForResultsArea();j("#zgs20_gsSearchResultMiddle").css("width",t.resultsAreaW+"px"),j("#zgs20_gsSearchResultRight").css("width",t.calloutAreaW+"px"),U.setCalloutPreviewPosition();t=U.getSizeForResultsArea();U.setResultPreviewWidth(t.resultAndCalloutAreaW,t.calloutAreaW),U.setSearchBoxSegmentSize(),j("#zgs20_gsQuerySugg").css("margin-inline-start",j(".zgs19_gsqryinnerdiv").position().left);var a=j("#zgs20_gsHolder").height()-j("#zgs20_gsSearchTopBandHolder").outerHeight(!0);j("#zgs20_gsSearchResultsArea").css({width:t.resultAndCalloutAreaW+"px",height:a+"px"}),j("#zgs20_gsResultsHolder").css("height",a+"px"),U.resetZiaMobileResultArea(),U.resetZiaMobileCalloutArea()},U.toggleSmartViewServicePane=function(e){U.isSmartViewServicePaneOpened=e,U.isSmartViewServicePaneOpened?(j(".zgs18_gsSVLHSArrow").removeClass("zgs19_gsDisplayNone").addClass("zgs19_gsDisplayBlock"),j("#zgs20_globalsearch").addClass("zgs19_gsSmartViewServices")):(j(".zgs18_gsSVLHSArrow").removeClass("zgs19_gsDisplayBlock").addClass("zgs19_gsDisplayNone"),j("#zgs20_globalsearch").removeClass("zgs19_gsSmartViewServices"))},U.handlerWPMobileSmartView=function(){var e;2!==l.UIType&&("ZW"===l.pcode&&U.isWPSmartViewPort()?(j("#zgs20_globalsearch").addClass("zgs19_gsWPSmartView"),0!=(e=j("#zgs20_globalsearch").is(":visible")?j("#zgs20_globalsearch").width():0)&&e<=768?j("#zgs20_globalsearch").addClass("zgs19_gsWPMobileSmartView"):j("#zgs20_globalsearch").removeClass("zgs19_gsWPMobileSmartView"),U.switchWPSmartView(!0,!0)):(j("#zgs20_globalsearch").removeClass("zgs19_gsWPMobileSmartView").removeClass("zgs19_gsWPSmartView"),U.switchWPSmartView(!1,!1)))},U.setEmbedZOSElemSize=function(){var e=l.uiPosition(),s=e.hasOwnProperty("left")?e.left+" !important; ":"",t=e.hasOwnProperty("right")?e.right+" !important; ":"",a=e.hasOwnProperty("top")?e.top+" !important; ":"",r=e.hasOwnProperty("height")?e.height:"",o=e.hasOwnProperty("width")?e.width:"",i=e.hasOwnProperty("margin-top")?e["margin-top"]:"",e=e.hasOwnProperty("margin-left")?e["margin-left"]:"";2===l.UIType?j("#zgs20_gsHolder").css("cssText","left: "+s+" !important; top: "+a+"margin-top: 0px !important; margin-left: 0px !important;"):(j("#zgs20_gsHolder").css("inset-inline-start",s),j("#zgs20_gsHolder").css("inset-inline-end",t),j("#zgs20_gsHolder").css("inset-block-start",a),j("#zgs20_gsHolder").css("margin-block-start",i),j("#zgs20_gsHolder").css("margin-inline-start",e)),j("#zgs20_gsHolder").css("height",r),j("#zgs20_gsHolder").css("width",o),U.handlerWPMobileSmartView();s=U.getLHSServicePaneWidth(),t=(0===j("#zgs20_gsHolder").width()?parseInt(o.replace("px","")):j("#zgs20_gsHolder").width())-s,i=t-(a=j("#zgs20_gsSearchResultMiddle").width());if(4===l.UIType){var e=parseInt(j("#zgs20_gsSearchResultMiddle").css("max-width").replace("px",""))||0,o=parseInt(j("#zgs20_gsSearchResultMiddle").css("min-width").replace("px",""))||0,n=parseInt(j("#zgs20_gsSearchResultRight").css("min-width").replace("px",""))||0,s=Math.floor(.4*t),a=s<=e?s<o?o:s:e;if("ZW"===l.pcode&&i<n)return void U.switchWPSmartView(!0,!0);i=n<(i=t-a)?i:n}n=i,i=U.isMaxCalloutOpen?t:i;j("#zgs20_gsSearchResultMiddle").css("width",a+"px"),j("#zgs20_gsSearchResultRight").css("width",i+"px"),U.setCalloutPreviewPosition(),U.setResultPreviewWidth(t,n),U.setSearchBoxSegmentSize(),j("#zgs20_gsQuerySugg").css("margin-inline-start",j(".zgs19_gsqryinnerdiv").position().left),r=j("#zgs20_gsHolder").height()-j("#zgs20_gsSearchTopBandHolder").outerHeight(!0),j("#zgs20_gsSearchResultsArea").css({width:t+"px",height:r+"px"}),j("#zgs20_gsResultsHolder").css("height",r+"px")},U.setSearchBoxWidth=function(){var e=j(i).width(),s=j("#zgs20_gsLogoHolder").width(),t=j("#zgs20_gsSearchBoxRight").width(),a=j(".zgs19_searchbtnOuter").outerWidth(!0),s=e-s-t,t=parseInt(j("#zgs20_gsQueryBoxHolder").css("max-width").replace("px","")),s=t<s?t:s;j("#zgs20_gsQueryBoxHolder").css("width",s+"px"),j(".zgs19_gsqryinnerdiv").css("width",s-a+"px")},U.handlerResizeForTourAndFeature=function(){U.hasOwnProperty("gstourcomponent")&&U.gstourcomponent.isTourComponentOpened&&U.tour.trigger("stop.tourbus"),U.hasOwnProperty("gsfeatureComponent")&&U.gsfeatureComponent.isFeatureComponentOpened&&U.gsfeatureComponent.hideFeatureCarousel()},U.setGSElemSize=function(){var e,s,t=j(i).height(),a=j(i).width();2===l.UIType||4===l.UIType?U.setEmbedZOSElemSize():(U.resetZiaMobileResultArea(),t-=U.getWMSBarHeight(),j("#zgs20_zohosearch").css("height",t+"px"),j("#zgs20_zohosearch").css("width",a+"px"),e=t-(r=0<(s=j("#zgs20_gsNotificationBanner")).length?s.outerHeight(!0):0),j("#zgs20_zohosearchWrapper").css("height",e+"px"),j("#zgs20_zohosearchWrapper").css("width",a+"px"),j("#zgs20_gsOverlayDialog").css("inset-block-start",r+"px"),j("#zgs20_gsOverlayDialog").css("height",e+"px"),t=j("#zgs20_zohosearchWrapper").outerHeight(!0)-j("#zgs20_gsSearchTopBandHolder").outerHeight(!0),j("#zgs20_globalsearch").css("height",t+"px"),j("#zgs20_globalsearch").css("width",a+"px"),j("#zgs20_zohosearchLoader").css("height",t+"px"),j("#zgs20_zohosearchLoader").css("width",a+"px"),j("#zgs20_gsSearchResultsArea").css({width:a+"px",height:t+"px"}),U.ziaProperties.isPropertyNeeded("isSearchNeeded")&&U.setSearchBoxWidth(),s=n.getElementById("zgs20_gsSearchBtn")?j("div.zgs19_gsSearchTopBandHolder > .zgs19_searchbtnOuter").outerWidth(!0):0,r=j("div.zgs19_gsSearchTopBandHolder").width()-(j("div.zgs19_gsSearchTopBandHolder > .zgs19_gsLogoHolder").outerWidth(!0)+j("div.zgs19_gsSearchTopBandHolder > .zgs19_gsInfoBox").outerWidth(!0)+s),j("div.zgs19_gsQueryBoxHolder").css("width",r+"px"),U.setSearchBoxSegmentSize(),U.setSizeForRespectiveResultsArea(),U.GSConstant.isNLPTracerEnabled&&j("#zgs20_gsnlpTracerData").css("height",j("#zgs20_globalsearch").height()),U.isOpenDoubleClickPopup&&(j(".zgs19_gsPopupSearch").remove(),U.isOpenDoubleClickPopup=!1,U.isOpenPopup=!1),U.isMenuPopUpOpened&&(j(".zgs19_gsMenuPopUp").remove(),U.isMenuPopUpOpened=!1,U.openContextPopup=!1),U.isAttendeesListOpened&&(j(".zgs19_gsAttendeesListMenuPopUp").css("display","none"),U.isAttendeesListOpened=!1),U.isAttendeeMenuPopUp&&(j(".zgs19_gsAttendeeMenuPopUp").css("display","none"),U.isAttendeeMenuPopUp=!1),U.isFilterListDisplay&&U.gsfilters.hideEachFilterPopUp("zgs20_gsFilterPopup"),U.hasOwnProperty("gsadvancesearch")&&U.gsadvancesearch.isAdvFieldListOpened&&U.gsadvancesearch.hideAdvPopUpList(),U.isAppListOpened&&U.gsfilters.hideAppsList(),U.gssavedsearches.isSaveThisSearchDialogOpened&&U.gssavedsearches.calculatePositionForSaveSearchPopup(),e=U.isDashboardViewOpened(),s=U.isCardViewOpened(),U.isMobViewport()?(j("#zgs20_gsOverlayDialog").find(".zgs19_gsCnfrmDialogBox").remove(),j("#zgs20_gsOverlayDialog").css("display","none"),U.hideCreateNewPopUp(),U.handlerResizeForTourAndFeature(),U.isShowQuickActionsPage&&(U.hideQuickActionsPage(),n.getElementById("zgs20_gsWelcomePage")?U.showWelcomePage():U.renderWelcomePage()),U.gsusersettings=U.gsusersettings||{},void 0!==U.gsusersettings.isSettingsOpened&&U.gsusersettings.isSettingsOpened&&(U.gsusersettings.changeUrlBeforeSettingsClose(),U.closeActionForSettings()),(e||s)&&(U.gsdbhome.isAddCardPopupOpened&&U.gsaddcards.removeAddCardPopupAction(!1),U.closeActionForCards(),U.hideDashboard(),U.setHighlightForLeftDivisonPanel(U.selectedLeftPanelDivision),U.updateSearchType(I.ALL),U.clickActionForServiceList(I.ALL),U.gsusersettings.changeUrlBeforeSettingsClose()),U.hideManageAppPopUp(),o=400<a?a:400,j("#zgs20_gsSearchResultsArea").css("width",o),j("#zgs20_gsSearchResultMiddle").css("width",o).css("display","block"),j("#zgs20_gsSearchResultRight").css("width",o)):(U.setStatusClsForLeftDivision(),0<j("#zgs20_gsWelcomePage").length&&"block"==j("#zgs20_gsHideScrollPage").css("display")&&U.canShowHomepage()&&(U.isShowQuickActionsPage=!0),j("#zgs20_gsSearchBottomHolder").css("transform","")),U.renderLandingPage(),U.resetZiaMobileCalloutArea()),U.setLHSHiddenScrollHeight(),U.handleResizeForMultiPortalPage(),!!U.hasOwnProperty("gstopband")&&U.gstopband.isUserDetailsOpened&&U.gstopband.resizeProfilePage();var r=!!U.hasOwnProperty("gsusersettings")&&U.gsusersettings.isSettingsOpened;r&&U.gsusersettings.resizeSettingsPage(),s&&U.gscards.handleResizeForCards(),e&&U.gsdbhome.setSizeForDashboards(),U.isFilterPageOpened&&(j("#zgs20_gsfilterHolder").hasClass("zgs19_gsCardsFilterPopUp")?U.isCardPageOpened?U.gscardfilter.setFilterContainerPosition():U.gsfilters.filterActions("cancel"):U.setSearchFilterContainerPosition()),U.isContextBoxOpened&&U.gsfilters.setContextPosition(j(U.gsfilters.selectedContextElem),"zgs19_gsContextFilterCont","zgs19_gsContextArrow"),U.hasOwnProperty("gstourcomponent")&&U.gstourcomponent.isTourComponentOpened&&U.gstourcomponent.handlerResizeForTourComponent();var a=j("#zgs20_gsResultsHolder").height(),o=0,o=0<j("#zgs20_gsServiceReOrdering .zgs19_gsServiceSaveNew").length?j("#zgs20_gsServiceReOrdering .zgs19_gsServiceSaveNew").height()||0:j("#zgs20_gsSettingsHolder").height()||0;j("#zgs20_gsServicesListOrder").css({height:a-o+"px","border-bottom":"1px solid #ddd;"}),j("#zgs20_gsServiceReOrdering").css({height:a+"px"});a=j("#zgs20_gsSearchResultLeft").height()-j("#zgs20_gsSettingsHolder").outerHeight();U.isDashboardEnabled&&(a-=j("#zgs20_gsDashboardHolder").outerHeight()),j("#zgs20_gsServListHolder").css("height",a),e||s||r||U.setAllServiceEleSize(),U.setShowAppsResMin("resize")},U.getSizeForResultsArea=function(){var e=j("#zgs20_gsResultsHolder").width()||0,s=parseInt(j("#zgs20_gsSearchResultMiddle").css("max-width").replace("px",""))||0,t=parseInt(j("#zgs20_gsSearchResultMiddle").css("min-width").replace("px",""))||0,a=parseInt(j("#zgs20_gsSearchResultRight").css("min-width").replace("px",""))||0,r=Math.floor(.4*e),r=r<=s?r<t?t:r:s,s=a<(s=e-r)?s:a;return{resultsAreaW:r,calloutAreaW:s=U.isMaxCalloutOpen?e:s,resultAndCalloutAreaW:e}},U.setSizeForRespectiveResultsArea=function(){var e=U.getSizeForResultsArea();j("#zgs20_gsSearchResultMiddle").css("width",e.resultsAreaW+"px"),j("#zgs20_gsSearchResultRight").css("width",e.calloutAreaW+"px"),U.setCalloutPreviewPosition(),U.isSearchViewTabOpened()&&U.setResultPreviewWidth(e.resultAndCalloutAreaW,e.calloutAreaW)},U.setResultPreviewWidth=function(e,s){U.maxPrevPane=null!=typeof U.maxPrevPane?e:U.maxPrevPane,U.minPrevPane=null!=typeof U.minPrevPane?s:U.minPrevPane,U.minPrevPane--},U.setAllServiceEleSize=function(){var e,s=j(U.curSelectedEle).attr("service"),t=j("#zgs20_gsSearchResultMiddle").height(),a="zgs20_gsAllSearchResultPage",r=U.getSearchType(),o=0,i=U.isArrayContain(s,U.configured_mail_module)?U.mappedServiceList[s].originService:s,n=U.gFilterData[i],o=(r!==I.ALL&&(a="zgs20_gs"+r+"Template",(U.multiPageEnabled||U.subMultiPageEnabled)&&(a="zgs20_MultiSearchPageHolder"),l=n?U.getCurrentValue("accounts",s):"","1"===(U.isArrayContain(i,U.account_based_filter_service_list)?U.getAccountType(i,l):"")&&"all"!==(e=U.getCurrentValue("modules",s))&&(a="zgs20_gs"+e+"Template")),t),t="",t=r==I.ALL?"zgs20_gsAllSearchResultPage":U.multiPageEnabled||U.subMultiPageEnabled?"zgs20_MultiSearchPageHolder":"zgs20_gs"+r+"Template",l=U.getCurrentValue("accounts",s);if("1"===(U.isArrayContain(i,U.account_based_filter_service_list)?U.getAccountType(i,l):"")&&(e=U.getCurrentValue("modules",s),r!==I.ALL&&"all"!==e&&(t="zgs20_gs"+e+"Template")),U.setServiceResPaneHeight(t),U.isMobViewport()&&(o-=U.getLHSServicePaneHeight()),s){var g,c=U.mappedServiceList[s].callout;switch(s){case I.MAILS:case I.STREAMS:case I.REPORTS:case I.CREATOR:case I.CRM:case I.WORKDRIVE:case I.CHAT:case I.CLIQ:case I.SUPPORT:case I.CONNECT:case I.LEARN:case I.WIKI:case I.BOOKS:case I.INVOICE:case I.INVENTORY:case I.WEBSITE:case I.ORGRESOURCES:case I.SLACK:case I.O365MAIL:case I.CALENDAR:case I.NOTEBOOK:case I.GMAIL:case I.ZENDESK:case I.SALESIQ:U[c].setServiceEleSize(a,o);break;case I.GOOGLEDRIVE:case I.BOX:case I.DROPBOX:case I.ONEDRIVE:var d=new U.FileMgmtFactory,p={};p.service=s,d.createFileMgmtService(p).setServiceEleSize(a,o);break;case I.PEOPLE:case I.ORGCONTACTS:case I.PERSONALCONTACTS:U.gscontacts.setServiceEleSize(a,o);break;case I.SALESFORCE:(g={}).service_name=U.GSConstant.SALESFORCE,g.acc_id=U.getResultAccountId(),(new U.ZSCRMFactory).createCRM(g).setServiceEleSize(a,o);break;case I.ASANA:case I.PROJECTS:(g={}).service_name=s,g.acc_id=U.getResultAccountId(),(new U.ZSProjectMgmtFactory).createProjectMgmtInstance(g).setServiceEleSize(a,o);break;case I.EVERNOTE:U.notesTemplateInstance.setServiceEleSize(a,o)}}},U.callingAttachEvent=function(e){n.getElementById("zgs20_globalsearch").setAttribute("data-disableShortcuts",!0),n.getElementById("zgs20_gsSearchResultsArea").setAttribute("data-disableShortcuts",!0)},U.callingDeattachEvent=function(e){n.getElementById("zgs20_globalsearch").removeAttribute("data-disableShortcuts"),n.getElementById("zgs20_gsSearchResultsArea").removeAttribute("data-disableShortcuts")},U.preCheckForURLSearch=function(){var e;(U.isURLParamsSearch||U.isExternalSearch)&&(U.queryOrigin=1,U.isExternalSearch=!1,U.isURLParamsSearch=!1,e=U.getSearchType(),I.ALL==e||U.multiPageEnabled||U.subMultiPageEnabled||U.isServiceHasMultiPortals(e)&&(U.multiPageEnabled=!0))},U.checkExternalQueries=function(){var e=U.domainOriginObj||{},s=e.query||"",t=e.service||"";I.ziaOrigin=e.fromOrigin||"";var t=U.hasOwnProperty("gshistory")?U.gshistory.getProperServiceName(t):t,a=U.isServiceSearch?U.getSearchType():I.ALL,r=U.getOrderedServiceList();U.isArrayContain(t,r)&&(a=t),(U.isQueryValid(s)||l.isEmptySearchAllowed||U.isArrayContain(t,U.emptySearchAllowedFromExternal))&&(U.emptySearchBoxValues(),n.getElementById("zgs20_gsQueryBox").value=s,U.queryOrigin=3,U.isExternalSearch=!0,e=e.filter||"",U.hasOwnProperty("onSuccessFunction")&&I.hasOwnProperty("widgetObject")&&""!==e&&U.updateFilterParamsForService(t,e),U.handleSearchCall(a))},U.setSearchProperty=function(e){4===l.UIType&&(l.isSameQrySearchEnabled=e)},U.preThemeSetup=function(){l.isResizeEnabled()||(U.isCliqDomain&&!j("#zgs20_globalsearch").hasClass("zgs19_gsCliqTheme")?j("#zgs20_globalsearch").addClass("zgs19_gsCliqTheme"):j("#zgs20_globalsearch").addClass("zgs19_gsOtherTheme"))},U.sendGSOpenedStats=function(){var e,s;U.isSendGSOpenedStats||(U.isSendGSOpenedStats=!0,U.hasOwnProperty("gsanalytics")&&(e=i.event||e,s=U.isOpenViaShortcut?"kb-fsb":"mc-fsb",s=U.getStatsKey(s),U.gsanalytics.sendStatsData(e,s)))},U.setResponseObject=function(e,s,t,a){a=a&&a.hasOwnProperty("module_id")?a.module_id:"";e=a||e;e=s?e+s:e;e&&(U.responseObj[e]=t)},U.getResponseObject=function(e){return U.responseObj.hasOwnProperty(e)?U.responseObj[e]:""},U.init=function(){var e,s;U.integComp&&U.integComp.integPage||(1===l.UIType?U.triggerBiggerGlobalsearch():U.triggerGlobalsearch()),U.initServiceList(),U.resultarea||U.isIntegViewPage||(U.resultarea=!0,e=U.getI18NMsg("gs.search.service_backtotop"),s=U.getI18NMsg("gs.search.service_backtohome"),j("#zgs20_gsResultsHolder").append(j("<div>",{id:"zgs20_gsSearchResultMiddle",class:"zgs19_gsResultsHolderChild zgs19_gsSearchResultMiddle zgs19_gsDisplayNone zgs19_isPanelHidden",domselector:"resultpreview"}).append(j("<div>",{id:"zgs20_gsAllSearchResultPage",class:"zgs19_gsSearchResultPage zgs19_gsOverflowAuto zgs19_gsDisplayNone",gs:"AllSearchPage"})).append(j("<div>",{id:"zgs20_gsMultiSearchResultPage",class:"zgs19_gsSearchResultPage zgs19_gsDisplayNone"})).append(j("<div>",{id:"zgs20_gsModuleSearchResultPage",class:"zgs19_gsSearchResultPage zgs19_gsDisplayNone"})).append(j("<div>",{id:"zgs20_gsBackToTop",class:"zgs19_gsBackToTop zgs19_gsDisplayNone zgs19_gsCurPointer",gstitle:e,gs:"backToTop"}))).append(j("<div>",{id:"zgs20_gsSearchResultRight",class:"zgs19_gsResultsHolderChild zgs19_gsSearchResultRight zgs19_gsDisplayNone",domselector:"calloutpreview"})).append(j("<div>",{id:"zgs20_gsSettingsPages",class:"zgs19_gsSettingsPages zgs19_gsDisplayNone"})).append(j("<div>",{id:"zgs20_gsHomeIcon",class:"zgs18_gsHomeIcon zgs19_gsDisplayNone zgs19_gsCurPointer",gstitle:s,gs:"backToHome"})),U.setLHSHiddenScrollHeight(),j("#zgs20_gsQueryBox").after(j("<div>",{id:"zgs20_gsSuggestionDiv",class:"zgs19_gsQueryDiv zgs19_gsBorderBox zgs19_gsBoxshadow zgs19_gsuserselnone zgs19_gsOverflow"})),j("#zgs20_gsQueryBoxHolder").append(j("<div>",{id:"zgs20_gsQuerySugg",class:"zgs19_gsQuerySugg zgs19_gsBorderBox zgs19_gsOverflow zgs19_gsDisplayNone"})),e=U.hasOwnProperty("gsfilters")?U.gsfilters.createFilterIcon():"",s=j("#zgs20_gsQueryBoxHolder").find(".zgs19_gsqryinnerdiv"),j(s).append(j("<div>",{id:"zgs20_gsQueryCloseBox",class:"zgs19_gsQueryCloseBox zgs19_gsBorderBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone"}).append(j("<span>",{class:"zgs18_gsQueryCloseIcon zgs19_gsCurPointer"}))).append(e),U.addEventForSearchBox()),!l||2!==l.UIType&&4!==l.UIType||U.fetchWidgetDetails(),l&&l.hasOwnProperty("isResizeEnabled")&&l.isResizeEnabled()&&U.setGSElemSize(),1===l.UIType&&(U.showBiggerSearch(),U.gszohosearch.triggerBiggerZOSUI()),U.preThemeSetup(),l.setTheme()},U.GSConstant.hasOwnProperty("featureList")){var s,t=U.GSConstant.featureList||[U.featureNameConst.DASHBOARDS],a={};if("zgs20_gsEmbedCard"==(s=a.viewport=U.GSConstant.isEmbedDashboard?(U.isEmbedDashboardEnabled=!0,"zgs20_gsEmbedDashboard"):U.GSConstant.hasOwnProperty("isEmbedCard")?(U.isEmbedCardEnabled=!0,"zgs20_gsEmbedCard"):void 0)&&(e=j("<div>",{id:"zgs20_gsEmbedCard",class:"zgs19_gsEmbedCard",gs:"globalsearch"}).append(j("<div>",{tabindex:"5",id:"zgs20_zohosearch",class:" zgs19_zohosearch",gs:"globalsearch"}).append(j("<div>",{id:"zgs20_gsOverlayDialog",class:"zgs19_gsOverlayDialog zgs19_gsDisplayNone"})).append(j("<div>",{id:"zgs20_globalsearch",class:"zgs19_globalsearch zgs19_globalsearch_position_new zgs19_gsDisplayNone",style:"display: block;"}).append(j("<div>",{id:"zgs20_gsCardsPage",class:"zgs19_gsCardsPage"})))),j(n.body).append(e),U.searchViewport=U.pcViewport=n.getElementById("zgs20_gsEmbedCard"),a.calloutOpenInNewTab=!1,a.resultFullWidth=!0),"zgs20_gsEmbedDashboard"==s&&((e=n.createElement("div")).tabIndex=5,e.id="zgs20_gsEmbedDashboard",e.className="zgs_gsEmbedDashboard",e.setAttribute("style","width: 100%;height: 100%;"),e.innerHTML='<div tabindex="5" id="zgs20_zohosearch" class=" zgs19_zohosearch" gs="globalsearch">\n                                            <div id="zgs20_gsOverlayDialog" class="zgs19_gsOverlayDialog zgs19_gsDisplayNone"></div>\n                                            <div id="zgs20_globalsearch" class="zgs19_globalsearch zgs19_globalsearch_position_new zgs19_gsDisplayNone" style="display: block;">\n                                            </div>\n                                        </div>',n.body.appendChild(e),U.searchViewport=U.pcViewport=n.getElementById("zgs20_gsEmbedDashboard")),U.isEmbed=U.isEmbedDashboardEnabled||U.isEmbedCardEnabled,U.isEmbed){let e=embedurl&&embedurl.searchParams.has("frameorigin")?embedurl.searchParams.get("frameorigin"):"";e=e.replace(/\/$/,""),e&&(U.originParam+=U.isExtension?"":","+e),U.origins=i.location.origin+","+e}U.globalinit(t,a)}else i.location.pathname.includes("dashboard/open")&&(U.ziaProperties=new U.gsZiaProperties({isHomePageNeeded:!1,isTopBandIntegIcon:!1,isTopBandSettingsIcon:!1,isSearchNeeded:!1,isTopBandNeeded:!0,isSettingsNeeded:!1,isWMSneeded:!0,profile_newFeatureSet:!1,profile_MobileSupport:!1,profile_isDarkMode:!1,isPushStateNeeded:!1,isMobileViewPortCallbackNeeded:!1,isTracerNeeded:!1,isDashboardNeeded:!1,isCardsNeeded:!1,isLeftBandNeeded:!1,isQuickActionsOptionNeeded:!1,isNewUI:!0})),U.init()}(zgssearch,window),zgssearch.isIE&&("/settings"==window.location.pathname&&zgssearch.hasOwnProperty("clickActionForSettings")&&zgssearch.clickActionForSettings("settings"),"/cards"==window.location.pathname&&zgssearch.hasOwnProperty("clickActionForCards")&&zgssearch.clickActionForCards(),zgssearch.includes("/dashboards",window.location.pathname)&&zgssearch.hasOwnProperty("clickActionForDashboards")&&zgssearch.clickActionForDashboards()),function(u){var h,_=window._jQueryGS,m=u.getGSConstantObj()||{};u.gskeyboard=(h=void 0,(h=u.gskeyboard||{}).dashboard=h.dashboard||{},h.card=h.card||{},h.initialize=function(){h.count=0,h.index={},h.nodeList=[]},h.initializeDashboard=function(e){h.dashboardNodeList=[],h.index={},h.dashboardNodeCount=0,h.currentCardId=e},h.getFirstDataNode=function(){var e=_("div.zgs19_gsSearchResultTable[index=0]")[0];return e?e.getAttribute("id"):null},h.findDataNode=function(e,s){return h.insertElement(),_("div.zgs19_gsSearchResultTable[index='"+e+"']")[0]},h.checkAndInsertElements=function(){h.nodeList.length<=0&&h.insertElement()},h.insertElement=function(){h.index={},h.count=0,h.nodeList=[];for(var e=document.getElementsByClassName("zgs19_gsSearchResultTable"),s=e.length,t=0;t<s;t++){var a=_(e[t]).attr("id");h.index[a]=t,h.nodeList.push(a),h.count++}},h.getNextPrevElement=function(e){var s,t;return u.curSelectedEle?(t=_(u.curSelectedEle).attr("id"),-1<(t=h.nodeList.indexOf(t))&&(s=38===e?h.nodeList[t-1]:h.nodeList[t+1])):s=h.nodeList[0],s},h.keyUpAndDownAction=function(e){var s=null,t=38===e?"prev":"next";u.curSelectedEle?(h.nodeList.length<=0&&h.checkAndInsertElements(),((e=h.nodeList.indexOf(u.curSelectedEle.getAttribute("id")))+1==h.nodeList.length||e<=0)&&document.getElementsByClassName("zgs19_gsSearchResultTable").length!=h.nodeList.length&&(h.insertElement(),e=h.nodeList.indexOf(u.curSelectedEle.getAttribute("id"))),"prev"==t&&0<e?s=h.nodeList[e-1]:"next"==t&&e+1<h.nodeList.length&&(s=h.nodeList[e+1])):s=h.getFirstDataNode(),u.highlightRes(s,t)},u.highlightRes=function(e,s){var t,a,r,o,i,n,l,g,c,d,p;e&&(l="zgs20_gsSearchResultMiddle",t=u.getTargetElem(e),u.hideAllDropdownList(t),d=_(t).attr("service"),a=u.getSearchType(),c=0,r=[],r=u.isDashboardViewOpened()?(p=t.parentElement,l=o=_(p).attr("id"),h.dashboard.nodeList):u.isCardViewOpened()?(p=t.parentElement,o=_(p).attr("id"),l="zgs20_gsCrdPrevResult",h.card.nodeList):(o="zgs20_gsAllSearchResultPage",a!=m.ALL&&(o="zgs20_gs"+a+"Template",(u.multiPageEnabled||u.subMultiPageEnabled)&&(o="zgs20_MultiSearchPageHolder"),c=_("#zgs20_gsModuleFilterList").height()||0),_("#"+o).is(":visible")||(o=u.getParentNode(t,"serviceSpecificPage")?u.getParentNode(t,"serviceSpecificPage").id:o),u.changeBGClass(u.curSelectedEle,"zgs19_gsSelectedElem","zgs19_gsUnSelectedElem"),u.changeBGClass(t,"zgs19_gsUnSelectedElem","zgs19_gsSelectedElem"),u.curSelectedEle=t,i=u.getCurrentResObj(),n={calloutPgtype:"search",parentElem:"zgs20_gsSearchResultRight",calloutId:u.mappedServiceList[d].id,iconDisplay:!0,curSelectedEle:t},u.searchCalloutObj=n,u.isArrayContain(d,u.pcEnabledSer)?(g={},(g=i).serviceName=d,g=Object.assign(i,n),new u.getCalloutForResult(g).constructPreviewComponent()):(n.type="search",n.parentElem="#zgs20_gsSearchResultRight",u.getCalloutData(t,i,n)),u.gskeyboard.nodeList),p=u.getTargetElem(o),g=u.getTargetElem(l),i=u.findPosY(t,g),n=_(t).outerHeight(),l=_(p).height(),(g=_(p).scrollTop())<=i&&i+n<=g+l||("prev"===s?_("#"+o).scrollTop(i-c):t.scrollIntoView(!1)),u.setCalloutSearchType(d),c=_(t).attr("acc_id"),d=u.multiPageEnabled||u.subMultiPageEnabled?c:d,u.isDashboardViewOpened()||u.isCardViewOpened()||(a===m.ALL&&u.curMoreService!==d&&u.hideResMoreOption(t,u.curMoreService),u.showResMoreOption(t)),e=document.getElementById(e),0==r.length&&(h.insertElement(),r=u.gskeyboard.nodeList),"object"==typeof e&&(e=_(e).attr("id")),e=r.indexOf(e),p=u.getTargetElem(o),0===e?_(p).scrollTop(0):e===r.length-1&&null!==p&&_(p).scrollTop(p.scrollHeight),!u.isMobViewport()&&u.isMaxCalloutOpen&&u.minCalloutPreviewChange(t))},h.isCurElementInViewPort=function(e){var s=e.parentNode.getBoundingClientRect(),e=e.getBoundingClientRect();return e.top>=s.top&&e.bottom<=s.bottom},h.keyboardNavgForAutoSugg=function(e){e=h.getkeyboardNavgElemForCustomSugg(e,u.gsautocomplete.currselecelem,"zgs19_gsAutoSuggChild");u.gsautocomplete.currselecelem=e,u.updatesuggtext(),e.scrollIntoView(!1),_(".zgs19_gsAutoSuggChild").removeClass("zgs19_gsAutoSuggChildIn"),_(".zgs19_gsAutoSuggChild .zgs19_gsAutoSuggChildName").removeClass("zgs19_gsFtWeightBold"),_(e).addClass("zgs19_gsAutoSuggChildIn"),_(e).find(".zgs19_gsAutoSuggChildName").addClass("zgs19_gsFtWeightBold")},h.keyboardNavgForServiceSugg=function(e){e=h.getkeyboardNavgElemForCustomSugg(e,u.gsfilters.currselecElem,"zgs19_gsnewServiceInfoHolder");(u.gsfilters.currselecElem=e).scrollIntoView(!1),_(".zgs19_gsnewServiceInfoHolder").removeClass("zgs19_gsAutoSuggChildIn"),_(".zgs19_gsnewServiceInfoHolder .zgs19_gsNewSerivceTxt").removeClass("zgs19_gsFtWeightBold"),_(e).addClass("zgs19_gsAutoSuggChildIn"),_(e).find(".zgs19_gsNewSerivceTxt").addClass("zgs19_gsFtWeightBold")},h.getkeyboardNavgElemForCustomSugg=function(e,s,t){var a=document.querySelectorAll("."+t),t=a.length,r=s?(r=Array.prototype.indexOf.call(a,s),e==u.specialkeys.UP?(r-=1)<0?t-1:r:t<=(r+=1)?0:r):e==u.specialkeys.UP?t-1:0;return a[r]},h.keyboardNavgForFilters=function(e,s){var t=u.currFilterSelectedElem||"",a=t?_(t).attr("index"):"-1",r=_("#zgs20_gsModuleFilterWidgetFooter .zgs19_gsFilterQuerySelection").length,t=_(".zgs19_gsFilterQuerySelection:first").attr("index"),a=parseInt(a),r=(t=parseInt(t))+parseInt(r);a=-1==a?e==u.specialkeys.UP?r-1:t:e==u.specialkeys.UP?(a-=1)<t?r-1:a:r<=(a+=1)?t:a;a=u.getTargetElem("zgs20_gsFilterQuerySelection"+a);a&&(u.currFilterSelectedElem=a,"none"==_(a).css("display")?s!=a&&h.keyboardNavgForFilters(e,s=s||a):(a.scrollIntoView(!1),_(".zgs19_gsFilterQuerySelection").removeClass("zgs19_gsAutoSuggChildIn"),_(a).addClass("zgs19_gsAutoSuggChildIn")))},h.keyboardNavgForAdvFilters=function(e){var s,t,a=_(".zgs19_gsAutoSuggChildIn:visible"),r=_("#zgs20_gsFilterPopup").find(".zgs19_gsFieldValueHolder:visible, .zgs19_gsFieldOptionHldr:visible");r&&(s=_(r).attr("class").split(" ")[0],t=r.length,a=a?r.index(a):-1,a=-1==(a=parseInt(a))?e==u.specialkeys.UP?t-1:0:e==u.specialkeys.UP?(a-=1)<0?t-1:a:t<=(a+=1)?0:a,(a=_(".zgs19_gsFieldListCont ."+s+":visible:eq("+a+")")[0])&&(a.scrollIntoView(!1),r.removeClass("zgs19_gsAutoSuggChildIn"),_(a).addClass("zgs19_gsAutoSuggChildIn")))},h.keyboardNavgForEditFields=function(e){var s=u.currEditFieldselecelem||"",t=s?_(s).attr("index"):"-1",a=_("#zgs20_gsEditFieldsFooter .zgs19_gsEditFieldsChild").length,s=_(".zgs19_gsEditFieldsChild:first").attr("index"),t=parseInt(t),a=(s=parseInt(s))+parseInt(a);t=-1==t?e==u.specialkeys.UP?a-1:s:e==u.specialkeys.UP?(t-=1)<s?a-1:t:a<=(t+=1)?s:t;t=u.getTargetElem("zgs20_gsEditFieldsChild"+t);t&&(t.scrollIntoView(!1),u.currEditFieldselecelem=t,_(".zgs19_gsEditFieldsRadio").prop("checked",!1),_(".zgs19_gsEditFieldsChild").removeClass("zgs19_gsAutoSuggChildIn"),_(t).find(".zgs19_gsEditFieldsRadio").prop("checked",!0),_(t).addClass("zgs19_gsAutoSuggChildIn"))},h.initForCardsAndDashboard=function(e,s){h[e].index={},h[e].nodeCount=0,h[e].nodeList=[],h[e].currentCardId=s},h.dashboard.getValues=function(){this.getCardId=function(){return"#zgs20_gs"+h.dashboard.currentCardId+"card"},this.getCurrentCardElem=function(){var e="zgs20_gs"+h.dashboard.currentCardId+"card";return document.getElementById(e)},this.getCurrentSelectedElem=function(){return u.gscardsresult.curSelectedEle.id}},h.card.getValues=function(){this.getCardId=function(){return"#zgs20_gsCrdPrevResult"},this.getCurrentCardElem=function(){return document.getElementById("zgs20_gsCrdPrevResult")},this.getCurrentSelectedElem=function(){return u.gscards.curSelectedEle.id}},h.getCardDataNode=function(e,s){return _(e).find(".zgs19_gsCardResultTable[index='"+s+"']")[0]},h.insertCardDashboardElems=function(e){h[e].index={},h[e].nodeCount=0,h[e].nodeList=[];var s=(new h[e].getValues).getCurrentCardElem();if(s)for(var t=s.getElementsByClassName("zgs19_gsCardResultTable"),a=t.length,r=0;r<a;r++){var o=_(t[r]).attr("id");h[e].index[o]=r,h[e].nodeList.push(o),h[e].nodeCount++}},h.NavForCardsAndDashboard=function(e,s){var t=null,a=38===e?"prev":"next",e=h[s].nodeList;0==e.length&&h.insertCardDashboardElems(s);s=(new h[s].getValues).getCurrentSelectedElem(),s=e.indexOf(s);"prev"==a&&0<s?t=e[s-1]:"next"==a&&s+1<e.length&&(t=e[s+1]),_("#"+t).click(),u.highlightRes(t,a)},h.insertDashboardElements=function(){h.index={},h.dashboardNodeCount=0,h.dashboardNodeList=[];for(var e="zgs20_gs"+h.currentCardId+"card",s=document.getElementById(e).getElementsByClassName("zgs19_gsCardResultTable"),t=s.length,a=0;a<t;a++){var r=_(s[a]).attr("id");h.index[r]=a,h.dashboardNodeList.push(r),h.dashboardNodeCount++}},h.keyboardNavgForDashboard=function(e){var s=null,t=38===e?"prev":"next";0==h.dashboardNodeList.length&&h.insertDashboardElements();e=h.dashboardNodeList.indexOf(u.gscardsresult.curSelectedEle.id);"prev"==t&&0<e?s=h.dashboardNodeList[e-1]:"next"==t&&e+1<h.dashboardNodeList.length&&(s=h.dashboardNodeList[e+1]),_("#"+s).click(),u.highlightRes(s,t)},h)}(zgssearch),function(_){var m=window._jQueryGS;_.handleHidePopover=function(e){var s,t,a;1!==_.gscomponent.UIType&&0!==_.gscomponent.UIType||(_.gstopband.isAllappsOpened&&(s=_.getParentNode(e,"hamburger"),a=_.getParentNode(e,"hamburgerData"),s||a||_.gstopband.hideHamburger()),_.gstopband.isUserDetailsOpened&&(s=_.getParentNode(e,"userDetails"),t=_.getParentNode(e,"gsOpenProfile"),a=_.getParentNode(e,"userData"),s||a||t||_.gstopband.hideUserDetails()),_.GSConstant.isNLPTracerEnabled&&(s=_.getParentNode(e,"nlpTracer"),a=_.getParentNode(e,"nlpTracerData"),s||a||_.gsnlpsearch.hideNLPTracer()))},_.hideAllDropdownList=function(e){_.handleHidePopover(e),_.hasOwnProperty("clearTooltip")&&_.clearTooltip();var s,t,a,r,o=m(e).attr("gs");_.isCardViewOpened()&&(1!==(i=m(e).closest("#zgs20_gsCardsList")).length&&"cardslist"!==o&&"cardPageResults"!==o&&_.gscards.hideCardsList(),_.gscards.isCardServiceListFilterOpened&&"cardServiceFilter"!=o&&(i=m(e).closest("#zgs20_cardAppFilterPopup"),"cardServiceFilter"!==o&&1!==i.length&&_.gscards.hideServiceFilter()),_.gscards.isCardViewMenuOpened&&"cardViewMenu"!==o&&(m("#zgs20_gsCardViewMenu").css("display","none"),_.gscards.isCardViewMenuOpened=!1),_.gscards.isMoreServiceFiltersOpened&&1!==(r=m(e).closest(".zgs19_gsMoreServicePopup")).length&&_.gscards.closeMoreServiceFilterContainer(),_.gscards.isCardsActionMenuOpened&&1!==(r=m(e).closest(".zgs19_gsCardsListMenu")).length&&_.gscards.hideCardsActionMenu()),_.gscardinfo.isCardInfoPopupOpened&&e&&(o=e.getAttribute("action"),i=m(e).closest(".zgs19_gsFilterDispNameList"),"filterCount"!==o&&"advFilterCount"!==o&&1!==i.length&&_.gscardinfo.closeDispNameList()),_.gscardfilter?.isSaveCardPopupOpened&&(r=m(e).closest(".zgs19_gsSaveCardDropdownPopUp"),s=m(e).closest(".zgs19_gsSaveCardDropdown"),1!==r.length&&1!==s.length&&_.gscardfilter.hideSaveAsDropDown()),_.hasOwnProperty("gsdbhome")&&(_.gsdbhome.isDashboardMenuOpened&&(i=m(e).closest("#zgs20_gsdashboardList"),a=(t=_.getParentNode(e,"dbTitle"))?t.getAttribute("gs"):"",1!==i.length&&"dblist"!==o&&"dbTitle"!==a&&(_.gsdbhome.closeDashboardList(),_.gsdbhome.isDashboardMenuOpened=!1)),_.gscards.isCardServiceListFilterOpened&&"dashboardServiceFilter"!=o&&"cardServiceFilter"!=o&&(i=m(e).closest("#zgs20_cardAppFilterPopup"),"dashboardServiceFilter"!==o&&1!==i.length&&_.gscards.hideServiceFilter()),_.gsdbhome.isDBViewMenuOpened&&"dbviewmenu"!==o&&(_.gsdbhome.isDBViewMenuOpened=!1,m("#zgs20_gsDbViewMenu").css("display","none")),_.popupUtils.isSelectionPopupOpened&&"cardsortList"!==o&&"dbsortList"!==o&&_.popupUtils.closeSelectionPopup(),!m(".zgs19_gsAutoGenerateDbPopup").is(":visible")||1===m(e).closest("#zgs20_gsAutoGenerateWandIcon").length&&1!==m(e).closest(".zgs19_gsAutoGenerateDbPopup").length||m(".zgs19_gsAutoGenerateDbPopup").css("display","none"),_.gsdbhome.isDbActionMenuOpened&&1!==(r=m(e).closest("#zgs20_gsDbListMenu")).length&&_.gsdbhome.hideDbActionMenu(),_.ontheflyPopUpOpened&&_.closeUserInsightsActionPopUp()),!_.gssavedsearches.addToDbDDOpened||"addToDbInput"==o||_.getParentNode(e,"dashboardDD")||_.getParentNode(e,"disabledDbInAddToDb")||_.gssavedsearches.hideAddtodblistholder(),"autogeneratedb"!==o&&_.hideCreateNewPopUp(),"actionlist"!==o&&(t=!_.getParentNode(e,"calloutlabelAction")&&!_.getParentNode(e,"addlabel")&&!_.getParentNode(e,"removelabel"),a=!_.getParentNode(e,"calloutflagAction")&&!_.getParentNode(e,"flagChangeAction"),n="flagChangeAction"!=o,r=!_.getParentNode(e,"calloutLabelSearchAction"),t&&a&&r&&n&&(_.hideCalloutActionList(),m(".zgs19_gsLabelsPopUp").remove(),m(".zgs19_gsFlagPopUpElement").remove())),"moreAsanaProjects"!=o&&_.hideMoreContextualFilter(),"moreProjOwners"!=o&&_.hideMoreResultFields(),"showMoreBlogCategory"==o&&"forumsCategories"==o||_.gsconnect.hideMoreCategories(_.currConnectCategoryWid),"showMoreFieldDataSIQ"!=o&&m("#zgs20_gsSIQDropDown").remove(),_.getParentNode(e,"moreLabels")||m(".zgs19_gsMoreLabelsPopUp").remove();var i=m(e).closest(".zgs19_gsSenderAbout");"sender"!==o&&"owner"!==o&&"cname"!==o&&"receiver"!==o&&!0===_.isMenuPopUpOpened&&1!==i.length&&(m(".zgs19_gsMenuPopUp").remove(),_.isMenuPopUpOpened=!1),"sendMail"!=o&&"gswmschat"!=o&&"attendeegswmsaudio"!=o&&"attendeegswmsvideo"!=o||(_.isAttendeesListOpened?(m(".zgs19_gsAttendeesListMenuPopUp").css("display","none"),_.isAttendeesListOpened=!1):_.isAttendeeMenuPopUp&&(m(".zgs19_gsAttendeeMenuPopUp").css("display","none"),_.isAttendeeMenuPopUp=!1));var n=m(e).closest(".zgs19_gsAttendeesListMenuPopUp");_.isAttendeesListOpened&&1!==n.length&&"attendeesListPopup"!==o&&(m(".zgs19_gsAttendeesListMenuPopUp").css("display","none"),_.isAttendeesListOpened=!1);n=m(e).closest(".zgs19_gsAttendeeMenuPopUp");_.isAttendeeMenuPopUp&&1!==n.length&&"attendeeMenuPopUp"!=o&&(m(".zgs19_gsAttendeeMenuPopUp").css("display","none"),_.isAttendeeMenuPopUp=!1);var l,g,c,n=m(e).closest("#zgs20_gsAttendeeSearchBox");_.hasOwnProperty("gscalendaraction")&&(_.gscalendaraction.AttendeeSuggestion&&1!==n.length&&(m(".zgs19_gsAtdeSuggContainer").css("display","none"),m("#zgs20_gsAttendeeEditList").css("display","block"),_.gscalendaraction.AttendeeSuggestion=!1),l=m(e).closest(".zgs19_gsTzList"),_.gscalendaraction.tzList&&1!==l.length&&"calendarActions"!==o&&(m(".zgs19_gsTzList").css("display","none"),_.gscalendaraction.tzList=!1),l=m(e).closest(".zgs19_gsTimeZonePopup"),_.timezonePopUp&&1!==l.length&&"calendarActions"!==o&&_.gscalendaraction.hideTimeZoneDialogBox()),(_.isFilterListDisplay||_.isAppListOpened||_.gsfilters.isUserSuggDisplay)&&(g="zgs20_gsFilterPopup",l=m(e).closest("#"+g),_.isAppListOpened?1===l.length||_.getParentNode(e,"openAppsList")||_.gsfilters.hideAppsList():_.gsfilters.isUserSuggDisplay?1!==l.length&&(m("#"+g).css("display","none"),_.gsfilters.isUserSuggDisplay=!1,_.gsfilters.currselecElem=""):m("#"+g).is(":visible")?1===m(e).closest(".zgs19_filterHolder").length&&_.gsfilters.checkAndHideFilterPageElements(e):(h=_.getParentNode(e,"mFilterWidget"),p=_.getParentNode(e,"gsFilterWidgetHeader"),c=_.getParentNode(e,"filterCheckBoxChild"),m(e).hasClass("zgs19_gsSubModuleFilterElemDDIcon")||"mFilterWidgetHeader"===o||"subModuleFilter"===o||"moduleFilterEditFields"===o||h||p||c||_.hideFilterList())),_.isFilterPageOpened&&!_.isCustomDatePickerDisplay&&(g=m(e).closest(".zgs19_filterHolder"),c=m(e).closest(".zgs19_gsOverlayDialog"),0===g.length&&(0<c.length||m(".zgs19_filterHolder").hasClass("zgs19_gsCardsFilterPopUp"))&&_.gsfilters.filterActions("cancel")),_.hasOwnProperty("gsadvancesearch")&&_.gsadvancesearch.isAdvFieldListOpened&&(u=m(e).attr("actiontype"),1!==m(e).closest("#zgs20_gsFilterPopup").length&&("advSearch"!=o||"advSearch"==o&&"showFields"!=u&&"showOperators"!=u&&"showValueList"!=u)&&_.gsadvancesearch.hideAdvPopUpList()),_.isContextBoxOpened&&0==m(e).closest(".zgs19_gsContextFilterCont").length&&_.hideContextFilterDialogBox();i=m(e).closest("#zgs20_gsPopupSearch");_.isOpenDoubleClickPopup&&1!==i.length&&(m(".zgs19_gsPopupSearch").remove(),_.isOpenDoubleClickPopup=!1);var d,p,u=(new _.dashboardSearchActions).createActionType(e).getCalloutParent(),i=_.getParentNode(e,"tolink"),h=_.getParentNode(e,"toDDList");i||h||(m(u).find("#zgs20_gsDropdownToList").css("display","none"),m(u).find("#zgs20_gsCalloutDDList1").removeClass("zgs19_gsBorderCCC")),i=_.getParentNode(e,"ownerlink"),h=_.getParentNode(e,"blogCategoryList"),i||h||(m(u).find("#zgs20_gsDropdownOwnerList").css("display","none"),m(u).find("#zgs20_gsCalloutDDOwnerList").removeClass("zgs19_gsBorderCCC")),_.isDatePickerDisplay?(d=_.getParentNode(e,"gsfilterComponentPicker"),u=_.getNoteByAttr(e,"datatype","dueDateChange"),d||u||_.hideDatePicker()):_.isCustomDatePickerDisplay?(d=_.getParentNode(e,"gsDatePickerComponent"))||_.hideNewCustomDatePicker():_.isMoreFilterListDisplay||_.isMoreInnerFilterListDisplay?(h=_.getParentNode(e,"more_filters"),p=_.getParentNode(e,"moreFilterHolder"),d=_.getParentNode(e,"moreInnerFilterHolder"),h||p||d||_.dateFilterDisplay||_.hideMoreFilterList(),h=_.getParentNode(e,"moreFilterList"),p=_.getParentNode(e,"moreInnerFilterHolder"),"moduleInnerFilterChild"!=o&&(h||p)||_.hideMoreInnerFilterList()):_.isEditFieldsDisplay&&(i=_.getParentNode(e,"CalloutEditFields"),o=(o=_.getParentNode(e,"ticketAction"))&&"statusChange"===m(o).attr("datatype"),h=_.getParentNode(e,"editFieldsList"),p=_.getParentNode(e,"editFieldsHeader"),i||h||p||o||(_.hideEditFieldsList(),_.gsaction.currSearchType={})),0<m(".zgs19_gsGmailLabelsDropDown").length&&m(".zgs19_gsGmailLabelsDropDown").is(":visible")&&"gmailLabelDropdown"!=m(e).attr("gs")&&m(".zgs19_gsGmailLabelsDropDown").hide()}}(zgssearch),function(ke,Ue){var je=Ue._jQueryGS,Be=ke.getGSConstantObj()||{},l=ke.gscomponent||{};ke.lastSearchQuery=ke.lastSearchQuery||{},ke.emailRegexPattern=/^[\w]([\w\-\.\+\'\/]*)@([\w\-\.]*)(\.[a-zA-Z]{2,22}(\.[a-zA-Z]{2}){0,2})$/,ke.nextScrollValue=ke.nextScrollValue||0,ke.completedNextScrollValue=ke.completedNextScrollValue||0,ke.futureNextScrollValue=ke.futureNextScrollValue||0,ke.searchResultsLimit=ke.searchResLimit||500,ke.searchViewport=ke.searchViewport||{},ke.mousewheelevt=/Firefox/i.test(ke.userAgent)?"DOMMouseScroll":"mousewheel",ke.isCalloutActionListOpened=!1,ke.isMenuPopUpOpened=!1,ke.isAttendeesListOpened=!1,ke.isAttendeeMenuPopUp=!1,ke.calendarInterval="",ke.openContextPopup=!1,ke.isOpenDoubleClickPopup=!1,ke.isSmartViewServicePaneOpened=ke.isSmartViewServicePaneOpened||!1,ke.menuPopUpAction="",ke.currHoverRes="",ke.dateFilterDisplay=!1,ke.calendarActionPopUpOpened=!1,ke.timezonePopUp=!1,ke.isLeftDivisonPanelHidden=ke.isLeftDivisonPanelHidden||!1,ke.isShowQuickActionsPage=!ke.hasOwnProperty("isShowQuickActionsPage")||ke.isShowQuickActionsPage,ke.lastVisibleStateOfWindow=ke.lastVisibleStateOfWindow||0,ke.oldSelectedPos={},ke.cardObjForCurrentSelectedElem={},ke.dashboardSearchActions&&(ke.commonSearchActions=new ke.dashboardSearchActions),ke.clickedViewAllServicesList=[],ke.resulstAreaWidth=ke.resulstAreaWidth||0,ke.handleGSSearch=function(){ke.isGSOpened&&!ke.isWidgetCallWaitNeeded&&(ke.checkExternalQueries(),ke.isSearchBoxEnabled()&&ke.focusForWeb("zgs20_gsQueryBox"))},ke.handleToggleGSEvent=function(){ke.setWMSZIndex(),ke.isGSOpened?ke.callingAttachEvent():ke.callingDeattachEvent()},ke.closeBiggerZOSPopup=function(e,s){if(ke.hasOwnProperty("gszohosearch")&&ke.gszohosearch.isFeedbackOpened){if(s)return void ke.stopEvent(e);ke.gszohosearch.toggleFeedback()}ke.hasOwnProperty("gstopband")&&(ke.gstopband.hideHamburger(),ke.gstopband.hideUserDetails()),ke.hasOwnProperty("gsnlpsearch")&&ke.gsnlpsearch.hideNLPTracer()},ke.handleKeydownAction=function(e){var s,t,a,r=e.keyCode||e.which,o=ke.getAllQueryText(),i=ke.getSearchType(),n=ke.isWMSPopUPOpened();null!==ke.getTopMostParentNode(e.target,"globalsearch")&&(r==ke.specialkeys.ENTER?ke.isQueryFocused?(t=ke.gsautocomplete.currselecelem,ke.gsautocomplete.isAutoSuggDisplay&&t?ke.updateautosuggest(t,e):(ke.removeQuerySugg(),i!=(s=ke.checkAndReturnServiceCriteria(i))&&(ke.updateSearchType(s),ke.updateCurrentPage(s)),ke.handleSearchCall(s)),ke.stopEvent(e)):ke.isMoreInnerFilterListDisplay?(s=ke.currFilterSelectedElem)&&(ke.clickActionForMoreInnerList(s),ke.hideMoreInnerFilterList()):ke.isEditFieldsDisplay?ke.gsaction.handleEnterAction():ke.gssavedsearches.isSaveThisSearchDialogOpened&&ke.popupUtils.popupSaveAction?ke.gssavedsearches.savedSearchActions(ke.popupUtils.popupSaveAction):ke.isCardViewOpened()&&ke.popupUtils.popupSaveAction?ke.gscards.conifrmOnCards(ke.popupUtils.popupSaveAction):ke.isDashboardViewOpened()&&ke.gsdbhome.isDashboardPopupOpened&&ke.gsdbhome.dashboardConfirmActions(ke.popupUtils.popupSaveAction):r==ke.specialkeys.ESC?(ke.handleESCAction(n),n||(ke.stopEvent(e),je("#zgs20_gsHolder").focus())):r==ke.specialkeys.TAB?ke.gsautocomplete.isAutoSuggDisplay?((t=ke.gsautocomplete.currselecelem)||(a=je(".zgs19_gsAutoSuggChild:first").attr("id"),t=ke.getTargetElem(a)),ke.updateautosuggest(t,e),ke.stopEvent(e)):ke.gscalendaraction.AttendeeSuggestion?(a=je(".zgs19_gsAttendeeContainer:first").attr("id"),ke.gscalendaraction.addAttendeesToAttendeeList(ke.getTargetElem(a)),ke.gscalendaraction.hideAttendeeSuggestion(),ke.stopEvent(e)):(ke.timezonePopUp||ke.calendarActionPopUpOpened)&&ke.stopEvent(e):r==ke.specialkeys.RIGHT?ke.getCursorPositionForSearchBox()==o.length&&ke.gsautocomplete.isAutoSuggDisplay&&((t=ke.gsautocomplete.currselecelem)||(a=je(".zgs19_gsAutoSuggChild:first").attr("id"),t=ke.getTargetElem(a)),ke.updateautosuggest(t,e),ke.stopEvent(e)):r!=ke.specialkeys.UP&&r!=ke.specialkeys.DOWN||(ke.isEditFieldsDisplay?ke.gskeyboard.keyboardNavgForEditFields(r):ke.gsautocomplete.isAutoSuggDisplay||ke.gsfilters.isUserSuggDisplay?ke.gskeyboard.keyboardNavgForAutoSugg(r):ke.timezonePopUp||ke.gscalendaraction.AttendeeSuggestion||!ke.calendarActionPopUpOpened?n||ke.isFeedbackFieldsFocused||(ke.isDashboardViewOpened()?ke.gscardinDb.isCardMaximised&&ke.gskeyboard.NavForCardsAndDashboard(r,ke.DASHBOARD_TYPE):ke.isCardViewOpened()?"block"==je("#zgs20_gsCardsList").css("display")||ke.gscreatecards?.isCreateCardPageOpened?ke.stopEvent(e):je("#zgs20_gsCrdPrevResult").length&&ke.gskeyboard.NavForCardsAndDashboard(r,ke.CARD_TYPE):!ke.isSearchViewTabOpened()||ke.isFilterPageOpened||ke.isQueryFocused||ke.gssavedsearches.isSaveThisSearchDialogOpened||ke.gskeyboard.keyUpAndDownAction(r)):ke.stopEvent(e),ke.hasOwnProperty("gscomponent")&&1===l.UIType&&ke.closeBiggerZOSPopup(e,!0),n||ke.stopEvent(e)))},ke.handleESCAction=function(e){if(ke.isGSOpenedKeyUp=!0,ke.isDatePickerDisplay)ke.hideDatePicker();else if(ke.isCustomDatePickerDisplay)ke.hideNewCustomDatePicker();else{if(ke.isMoreInnerFilterListDisplay)return ke.hideMoreInnerFilterList(),void ke.focusForWeb("zgs20_gsHolder");if(ke.isMoreFilterListDisplay)return ke.hideMoreFilterList(),void ke.hideMoreInnerFilterList();if(ke.isCalloutActionListOpened)return ke.hideCalloutActionList(),je(".zgs19_gsLabelsPopUp").remove(),void je(".zgs19_gsFlagPopUpElement").remove();if(ke.isEditFieldsDisplay)ke.hideEditFieldsList();else{if(ke.isMenuPopUpOpened)return je(".zgs19_gsMenuPopUp").remove(),void(ke.isMenuPopUpOpened=!1);if(ke.isAttendeesListOpened)return je(".zgs19_gsAttendeesListMenuPopUp").css("display","none"),void(ke.isAttendeesListOpened=!1);if(ke.isAttendeeMenuPopUp)return je(".zgs19_gsAttendeeMenuPopUp").css("display","none"),void(ke.isAttendeeMenuPopUp=!1);if(ke.isOpenDoubleClickPopup)return je(".zgs19_gsPopupSearch").remove(),ke.isOpenDoubleClickPopup=!1,void(ke.isOpenPopup=!1);if(ke.gscalendaraction.AttendeeSuggestion)ke.gscalendaraction.hideAttendeeSuggestion();else if(ke.timezonePopUp)ke.gscalendaraction.hideTimeZoneDialogBox();else if(ke.calendarActionPopUpOpened)ke.gscalendaraction.hideEditEventDialogBox();else if(ke.gsautocomplete.isAutoSuggDisplay)ke.removeQuerySugg();else{if(ke.isServiceOverlayOpened)return ke.gsusersettings.updateReorderActions("cancelSerOrder"),void(ke.isServiceOverlayOpened=!1);if(ke.isAccountsOverlayOpened)return ke.gsusersettings.updateSettingsActions("cancelSerAccOrder"),void(ke.isAccountsOverlayOpened=!1);if(ke.gsusersettings.isSettingsOpened)return ke.gsusersettings.changeUrlBeforeSettingsClose(),void ke.closeActionForSettings();if(ke.gssavedsearches.isSaveThisSearchDialogOpened)return ke.gssavedsearches.addToDbDDOpened?(ke.gssavedsearches.hideAddtodblistholder(),je("#zgs20_addToDbInputListInput").blur(),void je("#zgs20_gsMultiServiceSavePopup").click().focus()):ke.gssavedsearches.isAddtoDbElementOpened?void ke.gssavedsearches.hideaddtodbElement():void ke.gssavedsearches.hideSavedSearchDialog();if(je(".zgs19_gsActionsPopUp").is(":visible"))return je("#zgs20_gsOverlayDialog").empty(),void je("#zgs20_gsOverlayDialog").css("display","none");if(ke.isDashboardOpened&&ke.gscreatecards.isCreateCardPageOpened)ke.gscreatecardindb.closePage();else{if(ke.isFilterListDisplay)return ke.stopEvent(event),void ke.gsfilters.hideEachFilterPopUp("zgs20_gsFilterPopup");if(ke.hasOwnProperty("gsadvancesearch")&&ke.gsadvancesearch.isAdvFieldListOpened)return ke.stopEvent(event),void ke.gsadvancesearch.hideAdvPopUpList();if(ke.isAppListOpened)ke.gsfilters.hideAppsList();else{if(ke.isCrtPatnESCPressed)return ke.gsadvancesearch.cancelEditCriteria(),ke.isCrtPatnESCPressed=!1,void je("#zgs20_gsfilterBodyHldr").click().focus();if(!ke.isFilterPageOpened||ke.isFilterListDisplay||ke.gsadvancesearch.isAdvFieldListOpened||ke.isAppListOpened){if(ke.hasOwnProperty("gscards")){if(ke.hasOwnProperty("gscreatecards")){if(ke.isAppListOpened)return je("#zgs20_gsFilterPopup").css("display","none"),ke.isAppListOpened=!1,void(ke.gsfilters.currselecElem="");if(ke.gsfilters.isUserSuggDisplay)return void ke.gsfilters.hideUserContactSugg()}if(ke.gscardinfo.isCardInfoPopupOpened)return 0<je(".zgs19_gsAddCardInfo").length?void ke.gscardinfo.hideEditCardInfo():void(0<je(".zgs19_gsCardInfo").length&&ke.gscardinfo.hideCardPageInfoBox());if(ke.isCardPageOpened&&ke.popupUtils.isPopupOpened)return ke.popupUtils.closeCnfrmDialogBox(),void ke.popupUtils.closeOverlayDialog();if(ke.popupUtils.isSelectionPopupOpened)return void ke.popupUtils.closeSelectionPopup();if(ke.gscards.isCardServiceListFilterOpened)return void ke.gscards.hideServiceFilter();if(ke.gscards.isMoreServiceFiltersOpened)return void ke.gscards.closeMoreServiceFilterContainer();ke.gscards.isCardsActionMenuOpened&&ke.gscards.hideCardsActionMenu()}if(ke.hasOwnProperty("gsdbhome")){if(ke.isDashboardOpened&&ke.gsdbhome.isDashboardPopupOpened)return void ke.gsdbhome.dashboardConfirmActions(ke.popupUtils.popupCancelAction);if(""!=ke.gscardinDb.maximisedCardId){je(".zgs19_gsThumbNailViewOuter").remove();var s=je("#zgs20_gs"+ke.gscardinDb.maximisedCardId+"card");return void ke.gscardinDb.minimiseCard(s,"minimise")}if(je("#zgs20_gsDbDescPopup").length&&ke.gsaddcards.closeDbDescPopup(),ke.gsdbhome.isDbActionMenuOpened&&1!==je(target).closest("#zgs20_gsDbListMenu").length&&ke.gsdbhome.hideDbActionMenu(),0<je("#zgs20_PermalinkDialog").length)return void ke.gsdbhome.closePermalinkDialog()}ke.hasOwnProperty("gscomponent")&&1===l.UIType&&ke.closeBiggerZOSPopup(event),e||ke.isEmbed?ke.isGSOpenedKeyUp=!1:ke.globalToggleHandling()}else ke.gsfilters.filterActions("cancel")}}}}}},Ue.removeEventListener("keyup",ke.handleKeyUpAction,!0),ke.handleKeyUpAction=function(e){(e.keyCode||e.which)==ke.specialkeys.ESC&&ke.isGSOpenedKeyUp&&(ke.isGSOpenedKeyUp=!1,ke.stopEvent(e))},Ue.addEventListener("keyup",ke.handleKeyUpAction,!0),ke.globalClickEventForOverlay=function(e){1!==l.UIType&&(ke.isGSOpenedKeyUp=!1,ke.globalToggleHandling())},ke.isWMSPopUPOpened=function(){var e,s,t,a,r,o,i=!1,n=je("#zgs20_globalsearch").css("z-index");return isNaN(n)||(n=parseInt(n),a="wms_contactdetails",r="wms-imgpreviewcontainer",ke.isCliqDomain&&(a="hover",r="imgviewer"),t=je("#custommsg").css("display"),e=je("#"+a).css("display"),s=je("#"+r).css("display"),t&&"none"!=t?(t=je("#custommsg").css("z-index"),isNaN(t)||n<=(t=parseInt(t))&&(i=!0)):e&&"none"!=e?(a=je("#"+a).css("z-index"),isNaN(a)||n<=(a=parseInt(a))&&(i=!0)):s&&"none"!=s&&(o=je("#"+r).css("z-index"),isNaN(o)||n<=(o=parseInt(o))&&(i=!0)),ke.isCliqDomain&&(r=je("#fileforwardwin").length,o=je("#zcwindows").css("z-index"),0<r&&(isNaN(o)||n<=(o=parseInt(o))&&(i=!0)))),i},ke.moreSearchResultPage=function(e,s){var t,a,r,o;ke.network.removeEventSource(),s!==Be.GS_APPS?(t=ke.getAllQueryText()!==ke.searchedQuery,s=ke.isArrayContain(s,ke.configured_mail_module)?ke.mappedServiceList[s].originService:s,r=ke.getQueryText(),ke.updateQueryBox(s,ke.getQueryText()),ke.gshistory.updateSearchURLParams(s,r),ke.focusForWeb("zgs20_gsQueryBox"),ke.searchedQuery=ke.getAllQueryText(),a=ke.getSearchType(),ke.clearPrevSearchAction(),o=je(e).attr("gs"),r=je(e).attr("acc_id"),Be.ALL==a&&ke.isServiceHasMultiPortals(s)&&"serviceWidgetBand"!=o&&(ke.multiPageEnabled=!0),ke.getSearchType()!==s&&ke.updateSearchType(s,e),ke.checkAndUpdateSubMultiPageFlag(s),ke.multiPageEnabled||(r&&ke.setCurrentValue("accounts",r),s!==ke.GSConstant.MAILS||(o=je(e).attr("module_name"))&&"0"!=o&&ke.setCurrentValue("modules",o)),"account"===(je(e).attr("action_type")||"account")&&(ke.isArrayContain(s,ke.multiModSupportedServices)||s===Be.MAILS||s===Be.PROJECTS)||t?ke.handleSearchCall(s):(ke.loadSearchResults(s,r,e),ke.gsfilters.checkFiltersAppliedOrNot())):ke.getMoreAppsSearchResults()},ke.toggleCalloutActionList=function(e){var s=ke.getNodeByAttr(e,"class","zgs19_gsServiceCalloutHolder").getElementsByClassName("zgs19_gsCalloutActionList");"block"!=je(s).css("display")&&ke.hideAllDropdownList(),ke.isCalloutActionListOpened?(je(e).removeClass("zgs19_gsBorderCCC"),je(".zgs19_gsLabelsPopUp").remove(),je(".zgs19_gsFlagPopUpElement").remove(),je(s).css("display","none"),ke.isCalloutActionListOpened=!1):(je(e).addClass("zgs19_gsBorderCCC"),je(s).css("display","block"),ke.isCalloutActionListOpened=!0),ke.isDashboardPageOpened&&je(e).closest(".zgs19_gsInrCrdBody").outerHeight()<=230&&(je(s).css("height","180px"),je(s).css("overflow-x","auto"))},ke.downloadForCalloutAction=function(e,s,t){switch(e){case Be.WIKI:ke.gswiki.downloadWikiDocument(s);break;case Be.WORKDRIVE:ke.gsworkdrive.downloadWorkDriveDocument(s);break;default:var a=new ke.FileMgmtFactory,r={};r.service=e,a.createFileMgmtService(r).downloadDocument(s,t)}},ke.continueForCalloutAction=function(e,s,t,a){e===Be.SLACK?(e=ke.fetchCalloutUrl(e,s,t),ke.openInNewTab(e)):ke.chatAction(t,"continue",a,s)},ke.readMailstatusCalloutActions=function(e,s,t,a){var r=(new ke.dashboardSearchActions).createActionType(a).getSearchDBCalloutObj();switch(e){case Be.MAILS:ke.gsmails.toggleMailStatus(s,t,"markAsRead",r,a);break;case Be.O365MAIL:ke.gso365mail.toggleMailStatus("read",s,t,r,a);break;case Be.GMAIL:ke.gsgmail.toggleMailStatus("read",s,t,r,a)}},ke.unreadMailstatusCalloutActions=function(e,s,t,a){var r=(new ke.dashboardSearchActions).createActionType(a).getSearchDBCalloutObj();switch(e){case Be.MAILS:ke.gsmails.toggleMailStatus(s,t,"markAsUnread",r,a);break;case Be.O365MAIL:ke.gso365mail.toggleMailStatus("unread",s,t,r,a);break;case Be.GMAIL:ke.gsgmail.toggleMailStatus("unread",s,t,r,a)}},ke.contextMenuActionsPopUp=function(e,s){var t,a,r,o,i;ke.isCardViewOpened()||ke.isDashboardViewOpened()||(t=ke.getCurrentResObj(),r=ke.getCalloutSearchType(),o=je(e).attr("gs"),r===Be.CLIQ&&(a=t.cid||"",-1!==(a=(i=(i=ke.chidVsMeta||{}).hasOwnProperty(a)?i[a]:"").owner)&&"-1"!==a&&void 0!==a&&""!=a||(ke.isMenuPopUpOpened=!0,ke.openContextPopup=!0)),r===Be.CAMPAIGNS&&"1"===ke.getResultAccountId()&&(ke.isMenuPopUpOpened=!0,ke.openContextPopup=!0),ke.isMenuPopUpOpened&&o===je(ke.menuPopUpAction).attr("gs")||ke.openContextPopup?(je(".zgs19_gsMenuPopUp").remove(),ke.isMenuPopUpOpened=!1):(je(".zgs19_gsMenuPopUp").remove(),ke.addMenuContent(e,t,r,i,s),je("#zgs20_gsMenuPopUp").show(),a=je(e).height(),o=je("#zgs20_gsSearchResultRight").get(0).getBoundingClientRect(),t=je(e).get(0).getBoundingClientRect().top-o.top+a+16,r!=ke.GSConstant.ASANA&&(i=je(e).closest(".zgs19_gsUserBackground").width(),s=je("#zgs20_gsMenuPopUp").outerWidth(),o=je(e).position(),r!=ke.GSConstant.ZENDESK&&r!=ke.GSConstant.SUPPORT||(a=je(e).offset(),r=je(e).closest(".zgs19_gsDeskCallout").offset()||je(e).closest(".zgs19_gsZendeskCallout").offset(),o={top:a.top-r.top,left:a.left-r.left}),(s=o.left+i/2-s/2)<10&&(i=o.left+i/2-(s=10),je(".zgs19_gsMenuPopUp").prepend("<style>.zgs19_gsMenuPopUp::before{left:"+i+"px !important;}</style>"),je(".zgs19_gsMenuPopUp").prepend("<style>.zgs19_gsMenuPopUp::after{left:"+i+"px !important;}</style>")),je(".zgs19_gsMenuPopUp").css("left",s)),je(".zgs19_gsMenuPopUp").css("top",t),ke.isMenuPopUpOpened=!0,ke.menuPopUpAction=e))},ke.toggleBacktoTop=function(e,s){0<je("#"+e).scrollTop()?ke.showScrollTopIcon(s):ke.hideScrollTopIcon(s)},ke.setWMSZIndex=function(){var e,s,t;ke.hasWebMessanger?ke.isGSOpened?(e=2147483646,(s=WebMessanger.getZIndex?WebMessanger.getZIndex():"")&&(ke.wmsZIndex||(ke.wmsZIndex=s),ke.wmsContactsZIndex||(t=je("#wms_contactdetails").css("z-index"))&&(ke.wmsContactsZIndex=t),ke.wmstoolbarZIndex||(t=je("#wmstoolbar").css("z-index"),isNaN(t)||e<(t=parseInt(t))&&(ke.wmstoolbarZIndex=t)),isNaN(s)||(s=parseInt(s),ke.isGSOpened&&(e=e<s?e:s))),WebMessanger.setZIndex(e),4!==l.UIType&&1!==l.UIType&&je("#zgs20_globalsearch").css("z-index",e),je("#wms_contactdetails").css("z-index",e+1),je("#wmstoolbar").css("z-index",e-2),1===l.UIType&&(je("#zgs20_feedbackDialog").css("z-index",e+1),je("#wmstoolbar").css("z-index",e+1)),WebMessanger.closeOpenPopup&&WebMessanger.closeOpenPopup()):(ke.wmsZIndex&&(WebMessanger.setZIndex(ke.wmsZIndex),je("#wmstoolbar").css("z-index",ke.wmsZIndex)),ke.wmsContactsZIndex&&je("#wms_contactdetails").css("z-index",ke.wmsContactsZIndex),ke.wmstoolbarZIndex&&je("#wmstoolbar").css("z-index",ke.wmstoolbarZIndex)):0==ke.gscomponent.UIType&&je("#zgs20_globalsearch").css("z-index",999)},ke.showScrollTopIcon=function(e){je(e).css("display","block"),ke.isMobViewport()?je(e).css("bottom","90px"):je(e).css("bottom","20px")},ke.hideScrollTopIcon=function(e){je(e).css("display","none")},ke.multiPageScrollEvent=function(e,s){var t,a,r;ke.isBottomReached(e)&&(t=ke.getSearchType(),a=(ke.multiResultObj||{})[t]||[],r=ke.getWidgetServiceList(t),r=(e=ke.getFilterInfo(t,r.key,"accIdArr")).length-1,0<(e=ke.getSearchedMultiPageIndex(t,a,e))&&e<r&&0<ke.multiResCount&&(ke.multiStartSet!=(e=(e+e%2)/2)&&ke.handleMultiPageScroll(t,e))),ke.stopEvent(s)},ke.modulePageScrollEvent=function(e,s){var t=ke.getSearchType(),a=ke.isCursorSupportedService(t),r="";a&&(n=ke.curSelectedEle.getAttribute("acc_id"),r=(g=ke.cursorObj[n])?g.cursor:"");var o="",i=parseInt(ke.nextScrollValue);if(i<parseInt(ke.searchResultsLimit)||a&&""!==r){var n,l,g,c=ke.getQueryText(),d=!1;if(t!==ke.GSConstant.CRM||"true"!=ke.GSConstant.CRM_FETCH_ALL_RECORDS||(n=ke.getCurrentValue("modules",t))&&"all_crm_mod"===n&&(d=!0),(t=ke.checkAndReturnServiceCriteria(t))===ke.GSConstant.CALENDAR)switch(ke.getCurrentValue("eventTypes",t)){case"0":ke.checkAndFormSearchURL(c,t,e,-1),ke.checkAndFormSearchURL(c,t,e,1);break;case"-1":ke.checkAndFormSearchURL(c,t,e,-1);break;case"1":ke.checkAndFormSearchURL(c,t,e,1)}else ke.isBottomReached(e)&&(ke.isValidSearchQuery(c,t,je("#"+e))?ke.handleSearchCall(t):d?(l=ke.resultCount.crm,ke.nextScrollValue<l&&ke.renderSearchResults(t,!1,!0)):ke.noMoreResults||t==Be.ONEDRIVE&&!r||(c&&encodeURIComponent(c),i+=a?g.total_no_of_results:ke.fetchResCount,l="",!ke.isListViewSearch()||t!==ke.GSConstant.SALESFORCE&&t!==ke.GSConstant.ASANA||(a=t===ke.GSConstant.SALESFORCE?"modules":ke.WS,g=ke.getCurrentValue(a,t),a=ke.getCurrentValue("accounts",t),"all"===g&&""!==a&&(""===(l=ke.getModuleCursorInfo(t,a))||"0"===l?ke.scrollSearch=!0:i=0)),ke.isListViewSearch()&&ke.includes(t,ke.cursorSupportedCloudServices)&&(o=r),t!==ke.GSConstant.SALESFORCE&&t!==ke.GSConstant.ASANA||""===l||"0"===l||(o=l),ke.scrollSearch||(ke.scrollSearch=!0,ke.nextScrollValue=i,ke.resetCRMModCursor(t),ke.hideSearchPageLoader(),ke.addScrollLoader(e,"zgs20_gsScrollLoader"),ke.setCursorValue(t,o),o=ke.formFinalSearchObj(i,"",o),ke.getNewSearchResults(o))))}ke.stopEvent(s)},ke.setCursorValue=function(e,s){ke.cursor_info_service_search[e]=s},ke.getCursorValue=function(e){return ke.cursor_info_service_search.hasOwnProperty(e)?ke.cursor_info_service_search[e]:""},ke.resetCusrorValue=function(e){ke.cursor_info_service_search[e]=""},ke.resetCRMModCursor=function(e){var s,t;e===ke.GSConstant.SALESFORCE&&(s=ke.getCurrentValue("modules",e),t=ke.getCurrentValue("accounts",e),"all"===s&&""!==t&&ke.resetModuleCursorInfo(e,t))},ke.isBottomReached=function(e){var s=ke.getTargetElem(e);if(s&&0<s.scrollTop){e=s.scrollTop+s.offsetHeight,s=s.scrollHeight;if(s-e<300||e===s)return!0}return!1},ke.isTopReached=function(e){e=ke.getTargetElem(e);if(e){e=e.scrollTop;if(e<300||0===e)return!0}return!1},ke.checkAndFormSearchURL=function(e,s,t,a){var r=!1,o=!1,i=0;-1===a?(r=ke.isTopReached(t),o=ke.completedNoMoreResults,i=ke.completedNextScrollValue):1===a&&(r=ke.isBottomReached(t),o=ke.futureNoMoreResults,i=ke.futureNextScrollValue);r&&(ke.isValidSearchQuery(e,s)?ke.handleSearchCall(e,s):o||(i+=ke.fetchResCount,ke.scrollSearch||(ke.scrollSearch=!0,ke.hideSearchPageLoader(),-1===a?(ke.completedNextScrollValue=i,ke.addTopScrollLoader(t,"zgs20_gsScrollLoader")):1===a&&(ke.futureNextScrollValue=i,ke.addScrollLoader(t,"zgs20_gsScrollLoader")),a=ke.formFinalSearchObj(i,a),ke.getNewSearchResults(a))))},ke.addTopScrollLoader=function(e,s){ke.removeScrollLoader();s=ke.getFourDotLoader(s,"zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsScrollLoader zgs19_gsScrollMargin");je("#"+e).prepend(s)},ke.addScrollLoader=function(e,s){ke.removeScrollLoader();s=ke.getFourDotLoader(s,"zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsScrollLoader");je("#"+e).append(s)},ke.removeScrollLoader=function(){0<je("#zgs20_gsScrollLoader").length&&je("#zgs20_gsScrollLoader").remove()},ke.updateLastSearchQuery=function(e,s){ke.lastSearchQuery[e]=s},ke.getLastSearchedQuery=function(){return je.isEmptyObject(ke.lastSearchQuery)?"":ke.lastSearchQuery},ke.checkAndReturnServiceCriteria=function(e){return ke.getCurrentQueryCriteria("services")||e},ke.clearPrevSearchAction=function(){ke.closeMsg="",ke.nonsearchcall="",ke.curSelectedEle="",ke.nextScrollValue=0,ke.completedNextScrollValue=0,ke.futureNextScrollValue=0,ke.multiResCount=0,ke.multiStartSet=0,ke.multiResulList={},ke.renderedResultServiceMetaObj={},ke.mail_module_subset=[],ke.gssupport.calloutRespData={},ke.multiPageEnabled=!1,ke.scrollSearch=!1,ke.timerEnabled=!1,ke.isDefWelAdded=ke.isDefWelAdded||!1,ke.noResFeed=!1,ke.noMoreResults=!1,ke.completedNoMoreResults=!1,ke.futureNoMoreResults=!1,ke.isMaxCalloutOpen=!1,ke.setCalloutPreviewPosition(),ke.firstResultCallOutShown=!1,clearInterval(ke.calendarInterval),ke.dateFilterDisplay=!1,ke.hideHomeIcon(),ke.hideWelcomePage(),ke.removeIframeHolder(),ke.hideCalloutLoader(),ke.hideScrollTopIcon("#zgs20_gsBackToTop"),ke.removeScrollLoader(),ke.hideSearchPageLoader(),ke.hideQuickActionsPage(),je("#zgs20_gsQueryBoxHolder").css("display","block"),je("#zgs20_gsSearchBoxRight").css("display","block"),ke.GSConstant.isNLPTracerEnabled&&ke.gsnlpsearch.clearNLPTracerData(),ke.gskeyboard.initialize(),je("#zgs20_gsIntranetfeedbackform").css("display","none"),ke.gswebsite.hasOwnProperty("ZohoHCAsap")&&delete ke.gswebsite.ZohoHCAsap},ke.removeIframeHolder=function(){var e=je(".zgs19_gsSearchResultRight").find("#zgs20_gsDocsPreviewHolder");e.empty().css("visibility","hidden"),ke.isMaxCalloutOpen&&ke.minCalloutPreviewChange(e)},ke.clearOldSearchData=function(e){ke.clearPrevSearchAction(),ke.total_no_of_results=0,ke.searchedQuery="",ke.mail_module_subset=[],ke.chidVsMeta={},ke.multiResultObj={},ke.responseObj={},ke.docIdsVsEncryptedIds={},Be.ALL===e?(ke.resultCount={},ke.resultObject={},ke.moreResultCount={},ke.moreResultObject={},ke.crm_rendered_modules={},ke.projects_rendered_modules={},ke.iWeightage={},ke.fWeightage={},ke.resultToBeShown={},ke.Utils.clearAllModResInfo()):(ke.resultCount[e]=0,ke.resultObject[e]={},ke.moreResultCount[e]={},ke.moreResultObject[e]={},ke.crm_rendered_modules[e]={},ke.projects_rendered_modules[e]={},ke.iWeightage[e]=0,ke.fWeightage[e]=0,ke.subMultiPageEnabled||(ke.resultToBeShown[e]=0),ke.Utils.clearServiceModResInfo(e)),ke.campaignsRenderedMod=[]},ke.isValidSearchQuery=function(e,s,t){var a=!1;return ke.isQueryValid(e)||ke.isQueryHasUserCriteria()?(e=ke.getAllQueryText(),ke.searchedQuery===e&&ke.getSearchType()===s&&!l.isSameQrySearchEnabled||(a=!(l.isSameQrySearchEnabled=!1))):a=!1,a},ke.updateSearchType=function(e,s){ke.resizeForLeftPanelchanges();var t=ke.getSearchType();e=ke.hasOwnProperty("gshistory")?ke.gshistory.getProperServiceName(e):e,ke.isArrayContain(e,ke.configured_mail_module)&&(e=ke.mappedServiceList[e].originService),!ke.multiPageEnabled&&e!==Be.ALL&&e===Be.MAILS||ke.updateSubMultiPageFlag(""),je("#"+("zgs20_gsServicePanelList"+t)).removeClass("zgs19_gsSelectedServicepanel zgs19_gsBGC2f").addClass("zgs19_gsUnServiceLeftPanel");var a="zgs20_gsServicePanelList"+e;je("#"+a).removeClass("zgs19_gsUnServiceLeftPanel zgs19_gsBGC2f").addClass("zgs19_gsSelectedServicepanel");var r=ke.getTargetElem(a);ke.isDashboardEnabled?setTimeout(function(){r&&!ke.gskeyboard.isCurElementInViewPort(r)&&r.scrollIntoView({behavior:"smooth",block:"end"})},500):r&&!ke.gskeyboard.isCurElementInViewPort(r)&&r.scrollIntoView(!1),ke.isDashboardEnabled&&(a=je("#zgs20_gsDashboardHolder").children("#zgs20_gsServicePanelListDashboard"),je(a).addClass("zgs19_gsUnServiceLeftPanel").removeClass("zgs19_gsSelectedServicepanel")),ke.hideWelcomePage(),ke.hideQuickActionsPage(),"search"===ke.selectedLeftPanelDivision&&(ke.isFilterPageOpened||t===e)||(ke.setService(e),(t=ke.getFilterInfo(e,"accounts","default"))&&0!=t&&ke.setCurrentValue("accounts",t)),je("#zgs20_gsFilterIconHolder").attr("gsa",e+"_searchbox_filter"),ke.GSConstant.nlpSearchEnabled&&!ke.GSConstant.isAskZiaTabEnabled&&ke.hasOwnProperty("gsnlpsearch")&&ke.gsnlpsearch.toggleNLPSearchForServices(),ke.setSearchBoxPlaceHolder(),ke.handleSearchCloseIcon()},ke.setSearchBtnAndVal=function(){je("#zgs20_gsSearchBtn").val(ke.getI18NMsg("common.search")),je("#zgs20_gsSearchBtn").show()},ke.setPosForToList=function(e,s){var t,a;"tolink"==s?(je("#zgs20_gsDropdownToList").css("inset-block-start",59),je("#zgs20_gsDropdownToList").css("inset-inline-start",59)):"showMoreBlogCategory"==s?(a="showMoreBlogCategory"==s?je(e).attr("childId"):"zgs20_gsPanelListList",t=ke.getNodeByAttr(e,"gs","categories"),e=je(t).position(),a=je(t).find("#"+a),e=e.left,a.css("left",e)):(s="ownerLink",je("#zgs20_gsDropdownOwnerList").css("inset-block-start",36),s=je(".zgs19_gsCalloutMetaLeft").width()+je(".zgs19_gsCalloutUserDate").width()-(document.getElementById("zgs20_gsCalloutDDOwnerList").offsetLeft+je("#zgs20_gsCalloutDDOwnerList").width()),je("#zgs20_gsDropdownOwnerList").css("inset-inline-end",s))},ke.getNoteByAttr=function(e,s,t){for(var a=e,r=ke.getTargetElem("zgs20_globalsearch");a&&a!==r;){if(t===je(a).attr(s))return a;a=a.parentNode}return null},ke.getNodeByAttr=function(e,s,t){for(var a=e,r=ke.getTargetElem("zgs20_globalsearch");a&&a!==r;){var o=je(a).attr(s);if(ke.includes(t,o))return a;a=a.parentNode}return null},ke.getvalueByAttr=function(e,s){for(var t=e,a={},r=ke.getTargetElem("zgs20_globalsearch");t&&t!==r;){if(t.hasAttribute(s))return a.node=t,a[s]=t.getAttribute(s),a;t=t.parentNode}return null},ke.getTopMostParentNode=function(e,s){for(var t=e;t;){if(s===je(t).attr("gs"))return t;t=t.parentNode}return null},ke.getParentTipNode=function(e){for(var s=e,t=ke.getTargetElem("zgs20_globalsearch");s&&s!==t;){if(je(s).attr("gsParentTip"))return s;s=s.parentNode}return null},ke.hideResMoreOption=function(e,s){var t=je(e).attr("service"),a="zgs20_gs"+(s||t)+"More",s=ke.getSearchType();(ke.multiPageEnabled||Be.MAILS===s&&ke.subMultiPageEnabled)&&(a="zgs20_gs"+(e=je(e).attr("acc_id"))+"More",ke.subMultiPageEnabled&&(a="zgs20_gs_"+t+"_"+e+"_More")),ke.curMoreService="",je("#"+a).hide()},ke.showResMoreOption=function(e){je(".zgs19_gsMoreOption").css("display","none");var s=je(e).attr("acc_id"),t=je(e).attr("service"),a=ke.getSearchType(),e=Be.ALL!==a?je(e).attr("service"):"";!ke.isServiceHasMoreResults(t,s,e)&&t!==Be.GS_APPS||(ke.multiPageEnabled||Be.MAILS===a&&ke.subMultiPageEnabled?(a="zgs20_gs"+(ke.curMoreService=s)+"More",ke.subMultiPageEnabled&&(a="zgs20_gs_"+t+"_"+s+"_More"),je("#"+a).css("display","block")):t===Be.GS_APPS?ke.toggleMoreRelatedProducts():(ke.curMoreService=t,je("#zgs20_gs"+t+"More").css("display","block")))},ke.isServiceHasMoreResults=function(e,s,t){var a=!1,r=ke.enabledSubServicesList(ke.getServiceList("serviceList")||[]);if(ke.isArrayContain(e,r)){var o,r=ke.getSearchType();if(!(a=ke.GSConstant.ALL==r&&ke.isServiceHasMultiPortals(e)&&2<=(ke.multiResultObj[e]||[]).length?!0:a))if(e===ke.GSConstant.ASANA&&(o=ke.getCurrentValue(ke.WS,e),s=s||ke.getCurrentValue("accounts",e)),e===ke.GSConstant.SALESFORCE||e===ke.GSConstant.ASANA&&"all"==o){var i,n=(ke.moreResultCount[e]||{})[s]||{},l=0;for(i in n)l+=n[i];a=0<l}else{r=ke.getServiceResultCount(e,s,t);"object"==typeof r&&e===ke.GSConstant.ASANA&&(r=r[s][o]),ke.getShownResultCount(e,s,t)<r&&(a=!0)}}return a},ke.mouseEnterEvent=function(e,s){try{ke.isGSOpened&&"ServiceTemplate"===s&&ke.showResMoreOption(e)}catch(e){}},ke.mouseLeaveEvent=function(e,s){try{ke.isGSOpened&&"ServiceTemplate"===s&&ke.hideResMoreOption(e)}catch(e){}},ke.appendFilterIcon=function(e,s){var t=ke.currHoverRes,a="";switch(s||je(t).attr("service")){case ke.GSConstant.CRM:case ke.GSConstant.CLIQ:case ke.GSConstant.MAILS:case ke.GSConstant.STREAMS:case ke.GSConstant.SUPPORT:case ke.GSConstant.PEOPLE:case ke.GSConstant.CONNECT:case ke.GSConstant.LEARN:case ke.GSConstant.BOOKS:case ke.GSConstant.INVOICE:case ke.GSConstant.INVENTORY:case ke.GSConstant.CALENDAR:case ke.GSConstant.O365MAIL:case ke.GSConstant.NOTEBOOK:case ke.GSConstant.SALESFORCE:case ke.GSConstant.ASANA:case ke.GSConstant.BIGIN:case ke.GSConstant.EVERNOTE:case ke.GSConstant.SALESIQ:a="deptName"===je(e).attr("gsfilter")?-1<je(ke.currHoverRes).attr("class").indexOf("zgs19_gsSelectedElem")?"zgs18_gsModuleFilterIcon3":"zgs18_gsModuleFilterIcon2":"zgs18_gsModuleFilterIcon1";break;case ke.GSConstant.ZENDESK:a="organization"===je(e).attr("gsfilter")?"zgs18_gsModuleFilterIcon8":"zgs18_gsModuleFilterIcon1";break;case ke.GSConstant.WEBSITE:case ke.GSConstant.ORGRESOURCES:je(e).attr("gs"),a=-1<je(ke.currHoverRes).attr("class").indexOf("zgs19_gsSelectedElem")?"zgs18_gsModuleFilterIcon5":"zgs18_gsModuleFilterIcon4";break;case ke.GSConstant.WORKDRIVE:a="rightFilter"===je(e).attr("gsfilter")?"zgs18_gsModuleFilterIcon1":-1<je(ke.currHoverRes).attr("class").indexOf("zgs19_gsSelectedElem")?"zgs18_gsModuleFilterIcon5":"zgs18_gsModuleFilterIcon4";break;case ke.GSConstant.PROJECTS:a="projectsFilter"===je(e).attr("gs")?(-1<je(ke.currHoverRes).attr("class").indexOf("zgs19_gsSelectedElem")?"zgs18_gsModuleFilterIcon5":"zgs18_gsModuleFilterIcon4")+" zgs19_gsPdLt2Px":"zgs18_gsModuleFilterIcon1";break;case ke.GSConstant.GMAIL:a="zgs18_gsModuleFilterIcon7"}ke.setGSTagElems(t);t=je("<span>",{id:"zgs20_gsHoverFilter",class:a});je(t).insertBefore(e);t=ke.getParentNode(e,"gsFilterIcon");t&&(je(t).find(".zgs19_gsResIntxt2").css("visibility","hidden"),je(t).find(".zgs19_gsResIntxt").css("visibility","hidden"),je(t).find(".zgs19_gsContactDeptImg").css("visibility","hidden"))},ke.removeFilterIcon=function(e){je(e).css("max-width","");e=ke.getParentNode(e,"gsFilterIcon");e&&(je(e).find(".zgs19_gsResIntxt2").css("visibility","visible"),je(e).find(".zgs19_gsResIntxt").css("visibility","visible"),je(e).find(".zgs19_gsContactDeptImg").css("visibility","visible")),je("#zgs20_gsHoverFilter").remove()},ke.setCurrentHoveredRes=function(e){ke.currHoverRes=e},ke.removeCurrentHoveredRes=function(){ke.currHoverRes=""},ke.jqueryMouseEvent=function(){je(".zgs19_auth").off().on({mouseenter:function(){ke.gssettingsapptab.showAccModInfo(this)},mouseleave:function(){ke.gssettingsapptab.hideAccModInfo(this)}}),je(".zgs19_sub_auth").off().on({mouseenter:function(){ke.gssettingsapptab.showAccModInfo(this)},mouseleave:function(){ke.gssettingsapptab.hideAccModInfo(this)}}),je(".zgs19_gsSearchResultTable").off().on({mouseenter:function(){ke.setCurrentHoveredRes(this)},mouseleave:function(){ke.removeCurrentHoveredRes()}}),je(".zgs19_hvr_underline").off().on({mouseenter:function(){ke.appendFilterIcon(this)},mouseleave:function(){ke.removeFilterIcon(this)}}),je(".zgs19_gsServiceTemplate").off().on({mouseenter:function(){ke.mouseEnterEvent(this,"ServiceTemplate")},mouseleave:function(){ke.mouseLeaveEvent(this,"ServiceTemplate")}}),je(".zgs19_gsAppsTemplate").off().on({mouseenter:function(){ke.mouseEnterEvent(this,"ServiceTemplate")},mouseleave:function(){ke.mouseLeaveEvent(this,"ServiceTemplate")}}),je("#zgs20_gsSearchResultLeft").off().on({mouseenter:function(){ke.mouseEnterEvent(this,"serviceLeftPanel")},mouseleave:function(){ke.mouseLeaveEvent(this,"serviceLeftPanel")}}),je(".zgs19_gsServiceMenu").off().on({mouseenter:function(){ke.mouseEnterEvent(this,"serviceLeftPanelMenu")}}),je("#zgs20_gsQuerySugg").off().on({mouseleave:function(){var e=je(".zgs19_gsAutoSuggChild:first").attr("id");je("#"+e+" .zgs19_gsAutoSuggChildName").addClass("zgs19_gsFtWeightBold")}}),je(".zgs19_gsAppsRes").off().on({mousedown:function(e){"relatedproducts"==je(this).attr("key")&&(ke.gsautocomplete.openApp(e,this),ke.stopEvent(e))}}),je(".zgs19_gsAutoSuggChild").off().on({mousemove:function(){var e;ke.handleMouseMoveEvent(),ke.gsautocomplete.currselecelem!=this&&(ke.gsautocomplete.currselecelem=this,ke.updatesuggtext(),je(".zgs19_gsAutoSuggChild").removeClass("zgs19_gsAutoSuggChildIn"),je(".zgs19_gsAutoSuggChild .zgs19_gsAutoSuggChildName").removeClass("zgs19_gsFtWeightBold"),e=je(this).attr("id"),je(this).addClass("zgs19_gsAutoSuggChildIn"),je("#"+e+" .zgs19_gsAutoSuggChildName").addClass("zgs19_gsFtWeightBold"))},mouseleave:function(){var e;ke.isMouseStopped||(e=je(this).attr("id"),je(this).removeClass("zgs19_gsAutoSuggChildIn"),je("#"+e+" .zgs19_gsAutoSuggChildName").removeClass("zgs19_gsFtWeightBold"),ke.gsautocomplete.currselecelem="",ke.updatesuggtext())},mousedown:function(e){ke.gsautocomplete.mousedown=!0,ke.gsautocomplete.contextmenu=!1,"relatedproducts"==je(this).attr("key")&&(ke.gsautocomplete.openApp(e,this),ke.stopEvent(e))},contextmenu:function(){ke.focusForWeb("zgs20_gsQueryBox"),ke.gsautocomplete.contextmenu=!0},click:function(e){ke.focusForWeb("zgs20_gsQueryBox"),ke.gsautocomplete.contextmenu?ke.gsautocomplete.contextmenu=!1:ke.updateautosuggest(this,e)}}),je(".zgs19_gsAutoSuggShowMore").off().on({mousedown:function(){ke.gsautocomplete.mousedown=!0,ke.gsautocomplete.contextmenu=!1},contextmenu:function(){ke.focusForWeb("zgs20_gsQueryBox"),ke.gsautocomplete.contextmenu=!0},click:function(){ke.focusForWeb("zgs20_gsQueryBox"),ke.gsautocomplete.contextmenu?ke.gsautocomplete.contextmenu=!1:ke.gsautocomplete.showMoreAutoSuggest(this)}}),je(".zgs19_gsAteendeeInfo").off().on({mouseenter:function(){je(this).find(".zgs19_gsAttendeeActionsHover").css("visibility","visible")},mouseleave:function(){je(this).find(".zgs19_gsAttendeeActionsHover").css("visibility","hidden")}}),je(".zgs19_gsAttendeeContainer").off().on({mouseenter:function(){je(this).find(".zgs19_gsAttendeeClose").css("visibility","visible")},mouseleave:function(){je(this).find(".zgs19_gsAttendeeClose").css("visibility","hidden")}}),je(".zgs19_gsTzInput").off().on({input:function(){var e=je(this).val().toLowerCase();je(".zgs19_gsTzListContainer>.zgs19_gsTzItem").filter(function(){je(this).toggle(-1<je(this).text().toLowerCase().indexOf(e))})},keydown:function(e){var s=e.keyCode||e.which;s!==ke.specialkeys.ENTER&&s!==ke.specialkeys.UP&&s!==ke.specialkeys.DOWN||ke.stopEvent(e)}}),je("#zgs20_gsAttendeeSearchBox").off().on({input:function(){var e;Object.keys(ke.gscalendaraction.tempAttendeeList).length<=100&&(0<(e=je("#zgs20_gsAttendeeSearchBox").val()).length?ke.gscalendaraction.updateSearchQueryForCalendar(e):ke.gscalendaraction.hideAttendeeSuggestion())},keydown:function(e){var s,t,a=e.keyCode||e.which;a===ke.specialkeys.ENTER?0<je("#zgs20_gsAttendeeSearchBox").val().length&&(s=je("#zgs20_gsAttendeeSearchBox").val().toLowerCase(),ke.emailRegexPattern.test(s)?(t=Object.keys(ke.gscalendaraction.tempAttendeeList).length,ke.gscalendaraction.addAttendeeDetails(1+t,!1,"","","",s,null,"zgs20_gsAttendeeEditList",!1),ke.gscalendaraction.tempAttendeeList[s]={eM:s},je("#zgs20_gsAttendeeSearchBox").val(""),je("#zgs20_gsAttendeeSearchBox").focus()):ke.showbannertip({ty:3,msg:ke.getI18NMsg("gs.search.calendar.callout.emailError")})):a!==ke.specialkeys.UP&&a!==ke.specialkeys.DOWN||ke.stopEvent(e)}})},ke.jqueryMouseEvent(),ke.hideFilterList=function(){ke.currFilterSelectedElem="",ke.isFilterListDisplay=!1,je(ke.currFilterListElem).remove(),je(".zgs19_gsModuleFilterNameHolderNew").removeClass("zgs19_gsboxholder"),je(".zgs19_gsModuleSortNameHolderNew").removeClass("zgs19_gsboxholder"),ke.hideFilterElemIcon(ke.oldFilterElemIcon)},ke.hideMoreFilterList=function(){ke.curMoreFiltersList={},ke.curMoreDateFiltersList={},ke.isMoreFilterListDisplay=!1,je("#zgs20_gsMoreFilterWidgetList").remove(),ke.hideMoreFilterElemIcon(ke.oldFilterElemIcon)},ke.hideMoreInnerFilterList=function(){ke.isMoreInnerFilterListDisplay=!1,je("#zgs20_gsMoreFilterInnerList").remove(),je(".zgs19_gsModuleMoreFilterElemHolder").removeClass("zgs19_gsboxholder"),ke.hideMoreFilterElemIcon(ke.oldFilterElemIcon)},ke.hideCalloutActionList=function(){ke.isCalloutActionListOpened=!1,je(".zgs19_gsCalloutActionList").css("display","none"),je(".zgs18_gsCalloutActionMenu").removeClass("zgs19_gsBorderCCC")},ke.hideEditFieldsList=function(){ke.currEditFieldselecelem="",ke.isEditFieldsDisplay=!1,je("#zgs20_gsEditFieldsHolder").remove(),je(".zgs19_gsEditFieldsNameHolder").removeClass("zgs19_gsboxholder zgs19_gsboxholderbot"),je(".zgs19_gsEditFieldsNotify").addClass("zgs19_gsHideEleme")},ke.hideFormsViewsFilterElemIcon=function(e){var s=je(e).attr("fkey"),t=je("#zgs20_gsModuleFilterWidgetFooter").attr("fkey");!ke.isFilterListDisplay||ke.isFilterListDisplay&&s!=t?je(e).find(".zgs19_gsModuleFilterElemIcon").addClass("zgs19_gsVisibleHidden"):ke.oldFilterElemIcon=e},ke.hideFilterElemIcon=function(e){var s=je(e).attr("fkey"),t=je("#zgs20_gsModuleFilterWidgetList").attr("fkey");!ke.isFilterListDisplay||ke.isFilterListDisplay&&s!=t?(t=je(ke.curDatePickerElem).attr("fkey"),(!ke.isDatePickerDisplay||ke.isDatePickerDisplay&&s!=t)&&je(e).find(".zgs19_gsModuleFilterElemIcon").addClass("zgs19_gsVisibleHidden")):ke.oldFilterElemIcon=e},ke.hideMoreFilterElemIcon=function(e){var s=je(e).attr("fkey"),t=je("#zgs20_gsMoreFilterInnerList").attr("fkey");!ke.isMoreInnerFilterListDisplay||ke.isMoreInnerFilterListDisplay&&s!=t?(t=je(ke.curDatePickerElem).attr("fkey"),(!ke.isDatePickerDisplay||ke.isDatePickerDisplay&&s!=t)&&je(e).find(".zgs19_gsModuleFilterElemIcon").addClass("zgs19_gsVisibleHidden")):ke.oldFilterElemIcon=e},ke.hideMoreContextualFilter=function(){je("#zgs20_gsHoverFilter").remove(),je("#zgs20_gsResultFilterDropDown").remove()},ke.hideMoreResultFields=function(){je("#zgs20_gsResultFilterDropDown").remove()},ke.removeClass=function(e,s,t){je(e).find(s).removeClass(t)},ke.showFilterElemIcon=function(e){ke.removeClass(e,".zgs19_gsModuleFilterElemIcon","zgs19_gsVisibleHidden")},ke.handleMouseMoveEvent=function(){ke.isMouseStopped=!1,clearTimeout(ke.setMouseTimer),ke.setMouseTimer=setTimeout(function(){ke.isMouseStopped=!0,clearTimeout(ke.setMouseTimer)},100)},ke.addEventFormsViewsFilterElem=function(){je("#zgs20_gsFormViewsFilterDataHolder .zgs19_gsModuleFilterElemHolder").off().on({mousemove:function(){ke.showFilterElemIcon(this)},click:function(){ke.showFilterElemIcon(this)},mouseleave:function(){ke.hideFormsViewsFilterElemIcon(this)}})},ke.addEventForFormsViewsListBox=function(e){je("#"+e+" .zgs19_gsFilterQuerySelection").off().on({mousemove:function(){ke.handleMouseMoveEvent(),ke.currCreatorFilterSelectedElem!=this&&(ke.currCreatorFilterSelectedElem=this,je(".zgs19_gsFilterQuerySelection").removeClass("zgs19_gsAutoSuggChildIn"),je(this).addClass("zgs19_gsAutoSuggChildIn"))},mouseleave:function(){ke.isMouseStopped||(je(this).removeClass("zgs19_gsAutoSuggChildIn"),ke.currCreatorFilterSelectedElem="")},mousedown:function(){ke.currCreatorFilterClickelem=this,ke.isCurrCreatorFilterClickelem=!0}})},ke.addMoreEventForFilterElem=function(){je("#zgs20_gsMoreFilterWidgetList .zgs19_gsModuleMoreFilterElemHolder").off().on({mousemove:function(){je(this).attr("soid")&&ke.showFilterElemIcon(this)},mouseleave:function(){je(this).attr("soid")&&ke.hideMoreFilterElemIcon(this)}})},ke.addEventForEditFieldsQueryBox=function(){je("#zgs20_gsEditFieldsFooter .zgs19_gsEditFieldsChild").off().on({mousemove:function(){ke.handleMouseMoveEvent(),je(".zgs19_gsEditFieldsChild").removeClass("zgs19_gsAutoSuggChildIn"),je(this).addClass("zgs19_gsAutoSuggChildIn")},mouseleave:function(){ke.isMouseStopped||je(this).removeClass("zgs19_gsAutoSuggChildIn")},click:function(){ke.currEditFieldselecelem=this;var e=je("#zgs20_gsEditFieldsHolder").attr("datatype");"statusChange"==e?ke.gssupportaction.clickActionForStatus(this):"configSortAction"===e?ke.gsusersettings.clickActionForSort(this):(je(".zgs19_gsEditFieldsRadio").prop("checked",!1),je(this).find(".zgs19_gsEditFieldsRadio").prop("checked",!0),je(".zgs19_gsEditFieldsNotify").removeClass("zgs19_gsHideEleme"))}}),je("#zgs20_gsEditFieldsQrybox").off().on({focus:function(){je("#zgs20_gsEditFieldsQryHolder").removeClass("zgs19_gsModuleFilterWidgetFocusOut").addClass("zgs19_gsModuleFilterWidgetFocus")},blur:function(){je("#zgs20_gsEditFieldsQryHolder").removeClass("zgs19_gsModuleFilterWidgetFocus").addClass("zgs19_gsModuleFilterWidgetFocusOut")},input:function(){ke.gsaction.searchForEditFields()}}),ke.focusForWeb("zgs20_gsEditFieldsQrybox")},ke.getResultsAreaWidth=function(){return ke.resulstAreaWidth},ke.setResultsAreaWidth=function(e){ke.resulstAreaWidth=e},ke.isServiceHasEmptySearch=function(e){for(var s=!1,t=[],a=ke.getMappedServiceList(),r=(t=Be.ALL==e?ke.enabledSubServicesList(ke.getServiceList("serviceList")||[]):e.split()).length||0,o=0;o<r;o++){var i=t[o];if(a.hasOwnProperty(i))if(a[i].listview){s=!0;break}}return s},ke.hideServiceAccOrderOverlay=function(){je(".zgs19_gsServiceAccOrderDialog").remove(),je(".zgs19_gsServiceOrderOverlay").remove()},l.isResizeEnabled()&&(Ue.removeEventListener("resize",ke.gsresizepage,!1),ke.gsresizepage=function(){ke.hideDatePicker(),ke.hidetooltip(),ke.setGSElemSize()},Ue.addEventListener("resize",ke.gsresizepage,!1)),ke.searchViewport.removeEventListener(ke.mousewheelevt,ke.gsmousewheelevent,{passive:!0}),ke.gsmousewheelevent=function(e){ke.isGSOpened&&ke.hidetooltip()},ke.searchViewport.addEventListener(ke.mousewheelevt,ke.gsmousewheelevent,{passive:!0}),ke.isExtension&&(ke.searchViewport.removeEventListener("click",ke.smallerExtensionClickEvent,!0),ke.smallerExtensionClickEvent=function(e){try{var s;1==(e.which||"")&&(s=e.target,ke.hideAllDropdownList(s),"myaccounts"===je(s).attr("gs")&&(ke.openInNewTab(ke.GSConstant.IAM_ACCOUNTS_URL),ke.stopEvent(e)))}catch(e){ke.throwClientError("Error in smallerExtensionClickEvent.",e)}},ke.searchViewport.addEventListener("click",ke.smallerExtensionClickEvent,!0)),1===l.UIType&&(Ue.removeEventListener("click",ke.globalClickEvent,!0),ke.globalClickEvent=function(e){try{if(1==(e.which||"")){var s=e.target;switch(ke.hideAllDropdownList(s),je(s).attr("gs")||ke.getParentNode(s,"gs")){case"sendFeedback":ke.gszohosearch.sendFeedbackValidation();break;case"feedBack":ke.gsconnector.renderfeedbackForm(),ke.changeBGClass(ke.curSelectedEle,"zgs19_gsSelectedElem","zgs19_gsUnSelectedElem"),ke.curSelectedEle="";break;case"zsfeedback":ke.hideManageAppPopUp(),ke.gszohosearch.toggleFeedback(),ke.stopEvent(e)}}}catch(e){ke.throwClientError("Error in globalClickEvent.",e)}},Ue.addEventListener("click",ke.globalClickEvent,!0),ke.searchViewport.removeEventListener("click",ke.biggerZOSClickEvent,!0),ke.biggerZOSClickEvent=function(e){try{if(1==(e.which||"")){var s=e.target;switch(ke.hideAllDropdownList(s),je(s).attr("gs")||ke.getParentNode(s,"gs")){case"myaccounts":ke.openInNewTab(ke.GSConstant.IAM_ACCOUNTS_URL),ke.stopEvent(e);break;case"signout":ke.gscomponent.SMALL_UI_PROFILE_ENABLED&&ke.gstopband.hideUserDetails(),ke.globalClickEventForOverlay(e);break;case"userDetails":case"gsProfilePhoto":ke.gstopband.createUserDetailsTemplate(0),ke.gstopband.toggleUserDetails();break;case"nlpTracer":ke.gsnlpsearch.toggleNLPTracer();break;default:if(ke.getParentNode(s,"hamburger"))return void ke.gstopband.toggleHamburger();if(!ke.getParentNode(s,"feedbackData")&&ke.hasOwnProperty("gszohosearch")&&ke.gszohosearch.isFeedbackOpened)return void ke.gszohosearch.toggleFeedback();ke.getParentNode(s,"zsfeedback")&&(ke.gszohosearch.toggleFeedback(),ke.stopEvent(e))}}}catch(e){ke.throwClientError("Error in biggerZOSClickEvent.",e)}},ke.searchViewport.addEventListener("click",ke.biggerZOSClickEvent,!0)),ke.searchViewport.removeEventListener("scroll",ke.scrollEvent,!0),ke.scrollEvent=function(a){try{ke.isGSOpened&&(ke.hideWidgetsPopup(a),ke.Utils.debounce(function(){ke.hidetooltip();var e=je(a.target).attr("gs"),s=je(a.target).attr("service");switch(e){case"serviceSpecificPage":ke.toggleBacktoTop("zgs20_gs"+s+"Template","#zgs20_gsBackToTop"),ke.modulePageScrollEvent("zgs20_gs"+s+"Template",a),ke.stopEvent(a);break;case"multiPageHolder":ke.toggleBacktoTop("zgs20_MultiSearchPageHolder","#zgs20_gsBackToTop"),ke.multiPageScrollEvent("zgs20_MultiSearchPageHolder",a),ke.stopEvent(a);break;case"calloutFooter":var t=ke.getTargetElem("zgs20_gsMailCallout");t&&(ke.setGSTagElems(t),ke.setPosForToList(t.tolink,"tolink"),ke.stopEvent(a));break;case"cardContent":case"cardsListContent":ke.gscards.cardsPageScrollEvent();break;case"eachCardContent":ke.gsaddcards.editDashboardDraggableElemsScroll(a);break;case"dashboardContent":ke.gscardinDb.dashboardScrollEvent();break;case"savedSearchesPage":ke.savedSearchPageScrollEvent("zgs20_gsSSTabListing",a);break;case"cardResTemplate":ke.gscardsresult.cardScrollEvent(je(a.target).attr("id"),a),ke.stopEvent(a);break;case"cardPageResTemplate":ke.gsCardResUtils.cardScrollEvent(je(a.target).attr("id"),a),ke.stopEvent(a);break;default:t=ke.getParentNode(a.target,"servListHolder");t&&(t=ke.getTargetElem("zgs20_gsServListHolder").scrollHeight<=je(t).scrollTop()+je(t).height()?"none":"block",je("#zgs20_gsSerPanelShadow").css("display",t),ke.stopEvent(a))}},70,"scrollEvent"))}catch(e){ke.throwClientError("Error in scrollEvent.",e)}ke.wheelEvent(a)},ke.searchViewport.addEventListener("scroll",ke.scrollEvent,!0),ke.scrollDown=ke.scrollDown||0,ke.wheelEvent=function(r){try{ke.isGSOpened&&ke.Utils.throttle(function(){var e=e||ke.getParentNode(r.target,"AllSearchPage");e=(e=e||ke.getParentNode(r.target,"multiPageHolder"))||ke.getParentNode(r.target,"serviceSpecificPage");var s="",t=je(r.target).attr("gs");switch(t=e?je(e).attr("gs"):t){case"serviceSpecificPage":var a=ke.getSearchType(),s="zgs20_gs"+a+"Template",a=ke.isArrayContain(a,ke.configured_mail_module)?ke.mappedServiceList[a].originService:a;ke.isArrayContain(a,ke.account_based_filter_service_list)&&(ke.subMultiPageEnabled||ke.multiPageEnabled||(s=je("#"+e.id)[0]));break;case"multiPageHolder":s="zgs20_MultiSearchPageHolder";break;case"AllSearchPage":s="zgs20_gsAllSearchResultPage"}t=ke.getTargetElem(s);t&&(t=t.scrollHeight-t.offsetHeight,!ke.isWPMobViewPort()&&s&&300<t&&ke.isMobViewport()&&ke.hasVerticalScrollBar(s)&&(t=je(e).scrollTop(),ke.scrollDown>t&&(ke.isScrollDownwards=!1,je("#zgs20_gsSearchResultLeft").css("transform","translateY(0%)"),je("#zgs20_gsSearchBottomHolder").css("transform","translateY(0px)")),ke.scrollDown<t&&(ke.isScrollDownwards=!0,je("#zgs20_gsSearchResultLeft").css("transform","translateY(-115%)"),je("#zgs20_gsSearchBottomHolder").css("transform","translateY(-62px)")),ke.scrollDown=t,ke.setServiceResPaneHeight(s)))},500,"wheelEvent")}catch(e){ke.throwClientError("Error in scrollDown Event.",e)}},ke.obtainAppOpenBtn=function(e,s){je(e).find(".zgs19_appAccessBtn").length<1&&(t=je("<div>",{class:"zgs19_appAccessBtn",gs:s.gs,service:s.service}).text(s.content),je(e[s.previewHolder]).append(t)),ke.setGSTagElems(e);var t=((je(e[s.previewHolder]).height()||0)-(je(e[s.gs]).height()+20))/2;je(e[s.gs]).css("margin",t+"px auto")},ke.performGoToTop=function(){var e=ke.getSearchType(),s="zgs20_gs"+e+"Template";ke.multiPageEnabled&&(s="zgs20_MultiSearchPageHolder");var t=ke.isArrayContain(e,ke.configured_mail_module)?ke.mappedServiceList[e].originService:e,a=(ke.gFilterData[t],ke.getCurrentValue("accounts",e));"1"===(ke.isArrayContain(t,ke.account_based_filter_service_list)?ke.getAccountType(t,a):"")&&(s="zgs20_gs"+ke.getCurrentValue("modules",e)+"Template"),je("#"+s).stop(!0).animate({scrollTop:0},250)},ke.getResObj=function(e){var s="",t=!!ke.hasOwnProperty("gsdbhome")&&(ke.isDashboardOpened||ke.gsdbhome.isAddCardPopupOpened),a=ke.isCardViewOpened();if(t?s=0<(e=je(e).closest(".zgs19_gsCard")).length?e.attr("cardid"):"":a&&(s=je("#zgs20_gsCrdPrevBdy").attr("cardid")),!t&&!a)return ke.getCurrentResObj();if(s&&ke.cardObjForCurrentSelectedElem.hasOwnProperty(s)&&ke.cardObjForCurrentSelectedElem[s].hasOwnProperty("resultObj")){a=ke.cardObjForCurrentSelectedElem[s].resultObj;return a=(ke.gscardUtils.cardIdsVsObject[s]||{}).cardtype==ke.BOOKMARK_CARD?a.data:a}},ke.searchViewport.removeEventListener("click",ke.clickEvent,!0),ke.clickEvent=function(e){try{var s="",t=e.which||"";if(ke.isGSOpened&&1==t){var a=e.target;ke.addNoReferrerToLink(a),ke.hideAllDropdownList(a);var r=(new ke.dashboardSearchActions).createActionType(a).getCurrentResultObj(),o=je(a),i=o.attr("gs"),n=o.attr("service");switch(ke.clickEventTrig=!1,i){case"resultTitle":ke.stopEvent(e),ke.loadCallout(a);break;case"gsoverlay":ke.gscomponent.SMALL_UI_PROFILE_ENABLED&&ke.gstopband.hideUserDetails(),ke.globalClickEventForOverlay(e);break;case"moveToAttachArea":var l=(P=(new ke.dashboardSearchActions).createActionType(a)).getCalloutParent(a),n=P.getServiceName(),g=ke.mappedServiceList[n].displayName,c="#zgs20_gs"+g+"CalloutFooter",d=je(l).find(c),p=je(l).find("#zgs20_gs"+g+"CalloutAttachInfo");ke.moveToViewPort(d,p);break;case"creatorApp":case"learnApp":case"connectApp":case"websitePage":case"notebookPage":case"tabPage":case"cliqApp":case"notebookApp":case"reportsApp":case"campaignApp":case"documentsApp":case"workDriveApp":ke.clickActionForCalloutTitle(a,e);break;case"actionlist":ke.toggleCalloutActionList(a);break;case"gsClose":ke.gstopband.hideUserDetails(),ke.open();break;case"gsOpenProfile":ke.userDisplayName=ke.GSConstant.cun,ke.userEmailId=ke.GSConstant.cue,ke.contactServer=ke.GSConstant.GS_CONTACTS_URL,ke.gstopband.createUserDetailsTemplate(1),ke.gstopband.toggleUserDetails();break;case"gsOpenInNewTab":ke.openInNewTab(ke.httpstxt+"://"+Be.searchdomainURL);break;case"maxpreview":ke.maxCalloutPreview(r,a);break;case"minpreview":ke.minCalloutPreview(n,r,a);break;case"closeBoxMob":ke.closeIconCallout();break;case"docsdownload":var u=new ke.FileMgmtFactory,h={};h.service=n,u.createFileMgmtService(h).downloadDocument(r,o);break;case"workdrivedownload":ke.gsworkdrive.downloadWorkDriveDocument(r);break;case"wikidownload":ke.gswiki.downloadWikiDocument(r);break;case"backToTop":ke.performGoToTop();break;case"backToCardTop":var _=o.closest(".zgs19_gsCard").attr("cardId"),m=ke.gscardinDb.getOriginalCardId(_),n=ke.gsdbUtils.cardIdsVsObject[m].service;je("#zgs20_"+n+"CardResult_"+_).stop(!0).animate({scrollTop:0},250);break;case"backToCardPageTop":_=je(".zgs19_gsCrdHdrTitle").attr("cardId"),n=ke.gscardUtils.cardIdsVsObject[_].service;je("#zgs20_"+n+"CardPageResult_"+_).stop(!0).animate({scrollTop:0},250);break;case"serviceBand":case"serviceWidgetBand":ke.isArrayContain(n,ke.serviceList)&&ke.moreSearchResultPage(a,n);break;case"service_multi_mod":ke.filterServiceModules(o);break;case"moreBand":var z=o.attr("acc_id"),v=je(a).attr("service");!ke.isServiceHasMoreResults(n,z,v)&&n!==Be.GS_APPS||ke.moreSearchResultPage(a,n);break;case"contactsMore":var f=ke.mappedServiceList[n].callout;ke[f].getContactsMoreInfo(r,a);break;case"continuechat":case"connectcontinuechat":ke.chatAction(a,"continue",e,r);break;case"slackcontinuechat":s=ke.fetchCalloutUrl(n,r,a),ke.openInNewTab(s);break;case"sendMail":case"deskmail":ke.startComposeMail(a,"email"),ke.stopEvent(e);break;case"peopleprofile":s=Be.GS_PEOPLE_URL+"/hr#home/dashboard/profile-userId:"+(r.pkid||""),ke.openInNewTab(s);break;case"peopledept":s=Be.GS_PEOPLE_URL+"/hr#organization/department/searchdepts-deptId:"+(r.deptid||""),ke.openInNewTab(s);break;case"people_reportingto":var C=o.attr("value"),s=Be.GS_PEOPLE_URL+"/hr#home/dashboard/profile-userId:"+(C||"");ke.openInNewTab(s);break;case"searchIcon":var S=o.attr("searchInpId");ke.gsusersettings.addSearchBoxProperty(a,S);break;case"serviceM2T":ke.gssettingsapptab.moveToTopForServices(a);break;case"serviceAccountsM2T":ke.gssettingsapptab.moveToTopForAccounts(a);break;case"settingsfields":i=o.attr("datatype");ke.gsusersettings.updateSettingsActions(i,a),ke.isAccountsOverlayOpened=!1;break;case"reorderfields":i=o.attr("datatype");ke.gsusersettings.updateReorderActions(i),ke.isServiceOverlayOpened=!1;break;case"servicetext":var b=o.attr("ser"),y=ke.gssettingsapptab.currSelectedService;ke.isAsanaWorkspacesAuthentication&&(je("#zgs20_gsSettingsModuleErrorPage").remove(),ke.isAsanaWorkspacesAuthentication=!1),b!==y&&ke.gssettingsapptab.getService(b);break;case"services_settings_back":ke.gssettingsapptab.backToListView();break;case"renderPrefActions":var I=o.attr("datatype");ke.Utils.settingsPageActionsCallable(o,I);break;case"userpreferences":ke.gsusersettings.openSettingsPage();break;case"reorderservices":ke.hideManageAppPopUp(),ke.gssettingsapptab.assignServiceListBeforeReorder(),ke.gssettingsapptab.displayServicesReOrderingOverlay(a);break;case"reorderservicesaccounts":ke.gssettingsapptab.displaySeriveAccountsReOrderingOverlay(a);break;case"reorderservicemodules":ke.gssettingsapptab.service_modules.displayModulesReOrderingOverlay();break;case"button":ke.gssettingsapptab.toggleAppsView(a);break;case"menuoption":ke.clickActionForMenuOption(a);break;case"gswmschat":ke.chatAction(a,"chat",e,r);break;case"attendeegswmsaudio":case"attendeegswmsvideo":var O=o.attr("zuid");ke.startAudioVideoCall(O,i,e);break;case"gswmsaudio":case"gswmsvideo":var O=r.zuid||"",P=(new ke.dashboardSearchActions).createActionType(a);(n=P.getServiceName())===Be.CALENDAR&&(O=ke.eventHostZUID),ke.startAudioVideoCall(O,i,e);break;case"backToHome":ke.openHomePage();break;case"gsWebService":var w=o.attr("fkey"),D=o.attr("key");ke.showContextFilterDialog(Be.WEBSITE,D,w,a);break;case"gsconnService":D=o.attr("key");ke.showContextFilterDialog(Be.ORGRESOURCES,D,"modules",a);break;case"gsNotebookService":w=o.attr("fkey"),D=o.attr("key");ke.showContextFilterDialog(Be.NOTEBOOK,D,w,a);break;case"crmmod":case"biginmod":var E=o.attr("mod"),T=o.attr("acc_id"),A="biginmod"==i?ke.GSConstant.BIGIN:ke.GSConstant.CRM;T&&ke.setCurrentValue("accounts",T),ke.showContextFilterDialog(A,E,"modules",a);break;case"salesforcemod":E=o.attr("mod");ke.filterServiceModules(o);break;case"cliqModules":var M=o.attr("fId");ke.showContextFilterDialog(Be.CLIQ,M,"modules",a);break;case"mailModule":E=o.attr("module_name");ke.filterThroughOptions(Be.MAILS,E,"modules",a);break;case"mailfolder":var F=o.attr("fId");ke.showContextFilterDialog(Be.MAILS,F,"folders",a);break;case"streamEntityType":var N=o.attr("eId");ke.showContextFilterDialog(Be.MAILS,N,"entity_type",a);break;case"outlookfolder":F=o.attr("fId");ke.showContextFilterDialog(Be.O365MAIL,F,"folders",a);break;case"gmailLabel":var L=o.attr("labelId");ke.showContextFilterDialog(Be.GMAIL,L,"labels",a);break;case"gmailLabelDropdownFilter":n=je(o).attr("service"),w=je(o).attr("fkey"),D=je(o).attr("key");ke.filterThroughOptions(n,D,w,o);break;case"workDriveTeams":var R=o.attr("teamId");ke.showContextFilterDialog(Be.WORKDRIVE,R,"teams",a);break;case"workDriveFolders":var x=o.attr("fId");ke.showContextFilterDialog(Be.WORKDRIVE,x,"folders",a);break;case"deskModules":var k=o.attr("fId");ke.updateDepartmentInfoforDesk(Be.SUPPORT,a),ke.showContextFilterDialog(Be.SUPPORT,k,"modules",a);break;case"deskDept":var U=o.attr("fId");ke.showContextFilterDialog(Be.SUPPORT,U,"departments",a);break;case"zendeskModules":k=o.attr("moduleId");ke.updateOrganizationInfoForZendesk(Be.ZENDESK,a),ke.showContextFilterDialog(Be.ZENDESK,k,"modules",a);break;case"zendeskOrg":var j=o.attr("organizationId");ke.showContextFilterDialog(Be.ZENDESK,j,"organization",a);break;case"booksModules":case"invoiceModules":case"inventoryModules":case"salesiqModules":var B=o.attr("fId");ke.showContextFilterDialog(n,B,"modules",a);break;case"connectModules":var H=o.attr("key");ke.showContextFilterDialog(Be.CONNECT,H,"modules",a);break;case"learnModules":var G=o.attr("key");ke.showContextFilterDialog(Be.LEARN,G,"modules",a);break;case"forumsCategories":var W=o.attr("cId");ke.filterThroughOptions(Be.CONNECT,W,"categories",a);break;case"feedGroup":var V=o.attr("gId");ke.showContextFilterDialog(Be.CONNECT,V,"group",a);break;case"calendarServices":var Q=o.attr("fId");ke.showContextFilterDialog(Be.CALENDAR,Q,"services",a);break;case"peopleResDepartment":var q=o.attr("fId"),Z=o.attr("fName"),K=ke.getFilterInfo(Be.PEOPLE,"departments","data");null!=K&&(K.hasOwnProperty(q)||(K[ne=(ne=ke.getCurrentValue("accounts",n))&&"0"!=ne?ne:ke.getFilterInfo("people","accounts","default")][q]=Z,ke.updateFilterInfo("people","data",K))),ke.showContextFilterDialog(ke.GSConstant.PEOPLE,q,"departments",a);break;case"asanaProjects":var Y=o.attr("pid");ke.showContextFilterDialog(ke.GSConstant.ASANA,Y,"projects",a);break;case"projectsModule":var J=o.attr("mod_id");ke.showContextFilterDialog(ke.GSConstant.PROJECTS,J,"modules",a);break;case"projectsFilter":var X=o.attr("filter_id");ke.showContextFilterDialog(ke.GSConstant.PROJECTS,X,"projects",a);break;case"evernoteNotebooks":var $=o.attr("nbid");ke.showContextFilterDialog(ke.GSConstant.EVERNOTE,$,"modules",a);break;case"intranetSearch":ke.clickActionForServiceList(ke.GSConstant.ORGRESOURCES);break;case"extensionSearch":var ee=o.attr("browserType"),se=ke.GSConstant[ee+"_LINK"];ke.openInNewTab(se);break;case"cloudAppsNew":ke.gssettingsapptab.currSelectedService="others",ke.clickActionForSettings("settings");break;case"sender":case"owner":case"cname":case"fromUserInZendesk":case"userMailIdInZendesk":case"userNameInZendesk":case"userNameInDesk":case"userMailIdInDesk":n=ke.calloutSearchType,E=ke.getResultAccountId();n===Be.CAMPAIGNS&&"3"===E||n===Be.ORGRESOURCES&&5!=r.cpt||n==Be.DROPBOX||n==Be.GOOGLEDRIVE||n==Be.BOX?(ke.isMenuPopUpOpened=!0,ke.openContextPopup=!0):ke.openContextPopup=!1,ke.contextMenuActionsPopUp(a);break;case"receiver":n=ke.calloutSearchType,E=ke.getResultAccountId();(n===Be.CAMPAIGNS&&"2"!==E||n===Be.MAILS||n==Be.O365MAIL||n==Be.GMAIL)&&(ke.openContextPopup=!1,ke.contextMenuActionsPopUp(a));break;case"authorStory":ke.projectMgmtCalloutObj.getStoryAuthorDetails(a);break;case"cliqchannel":var te=o.attr("cliq_channel_url");Ue.open(te,"_blank","noopener");break;case"connectgroup":var ae=o.attr("connect_group_url");Ue.open(ae,"_blank","noopener");break;case"no_team_email":case"no_cliqchannel":case"no_support_email":ke.Utils.showErrorMsg("Data not available");break;case"cloudconnectors":ke.connectors.getCloudConnectors();break;case"connectoraccounts":ke.connectors.getConnectorAccounts();break;case"getconnector":var re=o.attr("connector_name");ke.connectors.getConnectorInfo(re);break;case"connector_auth":re=o.attr("connector_name");ke.connectors.configureConnector(re);break;case"connector_reauth":re=o.attr("connector_name");ke.connectors.reconnectConnector(re);break;case"deleteAccountConfirmation":"yesDelete"===je(a).attr("cnfrmType")&&ke.connectors.deleteAccount(),ke.popupUtils.closeCnfrmDialogBox(),ke.popupUtils.closeOverlayDialog();break;case"addAccountConfirmation":var oe=je(a).attr("cnfrmType");"addGmailAccount"===oe?ke.connectors.getAuthURL(ke.GSConstant.GMAIL,!1,!0):"addGdriveAccount"===oe?ke.connectors.getAuthURL(ke.GSConstant.GOOGLEDRIVE,!1,!0):"addAsanaAccount"===oe&&ke.connectors.getAuthURL(ke.GSConstant.ASANA,!1,!0),ke.popupUtils.closeCnfrmDialogBox(),ke.popupUtils.closeOverlayDialog();break;case"manageApps":ke.showManageAppPopUp();break;case"attendeeMenuPopUp":ke.gscalendar.attendeeMenuActionsPopUp(a);break;case"attendeesListPopup":ke.gscalendar.attendeesListMenuActionsPopUp(a);break;case"conn_modules":if(ke.isIntegViewPage){ke.integEventHandler&&ke.integEventHandler.integClickEvent&&ke.integEventHandler.integClickEvent(e);break}var ie=o.attr("ser"),ne=o.attr("accId");ke.gsCloud&&ke.gsCloud.hideAccView&&ke.gsCloud.hideAccView(),ie==ke.GSConstant.ASANA?ke.gssettingsapptab.service_modules.getFromWidgetAndRender(ie,ne):ie==ke.GSConstant.MAILS?ke.gssettingsapptab.mail_modules.getModules(ie,ne):ie==ke.GSConstant.SALESFORCE&&ke.gssettingsapptab.crm_modules.getFromWidgetAndRender(ie,ne);break;case"redirect_accounts":ie=o.attr("ser");ke.isAsanaWorkspacesAuthentication&&(je("#zgs20_gsSettingsModuleErrorPage").remove(),ke.isAsanaWorkspacesAuthentication=!1),ke.gssettingsapptab.showApplicationData(ie);break;case"calendarCnfrmActions":ke.gscalendaraction.userCalendarActions(a);break;case"showSVLHSServices":case"hideSVLHSServices":ke.toggleSmartViewServicePane(!ke.isSmartViewServicePaneOpened);break;case"savethissearch":ke.gssavedsearches.displaySavedSearchDialog(ke.getI18NMsg("gs.saved_searches.save_search_title"));break;case"cardSecFullView":var le=je(a).attr("cardType");ke.gscards.renderSpecificCardSection(le);break;case"cardSecViewAll":le=je(a).attr("cardType");ke.gscards.renderSpecificCardSection(le);var ge=[{cardtype:le}];ke.gsdbUtils.sendDashboardAnanlytics(ke.CARD_TYPE,"viewAll","",ge);break;case"cardslist":ke.gscards.openCardsList(o);break;case"ssCnfrmActions":case"savePreviewCnfrmActions":ke.gssavedsearches.savedSearchActions(a);break;case"saveCardActions":ke.gscards.saveCardActions(a);break;case"cardCnfrmActions":ke.gscards.conifrmOnCards(a);break;case"addCrdCautCnfrmAction":ke.gsaddcards.cautionCnfrmActions(o);break;case"createCrdCautAction":ke.gscreatecards.cardCautionCnfrmActions(o);break;case"dashboardServiceFilter":ke.gscards.openServiceFilter(".zgs19_gsCardsContent");break;case"cardServiceFilter":ke.gscards.openServiceFilter(".zgs19_gsCardSerFilterIcon");break;case"cardActions":ke.gscards.actionsOnCards(o);break;case"showpreviewresults":ke.gscreatecards.showPreviewResults();break;case"ccPrevReload":ke.gscreatecards.refreshPreviewResults(a);break;case"closeCCPrev":ke.gscreatecards.closeCreateCrdPreView();break;case"importInput":break;case"createDashboard":ke.gsdbhome.createDashboard();break;case"viewAllDashboard":ke.gsdbhome.openDashboardListContent();break;case"dblist":ke.gsdbhome.renderDashboardsList();break;case"dbsortList":ke.gsdbhome.openDbSortList();break;case"selDbSortVal":ke.gsdbhome.selectDbSortValue(o);break;case"refreshDB":ke.gsdbhome.refreshDashboard(a);break;case"dbLisActions":i=o.attr("actiontype");ke.gsdbhome.dashboardListactions(i,o);break;case"editCardName":case"editCcInDb":ke.gsaddcards.renderEditTitle("card",ke.gscreatecards.getEleInCurrCardHdr(".zgs19_gscardDemoContTit"),ke.gscreatecards.getEleInCurrCardHdr("#zgs20_gscardEditIcon"));break;case"dbCnfrmActions":ke.gsdbhome.dashboardConfirmActions(o);break;case"onTheFlyDB":ke.gsdbUtils.onTheFlyMode=1,ke.openOnTheFlyDashboard(o.attr("email"));break;case"autoGenerateDBInfoClose":ke.gsdbhome.hideInformationBannerTip();break;case"autoGenerateDbCaution":ke.gsdbhome.customDbCautionAction(o,ke.dbViewType.autoGenerate);break;case"importDbCaution":ke.gsdbhome.customDbCautionAction(o,ke.dbViewType.importDashboard);break;case"onTheFlyCaution":ke.gsdbhome.customDbCautionAction(o,ke.dbViewType.onthefly);break;case"searchEmailId":ke.toggleSidePanelAndTopBandForOnTheFlyDashboard(!1),ke.searchbox.appendQueryAndSearch(Be.ALL,{name:ke.gsdbUtils.userEmail});break;case"cardinfo":ke.gscardinfo.cardInfoActions(o);break;case"dbviewmenu":ke.gsdbhome.openDBViewMenu(a);break;case"cardViewMenu":ke.gscards.openCardsViewMenu();break;case"leftPanelMenu":ke.leftDivisionCallbackHandler(a);break;case"cardsMore":ke.openCards("allCards",a);break;case"dashboardMore":ke.openDashboard(ke.dbViewType.dashboardHome);break;case"advSearch":ke.gsadvancesearch.advancedSearchActions(a);break;case"advCautAction":ke.gsadvancesearch.advanceCautionCnfrmActions(o);break;case"orgSettingsAction":ke.gsOrgSettings.popupActions(a);break;case"projects_mod_choose":ke.isIntegViewPage||ke.gssettingsapptab.service_modules.chooseAccounts();break;case"separateCardsList":ke.gsaddcards.showSpecificCardList(a);break;case"showaddtodb":ke.gssavedsearches.showaddtodbElement(a);break;case"closeaddtodb":ke.gssavedsearches.hideaddtodbElement();break;case"newfilterActions":var ce=a;0<(me=je(o).closest(".zgs19_gsFilterElementOuter")).length&&(ce=me),ke.gsfilters.filterClickActions(ce);break;case"crm_mod_choose":ke.isIntegViewPage?ke.gsCloud.showAccView():(ke.gssettingsapptab.crm_modules.chooseAccounts(),je("#zgs20_connector_modules").addClass("zgs19_gsDisplayNone"),je("#zgs20_connector_account_modules").css("display","none"));break;case"addToNewDbSelection":ke.gssavedsearches.createNewDbInPopup(a);break;case"addToExistingDbSelection":ke.gssavedsearches.addToExistingDB(a);break;case"cardsInDb":ke.gscardinDb.actionHandler(a);break;case"copyWDLink":var de=je(".zgs19_gsPropertyLink").attr("href");ke.Utils.copyLink(de);break;case"moreLabel":var pe=r.fileInfo.labels;ke.gsworkdrive.renderMoreLabelPopUp(a,pe,".zgs19_gsCalloutMetaLeft");break;case"closeActionPopUp":je("#zgs20_gsOverlayDialog").empty(),je("#zgs20_gsOverlayDialog").css("display","none");break;case"copyWDLink":var ue=je(".zgs19_gsPropertyLink").attr("href");ke.Utils.copyLink(ue);break;case"copyBookmarkUrl":s=je(a).prev().attr("href"),ke.Utils.copyLink(s);break;case"copyMailId":s=je(a).prev().text(),ke.Utils.copyLink(s,"gs.search.callout.emailcopied");break;case"zendeskViewMoreInteractions":je(".zgs19_gsInteractionsParent").height();hiddenTicketsParent=je(a).parent(".zgs19_zendeskInteractionsTickets"),hiddenTicketsParent.find(".zgs19_hideInteractionTicket").removeClass("zgs19_hideInteractionTicket"),hiddenTicketsParent.find("#zgs20_zendeskViewAllInteractions").removeClass("zgs19_gsDisplayNone"),je(a).remove();break;case"previousPreview":case"nextpreview":ke.navigatePreview(i,a);break;case"createCardFromDb":ke.gscreatecardindb.renderCreatePage(a);break;case"ccInDbClose":ke.gscreatecardindb.closePage();break;case"createCardActions":ke.gsfilters.filterClickActions(a);break;case"openAppInSettings":ke.clickActionForSettings("settings",function(){je("#left_panel_"+n)[0].scrollIntoView(),ke.gssettingsapptab.getService(je(a).attr("service"))});break;case"editDashboardTitle":ke.gsaddcards.renderDbTitleEditView();break;case"dbDescAction":ke.gsaddcards.descAction(a);break;case"hideDashboardLayoutNotification":ke.gsdbhome.updateLayoutNotification();break;default:if((me=ke.getParentNode(a,"creatorFormsViews"))&&ke.gscreator.openFormOrView(a),me=ke.getParentNode(a,"LeftBandToggle")){var he=je("#zgs20_gsMaxMinLeftBand"),_e=he.attr("action");return void("expandLeftBand"==_e?(he.attr("action","collapseLeftBand"),ke.isLeftDivisonPanelHidden=!1,ke.leftBandViewToggleCallback(),he.removeClass("zgs19_gsMaxLeftBand").addClass("zgs19_gsMinLeftBand"),je(".zgs18_gsExpandpanel_path4").addClass("zgs19_gsFlipIcon")):"collapseLeftBand"==_e&&(he.attr("action","expandLeftBand"),ke.isLeftDivisonPanelHidden=!0,ke.leftBandViewToggleCallback(),he.removeClass("zgs19_gsMinLeftBand").addClass("zgs19_gsMaxLeftBand"),je(".zgs18_gsExpandpanel_path4").removeClass("zgs19_gsFlipIcon")))}if(me=ke.getParentNode(a,"createNewBtn"))return void ke.showCreateNewPopup();if(me=ke.getParentNode(a,"accordionview"))return void ke.gsaddcards.hideCardElement(me);if(me=ke.getParentNode(a,"calloutlabelAction"))return void(0==je(".zgs19_gsLabelsPopUp").length&&ke.serviceActions(me,"label",r));if(me=ke.getParentNode(a,"addlabel"))return void ke.labelActions(me,"addlabel");if(me=ke.getParentNode(a,"removelabel"))return void ke.labelActions(me,"removelabel");if(me=ke.getParentNode(a,"selectDbInAddToDb"))return void ke.gssavedsearches.selectDbForNewCards(a);if((me=ke.getParentNode(a,"websiteCalloutData")||ke.getParentNode(a,"notebookCalloutData")||ke.getParentNode(a,"connectCalloutData")||ke.getParentNode(a,"learnCalloutData"))&&ke.isFilterListDisplay&&ke.hideFilterList(),(me=ke.getParentNode(a,"dashboardDD"))&&ke.gssavedsearches.openDbDD(),me=ke.getParentNode(a,"calloutflagAction"))return void ke.gsmails.renderFlagPopUp(a,r);if(me=ke.getParentNode(a,"flagChangeAction"))return void ke.serviceActions(me,"flag",r);if((me=ke.getParentNode(a,"closeaddtodb"))&&ke.gssavedsearches.hideaddtodbElement(),me=ke.getParentNode(a,"closeBoxMob"))return void ke.closeIconCallout();(me=ke.getParentNode(a,"resultTitle"))&&(ke.stopEvent(e),ke.loadCallout(a));var me=ke.getParentNode(a,"settingPopUp");if(ke.isManageAppPopUpOpened&&ke.hideManageAppPopUp(),me=ke.getParentNode(a,"addAccountConfirmation")){var ze=je(a).attr("cnfrmType");"addGmailAccount"===ze?ke.connectors.getAuthURL(ke.GSConstant.GMAIL,!1,!0):"addGdriveAccount"===ze?ke.connectors.getAuthURL(ke.GSConstant.GOOGLEDRIVE,!1,!0):"addAsanaAccount"===ze&&ke.connectors.getAuthURL(ke.GSConstant.ASANA,!1,!0),ke.popupUtils.closeCnfrmDialogBox(),ke.popupUtils.closeOverlayDialog();break}(me=ke.getParentNode(a,"manageApps"))&&!ke.isManageAppPopUpOpened&&ke.showManageAppPopUp(),(me=ke.getParentNode(a,"reorderservices"))&&(ke.hideManageAppPopUp(),ke.gssettingsapptab.assignServiceListBeforeReorder(),ke.gssettingsapptab.displayServicesReOrderingOverlay(a));var ve,fe,Ce,Se,be,ye,Ie,Oe,me=ke.getParentNode(a,"servicetext"),Pe=je(me).attr("gs"),ie=je(me).attr("ser"),y=ke.gssettingsapptab.currSelectedService;if(me&&"servicetext"==Pe&&ie!==y&&(ie+"_enable"!==o.attr("id")?(b=void 0!==(b=o.attr("ser"))&&""!==b?b:ie,ke.gssettingsapptab.getService(b)):e.stopPropagation()),(me=ke.getParentNode(a,"button"))&&ke.gssettingsapptab.toggleAppsView(me),(me=ke.getParentNode(a,"notebookCalloutData"))&&ke.isFilterListDisplay&&ke.hideFilterList(),(me=ke.getParentNode(a,"financeCalloutData"))&&ke.isFilterListDisplay&&ke.hideFilterList(),(me=ke.getParentNode(a,"moreProjOwners"))&&me!==ke.curCardSelected&&(!ke.gscreatecards||!ke.gscreatecards.isCreateCardPageOpened)){var we=new ke.ZSProjectMgmtFactory,De={};return De.service_name=ke.GSConstant.PROJECTS,void we.createProjectMgmtInstance(De).getMoreOwners(a)}if((me=ke.getParentNode(a,"forumsCategories"))&&me!==ke.curCardSelected){W=je(me).attr("cId");return void ke.filterThroughOptions(Be.CONNECT,W,"categories",a)}if((me=ke.getParentNode(a,"hideMoreCategories"))&&me!==ke.curCardSelected)return void ke.gsconnect.hideMoreCategories(me);if((me=ke.getParentNode(a,"showMoreBlogCategory"))&&me!==ke.curCardSelected)return void ke.gsconnect.showMoreCategories(me);if((me=ke.getParentNode(a,"showMoreFieldDataSIQ"))&&me!==ke.curCardSelected)return void ke.gssalesiqresults.showMoreFieldData(me);if((me=ke.getParentNode(a,"searchResultTable"))&&me!==ke.curSelectedEle)return void(ke.isDashboardViewOpened()?ke.gscardsresult.loadCalloutforCard(me):(ke.handleCalloutForMobileView(),ke.highlightRes(me.id,"")));if((me=ke.getParentNode(a,"cardResults"))&&me!==ke.curCardSelected)return void ke.gscardsresult.loadCalloutforCard(me);if((me=ke.getParentNode(a,"cardPageResults"))&&me!==ke.curCardSelected)return void ke.gscards.loadCalloutforCard(me);if(me=ke.getParentNode(a,"backtoresults"))return void ke.gscardsresult.handleBackToCardResults(a);if(me=ke.getParentNode(a,"addCardActions"))return void ke.gsaddcards.cardActions(o);if(me=ke.getParentNode(a,"serviceLeftPanelMenu")){n=je(me).attr("service");return void ke.clickActionForServiceList(n)}if(me=ke.getParentNode(a,"settingsPanelMenu")){if(ke.hasOwnProperty("gscreatecards")){var Ee=ke.gscardUtils.getCreateCrdClassUsingType(ke.gscreatecards.cardType);if(ke.hasOwnProperty(Ee)&&ke[Ee].checkAnyChangesInCreateCard())return void(ke.gscreatecards.cardSuccAction="settings")}return void ke.clickActionForSettings("settings")}if(me=ke.getParentNode(a,"openIntegUserPageInZ1"))return void((!ke.gsCloud||ke.gsCloud&&"myCloudAppsTab"!=ke.gsCloud.currentSelectedTab)&&(ke.gscomponent.canEnableZiaIntegration&&!ke.GSConstant.widgetObject.isCloudEnabledForZ1?ke.gscomponent.isNewUI?ke.askToOpenIntegPageInSetupView():ke.askToOpenIntegPageInNewTab():(ke.clearSearchResultPageForService(),ke.clickActionForIntegrations())));if(me=ke.getParentNode(a,"openIntegUserPageInNewTab"))return void ke.clickActionForIntegrations(!0,"user");if(me=ke.getParentNode(a,"openIntegAdminPageInNewTab"))return me.hasAttribute("cnfrmtype")&&"openIntegAdminPageInNewTab"==me.getAttribute("cnfrmtype")&&ke.clickActionForIntegrations(!0,"admin"),me.hasAttribute("cnfrmtype")&&"openIntegAdminPageInSetUpView"==me.getAttribute("cnfrmtype")&&ke.openZohoOneAdminSettings(),ke.popupUtils.closeCnfrmDialogBox(),void ke.popupUtils.closeOverlayDialog();if(me=ke.getParentNode(a,"defsearchicon")){var Te=ke.gscardUtils.getCreateCrdClassUsingType(ke.gscreatecards?.cardType);return ke.hasOwnProperty(Te)&&ke[Te].hasOwnProperty("checkAnyChangesInCreateCard")&&ke[Te].checkAnyChangesInCreateCard()?void(ke.gscreatecards.cardSuccAction="defsearch"):void ke.handleDefaultSearch()}if(me=ke.getParentNode(a,"clearAndDisplayHomePage"))return ke.clearSearchResultPageForService(),ke.updateSearchType(ke.GSConstant.ALL),ke.gsfilters.removeAppliedFilterIconColor(),ke.clearOldSearchData(),ke.openHomePage(),void ke.hideIntegrationsPage();if("ZW"===ke.gscomponent.pcode){var Ae=ke.getParentNode(a,"showSVLHSServices"),Me=ke.getParentNode(a,"hideSVLHSServices");if(Ae||Me)return void ke.toggleSmartViewServicePane(!ke.isSmartViewServicePaneOpened)}if((me=ke.getParentNode(a,"viewCard"))&&"cardActionHolder"!==i&&"dashboardActionHolder"!==i){var _=je(me).attr("id"),le=je(me).attr("cardtype");ke.gshistory.pushCardsState("/cards/"+_,"#"+ke.cardHash.home),ke.gscards.renderCardsPreview(_,le);var Fe,ge=[{service:(Fe=ke.gscardUtils.cardMetaObj[_]).service,cardtype:le,identifier:Fe.identifier}];return void ke.gsdbUtils.sendDashboardAnanlytics(ke.CARD_TYPE,"cardPreview",_,ge)}if(me=ke.getParentNode(a,"viewDashboard")){var Ne=me.getAttribute("id");return ke.gsdbhome.renderDashboardContent(Ne),void ke.gsdbUtils.sendDashboardAnanlytics(ke.DASHBOARD_TYPE,"dashboardPreview",Ne)}if(me=ke.getParentNode(a,"cardMenuTitle"))return void ke.openCards("preview",me);if(me=ke.getParentNode(a,"dashboard"))return void ke.clickActionForDashboards();if((me=ke.getParentNode(a,"askZiaQueryAction"))&&ke.appendAskZiaQueryAction(me),me=ke.getParentNode(a,"zeroDashBoardAction")){var Le=me.getAttribute("type");if((ke.hasOwnProperty("gsdbhome")?ke.gsdbhome.currentDashboardType:"")!==Le||!ke.gsdbhome.isAutoGenerateDashboard()){if(ke.hasOwnProperty("gsdbhome")&&ke.isDashboardOpened&&ke.gsdbhome.checkIfDefaultDashboardOpened())return void(ke.gsdbhome.defaultDbSuccAction=me);{let e=ke.gsdbUtils.setDashboardViewDetails(ke.dbViewType.autoGenerate);return e.setSubDashboardType(Le),void ke.openDashboard(ke.dbViewType.autoGenerate,e)}}}if(me=ke.getParentNode(a,"importDbAction"))return ke.hasOwnProperty("gsdbhome")&&ke.isDashboardOpened&&ke.gsdbhome.checkIfDefaultDashboardOpened()?void(ke.gsdbhome.defaultDbSuccAction=me):void ke.gsdbUtils.importDashboard();if((me=ke.getParentNode(a,"dbTitle"))&&(Re=me.getAttribute("dblistId"),ke.gsdbhome.closeDashboardList(),ke.gsdbhome.isDashboardMenuOpened=!1,Re!==ke.gsdbhome.currentlyOpenedDbId&&ke.gsdbhome.updateDashboardPage(Re)),(me=ke.getParentNode(a,"selSpecificCrd"))&&(_=me.getAttribute("cardlistid"),ke.gshistory.pushCardsState("/cards/"+_,"#"+ke.cardHash.home),ke.gscards.updateCardPreview(_),ge=[{service:(Fe=ke.gscardUtils.cardMetaObj[_]).service,cardtype:Fe.cardtype}],ke.gsdbUtils.sendDashboardAnanlytics(ke.CARD_TYPE,"cardPreview",_,ge)),me=ke.getParentNode(a,"dbHomeTitle")){var Re=me.getAttribute("viewid");je("#zgs20_gsDashboardhome").css("display","block");let e=ke.gsdbUtils.setDashboardViewDetails(ke.dbViewType.specificDashboard);e.setDashboardId(Re),ke.openDashboard(ke.dbViewType.specificDashboard,e)}if(me=ke.getParentNode(a,"addCard")){Re=me.getAttribute("dbid")||ke.gsdbhome.currentlyOpenedDbId;return void ke.gsdbhome.openAddcardAction(Re)}if(me=ke.getParentNode(a,"updateCardType"))return void ke.gsaddcards.updateCardOnChangingType(me);if(me=ke.getParentNode(a,"openCardType"))return void ke.gsaddcards.openCardTypePopup(me);if((me=ke.getParentNode(a,"crdCnfrmActions"))&&ke.gsaddcards.confirmActionsOnCard(me),(me=ke.getParentNode(a,"checkEachCard"))&&(ve=ke.getParentNode(a,"cardtitle"),fe=ke.getParentNode(a,"cardmetaInput"),Ce=ke.getParentNode(a,"carddescription"),ve||Ce||fe||ke.gssavedsearches.handleMultiSerCrdCheckUncheck(me)),me=ke.getParentNode(a,"createCardAction"))return ke.handleOpeningOfCardsAndDashboard("cards"),void ke.openCards("createCard",me);if(me=ke.getParentNode(a,"createDbAction")){if(1==ke.gscomponent.UIType)return void ke.clickActionForDashboards(ke.dbViewType.createDashboard);ke.openInNewTab(ke.httptxt+"://"+Be.searchdomainURL+"/dashboards#"+ke.dashboard.Hash.create)}if((me=ke.getParentNode(a,"autoGenerateDBInfoClose"))&&ke.gsdbhome.hideInformationBannerTip(),me=ke.getParentNode(a,"dashboardActions")){ke.gsdbhome.performActionsInDashboard(me);break}if(me=ke.getParentNode(a,"userInsightsActions")){ke.userInsightsTabActions(me);break}if(me=ke.getParentNode(a,"thumbnailView"))return void ke.gscardinDb.navigBtwnThumbViews(me);if((me=ke.getParentNode(a,"tolink"))&&("none"===je("#zgs20_gsDropdownToList").css("display")?(ke.setPosForToList(a,"tolink"),je("#zgs20_gsDropdownToList").show(),je(me).addClass("zgs19_gsBorderCCC"),je("#zgs20_gsDropdownToList").scrollTop(0),je("#zgs20_gsDropdownToList").scrollLeft(0)):(je("#zgs20_gsDropdownToList").hide(),je(me).removeClass("zgs19_gsBorderCCC"))),(me=ke.getParentNode(a,"ownerLink"))&&("none"===je("#zgs20_gsDropdownOwnerList").css("display")?(ke.setPosForToList(a,"ownerLink"),je("#zgs20_gsDropdownOwnerList").show(),je(me).addClass("zgs19_gsBorderCCC"),je("#zgs20_gsDropdownOwnerList").scrollTop(0),je("#zgs20_gsDropdownOwnerList").scrollLeft(0)):(je("#zgs20_gsDropdownOwnerList").hide(),je(me).removeClass("zgs19_gsBorderCCC"))),me=ke.getParentNode(a,"intranetSearch"))return void ke.clickActionForServiceList(ke.GSConstant.ORGRESOURCES);if(me=ke.getParentNode(a,"extensionSearch")){ee=je(me).attr("browserType"),se=ke.GSConstant[ee+"_LINK"];return void ke.openInNewTab(se)}if(me=ke.getParentNode(a,"announcementSearch"))return void ke.clickActionForDashboards();if(me=ke.getParentNode(a,"cloudAppsNew"))return ke.gssettingsapptab.currSelectedService="others",void ke.clickActionForSettings("settings");if(me=ke.getParentNode(a,"mFilterWidget"))return void ke.renderModuleFilterWidgetList(me);if(me=(me=ke.getParentNode(a,"CalloutEditFields"))||ke.getParentNode(a,"ticketAction"))return void ke.gsaction.calloutEditFieldsAction(me);if(me=me||ke.getParentNode(a,"calendarActions"))return void ke.gscalendaraction.actionOnCalendar(me);if(me=ke.getParentNode(a,"openAppsList"))return void ke.gsfilters.openAppsList(a);if((me=ke.getParentNode(a,"contextMenuAction"))&&ke.contextMenuActionsList(me,e,r),(me=ke.getParentNode(a,"doubleclickpop"))&&ke.doubleClickSearchEvent(me),me=ke.getParentNode(a,"linkViewUrl"))return void ke.openInNewTab(je(me).attr("url"));if(!(me=ke.getParentNode(a,"unfurlEle"))||(Se=je(me).attr("href"))&&ke.openInNewTab(Se),me=a.nodeName,ke.isCurrFilterClickelem)return ke.isCurrFilterClickelem=!1,me=je(a).closest(".zgs19_gsFilterQuerySelection"),void ke.gsfilters.filterClickActions(me);if(ke.popupaction&&(be="",Ue.getSelection?be=Ue.getSelection():document.selection&&(be=document.selection.createRange()),ke.checkRangeObjects(ke.oldSelectedPos,be.getRangeAt(0))||!ke.isOpenPopup?(Ie=(ye=ke.checkClassExistForWidget(be))[0],Oe=ye[1],1!==je(e.target).closest("#zgs20_gsPopupSearch").length&&Ie&&ke.getDoubleClickEvent(be,Oe),ke.popupaction=!1,ke.isOpenPopup=!0,ke.oldSelectedPos=be.getRangeAt(0)):ke.isOpenPopup=!1),me=ke.getParentNode(a,"leloadCalloutftPanelMenu"))return void ke.leftDivisionCallbackHandler(a);if(me=ke.getParentNode(a,"leftPanelMenu"))return void ke.leftDivisionCallbackHandler(a);if(me=ke.getParentNode(a,"deleteAccountConfirmation"))return"yesDelete"===je(me).attr("cnfrmType")&&ke.connectors.deleteAccount(),ke.popupUtils.closeCnfrmDialogBox(),void ke.popupUtils.closeOverlayDialog();if(me=ke.getParentNode(a,"editDbDesc")){var xe=je(me).attr("dbId");return void ke.gsaddcards.renderDbDescEditView(xe)}ke.clickEventTrig=!0,ke.finalClickEventHandling(a,e)}}}catch(e){ke.throwClientError("Error in clickEvent.",e)}},ke.searchViewport.addEventListener("click",ke.clickEvent,!0),ke.leftDivisionCallbackHandler=function(e){var s=ke.getParentNode(e,"leftPanelMenu").getAttribute("action");if(ke.hasOwnProperty("gscreatecards")&&ke.gscreatecards.hasOwnProperty("isCreateCardPageOpened")&&ke.gscreatecards.isCreateCardPageOpened){e=ke.gscardUtils.getCreateCrdClassUsingType(ke.gscreatecards.cardType);if("openCards"!==s&&ke[e].hasOwnProperty("checkAnyChangesInCreateCard")&&ke[e].checkAnyChangesInCreateCard())return void(ke.gscreatecards.cardSuccAction=s);if("openCards"===s)return}ke.leftDivisionNavigation(s)},ke.leftDivisionNavigation=function(e){switch(e){case"search":ke.clickActionForSearchTab(!0);break;case"openCards":ke.clickActionForCards();break;case"dashboard":ke.clickActionForDashboards();break;case"askZia":ke.openAskZiaTab(!0);break;case"userInsights":ke.clickActionForUserInsightsTab()}},ke.clickActionForSearchTab=function(e){var s,t;"search"===ke.selectedLeftPanelDivision&&!ke.isShowQuickActionsPage||(ke.handleSearchTabUIAction(),ke.isShowQuickActionsPage?ke.renderLandingPage():(s=ke.searchObj.service||ke.gsusersettings.selectedServiceBeforeSettings,s=ke.includes(s,ke.getEnabledServiceList())?s:Be.ALL,ke.updateSearchType(s),t=ke.getQueryText(),e&&(t||ke.isQueryHasUserCriteria()?ke.handleSearchCall(s):(ke.clearSearchResultPageForService(s),ke.updateQueryBox(s,t),ke.gshistory.updateSearchURLParams(s,t))),ke.setSizeForRespectiveResultsArea()))},ke.handleSearchTabUIAction=function(){ke.hideAskZiaTab(),ke.hideDashboard(),ke.hideCardsPage(),ke.hideIntegrationsPage(),ke.Utils.hideSettingsPage(),ke.setHighlightForLeftDivisonPanel("search"),je("#zgs20_gsResultsHolder").css("display","block"),ke.setStatusClsForLeftDivision()},ke.unHideTab=function(e){switch(e){case"search":ke.clickActionForSearchTab(!1),ke.updateQueryBox(ke.getSearchType(),ke.getQueryText(),!0),je("#zgs20_gsSearchResultMiddle, #zgs20_gsSearchResultRight").css("display","block"),ke.gshistory.pushStateOfAView({id:"zsearch",title:ke.getI18NMsg("gs.search.service_welcome_page"),url:"/searchhome?s="+ke.getSearchType()});break;case"cards":ke.openCardsTabAction();break;case"dashboard":ke.isDashboardViewOpened()?ke.gsdbhome.isOnTheFlyDashboard()&&ke.gsdbhome.renderDashboardPage():ke.openDashboardTabActions();break;case"settings":ke.clickActionForSettings(e);break;case"askZia":ke.openAskZiaTab(!1),je("#zgs20_gsSearchResultMiddle, #zgs20_gsSearchResultRight").css("display","block"),ke.gshistory.pushStateOfAView({id:"askzia",title:"Ask Zia Page",url:"/askzia?s="+ke.getSearchType()})}},ke.setCssForToggleBandChanges=function(){ke.isLeftDivisonPanelHidden?(je("#zgs20_gsMinLeftBand").addClass("zgs19_gsDisplayNone"),je("#zgs20_gsMaxLeftBand").removeClass("zgs19_gsDisplayNone"),je(".zgs19_gsLeftPanelTabText").addClass("zgs19_gsDisplayNone"),je("#zgs20_gsLogoHolder").css("width","200px")):(je("#zgs20_gsMinLeftBand").removeClass("zgs19_gsDisplayNone"),je("#zgs20_gsMaxLeftBand").addClass("zgs19_gsDisplayNone"),je("#zgs20_gsLogoHolder").css("width","230px"),setTimeout(function(){je(".zgs19_gsLeftPanelTabText").removeClass("zgs19_gsDisplayNone")},500))},ke.leftBandViewToggleCallback=function(){ke.setStatusClsForLeftDivision(),ke.setCssForToggleBandChanges(),ke.resizeForLeftPanelchanges()},ke.setLogoWidth=function(){var e=je("#zgs20_gsSearchResultLeft").width();je("#zgs20_gsLogoHolder").css("width",e-2+"px")},ke.addNoReferrerToLink=function(e){var s,t;e&&(s=je(e).attr("href")||"",t=je(e).attr("target")||"",0!=s.indexOf("mailto:")&&0!=s.indexOf("http")&&"_blank"!=t||je(e).attr("rel","noopener noreferrer"))},ke.checkRangeObjects=function(e,s){var t=0,a={key1:"collapsed",key2:"commonAncestorContainer",key3:"endContainer",key4:"endOffset",key5:"startContainer",key6:"startOffset"};if(0<=ke.userAgent.search("Safari")&&ke.userAgent.search("Chrome")<0){if(je.isEmptyObject(ke.oldSelectedPos))return!0;for(var r in a){r=a[r];e[r]===s[r]&&t++}return t<6}if(e!==s)return!0},ke.checkClassExistForWidget=function(e){for(var s=document.getElementsByClassName("zgs19_gsCalloutPopUp"),t=(s[0],0);t<s.length;t++){for(var a=s[t],r=0;r<e.rangeCount;r++)var o=e.getRangeAt(r).commonAncestorContainer,i=je(o).closest(a);if(1===i.length)return[!0,a]}return!1},ke.attachDoubleClickPopUpEvent=function(){je(".zgs19_gsCalloutPopUp").off("mouseup").on("mouseup",function(){ke.popupaction=!0}),je(".zgs19_gsCalloutPopUp").off("mousedown").on("mousedown",function(e){e=je(e.target).closest("#zgs20_gsPopupSearch");ke.isOpenDoubleClickPopup&&1!==e.length&&(je(".zgs19_gsPopupSearch").remove(),ke.isOpenDoubleClickPopup=!1)})},ke.doubleClickSearchEvent=function(e){ke.widgetPopUpSearch(e),ke.isOpenDoubleClickPopup=!1,je(".zgs19_gsPopupSearch").remove()},ke.handleCalloutForMobileView=function(){ke.isMobViewport()&&(ke.isScrollDownwards=!1,je("#zgs20_gsSearchResultMiddle").css("display","none"),je("#zgs20_gsSearchResultRight").css("width","100%"),je("#zgs20_gsSearchResultRight").css("display","block"),je(".zgs19_gsCalloutActionMob").css("display","block"),je(".zgs19_gsMobDisableFields").css("display","none"),je("#zgs20_gsSearchResultLeft").css("transform","translateY(0%)"),je(".zgs19_gsSearchResultMiddle").css("transform","translateY(0px)"))},ke.handleDefaultSearch=function(){ke.focusForWeb("zgs20_gsQueryBox");var e=ke.searchbox.getCurrentQueryFilterObj("services"),e=e?e.services:ke.getSearchType();ke.getSearchType()!==e&&ke.clearSearchResultPageForService(e),ke.handleSearchCall(ke.getSearchType())},ke.updateDepartmentInfoforDesk=function(e,s){var t,a,r;"0"==ke.getCurrentValue("accounts",e)&&(a=ke.getFilterObj(e),r=je(s).attr("acc_id"),t=ke.getWidgetServiceList(e),r=r||ke.getCurrentValue(t.key,e),(a=a.departments.data).hasOwnProperty(r)&&(a[r].hasOwnProperty(r="0")||(r=je(s).attr("depId"),ke.setCurrentValue("departments",r))))},ke.updateOrganizationInfoForZendesk=function(e,s){var t,a,r;"0"==ke.getCurrentValue("accounts",e)&&(a=ke.getFilterObj(e),r=je(s).attr("acc_id"),0==(t=ke.getWidgetServiceList(e)).length||r||(r=ke.getCurrentValue(t.key,e)),(a=a.hasOwnProperty("organizations")?ogfObj.organizations.data:{}).hasOwnProperty(r)&&(a[r].hasOwnProperty(r="0")||(r=je(s).attr("organizationId"),ke.setCurrentValue("organizations",r))))},ke.filterThroughOptions=function(e,s,t,a){e!==ke.getSearchType()&&ke.updateSearchType(e),ke.updateSearchObjForContextFilters(a,e,t,s),ke.handleSearchCall(e)},ke.filterServiceModules=function(e){var s=e.attr("service"),t=e.attr("acc_id"),a=e.attr("mod")||e.attr("mod_name")||e.attr("workspace_id"),r=e.attr("value")||a,e=ke.getSearchType();e!=s&&(je("#"+("zgs20_gsServicePanelList"+e)).removeClass("zgs19_gsSelectedServicepanel zgs19_gsBGC2f").addClass("zgs19_gsUnServiceLeftPanel"),je("#"+("zgs20_gsServicePanelList"+s)).removeClass("zgs19_gsUnServiceLeftPanel zgs19_gsBGC2f").addClass("zgs19_gsSelectedServicepanel"),ke.setService(s)),""!==t&&ke.setCurrentValue("accounts",t);t=s==ke.GSConstant.ASANA?ke.WS:"modules",s=s===ke.GSConstant.CAMPAIGNS?"1":"3";ke.setCurrentValue(t,a),je("#zgs20_globalsearch").append(je("<div>",{id:"zgs20_filterDummyElem",class:"zgs19_gsDisplayNone",ftype:s,fkey:t,key:a,index:"0",value:r})),ke.currFilterClickelem=je("#zgs20_filterDummyElem"),ke.clickActionForWidgetList(ke.currFilterClickelem),je("#zgs20_filterDummyElem").remove()},ke.isSupportedOpenFormat=function(e){return"image"===e||"docs"===e||"spreadsheet"===e||"presentation"===e},ke.hideZiaForSameDomain=function(e){var s;e==Be.CONNECT&&(s=Ue.location.href,e=ke.getResultAccountId(),e=ke.pulseNetworkURL[e],0==s.indexOf(e)&&ke.globalToggleHandling())},ke.crmRecordOpen=function(e,s){var t=ke.gscrm.getMod(e),a=e.id||e[ke.entity_id],r=s||ke.getResultAccountId();if(ke.crmOrgInfo){e=ke.crmOrgInfo.getDomain(r),s=ke.getFilterInfo(Be.CRM,"modules","crm_modules");if("Notes"===t){var o,i=ke.gscrm.crmImpFieldsData.related_record;for(o in i)a=i[o],t=o}if(!r)return null;r=s[r][t+"_url"];return Be.GS_CRM_URL+"/crm/"+e+"/EntityInfo.do?module="+r+"&id="+a}},ke.contextMenuActionsList=function(e,s,t){switch(je(e).attr("action")){case"searchUser":ke.widgetPopUpSearch(e);break;case"sendMail":ke.startComposeMail(e,"email");break;case"chatWithUser":ke.chatAction(e,"chat",s,t)}},ke.hideWidgetsPopup=function(e){ke.isOpenDoubleClickPopup&&(je(".zgs19_gsPopupSearch").remove(),ke.isOpenDoubleClickPopup=!1),ke.isMenuPopUpOpened&&(je(".zgs19_gsMenuPopUp").remove(),ke.isMenuPopUpOpened=!1,ke.openContextPopup=!1),ke.gscardinfo.isCardInfoPopupOpened&&"zgs20_gsFilterInrDispNameList"!==e.target.id&&ke.gscardinfo.closeDispNameList()},ke.copyUrl=function(e,s,t){var a=je(e).attr("service"),e=ke.fetchCalloutUrl(a,t,e);ke.Utils.copyLink(e),ke.stopEvent(s)},ke.startAudioVideoCall=function(e,s){e+="",!ke.isWMSChatPaused()&&ke.hasWebMessanger&&e&&"-1"!=e?(ke.globalToggleHandling(),!ke.hasAudioSupport()||"audio"!=s&&"gswmsaudio"!=s&&"attendeegswmsaudio"!=s?ke.hasVideoSupport()&&(ke.gscomponent.isActionHandlerEnabledInSuiteApp?ke.gscomponent.actionHandler(Be.CLIQ,"WebMessanger.startVideoCall",[e]):WebMessanger.startVideoCall(e)):ke.gscomponent.isActionHandlerEnabledInSuiteApp?ke.gscomponent.actionHandler(Be.CLIQ,"WebMessanger.startAudioCall",[e]):WebMessanger.startAudioCall(e)):ke.showbannertip({ty:0,msg:ke.getI18NMsg("gs.search.callout.chat.pause")})},ke.chatAction=function(e,s,t,a){"continue"!=s&&"chat"!=s||(ke.gsaction.currSearchType=(new ke.dashboardSearchActions).createActionType(e),a=ke.isPreviewOpenedInComponent?ke.pcResObj:ke.gsaction.currSearchType?ke.gsaction.currSearchType.getCurrentResultObj():{},ke.openChat(e,s,t,a))},ke.openChat=function(e,s,t,a){var r="",o=je(e).attr("service"),i=ke.isWMSChatPaused(),n="";if("continue"==s)if(r=a.chat_id||a.cid||"",ke.hasWebMessanger){var l,g,c=a.mT||"";if(ke.gscomponent.isActionHandlerEnabledInSuiteApp)return void ke.gscomponent.actionHandler(Be.CLIQ,"WebMessanger.continueChat",[r,c]);i||(je(".zgs19_gsChatPreview").empty(),l=ke.isDashboardViewOpened(),1==ke.gscomponent.UIType&&(l&&ke.gscardinDb.isCardMaximised||!l)?(ke.gscliq.setPreviewList(r),(g=e.closest(".zgs19_gsServiceCalloutHolder")).getElementsByClassName("zgs19_gsChatPreview")[0],je(g.getElementsByClassName("zgs19_gsChatPreview")[0]).show(),(l?je(g.MobDisableFields):je(g).find(".zgs18_gsContinueChat")).addClass("zgs19_gsHideEleme")):ke.globalToggleHandling()),WebMessanger.continueChat(r,c)}else a=a.hasOwnProperty("muid")?a.muid.replace("%20","_"):"",n=Be.GS_CLIQ_URL+"/chats/"+r+(""!==a?"/messages/"+a:"");else if("chat"===s)if(r=je(e).attr("chatid"),ke.hasWebMessanger&&!ke.isUBIDomain()){if(ke.gscomponent.isActionHandlerEnabledInSuiteApp)return void ke.gscomponent.actionHandler(Be.CLIQ,"WebMessanger.chat",[r]);WebMessanger.chat(r),i||ke.toggleGlobalsearch()}else n=Be.GS_CLIQ_URL+"/users/"+r;r=ke.getComponentType();r&&ke[r].isPreviewHandlerEnabledInSuiteApp?ke[r].previewHandler(o,n):ke.openInNewTab(n),ke.stopEvent(t)},ke.handleMultiPageScroll=function(e,s){var t=ke.getQueryText();e=ke.checkAndReturnServiceCriteria(e),ke.isValidSearchQuery(t,e)?ke.handleSearchCall(e):(ke.multiStartSet=parseInt(s),ke.scrollSearch||(ke.addScrollLoader("zgs20_MultiSearchPageHolder","zgs20_gsScrollLoader"),ke.multiResCount=0,ke.scrollSearch=!0,ke.hideSearchPageLoader(),s=ke.formFinalSearchObj(s),ke.getNewSearchResults(s)))},ke.isPreviewOpenedInComponent||ke.isEmbed||!ke.ziaProperties.isPropertyNeeded("isSearchNeeded")||(ke.setSearchBoxPlaceHolder(),ke.handleSearchCloseIcon(),ke.setSearchBtnAndVal()),ke.hasOwnProperty("gscomponent")&&l.isResizeEnabled()&&ke.setWMSZIndex(),ke.dashboardEventListeners=function(){ke.isDashboardEnabled&&(Ue.removeEventListener("visibilitychange",ke.handleVisibilityChange,!0),ke.handleVisibilityChange=function(){var e=Ue.document.visibilityState;if(ke.isDashboardViewOpened())if("visible"===e){if(ke.isGSOpened&&!ke.gsdbhome.isAddCardPopupOpened){if(ke.gsdbhome.isOnTheFlyDashboard()){if(!ke.gsdbhome.checkRefreshTimeForOnTheFlyDashboard())return void ke.gsdbhome.getOnTheFlyDashboard();ke.gsdbhome.setNewIntervalForDashboardAutoRefresh()}(new Date).getTime()-ke.lastVisibleStateOfWindow>ke.cardAutoRefreshTime&&ke.gscardinDb.triggerAutoRefreshForCards(),ke.gscardinDb.setIntervalForCardsAutoRefresh()}}else"hidden"===e&&(ke.gscardinDb.clearIntervalForAutoRefresh(),ke.gsdbhome.clearIntervalForAutoRefresh(),ke.lastVisibleStateOfWindow=(new Date).getTime())},Ue.addEventListener("visibilitychange",ke.handleVisibilityChange,!0),1===ke.gscomponent.UIType&&(Ue.removeEventListener("beforeunload",ke.handleBeforeUnloading),ke.handleBeforeUnloading=function(e){var s;ke.hasOwnProperty("gsdbhome")&&ke.gsdbhome.isAddCardPopupOpened?(s=je("#zgs20_gsdbDemInrCont").attr("isChanged"))&&"true"==s&&(e.returnValue="Are you sure you want to leave?"):ke.hasOwnProperty("gsdbhome")&&(ke.gsdbhome.isAutoGenerateDashboard()||ke.gsdbhome.isImportedDashboard())?e.returnValue="Are you sure you want to leave?":ke.hasOwnProperty("gscreatecards")&&ke.gscreatecards.hasOwnProperty("isCardInfoChangedOrNot")&&ke.gscreatecards.isCardInfoChangedOrNot()&&(e.returnValue="")},Ue.addEventListener("beforeunload",ke.handleBeforeUnloading)),0==ke.gscomponent.UIType&&ke.isEmbedDashboardEnabled&&(Ue.removeEventListener("resize",ke.gsdashboardresizepage,!1),ke.gsdashboardresizepage=function(){ke.isDashboardViewOpened()&&setTimeout(function(){ke.gsdbhome.setSizeForDashboards()},70)},Ue.addEventListener("resize",ke.gsdashboardresizepage,!1)))},ke.extResize=function(){var e=je("#zgs20_gsHolder"),s=je("#zgs20_gsUserDetails");s.css("right",Ue.innerWidth/2-parseInt(e.css("width"))/2+"px"),je("#zgs20_gsOverlayButtons").css("margin-block-start",(Ue.innerHeight-parseInt(e.css("height")))/2+"px"),s.css("margin-block-start",(Ue.innerHeight-parseInt(e.css("height")))/2+20+"px")}}(zgssearch,window),function(y,r){r.document;var I,O=r._jQueryGS,i=y.getGSConstantObj()||{},s=y.gscomponent||{};y.gsautocomplete=(I=void 0,(I=y.gsautocomplete||{}).autoSuggClickPosUrl="/zgssearch/gsSuggestClickPosition",I.modifiers=I.modifiers||{},I.recentSearchesHolder=I.recentSearchesHolder||[],I.suggestindex=I.suggestindex||-1,I.querymodifiers=I.querymodifiers||["services","users","recentsearch"],s.isShowAppsData&&-1==y.Utils.indexOf(I.querymodifiers,"relatedproducts")&&I.querymodifiers.splice(I.querymodifiers.length-1,0,"relatedproducts"),I.modifiers.services={symbol:"#",icon:"zgs19_gsHeaderApps",msg:"gs.search.sugg.service",asMin:3,asMax:10},I.modifiers.users={symbol:"@",icon:"zgs19_gsHeaderContacts",msg:"gs.search.sugg.user",asMin:3,asMax:10},I.modifiers.recentsearch={symbol:" ",icon:"zgs19_gsHeaderRecSearch",msg:"gs.search.sugg.recent",asMin:3,asMax:10},I.modifiers.relatedproducts={symbol:" ",icon:"zgs19_gsHeaderPR",msg:"gs.search.sugg.apps",asMin:4,asMax:8},I.modifiers.dashboard={symbol:"",icon:"zgs18_gsDashboardIcon",msg:"Dashboards",asMin:3,asMax:8},I.modifiers.cards={symbol:"",icon:"zgs18_CardsIcon",msg:"Cards",asMin:3,asMax:8},I.dashboard=I.dashboard||{},I.cards=I.cards||{},I.encode_suggestion={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"},I.decode_suggestion={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&#39;":"'"},I.encode_sugg_regex=/[<>&"']/g,I.decode_sugg_regex=/&lt;|&gt;|&amp;|&quot;|&#39;/g,I.regex_replacer=/[!@#$%^&*()+=\-[\]\\';,./{}|":<>?~_]/gi,I.asLimit=I.asLimit||100,I.asMatchedObj=I.asMatchedObj||[],I.add=function(e,s){I[e]=s},I.remove=function(e){I.hasOwnProperty(e)&&delete I[e]},I.getAvailableQueryModifiers=function(){return"askZia"===y.selectedLeftPanelDivision?["services","users","recentsearch"]:I.querymodifiers},I.get=function(e){let s=I[e];if(s){if("services"!==e||"askZia"!==y.selectedLeftPanelDivision)return s;{var t,a=y.getNLPEnabledApps();let e={};for(t in a)s.hasOwnProperty(a[t])&&(e[a[t]]=s[a[t]]);return e}}return"recentsearch"===e||"relatedproducts"===e?[]:{}},I.removeExistingSuggData=function(e){for(var s=I.asMatchedObj||[],t=s.length,a=0;a<t;a++)if((s[a]||{}).key==e){I.asMatchedObj.splice(a,1);break}},I.toggleAppsSuggestRelatedProducts=function(e){0===y.getRenderedAppsList(e).length&&(O("#"+e).remove(),O("#zgs20_gsQuerySuggHeader_relatedproducts").remove())},I.renderAppsSuggestList=function(e){var s=e.start,t=s+e.max,a=e.key,r=e.value,o=e.matches,i=e.pquery,n=e.length,l=y.getQueryText();void 0!==y.rpUIConfig.callEntries[l]&&(t-=y.rpUIConfig.callEntries[l],y.rpUIConfig.callEntries={});var g=I.get(a),e="zgs20_gsQuerySuggOuter_"+a,c="zgs20_gsQuerySuggApps_"+a;for(0===O("div#"+e).length&&O("#zgs20_gsQuerySugg").append(O("<div>",{id:e}).append(O("<div>",{id:c,class:"zgs19_gsSuggAppsList"})));s<n&&s<t;s++){var d,p,u,h,_,m,z,v=o[s][0],f=I.getSuggestIndex();g.hasOwnProperty(v)&&(d=g[v],p=void 0!==y.rpUIConfig.appVsUrl[d]?y.rpUIConfig.appVsUrl[d][0]:"",m=void 0!==y.rpUIConfig.appVsUrl[d]?y.rpUIConfig.appVsUrl[d][1]:"",m=y.replaceHTMLEntity(m),u="zgs18_w"+d,h=(z=I.gethighlighttext(m,i,!1)).suffix||"",_="zgs20_gsAutoSuggChildName"+f,m=O("<a>",{rel:"noopener noreferrer",href:p,target:"_blank",gs:"rpStats",gsa:"as-"+v+"_"+d,productName:d,class:"zgs19_gsQuerySuggApps zgs19_gsCurPointer zgs19_gsAutoSuggChild",key:a,hold:r,unhigh:h,value:v}).append(O("<span>",{class:"zgs19_gsNaviArr zgs19_gsResultsUniIcons"})).append(O("<li>",{class:"zgs19_gsQuerySuggAppsIcon"}).append(O("<span>",{class:u}))).append(O("<span>",{sName:d,class:"zgs19_gsSuggUserTitle zgs19_appsTxt",gstitle:m,id:_})),O(m).attr("index",f),O("div#"+c).append(m),y.LINE_ICON_MAP.hasOwnProperty(u)&&y.obtainLineIconPaths(u,O(".zgs19_gsQuerySuggAppsIcon > ."+u)[0]),z=y.gssecurity.getHighlightTextNode(z.prefix,z.match,z.suffix,{class:"zgs19_gshighlight"}),y.getTargetElem(_).appendChild(z))}t<n&&0===O("div#"+e+" > .zgs19_gsQuerySuggch").length&&(l=y.getI18NMsg("gs.search.sugg.showMore"),O("div#"+e).append(O("<div>",{class:"zgs19_gsQuerySuggch zgs19_gsBorderBox",key:a,lindex:s}).append(O("<span>",{class:"zgs19_gsAutoSuggShowMore zgs19_gsCurPointer",gstitle:l}).text(l)))),I.toggleAppsSuggestRelatedProducts(e)},I.renderMoreAppsSugg=function(){var e=y.getAllQueryText(),s=y.getCursorPositionForSearchBox(),t=e.substr(0,s),a="relatedproducts",r=I.modifiers[a].symbol,o=t.substr(0,-1),e=" "+t.substr(0,s),t=I.findMatchedData(a,e),s=t.length;0<s&&(s={key:a,value:r,matches:t,pquery:e,squery:o,length:s,max:I.modifiers[a].asMax,start:0},I.removeExistingSuggData(a),I.asMatchedObj.push(s),I.renderAutoSuggList(s))},I.setAutoSuggestAppsData=function(e){s.isShowAppsData&&(void 0!==e?(y.rpUIConfig.isTriggeredSuggestCall=!0,I.add("relatedproducts",e)):(y.rpUIConfig.isTriggeredSuggestCall=!1,I.add("relatedproducts",y.rpUIConfig.iconIncludedApps)))},I.initServiceList=function(){var e,s;y.hasOwnProperty("getServiceList")&&(I.addServices(),(i.cun||i.cue)&&(e={},s=y.getThumbPhotoURL(i.cuz),e[i.cue]={DNAME:i.cun||"",EMAILID:i.cue||"",ZUID:i.cuz||"",UC:0,PURL:s},I.add("users",e)),y.focusForWeb("zgs20_gsQueryBox"))},I.addServices=function(){var e={},s=y.enabledSubServicesList(y.getServiceList("serviceList")||[]),t=y.getMappedServiceList()||{},a=y.getOrderedServiceList()||{};e[i.ALL]=t[i.ALL].displayName;for(var r=0;r<a.length;r++){var o=a[r];y.isArrayContain(o,s)&&t.hasOwnProperty(o)&&(e[o]=t[o].displayName)}I.add("services",e)},I.findMatchedData=function(e,s){return"users"==e?I.contactssearch(e,s):"recentsearch"==e?I.recentSearchMatches(e):"relatedproducts"==e?I.relatedproductsSearchMatches(e):"cards"==e?I.cardsSearchMatches(e):"dashboard"==e?I.dashboardSearchMatches(e):I.defaultsearch(e,s)},I.recentSearchMatches=function(e){var s=[],t=0,a=I.get(e),r=y.getCursorPositionForSearchBox(),e=y.getAllQueryText();if(a instanceof Object&&!y.isQueryHasServiceCriteria()&&!y.isQueryHasUserCriteria()&&e.length==r)for(var e=e.replace(I.regex_replacer,"\\$&"),o=new RegExp("(^"+e+"|\\s"+e+")","i"),i=0;i<a.length;i++){var n=a[i].search(o);if(-1<n&&I.asLimit>t&&(t++,s.push([i,n])),I.asLimit==t)break}return s},I.isAutoSuggQryChanged=function(){var e=(e=y.getQueryText())?e.trim():"",s=y.rpUIConfig.query;return(""===s||e!==s)&&1<e.length&&(y.rpUIConfig.query=e,!0)},I.getRelatedProductsMatches=function(e){var s=[],t=0,a=I.get(e),r=y.getCursorPositionForSearchBox(),e=y.getAllQueryText();if(a instanceof Object&&!y.isQueryHasServiceCriteria()&&!y.isQueryHasUserCriteria()&&e.length==r)for(var e=e.replace(I.regex_replacer,"\\$&"),o=new RegExp("(^"+e+"|\\s"+e+")","i"),i=Object.keys(a).length,n=0;n<i;n++){var l=(a[n].product_name||a[n]).search(o);if(-1<(l=y.rpUIConfig.isTriggeredSuggestCall?0:l)&&I.asLimit>t&&(t++,s.push([n,l])),I.asLimit==t)break}return s},I.relatedproductsSearchMatches=function(s){var t=I.getRelatedProductsMatches(s),e=t.length,a=I.isAutoSuggQryChanged(e);return e<I.modifiers[s].asMin&&a&&setTimeout(function(){var e=y.getQueryText();void 0===y.rpUIConfig.callEntries[e]&&y.rpUIConfig.onholdQuery!==e&&y.rpUIConfig.searchedQuery!==e&&(t=I.getRelatedProductsMatches(s),y.rpUIConfig.callEntries[e]=t.length,y.rpUIConfig.onholdQuery=e,y.getSearchResultsForRelatedProducts("autosuggest"))},800),t},I.defaultsearch=function(e,s){var t={},a=0,r=I.get(e);if(s==I.modifiers.services.symbol)return I.defaultservicelist(r);var o,s=s.substr(1,s.length).replace(I.regex_replacer,"\\$&"),i=new RegExp("(^"+s+"|\\s"+s+")","i");for(o in r){var n=r[o].search(i);if(-1<n&&I.asLimit>a&&(a++,t[o]=n),I.asLimit==a)break}return I.getSortedMatches(t)},I.dashboardSearchMatches=function(e){var s={},t=0;if(!y.isMobViewport()){var a=I.get(e);if(0===y.getAvailableQueryFilters().length){var r,o=y.getAllQueryText().trim().replace(I.regex_replacer,"\\$&"),i=new RegExp("(^"+o+"|\\s"+o+")","i");for(r in a){var n=a[r].search(i);if(-1<n&&I.asLimit>t&&(t++,s[r]=n),I.asLimit==t)break}o=Object.keys(a).length;(!y.gsdbUtils.dashboardDataObtained||Object.keys(s).length<I.modifiers[e].asMin&&!y.gsdbUtils.hasNoMoreDb&&o>y.gsdbUtils.oldDbObjLen)&&(e={callback:function(e,s){s||(y.removeQuerySugg(),y.updateQueryDiv())}},o="start="+Object.keys(a).length+"&count="+y.dashboardCount+"&sort=0",y.gsdbUtils.getDashboardMeta(o,e))}}return I.getSortedMatches(s)},I.cardsSearchMatches=function(e){var s={},t=0;if(!y.isMobViewport()){var a=y.gscardUtils.allCardIds,r=I.get(e);if(0===y.getAvailableQueryFilters().length){for(var o=y.getAllQueryText().trim().replace(I.regex_replacer,"\\$&"),i=new RegExp("(^"+o+"|\\s"+o+")","i"),n=a.length,l=0;l<n;l++){var g=a[l],c=(r[g]||"").search(i);if(-1<c&&I.asLimit>t&&(t++,s[g]=c),I.asLimit==t)break}o=Object.keys(r).length;(Object.keys(s).length<I.modifiers[e].asMin&&!y.gscardUtils.allCardsFetched&&o>y.gscardUtils.oldCardObjLen||!y.gscardUtils.cardsFetchedForCurrCall)&&(e=Object.keys(y.cardTypeConstants),y.gscardUtils.oldCardObjLen=o,y.gscardUtils.getMergedCardMetaData(e,o,y.gscardUtils.cardsCount,0,function(e,s,t){t||(y.removeQuerySugg(),y.updateQueryDiv())}))}}return I.getSortedMatches(s)},I.contactssearch=function(e,s){var t=I.asLimit,a=I.get(e),r=y.gsusercontacts.contactSearchQry.toLowerCase(),o=s.substr(1,s.length).toLowerCase(),i=[],n=!1,l=y.gsusercontacts.clientSearchLimit,g=!0,c=(d=I.usersearch(o,a,{},t)).length;if(c<t){e=t-c,s=y.gsusercontacts.getProximityContactsObject(),c=y.gsusercontacts.getQueriedProxContactsObject();o&&r?o===r?(d=[],i=I.getSortedByUsgaeCount(c)):0==o.indexOf(r)?(i=I.usersearch(o,c,a,e)).length<l&&((c=y.gsusercontacts.searchResultshasMore).hasOwnProperty(o)&&!c[o]||(n=!0)):0==r.indexOf(o)?(r=y.gsusercontacts.autoSuggSearchVsResponse,o=o.trim(),r.hasOwnProperty(o)?(r=r[o],i=I.getSortedByUsgaeCount(r.contacts),y.gsusercontacts.CurrCacheQryContactObj=r.contacts,d=[],i.length==r.count&&(g=!1)):i=I.usersearch(o,s,a,e)):((i=I.usersearch(o,s,a,e)).length<l&&(n=!0),y.gsusercontacts.autoSuggSearchVsResponse={}):((i=I.usersearch(o,s,a,e)).length<l&&(n=!0),y.gsusercontacts.autoSuggSearchVsResponse={});var d,i=t<(i=(d=[].concat(d,i)).length)?t:i;return(d=d.slice(0,i)).length<l&&0<o.length&&y.gsusercontacts.fetchFromServer(o,[],n,g),d}},I.usersearch=function(e,s,t,a){var r=[];if(!O.isEmptyObject(s)){var o=I.getSortedByUsgaeCount(s);if(e){for(var i=[],n=[],l=0;l<o.length;l++){var g=o[l][0];if(!t.hasOwnProperty(g)){var c=s[g];if(c.DNAME&&c.EMAILID){var d=(d=y.replaceHTMLEntity(c.DNAME)).toLowerCase(),p=y.replaceHTMLEntity(c.EMAILID),c=e.replace(I.regex_replacer,"\\$&");if(0==d.indexOf(c)||0==p.indexOf(c)?i.push([g,0]):(c=new RegExp("(^"+c+"|\\s"+c+")","i"),-1<(c=d.search(c))&&n.push([g,c])),i.length+n.length==a)break}}}r=[].concat(i,n)}else{for(var u=[],l=0;l<o.length;l++){g=o[l][0];t.hasOwnProperty(g)||u.push(o[l])}r=u}}return r},I.getSortedMatches=function(e){var s=[];if(!O.isEmptyObject(e)){for(var t in e)s.push([t,e[t]]);s.sort(function(e,s){return e[1]>s[1]?1:e[1]<s[1]?-1:0})}return s},I.getSortedCardMatches=function(e,s){var t=[];if(!O.isEmptyObject(s)&&0<e.length){for(var a in e){a=e[a];t.push([a,s[a]])}t.sort(function(e,s){return e[1]>s[1]?1:e[1]<s[1]?-1:0})}return t},I.getSortedByUsgaeCount=function(e){var s=[];if(!O.isEmptyObject(e)){for(var t in e){var a=e[t].UC||"0";s.push([t,parseInt(a)])}s.sort(function(e,s){return s[1]>e[1]?1:s[1]<e[1]?-1:0})}return s},I.defaultservicelist=function(e){var s,t=[];for(s in e)t.push([s,0]);return t},I.gethighlighttext=function(s,e,t,a){var r,o={prefix:s,isMatched:!1},i=e.length,a=e.substr(null!=a?a:1,i);return 0<i&&(a=a.replace(I.regex_replacer,"\\$&"),a=t?new RegExp(a,"i"):new RegExp("(^"+a+"|\\s"+a+")","i"),-1<(r=s.search(a))&&s.replace(a,function(e){o.isMatched=!0,o.prefix=s.substr(0,r),o.match=s.substr(r,e.length),o.suffix=s.substr(r+e.length,s.length)})),o},I.renderDefaultHeader=function(){var e=y.getAllQueryText(),s=y.getI18NMsg("gs.search.service_search_for"),t=y.getI18NMsg("gs.search.service_search_enter");O("#zgs20_gsQuerySugg").append(O("<div>",{class:"zgs19_gsDefaultHeader zgs19_gsOverflow"}).append(O("<span>",{class:"zgs19_gsDefaultLabel zgs19_gsfl zgs19_gsOverflow",gstitle:s}).text(s)).append(O("<span>",{class:"zgs19_gsfl zgs19_gsFontWeightBold"}).text('"')).append(O("<span>",{class:"zgs19_gsDefaultQuery zgs19_gsfl zgs19_gsOverflow",gstitle:e}).text(e)).append(O("<span>",{class:"zgs19_gsfl zgs19_gsFontWeightBold"}).text('"')).append(O("<span>",{class:"zgs19_gsDefaultEnter zgs19_gsfr zgs19_gsOverflow",gstitle:t}).text(t)))},I.renderSectionHeader=function(e){var s,t;0===O("div#zgs20_gsQuerySuggHeader_"+e).length&&(t=I.modifiers[e].icon,s=I.modifiers[e].msg,s=y.getI18NMsg(s),t=""!==t?O("<span>",{class:"zgs19_gsSecHeaderKey zgs19_gsfl "+("cards"!=e&&"dashboard"!=e?"zgs19_gsResultsUniIcons ":"")+t}):"",O("#zgs20_gsQuerySugg").append(O("<div>",{class:"zgs19_gsSectionHeaderNew",id:"zgs20_gsQuerySuggHeader_"+e}).append(t).append(O("<span>",{class:"zgs19_gsFtWeightBold zgs19_gsfl zgs19_gsSecHeaderVal zgs19_gsOverflow zgs19_gsCalMW20Pxof100",gstitle:s}).text(s))))},I.renderAutoSuggList=function(e){"users"==e.key?(I.renderSectionHeader(e.key),I.renderUsersuggestList(e)):"relatedproducts"==e.key?(I.renderSectionHeader(e.key),e.max=I.modifiers[e.key].asMin,I.renderAppsSuggestList(e)):(I.renderSectionHeader(e.key),I.rendersuggestList(e)),I.locateAutoSuggList(e.squery,e.key)},I.constructsuggestList=function(e){var s="zgs20_gsQuerySuggOuter_"+e.key;0===O("div#"+s).length&&O("#zgs20_gsQuerySugg").append(O("<div>",{id:s}));var t=O("<div>",{id:"zgs20_gsAutoSuggChild"+e.ii,gs:e.gsAttr,viewid:e.currMatch,gsa:"as-"+e.currMatch,class:"zgs19_gsAutoSuggChild zgs19_gsQuerySuggch zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsCurPointer",index:e.ii,key:e.key,hold:e.hold,unhigh:e.unhigh,value:e.currMatch}).append(O("<span>",{class:e.rnameCls})).append(O("<span>",{id:"zgs20_gsAutoSuggChildName"+e.ii,class:"zgs19_gsAutoSuggChildName zgs19_gsOverflow"+e.highclass,gstitle:e.rname}));if(O(t).attr("index",e.index),e.otherAttr)for(var a in e.otherAttr)O(t).attr(a,e.otherAttr[a]);O("div#"+s).append(t),"services"!=e.key&&"cards"!=e.key||y.obtainLineIconPaths(e.serviceicon,O(t).find("."+e.serviceicon))},I.rendersuggestList=function(e){var s=e.start,t=s+e.max,a=e.key,r=e.value,o=e.matches,i=e.length,n=e.pquery;"recentsearch"==a&&(n=r+y.getAllQueryText());for(var l={key:a,hold:r},g=I.get(a);s<i&&s<t;s++){var c,d,p,u=o[s],h=u[0];g.hasOwnProperty(h)&&(l.rname=g[h],l.ii=I.getSuggestIndex(),p=I.gethighlighttext(l.rname,n,!1),l.unhigh=p.suffix||"",l.highclass=0==s&&"services"==a?"zgs19_gsFtWeightBold":"","services"==a&&(d=y.mappedServiceList[u[0]],l.serviceicon=d.serviceicon,l.rnameCls="zgs19_gsAutoSuggService "+l.serviceicon),"dashboard"==a&&(l.otherAttr={viewid:h}),"cards"==a&&((u=y.gscardUtils.cardMetaObj[c=h]||{}).subcardtype?l.serviceicon=y.gscardUtils.getIconForSubType(u.subcardtype):(d=y.mappedServiceList[u.service],l.serviceicon=d.serviceicon),l.rnameCls="zgs19_gsAutoSuggService "+l.serviceicon,l.otherAttr={viewid:c,id:c,type:u.cardtype}),l.currMatch=h,l.index=s,I.constructsuggestList(l),p=y.gssecurity.getHighlightTextNode(p.prefix,p.match,p.suffix,{class:"zgs19_gshighlight"}),y.getTargetElem("zgs20_gsAutoSuggChildName"+l.ii).appendChild(p))}t<i&&(r=y.getI18NMsg("gs.search.sugg.showMore"),O("div #zgs20_gsQuerySuggOuter_"+a).append(O("<div>",{class:"zgs19_gsQuerySuggch zgs19_gsBorderBox",key:a,lindex:s}).append(O("<span>",{class:"zgs19_gsAutoSuggShowMore zgs19_gsCurPointer",gstitle:r}).text(r))))},I.renderLoadingIcon=function(e){I.showLoadingIcon=!0;var s=y.getFourDotLoader("zgs20_gsAutoSuggestLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader10 zgs19_gsAutoSuggestLoader");O("#zgs20_gsQuerySugg").empty().append(s),I.locateAutoSuggList(e)},I.renderUsersuggestList=function(e,s,t){var a=e.start,r=a+e.max,o=e.key,i=e.value,n=e.matches,l=e.pquery,g=e.length,c=I.get("users"),d=y.gsusercontacts.getProximityContactsObject(),p=y.gsusercontacts.getQueriedProxContactsObject(),e=y.gsusercontacts.getCurrCacheQryContact(),u=O.extend({},p,e,d,c),h=s||"zgs20_gsQuerySuggOuter_"+o;for(t=t||"zgs20_gsQuerySugg",0===O("div#"+h).length&&O("#"+t).append(O("<div>",{id:h}));a<g&&a<r;a++){var _,m,z,v,f,C,S=n[a][0],b=I.getSuggestIndex();u.hasOwnProperty(S)&&(f=y.replaceHTMLEntity(u[S].DNAME),v=y.replaceHTMLEntity(u[S].EMAILID),m=(_=I.gethighlighttext(f,l,!1)).suffix||"",C=u[S].ZUID,z=O(".zgs19_gsAutoSuggChild").length,z=0==a&&z<=0?"zgs19_gsFtWeightBold":"",z=O("<div>",{id:"zgs20_gsAutoSuggChild"+b,class:"zgs19_gsAutoSuggChild zgs19_gsQuerySugguser zgs19_gsCurPointer",index:a,key:o,hold:i,unhigh:m,value:v}).append(O("<div>",{class:"zgs19_gsSearchResultRow"}).append(O("<div>",{class:"zgs19_gsSuggUserCell1"}).append(O("<div>",{class:"zgs19_gsUniIconHolder"}).append(O("<img>",{class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl",gs:"gsUserPhoto",src:y.gsspacer})))).append(O("<div>",{class:"zgs19_gsSuggUserCell2"}).append(O("<div>",{class:"zgs19_gsSuggUserTitle zgs19_gsOverflow"}).append(O("<span>",{id:"zgs20_gsAutoSuggChildName"+b,class:"zgs19_gsAutoSuggChildName zgs19_gsOverflow"+z,gstitle:f}))).append(O("<div>",{class:"zgs19_gsSuggUserAuthor zgs19_gsOverflow"}).append(O("<span>",{id:"zgs20_gsAutoSuggChildEmail"+b,gstitle:v}))))),O(z).attr("index",b),O("div#"+h).append(z),z=y.gssecurity.getHighlightTextNode(_.prefix,_.match,_.suffix,f={class:"zgs19_gshighlight"}),y.getTargetElem("zgs20_gsAutoSuggChildName"+b).appendChild(z),v=0==_.isMatched?I.gethighlighttext(v,l,!1):{prefix:v},f=y.gssecurity.getHighlightTextNode(v.prefix,v.match,v.suffix,f),y.getTargetElem("zgs20_gsAutoSuggChildEmail"+b).appendChild(f),(C=u[S].PURL||(C&&"-1"!==C?y.getThumbPhotoURL(C):""))?y.updateUserPhoto("zgs20_gsAutoSuggChild"+b,C):y.loadResNoPhotoImg("zgs20_gsAutoSuggChild"+b))}r<g&&(t=y.getI18NMsg("gs.search.sugg.showMore"),O("div#"+h).append(O("<div>",{class:"zgs19_gsQuerySuggch zgs19_gsBorderBox",key:o,lindex:a}).append(O("<span>",{class:"zgs19_gsAutoSuggShowMore zgs19_gsCurPointer",gstitle:t}).text(t))))},I.getSuggestIndex=function(){return I.suggestindex++,500<I.suggestindex&&(I.suggestindex=0),I.suggestindex},I.locateAutoSuggList=function(e,s){I.isAutoSuggDisplay=!0,O("#zgs20_gsQuerySugg").css("display","block"),O("#zgs20_gsQuerySugg").scrollTop(0),O("#zgs20_gsQuerySugg").scrollLeft(0),O("#zgs20_gsQuerySugg").css("overflow-y","auto"),O("#zgs20_gsQuerySugg").css("overflow-x","hidden"),y.jqueryMouseEvent();var t=O("#zgs20_gsQuerySugg").width(),a=O("#zgs20_gsQueryBox").outerWidth(),r=y.getTargetElem("zgs20_gsQueryBox"),r=y.getQueryScrollLeft(r)||0;r=a<(r=e?y.getWidthOfText(e,a)-r:r)+t?a-t:r,("recentsearch"==s||r<0)&&(r=0),O("#zgs20_gsQuerySugg").css("inset-inline-start",r),O("#zgs20_gsDummyQueryDiv").remove()},I.showMoreAutoSuggest=function(e){e=e.parentNode;if(e){var s=I.asMatchedObj||[],t=O(e).attr("key"),a=O(e).attr("lindex"),a=parseInt(a),r=s.length;if(0<r){O(e).remove();for(var o=0;o<r;o++){var i=s[o]||{};if(i.key==t){i.start=a,i.max=I.modifiers[t].asMax,"users"==i.key?I.renderUsersuggestList(i):"relatedproducts"==i.key?(I.removeExistingSuggData(i.key),I.asMatchedObj.push(i),I.renderAppsSuggestList(i)):I.rendersuggestList(i),y.jqueryMouseEvent();break}}}}},I.openApp=function(e,s){var t,a;"click"!==e.type&&(a=s||e.target,(a=y.getParentNode(a,"rpStats"))&&(t=e.which,s=O(a).attr("productName"),13===t&&(s=y.rpUIConfig.appVsUrl[s.toLowerCase()][0],r.open(s)),1!==t&&2!==t&&13!==t||y.hasOwnProperty("gsanalytics")&&(a=y.getStatsKey(O(a).attr("gsa")),y.gsanalytics.sendStatsData(e,a)),e.stopPropagation()))},I.handleRecentSearch=function(e){y.emptySearchBoxValues(),O("#zgs20_gsQueryBox").val(e),I.handleSuggestionSearch()},I.handleSuggestionSearch=function(){y.removeQuerySugg();y.getAllQueryText();var e=y.getSearchType(),s=y.checkAndReturnServiceCriteria(e),t=y.hasOwnProperty("gsusersettings")&&y.gsusersettings.isSettingsOpened,a=y.isCardViewOpened(),r=y.isDashboardViewOpened();(e!=s||r||a||t)&&(y.getWidgetServiceList(s),y.updateSearchType(s),y.updateCurrentPage(s)),y.handleSearchCall(s)},I.storeRecentSearch=function(){var e,s=y.getQueryText();y.isQueryValid(s)&&(-1<I.recentSearchesHolder.indexOf(s)&&(e=I.recentSearchesHolder.indexOf(s),I.recentSearchesHolder.splice(e,1)),I.recentSearchesHolder.unshift(s),y.gsautocomplete.add("recentsearch",I.recentSearchesHolder))},I.sendAutoSuggClickPosition=function(e,s){var t="zia";1===y.gscomponent.UIType?t+="Bigger":0===y.gscomponent.UIType&&(t+="Smaller");t="api_consumer="+y.autoSuggestApiConsumer+"&rpos="+e+"&q="+s+"&search_sub_type="+t;y.uri(y.POST,y.gsautocomplete.autoSuggClickPosUrl,t,{},function(){})},I)}(zgssearch,window),function(l){var g,n=window._jQueryGS;l.getGSConstantObj();l.gsusercontacts=(g=void 0,(g=l.gsusercontacts||{}).fetContactsCount=g.fetContactsCount||50,g.clientSearchLimit=g.clientSearchLimit||10,g.isEmailOnlyResult=g.isEmailOnlyResult||!1,g.defContactsCount=500,g.serverCallCount=0,g.queueserver={},g.myContacts=g.myContacts||{},g.orgContacts=g.orgContacts||{},g.myContactsCache=g.myContactsCache||{result:[],noresult:[]},g.orgContactsCache=g.orgContactsCache||{result:[],noresult:[]},g.autoSuggCache=g.autoSuggCache||{result:[],noresult:[]},g.alreadyShownRes=g.alreadyShownRes||[],g.proximityContactsObject=g.proximityContactsObject||{},g.proximityContacts=[],g.proximityContactsMoreRes=g.proximityContactsMoreRes||!0,g.searchResultshasMore=g.searchResultshasMore||{},g.queriedProxContactsObj=g.queriedProxContactsObj||{},g.contactSearchQry=g.contactSearchQry||"",g.autoSuggSearchVsResponse=g.autoSuggSearchVsResponse||{},g.CurrCacheQryContactObj=g.CurrCacheQryContactObj||{},g.getMyContactsList=function(){return g.myContacts||{}},g.getServerCallCount=function(){return g.serverCallCount},g.getProximityContactsObject=function(){return g.proximityContactsObject||{}},g.setProximityContactsObject=function(e,s){g.proximityContactsObject.hasOwnProperty(e)||(g.proximityContactsObject[e]=s)},g.getQueriedProxContactsObject=function(){return g.queriedProxContactsObj||{}},g.setServerCallCount=function(){var e=(e=g.getServerCallCount())<500?e+1:1;g.serverCallCount=e},g.checkProxConTresholdLimit=function(){var e=g.getProximityContactsObject();n.isEmptyObject(e)||864e5<(new Date).getTime()-g.proxContacts_expiry_time&&(g.clearProxContactsData(),l.fetchTopContacts())},g.clearProxContactsData=function(){g.proximityContactsObject={},g.proximityContactsMoreRes=!1,l.isBulkProximityContactsFetched=!1},g.getCurrCacheQryContact=function(){return g.CurrCacheQryContactObj||{}},g.getUserContacts=function(){var e=l.getWMSUserContacts();return e=l.isWMSChatPaused()&&n.isEmptyObject(e)?g.getMyContactsList():e},g.isSearchReqCached=function(e){e=e.toLowerCase();var s=g.autoSuggCache.result||[],t=g.autoSuggCache.noresult||[],a="start=0&limit="+g.fetContactsCount;return l.isReqCached(e,s,t,a)},g.fetchFromServer=function(e,s,t,a){var r,o,i,n=!0;g.checkIfExistingCallInProgress()&&l.gsusercontacts.proximityContactsMoreRes&&(r=g.autoSuggCache.result||[],o=g.autoSuggCache.noresult||[],i="start=0&limit="+g.fetContactsCount,l.isReqCached(e,r,o,"",i)&&!t||!a||(n=!1,l.gsusercontacts.alreadyShownRes=[],g.fetchQueriedContacts(e,g.fetContactsCount))),n&&l.gsautocomplete.showLoadingIcon&&l.removeQuerySugg()},g.checkIfExistingCallInProgress=function(){var e=g.queueserver,s=e.flag||!1,t=e.expiry_time||0,e=(new Date).getTime();return!s||15e3<e-t},g.fetchQueriedContacts=function(e,s){var t=e?encodeURIComponent(e):"",a="start=0&limit="+s+"&query="+t,t={start:0,limit:s,query:t,addEmailOnlyContacts:l.gsusercontacts.isEmailOnlyResult};g.setServerCallCount();a={service:"zia",type:"getContacts",query:e,curCount:g.getServerCallCount(),queryUrl:a};g.queueserver={flag:!0,expiry_time:(new Date).getTime()},g.autoSuggCache={result:[],noresult:[]},l.ProximityContacts.getQueriedContacts(l.autoSuggestApiConsumer,t,a)},g.storeExtraValuesForContacts=function(e,s,t,a){var r,o,i=a.type;"topcontacts"===i?(g.proxContacts_expiry_time=(new Date).getTime(),g.proximityContactsMoreRes=e.has_more,g.proximityContactsObject=s):"getContacts"===i&&(l.gsusercontacts.queueserver={flag:!1,expiry_time:0},r=a.query,g.queriedProxContactsObj={},g.queriedProxContactsObj=s,(g.contactSearchQry=r)&&(o=r.toLowerCase().trim(),l.gsusercontacts.searchResultshasMore={},l.gsusercontacts.searchResultshasMore[o]=e.has_more,(i={}).contacts=s,i.hasmore=e.has_more,i.count=e.count,l.gsusercontacts.autoSuggSearchVsResponse[o]=i,(1==e.has_more?g.autoSuggCache.result:g.autoSuggCache.noresult).push(t),a.curCount==g.getServerCallCount()&&("calendarAttendees"!==l.ContactsSearchType&&"filterUI"!==l.ContactsSearchType?n.isEmptyObject(s)||(l.removeQuerySugg(),s=l.getAllQueryText(),l.updateSearchBox(s,"serverResponse"),l.updatesuggtext()):"filterUI"===l.ContactsSearchType&&l.gsadvancesearch.advanceUserSearch(r))))},g),l.fetchTopContacts=function(){var e;l.isBulkProximityContactsFetched||(l.isBulkProximityContactsFetched=!0,e={addEmailOnlyContacts:l.gsusercontacts.isEmailOnlyResult},l.ProximityContacts.getTopContacts(l.autoSuggestApiConsumer,e,{service:"zia",type:"topcontacts"}))}}(zgssearch),function(c){var d=window._jQueryGS,a=c.getGSConstantObj()||{},p=c.gscomponent||{};c.getDoubleClickEvent=function(e,s){d("#zgs20_gsPopupSearch").remove();var t,a,r,o,i,n,l,g=e.toString();null!==(g=g.trim())&&""!==g&&" "!==g?(100<g.length&&(g=g.substring(0,100)),c.isOpenDoubleClickPopup=!0,d(s).append(d("<div>",{id:"zgs20_gsPopupSearch",class:"zgs19_gsPopupSearch"}).append(d("<div>",{class:"zgs20_gsPopArrow zgs19_gsBorderBox"})).append(d("<div>",{class:"zgs19_gsInnerPopUp",gs:"doubleclickpop",query:g}).append(d("<span>",{class:"zgs19_gsSearchWord"}).text(c.getI18NMsg("gs.search.service_search_for")+" ")).append(d("<span>",{class:"zgs19_gsPopupText"}).text('"'+g+'"')))),a=s.scrollLeft,r=s.scrollTop,g=e.getRangeAt(t=n=i=o=0).getBoundingClientRect(),e=d(s).get(0).getBoundingClientRect(),d(".zgs19_gsPopupSearch").css({top:l}),s=1===p.UIType?d("#zgs20_gsSearchResultRight").width()-40:d("#zgs20_gsSearchResultRight").width()-55,d(".zgs19_gsPopupSearch").css({"max-width":s}),d(".zgs19_gsInnerPopUp").css({"max-width":s}),s=d("#zgs20_gsSearchResultRight").get(0).getBoundingClientRect(),o=g.left-s.left,s.bottom-g.bottom<50?(l=r+g.top-e.top-43,r<=0&&l<0?l=0:g.top-e.top<50&&(l=r),d(".zgs19_gsPopupSearch").css({top:l}),d(".zgs20_gsPopArrow").addClass("zgs19_gsPopDownArrow")):(l=r+g.top-e.top+g.height+10,d(".zgs19_gsPopupSearch").css({top:l}),d(".zgs20_gsPopArrow").addClass("zgs19_gsPopUpArrow")),e=d(".zgs19_gsPopupSearch").get(0).getBoundingClientRect(),d(".zgs20_gsPopArrow").css({left:n}),n=a+o-(i=o+g.width/2>s.width?s.width/2+o:a+o+g.width/2-e.width/2)+g.width/2-8,(l=i-a)<0&&(i=i+Math.abs(l)+5,d(".zgs19_gsPopupSearch").css({left:i}),e=d(".zgs19_gsPopupSearch").get(0).getBoundingClientRect(),n=g.left-s.left+g.width/2-12),(t=a+s.width-(i+e.width))<0&&(n=a+o-(i=i+t-5)+g.width/2-8),(e=d(".zgs19_gsPopupSearch").get(0).getBoundingClientRect()).right-e.left-15<=(n=(n=n<0?Math.abs(n):n)<4?4:n)&&(n=e.width/2),d(".zgs19_gsPopupSearch").css({left:i}),d(".zgs20_gsPopArrow").css({left:n})):c.isOpenDoubleClickPopup=!1},c.widgetPopUpSearch=function(e){var s=d(e).attr("query"),t=d(e).attr("value")||"",e=d(e).attr("eId");c.searchbox.appendQueryAndSearch(a.ALL,{name:s,zuid:t,emailId:e})}}(zgssearch),zgssearch.CrmUtils=zgssearch.CrmUtils||{},zgssearch.CrmUtils.field1_data=["Name","Full_Name","Full Name","Subject","Title"],zgssearch.CrmUtils.field2_data=["Company","Account.Name"],zgssearch.CrmUtils.field3_data=["Email","Stage","Status","Owner.Alias"],zgssearch.CrmUtils.field4_data=["Mobile","Phone","MobilePhone"],zgssearch.CrmUtils.names_fields=["Full Name","Full_Name","First Name","First_Name","Last Name","Last_Name"],zgssearch.CrmUtils.MAX_FIELD_COUNT=4,zgssearch.CrmUtils.ROW_1="row1_fields_data",zgssearch.CrmUtils.ROW_2="row2_fields_data",zgssearch.CrmUtils.ICON_EXISTS_MODULES=["leads","contacts","accounts","campaigns","invoices","salesorders","events","tasks","notes"],zgssearch.CrmUtils.imp_fields=zgssearch.CrmUtils.imp_fields||{},zgssearch.CrmUtils.getModuleImpFields=function(e,s){return zgssearch.CrmUtils.imp_fields[e][s]||{}},zgssearch.CrmUtils.setModuleImpFields=function(e,s,t){void 0===zgssearch.CrmUtils.imp_fields[e]&&(zgssearch.CrmUtils.imp_fields[e]={}),zgssearch.CrmUtils.imp_fields[e][s]=t},zgssearch.CrmUtils.parseDisplayFields=function(e){var s,t,a=e.service_name,r=e.service_addtional_info;for(s in r)r.hasOwnProperty(s)&&"cursor"!==s&&(t=r[s],zgssearch.CrmUtils.setAPINameVsLabel(a,s,t),zgssearch.CrmUtils.setDisplayFields(a,s))},zgssearch.CrmUtils.setAPINameVsLabel=function(e,s,t){for(var a={},r={},o=[],i=t.length,n=0;n<i;n++){var l=t[n],g=l.api_name,l=l.disp_label;r[a[g]=l]=g,o.push(l)}var c={};c.nameVsDispName=a,c.dispNameVsName=r,c.search_display_fields=t,c.search_display_fields_list=o,zgssearch.CrmUtils.setModuleImpFields(e,s,c)},zgssearch.CrmUtils.setDisplayFields=function(e,s){var t=[],a=[],r=zgssearch.CrmUtils.getModuleImpFields(e,s),e=r.nameVsDispName||{};zgssearch.CrmUtils.headerField1(s,e,t,a),zgssearch.CrmUtils.headerField2(s,e,t,a),zgssearch.CrmUtils.footerField1(s,e,t,a),zgssearch.CrmUtils.footerField2(s,e,t,a),r.display_fields_order=t,r.display_fields_data=a},zgssearch.CrmUtils.processAndPushFields=function(e,s,t,a,r){for(var o="",i="",n="",l=a.length,g=0;g<l;g++){var c=a[g];if(e[c]){i=o=e[n=c];break}}""!==n&&zgssearch.CrmUtils.putFieldValues(s,t,o,i,n,null,r)},zgssearch.CrmUtils.putFieldValues=function(e,s,t,a,r,o,i){var n={};n.field_label=t,n.field_title=a,n.api_name=r,n.row_key=i,null!=o&&(n.field_value=o),e.push(t),s.push(n)},zgssearch.CrmUtils.nameORTitleORSubjectField=function(e,s){s.push(e+"_Name"),s.push(e+" Name"),s.push(e+"_Title"),s.push(e+" Title"),s.push(e+".Title"),s.push(e+".Name")},zgssearch.CrmUtils.headerField1=function(e,s,t,a){for(var r=zgssearch.CrmUtils.field1_data,o=r.length,i=[],n=0;n<o;n++)i.push(r[n]);zgssearch.CrmUtils.nameORTitleORSubjectField(e,i),zgssearch.CrmUtils.processAndPushFields(s,t,a,i,zgssearch.CrmUtils.ROW_1)},zgssearch.CrmUtils.headerField2=function(e,s,t,a){for(var r=zgssearch.CrmUtils.field2_data,o=r.length,i=[],n=0;n<o;n++)i.push(r[n]);i.push(e+".Name"),zgssearch.CrmUtils.processAndPushFields(s,t,a,i,zgssearch.CrmUtils.ROW_1)},zgssearch.CrmUtils.footerField1=function(e,s,t,a){var r=zgssearch.CrmUtils.field3_data;zgssearch.CrmUtils.processAndPushFields(s,t,a,r,zgssearch.CrmUtils.ROW_2)},zgssearch.CrmUtils.footerField2=function(e,s,t,a){var r=zgssearch.CrmUtils.field4_data;zgssearch.CrmUtils.processAndPushFields(s,t,a,r,zgssearch.CrmUtils.ROW_2)},zgssearch.CrmUtils.parseResultViewFields=function(e,s,t,a){for(var e=zgssearch.CrmUtils.getModuleImpFields(e,s),r=e.display_fields_data,o=(e.display_fields_order,e.dispNameVsName||{}),i=[],n=0,l=[],g=[],c=r.length,d=0;d<c;d++){var p=t[z=(C=Object.assign({},r[d])).field_label];if(n>=zgssearch.CrmUtils.MAX_FIELD_COUNT)break;null!=p&&""!==p&&(C.field_value=p,((C.row_key||zgssearch.CrmUtils.ROW_2)===zgssearch.CrmUtils.ROW_1?l:g).push(C),i.push(z),n++)}var u=l.length,h=g.length,_=[],m=0;if(n<zgssearch.CrmUtils.MAX_FIELD_COUNT)for(var z in o){var v=!1;if(o.hasOwnProperty(z)){if(n>=zgssearch.CrmUtils.MAX_FIELD_COUNT)break;p=t[z];if(i.indexOf(z)<=-1&&null!=p&&""!==p){var f=o[z];if(0===u&&z.indexOf("Date")<=-1&&z.indexOf("Time")<=-1)u++,zgssearch.CrmUtils.putFieldValues(i,l,z,z,f,p);else{if(!(h<2))break;-1<z.indexOf("Date")||-1<z.indexOf("Time")?(v=!0,m++,zgssearch.CrmUtils.putFieldValues([],_,z,z,f,p)):(h++,zgssearch.CrmUtils.putFieldValues(i,g,z,z,f,p))}v||n++}}}if(h<2)for(d=0;d<m&&!(2<=h);d++){var C=_[d];g.push(C),i.push(C.field_label),h++}s={is_name_field:!1},l=zgssearch.CrmUtils.skipDuplicateNameFields(l,s),g=zgssearch.CrmUtils.skipDuplicateNameFields(g,s);e.display_fields_order=i,a[zgssearch.CrmUtils.ROW_1]=l,a[zgssearch.CrmUtils.ROW_2]=g},zgssearch.CrmUtils.skipDuplicateNameFields=function(e,s){for(var t=[],a=0;a<e.length;a++){var r=e[a],o=r.api_name||"",o=zgssearch.CrmUtils.names_fields.indexOf(o);(o<=-1||-1<o&&!s.is_name_field)&&(-1<o&&(s.is_name_field=!0),t.push(r))}return t},zgssearch.CrmUtils.parseTitleField=function(e,s,t){for(var a=zgssearch.CrmUtils.field1_data,r=a.length,o=[],i=0;i<r;i++)o.push(a[i]);var n=zgssearch.CrmUtils.convertToKeyValuePair(s);zgssearch.CrmUtils.nameORTitleORSubjectField(e,o);for(var l=o.length,i=0;i<l;i++){var g=o[i],c=void 0!==n[g]?n[g]:"";if(""!==c&&null!==c){c={};c.title=g,c.value=n[g],t.title_info=c;break}}},zgssearch.CrmUtils.checkTitleFieldEmpty=function(e){if(void 0===e.title_info){for(var s=e.callout_header_fields,t=s.length,a="",r="",o=0;o<t;o++){var i=s[o],r=i.field_value,a=i.field_label;if(""!==r&&"-"!==r&&a.indexOf("Date")<=-1&&a.indexOf("Time")<=-1)break}var n={};n.title=i.field_label,n.value=r,e.title_info=n}},zgssearch.CrmUtils.convertToKeyValuePair=function(e){for(var s=e.length,t={},a=0;a<s;a++){var r=e[a],o=r.api_name,r=(r.disp_label,r.field_val);t[o]=r}return t},zgssearch.CrmUtils.parseFieldsForCalloutHeader=function(e,s,t,a){var r=zgssearch.getCurrentResObj(),s=zgssearch.CrmUtils.getModuleImpFields(e,s);if(s.search_display_fields)for(var o=[],i=zgssearch.CrmUtils.convertToKeyValuePair(t),n=s.search_display_fields,l=n.length,g=0;g<l;g++){var c=n[g],d=c.api_name,p=c.disp_label,c=i[d];c=null!==(c=""===(c="undefined"!==c&&null!==c?c:"-")||"-"===c?void 0!==r[p]?r[p]:"-":c)&&""!==c&&void 0!==c?c:"-";d={};d.field_label=p,d.field_value=c,o.push(d)}a.callout_header_fields=o},zgssearch.CrmUtils.parseFieldsForCalloutFooter=function(e,s,t,a){for(var r=zgssearch.CrmUtils.getModuleImpFields(e,s).nameVsDispName,o=[],i=[],n=[],l=t.length,g=0;g<l;g++){var c=t[g],d=c.api_name||"",p=c.disp_label,u=c.field_val;r&&void 0===r[d]&&""!==(u=void 0!==u?u:"")&&((c={}).field_label=p,c.field_value=u,(-1<d.indexOf("Date")||-1<d.indexOf("Time")?i:-1<d.indexOf("By")?n:o).push(c))}if(0<n.length)for(g=0;g<n.length;g++)o.push(n[g]);if(0<i.length)for(g=0;g<i.length;g++)o.push(i[g]);a.callout_footer_fields=o},zgssearch.CrmUtils.getActionsList=function(){var e=[],s={gs:"calloutActionOptions",gs_label:"open"};return s.i18n_value=zgssearch.I18N.getValue("common.open"),e.push(s),(s={gs:"calloutActionOptions",gs_label:"copyLink"}).i18n_value=zgssearch.I18N.getValue("gs.search.callout.copylink"),e.push(s),e},zgssearch.CrmUtils.addActionsList=function(e){var s=zgssearch.CrmUtils.getActionsList();0<s.length&&(e.actions_list=s,e.is_actions_allowed=!0)},zgssearch.CrmUtils.getRecordId=function(e){return e.id||""},zgssearch.CrmUtils.getRecordLink=function(e){return e["Open Url"]||""},zgssearch.CrmUtils.getModuleName=function(e){return e["Module Type"]||e.mod||""},zgssearch.CrmUtils.getCrmModuleQueryName=function(e){var s=zgssearch.getFilterInfo(zgssearch.GSConstant.CRM,"modules","current");return s.hasOwnProperty(e)?s[e]:e},zgssearch.CrmUtils.constructModHeader=function(e,s){var t="",a="";s||(t="zgs19_gsLinkElem",a="service_multi_mod");e.mod_key;return _jQueryGS("<div>",{id:e.id,class:"zgs19_gsServiceTopbandNew zgs19_gsBorderBox"}).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandWidgetNew zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid30Per",service:e.service_name,mod_name:e.mod_name}).text("Module : ")).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandMultiWidget "+t+" zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid60Per",service:e.service_name,mod_name:e.mod_name,acc_id:e.acc_id,gs:a,value:e.mod_name,gstitle:e.mod_disp_name}).text(e.mod_disp_name))},zgssearch.crm_parser=zgssearch.crm_parser||{},zgssearch.crm_parser.parseModuleImpFields=function(e){var s,t=e.modules_metadata,a={};for(s in t){var r,o=t[s].search_display_columns,i=[];for(r in o){var n={};n.api_name=r,n.disp_label=o[r],i.push(n)}a[s]=i}zgssearch.setServiceResultsAdditionalInfo(zgssearch.GSConstant.CRM,a)},zgssearch.crm_parser.parseResultsView=function(e){var s={};return s.no_of_results=e.no_of_results,s.service_name=zgssearch.GSConstant.CRM,s.CONNECTOR_ID=e.account_id,s.total_no_of_results=e.total_no_of_results,s.fields=zgssearch.getServiceResultsAdditionalInfo(zgssearch.GSConstant.CRM),s},zgssearch.popupUtils=zgssearch.popupUtils||{},zgssearch.popupUtils.isSelectionPopupOpened=!1,zgssearch.popupUtils.isPopupOpened=zgssearch.popupUtils.isPopupOpened||!1,zgssearch.popupUtils.popupSaveAction=zgssearch.popupUtils.popupSaveAction||"",zgssearch.popupUtils.waitingForResponse=zgssearch.popupUtils.waitingForResponse||!1,zgssearch.popupUtils.popupCancelAction=zgssearch.popupUtils.popupCancelAction||"",zgssearch.popupUtils.openEditNamepopup=function(e,s,t,a,r,o,i,n,l,g,c){zgssearch.popupUtils.closeCnfrmDialogBox();var d,p=_jQueryGS("<button>",{class:"zgs19_gsSC_PUbtmNew zgs19_gssave zgs19_gsfr "+(c?"":"zgs19_gsHideEleme"),gs:i,cnfrmType:n}).text(zgssearch.getI18NMsg("gs.settings.application.save")),u=_jQueryGS("<button>",{class:"zgs19_gsSC_PUbtmNew zgs19_gscancel zgs19_gsfr",gs:i,cnfrmType:l}).text(zgssearch.getI18NMsg("common.cancel")),c="";""!==s&&(c=_jQueryGS("<div>",{class:"zgs19_gsSC_popUpDiscTxt"}).text(s)),r&&(d=_jQueryGS("<div>",{class:"zgs19_gsDescElem"}).append(_jQueryGS("<textarea>",{id:"zgs20_gsCrdDescInput",class:"zgs19_gsCrdDescInput",maxlength:255,placeholder:zgssearch.getI18NMsg("common.description")}).text(o||"")));r="",o=_jQueryGS("<div>",{class:"zgs19_gsDialogActions"}).append(p).append(u);g&&(r=_jQueryGS("<div>",{class:"zgs19_gsaddtodbText zgs19_gsaddtodbDisable",gs:"showaddtodb"}).text(zgssearch.getI18NMsg("gs.saved_searches.action_add_dashboard")),o=_jQueryGS("<div>",{class:"zgs19_gsMultiSaveFooter"}).append(r).append(_jQueryGS("<button>",{class:"zgs19_gsSC_PUbtmNew zgs19_gssave zgs19_gsfr zgs19_gsHideEleme",gs:i,cnfrmType:n}).text(zgssearch.getI18NMsg("gs.settings.application.save"))).append(_jQueryGS("<button>",{class:"zgs19_gsSC_PUbtmNew zgs19_gscancel zgs19_gsfr ",gs:i,cnfrmType:l}).text(zgssearch.getI18NMsg("common.cancel"))));l=_jQueryGS("<div>",{class:"zgs19_gsCnfrmDialogBox"}).append(_jQueryGS("<div>",{id:"zgs20_gsSavedSearchPopup",class:"zgs19_gsSavedSearchPopup zgs19_gsSaveSearch"}).append(_jQueryGS("<div>",{class:"zgs19_gsSavedSearchHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsSC_PUtt zgs19_gsOverflow"}).text(e)).append(c).append(_jQueryGS("<div>",{id:"zgs20_gsNamingSS",class:"zgs19_gsNamingSS"}).append(_jQueryGS("<input>",{id:"zgs20_gsSTS",class:"zgs19_gsSSNameInput",type:"text",value:a,placeholder:t}))).append(d)).append(o).append(_jQueryGS("<div>",{class:"zgs19_gsSSClose",id:"zgs20_gsSSClose"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsSSCloseIcon zgs19_gsCurPointer",gs:i,cnfrmType:l}))));zgssearch.popupUtils.renderOverlayWithEle(l),zgssearch.gssavedsearches.addEventForCardAndDashboardDetails("#zgs20_gsSTS","",!0),zgssearch.gssavedsearches.addEventForCardAndDashboardDetails("#zgs20_gsCrdDescInput"),_jQueryGS("#zgs20_gsSTS").attr("autocomplete","off"),_jQueryGS("#zgs20_gsSTS").select(),_jQueryGS("#zgs20_gsSTS").focus(),zgssearch.popupUtils.isPopupOpened=!0,zgssearch.popupUtils.popupSaveAction=p,zgssearch.popupUtils.popupCancelAction=u},zgssearch.popupUtils.afterSaveCardActionPopup=function(e,s,t,a){zgssearch.popupUtils.closeCnfrmDialogBox();var r=_jQueryGS("<div>",{id:"zgs20_gsSaveCardActionFooter",class:"zgs19_gsSaveCardFooter"}),e=e?"zgs18_gsTickMark":"zgs18_gsRoadBlock",s=_jQueryGS("<div>",{class:e+" "+s});zgssearch.LINE_ICON_MAP.hasOwnProperty(e)&&zgssearch.obtainLineIconPaths(e,_jQueryGS(s)[0]);s=_jQueryGS("<div>",{class:"zgs19_gsSaveCardIconElem"}).append(s),t=_jQueryGS("<div>",{class:"zgs19_gsSaveCardTextElem zgs19_gsOverflow",gstitle:t}).text(t);r.append(s).append(t);for(var o=_jQueryGS("<div>",{class:"zgs19_gsSaveCardFooterActions"}),i=a.length,n=0;n<i;n++){var l=a[n],g=l.classes,c=l.gsAttr,d=l.actionName,p=l.actionType,l=l.text;let e={class:g,gs:c};e[d]=p,o.append(_jQueryGS("<div>",e).text(l))}r.append(o);t=_jQueryGS("<div>",{id:"zgs20_gsSavedCardActionPopup",class:"zgs19_gsSavedSearchPopup zgs19_gsSaveSearch",cardType:"0"});t.append(r),t.append(_jQueryGS("<div>",{class:"zgs19_gsSSClose",id:"zgs20_gsSSClose"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsSSCloseIcon zgs19_gsCurPointer",gs:"saveCardActions",cnfrmType:"closeSaveDialog"}))),zgssearch.popupUtils.renderOverlayWithEle(_jQueryGS("<div>",{class:"zgs19_gsCnfrmDialogBox"}).append(t)),_jQueryGS(t).focus(),zgssearch.popupUtils.isPopupOpened=!0},zgssearch.popupUtils.openDeletepopup=function(e,s,t,a){var r=_jQueryGS("<button>",{class:"zgs19_gsSC_PUbtmNew zgs19_gsDelCancel",gs:s,cnfrmType:t}).text(zgssearch.getI18NMsg("gs.common.yesRemove")),t=_jQueryGS("<button>",{class:"zgs19_gsSC_PUbtmNew zgs19_gsDelsave",gs:s,cnfrmType:a}).text(zgssearch.getI18NMsg("common.no")),a=_jQueryGS("<div>",{class:"zgs19_gsCnfrmDialogBox"}).append(_jQueryGS("<div>",{id:"zgs20_gsSavedSearchPopUp",class:"zgs19_gsDeleteConfirmPopup"}).append(_jQueryGS("<div>",{class:"zgs19_gsDeleteAccConfirm"}).text(e)).append(_jQueryGS("<div>",{class:"zgs19_gsDelActions"}).append(r).append(t)).append(_jQueryGS("<div>",{class:"zgs19_gsSSClose",id:"zgs20_gsSSClose"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsSSCloseIcon zgs19_gsCurPointer",gs:s,cnfrmType:a}))));zgssearch.popupUtils.renderOverlayWithEle(a),zgssearch.popupUtils.isPopupOpened=!0,zgssearch.popupUtils.popupSaveAction=r,zgssearch.popupUtils.popupCancelAction=t},zgssearch.popupUtils.openConfirmationPopup=function(e){e.get=function(e){return this.hasOwnProperty(e)&&this[e]||""};var s=e.get("leftBtnClass")||"zgs19_gsConfirmSubtleAction",t=e.get("rightBtnClass")||"zgs19_gsConfirmMainAction",a=e.get("gsattr"),r=_jQueryGS("<div>",{class:"zgs19_gsSC_PUbtmNew "+s,gs:a,cnfrmType:e.get("leftBtnAction")}).text(zgssearch.getI18NMsg(e.get("leftBtnTxt"))),s=_jQueryGS("<div>",{class:"zgs19_gsSC_PUbtmNew "+t,gs:a,cnfrmType:e.get("rightBtnAction")}).text(zgssearch.getI18NMsg(e.get("rightBtnTxt"))),t="zgs19_gsConfirmationPopup";e.get("isMediumSize")&&(t+=" zgs19_gsConfirmationPopupMedium");e=_jQueryGS("<div>",{class:"zgs19_gsCnfrmDialogBox"}).append(_jQueryGS("<div>",{id:"zgs20_gsConfirmationPopUp",class:t+" zgs19_cloudIntegration"}).append(_jQueryGS("<div>",{class:"zgs19_gsConfirmMsgHeader"}).text(e.get("header"))).append(_jQueryGS("<div>",{class:"zgs19_gsConfirmMsg"}).text(e.get("popupMsg"))).append(e.get("htmlContentDiv")).append(_jQueryGS("<div>",{class:"zgs19_gsConfirmActions"}).append(r).append(s)).append(_jQueryGS("<div>",{class:"zgs19_gsSSClose",id:"zgs20_gsSSClose",gs:a,cnfrmType:e.get("closeAction")}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsSSCloseIcon zgs19_gsCurPointer"}))));zgssearch.popupUtils.renderOverlayWithEle(e),zgssearch.popupUtils.isPopupOpened=!0,zgssearch.popupUtils.popupSaveAction=r,zgssearch.popupUtils.popupCancelAction=s,_jQueryGS("#zgs20_gsConfirmationPopUp").focus(),zgssearch.isIntegViewPage&&zgssearch.informOverlayStatusToParent&&zgssearch.informOverlayStatusToParent()},zgssearch.popupUtils.closeCnfrmDialogBox=function(){zgssearch.popupUtils.waitingForResponse||(_jQueryGS(".zgs19_gsCnfrmDialogBox").remove(),zgssearch.popupUtils.popupSaveAction="",zgssearch.popupUtils.popupCancelAction="",zgssearch.popupUtils.isPopupOpened=!1)},zgssearch.popupUtils.closeOverlayDialog=function(){zgssearch.popupUtils.waitingForResponse||(_jQueryGS("#zgs20_gsOverlayDialog").css("display","none"),zgssearch.informOverlayStatusToParent&&zgssearch.informOverlayStatusToParent())},zgssearch.popupUtils.renderSelectionPopup=function(e,s,t,a,r){var o,i=_jQueryGS(zgssearch.Utils.createElement("div","zgs20_gsSelectionPopup","zgs19_gsSelectionPopup")),n="";for(o in r||i.append(_jQueryGS("<div>",{class:"zgs19_gsCardServiceFilterTitle"}).text(zgssearch.getI18NMsg("gs.search.filter.sortby"))),s){var l,g="",c="zgs19_gsCardOption";t==(a.type=o)&&(g=_jQueryGS(zgssearch.Utils.createElement("span","","zgs18_TickIcon zgs19_gsCardTypeSelected")),c+=" zgs19_gsModuleSeleFilterElem"),n=r?zgssearch.gsaddcards.createCardTypePopupElement(o,c,a,g):(l=_jQueryGS(zgssearch.Utils.createElement("span","","zgs19_gsCardOptionTxt zgs19_gsOverflow",a)).text(s[o]),_jQueryGS(zgssearch.Utils.createElement("div","",c,a)).append(l).append(g)),i.append(n)}_jQueryGS(e).append(i),zgssearch.popupUtils.isSelectionPopupOpened=!0},zgssearch.popupUtils.closeSelectionPopup=function(){zgssearch.popupUtils.isSelectionPopupOpened=!1,_jQueryGS("#zgs20_gsSelectionPopup").remove();var e=_jQueryGS(".zgs19_gsCardDemo");e.length&&e.find(".zgs19_gsDisplayBlockImp").removeClass("zgs19_gsDisplayBlockImp")},zgssearch.popupUtils.openCautionPopup=function(e,s,t,a,r){0==_jQueryGS("#zgs20_gsCautionPopUp").length&&(t=_jQueryGS("<div>",{class:"zgs19_gsCnfrmDialogBox"}).append(_jQueryGS("<div>",{id:"zgs20_gsCautionPopUp",class:"zgs19_gsCautionPopUp"}).append(_jQueryGS("<div>",{class:"zgs19_gsCautionPopMsgs"}).append(_jQueryGS("<div>",{class:"zgs19_gsCautModMsg"}).text(e)).append(_jQueryGS("<div>",{class:"zgs19_gsCautMsg"}).text(s))).append(_jQueryGS("<div>",{class:"zgs19_gsCautCnfrmActElem"}).append(_jQueryGS("<div>",{class:"zgs19_gsCautButtons zgs19_gsOverflow zgs19_gssave",gs:t,cnfrmType:"yes"}).text(a)).append(_jQueryGS("<div>",{class:"zgs19_gsCautButtons zgs19_gsOverflow",gs:t,cnfrmType:"no"}).text(r))).append(_jQueryGS("<div>",{class:"zgs19_gsSSClose",id:"zgs20_gsSSClose"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsSSCloseIcon zgs19_gsCurPointer",gs:t,cnfrmType:"cancel"})))),zgssearch.popupUtils.renderOverlayWithEle(t)),zgssearch.popupUtils.isPopupOpened=!0},zgssearch.popupUtils.renderAppMenu=function(e,s,t){var a=_jQueryGS("#zgs20_"+e+"AppFilterPopup");a.empty();var r=_jQueryGS("<div>",{class:"zgs19_gsAppsMenu zgs19_gsSSServiceIcon"}),o=t.length;a.append(_jQueryGS("<div>",{class:"zgs19_gsCardServiceFilterTitle"}).text(zgssearch.getI18NMsg("common.sugg.filter"))),6<o&&zgssearch.gsfilters.addSearchQueryBox(a,"zgs20_gs"+e+"SerListQrybox");for(var i,n=0;n<o;n++){var l=t[n];(zgssearch.GSConstant.ASANA!==l&&zgssearch.GSConstant.widgetObject.hasOwnProperty("servicesinfo")&&zgssearch.GSConstant.widgetObject.servicesinfo.hasOwnProperty(l)||l===zgssearch.GSConstant.ALL)&&(l=_jQueryGS("<div>",{class:"zgs19_gs"+e+"ServiceInfoHolder zgs19_gsServiceInfoHolder",key:l}).append(zgssearch.gsfilters.renderEachAppMenu(l,s,!0)),r.append(l))}let g,c;e==zgssearch.CARD_TYPE&&(c=!1,-1<s.indexOf(GSConstant.ALL)&&(c=!0),i=_jQueryGS("<div>",{class:"zgs19_gs"+e+"ServiceInfoHolder zgs19_gsServiceInfoHolder",key:"all"}).append(_jQueryGS("<div>",{class:"zgs19_gsEachServiceRow"}).append(zgssearch.renderCheckBox("edit",c,"type","all")).append(_jQueryGS("<span>",{class:"zgs19_gsSSSerIcon zgs19_gsfl zgs19_gsMgTop10Px zgs18_gsAllFiltersIcon"})).append(_jQueryGS("<span>",{class:"zgs19_gsNewSerivceTxt zgs19_gsOverflow zgs19_gsfl zgs19_gsWid70Per",gstitle:zgssearch.getI18NMsg("common.all_filters")}).text(zgssearch.getI18NMsg("common.all_filters")))),c=-1<s.indexOf(zgssearch.otherCardFilters)||-1<s.indexOf(GSConstant.ALL),g=_jQueryGS("<div>",{class:"zgs19_gs"+e+"ServiceInfoHolder zgs19_gsServiceInfoHolder",key:zgssearch.otherCardFilters}).append(_jQueryGS("<div>",{class:"zgs19_gsEachServiceRow"}).append(zgssearch.renderCheckBox("edit",c,"type",zgssearch.otherCardFilters)).append(_jQueryGS("<span>",{class:"zgs19_gsSSSerIcon zgs19_gsfl zgs19_gsMgTop10Px zgs18_gsOtherFiltersIcon"})).append(_jQueryGS("<span>",{class:"zgs19_gsNewSerivceTxt zgs19_gsOverflow zgs19_gsfl zgs19_gsWid70Per",gstitle:zgssearch.getI18NMsg("gs.cards.bookmarked_urls")}).text(zgssearch.getI18NMsg("gs.cards.bookmarked_urls")))),r.prepend(i),r.append(g)),a.append(r),a.append(zgssearch.popupUtils.getMultiSelectActions(s)),a.css("display","block"),zgssearch.gscards.checkAndAppendNoResultsFound()},zgssearch.popupUtils.getMultiSelectActions=function(e){e=e[0]===GSConstant.ALL?"zgs19_gsHideEleme":"";return _jQueryGS("<div>",{id:"zgs20_gsEditFiltersFieldsBottom",class:"zgs19_gsEditFieldsBottom"}).append(_jQueryGS("<div>",{class:"zgs19_resetServiceFilters zgs19_gsMultiServiceFilterActions zgs19_gsLogoText zgs19_gsOverflow "+e,actionType:"resetFilters",gstitle:zgssearch.getI18NMsg("common.reset")}).text(zgssearch.getI18NMsg("common.reset"))).append(_jQueryGS("<input>",{class:"zgs19_gsEditFieldsBottom1  zgs19_gsMultiServiceFilterActions zgs19_gsOverflow zgs19_gsHideEleme zgs19_gsContentBox zgs19_gsCurPointer zgs19_gsfr",type:"button",gstitle:zgssearch.getI18NMsg("gs.search.filter.apply"),value:zgssearch.getI18NMsg("gs.search.filter.apply"),actionType:"applyFilterFields"})).append(_jQueryGS("<input>",{class:"zgs19_gsEditFieldsBottom2 zgs19_gsMultiServiceFilterActions zgs19_gsOverflow zgs19_gsContentBox zgs19_gsCurPointer zgs19_gsfr",type:"button",gstitle:zgssearch.getI18NMsg("common.cancel"),value:zgssearch.getI18NMsg("common.cancel"),actionType:"closeFilterFields"}))},zgssearch.popupUtils.renderOverlayWithEle=function(e){let s=_jQueryGS("#zgs20_gsOverlayDialog");s.append(e),s.css({display:"block"})},zgssearch.popupUtils.showCautionBanner=function(e){let s=_jQueryGS("#zgs20_gsSearchResultsArea");0==_jQueryGS("#zgs20_gsCautbannertip").length&&s.append(_jQueryGS("<div>",{id:"zgs20_gsCautbannertip",class:"zgs19_gsbannertip zgs19_gsBoxShadowPopup zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{id:"zgs20_gsCautbannertipicon",class:"zgs19_gsbannertipicon zgs18_gsInfoIcon zgs19_gsfl"})).append(_jQueryGS("<div>",{id:"zgs20_gsCautbannertiptext",class:"zgs19_gsbannertiptext zgs19_gsfl"}).text(e.msg)).append(_jQueryGS("<div>",{id:"zgs20_gsbannertipaction",gs:"hideDashboardLayoutNotification"}).text("Don't show again")));let t=_jQueryGS("#zgs20_gsCautbannertip");var a=(s.width()-t.width())/2;zgssearch.showFreezeOnHoverBanner(t,{parentClass:"zgs20_gsSearchResultsArea",bannerClass:"#zgs20_gsCautbannertip",bannerIconClass:"#zgs20_gsCautbannertipicon",bannerTextClass:"#zgs20_gsCautbannertiptext"},e.bannerShowTime,"",a,15),t.css("display","flex")},function(b){var y,I=window._jQueryGS;b.gscontactresults=(y=void 0,(y=b.gscontactresults||{}).getHtmlTemplate=function(e,s,t,a,r,o,i,n){if(r===b.GSConstant.PEOPLE)return e.href=t,y.renderPeopleTemplate(e,i,n);u=(u=(u=e.empFname||"")+" "+e.empLname||"").trim();var l=e.cpt||"",g=e.phone||"",c=e.zuid||"",d=e.email||e.emid||e.mailid||"",p=e.mobile||e.cntn||"",u=e.full_name||e.cnt||u||"",h=e.deptname||"",_=e.deptid||"",m=e.extn||e.cnextn||"";"8"===l&&(m=e.avayaextn||"-",d=e.deptmail||"-");var z,g=g&&""!=g&&"NULL"!=g?g:"",p=p&&""!=p&&"NULL"!=p?p:"",i=i||I("#zgs20_gsModuleSearchResultPage").width()-100,v=b.getPeopleUserDetails(i,d,p,g,m,h,_,e),h="",f=0,_=n.hasOwnProperty("type")?n.type:"Search",n=!n.hasOwnProperty("filters")||n.filters;if("5"===l?(h=b.getConnectorFilterMod(e,s,v,n),z=I(h).filter(".zgs19_gsContactNumber").find(".zgs19_gsResIntxt2").text().length+1,f+=z+=I(h).filter(".zgs19_gsContactNumber").find("#zgs20_moduleName").text().length):"8"===l?u=e.dept||"":h=v.cell3,r===b.GSConstant.ORGRESOURCES){for(var C in v)v.hasOwnProperty(C)&&v[C]&&(f+=y.getWidthOfElement(v[C]));for(var C in v)v.hasOwnProperty(C)&&v[C]&&y.setMaxWidthOfElement(v[C],f);h&&(S=Math.ceil(z/f*95),I(h).filter(".zgs19_gsContactNumber").css("maxWidth",S+"%"))}var S=b.getUserStatus(c),c=S.name||"",S="",S=(t?I("<a>",{gs:"resultTitle",istip:!0,href:t,target:"_blank",rel:"noopener noreferrer",gslabel:b.getI18NMsg("gs.search.service_people.name"),gstitle:u,istip:!0}):I("<span>",{gs:"resultTitle",istip:!0,gslabel:b.getI18NMsg("gs.search.service_people.name"),gstitle:u,istip:!0})).text(u),u="",u="8"===l?I("<span>",{class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl",gs:"gsUserPhoto"}):I("<img>",{class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl",gs:"gsUserPhoto",src:b.gsspacer,gs_err_class:"zgs19_gsResultsUniIcons zgs19_gsResNoUserPhoto"});return I("<div>",{class:"zgs19_gs"+_+"ResultRow"}).append(I("<div>",{class:"zgs19_gs"+_+"ResultCell1"}).append(I("<div>",{class:"zgs19_gsUniIconHolder "+c}).append(u))).append(I("<div>",{class:"zgs19_gs"+_+"ResultCell2"}).append(I("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid95Per zgs19_gsOverflow"}).append(S)).append(v.cell4).append(v.cell1).append(v.cell2).append(h))},y.getPeopleTemplate=function(e,s){var t,a,r,o,i,n=document.querySelector("#"+e);return null==n&&(t=I("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid95Per zgs19_gsOverflow"}).append(I("<a>",{id:"people_name_div",href:"",target:"_blank",rel:"noopener noreferrer",gs:"resultTitle",istip:!0,gslabel:b.getI18NMsg("gs.search.service_people.name"),gstitle:""})),a=I("<div>",{class:"zgs19_gsContactEmail zgs19_gsfl zgs19_gsOverflow zgs19_gsWid97Per"}).append(I("<span>",{id:"people_email_div",istip:"true",gslabel:"Email",gstitle:""})),r=I("<div>",{class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl"}).append(I("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsfl zgs19_gsContactMobileImg"})).append(I("<span>",{id:"zgs20_peoplePhoneDiv",istip:"true",gslabel:b.getI18NMsg("common.mobile"),gstitle:""})),o=I("<div>",{class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl"}).append(I("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl"})).append(I("<span>",{id:"zgs20_peopleExtnDiv",istip:"true",gslabel:b.getI18NMsg("gs.search.service_people.extn"),gstitle:""})),i=I("<div>",{class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl",gs:"gsFilterIcon"}).append(I("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactDeptImg zgs19_gsfl"})).append(I("<span>",{id:"zgs20_peopleDeptDiv",class:"",istip:"true",gslabel:"",gstitle:"",gs:"",fid:"",gsfilter:"",fname:""})),o=I("<div>",{class:"zgs19_gs"+s+"ResultCell2"}).append(t).append(a).append(r).append(o).append(i),i=I("<div>",{class:"zgs19_gsUniIconHolder",id:"people_status_field"}).append(I("<img>",{class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl",gs:"gsUserPhoto",src:b.gsspacer,gs_err_class:"zgs19_gsResultsUniIcons zgs19_gsResNoUserPhoto"})),n=I("<template>",{id:e}).append(I("<div>",{class:"zgs19_gs"+s+"ResultRow"}).append(I("<div>",{class:"zgs19_gs"+s+"ResultCell1"}).append(i)).append(o)),I("#zgs20_globalsearch").append(n),n=document.querySelector("#"+e)),n},y.renderPeopleTemplate=function(e,s,t){var a=t.hasOwnProperty("templateId")?t.templateId:"people_info_template",r=t.hasOwnProperty("type")?t.type:"Search",t=!t.hasOwnProperty("filters")||t.filters,r=y.getPeopleTemplate(a,r).querySelector(".zgs19_gs"+r+"ResultRow"),r=I(document.importNode(r,!0));return y.getPeopleTemplate.constructNameElem(r,e),y.getPeopleTemplate.constructEmailElem(r,e),y.getPeopleTemplate.constructPhoneElem(r,e),y.getPeopleTemplate.constructEXTNElem(r,e),y.getPeopleTemplate.constructDeptElem(r,e,t),y.getPeopleTemplate.getUserStatus(r,e),y.getPeopleTemplate.setElementsWidth(r,e,s),r},y.getPeopleTemplate.setValue=function(e,s,t){s=I(e).find("#"+s);s.attr("gstitle",t),s.text(t)},y.getPeopleTemplate.constructNameElem=function(e,s){var t=s.empFname||"",a=s.empLname||"";""!==a&&(t=t+" "+a);t=(t=s.full_name||s.cnt||t||"").trim(),a=I(e).find("#people_name_div");a.attr("gstitle",t),a.attr("href",s.href),a.text(t),y.getPeopleTemplate.setValue(e,"people_name_div",t)},y.getPeopleTemplate.constructEmailElem=function(e,s){s=s.email||s.emid||s.mailid||"";y.getPeopleTemplate.setValue(e,"people_email_div",s)},y.getPeopleTemplate.getPhoneNumber=function(e){return e.mobile||e.cntn||""},y.getPeopleTemplate.constructPhoneElem=function(e,s){s=y.getPeopleTemplate.getPhoneNumber(s);y.getPeopleTemplate.setValue(e,"zgs20_peoplePhoneDiv",s)},y.getPeopleTemplate.getEXTNNumber=function(e){var s=e.extn||e.cnextn||"";return s=""===(s=s&&""!==s&&"NULL"!==s?s:"")?(e=e.phone||"")&&""!==e&&"NULL"!==e?e:"":s},y.getPeopleTemplate.constructEXTNElem=function(e,s){s=y.getPeopleTemplate.getEXTNNumber(s);y.getPeopleTemplate.setValue(e,"zgs20_peopleExtnDiv",s)},y.getPeopleTemplate.constructDeptElem=function(e,s,t){var a=s.deptname||"",r=""===a?b.getI18NMsg("common.not_available"):a,o=s.deptid||"",i=I(e).find("#zgs20_peopleDeptDiv"),s=b.getSearchType(),e=b.isMultiSelectResults(b.GSConstant.PEOPLE,"departments","0");t&&(s===b.GSConstant.ALL||e&&s===b.GSConstant.PEOPLE)?(""!==a&&i.attr("gslabel",b.getI18NMsg("gs.search.filter_through_department")),i.attr("gstitle",r),i.attr("gs","peopleResDepartment"),i.attr("fId",o),i.attr("gsfilter","deptName"),i.attr("fName",r),i.attr("class","zgs19_gsDeptFilter zgs19_hvr_underline")):(""!==a&&i.attr("gslabel",b.getI18NMsg("gs.search.result.support.department")),i.attr("class","zgs19_gsDeptFilter"),i.attr("gstitle",r)),i.text(r)},y.getPeopleTemplate.getUserStatus=function(e,s){s=s.zuid||"";""!==s&&(s=b.getUserStatus(s).name||"",I(e).find("#people_status_field").attr("class","zgs19_gsUniIconHolder "+s))},y.getPeopleTemplate.setElementsWidth=function(e,s,t){var a=I(e).find("#zgs20_peoplePhoneDiv").parent(),r=I(e).find("#zgs20_peopleExtnDiv").parent(),o=I(e).find("#zgs20_peopleDeptDiv").parent(),i=y.getPeopleTemplate.getPhoneNumber(s),e=y.getPeopleTemplate.getEXTNNumber(s),s=s.deptname||"",i=i.length,e=e.length,s=s.length;i<=0?a.css("display","none"):a.css("max-width","120px"),e<=0?r.css("display","none"):(r.css("max-width","65px"),0<i&&r.css("margin-inline-start","12px")),s<=0?o.css("display","none"):(o.css("max-width",(0<i?185<t?t-185:t:65<t?t-65:t)+"px"),(0<e||0<i)&&o.css("margin-inline-start","12px"))},y.getPeopleTemplate.constructPeopleURL=function(e){return b.GSConstant.GS_PEOPLE_URL+"/hr#home/dashboard/profile-userId:"+(e.pkid||"")},y.getWidthOfElement=function(e){return I(e).filter(".zgs19_gsContactNumber").find(".contactDetail").text().length},y.setMaxWidthOfElement=function(e,s){var t=y.getWidthOfElement(e),s=Math.ceil(t/s*95);I(e).filter(".zgs19_gsContactNumber").css("maxWidth",s+"%")},y)}(zgssearch),function(u){var e,h=window._jQueryGS,_=u.getGSConstantObj()||{};u.gsconnectorresults=(e=void 0,(e=u.gsconnectorresults||{}).getHtmlTemplate=function(e,s,t,a,r,o,i,n){if("5"==e.cpt||"8"==e.cpt)return u.gscontactresults.getHtmlTemplate(e,s,t,a,r,o,i,n);var l="",g=(n=n||{}).hasOwnProperty("type")?n.type:"Search",c=!n.hasOwnProperty("filters")||n.filters,l="3"==e.cpt?e.hasOwnProperty("desc")&&e.desc&&""!==e.desc?e.desc:e.url||"":e.summ||e.desc||"",d=e.title||u.getURLWithoutProtocol(t)||u.getI18NMsg("gs.search.service_connect.callout.noTitle"),p=e.cid||"",a=e.cn||"",r=u.replaceHTMLEntity(d),o="",i=u.isMultiSelectResults(_.ORGRESOURCES,"modules","0"),n=u.getI18NMsg("gs.search.service_people.status.in",!0),d="",d=c&&i?h("<div>",{class:"zgs19_gsResLeftFilter",gs:"gsOverflowFooter"}).append(h("<span>",{class:"zgs19_hvr_underlineHeader"}).append(h("<div>",{class:"zgs19_hvr_underlineHeader"}).append(h("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid95Per",gslabel:u.getI18NMsg("gs.search.filter_through_module"),gstitle:a,istip:!0,gs:"gsconnService",key:p,acc_id:s,fkey:"serviceType"}).text(a)))):h("<div>",{class:"zgs19_gsResLeftFilter",gs:"gsOverflowFooter"}).append(h("<span>",{class:"zgs19_hvr_underlineHeader"}).append(h("<span>",{class:"zgs19_gsOverflow zgs19_gsfl zgs19_gsCurDefault zgs19_gsMxWid95Per",gslabel:u.getI18NMsg("gs.search.multi.module"),gstitle:a,istip:!0}).text(a))),n=h("<div>",{gs:"gsFilterIcon",class:"zgs19_gsResultFacet zgs19_gsOverflow"}).append(h("<span>",{class:"zgs19_gsResIntxt2 zgs19_gsOverflow zgs19_gsfl",gstitle:n}).text(n)).append(d),d="";return"3"==e.cpt?d="zgs19_gsResultsUniIcons zgs19_gsConnectorToolsIcon":"0"==e.cpt?(n="",d="zgs19_gsResultsUniIcons zgs19_gsConnectorWelIcon"):(d="zgs19_creatorCircleText zgs19_gsfl",o=u.getCapitalizedLtr(a)),h("<div>",{class:"zgs19_gs"+g+"ResultRow"}).append(h("<div>",{class:"zgs19_gs"+g+"ResultCell1"}).append(h("<div>",{class:"zgs19_gsUniIconHolder"}).append(h("<span>",{class:d,text:o,gs:"resultMenuItem"})))).append(h("<div>",{class:"zgs19_gs"+g+"ResultCell2"}).append(h("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow"}).append(h("<a>",{gs:"resultTitle",istip:!0,href:t,target:"_blank",rel:"noopener noreferrer",gslabel:u.getI18NMsg("common.title"),gstitle:r,istip:!0}).text(r))).append(h("<div>",{class:"zgs19_gsResultSummary"}).html(l)).append(n))},e)}(zgssearch),function(S){var e,b=window._jQueryGS,y=S.getGSConstantObj()||{};S.gschatresults=(e=void 0,(e=S.gschatresults||{}).getHtmlTemplate=function(e,s,t,a,r,o){var i,n="",l="",g=!1,c=y.cuz||"",d=e.ownerid||"",p=e.display_time||"",u=e.display_name||"",h=S.replaceHTMLEntity(e.title)||"",u=c==d?S.getI18NMsg("common.me"):u,_="",m={},z=0,v=0,f="zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl";if(e.hasOwnProperty("participants_count")&&(z=parseInt(e.participants_count)),e.hasOwnProperty("recent_participants")&&(m=S.jsonParse(e.recent_participants),v=Object.keys(m).length),(_=e.hasOwnProperty("group_id")?e.group_id:_)&&"-1"!==_&&"null"!==_)g=!0,y.GS_CONTACTS_URL,S.nps,n=y.GS_CONTACTS_URL+"/file?fs=thumb&t=group&ID="+_+"&width=38&height=38"+S.nps;else if(2<z||2===v&&!m.hasOwnProperty(c))g=!0,f="zgs19_gsResultsUniIcons zgs19_gsChatGroupIcon";else if(0<v)for(var C in v<=2&&m.hasOwnProperty(c)&&delete m[c],m)l=S.getUserStatus(C),S.getStampPhotoURL(C),n=S.getThumbPhotoURL(C);else"-1"!==d&&(l=S.getUserStatus(d),S.getStampPhotoURL(d),n=S.getThumbPhotoURL(d));return i=l.name||"",b("<div>",{class:"zgs19_gsSearchResultRow"}).append(b("<div>",{class:"zgs19_gsSearchResultCell1"}).append(b("<div>",{class:"zgs19_gsUniIconHolder "+i}).append(b("<img>",{class:f,gs:"gsUserPhoto",group:g,src:S.gsspacer,calloutphoto:n})))).append(b("<div>",{class:"zgs19_gsSearchResultCell2"}).append(b("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(b("<span>",{gstitle:p}).text(p))).append(b("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow"}).append(b("<span>",{gs:"resultTitle",istip:!0,gstitle:h}).text(h))).append(b("<div>",{class:"zgs19_gsResultAuthor zgs19_gsOverflow"}).append(b("<span>",{gstitle:u}).text(u))))},e)}(zgssearch),function(E){var T,A=window._jQueryGS,M=E.getGSConstantObj()||{};E.gscliqresults=(T=void 0,(T=E.gscliqresults||{}).getHtmlTemplate=function(e,s,t,a,r,o,i,n){var l="",g=!1,c="",d=E.getSearchType(),p=e.cid||"",u=e.ctt||"",h=e.sid||"",_=e.msg||"",m=e.fn||"",z=e.fc||"",v=e.sn||"",f=e.clt||"",C=e.dT||"",S=E.chidVsMeta||{},b=S.hasOwnProperty(p)?S[p]:{},y=b.title||E.getI18NMsg("gs.search.service_connect.callout.noTitle"),I=e.title=E.replaceHTMLEntity(y)||"",S=b.pcount||"",p=b.groupid||"",e=b.owner||"",y=(n=n||{}).hasOwnProperty("type")?n.type:"Search",b=!n.hasOwnProperty("filters")||n.filters,n="";2<S||p||f||"8"==u||"9"==u?(g=!0,n=E.getI18NMsg("gs.search.filter.cliq.groupchat"),c="zgs19_gsResultsUniIcons zgs19_gsChatGroupIcon","8"==u?"1"==f?(n=E.getI18NMsg("gs.search.filter.cliq.orgchannel"),c="zgs19_gsResultsUniIcons zgs19_gsCliqOCI"):"2"==f?(n=E.getI18NMsg("gs.search.filter.cliq.teamchannel"),c="zgs19_gsResultsUniIcons zgs19_gsCliqTCI"):"3"==f?(n=E.getI18NMsg("gs.search.filter.cliq.perschannel"),c="zgs19_gsResultsUniIcons zgs19_gsCliqPCI"):"4"==f&&(n=E.getI18NMsg("gs.search.filter.cliq.extchannel"),c="zgs19_gsResultsUniIcons zgs19_gsCliqECI"):"9"==u&&(n=E.getI18NMsg("gs.search.filter.cliq.bot"),c="zgs19_gsResultsUniIcons zgs19_gsCliqBCI")):e&&"-1"!==e&&(l=E.getUserStatus(e));var O,P=l.name||"",e=A("<div>",{class:"zgs19_gsCliqResultAuthor zgs19_gsOverflow zgs19_gsWid100Per"});_||m||z?(l="",_?l=E.replaceHTMLEntity(_):(m&&(l=E.replaceHTMLEntity(m)),z&&(z=E.replaceHTMLEntity(z),l=l?l+", "+z:z)),v?(M.cuz==h?v=E.getI18NMsg("common.you"):(O=E.gsusercontacts.getUserContacts()).hasOwnProperty(h)&&(v=O[h].DNAME),O=(z=v+":").length,h=(40<l.length?l.substr(0,39):l).length,h=Math.ceil(h/(O+h)*75),e.append(A("<span>",{class:"zgs19_gsCqFo1 zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl",gslabel:E.getI18NMsg("gs.search.result.mail.resultfooter.sender"),gstitle:v}).text(z)).append(A("<span>",{class:"zgs19_gsCqFo2 zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl",gslabel:v,gstitle:l,style:"max-width:"+h+"%"}).text(l))):l&&e.append(A("<span>",{class:"zgs19_gsOverflow zgs19_gsfl zgs19_gsWid100Per",istip:!0,gslabel:E.getI18NMsg("common.message"),gstitle:l}).text(l))):2<S||"8"==u?(w=S+" "+E.getI18NMsg("gs.search.result.chat.callout.participants"),e.append(A("<span>",{class:"zgs19_gsOverflow zgs19_gsfl",istip:!0,gslabel:E.getI18NMsg("gs.search.filter.cliq.participantsCount"),gstitle:S}).text(w))):(D=E.getI18NMsg("9"==u?"gs.search.filter.cliq.viabot":"gs.search.filter.cliq.withme"),e.append(A("<span>",{class:"zgs19_gsOverflow zgs19_gsfl",istip:!0,gstitle:D}).text(D)));var w="",D=T.getCliqResModInfo(u),u=E.isMultiSelectResults(M.CLIQ,"modules","0"),w=b&&(d===M.ALL||E.multiPageEnabled||u)?A("<span>",{class:"zgs19_hvr_underlineHeader"}).append(A("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter",gslabel:E.getI18NMsg("gs.search.filter_through_module"),gstitle:D.name,gs:"cliqModules",fId:D.id}).text(D.name)):A("<span>",{class:"zgs19_hvr_underlineHeader"}).append(A("<span>",{class:"zgs19_gsOverflow zgs19_hvr_underline_filter zgs19_gsCurDefault",gslabel:E.getI18NMsg("gs.search.multi.module"),gstitle:D.name}).text(D.name));return A("<div>",{class:"zgs19_gs"+y+"ResultRow"}).append(A("<div>",{class:"zgs19_gs"+y+"ResultCell1"}).append(A("<div>",{class:"zgs19_gsUniIconHolder "+P}).append(A("<img>",{class:c,gs:"gsUserPhoto",group:g,src:E.gsspacer,gstitle:n,gs_err_class:"zgs19_gsResultsUniIcons zgs19_gsResNoUserPhoto"})))).append(A("<div>",{class:"zgs19_gs"+y+"ResultCell2"}).append(A("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(A("<span>",{gslabel:E.getI18NMsg("gs.search.sevice_docs_lastModifiedTime"),gstitle:C}).text(C))).append(A("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow"}).append(A("<a>",{gs:"resultTitle",istip:!0,href:t,target:"_blank",rel:"noopener noreferrer",gslabel:E.getI18NMsg("common.title"),gstitle:I,istip:!0}).text(I))).append(A("<div>",{class:"zgs19_gsResRightFilter zgs19_gsWid20Per zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(w)).append(e))},T.getCliqResModInfo=function(e){var s={name:"",id:""},t=E.getFilterInfo(M.CLIQ,"modules","data");switch(e){case"1":case"8":case"9":t&&t.hasOwnProperty(e)&&(s={name:t[e],id:e})}return s},T)}(zgssearch),function(ge){var a,ce=window._jQueryGS,de=ge.getGSConstantObj()||{};ge.gsconnects={},ge.gsconnects.accounts="accounts",ge.gsconnects.modules="modules",ge.gsconnectresults=(a=void 0,(a=ge.gsconnectresults||{}).RESULTS_WIDTH={},a.filterCallStack=[],a.removeFilterStack=function(e){e=a.filterCallStack.indexOf(e);-1<e&&a.filterCallStack.splice(e,1)},a.getHtmlTemplate=function(e,s,t,a,r,o,i,n){try{var l=n.hasOwnProperty("type")?n.type:"Search",g=!n.hasOwnProperty("filters")||n.filters,c=ge.getSearchType(),d=e.zuid||"",p=e.type||"",u=e.time||"",h=e.author||"",_=e.hasOwnProperty("title")?e.title.trim():"",m=ge.replaceHTMLEntity(_)||ge.getI18NMsg("gs.search.service_connect.callout.noTitle"),z="";"true"==e.hasAttach&&(z=ce("<span>",{class:"zgs18_gsAttachIcon zgs19_gsfl"}));var v,f,C,S,b,y,I,O,P,w,D,E="",T="",A="",M="",F="",N="",L="",R=(R=ge.getFilterInfo(r,"modules","data")).hasOwnProperty(s)?R[s]:{},x=e.m||"",k=R[x]||"",U="",j="zgs19_gsDisplayNone",B=ge.getPosttypeCls(p),H=B.class,G=ce("<div>",{class:"zgs19_gsContactEmail zgs19_gsOverflow zgs19_gsfl",gs:"gsFilterIcon"}),W=H?ce("<span>",{class:"zgs19_gsBlogCategory zgs19_gsOverflow "+H,gslabel:ge.getI18NMsg("common.posttype"),gstitle:B.title,istip:!0}):"",V=ge.getFilterInfo(r,"modules","current");switch(x){case"townhall":var Q=ge.getConnectPartitionElem(e,"zgs19_gsConnResApost"),q=ce(Q[0])[0],F=ce(Q[1])[0],N=ce(Q[2])[0];L=Q[3],T=ce("<span>",{class:"zgs19_gsResIntxt zgs19_gsOverflow zgs19_gsfl"}).text(ge.getI18NMsg("gs.search.service_people.status.in",!0)),E=ce("<div>",{class:"zgs19_gsConnectContextFil zgs19_gsfl zgs19_gsOverflow",gstitle:L}).append(q);break;case"feeds":var Z,L=(Q=ge.getConnectPartitionElem(e,"zgs19_gsConnResApost"))[3],K=ge.getFilterInfo(r,"group","current"),T=ce("<span>",{class:"zgs19_gsResIntxt zgs19_gsOverflow zgs19_gsfl"}).text(ge.getI18NMsg("gs.search.service_people.status.in",!0));E=ce("<div>",{class:"zgs19_gsContactEmail zgs19_gsOverflow zgs19_gsfl",gstitle:L}).text(L),E=!g||!L||""!=K&&"0"!=K||"0"!==V&&V!==x||!e.hasOwnProperty("pnameId")?ce("<div>",{class:"zgs19_gsConnectContextFil zgs19_gsfl zgs19_gsOverflow"}).append(ce("<span>",{gstitle:L,istip:!0,class:"zgs19_gsOverflow zgs19_gsMxWid80Per"}).text(L)):(Z=ce("<span>",{gstitle:L,istip:!0,class:"zgs19_gsOverflow zgs19_gsMxWid80Per"}).text(L),ce("<div>",{class:"zgs19_gsConnectContextFil zgs19_gsfl zgs19_gsOverflow"}).append(Z));break;case"forums":e.hasOwnProperty("categ")&&(f=(v=e.categ)?ge.jsonParse(v):"",C="",S=f.length,y=(b=f[0]).bgColor||"",I=b.name||"",I=ge.replaceHTMLEntity(I),O=b.id||"",ge.getFilterInfo(r,"categories","current"),P=ge.replaceHTMLEntity(ge.getFilterInfo(r,"categories","dispname")),w="",D=" zgs19_gsCurDefault",1<S&&(w="zgs19_gsMxWid68Per zgs19_gsForumCategoryWid",f=f.slice(1,S),C=ce("<a>",{class:"zgs19_gsMoreCategory zgs19_gsOverflow zgs19_gsfl zgs19_gsCurPointer",gstitle:ge.getI18NMsg("gs.search.service_connect.viewmorecateg"),gs:"showMoreBlogCategory",canAppendGsAttr:!1,cId:O,acc_id:s,categArr:v,childId:"zgs20_gsBlogCategoryResList"}).text(" +"+(S-1))),I!==P&&(D=" zgs19_gsCurPointer"),U=(g?ce("<div>",{class:"zgs19_gsContactEmail zgs19_gsCCategoryOuter zgs19_gsOverflow ",gs:"categories"}).append(ce("<div>",{class:"zgs19_gsForumCategory zgs19_gsOverflow zgs19_gsfl "+w+D,style:"color:#"+y,gslabel:ge.getI18NMsg("gs.search.filter_through_category"),gstitle:I,istip:!0,gsmodule:x,gs:"",cId:O,acc_id:s}).text(I)):ce("<div>",{class:"zgs19_gsContactEmail zgs19_gsCCategoryOuter zgs19_gsOverflow ",gs:"categories"}).append(ce("<div>",{class:"zgs19_gsForumCategory zgs19_gsOverflow zgs19_gsfl "+w+D,style:"color:#"+y,gslabel:ge.getI18NMsg("gs.search.filter_through_category"),gstitle:I,istip:!0,gsmodule:x,cId:O,acc_id:s}).text(I))).append(C));break;case"tasks":var Y,J,j="",X=e.hasOwnProperty("sName")?e.sName:"",$=""!=X?ce("<span>",{class:"zgs19_gsPdngLR4Px zgs19_gsOverflow zgs19_gsfl"}).text(" > "):"",ee=e.hasOwnProperty("ptName")?e.ptName+" ":"";e.hasOwnProperty("st")&&(Y=ge.getI18NMsg("common.status")+": ",J=e.st,U=ce("<div>",{class:"zgs19_gsContactEmail zgs19_gsCCategoryOuter zgs19_gsOverflow"}).append(ce("<span>",{class:"zgs19_gsCStatusLabel zgs19_gsOverflow zgs19_gsfr"}).text(Y)).append(ce("<span>",{class:"zgs19_gscStatus zgs19_gsOverflow zgs19_gsfl",gstitle:J}).text(J))),M=X||ee?ce("<span>",{class:"zgs19_gsResIntxt zgs19_gsOverflow zgs19_gsfl"}).text(ge.getI18NMsg("gs.search.service_people.status.in",!0)):"",A=ce("<div>",{class:"zgs19_gsOverflow zgs19_gsfl"}).append(ce("<span>",{class:"zgs19_gsMxWid200Px zgs19_gsOverflow zgs19_gsfl",gslabel:ge.getI18NMsg("common.board"),gstitle:ee}).text(ee)).append($).append(ce("<span>",{class:"zgs19_gsMxWid110Px zgs19_gsOverflow zgs19_gsfl",gslabel:ge.getI18NMsg("common.section"),gstitle:X}).text(X))}switch(x){case"forums":case"townhall":var se=e.url||"",te=se.indexOf("?isNative=true");-1<te&&(e.url=se.substr(0,te))}var ae="",re=ge.isMultiSelectResults(r,"modules","0");g&&(c===de.ALL||ge.multiPageEnabled||re)?ae=ce("<span>",{class:"zgs19_hvr_underlineHeader"}).append(ce("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter1",gslabel:ge.getI18NMsg("gs.search.filter_through_module"),gstitle:k,gs:"connectModules",gsmodule:x,key:x,acc_id:s}).text(k)):"Search"!==l&&(ae=ce("<span>",{class:"zgs19_hvr_underlineHeader"}).append(ce("<span>",{class:"zgs19_gsOverflow zgs19_hvr_underline_filter1 zgs19_gsCurDefault",gstitle:k}).text(k)));var oe=ge.getUserStatus(d),ie=oe.name||"";G.append(T).append(E);var ne=""!==W?"zgs19_gsMxWid70Per":"zgs19_gsMxWid75Per",le=ce("<div>",{class:"zgs19_gs"+l+"ResultRow"}).append(ce("<div>",{class:"zgs19_gs"+l+"ResultCell1"}).append(ce("<div>",{class:"zgs19_gsUniIconHolder "+ie}).append(ce("<img>",{class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsUserPhoto",gs:"gsUserPhoto",src:ge.gsspacer,gs_err_class:"zgs19_gsResultsUniIcons zgs19_gsResNoUserPhoto"})))).append(ce("<div>",{class:"zgs19_gs"+l+"ResultCell2"}).append(ce("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl"}).append(ce("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(ce("<span>",{gslabel:ge.getI18NMsg("common.time"),gstitle:u}).text(u))).append(ce("<div>",{class:"zgs19_gsResultTitle zgs19_gsfl zgs19_gsOverflow "+ne}).append(z).append(ce("<a>",{gs:"resultTitle",istip:!0,href:t,target:"_blank",rel:"noopener noreferrer",gslabel:ge.getI18NMsg("common.title"),gstitle:m}).text(m))).append(W)).append(ce("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl zgs19_gsConnectFooterTxt"}).append(ce("<div>",{class:"zgs19_gsContactEmail zgs19_gsOverflow zgs19_gsfl"}).append(ce("<span>",{gslabel:ge.getI18NMsg("common.author"),gstitle:h,istip:!0}).text(h))).append(G).append(F).append(N).append(U).append(ce("<div>",{class:"zgs19_gsResRightFilter zgs19_gsMxWid20Per zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(ae))).append(ce("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl zgs19_gsConnectTaskFooterTxt "+j}).append(M).append(A).append(ce("<div>",{class:"zgs19_gsMxWid20Per zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}))))}catch(e){ge.throwClientError("Error while rendering connect search results. in getHtmlTemplate, servicename :"+r+" Ex:",e)}return le},a.setConnectResDivElemsWidth=function(e,s,t){s=ce("<div>",{id:"zgs20_dummy"+s+"Res",class:"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem zgs19_VHidden"}).append(e);ce("#"+t).append(s);var t=ce(s).find(".zgs19_gsWid100Per")[1],a=ce(t).children(),r=ce(t).width(),t=r;ce(a).each(function(e){e=a[e];r=ce(e).hasClass("zgs19_gsContactEmail")?r:r-ce(e).outerWidth(!0)});var o=ce(s).find(".zgs19_gsContactEmail"),i=(i=r/o.length)/t*100;i|=0;for(var n=0;n<o.length;n++)ce(o[n]).css("max-width",i+"%");return e},a.resetResultsWidth=function(e,s){var t;e<=1&&(void 0!==s&&void 0!==(t=a.RESULTS_WIDTH[ge.GSConstant.CONNECT])?delete t[s]:a.setResultsWidthInfo(ge.GSConstant.CONNECT,null,{}))},a.setResultsWidthInfo=function(e,s,t){null!=s?a.RESULTS_WIDTH[e][s]=t:a.RESULTS_WIDTH[e]=t},a.getResultsWidthInfo=function(e,s){return void 0!==s?a.RESULTS_WIDTH[e]&&a.RESULTS_WIDTH[e][s]||{}:a.RESULTS_WIDTH[e]||{}},a)}(zgssearch),function(h){var _,m=window._jQueryGS;h.gscreatorresults=(_=void 0,(_=h.gscreatorresults||{}).getHtmlTemplate=function(e,s,t,a,r,o,i,n){var l=n.hasOwnProperty("type")?n.type:"Search",g=e.auth||"",c=e.aN||"",d=e.time||"",p=e.cg||"",u=_.getCreatorResTT(p),n=h.getAcronym(c),e=""!==u.customtitle?m("<div>",{class:u.customimage,gstitle:u.customtitle}):"",p=""!==e?"zgs19_gsMxWid65Per":"zgs19_gsWid75Per";return m("<div>",{class:"zgs19_gs"+l+"ResultRow"}).append(m("<div>",{class:"zgs19_gs"+l+"ResultCell1"}).append(m("<div>",{class:"zgs19_gsUniIconHolder"}).append(m("<span>",{class:"zgs19_creatorCircleText zgs19_gsfl",text:n,gs:"resultMenuItem"})))).append(m("<div>",{class:"zgs19_gs"+l+"ResultCell2"}).append(m("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(m("<span>",{gslabel:h.getI18NMsg("gs.search.result.creator.createdDate"),gstitle:d}).text(d))).append(m("<div>",{class:"zgs19_gsResultTitle  zgs19_gsOverflow zgs19_gsfl "+p}).append(m("<a>",{gs:"resultTitle",istip:!0,href:t,gslabel:h.getI18NMsg("gs.search.result.creator.applicationName"),gstitle:c,target:"_blank",rel:"noopener noreferrer"}).text(c))).append(e).append(m("<div>",{class:"zgs19_gsResultAuthor zgs19_gsRepResAuthor zgs19_gsOverflow"}).append(m("<span>",{class:"zgs19_gsfl zgs19_gsOverflow zgs19_gsMxWid70Per",gslabel:h.getI18NMsg("gs.search.result.creator.ownerName"),gstitle:g}).text(g)).append(m("<span>",{class:"zgs19_gsfl "+u.image,gstitle:u.title}))))},_.getCreatorResTT=function(e){var s={image:"",title:"",customimage:"",customtitle:""};switch(e){case"2":s.image="zgs18_sharedApp",s.title=h.getI18NMsg("common.shared_with_me");break;case"3":s.image="zgs18_sharedToGrp",s.title=h.getI18NMsg("gs.search.result.creator.shared_to_group_apps");break;case"4":s.customimage="zgs18_sharedToOrgGrp",s.customtitle=h.getI18NMsg("gs.search.result.creator.custom_apps")}return s},_)}(zgssearch),function(Me){var Fe,Ne=window._jQueryGS,Le=Me.getGSConstantObj()||{};Me.gscrmresults=(Fe=void 0,(Fe=Me.gscrmresults||{}).accountDetails=Fe.accountDetails||{},Fe.getCRMOrganizationId=function(){return Fe.accountDetails.account_id},Fe.getCRMOrganizationDomainName=function(){return Fe.accountDetails.domain_name},Fe.getHtmlTemplate=function(e,s,t,a,r,o,i,n){var l=e.mod,g=Me.getFilterInfo(r,"modules","data"),c=(g="object"==typeof g&&g[s]?g[s]:g)[l]||"",g=n.hasOwnProperty("type")?n.type:"Search",n=!n.hasOwnProperty("filters")||n.filters,r=Fe.generateCRMSearchResults(e,a,t,g,n,r,s);Ne("#zgs20_dummyCRMRes").remove();s=r.resultCell,r=r.customModule,c=Fe.getCRMModuleTT(l,r,c);return Ne("<div>",{class:"zgs19_gs"+g+"ResultRow"}).append(Ne("<div>",{class:"zgs19_gs"+g+"ResultCell1"}).append(Ne("<div>",{class:"zgs19_gsUniIconHolder"}).append(c))).append(s)},Fe.getHeaderFooterElemsWidth=function(e,s,t,a,r){var o=Fe.getCRMModuleTT(s,t,""),i=Ne("<div>",{id:r,class:"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem zgs19_VHidden"}).append(Ne("<div>",{class:"zgs19_gsSearchResultRow"}).append(Ne("<div>",{class:"zgs19_gsSearchResultCell1"}).append(Ne("<div>",{class:"zgs19_gsUniIconHolder"}).append(o))).append(e));Ne("#"+a).append(i);var n=Ne("#"+r+" div.zgs19_gsSearchResultCell2").children(),l=Ne("#"+r+" div.zgs19_gsSearchResultCell2").width(),g=n[0],c=n[1],d=l,p=l;d-=void 0!==Ne(g).find(".zgs19_gs_ResultFooterSeperator")[0]?Ne(Ne(g).find(".zgs19_gs_ResultFooterSeperator")[0]).outerWidth(!0):0;var u=Ne(c).find(".zgs19_gsResRightFilter")[0];Fe.removeStartsWithClass(u,"zgs19_gsMxWidImpPer");var h=void 0!==Ne(c).find(".zgs19_gsResRightFilter")[0]?Ne(Ne(c).find(".zgs19_gsResRightFilter")[0]).outerWidth(!0):0,_=Ne(Ne(Ne(c).find(".zgs19_gsResRightFilter")[0]).find(".zgs19_hvr_underline_filter")).width()+20;p-=h+(void 0!==Ne(c).find(".zgs19_gs_ResultFooterSeperator")[0]?Ne(Ne(c).find(".zgs19_gs_ResultFooterSeperator")[0]).outerWidth(!0):0)+20;var m,z=Math.floor(.4*p),v=Math.floor(.6*d),f=Math.floor(.3*d),C=Ne(g).find(".zgs19_gsCRMResultTitleNew"),S=Ne(c).find(".zgs19_gsCRMResultField"),b=Fe.removeStartsWithClass(Ne(C)[0],"zgs19_gsMxWidImpPer"),s=Fe.removeStartsWithClass(Ne(C)[1],"zgs19_gsMxWidImpPer"),t=Fe.removeStartsWithClass(Ne(S)[0],"zgs19_gsMxWidImpPer"),o=Fe.removeStartsWithClass(Ne(S)[1],"zgs19_gsMxWidImpPer"),a=void 0!==b?Ne(b).width():0,i=void 0!==s?Ne(s).width():0,r=void 0!==t?Ne(t).width():0,n=void 0!==o?Ne(o).width():0,r=1<Ne(t).children().length?r-Ne(Ne(t).children()[0]).width():r,n=1<Ne(o).children().length?n-Ne(Ne(o).children()[0]).width():n,l=0,p=0,g=0,C=0,S=0;a<=v&&i<=f||v<=a&&f<=i?(S=v-a+(f-i),l=v,p=f):a<=v&&f<=i?(p=d<(l=a)+(m=f+(S+=v-a))?d-l:m,S=0):v<=a&&i<=f&&(l=d<(p=i)+(m=v+(S+=f-i))?d-p:m,S=0);S=0;return r<=z&&n<=z||z<=r&&z<=n?(S=z-r+(z-n),C=g=z):r<=z&&z<=n?C=z+(S+=z-(g=r)):z<=r&&n<=z&&(g=z+(S+=z-(C=n))),0<S&&h<_&&(_=_,u=Ne(c).find(".zgs19_gsResRightFilter")[0],Ne(u).width(_)),Ne(b).css("max-width",l),Ne(s).css("max-width",p),Ne(t).css("max-width",g),Ne(o).css("max-width",C),e},Fe.generateCRMSearchResults=function(e,s,t,a,r,o,i){var n,l,g,c,d,p,u,h,_,m,z,v,f,C,S,b,y,I,O,P,w,D,E,T,A,M,F,N,L,R,x,k,U,j,B,H,G,W,V,Q,q,Z,K,Y,J,X,$,ee,se,te,ae,re,oe={},ie=!1,ne=e.mod,le=Me[o+"DispObj"],ge=le.hasOwnProperty(i)?le[i][o+"_"+ne]:{},ce="",de="zgs19_gsCRMResultTitleNew zgs19_gsfl zgs19_gsOverflow zgs19_gsMxWidImpPer20 zgs19_crmAccColor",pe="zgs19_gsCRMResultTitleNew zgs19_gsfl zgs19_gsOverflow zgs19_gsMxWidImpPer70",ue="zgs19_gsCRMResultTitleNew zgs19_gsfl zgs19_gsOverflow zgs19_gsMxWidImpPer90",he="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gsMxWidImpPer25",_e="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gsMxWidImpPer30",me="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gsMxWidImpPer45",ze="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gsMxWidImpPer90",ve="zgs19_gs_CRM_status",fe="zgs19_gsWid100Per zgs19_gsfl",Ce="zgs19_gs"+a+"ResultCell2",Se="zgs19_gsResultsUniIcons zgs19_gsContactMobileImg",be="",ye="",Ie="",Oe="",Pe="",we="",De="",Ee=ue,Te=Me.getFilterInfo(o,"modules","data"),Ae=(Te="object"==typeof Te&&Te[i]?Te[i]:Te)[ne]||"",le=Me.getFilterInfo(o,"modules","current"),a=Me.isMultiSelectResults(o,"modules",Le.ALL),Te="";return r&&a&&"undefined"!==Ae?(Te=Ne("<div>",{class:"zgs19_gsMxWidImpPer20 zgs19_gsResRightFilter zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(Ne("<span>",{class:"zgs19_hvr_underlineHeader"}).append(Ne("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter",gslabel:Me.getI18NMsg("gs.search.filter_through_module"),gstitle:Ae,gs:o+"mod",mod:ne,acc_id:i}).text(Ae))),me="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gsMxWidImpPer35",ze="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gsMxWidImpPer70",_e="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gsMxWidImpPer22"):Te=Ne("<div>",{class:"zgs19_gsMxWidImpPer20 zgs19_gsResRightFilter zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(Ne("<span>",{class:"zgs19_hvr_underlineHeader"}).append(Ne("<span>",{class:"zgs19_gsOverflow zgs19_hvr_underline_filter zgs19_gsCurDefault",gstitle:Ae}).text(Ae))),be="Leads"===ne?(ae=Fe.getCRMFieldsArr(ne,e).extraFieldsArr,l=Me.checkUndefined(e.Full_Name),q=Fe.getProperValueFromDataTypeForCRM(e,"Company"),R=Fe.getProperValueFromDataTypeForCRM(e,"Email"),n=(u="")!==(L=Fe.getProperValueFromDataTypeForCRM(e,"Phone")),te=""!==($=Fe.getProperValueFromDataTypeForCRM(e,"Lead_Status")),""!==q&&(Ee=pe),J=ae.length,!(re=""!==R)&&!n&&!te&&0<J&&(ce=Fe.renderGenericValuesForCRMModule(ne,ae,e,le,o,i)),c=d=x=ze,re&&te&&(c=d=me),Pe=(re||n)&&te?Ne("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",re&&te||!n||(c=d=x=me,x=re||te?me:ze,Oe=re?Ne("<span>",{class:"zgs19_spaceW3 zgs19_gsfl"}):"",u=n?Ne("<span>",{class:"zgs19_gsCRMResultField  zgs19_gsContactNumber zgs19_gsfl zgs19_gsOverflow zgs19_gsMxWidImpPer45"}).append(Ne("<span>",{class:Se,src:Me.spacerURL})).append(Ne("<span>",{gslabel:ge.Phone,gstitle:L,gs:"contactPhone"}).text(L)):""),Ae=re?Ne("<span>",{class:c,gslabel:ge.Email,gstitle:R}).text(R):"",n=te?Ne("<span>",{class:d+" "+ve,gslabel:ge.Lead_Status,gstitle:$}).text($):"",re=Ne("<a>",{class:Ee,gs:"resultTitle",href:t,target:"_blank",rel:"noopener noreferrer",gslabel:ge.Full_Name,gstitle:l}).text(l),te=""!==q?Ne("<span>",{class:de,gslabel:ge.Company,gstitle:q}).text(q):"",$=""!==q?Ne("<span>",{class:"zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;&ndash;&nbsp;&nbsp;"):"",Ne("<div>",{class:Ce}).append(Ne("<div>",{class:fe}).append(re).append($).append(te)).append(Ne("<div>",{class:fe}).append(Ae).append(Oe).append(u).append(Pe).append(n).append(ce).append(Te))):"Accounts"===ne?(ae=Fe.getCRMFieldsArr(ne,e).extraFieldsArr,W=Fe.getProperValueFromDataTypeForCRM(e,"Account_Name"),M=Fe.getProperValueFromDataTypeForCRM(e,"Owner"),L=Fe.getProperValueFromDataTypeForCRM(e,"Phone"),x=g=Y="",Y=x=g=ze,p=""!==M,n=""!==(_=Fe.getProperValueFromDataTypeForCRM(e,"Account_Type")),!(h=""!==L)&&!p&&!n&&0<ae.length&&(ce=Fe.renderGenericValuesForCRMModule(ne,ae,e,le,o,i)),(h&&p||n&&p||h&&n)&&(Y=x=g=me),Pe=""===(Oe=h&&p?Ne("<span>",{class:"zgs19_spaceW3 zgs19_gsfl"}):"")&&(h||p)&&n?Ne("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",M=p?Ne("<div>",{class:Y}).append(Ne("<span>",{gslabel:ge.Owner,gstitle:M}).text(M)):"",u=h?Ne("<div>",{class:x}).append(Ne("<span>",{class:Se,src:Me.spacerURL})).append(Ne("<span>",{gslabel:ge.Phone,gstitle:L,gs:"contactPhone"}).text(L)):"",p=!n||p&&h?"":Ne("<span>",{class:g,gslabel:ge.Account_Type,gstitle:_}).text(_),h=Ne("<a>",{class:Ee,gs:"resultTitle",href:t,target:"_blank",rel:"noopener noreferrer",gslabel:ge.Account_Name,gstitle:W}).text(W),Ne("<div>",{class:Ce}).append(Ne("<div>",{class:fe}).append(h)).append(Ne("<div>",{class:fe}).append(M).append(Oe).append(u).append(Pe).append(p).append(ce).append(Te))):"Contacts"===ne?(ae=Fe.getCRMFieldsArr(ne,e).extraFieldsArr,l=Me.checkUndefined(e.Full_Name),g=Fe.getProperValueFromDataTypeForCRM(e,"Owner"),(x=d=c=z="")!==(q=Fe.getProperValueFromDataTypeForCRM(e,"Account_Name"))&&(Ee="zgs19_gsCRMResultTitleNew zgs19_gsfl zgs19_gsOverflow zgs19_gsMxWidImpPer75"),_=""!==(L=Fe.getProperValueFromDataTypeForCRM(e,"Phone")),u=""!==(h=Fe.getProperValueFromDataTypeForCRM(e,"Mobile")),J=ae.length,(p=""!==g)||""!==q||_||u||!(0<J)||(ce=Fe.renderGenericValuesForCRMModule(ne,ae,e,le,o,i)),c=d=x=ze,p&&(_||u)&&(c=d=x=me,Oe=Ne("<span>",{class:"zgs19_spaceW3 zgs19_gsfl"})),(_||u)&&(u=_?L:h,h=_?ge.Phone:ge.Mobile,_=_?"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg":Se,z=Ne("<div>",{class:x}).append(Ne("<span>",{class:_,src:Me.spacerURL})).append(Ne("<span>",{gslabel:h,gstitle:u,gs:"contactPhone"}).text(u))),M=p?Ne("<div>",{class:c}).append(Ne("<span>",{gslabel:ge.Owner,gstitle:g}).text(g)):"",re=Ne("<a>",{class:Ee,gs:"resultTitle",href:t,target:"_blank",rel:"noopener noreferrer",gslabel:ge.Full_Name,gstitle:l}).text(l),te=""!==q?Ne("<span>",{class:de,gslabel:ge.Account_Name,gstitle:q}).text(q):"",$=""!==q?Ne("<span>",{class:"zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;&ndash;&nbsp;&nbsp;"):"",Ne("<div>",{class:Ce}).append(Ne("<div>",{class:fe}).append(re).append($).append(te)).append(Ne("<div>",{class:fe}).append(M).append(Oe).append(z).append(ce).append(Te))):"Deals"===ne?(ae=Fe.getCRMFieldsArr(ne,e).extraFieldsArr,z=Fe.getProperValueFromDataTypeForCRM(e,"Deal_Name"),C=Fe.getProperValueFromDataTypeForCRM(e,"Owner"),f=Fe.getProperValueFromDataTypeForCRM(e,"Closing_Date"),m=Fe.getProperValueFromDataTypeForCRM(e,"Stage"),H=v=Y="",Y=v=H=ze,""!==C&&""!==m&&(Y=v=H=me),J=ae.length,""===C&&""===m&&""===f&&0<J&&(ce=Fe.renderGenericValuesForCRMModule(ne,ae,e,le,o,i)),we=""===m||""===f&&""===C?"":Ne("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"),v=""!==f&&""===C?Ne("<span>",{class:v,gslabel:ge.Closing_Date,gstitle:f}).text(f):"",f=""!==m?Ne("<span>",{class:H+" "+ve,gslabel:ge.Stage,gstitle:m}).text(m):"",C=""!==C?Ne("<span>",{class:Y,gslabel:ge.Owner,gstitle:C}).text(C):"",z=Ne("<a>",{class:Ee,gs:"resultTitle",href:t,target:"_blank",rel:"noopener noreferrer",gslabel:ge.Deal_Name,gstitle:z}).text(z),Ne("<div>",{class:Ce}).append(Ne("<div>",{class:fe}).append(z)).append(Ne("<div>",{class:fe}).append(C).append(Pe).append(v).append(we).append(f).append(ce).append(Te))):"Tasks"===ne?(ae=Fe.getCRMFieldsArr(ne,e).extraFieldsArr,Z=Fe.getProperValueFromDataTypeForCRM(e,"Subject"),K=Fe.getProperValueFromDataTypeForCRM(e,"Status"),A=Fe.getProperValueFromDataTypeForCRM(e,"Owner"),Y=V="",V=Y=ze,""!==K&&""!==A&&(V=Y=me),J=ae.length,""===K&&""===A&&0<J&&(ce=Fe.renderGenericValuesForCRMModule(ne,ae,e,le,o,i)),ye=""!==K&&""!==A?Ne("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",se=""!==K?Ne("<span>",{gslabel:ge.Status,gstitle:K,class:V+" "+ve}).text(K):"",M=""!==A?Ne("<span>",{gslabel:ge.Owner,gstitle:A,class:Y}).text(A):"",X=Ne("<a>",{gslabel:ge.Subject,gstitle:Z,href:t,target:"_blank",rel:"noopener noreferrer",class:Ee,gs:"resultTitle"}).text(Z),Ne("<div>",{class:Ce}).append(Ne("<div>",{class:fe}).append(X)).append(Ne("<div>",{class:fe}).append(M).append(ye).append(se).append(ce).append(Te))):"Events"===ne?(ae=Fe.getCRMFieldsArr(ne,e).extraFieldsArr,C=Fe.getProperValueFromDataTypeForCRM(e,"Event_Title"),S=Fe.getProperValueFromDataTypeForCRM(e,"Start_DateTime"),b=Fe.getProperValueFromDataTypeForCRM(e,"End_DateTime"),(f=v="")!==(T=Fe.getProperValueFromDataTypeForCRM(e,"Venue"))&&(v=Ne("<span>",{class:"zgs18_crm_location",src:Me.spacerURL}),f=Ne("<span>",{class:_e,gslabel:ge.Venue,gstitle:T}).text(T)),ye=""===T||""===S&&""===b?"":Ne("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"),J=ae.length,""===S&&""===b&&""===T&&0<J&&(ce=Fe.renderGenericValuesForCRMModule(ne,ae,e,le,o,i)),w="all_crm_mod"===le&&""!==T?"zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gsMxWidImpPer20":""!==T?"zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gsMxWidImpPer28":me,P=""!==S?Ne("<div>",{class:w}).append(Ne("<span>",{gslabel:ge.Start_DateTime,gstitle:S}).text(S)):"",T=""!==b?Ne("<div>",{class:w}).append(Ne("<span>",{gslabel:ge.End_DateTime,gstitle:b}).text(b)):"",w=""!==S?Ne("<div>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterIN zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp; to &nbsp;&nbsp;"):"",C=Ne("<a>",{class:Ee,gs:"resultTitle",href:t,target:"_blank",rel:"noopener noreferrer",gslabel:ge.Event_Title,gstitle:C}).text(C),Ne("<div>",{class:Ce}).append(Ne("<div>",{class:fe}).append(C)).append(Ne("<div>",{class:fe}).append(v).append(f).append(ye).append(P).append(w).append(T).append(ce).append(Te))):"Calls"===ne?(ae=Fe.getCRMFieldsArr(ne,e).extraFieldsArr,Z=Fe.getProperValueFromDataTypeForCRM(e,"Subject"),I=Fe.getProperValueFromDataTypeForCRM(e,"Call_Start_Time"),Oe=""!==(A=Fe.getProperValueFromDataTypeForCRM(e,"Owner"))&&""!==I?Ne("<span>",{class:"zgs19_spaceW3 zgs19_gsfl"}):"",Y=D="",D=Y=ze,""!==A&&""!==I&&(D=Y=me),J=ae.length,""===I&&""===A&&0<J&&(ce=Fe.renderGenericValuesForCRMModule(ne,ae,e,le,o,i)),M=""!==A?Ne("<span>",{class:Y,gslabel:ge.Owner,gstitle:A}).text(A):"",O=""!==I?Ne("<span>",{class:D,gslabel:ge.Call_Start_Time,gstitle:I}).text(I):"",y=Ne("<a>",{class:Ee,gs:"resultTitle",href:t,target:"_blank",rel:"noopener noreferrer",gslabel:ge.Subject,gstitle:Z}).text(Z),Ne("<div>",{class:Ce}).append(Ne("<div>",{class:fe}).append(y)).append(Ne("<div>",{class:fe}).append(M).append(Oe).append(O).append(ce).append(Te))):"Campaigns"===ne?(ae=Fe.getCRMFieldsArr(ne,e).extraFieldsArr,D=Fe.getProperValueFromDataTypeForCRM(e,"Campaign_Name"),A=Fe.getProperValueFromDataTypeForCRM(e,"Owner"),K=Fe.getProperValueFromDataTypeForCRM(e,"Status"),S=Fe.getProperValueFromDataTypeForCRM(e,"Start_Date"),b=Fe.getProperValueFromDataTypeForCRM(e,"End_Date"),Pe=""===A||""===K&&""===S&&""===b?"":Ne("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"),Y=V=y=I="",I=y=V=Y=ze,I=y=Y=""!==S&&""!==b&&""!==A?_e:me,O=!1,""===A?(O=!0,V=""===(we=""===K||""===S&&""===b?"":Ne("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"))?me:_e):O=""===S&&""===b,(se="")!==K&&O&&(se=Ne("<span>",{class:V+" "+ve,gslabel:ge.Status,gstitle:K}).text(K)),J=ae.length,""===A&&""===K&&""===b&&""===S&&0<J&&(ce=Fe.renderGenericValuesForCRMModule(ne,ae,e,le,o,i)),M=""!==A?Ne("<span>",{class:Y,gslabel:ge.Owner,gstitle:A}).text(A):"",P=""!==S?Ne("<div>",{class:I}).append(Ne("<span>",{gslabel:ge.Start_Date,gstitle:S}).text(S)):"",w=""!==b&&""!==S?Ne("<div>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterIN zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp; to &nbsp;&nbsp;"):"",T=""!==b?Ne("<div>",{class:y}).append(Ne("<span>",{gslabel:ge.End_Date,gstitle:b}).text(b)):"",D=Ne("<a>",{class:Ee,gs:"resultTitle",href:t,target:"_blank",rel:"noopener noreferrer",gslabel:ge.Campaign_Name,gstitle:D}).text(D),Ne("<div>",{class:Ce}).append(Ne("<div>",{class:fe}).append(D)).append(Ne("<div>",{class:fe}).append(M).append(Pe).append(P).append(w).append(T).append(we).append(se).append(ce).append(Te))):"Cases"===ne?(ae=Fe.getCRMFieldsArr(ne,e).extraFieldsArr,Z=Fe.getProperValueFromDataTypeForCRM(e,"Subject"),E=Fe.getProperValueFromDataTypeForCRM(e,"Product_Name"),K=Fe.getProperValueFromDataTypeForCRM(e,"Status"),Y=V="",V=Y=ze,""!==(A=Fe.getProperValueFromDataTypeForCRM(e,"Owner"))&&""!==K&&(V=Y=me),J=ae.length,""===A&&""===K&&0<J&&(ce=Fe.renderGenericValuesForCRMModule(ne,ae,e,le,o,i)),M=""!==A?Ne("<span>",{class:Y,gslabel:ge.Owner,gstitle:A}).text(A):"",se=""!==K?Ne("<div>",{class:V+" "+ve}).append(Ne("<span>",{gslabel:ge.Status,gstitle:K}).text(K)):"",Pe=""!==M&&""!==K?Ne("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",X=Ne("<a>",{class:Ee,gs:"resultTitle",href:t,target:"_blank",rel:"noopener noreferrer",gslabel:ge.Subject,gstitle:Z}).text(Z),Ne("<div>",{class:Ce}).append(Ne("<div>",{class:fe}).append(X)).append(Ne("<div>",{class:fe}).append(M).append(Pe).append(se).append(ce).append(Te))):"Solutions"===ne?(ae=Fe.getCRMFieldsArr(ne,e).extraFieldsArr,T=Fe.getProperValueFromDataTypeForCRM(e,"Solution_Title"),K=Fe.getProperValueFromDataTypeForCRM(e,"Status"),F=V="",V=F=ze,""!==(E=Fe.getProperValueFromDataTypeForCRM(e,"Product_Name"))&&""!==K&&(V=F=me),J=ae.length,""===E&&""===K&&0<J&&(ce=Fe.renderGenericValuesForCRMModule(ne,ae,e,le,o,i)),N=""!==E?Ne("<span>",{class:F,gslabel:ge.Product_Name,gstitle:E}).text(E):"",se=""!==K?Ne("<div>",{class:V+" "+ve}).append(Ne("<span>",{gslabel:ge.Status,gstitle:K}).text(K)):"",Pe=""!==E&&""!==K?Ne("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",T=Ne("<a>",{class:Ee,gs:"resultTitle",href:t,target:"_blank",rel:"noopener noreferrer",gslabel:ge.Solution_Title,gstitle:T}).text(T),Ne("<div>",{class:Ce}).append(Ne("<div>",{class:fe}).append(T)).append(Ne("<div>",{class:fe}).append(N).append(Pe).append(se).append(ce).append(Te))):"Products"===ne?(ae=Fe.getCRMFieldsArr(ne,e).extraFieldsArr,N=Fe.getProperValueFromDataTypeForCRM(e,"Product_Name"),B=Fe.getProperValueFromDataTypeForCRM(e,"Vendor_Name"),A=Fe.getProperValueFromDataTypeForCRM(e,"Owner"),J=ae.length,F=Y="",Y=F=ze,""!==A&&""!==B&&(Y=F=me),""===B&&""===A&&0<J&&(ce=Fe.renderGenericValuesForCRMModule(ne,ae,e,le,o,i)),M=""!==A?Ne("<span>",{class:Y,gslabel:ge.Owner,gstitle:A}).text(A):"",F=""!==B?Ne("<span>",{class:F,gslabel:ge.Vendor_Name,gstitle:B}).text(B):"",Pe=""!==A&&""!==B?Ne("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",N=Ne("<a>",{class:Ee,gs:"resultTitle",href:t,target:"_blank",rel:"noopener noreferrer",gslabel:ge.Product_Name,gstitle:N}).text(N),Ne("<div>",{class:Ce}).append(Ne("<div>",{class:fe}).append(N)).append(Ne("<div>",{class:fe}).append(M).append(Pe).append(F).append(ce).append(Te))):"Vendors"===ne?(ae=Fe.getCRMFieldsArr(ne,e).extraFieldsArr,B=Fe.getProperValueFromDataTypeForCRM(e,"Vendor_Name"),L=Fe.getProperValueFromDataTypeForCRM(e,"Phone"),R=Fe.getProperValueFromDataTypeForCRM(e,"Email"),x=c=ze,""!==L&&""!==R&&(x=c=me),Oe=""!==R&&""!==L?Ne("<span>",{class:"zgs19_spaceW3 zgs19_gsfl"}):"",J=ae.length,""===L&&""===R&&0<J&&(ce=Fe.renderGenericValuesForCRMModule(ne,ae,e,le,o,i)),U=""!==R?Ne("<span>",{class:c,gslabel:ge.Email,gstitle:R}).text(R):"",k=""!==L?Ne("<div>",{class:x}).append(Ne("<span>",{class:Se,src:Me.spacerURL})).append(Ne("<span>",{gslabel:ge.Phone,gstitle:L,gs:"contactPhone"}).text(L)):"",j=Ne("<a>",{class:Ee,gs:"resultTitle",href:t,target:"_blank",rel:"noopener noreferrer",gslabel:ge.Vendor_Name,gstitle:B}).text(B),Ne("<div>",{class:Ce}).append(Ne("<div>",{class:fe}).append(j)).append(Ne("<div>",{class:fe}).append(U).append(Oe).append(k).append(ce).append(Te))):"PriceBooks"===ne||"Price_Books"===ne?(ae=Fe.getCRMFieldsArr(ne,e).extraFieldsArr,B=Fe.getProperValueFromDataTypeForCRM(e,"Price_Book_Name"),j=Fe.getProperValueFromDataTypeForCRM(e,"Owner"),U=Y=ze,(Oe="")!==(k=Fe.getProperValueFromDataTypeForCRM(e,"Active"))&&""!==j&&(Y=me,U=he),""!==k&&(Ie=Ne("<span>",{class:U,gslabel:ge.Active,gstitle:Oe="true"===k?"Active":"InActive"}).text(Oe)),J=ae.length,""===k&&""===j&&0<J&&(ce=Fe.renderGenericValuesForCRMModule(ne,ae,e,le,o,i)),Pe=""!==j&&""!==k?Ne("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",j=""!==j?Ne("<span>",{class:Y,gslabel:ge.Owner,gstitle:j}).text(j):"",B=Ne("<a>",{class:Ee,gs:"resultTitle",href:t,target:"_blank",rel:"noopener noreferrer",gslabel:ge.Price_Book_Name,gstitle:B}).text(B),Ne("<div>",{class:Ce}).append(Ne("<div>",{class:fe}).append(B)).append(Ne("<div>",{class:fe}).append(j).append(Pe).append(Ie).append(ce).append(Te))):"Quotes"===ne?(ae=Fe.getCRMFieldsArr(ne,e).extraFieldsArr,Ie=Fe.getProperValueFromDataTypeForCRM(e,"Owner"),G=Fe.getProperValueFromDataTypeForCRM(e,"Quote_Stage"),Z=Fe.getProperValueFromDataTypeForCRM(e,"Subject"),J=ae.length,H=Y=ze,""!==G&&""!==Ie&&(Y=H=me),""===Ie&&""===G&&0<J&&(ce=Fe.renderGenericValuesForCRMModule(ne,ae,e,le,o,i)),Pe=""!==Ie&&""!==G?Ne("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",Ie=""!==Ie?Ne("<span>",{class:Y,gslabel:ge.Owner,gstitle:Ie}).text(Ie):"",G=""!==G?Ne("<span>",{class:H+" "+ve,gslabel:ge.Quote_Stage,gstitle:G}).text(G):"",X=Ne("<a>",{class:Ee,gs:"resultTitle",href:t,target:"_blank",rel:"noopener noreferrer",gslabel:ge.Subject,gstitle:Z}).text(Z),Ne("<div>",{class:Ce}).append(Ne("<div>",{class:fe}).append(X)).append(Ne("<div>",{class:fe}).append(Ie).append(Pe).append(G).append(ce).append(Te))):"SalesOrders"===ne||"Sales_Orders"===ne?(ae=Fe.getCRMFieldsArr(ne,e).extraFieldsArr,Z=Fe.getProperValueFromDataTypeForCRM(e,"Subject"),G=Fe.getProperValueFromDataTypeForCRM(e,"Owner"),W=Fe.getProperValueFromDataTypeForCRM(e,"Account_Name"),K=Fe.getProperValueFromDataTypeForCRM(e,"Status"),V=Y="",Y=V=ze,""!==G&&""!==K&&(Y=V=me),""!==W&&(Ee=pe),J=ae.length,""===Z&&""===W&&""===G&&""===m&&0<J&&(ce=Fe.renderGenericValuesForCRMModule(ne,ae,e,le,o,o,i)),Q=""!==G?Ne("<span>",{class:Y,gslabel:ge.Owner,gstitle:G}).text(G):"",se=""!==K?Ne("<div>",{class:V+" "+ve}).append(Ne("<span>",{gslabel:ge.Status,gstitle:K}).text(K)):"",we=""!==K&&""!==G?Ne("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",X=Ne("<a>",{class:Ee,gs:"resultTitle",href:t,target:"_blank",rel:"noopener noreferrer",gslabel:ge.Subject,gstitle:Z}).text(Z),he=""!==W?Ne("<span>",{class:he,gslabel:ge.Account_Name,gstitle:W}).text(W):"",$=""!==W?Ne("<span>",{class:"zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;&ndash;&nbsp;&nbsp;"):"",Ne("<div>",{class:Ce}).append(Ne("<div>",{class:fe}).append(X).append($).append(he)).append(Ne("<div>",{class:fe}).append(Q).append(we).append(se).append(ce).append(Te))):"PurchaseOrders"===ne||"Purchase_Orders"===ne?(ae=Fe.getCRMFieldsArr(ne,e).extraFieldsArr,Z=Fe.getProperValueFromDataTypeForCRM(e,"Subject"),K=Fe.getProperValueFromDataTypeForCRM(e,"Status"),Y=Q=V=(V=Q=Y="")!==(we=Fe.getProperValueFromDataTypeForCRM(e,"Vendor_Name"))&&""!==K?_e:me,J=ae.length,""===Z&&""===K&&""===we&&0<J&&(ce=Fe.renderGenericValuesForCRMModule(ne,ae,e,le,o,i)),Q=""!==we?Ne("<span>",{class:Q,gslabel:ge.Vendor_Name,gstitle:we}).text(we):"",se=""!==K?Ne("<div>",{class:V+" "+ve}).append(Ne("<span>",{gslabel:ge.Status,gstitle:K}).text(K)):"",Pe=""!==we&&""!==K?Ne("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",X=Ne("<a>",{class:Ee,gs:"resultTitle",href:t,target:"_blank",rel:"noopener noreferrer",gslabel:ge.Subject,gstitle:Z}).text(Z),Ne("<div>",{class:Ce}).append(Ne("<div>",{class:fe}).append(X)).append(Ne("<div>",{class:fe}).append(Q).append(Pe).append(se).append(ce).append(Te))):"Invoices"===ne?(ae=Fe.getCRMFieldsArr(ne,e).extraFieldsArr,q=Fe.getProperValueFromDataTypeForCRM(e,"Account_Name"),ee=Fe.getProperValueFromDataTypeForCRM(e,"Owner"),Z=Fe.getProperValueFromDataTypeForCRM(e,"Subject"),K=Fe.getProperValueFromDataTypeForCRM(e,"Status"),""!==q&&(Ee=pe),Y=V=ze,""!==ee&&""!==K&&(Y=V=me,Pe=Ne("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;")),J=ae.length,""===ee&&""===K&&0<J&&(ce=Fe.renderGenericValuesForCRMModule(ne,ae,e,le,o,i)),se=""!==K?Ne("<span>",{gslabel:ge.Status,gstitle:K,class:V+" "+ve}).text(K):"",ee=""!==ee?Ne("<span>",{gslabel:ge.Owner,gstitle:ee,class:Y}).text(ee):"",X=Ne("<a>",{gslabel:ge.Subject,gstitle:Z,href:t,target:"_blank",rel:"noopener noreferrer",class:Ee,gs:"resultTitle"}).text(Z),te=""!==q?Ne("<span>",{class:de,gslabel:ge.Company,gstitle:q}).text(q):"",$=""!==q?Ne("<span>",{class:"zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;&ndash;&nbsp;&nbsp;"):"",Ne("<div>",{class:Ce}).append(Ne("<div>",{class:fe}).append(X).append($).append(te)).append(Ne("<div>",{class:fe}).append(ee).append(Pe).append(se).append(ce).append(Te))):"Notes"===ne?(ae=Fe.getCRMFieldsArr(ne,e).extraFieldsArr,te=Fe.getProperValueFromDataTypeForCRM(e,"Note_Title"),ee=Fe.getProperValueFromDataTypeForCRM(e,"Note_Content"),Pe=Fe.getProperValueFromDataTypeForCRM(e,"Owner"),se=ze,(ze="")!==ee?ze=Ne("<span>",{gslabel:ge.Note_Content,gstitle:ee,class:se+" "+ve}).text(ee):""!==Pe&&(ze=Ne("<span>",{gslabel:ge.Owner,gstitle:Pe,class:se}).text(Pe)),te=te||Me.gscrm.notesNoTitle,e.Note_Title=te,te=Ne("<a>",{class:Ee,gs:"resultTitle",href:t,target:"_blank",rel:"noopener noreferrer",gslabel:ge.Note_Title,gstitle:te}).text(te),Ne("<div>",{class:Ce}).append(Ne("<div>",{class:fe}).append(te)).append(Ne("<div>",{class:fe}).append(ze).append(Te))):(ie=!0,ae=Object.keys(e),Me.crmCustomMod[Le.CRM+"_"+ne]=ie,o=(ce=Fe.renderGenericValuesForCRM(ne,ae,e,le,o,i)).field1,i=ce.field2,De=ce.seperator,ce=e[e=ce.mandColName],re=Ne("<a>",{class:ue,gs:"resultTitle",href:t,target:"_blank",rel:"noopener noreferrer",gslabel:ge[e],gstitle:ce}).text(ce),Ne("<div>",{class:Ce}).append(Ne("<div>",{class:fe}).append(re)).append(Ne("<div>",{class:fe}).append(o).append(De).append(i).append(Te))),be=Fe.getHeaderFooterElemsWidth(be,ne,ie,s,"zgs20_dummyCRMRes"),oe.resultCell=be,oe.customModule=ie,oe},Fe.getCRMModuleTT=function(e,s,t){var a="";return s?(s=e.charAt(0).toUpperCase(),a=Ne("<span>",{class:"zgs19_circleText zgs19_gsfl",gstitle:t,gs:"resultMenuItem"}).text(s)):""!==e&&(e=e.toLowerCase(),a=Ne("<span>",{class:"zgs19_crmModule zgs18_crm_"+e,gstitle:t,gs:"resultMenuItem"})),a},Fe.renderGenericValuesForCRMModule=function(e,s,t,a,r,o){a=Fe.renderGenericValuesForCRM(e,s,t,a,r,o),r=a.field1,o=a.field2,a=a.seperator;return Ne("<div>",{class:""}).append(r).append(a).append(o)},Fe.renderGenericValuesForCRM=function(e,s,t,a,r,o){var i={},n="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gsMxWidImpPer45",l="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gsMxWidImpPer90";"all_crm_mod"===a&&(n="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gsMxWidImpPer35",l="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gsMxWidImpPer70");var g,c,d="",p="",u={},h=new Array,_=new Array,m=new Array,z=new Array,v=new Array,f=new Array,C=new Array,S=new Array,b=Me[r+"DataObj"][o][r+"_"+e],y=Me[r+"DispObj"][o][r+"_"+e],I=Me[r+"MandName"][o][r+"_"+e];for(c in s){var O,P=s[c];"null"!==t[P]&&(O=b[P],I!==P&&void 0!==O&&("phone"===O&&h.push(P),"email"===O&&_.push(P),"picklist"===O&&v.push(P),"lookup"===O&&m.push(P),"ownerlookup"===O&&z.push(P),"text"===O&&f.push(P),"currency"===O&&C.push(P),"autonumber"===O&&S.push(P)))}var w=emailClass=pickListFieldClass=lookupClass=ownerlookupClass=textFieldClass=currencyClass=auoNumberClass=l,D=0<_.length?Fe.getProperValueFromDataTypeForCRM(t,_[0]):"",E=0<h.length?Fe.getProperValueFromDataTypeForCRM(t,h[0]):"",T=0<v.length?Fe.getProperValueFromDataTypeForCRM(t,v[0]):"",a=0<m.length?Fe.getProperValueFromDataTypeForCRM(t,m[0]):"",o=0<z.length?Fe.getProperValueFromDataTypeForCRM(t,z[0]):"",r=0<f.length?Fe.getProperValueFromDataTypeForCRM(t,f[0]):"",e=0<C.length?Fe.getProperValueFromDataTypeForCRM(t,C[0]):"",l=0<S.length?Fe.getProperValueFromDataTypeForCRM(t,S[0]):"";return""!==r&&(u.text=Ne("<div>",{class:textFieldClass}).append(Ne("<span>",{gslabel:y[f[0]],gstitle:r}).text(r))),""!==e&&(u.currency=Ne("<div>",{class:currencyClass}).append(Ne("<span>",{gslabel:y[C[0]],gstitle:e}).text(e))),""!==l&&(u.autonumber=Ne("<div>",{class:auoNumberClass}).append(Ne("<span>",{gslabel:y[S[0]],gstitle:l}).text(l))),""!==T&&(u.picklist=Ne("<div>",{class:pickListFieldClass}).append(Ne("<span>",{gslabel:y[v[0]],gstitle:T}).text(T))),""!==o&&(u.owner=Ne("<div>",{class:ownerlookupClass}).append(Ne("<span>",{gslabel:y[z[0]],gstitle:o}).text(o))),""!==a&&(u.lookup=Ne("<div>",{class:lookupClass}).append(Ne("<span>",{gslabel:y[m[0]],gstitle:a}).text(a))),""!==E&&(u.phone=Ne("<div>",{class:w}).append(Ne("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactMobileImg",src:Me.spacerURL})).append(Ne("<span>",{gslabel:y[h[0]],gstitle:E,gs:"contactPhone"}).text(E))),""!==D&&(u.email=Ne("<div>",{class:emailClass}).append(Ne("<span>",{gslabel:y[_[0]],gstitle:D}).text(D))),u.hasOwnProperty("email")&&(d=u.email),u.hasOwnProperty("phone")&&(""===d?d=u.phone:""===p&&(p=u.phone)),u.hasOwnProperty("lookup")&&(""===d?d=u.lookup:""===p&&(p=u.lookup)),u.hasOwnProperty("owner")&&(""===d?d=u.owner:""===p&&(p=u.owner)),u.hasOwnProperty("picklist")&&(""===d?d=u.picklist:""===p&&(p=u.picklist)),u.hasOwnProperty("text")&&(""===d?d=u.text:""===p&&(p=u.text)),u.hasOwnProperty("currency")&&(""===d?d=u.currency:""===p&&(p=u.currency)),u.hasOwnProperty("autonumber")&&(""===d?d=u.autonumber:""===p&&(p=u.autonumber)),g=""!==d&&""!==p?Ne("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",""!==d&&""!==p&&(Ne(d).removeClass().addClass(n),Ne(p).removeClass().addClass(n)),i.field1=d,i.field2=p,i.seperator=g,i.mandColName=I,i},Fe.getCRMFieldsArr=function(e,s){var t,a=new Array,r=new Array,o={},i=Fe.getCRMModuleFields(e);for(t in s)Me.isArrayContain(t,i)?r.push(t):"id"!==t&&"mod"!==t&&a.push(t);return o.obtainedFieldArr=r,o.extraFieldsArr=a,o},Fe.getCRMModuleFields=function(e){switch(e){case"Leads":return["Full_Name","Company","Email","Phone","Lead_Status"];case"Contacts":return["Full_Name","Account_Name","Email","Phone","Mobile"];case"Accounts":return["Account_Name","Account_Type","Website","Phone"];case"Potentials":return["Potential_Name","Potential_Owner","Account_Name","Stage"];case"Deals":return["Deal_Name","Deal_Owner","Account_Name","Stage","Amount"];case"Events":return["Event_Title","Start_DateTime","End_DateTime","Venue"];case"Calls":return["Subject","Call_Start_Time","Call_Type","Call_Purpose"];case"Tasks":return["Subject","Task_Owner","Status"];case"Cases":return["Subject","Type","Product_Name","Status"];case"Quotes":return["Subject","Quote_Owner","Quote_Stage"];case"PurchaseOrders":case"Purchase_Orders":return["Subject","Purchase_Order_Owner","Vendor_Name","Status"];case"SalesOrders":case"Sales_Orders":return["Subject","Sales_Order_Owner","Account_Name","Status"];case"PriceBooks":case"Price_Books":return["Price_Book_Name","Price_Book_Owner","Active"];case"Products":return["Product_Name","Product_Owner","Vendor_Name","Product_Active"];case"Vendors":return["Vendor_Name","Email","Website","Phone"];case"Campaigns":return["Campaign_Name","Status","Type","Start_Date","End_Date"];case"Solutions":return["Solution_Title","Solution_Owner","Status","Product_Name"];case"Invoices":return["Subject","Invoice_Owner","Status"];case"Notes":return["Note_Title","Note_Content"]}},Fe.getProperValueFromDataTypeForCRM=function(e,s){s=e[s];return""!==Me.checkUndefined(s)?s:""},Fe.removeStartsWithClass=function(e,s){if(void 0!==e){for(var t=Ne(e).attr("class").split(" "),a=[],o=0;o<t.length;o++)r=t[o].search(s),r&&(a[a.length]=t[o]);Ne(e).removeClass().addClass(a.join(" "))}return e},Fe)}(zgssearch),function(f){var e,C=window._jQueryGS,S=f.getGSConstantObj()||{};f.gsmailresults=(e=void 0,(e=f.gsmailresults||{}).getHtmlTemplate=function(e,s,t,a,r,o,i,n){var l=n.hasOwnProperty("type")?n.type:"Search",g=!n.hasOwnProperty("filters")||n.filters,c=f.getSearchType(),d=e.sender||"",p=e.display_time||"",u=e.folder_id||"",h=e.folder_name||"",_=e.has_attachment||"",m=f.getMailImageStatus(e.servImg),z=f.replaceHTMLEntity(e.subject)||"",v="true"===e.isBold?"zgs19_gsFtWeightBold":"zgs19_gsFtWeightNormal",n="";"1"!==_&&"8"!==_||(n=C("<span>",{class:"zgs18_gsAttachIcon zgs19_gsfl"}));z=z||"("+f.getI18NMsg("gs.search.result.mail.subject")+")",e="",_=f.isMultiSelectResults(S.MAILS,"folders","0"),e=g&&(c===S.ALL||f.multiPageEnabled||_)?C("<span>",{class:"zgs19_hvr_underlineHeader"}).append(C("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter",gsmodule:S.MAILS,gslabel:f.getI18NMsg("gs.search.filter_through_folder"),gstitle:h,istip:!0,gs:"mailfolder",fId:u,acc_id:s}).text(h)):C("<span>",{class:"zgs19_hvr_underlineHeader"}).append(C("<span>",{class:"zgs19_gsOverflow zgs19_hvr_underline_filter zgs19_gsCurDefault",gslabel:f.getI18NMsg("gs.search.result.document.folder"),gstitle:h,istip:!0}).text(h));return C("<div>",{class:"zgs19_gs"+l+"ResultRow"}).append(C("<div>",{class:"zgs19_gs"+l+"ResultCell1"}).append(C("<div>",{class:"zgs19_gsUniIconHolder"}).append(C("<span>",{class:m.image,gstitle:m.title,gs:"resultMenuItem"})))).append(C("<div>",{class:"zgs19_gs"+l+"ResultCell2"}).append(C("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(C("<span>",{gslabel:f.getI18NMsg("common.time"),gstitle:p}).text(p))).append(C("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow"}).append(n).append(C("<a>",{gs:"resultTitle",istip:!0,class:v,href:t,target:"_blank",rel:"noopener noreferrer",gslabel:f.getI18NMsg("common.subject"),gstitle:z,istip:!0}).text(z))).append(C("<div>",{class:"zgs19_gsResRightFilter zgs19_gsMailFolder zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(e)).append(C("<div>",{class:"zgs19_gsResultAuthor zgs19_gsOverflow"}).append(C("<span>",{gslabel:f.getI18NMsg("gs.search.result.mail.resultfooter.sender"),gstitle:d,istip:!0}).text(f.replaceHTMLEntity(d)))))},e)}(zgssearch),function(f){var e,C=window._jQueryGS,S=f.getGSConstantObj()||{};f.gsstreamsresults=(e=void 0,(e=f.gsstreamsresults||{}).getHtmlTemplate=function(e,s,t,a,r,o,i,n){var l=n.hasOwnProperty("type")?n.type:"Search",g=!n.hasOwnProperty("filters")||n.filters,c=f.getSearchType(),d=(S.cuz||"")==(e.hasOwnProperty("owner")?e.owner:"")?f.getI18NMsg("common.me"):e.name,p=e.gN||"",u=p?"zgs19_gsDisplayBlock":"zgs19_gsDisplayNone",h=e.time||"",_=e.entityType||"",m=f.entityTypeTitleMap[_],z=m.title,v=e.title||"",n=f.replaceHTMLEntity(v)||"",v="true"===e.isB?"zgs19_gsFtWeightBold":"zgs19_gsFtWeightNormal",n=n||m.notitle,e="",m=f.getCurrentValue("entity_type",c),e=g&&(c===S.ALL||f.multiPageEnabled||f.subMultiPageEnabled||"-1"===m)?C("<span>",{class:"zgs19_hvr_underlineHeader"}).append(C("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter",gsmodule:S.STREAMS,gslabel:f.getI18NMsg("gs.search.filter_through_entity"),gstitle:z,istip:!0,gs:"streamEntityType",eId:_,acc_id:s}).text(z)):C("<span>",{class:"zgs19_hvr_underlineHeader"}).append(C("<span>",{class:"zgs19_gsOverflow zgs19_hvr_underline_filter zgs19_gsCurDefault",gslabel:f.getI18NMsg("gs.search.filter.entity_type"),gstitle:z,istip:!0}).text(z));return C("<div>",{class:"zgs19_gs"+l+"ResultRow"}).append(C("<div>",{class:"zgs19_gs"+l+"ResultCell1"}).append(C("<div>",{class:"zgs19_gsUniIconHolder",gs:"resultMenuItem"}).append(C("<img>",{class:"",gs:"gsUserPhoto",group:"",src:f.gsspacer,gstitle:"",gs_err_class:"zgs19_gsResultsUniIcons zgs19_gsResNoUserPhoto"})))).append(C("<div>",{class:"zgs19_gs"+l+"ResultCell2"}).append(C("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl"}).append(C("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(C("<span>",{gslabel:f.getI18NMsg("common.time"),gstitle:h}).text(h))).append(C("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow"}).append(C("<a>",{gs:"resultTitle",istip:!0,class:v,href:t,target:"_blank",rel:"noopener noreferrer",gslabel:f.getI18NMsg("common.subject"),gstitle:n,istip:!0}).text(n)))).append(C("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl"}).append(C("<div>",{class:"zgs19_gsResRightFilter zgs19_gsMailFolder zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(e)).append(C("<div>",{class:"zgs19_gsResultAuthor zgs19_gsOverflow zgs19_gsWid70Per"}).append(C("<div>",{class:"zgs19_gsContactEmail zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid48Per"}).append(C("<span>",{gslabel:f.getI18NMsg("common.author"),gstitle:d,istip:!0}).text(d))).append(C("<div>",{class:"zgs19_gsContactEmail zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid48Per zgs19_gsPdLt3Px "+u}).append(C("<span>",{class:"zgs19_gsResIntxt zgs19_gsOverflow zgs19_gsfl"}).text(f.getI18NMsg("gs.search.service_people.status.in",!0))).append(C("<span>",{class:"zgs19_gsfl zgs18_gsSharedIcon zgs19_streamsGroupSharedIcon",gstitle:f.getI18NMsg("gs.search.filter.sharedthisentity")})).append(C("<span>",{gslabel:f.getI18NMsg("gs.search.calendar.callout.groupName"),gstitle:p,istip:!0}).text(p))))))},e)}(zgssearch),function(p){var u,h=window._jQueryGS;p.gsreportresults=(u=void 0,(u=p.gsreportresults||{}).getHtmlTemplate=function(e,s,t,a,r,o,i,n){var l=n.hasOwnProperty("type")?n.type:"Search",g=e.auth||e.mBy,c=e.vN||"",d=e.time||"",n=e.ty||"",e=u.getReportsResTT(n),n=e.image,e=h("<span>",{class:n,gstitle:e.title,gs:"resultMenuItem"}),e=p.obtainLineIconPaths(n,e,!0);return h("<div>",{class:"zgs19_gs"+l+"ResultRow"}).append(h("<div>",{class:"zgs19_gs"+l+"ResultCell1"}).append(h("<div>",{class:"zgs19_gsUniIconHolder"}).append(e))).append(h("<div>",{class:"zgs19_gs"+l+"ResultCell2"}).append(h("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(h("<span>",{gslabel:p.getI18NMsg("gs.last_created"),gstitle:d}).text(d))).append(h("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow"}).append(h("<a>",{gs:"resultTitle",istip:!0,href:t,target:"_blank",rel:"noopener noreferrer",gslabel:p.getI18NMsg("gs.search.result.reports.viewName"),gstitle:c,istip:!0}).text(c))).append(h("<div>",{class:"zgs19_gsResultAuthor zgs19_gsRepResAuthor zgs19_gsOverflow"}).append(h("<span>",{gslabel:p.getI18NMsg("gs.search.result.reports.lastModifiedAuthor"),gstitle:g,istip:!0}).text(g))))},u.getReportsResTT=function(e){var s={};switch(s.image="zgs18_analytics_"+e.toLowerCase(),e){case"Dashboard":s.title=p.getI18NMsg("common.d.dashboard");break;case"Table":s.title=p.getI18NMsg("gs.search.result.reports.table");break;case"AnalysisView":s.title=p.getI18NMsg("gs.search.result.reports.analysisview");break;case"QueryTable":s.title=p.getI18NMsg("gs.search.result.reports.querytable");break;case"Report":s.title=p.getI18NMsg("gs.search.result.reports.tableview");break;case"SummaryView":s.title=p.getI18NMsg("gs.search.result.reports.summaryview");break;case"Pivot":s.title=p.getI18NMsg("gs.search.result.reports.pivot")}return s},u)}(zgssearch),function(A){var M,F=window._jQueryGS,N=A.getGSConstantObj()||{};A.gssupportresults=(M=void 0,(M=A.gssupportresults||{}).supportedModules=["1","2","3","4"],M.getHtmlTemplate=function(e,s,t,a,r,o,i,n){var i=i||F("#zgs20_gsModuleSearchResultPage").width()-100,l=M.getSupportResObj(e),g=l.sTime||"",c=l.sTitle||"",d=l.module||"",p=l.sAuthor||"",u=n.hasOwnProperty("type")?n.type:"Search",h=!n.hasOwnProperty("filters")||n.filters;e.webUrl=A.fetchCalloutUrlByAccId(N.SUPPORT,e,s);var _="",m=e.DEP_NAME||"",z=e.module_id||"";if(M.supportedModules.includes(z)){var v=e.DEP_ID||"",f=e.ATTACHMENT_NAMES||"",C="";switch(z){case"1":C=A.getI18NMsg("common.author");break;case"2":C=A.getI18NMsg("common.category")}f&&(_=F("<span>",{class:"zgs18_gsAttachIcon zgs19_gsfl"}));var S,b,y,I="",O="zgs19_gsWid75Per",P="",w={cell1:"",cell2:""},D="",E=A.gssupport.getModuleName(z,s),T=A.isMultiSelectResults(N.SUPPORT,"modules","0");E&&(i-=25*i/100,D=h&&T?F("<div>",{class:"zgs19_gsResRightFilter zgs19_gsWid28Per zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(F("<span>",{class:"zgs19_hvr_underlineHeader"}).append(F("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter",gslabel:A.getI18NMsg("gs.search.filter_through_module"),gstitle:E,gs:"deskModules",fId:z,depId:v,acc_id:s}).text(E))):F("<div>",{class:"zgs19_gsResRightFilter zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(F("<span>",{class:"zgs19_hvr_underlineHeader"}).append(F("<span>",{class:"zgs19_gsOverflow zgs19_gsMxWid80Per zgs19_gsCurDefault",gslabel:A.getI18NMsg("gs.search.multi.module"),gstitle:E,istip:!0}).text(E)))),"1"==z||"2"==z?(b=A.getI18NMsg("gs.search.service_people.status.in",!0),n=A.getFilterInfo(N.SUPPORT,"accounts","current"),f=A.isMultiSelectResults(N.SUPPORT,"departments","0"),y=F("<span>",{class:"zgs19_gsResIntxt zgs19_gsOverflow zgs19_gsfl",gstitle:b}).text(b),T=p.length,E=m.length,b=Math.ceil(T/(E+T)*75),T=Math.ceil(E/(E+T)*75),P=h&&m&&(f||"0"==n)?F("<div>",{class:"zgs19_gsDeskDept zgs19_gsfl zgs19_gsOverflow"}).append(F("<span>",{gslabel:A.getI18NMsg("gs.search.filter_through_department"),gstitle:m,istip:!0,class:"zgs19_hvr_underline",gs:"deskDept",gsfilter:"deptName",fId:v,acc_id:s}).text(m)):F("<div>",{class:"zgs19_gsDeskDept zgs19_gsfl zgs19_gsOverflow"}).append(F("<span>",{gslabel:A.getI18NMsg("gs.search.result.support.department"),gstitle:m,istip:!0,class:"zgs19_gsOverflow zgs19_gsMxWid80Per zgs19_gsCurDefault"}).text(m)),F(P).css("max-width",T+"%"),S=F("<div>",{class:"zgs19_gsResultSupportAuthor zgs19_gsfl zgs19_gsOverflow"}).append(F("<span>",{gslabel:C,gstitle:p,istip:!0}).text(p)),F(S).css("max-width",b-10+"%"),I=F("<div>",{class:"zgs19_gsSupportFooter"}).append(F("<div>",{gs:"gsFilterIcon",class:"zgs19_gsWid75Per"}).append(S).append(y).append(P)).append(D)):"3"!=z&&"4"!=z||(y=e.WEBSITE||"",P=e.PHONE||"",z=e.EMAIL||"",O="zgs19_gsWid97Per",w=M.getContactUserDetails(r,i,z,P,y),I=F("<div>").append(w.cell1).append(w.cell2).append(D));l=l.image,d=F("<span>",{class:l,gslabel:A.getI18NMsg("gs.search.multi.module"),gstitle:d,gs:"resultMenuItem"}),d=A.obtainLineIconPaths(l,d,!0);return F("<div>",{class:"zgs19_gs"+u+"ResultRow"}).append(F("<div>",{class:"zgs19_gs"+u+"ResultCell1"}).append(F("<div>",{class:"zgs19_gsUniIconHolder"}).append(d))).append(F("<div>",{class:"zgs19_gs"+u+"ResultCell2"}).append(F("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(F("<span>",{gslabel:A.getI18NMsg("gs.search.sevice_docs_lastModifiedTime"),gstitle:g}).text(g))).append(F("<div>",{class:"zgs19_gsResultTitle zgs19_gsOverflow "+O}).append(_).append(F("<a>",{gs:"resultTitle",istip:!0,href:e.webUrl,target:"_blank",rel:"noopener noreferrer",gslabel:A.getI18NMsg("common.title"),gstitle:c}).text(c))).append(I))}return""},M.getSupportResObj=function(e){var s={};switch(e.module_id){case"1":s.module="Request",s.image="zgs18_gsSuppRequestIcon",s.sTime=e.display_time||"",s.sAuthor=e.CONTACTNAME||"",s.sTitle=e.support_title||"";break;case"2":s.module="FAQ",s.image="zgs18_gsSuppSolutionIcon",s.sTime=e.display_time||"",s.sAuthor=e.TOPIC_NAME||"",s.sTitle=e.support_title||"";break;case"3":s.module="Contacts",s.image="zgs18_gsSuppContactIcon",s.sAuthor=e.EMAIL||"",s.sTitle=e.support_title||"";break;case"4":s.module="Accounts",s.image="zgs18_gsSuppAccountIcon",s.sAuthor=e.EMAIL||"",s.sTitle=e.support_title||""}return s},M.getContactUserDetails=function(e,s,t,a,r,o){var i,n="",l="";return r&&(i="",e!=N.SUPPORT&&(i=F("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl"})),n=F("<div>",{class:"zgs19_gsContactNumber zgs19_gsfl zgs19_gsOverflow"}).append(i).append(F("<span>",{gslabel:A.getI18NMsg("gs.search.result.support.callout.weburl"),gstitle:r}).text(r))),a&&(l=n,n=F("<div>",{class:"zgs19_gsContactNumber zgs19_gsfl zgs19_gsOverflow"}).append(F("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactMobileImg zgs19_gsfl"})).append(F("<span>",{gslabel:A.getI18NMsg("common.mobile"),gstitle:a}).text(a))),o&&(l=n,n=F("<div>",{class:"zgs19_gsContactNumber zgs19_gsfl zgs19_gsOverflow"}).append(F("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl"})).append(F("<span>",{gstitle:o}).text(o))),t&&(l=n,n=F("<div>",{class:"zgs19_gsContactEmail zgs19_gsfl zgs19_gsOverflow"}).append(F("<span>",{gslabel:A.getI18NMsg("common.email"),gstitle:t}).text(t))),F(n).css("maxWidth",s),l&&(o=a=0,(-1<(t=F(n).find("span")).hasClass("zgs19_gsContactPhoneImg")||-1<t.hasClass("zgs19_gsContactMobileImg"))&&(o=s-(a=120)),(-1<(t=F(l).find("span")).hasClass("zgs19_gsContactPhoneImg")||-1<t.hasClass("zgs19_gsContactMobileImg"))&&(a=s-(o=120)),F(n).css("maxWidth",a+"px"),F(l).css("maxWidth",o+"px"),F(l).css("margin-inline-start","8px")),{cell1:n,cell2:l}},M)}(zgssearch),function(f){var C,S=window._jQueryGS,b=f.getGSConstantObj()||{};f.gswebsiteresults=(C=void 0,(C=f.gswebsiteresults||{}).getHtmlTemplate=function(e,s,t,a,r,o,i,n){var l=n.hasOwnProperty("type")?n.type:"Search",g=!n.hasOwnProperty("filters")||n.filters,c=e.sm||"",d=e.s||"",p=f.replaceHTMLEntity(e.t)||"",u=C.getPageResTT(d).image,h=f.isMultiSelectResults(b.WEBSITE,"serviceType","all_applications"),_=f.getI18NMsg("gs.search.service_people.status.in",!0),m=d,z=void 0!==(d=f.getFilterInfo(b.WEBSITE,"serviceType","data")[d])&&""!==d,v=z?"zgs19_gsDisplayBlock":"zgs19_gsDisplayNone",n="",c=""!==c?S("<div>",{class:"zgs19_gsResultSummary"}).html(c):"",z=(n=g&&h?z?S("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline zgs19_gsfl zgs19_gsPdLt3Px",gslabel:f.getI18NMsg("gs.search.filter_through_module"),gstitle:d,gs:"gsWebService",key:m,fkey:"serviceType"}).text(d):"":z?S("<span>",{class:"zgs19_gsOverflow zgs19_gsfl zgs19_gsCurDefault",gslabel:f.getI18NMsg("gs.search.filter_through.service"),gstitle:d}).text(d):"",S("<div>",{class:"zgs19_gsResLeftFilter",gs:"gsOverflowFooter"}).append(S("<span>",{class:"zgs19_hvr_underlineHeader"}).append(n))),n=S("<span>",{class:"zgs19_gsVideotimeOuter zgs18_gsHPVideotime"}),n=f.obtainLineIconPaths("zgs18_gsHPVideotime",n,!0),n=e.tURL?n:"",d=S("<span>",{class:"zgs19_gsUniIconWebsiteRes "+u,gstitle:d,gs:"resultMenuItem"}),d=f.obtainLineIconPaths(u,d,!0,"",!0);return S("<div>",{class:"zgs19_gs"+l+"ResultRow"}).append(S("<div>",{class:"zgs19_gs"+l+"ResultCell1"}).append(S("<div>",{class:"zgs19_gsUniIconHolder"}).append(d))).append(S("<div>",{class:"zgs19_gs"+l+"ResultCell2"}).append(S("<div>",{class:"zgs19_gsResultTitle zgs19_gsMxWid75Per zgs19_gsfl zgs19_gsOverflow"}).append(S("<a>",{gs:"resultTitle",istip:!0,href:t,target:"_blank",rel:"noopener noreferrer",gslabel:f.getI18NMsg("common.title"),gstitle:p}).text(p))).append(n).append(c).append(S("<div>",{gs:"gsFilterIcon",class:"zgs19_gsResultFacet zgs19_gsOverflow "+v}).append(S("<span>",{class:"zgs19_gsResIntxt2 zgs19_gsOverflow zgs19_gsfl",gstitle:_}).text(_)).append(z)))},C.getPageResTT=function(e){var s={image:"zgs18_wdefaultpage"};switch(e){case"lens":case"marketinghub":case"bookings":case"sheet":case"orchestly":case"catalyst":case"bigin":case"analytics":case"accounts":case"assist":case"books":case"bugtracker":case"backstage":case"campaigns":case"cliq":case"connect":case"contactmanager":case"creator":case"crm":case"calendar":case"docs":case"desk":case"developer":case"expense":case"flow":case"forms":case"inventory":case"invoice":case"notebook":case"mail":case"motivator":case"meeting":case"pagesense":case"people":case"projects":case"recruit":case"salesinbox":case"salesiq":case"show":case"showtime":case"sign":case"social":case"subscriptions":case"survey":case"sites":case"sprints":case"vault":case"writer":case"workerly":case"workdrive":case"dataprep":s.image="zgs18_w"+e}return s},C)}(zgssearch),function(h){var e,_=window._jQueryGS;h.gswikiresults=(e=void 0,(e=h.gswikiresults||{}).getHtmlTemplate=function(e,s,t,a,r,o,i,n){var l=n.hasOwnProperty("type")?n.type:"Search",g=e.dN||"",c=e.dT||"",d=h.replaceHTMLEntity(e.title)||"";null!=g&&""!=g&&"null"!=g||(g=e.dN=e.auth);var p=e.sImg,u=h.getDocResTT(p),n="";return 1==e.ty&&(n=_("<span>",{class:"zgs18_gsAttachIcon zgs19_gsfl"})),_("<div>",{class:"zgs19_gs"+l+"ResultRow"}).append(_("<div>",{class:"zgs19_gs"+l+"ResultCell1"}).append(_("<div>",{class:"zgs19_gsUniIconHolder"}).append(_("<span>",{class:"zgs19_gsResultsUniIcons "+p,gstitle:u,gs:"resultMenuItem"})))).append(_("<div>",{class:"zgs19_gs"+l+"ResultCell2"}).append(_("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(_("<span>",{gslabel:h.getI18NMsg("gs.search.sevice_docs_lastModifiedTime"),gstitle:c}).text(c))).append(_("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow"}).append(n).append(_("<a>",{gs:"resultTitle",istip:!0,href:t,target:"_blank",rel:"noopener noreferrer",gslabel:h.getI18NMsg("gs.search.result.wiki.resultfooter.wikiName"),gstitle:d,istip:!0}).text(d))).append(_("<div>",{class:"zgs19_gsResultAuthor zgs19_gsOverflow"}).append(_("<span>",{gslabel:h.getI18NMsg("common.author"),gstitle:g,istip:!0}).text(g))))},e)}(zgssearch),function(G){var W,V=window._jQueryGS,Q=G.getGSConstantObj()||{};G.gslearnresults=(W=void 0,(W=G.gslearnresults||{}).RESULTS_WIDTH={},W.filterCallStack=[],W.modNameVsTitle={MANUAL:G.getI18NMsg("gs.search.learn.manualname"),ARTICLE:G.getI18NMsg("gs.search.learn.articlename"),ATTACHMENT:G.getI18NMsg("gs.search.filter.attname")},W.getHtmlTemplate=function(_,m,z,e,v,s,t,f){try{var C=f.hasOwnProperty("type")?f.type:"Search",S=!f.hasOwnProperty("filters")||f.filters,b=G.getSearchType(),y=(_.zuid,_.time||""),I=_.author||"",O=_.hasOwnProperty("title")?_.title.trim():"",P=G.replaceHTMLEntity(O)||G.getI18NMsg("gs.search.service_connect.callout.noTitle");let e="";_.hasOwnProperty("isP")&&"true"==_.isP&&(e=V("<span>",{class:"zgs18_learnSharedToHub zgs19_learnSharedTo zgs19_gsfl",gstitle:G.getI18NMsg("gs.search.learn.manualsharedToHub")}));let s="",t="",a="",r="",o="",i="",n="",l=_.hasOwnProperty("atname"),g=G.getFilterInfo(v,"modules","data");g=g.hasOwnProperty(m)?g[m]:{};var w=_.m||"",D=g[w]||"";G.getFilterInfo(v,"modules","current"),G.getFilterInfo(v,"accounts","current");let c="";var E=G.isMultiSelectResults(v,"modules","0");S&&(b===Q.ALL||G.multiPageEnabled||E)?c=V("<span>",{class:"zgs19_hvr_underlineHeader"}).append(V("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter1",gslabel:G.getI18NMsg("gs.search.filter_through_module"),gstitle:D,gs:"learnModules",gsmodule:w,key:w,acc_id:m}).text(D)):"Search"!==C&&(c=V("<span>",{class:"zgs19_hvr_underlineHeader"}).append(V("<span>",{class:"zgs19_gsOverflow zgs19_hvr_underline_filter1 zgs19_gsCurDefault",gstitle:D}).text(D)));let d="zgs19_gsMxWid95Per";var T,A,M,F=_.hasOwnProperty("mD")&&_.hasOwnProperty("sD"),N=_.hasOwnProperty("mD")&&_.hasOwnProperty("sD")||_.hasOwnProperty("mD")&&l,L=F&&l;if(d=N?"zgs19_gsMxWid45Per":d,d=L?"zgs19_gsMxWid28Per":d,F&&(o=V("<div>",{class:"zgs19_gsfl zgs18_gsarrowright zgs19_gslearnArrow zgs19_gsFontSize10Px"})),_.hasOwnProperty("mD")){let e=G.jsonParse(_.mD);var R=e.name;e.hasOwnProperty("isPublic")&&"true"===e.isPublic&&(d="zgs19_gsMxWid28Per"==d?"zgs19_gsCalMW30Pxof28":"zgs19_gsMxWid95Per"==d?"zgs19_gsCalMW30Pxof95":"zgs19_gsCalMW30Pxof45",n=V("<span>",{class:"zgs19_gsfl zgs18_learnSharedToHub zgs19_learnSharedTo",gstitle:G.getI18NMsg("gs.search.learn.manualsharedToHub")}));var x=V("<div>",{gslabel:G.getI18NMsg("gs.search.learn.manualname"),gstitle:R,class:"zgs19_gsMxWid100Per zgs19_gsfl zgs19_gsOverflow"}).text(R);s=V("<div>",{class:d+" zgs19_gsfl zgs19_gsOverflow"}).append(x)}_.hasOwnProperty("sD")&&(T=G.jsonParse(_.sD).name,t=V("<div>",{gslabel:G.getI18NMsg("gs.search.learn.spacename"),gstitle:T,class:d+" zgs19_gsfl zgs19_gsOverflow"}).text(T)),l&&(G.jsonParse(_.sD),A=_.atname,a=V("<div>",{gslabel:G.getI18NMsg("gs.search.learn.articlename"),gstitle:A,class:d+" zgs19_gsfl zgs19_gsOverflow"}).text(A),i=V("<div>",{class:"zgs19_gsfl zgs18_gsarrowright zgs19_gslearnArrow zgs19_gsFontSize10Px"}));let p="",u=G.gslearnutil.modVsDisplayName[w],h;p="ATTACHMENT"===w?(M=_.type,V("<span>",{class:"zgs19_gsResultsUniIcons "+M,gstitle:G.getDocResTT(M),gs:"resultMenuItem"})):V("<span>","MANUAL"===w?{class:"zgs19_creatorCircleText zgs19_gsfl",text:G.getAcronym(O),gstitle:G.getI18NMsg("gs.search.learn.manual"),gs:"resultMenuItem"}:{class:"zgs18_txt zgs19_txtAttr zgs19_gsfl",gstitle:G.getI18NMsg("gs.search.learn.article"),gs:"resultMenuItem"}),h=V("<div>",{gstitle:u,isCaps:!0,class:"zgs19_gsMxWid25Per zgs19_gsTextCaps zgs19_gsfr zgs19_gsOverflow"}).text(u);var k,U,j=V("<span>",{class:"zgs19_gsResIntxt zgs19_gsOverflow zgs19_gsfl zgs19_gsPdngLf0Px",gstitle:G.getI18NMsg("gs.search.service_people.status.in",!0)}).text(G.getI18NMsg("gs.search.service_people.status.in",!0));t||s||a||(k=G.getFilterInfo(service,"accounts","data")[_.hubId],U=V("<div>",{gslabel:G.getI18NMsg("common.hub"),gstitle:k,class:"zgs19_gsfl zgs19_gsOverflow zgs19_gsMxWid100Per"}).text(k),r=V("<div>",{class:"zgs19_gsfl zgs19_gsOverflow zgs19_gsMxWid95Per"}).append(U));var B=e?"zgs19_gsCalMW30Pxof75":"zgs19_gsMxWid75Per",H=V("<div>",{class:"zgs19_gs"+C+"ResultRow"}).append(V("<div>",{class:"zgs19_gs"+C+"ResultCell1"}).append(V("<div>",{class:"zgs19_gsUniIconHolder"}).append(p))).append(V("<div>",{class:"zgs19_gs"+C+"ResultCell2"}).append(V("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl"}).append(V("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(V("<span>",{gslabel:G.getI18NMsg("gs.last_created"),gstitle:y}).text(y))).append(V("<div>",{class:"zgs19_gsResultTitle zgs19_gsfl zgs19_gsOverflow "+B}).append(V("<a>",{gs:"resultTitle",istip:!0,href:z,target:"_blank",rel:"noopener noreferrer",gslabel:W.modNameVsTitle[w],gstitle:P}).text(P))).append(e)).append(V("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl zgs19_gsConnectFooterTxt"}).append(V("<div>",{class:"zgs19_gsContactEmail zgs19_gsMxWid75Per zgs19_gsOverflow zgs19_gsfl"}).append(V("<span>",{gslabel:G.getI18NMsg("gs.search.sevice_docs_createdBy"),gstitle:I,istip:!0}).text(I))).append(h)).append(V("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl zgs19_gsConnectFooterTxt"}).append(j).append(t).append(o).append(s).append(n).append(i).append(a).append(r)))}catch(e){G.throwClientError("Error while rendering learn search results in getHtmlTemplate, servicename :"+v+" Ex:",e)}return H},W)}(zgssearch),function(d){var p,u=window._jQueryGS,h=d.getGSConstantObj()||{};d.gsbooksresults=(p=void 0,(p=d.gsbooksresults||{}).getHtmlTemplate=function(e,s,t,a,r,o,i,n){var l=n.hasOwnProperty("type")?n.type:"Search",g=!n.hasOwnProperty("filters")||n.filters,n=e.modules||"",e=p.getBooksResTemplate(r,n,e,s,t,g,l);if(0<Object.keys(e).length){t="",g="";return"contacts"===n?g="zgs19_gsfl zgs19_gsResultsUniIcons zgs19_gsResNoUserPhoto":(g="zgs19_gsResultIconText zgs19_gsfl "+p.getBooksRandColor(o),s=d.getFilterData(r,"modules","data",n,s),t=d.Utils.getIconFromTxt(s)),u("<div>",{class:"zgs19_gs"+l+"ResultRow"}).append(u("<div>",{class:"zgs19_gs"+l+"ResultCell1"}).append(u("<div>",{class:"zgs19_gsUniIconHolder"}).append(u("<span>",{class:g,gs:"resultMenuItem"}).text(t)))).append(u("<div>",{class:"zgs19_gs"+l+"ResultCell2"}).append(e.row1||"").append(e.row2||""))}},p.getBooksRandColor=function(e){var s=["zgs19_gs69C310Col","zgs19_gsF54746Col","zgs19_gsB148F3Col","zgs19_gs5b63f1Col","zgs19_gsdc970fCol","zgs19_gs2EA6B5Col",,"zgs19_gs707070Col"];return s[e%s.length]},p.getBooksResTemplate=function(e,s,t,a,r,o,i){var n={},l="",g=d.isMultiSelectResults(e,"modules","all"),c=d.getFilterData(e,"modules","data",s,a);switch(o&&(e===h.ALL||d.multiPageEnabled||g)?l=u("<span>",{class:"zgs19_hvr_underlineHeader"}).append(u("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter1",gslabel:d.getI18NMsg("gs.search.filter_through_module"),gstitle:c,service:e,acc_id:a,gs:e+"Modules",fId:s}).text(c)):"Search"!==i&&(l=u("<span>",{class:"zgs19_hvr_underlineHeader"}).append(u("<span>",{class:"zgs19_gsOverflow zgs19_gsMxWid80Per zgs19_gsCurDefault",gslabel:d.getI18NMsg("gs.search.multi.module"),gstitle:c}).text(c))),s){case"contacts":n=p.getBooksContactRes(t,l,r);break;case"estimates":case"invoices":case"creditnotes":n=p.getBooksResTemp(t,l,s,r);break;case"customerpayments":n=p.getBooksCustomerpaymentsRes(t,l,r);break;case"recurring_invoices":n=p.getBooksRecurringInvoicesRes(t,l,r);break;case"items":n=p.getBooksItemRes(t,l,r)}return n},p.getBooksContactRes=function(e,s,t){var a={},r=e.outstanding_receivable||"",o=e.name||"";(r||o)&&(a.icon_text=o||"",n=d.getI18NMsg("gs.search.service_books.outstanding"),a.row1=u("<div>",{class:"zgs19_gsSearchResultTempl1"}).append(u("<div>",{class:"zgs19_gsBooksResT1R1C2 zgs19_gsfr zgs19_gsOverflow"}).append(u("<span>",{gslabel:n,gstitle:r}).text(r))).append(u("<div>",{class:"zgs19_gsBooksResT1R1C1 zgs19_gsWid72Per zgs19_gsOverflow"}).append(u("<a>",{gs:"resultTitle",href:t,target:"_blank",rel:"noopener noreferrer",gslabel:d.getI18NMsg("gs.search.service_people.name"),gstitle:o,istip:!0}).text(o))));var i=e.email||"",n=e.phone||e.mobile||"",r=""!==s?" zgs19_gsWid72Per ":" zgs19_gsWid100Per ";return a.row2=u("<div>",{class:"zgs19_gsSearchResultTempl1"}).append(u("<div>",{class:"zgs19_gsResRightFilter zgs19_gsMxWid30Per zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(s)),(i||n)&&(t=d.getI18NMsg("common.email"),o="",n&&(s=e.hasOwnProperty("phone")?d.getI18NMsg("common.phone"):d.getI18NMsg("common.mobile"),e=e.hasOwnProperty("phone")?"zgs18_phone":"zgs18_mobile",o=u("<div>",{class:"zgs19_gsBooksResT1R2C1C1 zgs19_gsOverflow "+e,gslabel:s,gstitle:n}).append(u("<span>").text(n))),a.row2.append(u("<div>",{class:"zgs19_gsBooksResT1R2C1 zgs19_gsOverflow "+r}).append(u("<div>",{class:"zgs19_gsBooksResT1R2C1C1 zgs19_gsOverflow",gslabel:t,gstitle:i}).text(i)).append(o))),a},p.getBooksResTemp=function(e,s,t,a){var r={},o=e.amt||"",i=e.name||"";(i||o)&&(r.icon_text=i||"",r.row1=u("<div>",{class:"zgs19_gsSearchResultTempl1"}).append(u("<div>",{class:"zgs19_gsBooksResT1R1C2 zgs19_gsfr zgs19_gsOverflow"}).append(u("<span>",{gslabel:d.getI18NMsg("gs.search.service_books.amount"),gstitle:o}).text(o))).append(u("<div>",{class:"zgs19_gsBooksResT1R1C1 zgs19_gsWid72Per zgs19_gsOverflow"}).append(u("<a>",{gs:"resultTitle",href:a,target:"_blank",rel:"noopener noreferrer",gslabel:d.getI18NMsg("gs.search.service_books.billto"),gstitle:i,istip:!0}).text(i))));var n=e.date||"",o=e.status||"",a=e.refname||"",i=""!==s?" zgs19_gsWid72Per ":" zgs19_gsWid100Per ";if(r.row2=u("<div>",{class:"zgs19_gsSearchResultTempl1"}).append(u("<div>",{class:"zgs19_gsResRightFilter zgs19_gsMxWid28Per zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(s)),a||n||o){var e="",s="",l="";switch(t){case"invoices":l=d.getI18NMsg("gs.search.service_books.invoiceno");break;case"estimates":l=d.getI18NMsg("gs.search.service_books.estimateno");break;case"creditnotes":l=d.getI18NMsg("gs.search.service_books.creditnoteno")}t=a&&o?"zgs19_gsMxWid30Per":"zgs19_gsWid72Per";a&&(e=u("<div>",{class:"zgs19_gsBooksResT1R2C1C22 zgs19_gsOverflow "+t,gslabel:d.getI18NMsg("gs.search.filter.dueDate"),gstitle:n}).text(n)),o&&(s=u("<div>",{class:"zgs19_gsBooksResT1R2C1C22 zgs19_gsOverflow "+t,gslabel:d.getI18NMsg("common.status"),gstitle:o}).text(o)),r.row2.append(u("<div>",{class:"zgs19_gsBooksResT1R2C1 zgs19_gsOverflow "+i}).append(u("<div>",{class:"zgs19_gsBooksResT1R2C1C1",gslabel:l,gstitle:a,istip:!0}).text(a)).append(e).append(s))}return r},p.getBooksCustomerpaymentsRes=function(e,s,t){var a={},r=e.amt||"",o=e.name||"";(o||r)&&(a.icon_text=o||"",a.row1=u("<div>",{class:"zgs19_gsSearchResultTempl1"}).append(u("<div>",{class:"zgs19_gsBooksResT1R1C2 zgs19_gsfr zgs19_gsOverflow"}).append(u("<span>",{gslabel:d.getI18NMsg("gs.search.service_books.amount"),gstitle:r}).text(r))).append(u("<div>",{class:"zgs19_gsBooksResT1R1C1 zgs19_gsWid72Per zgs19_gsOverflow"}).append(u("<a>",{gs:"resultTitle",href:t,target:"_blank",rel:"noopener noreferrer",gslabel:d.getI18NMsg("gs.search.service_books.billto"),gstitle:o,istip:!0}).text(o))));var i=e.date||"",n=e.pmode||"",t=e.pnumber||"",o=""!==s?" zgs19_gsWid70Per ":" zgs19_gsWid100Per ",e=""!==s?"zgs19_gsMxWid43Per":"zgs19_gsMxWid45Per";return a.row2=u("<div>",{class:"zgs19_gsSearchResultTempl1"}).append(u("<div>",{class:"zgs19_gsResRightFilter zgs19_gsMxWid30Per zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(s)),(r||n)&&a.row2.append(u("<div>",{class:"zgs19_gsBooksResT1R2C1 zgs19_gsOverflow "+o}).append(u("<div>",{class:"zgs19_gsBooksResT1R2C1C1 zgs19_gsOverflow zgs19_gsMxWid30Per",gslabel:d.getI18NMsg("gs.search.service_books.paymentnumber"),gstitle:t}).text(t)).append(u("<div>",{class:"zgs19_gsBooksResT1R2C1C22 zgs19_gsOverflow "+e,gslabel:d.getI18NMsg("gs.search.service_books.paymentdate"),gstitle:i}).text(i)).append(u("<div>",{class:"zgs19_gsBooksResT1R2C1C22 zgs19_gsOverflow "+e,gslabel:d.getI18NMsg("gs.search.service_books.paymentmode"),gstitle:n,istip:!0}).text(n))),a},p.getBooksRecurringInvoicesRes=function(e,s,t){var a={},r=e.amt||"",o=e.name||"",i=e.cname||"";(o||r)&&(a.icon_text=o||"",a.row1=u("<div>",{class:"zgs19_gsSearchResultTempl1"}).append(u("<div>",{class:"zgs19_gsBooksResT1R1C2 zgs19_gsfr zgs19_gsOverflow"}).append(u("<span>",{gslabel:d.getI18NMsg("gs.search.service_books.amount"),gstitle:r}).text(r))).append(u("<div>",{class:"zgs19_gsBooksResT1R1C1 zgs19_gsWid72Per zgs19_gsOverflow"}).append(u("<a>",{gs:"resultTitle",href:t,target:"_blank",rel:"noopener noreferrer",gslabel:d.getI18NMsg("gs.search.service_books.recurrencename"),gstitle:o,istip:!0}).text(o)).append(u("<span>",{gslabel:d.getI18NMsg("gs.search.service_books.custname"),gstitle:i,istip:!0}).text(" - "+i))));t=""!==s?" zgs19_gsMxWid74Per ":" zgs19_gsWid100Per ",o=""!==s?"zgs19_gsMxWid22Per":"zgs19_gsMxWid26Per";a.row2=u("<div>",{class:"zgs19_gsSearchResultTempl1"}).append(u("<div>",{class:"zgs19_gsResRightFilter zgs19_gsMxWid35Per zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(s));i=e.date||"",s=e.frequency||"",e=e.status||"";return(i||s||e)&&a.row2.append(u("<div>",{class:"zgs19_gsBooksResT1R2C1 zgs19_gsOverflow "+t}).append(u("<div>",{class:"zgs19_gsBooksResT1R2C1C1 zgs19_gsOverflow "+o,gslabel:d.getI18NMsg("gs.search.service_books.nextinvoiceon"),gstitle:i}).text(i)).append(u("<div>",{class:"zgs19_gsBooksResT1R2C1C22 zgs19_gsOverflow "+o,gslabel:d.getI18NMsg("gs.search.service_books.recurringperiod"),gstitle:s,istip:!0}).text(s)).append(u("<div>",{class:"zgs19_gsBooksResT1R2C1C22 zgs19_gsOverflow "+o,gslabel:d.getI18NMsg("common.status"),gstitle:e}).text(e))),a},p.getBooksItemRes=function(e,s,t){var a={},r=e.name||"";r&&(a.icon_text=r||"",n=e.rate_or_source||"",a.row1=u("<div>",{class:"zgs19_gsSearchResultTempl1"}).append(u("<div>",{class:"zgs19_gsBooksResT1R1C2 zgs19_gsfr zgs19_gsOverflow"}).append(u("<span>",{gslabel:d.getI18NMsg("gs.search.service_books.items_selling_price"),gstitle:n}).text(n))).append(u("<div>",{class:"zgs19_gsBooksResT1R1C1 zgs19_gsWid72Per zgs19_gsOverflow"}).append(u("<a>",{gs:"resultTitle",href:t,target:"_blank",rel:"noopener noreferrer",gslabel:d.getI18NMsg("gs.search.service_books.items_name"),gstitle:r,istip:!0}).text(r))));var o,i=e.sku||"",n=e.soh||"",t=e.u||"",r=e.itemtype||"",e=!1;return(i||n||t||r)&&(a.row2Fields=u("<div>",{class:"zgs19_gsBooksResT1R2C1 zgs19_gsOverflow "+(""!==s?" zgs19_gsWid72Per ":" zgs19_gsWid100Per ")})),i&&(e=!0,a.row2Fields.append(u("<div>",{class:"zgs19_gsBooksResT1R2C1C1 zgs19_gsfl zgs19_gsOverflow",gslabel:d.getI18NMsg("gs.search.service_books.items_sku"),gstitle:i}).text(i))),(n||t)&&(o=e?"zgs19_gsBooksResT1R2C1C22":"zgs19_gsBooksResT1R2C1C1",e=!0,a.row2Fields.append(u("<span>",{class:o+" zgs19_gsMxWid26Per zgs19_gsfl zgs19_gsOverflow",gslabel:d.getI18NMsg("gs.search.service_books.stock_on_hand"),gstitle:n+" "+t}).text(n+" "+t))),r&&(o=e?"zgs19_gsBooksResT1R2C1C22":"zgs19_gsBooksResT1R2C1C1",e=!0,a.row2Fields.append(u("<span>",{class:o+" zgs19_gsfl zgs19_gsOverflow",gslabel:d.getI18NMsg("gs.search.service_books.items_item_type"),gstitle:r}).text(r))),a.row2=u("<div>",{class:"zgs19_gsSearchResultTempl1"}).append(u("<div>",{class:"zgs19_gsResRightFilter zgs19_gsMxWid30Per zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(s)),a.row2.append(a.row2Fields),a},p)}(zgssearch),function(v){var e,f=window._jQueryGS;v.gscampaignresults=(e=void 0,(e=v.gscampaignresults||{}).getHtmlTemplate=function(e,s,t,a,r,o,i,n){var l,g,c=n.hasOwnProperty("type")?n.type:"Search",d="",p="",u="",h="",_="",m="",z="";return"1"==s?(z=e.cct||"",_=e.cst||"",p=e.title=v.replaceHTMLEntity(e.email)||"",d="zgs18_gsCampIcon",h=v.getI18NMsg("gs.search.service_campaigns"),u=v.getI18NMsg("common.subject"),m=v.getI18NMsg("common.status")):"2"==s?(l=e.c_mail||"",g="null"!=(g=e.ln.trim()||"")?g:"",(n="null"!=(n=e.fNam.trim()||"")?n:"")||g?p=e.title=(p=n+" "+g).trim():l&&(p=e.title=l.replace(/@.*$/,"")),d="zgs18_gsCampContIcon",_=l||e.ph||"",u=v.getI18NMsg("gs.search.service_people.name"),h=v.getI18NMsg("common.contact"),m=l?v.getI18NMsg("common.email"):v.getI18NMsg("common.mobile")):"3"==s&&(z=e.ct||"",_=e.oNam||"",p=e.title=v.replaceHTMLEntity(e.lNam)||"",d="zgs18_gsCampListIcon",h=v.getI18NMsg("gs.search.campaign.callout.lists"),u=v.getI18NMsg("gs.search.service_people.name"),m=v.getI18NMsg("common.description")),f("<div>",{class:"zgs19_gs"+c+"ResultRow"}).append(f("<div>",{class:"zgs19_gs"+c+"ResultCell1"}).append(f("<div>",{class:"zgs19_gsUniIconHolder"}).append(f("<span>",{class:d,gstitle:h,gs:"resultMenuItem"})))).append(f("<div>",{class:"zgs19_gs"+c+"ResultCell2"}).append(f("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(f("<span>",{gslabel:v.getI18NMsg("common.time"),gstitle:z}).text(z))).append(f("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow"}).append("").append(f("<a>",{gs:"resultTitle",istip:!0,href:t,target:"_blank",rel:"noopener noreferrer",gslabel:u,gstitle:p}).text(p))).append(f("<div>",{class:"zgs19_gsResultAuthor zgs19_gsOverflow"}).append(f("<span>",{gslabel:m,gstitle:_,istip:!0}).text(_))))},e)}(zgssearch),function(w){var u,D=window._jQueryGS,E=w.getGSConstantObj()||{};w.gsworkdriveresults=(u=void 0,(u=w.gsworkdriveresults||{}).RESULTS_WIDTH={},u.getHtmlTemplate=function(e,s,t,a,r,o,i,n){var l=n.hasOwnProperty("type")?n.type:"Search",g=!n.hasOwnProperty("filters")||n.filters,c=e.auth||"",d=e.dN||"",p=e.time||"",u=e.imgIcon,h=w.getDocResTT(u);let _=e.fId||"";var m=w.editionTypeForWD;let z="",v="",f="",C="";n=e.resType,r=w.getFilterObj(r);"ENTERPRISE"===m?("privatespace"===n?z="1":"workspace"===n?(f=e.fName,"true"===e.isOrgF?z="3":(z=e.tId,C=r.folders.data[z])):n||(z="2"),v=r.teams.data[s][z]):"TEAM"===m&&("privatespace"===n?(f=w.getI18NMsg("gs.search.filter.myfolders"),_="1"):"workspace"===n?(f=e.fName,C=r.folders.data[s]):n||(f=w.getI18NMsg("common.shared_with_me"),_="2")),""!==C&&(w.gsfilters.isWorkDriveFolderExist(C,_)||(S=Object.keys(C).length,C[S]={key:_,name:f}));var S,n=w.isMultiSelectResults(E.WORKDRIVE,"folders","0");let b,y="",I="",O="";"ENTERPRISE"===m?(""!==f&&(y=D("<span>",g&&n?{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_gsMxWid80Per",gslabel:w.getI18NMsg("gs.search.filter_through_folder"),gstitle:f,istip:!0,gsfilter:"leftFilter",gs:"workDriveFolders",fId:_,teamId:z}:{class:"zgs19_gsOverflow  zgs19_gsCurDefault zgs19_gsWid90Per",gslabel:w.getI18NMsg("gs.search.result.document.folder"),gstitle:f}).text(f),b=w.getI18NMsg("gs.search.service_people.status.in",!0),O=D("<div>",{class:"zgs19_gsContactNumber zgs19_gsOverflow",gs:"folderTitle"}).append(D("<span>",{class:"zgs19_gsResIntxt zgs19_gsOverflow zgs19_gsfl"}).text(b)).append(y)),S=w.isMultiSelectResults(E.WORKDRIVE,"teams","0"),I=g&&S?D("<span>",{class:"zgs19_hvr_underlineHeader"}).append(D("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter2",gslabel:w.getI18NMsg("gs.search.filter_through_team"),gstitle:v,gs:"workDriveTeams",gsfilter:"rightFilter",teamId:z,istip:!0}).text(v)):D("<span>",{class:"zgs19_hvr_underlineHeader"}).append(D("<span>",{class:"zgs19_gsfr zgs19_gsOverflow zgs19_hvr_underline_filter zgs19_gsCurDefault",gslabel:w.getI18NMsg("gs.search.filter_label_team"),gstitle:v,istip:!0}).text(v))):"TEAM"===m&&(I=g&&n?D("<span>",{class:"zgs19_hvr_underlineHeader"}).append(D("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter2",gslabel:w.getI18NMsg("gs.search.filter_through_folder"),gstitle:f,gs:"workDriveFolders",gsfilter:"rightFilter",fId:_,acc_id:s}).text(f)):D("<span>",{class:"zgs19_hvr_underlineHeader"}).append(D("<span>",{class:"zgs19_gsOverflow zgs19_hvr_underline_filter zgs19_gsCurDefault",gslabel:w.getI18NMsg("gs.search.result.document.folder"),gstitle:f}).text(f)));e=e.isF||"";let P="";return P=e&&"true"===e?w.getI18NMsg("gs.search.result.document.folderName"):w.getI18NMsg("gs.search.result.document.documentName"),D("<div>",{class:"zgs19_gs"+l+"ResultRow"}).append(D("<div>",{class:"zgs19_gs"+l+"ResultCell1"}).append(D("<div>",{class:"zgs19_gsUniIconHolder"}).append(D("<span>",{class:"zgs19_gsResultsUniIcons "+u,gstitle:h,gs:"resultMenuItem"})))).append(D("<div>",{class:"zgs19_gs"+l+"ResultCell2"}).append(D("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl"}).append(D("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(D("<span>",{gslabel:w.getI18NMsg("gs.search.sevice_docs_lastModifiedTime"),gstitle:p}).text(p))).append(D("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow"}).append(D("<a>",{gs:"resultTitle",istip:!0,href:t,target:"_blank",rel:"noopener noreferrer",gslabel:P,gstitle:d}).text(d)))).append(D("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl"}).append(D("<div>",{gs:"gsFilterIcon",class:"zgs19_gsMxWid78Per zgs19_gsWid78Per zgs19_gsfl zgs19_gsOverflow"}).append(D("<div>",{class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl"}).append(D("<span>",{class:"zgs19_gsfl zgs19_gsOverflow zgs19_gsMxWid100Per",gslabel:w.getI18NMsg("common.author"),gstitle:c,istip:!0}).text(c))).append(O)).append(D("<div>",{class:"zgs19_gsResRightFilter zgs19_gsOverflow zgs19_gsWid20Per",gs:"gsOverflowFooter"}).append(I))))},u.setResultsWidthInfo=function(e,s,t){u.RESULTS_WIDTH[e]=u.RESULTS_WIDTH[e]||{},null!=s&&"0"!==s?u.RESULTS_WIDTH[e][s]=t:u.RESULTS_WIDTH[e]=t},u.getResultsWidthInfo=function(e,s){e=u.RESULTS_WIDTH[e]||{};return e=void 0!==s&&"0"!==s?e[s]||{}:e},u.setFooterElementsWidth=function(e){var s,t,a=e.service_name,r=e.total_results_area_width,o=e.account_id,i=u.getResultsWidthInfo(a,o),e=i.current_last_elem_id||"",n="",l=Math.floor((r-50-15)/100*80),g={};for(t in(""===e?(s="zgs20_gs"+a+"Results",void 0!==o&&w.multiPageEnabled?D("#"+(s="zgs20_gs"+o+"Results")+" >div"):D("#"+s+" >div")):(s="zgs20_gs"+a+"Results",void 0!==o&&w.multiPageEnabled&&(s="zgs20_gs"+o+"Results"),D("#"+s).find("#"+e).first().nextAll())).each(function(e){var s=D(this).attr("id"),t=D(this).find(".zgs19_gsContactNumber"),a=t.length,r=0<a?D(D(t)[0]).outerWidth()+15:0,t=1<a?D(D(t)[1]).outerWidth()+15:0;t=l<=r?(o=t/(r+t)*100,r=Math.floor(l/100*(r/(r+t)*100)),Math.floor(l/100*o)):l-r;var o=[];o.push(r),o.push(t),g[s]=o,n=s}),g){var c=D("#"+t),d=g[t],p=c.find(".zgs19_gsContactNumber"),c=p.length;0<c&&(D(D(p)[0]).css("max-width",d[0]+"px"),1<c&&D(D(p)[1]).css("max-width",d[1]+"px"))}(i={}).results_area_width=r,i.results_icon_width=50,i.prev_last_element_id=e,i.current_last_elem_id=n,u.setResultsWidthInfo(a,o,i)},u)}(zgssearch),function(C,e){var S,b=e._jQueryGS,y=(C.getGSConstantObj(),e.document);C.gsslackres=(S=void 0,(S=C.gsslackres||{}).getIconInfo=function(e){var s={},t=e.module_id||"",a=e.result_type||"",r="",o="",i="",n="span";return 2==t||3==t||4==t?(r="resultMenuItem",i=(e.hasOwnProperty("is_priv")&&e.is_priv?e.is_priv:"")?"zgs18_gsSlackPrivateChannel":"zgs18_gsSlackPublicChannel",3==t?o=C.getI18NMsg("gs.search.filter.cliq.channel"):2!=t&&4!=t||(o=C.getI18NMsg("gs.search.result.slack.callout.group"))):1!=t&&5!=t||(r="gsUserPhoto",n="img"),2==a&&(e=e.servImg||"",o=C.getDocResTT(e),i="zgs19_gsResultsUniIcons "+e,r=""),s.icon_title=o,s.group_icon=i,s.attach_icon=r,s.tag=n,s},S.getHtmlTemplate=function(e){var s=e.date||"",t=e.module_id||"",a=e.module_name||"",r=e.link||"",o=C.Utils.createElement("div","","zgs19_gsSlkResultAuthor zgs19_gsOverflow"),i=e.result_type||"",n=S.getIconInfo(e),l=n.icon_title,g=n.group_icon,c=n.attach_icon,d=n.tag,p="",u="",h=C.I18N.getValue("gs.search.result.mail.resultfooter.sender"),_=e.cname||""||e.p_uname||e.name||e.cby||"";C.isListViewSearch()?(z=e.cby||"",(n=e.mcount||0)&&2<n?(p=n+" "+C.getI18NMsg("gs.search.result.chat.callout.participants"),h=C.getI18NMsg("gs.search.filter.cliq.participantsCount"),u=n):""!==z&&1!=t?(p=u=z,h=C.getI18NMsg("gs.search.sevice_docs_createdBy")):u=p=C.getI18NMsg("gs.search.filter.cliq.withme")):(_=e.p_uname||e.name||"",p=(u=e.h_uname||"")+":");var m=e.title=C.replaceHTMLEntity(_)||"",z=!(!e.hasOwnProperty("is_cu")||!e.is_cu)&&e.is_cu,_=e.pre||e.txt||"",_=C.replaceHTMLEntity(_);u&&(z&&(p=(u=C.getI18NMsg("common.you"))+":"),(C.isListViewSearch()||""!=_&&!C.isListViewSearch())&&(z=p.length,z+=15,v=_.length,Math.floor(z/(z+v)*75),v=Math.floor(v/(z+v)*75),b(o).append(b("<span>",{class:"zgs19_gsCqFo1 zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl",gslabel:h,gstitle:u}).append(y.createTextNode(p))).append(b("<span>",{class:"zgs19_gsCqFo2 zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl",gslabel:u,style:"max-width:"+v+"%"}).append(y.createTextNode(_)))));var v=C.resultUtil.querySlt(y,"#iconTemplate"),_=C.resultUtil.querySlt(v,"div"),v=y.importNode(_,!0);"img"==d?v.querySelector("span").outerHTML="":v.querySelector("img").outerHTML="",C.resultUtil.setAttVal(v,"class",g,d),C.resultUtil.setAttVal(v,"gs",c,d),C.resultUtil.setAttVal(v,"gstitle",l,d);d=C.resultUtil.querySlt(y,"#infoTemplate"),_=C.resultUtil.querySlt(d,"div"),d=y.importNode(_,!0);C.resultUtil.setAttVal(d,"class","zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow","#temp1"),d.querySelector("#temp1").innerHTML=s,C.resultUtil.setAttVal(d,"class","zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow","#temp2");r=b(C.Utils.createElement("div","temp2","zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow")).append(C.Utils.createElement("a","","",{gs:"resultTitle",href:r,target:"_blank",rel:"noopener noreferrer"})).append(b(C.Utils.createElement("div","temp2Span")).append(b(C.Utils.createElement("span","","zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl"))).append(b(C.Utils.createElement("span","","",{istip:!0}))));d.querySelector("#temp2").outerHTML=r[0].outerHTML,2==i||3==i?(f=d.querySelector("#temp2").querySelectorAll("span"),C.resultUtil.setAttVal(f[0],"class","zgs18_gsAttachIcon zgs19_gsfl"),i=d.querySelector("#temp2").querySelector("a"),b(i).text(m),b(f[1]).append(i),e.hasOwnProperty("shared")&&e.shared&&d.querySelector("#temp2Span").appendChild(C.Utils.createElement("span","","zgs18_gsSharedIcon",{gstitle:C.I18N.getValue("gs.search.result.document.callout.sharedbyName",[e.h_uname||""])}))):(e=d.querySelector("#temp2"),b(e.querySelector("a")).text(m),d.querySelector("#temp2Span").outerHTML=""),d.querySelector("#temp3").outerHTML="";_=y.importNode(_,!0);C.resultUtil.setAttVal(_,"class","zgs19_gsResRightFilter zgs19_gsfr zgs19_gsOverflow","#temp1");var f=_.querySelector("#temp1").querySelectorAll("span");C.resultUtil.setAttVal(f[0],"class","zgs19_hvr_underlineHeader"),f[1].innerHTML=a.toString(),C.resultUtil.setAttVal(_,"class","zgs19_gsOverflow","#temp2");a=_.querySelector("#temp2").querySelector("span");C.resultUtil.setAttVal(a,"class","zgs19_gsOverflow zgs19_gsfl zgs19_gs_crmResultHeader"),a.innerHTML=o.outerHTML,_.querySelector("#temp3").outerHTML="";return{iconDiv:v,infoDiv:d,infoDiv1:_,infoDiv2:""}},S)}(zgssearch,window),function(l){var e;window._jQueryGS,l.getGSConstantObj();l.gso365results=(e=void 0,(e=l.gso365results||{}).getHtmlTemplate=function(e,s,t,a,r,o,i,n){return l.Template.getMailTemplate(e,t,s,{sender:"sender_name",display_time:"date",folder_id:"folderId",folder_name:"folderName",has_attachment:"hasAttachments",subject:"subject",isBold:"isRead"},n)},e)}(zgssearch),zgssearch.resultUtil={setAttVal:function(e,s,t,a){e&&s&&(a?zgssearch.resultUtil.querySlt(e,a):e).setAttribute(s,t)},querySlt:function(e,s,t){if(e&&s)return t?e.querySelectorAll(s):e.querySelector(s)}},function(_){var m,z=window._jQueryGS,o=_.getGSConstantObj()||{};_.gscalendarresults=(m=void 0,(m=_.gscalendarresults||{}).generateCalendarResNodeTemplate=function(e,s){var t=document.querySelector("#"+s);null==t&&(t=z("<template>",{id:s}).append(z("<div>",{class:"zgs19_gs"+e+"ResultRow"}).append(z("<div>",{class:"zgs19_gs"+e+"ResultCell1 zgs19_gsOverflow"}).append(z("<div>",{class:"zgs19_gsCalcIconHolder"}).append(z("<div>",{class:"zgs19_gsCalcDateHolder",gs:"eventDateInfo"})).append(z("<div>",{class:"zgs19_gsCalcMonthHolder",gs:"eventMonthInfo"})))).append(z("<div>",{class:"zgs19_gs"+e+"ResultCell2"}).append(z("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid100Per zgs19_gsOverflow "}).append(z("<a>",{id:"zgs20_gsEventTitleTxt",gs:"resultTitle",istip:!0,href:"",target:"_blank",rel:"noopener noreferrer",gstitle:""}))).append(z("<div>",{class:"zgs19_gsContactEmail zgs19_gsWid97Per"}).append(z("<span>",{class:"zgs18_gsDateIcon zgs19_gsfl"})).append(z("<div>",{class:"zgs19_gsOverflow zgs19_gsfl ",gslabel:_.getI18NMsg("gs.search.service_books.startdate"),gs:"eventstartDateInfo"})).append(z("<div>",{class:"zgs18_gsRecurrenceIcon zgs19_gsFontWeightBold zgs19_gsfl zgs19_gsDisplayNone",gs:"recurrenceEvent",gstitle:_.getI18NMsg("gs.search.calendar.results.recurringevent")}))).append(z("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl zgs19_gsConnectFooterTxt"}).append(z("<div>",{id:"zgs20_gsEventHostTxt",class:" zgs19_CalcAuthorTxt zgs19_gsfl zgs19_gsOverflow ",gs:"eventHostInfo"})).append(z("<div>",{class:"zgs19_CalcLocation zgs19_gsfl zgs19_gsOverflow",gs:"eventLocationInfo"})).append(z("<div>",{class:"zgs19_gsResRightFilter zgs19_gsWid20Per",gs:"gsOverflowFooter"}).append(z("<span>",{class:"zgs19_hvr_underlineHeader",gs:"calServiceInfo"})))))),z("#zgs20_globalsearch").append(t),z("#"+s).css("display","none"))},m.getHtmlTemplate=function(e,s,t,a,r,o,i,n){try{var l=n.hasOwnProperty("type")?n.type:"Search",g=n.hasOwnProperty("templateId")?n.templateId:"zgs20_gscalendarResTemplate",c=!n.hasOwnProperty("filters")||n.filters;m.generateCalendarResNodeTemplate(l,g);var d=document.querySelector("#"+g),p=".zgs19_gs"+l+"ResultRow",u=d.querySelector(p),h=z(document.importNode(u,!0));return _.setGSTagElems(h),m.getHtmlTemplate.eventIconElem(h,e),m.getHtmlTemplate.eventNameElem(h,e,t),m.getHtmlTemplate.eventDateElem(h,e),m.getHtmlTemplate.eventDetailsElem(h,e),m.getHtmlTemplate.serviceElem(h,s,e,c),h}catch(e){_.throwClientError("Error while template creation for the servicename :"+r+" Ex:",e)}},m.getHtmlTemplate.eventIconElem=function(e,s){var t=(s.sT||"").split(","),s=(t=t[0].split(" "))[1],t=(t=t[0]).charAt(0).toUpperCase()+t.slice(1);z(e.eventDateInfo).text(s),z(e.eventMonthInfo).text(t)},m.getHtmlTemplate.eventNameElem=function(e,s,t){s=s.t||_.getI18NMsg("gs.search.service_connect.callout.noTitle"),e=z(e.resultTitle);e.attr("href",t),_.getTargetElem("zgs20_gsEventTitleTxt").setAttribute("gslabel",_.getI18NMsg("common.eventtitle")),e.attr("gstitle",s),z(e).text(s)},m.getHtmlTemplate.eventDateElem=function(e,s){var t="",a=z(e.eventstartDateInfo),r=s.clr||"";t="1"===r?s.hasOwnProperty("STM")?(e=_.convertDurationText(s.STM-s.CTM),m.formStartDateText(e)):_.getI18NMsg("gs.search.calendar.callout.started"):(t=s.sT||"").replace(/-/g,String.fromCharCode(160)),a.attr("gstitle",s.sT||""),a.addClass(["zgs19_gsCompletedEventColor","zgs19_gsTodayEventColor","zgs19_gsTomorrowEventColor","zgs19_gsUpcomingEventColor"][r]),a.text(t)},m.getHtmlTemplate.eventDetailsElem=function(e,s){var t=s.host||"",a=s.loc||"",r=z(e.eventHostInfo),o=z(e.eventLocationInfo),s=s.recId||"";""!==t&&(_.getTargetElem("zgs20_gsEventHostTxt").setAttribute("gslabel",_.getI18NMsg("gs.search.calendar.results.host")),r.attr("gstitle",t),r.text(t)),""!==a?(o.append(z("<span>",{class:"zgs18_crm_location"})),o.append(z("<span>",{class:"zgs19_gsContactEmail"}).text(a)),""==t&&o.addClass("zgs19_gsMxWid80Per")):r.addClass("zgs19_gsCalMW10Pxof80"),s&&z(e.recurrenceEvent).removeClass("zgs19_gsDisplayNone")},m.getHtmlTemplate.serviceElem=function(e,s,t,a){var r=t.sId||"",t=z(e.calServiceInfo),e=_.isMultiSelectResults(o.CALENDAR,"services","0");a&&e?t.append(z("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter",gs:"calendarServices",gslabel:_.getI18NMsg("gs.search.filter_through_calendar"),gstitle:_.getCalendarServiceName(r),fId:r,acc_id:s}).text(_.getCalendarServiceName(r))):t.append(z("<span>",{class:"zgs19_gsOverflow zgs19_hvr_underline_filter zgs19_gsCurDefault",fId:r,acc_id:s}).text(_.getCalendarServiceName(r)))},m.formStartDateText=function(e){var s=_.getI18NMsg("gs.search.calendar.results.startsIn"),t=e[0],e=e[1];return 0<t&&(s+=" "+t,s+=1<t?" "+_.getI18NMsg("gs.search.calendar.results.hours"):" "+_.getI18NMsg("gs.search.calendar.results.hour")),0<e&&(s+=" "+e,s+=1<e?" "+_.getI18NMsg("gs.search.calendar.results.minutes"):" "+_.getI18NMsg("gs.search.calendar.results.minute")),s},m)}(zgssearch),function(_){var m,z=window._jQueryGS,i=_.getGSConstantObj()||{};_.gsnotebookresults=(m=void 0,(m=_.gsnotebookresults||{}).generateNotebookResNodeTemplate=function(e,s){var t,a,r,o,i,n,l=document.querySelector("#"+s);null===l&&(t=z("<span>",{gstitle:"",gs:"date",gslabel:""}),a=z("<a>",{gs:"resultTitle",istip:!0,href:"",target:"_blank",rel:"noopener noreferrer",gstitle:""}),r=z("<div>",{class:"zgs19_gsContactEmail zgs19_gsOverflow zgs19_gsfl",gs:"authorOuter"}).append(z("<span>",{gslabel:_.getI18NMsg("common.author"),gstitle:"",istip:!0,gs:"author"})),o=z("<div>",{class:"zgs19_gsResultSummary",gs:"summ"}),n=_.getI18NMsg("gs.search.service_people.status.in",!0),i=z("<div>",{class:"zgs19_gsResultNBName zgs19_gsfl zgs19_gsOverflow",gs:"nbN"}).append(z("<span>",{class:"zgs19_gsResIntxt zgs19_gsOverflow zgs19_gsfl",gstitle:n}).text(n)).append(z("<span>",{gslabel:_.getI18NMsg("gs.r.nb.notebook"),gs:"nbNameTxt"})),n=z("<span>",{class:"zgs19_hvr_underlineHeader",gs:"nbType"}),l=z("<template>",{id:s}).append(z("<div>",{class:"zgs19_gs"+e+"ResultRow"}).append(z("<div>",{class:"zgs19_gs"+e+"ResultCell1"}).append(z("<div>",{class:"zgs19_gsUniIconHolder",gs:"resultMenuItem"}))).append(z("<div>",{class:"zgs19_gs"+e+"ResultCell2"}).append(z("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl"}).append(z("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(t)).append(z("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow zgs19_gsNotebookResultTitle"}).append(a))).append(z("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl"}).append(o)).append(z("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl"}).append(r).append(i).append(z("<div>",{class:"zgs19_gsResRightFilter zgs19_gsMxWid20Per zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(n))))),z("#zgs20_globalsearch").append(l),z("#"+s).css("display","none"))},m.getHtmlTemplate=function(e,s,t,a,r,o,i,n){try{var l=n.hasOwnProperty("type")?n.type:"Search",g=n.hasOwnProperty("templateId")?n.templateId:"zgs20_gsNotebookResTemplate",c=!n.hasOwnProperty("filters")||n.filters;m.nbClient.process(e),m.generateNotebookResNodeTemplate(l,g);var d=document.querySelector("#"+g),p=".zgs19_gs"+l+"ResultRow",u=d.querySelector(p),h=z(document.importNode(u,!0));return _.setGSTagElems(h),m.getHtmlTemplate.constructAuthorElem(h,e),m.getHtmlTemplate.constructPhotoElem(h,e),m.getHtmlTemplate.constructNameElem(h,t,e),m.getHtmlTemplate.constructDateElem(h,e),m.getHtmlTemplate.constructSummaryElem(h),m.getHtmlTemplate.constructNotebookTypeElem(h,e,c),m.getHtmlTemplate.constructNotebookNameElem(h,e),h}catch(e){_.throwClientError("Error while template creation for the servicename :"+r+" Ex:",e)}},m.getHtmlTemplate.setValue=function(e,s,t,a,r){s=z(e[s]);r&&s.attr("gslabel",r),s.attr("gstitle",t),s.text(a)},m.getHtmlTemplate.constructAuthorElem=function(e,s){s=s.hasOwnProperty("owner_name")?s.owner_name:_.GSConstant.cun;m.getHtmlTemplate.setValue(e,"author",s,s)},m.getHtmlTemplate.constructPhotoElem=function(e,s){var t=m.nbClient.getThumbnailImage(),s=m.getNoteBookResTT(s.type).ncType;z(t).attr("gstitle",s),z(t).addClass("zgs19_gsNBthumbnail"),z(e.resultMenuItem).append(t)},m.getHtmlTemplate.constructNameElem=function(e,s,t){var a=m.nbClient.getTitle()||t.name||_.getI18NMsg("gs.r.nb.untitled"),t=""!==t.notecard_id&&void 0!==t.notecard_id?_.getI18NMsg("gs.r.nb.notes"):_.getI18NMsg("gs.r.nb.notebook"),e=z(e.resultTitle);e.attr("href",s),e.attr("gstitle",a),e.attr("gslabel",t),z(e).html("").text(a)},m.getHtmlTemplate.constructDateElem=function(e,s){var t=s.time||"",s=_.getI18NMsg("gs.search.sevice_docs_lastModifiedTime");m.getHtmlTemplate.setValue(e,"date",t,t,s)},m.getHtmlTemplate.constructSummaryElem=function(e){var s=m.nbClient.getDescription();""!==s&&null!=s?(z(e.summ).css("display","block"),z(e.summ).html("").text(s)):z(e.summ).css("display","none")},m.getHtmlTemplate.constructNotebookTypeElem=function(e,s,t){var a,r,o=_.getCurrentValue("modules",i.NOTEBOOK);"notebooks"!==o&&(a=_.isMultiSelectResults(i.NOTEBOOK,"notecardtype",o)&&_.checkIfKeyPresentInAdvanceSearch(i.NOTEBOOK,"notecardtype"),o=(r=m.getNoteBookResTT(s.type)).ncType,s=r.apiKey,r=z("<span>",{class:"zgs19_gsOverflow zgs19_gsfl zgs19_gsCurDefault",gstitle:_.getI18NMsg("gs.r.f.notecardtype")+": "+o}).text(o),t&&a&&(r=z("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter",gstitle:_.getI18NMsg("gs.search.filter_through")+": "+o,gs:"gsNotebookService",key:s,fkey:"notecardtype"}).text(o)),z(e.nbType).append(r))},m.getHtmlTemplate.constructNotebookNameElem=function(e,s){var t=s.notecard_id||"",s=s.nbN||"";""!==t&&""!==s?(z(e.nbN).css("display","block"),z(e.authorOuter).css("max-width","38%"),m.getHtmlTemplate.setValue(e,"nbNameTxt",s,s)):(z(e.authorOuter).css("width","80%"),z(e.nbN).css("display","none"))},m.getNoteBookResTT=function(e){var s="",t=""!==e&&void 0!==e?e.replace("note/",""):"";switch(e){case"note/notes":s=_.getI18NMsg("common.notes");break;case"note/notebooks":s=_.getI18NMsg("gs.f.nb.notebooks");break;case"note/favorite":s=_.getI18NMsg("gs.f.nb.favorite");break;case"note/text":case"note/mixed":t="text",s=_.getI18NMsg("gs.f.nb.text");break;case"note/checklist":s=_.getI18NMsg("gs.f.nb.checklist");break;case"note/image":s=_.getI18NMsg("gs.f.nb.photo");break;case"note/document":s=_.getI18NMsg("gs.f.nb.file");break;case"note/contact":s=_.getI18NMsg("gs.f.nb.contact");break;case"note/audio":s=_.getI18NMsg("gs.f.nb.audio");break;case"note/video":s=_.getI18NMsg("gs.f.nb.video");break;case"note/sketch":s=_.getI18NMsg("gs.f.nb.sketch");break;case"note/bookmark":s=_.getI18NMsg("gs.f.nb.link")}return{ncType:s,apiKey:t}},m)}(zgssearch),function(p){var u,h=window._jQueryGS;p.getGSConstantObj();p.gsgmailresults=(u=void 0,(u=p.gsgmailresults||{}).labelDetails={},u.getHtmlTemplate=function(e,s,t,a,r,o,i,n){let l="";p.searchObj.hasOwnProperty("advConfig")&&0<p.searchObj.advConfig.length&&"label"===p.searchObj.advConfig[0].name&&0!==p.searchObj.advConfig[0].value.length&&(l=p.searchObj.advConfig[0].value[0]);n=p.Template.getGmailTemplate(e,t,s,{sender:"From",display_time:"Date",labelDetails:"labelIds",subject:"Subject",isBold:"isRead",snippet:"snippet"},n,l);return u.labelDetails[o]=n.labelDetails,n.htmlTemplate},u.pushLabelsToSpace=function(s,t,a,r,o){let i=1;0<p.gscomponent.UIType&&!r&&(i=2);var e,n=s.attr("index");let l=u.labelDetails[n];"addUnreadLabel"==o&&(u.labelDetails[n],-1!==(e=u.labelDetails[n].findIndex(e=>"Unread"===e.id))?(e=u.labelDetails[n].splice(e,1)[0],u.labelDetails[n].unshift(e)):u.labelDetails[n].unshift({id:"Unread",name:"Unread"})),s=s.find(".zgs19_gsGmailFromAndLabelDetails");let g=h(s.get(0)).outerWidth(!0)-h(s.get(0)).find("#temp1").outerWidth(!0);r||h(s.get(0)).find("#temp2").css("width",g);for(let e=0;e<l.length;e++){var c=l[e];if("skipUnreadLabel"!=o||"Unread"!=c.id){labelDiv=p.Template.getGmailPeekLabelDiv(c,t,r),h(s.get(0)).find("#temp2Span").append(labelDiv),g-=h(h(s.get(0)).find("#temp2").children().find(".zgs19_gmailLabelPeekName").get(-1)).outerWidth(!0);var d=5*Math.floor(g/5)<=55,c=e==l.length-1&&5*Math.floor(g/5)<=45;if(r&&e>=i||!r&&(e>=i||d||c)){0==e?h(h(s.get(0)).find("#temp2Span").children().get(-1)).addClass("zgs19_gsGmailLastLabelInPreview"):h(s.get(0)).find("#temp2Span").children().get(-1).remove();d=l.slice(e),c=p.Template.getGmailHiddenLabelsDiv(d,t,a),d=h("<span>",{class:"zgs19_gsShowHiddenLabelCount",gstitle:p.I18N.getValue("gs.search.result.mail.allLabels"),gs:"gmailLabelDropdown"}).text("+"+d.length);h(s.get(0)).find("#temp2Span").append(d).append(c);break}}else i++,p.gsgmailresults.labelDetails[n]=l.filter(e=>"Unread"!==e.id)}},u)}(zgssearch),function(T){var A,M=window._jQueryGS,F=T.getGSConstantObj()||{};T.gszendeskresults=(A=T.gszendeskresults,(A=T.gszendeskresults||{}).getHtmlTemplate=function(s,t,e,a,r,o,i,n){var l=s.subject||"",g=s.result_type||"",c=s.updated_at||"",d=s.id||"",p=s.custom_status||""||s.status||"-",u=s.organization_id,h=s.organization_name||"",_=n.hasOwnProperty("type")?n.type:"Search",m=!n.hasOwnProperty("filters")||n.filters;s.webUrl=T.fetchCalloutUrlByAccId(F.ZENDESK,s,t);var z,v="",f="",C="",S="";"ticket"===g?z=T.getI18NMsg("gs.search.zendesk_ticketModule"):"user"===g&&(z=T.getI18NMsg("common.users"));var b=T.isMultiSelectResults(F.ZENDESK,"modules","0");z&&(S=m&&b?M("<div>",{class:"zgs19_gsResRightFilter zgs19_gsWid20Per zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(M("<span>",{class:"zgs19_hvr_underlineHeader"}).append(M("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter",gslabel:T.getI18NMsg("gs.search.filter_through_module"),gstitle:z,gs:"zendeskModules",moduleId:g,organizationId:u,acc_id:t}).text(z))):M("<div>",{class:"zgs19_gsResRightFilter zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(M("<span>",{class:"zgs19_hvr_underlineHeader"}).append(M("<span>",{class:"zgs19_gsOverflow zgs19_gsMxWid80Per zgs19_gsCurDefault",gslabel:T.getI18NMsg("gs.search.multi.module"),gstitle:z,istip:!0}).text(z))));var y=T.getI18NMsg("gs.search.service_people.status.in",!0),I=T.getFilterInfo(F.ZENDESK,"organization","current"),O=T.isMultiSelectResults(F.ZENDESK,"organization","0"),P=M("<span>",{class:"zgs19_gsResIntxt zgs19_gsZendeskResIntxt zgs19_gsOverflow zgs19_gsfl"}).text(y);if("ticket"===g){var l=T.replaceHTMLEntity(s.subject),v=M("<a>",{gs:"resultTitle",istip:!0,href:s.webUrl,target:"_blank",rel:"noopener noreferrer",class:"",gslabel:T.getI18NMsg("common.subject"),gstitle:l}).text(l).prepend(M("<span>",{class:"zgs19_zendeskTicketID"}).text("#"+d)),n=s.hasOwnProperty("requester_name")?s.requester_name:"",b=(n.length,h.length,p.length,s.priority||"-"),y=(b.length,""),l="",w="",D="";""!=n&&(y=M("<div>",{class:"zgs19_gsResultZendeskSubmitter zgs19_gsfl zgs19_gsOverflow"}).append(M("<span>",{gslabel:T.getI18NMsg("gs.search.zendesk_requester"),gstitle:n,istip:!0}).text(n))),h&&""!=h&&(l=m&&(O||"0"!=I)?M("<div>",{class:"zgs19_gsZendeskResultTxt zgs19_gsfl"}).append(M("<span>",{gslabel:T.getI18NMsg("gs.search.zendesk_filterResFromOrg"),gstitle:h,istip:!0,class:"zgs19_hvr_underline",gs:"zendeskOrg",gsfilter:"organization",organizationId:u,acc_id:t}).text(h)):M("<div>",{class:"zgs19_gsZendeskResultTxt zgs19_gsfl"}).append(M("<span>",{gslabel:T.getI18NMsg("gs.search.multi.organization"),gstitle:h,istip:!0,class:"zgs19_gsOverflow zgs19_gsMxWid80Per zgs19_gsCurDefault"}).text(h))),"-"!=b&&(w=M("<div>",{class:"zgs19_gsfl"}).append(M("<span>",{class:"zgs19_gsZendeskResultTxt zgs19_gsfl zgs19_gsOverflow"}).text("Priority: ")).append(M("<span>",{gslabel:T.getI18NMsg("gs.search.service_projects_priority"),gstitle:b,istip:!0,class:"zgs19_gsZendeskResultTxtValue zgs19_gsOverflow zgs19_gsCurDefault zgs19_gsfl"}).text(b))),"-"!=p&&(D=M("<div>",{class:"zgs19_gsfl"}).append(M("<span>",{class:"zgs19_gsZendeskResultTxt zgs19_gsfl zgs19_gsOverflow"}).text("Status: ")).append(M("<span>",{gslabel:T.getI18NMsg("common.status"),gstitle:p,istip:!0,class:"zgs19_gsZendeskResultTxtValue zgs19_gsOverflow zgs19_gsCurDefault zgs19_gsfl"}).text(p)));let e=""!=l?"zgs19_gsWid75Per":"";""==y&&""==l?f=M("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl"}).append(M("<div>",{gs:"gsFilterIcon",class:e}).append(w).append(D)).append(S):(f=M("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl"}).append(M("<div>",{gs:"gsFilterIcon",class:e}).append(y).append(""!=l?P:"").append(l)).append(S),C=M("<div>",{class:"zgs19_zendeskStatusAndPriority zgs19_gsfl"}).append(w).append(D))}else if("user"===g){var E=s.hasOwnProperty("name")?s.name:"",w=(E.length,s.email||""),D=A.getZendeskUserRole(t,s.role)||"";s.webUrl;v=M("<a>",{gs:"resultTitle",istip:!0,href:s.webUrl,target:"_blank",rel:"noopener noreferrer",class:"",gslabel:T.getI18NMsg("gs.search.service_people.name"),gstitle:E}).text(E);D=M("<div>",{class:"zgs19_gsResultZendeskSubmitter zgs19_gsfl zgs19_gsOverflow"}).append(M("<span>",{gslabel:T.getI18NMsg("gs.search.zendesk_role"),gstitle:D,istip:!0}).text(D));let e="";h&&""!=h&&(e=m&&(O||"0"!=I)?M("<div>",{class:"zgs19_gsZendeskResultTxt zgs19_gsfl"}).append(M("<span>",{gslabel:T.getI18NMsg("gs.search.zendesk_filterResFromOrg"),gstitle:h,istip:!0,class:"zgs19_hvr_underline",gs:"zendeskOrg",gsfilter:"organization",organizationId:u,acc_id:t}).text(h)):M("<div>",{class:"zgs19_gsZendeskResultTxt zgs19_gsfl"}).append(M("<span>",{gslabel:T.getI18NMsg("gs.search.multi.organization"),gstitle:h,istip:!0,class:"zgs19_gsOverflow zgs19_gsMxWid80Per zgs19_gsCurDefault"}).text(h))),C=M("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl"}).append(M("<div>",{gs:"gsFilterIcon",class:"zgs19_gsWid75Per"}).append(D).append(""!=e?P:"").append(e)),""!=w?f=M("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl"}).append(M("<div>",{gs:"gsFilterIcon",class:"zgs19_gsWid75Per"}).append(M("<span>",{class:"zgs19_gsZendeskResultTxt zgs19_gsfl zgs19_gsOverflow zgs19_gsWid80Per",gslabel:T.getI18NMsg("common.email"),gstitle:w}).text(w))).append(S):(f=C,C="")}S=M("<div>",{gslabel:z,gs:"resultMenuItem"});return"ticket"==g?(S.addClass("zgs18_gsZendeskTicket"),S.addClass("zgs19_gsZendeskTicketInResultsView"),S.attr("gstitle","#"+d)):(s.hasOwnProperty("photo")?(S=M("<img>",{src:T.gsspacer,gslabel:z,gstitle:E,gs:"resultMenuItem",class:"zgs19_gsZendeskFetchImgLoader zgs19_gsFetchImgLoader",gs_err_class:"zgs19_gsResultsUniIcons zgs19_gsResNoUserPhoto"})).addClass("zgs19_gsZendeskUserImgInResultsView"):(S.addClass("zgs18_gsZendeskUserNoImg"),S.addClass("zgs19_gsZendeskUserNoImgInResultsView")),S.attr("gstitle",E)),M("<div>",{class:"zgs19_gs"+_+"ResultRow"}).append(M("<div>",{class:"zgs19_gs"+_+"ResultCell1"}).append(M("<div>",{class:"zgs19_gsUniIconHolder"}).append(S))).append(M("<div>",{class:"zgs19_gs"+_+"ResultCell2"}).append(M("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(M("<span>",{gslabel:T.getI18NMsg("gs.search.sevice_docs_lastModifiedTime"),gstitle:c}).text(c))).append(M("<div>",{class:"zgs19_gsResultTitle zgs19_gsOverflow zgs19_gsWid75Per"}).append(v)).append(f).append(C))},A.getZendeskUserRole=function(e,s){var t=T.GSConstant.widgetObject.servicesinfo[T.GSConstant.ZENDESK];if(t){e=t.aD[e].userTypeData;if(e&&e[s])return e[s]}return s.charAt(0).toUpperCase()+s.slice(1)},A)}(zgssearch),function(m){let z=window._jQueryGS;var e;m.gssalesiqresults=(e=void 0,(e=m.gssalesiqresults||{}).RESULTS_WIDTH={},e.brandIcon="zgs18_gsBrandsIcon",e.deptIcon="zgs18_gsDepartmentIcon",e.getHtmlTemplate=function(a,r,o,e,s,i,t,n){var l=n.hasOwnProperty("type")?n.type:"Search",g=a.moduleId;let c=m.gssalesiqutils.modClassObj[g];if(c){let e=new c(i,a,r,n);a=e.getTitle()||m.getI18NMsg("gs.search.service_connect.callout.noTitle"),r=e.getDate(),n=e.getTitleDetails();let s=e.getIconEle(),t="";return r&&(t=z("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(z("<span>",{gslabel:e.getDateLabel(),gstitle:r}).text(r))),z("<div>",{class:"zgs19_gs"+l+"ResultRow"}).append(z("<div>",{class:"zgs19_gs"+l+"ResultCell1"}).append(z("<div>",{class:"zgs19_gsUniIconHolder",gslabel:m.getI18NMsg("gs.search.multi.module"),gstitle:e.getModName()}).append(s))).append(z("<div>",{class:"zgs19_gs"+l+"ResultCell2"}).append(z("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl zgs19_SIQRow1"}).append(t).append(z("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow"}).append(z("<a>",{class:"zgs19_gsMxWid80Per zgs19_gsOverflow zgs19_gsfl",gs:"resultTitle",istip:!0,href:o,target:"_blank",rel:"noopener noreferrer",gslabel:e.getTitleLabel(),gstitle:a}).text(a)).append(n))).append(e.getSecondRow()).append(e.getThirdRow()))}},e.showMoreFieldData=function(l){if(z("#zgs20_gsSIQDropDown").length)z("#zgs20_gsSIQDropDown").remove();else{var g=m.GSConstant.SALESIQ,c=z(l).attr("accountId"),d=z(l).attr("index"),p=z(l).attr("field"),u=g+d;let e=new m.dashboardSearchActions,s=e.createActionType(l),t=s.getResultObject(g)||{},a={};a=t.hasOwnProperty(g)&&!z.isEmptyObject(t[g])?t[g][u]:m.getResultObject(m.GSConstant.SALESIQ,d,c);let r=a[p];var h=r.slice(1);z("#zgs20_gsSIQDropDown").remove(),z(l).parent().append(z("<div>",{id:"zgs20_gsSIQDropDown",class:"zgs19_gsOverflow zgs19_gsfl zgs20_gsResDDList zgs19_gsSIQResDDList zgs19_gsPdng4Px"}));var _,u=z(l).attr("field");let o="",i="";for(_ in"departments"==u?(o="zgs18_gsDepartmentIcon",i=m.getI18NMsg("gs.search.result.support.department")):"brands"==u&&(o="zgs18_gsBrandsIcon",i=m.getI18NMsg("gs.salesiq.brand")),h){let e=h[_];e="object"==typeof e?e.name:e,z("#zgs20_gsSIQDropDown").append(z("<div>",{class:"zgs19_gsDDIconHolder"}).append(z("<span>",{class:"zgs19_gsfl "+o,gstitle:e,gslabel:i})).append(z("<span>",{class:"zgs19_gsSIQResDDVal zgs19_gsOverflow",gstitle:e,gslabel:i}).text(e)))}let n=z("#zgs20_gsSIQDropDown");d=n.offset().top-z(n).offsetParent().offset().top+165,c=z(n).offsetParent().height(),p=z(n).width(),u=l.offsetLeft||0,l=z(".zgs19_gsSalesIQRow3Data1").width(),u=l<u+p?u+p-l:u;z("#zgs20_gsSIQDropDown").css("left",u+"px"),c<d&&n.css("margin-block-start","-"+(n.height()+22)+"px")}},e)}(zgssearch),function(c,e){var t=e.document,d=e._jQueryGS,p=c.getGSConstantObj()||{},e=c.gscomponent||{};c.maxPrevPane=e.isResizeEnabled()&&null!=typeof c.maxPrevPane?c.maxPrevPane:c.isDashboardEnabled?900:950,c.minPrevPane=e.isResizeEnabled()&&null!=typeof c.minPrevPane?c.minPrevPane:c.isDashboardEnabled?500:525,c.isMaxCalloutOpen=!1,c.getClosestLayoutElementsWidth=function(e,s){let t={},a={},r=d(e).closest('[domselector="previewbody"]');var o=r.find('[domselector="calloutpreview"]')[0],e=r.find('[domselector="resultpreview"]')[0];return a.calloutWidth=o?d(o).outerWidth():0,a.resulWidth=e?d(e).outerWidth():0,a.bodyWidth=r.outerWidth()||0,t.widthObj=a,s&&(t.targetElems={previewBody:r[0],resultBody:e,calloutBody:o}),t},c.maxCalloutPreview=function(e,s){c.isMaxCalloutOpen=!0;let t=c.getClosestLayoutElementsWidth(s,!0);var a=t.hasOwnProperty("widthObj")?t.widthObj:{};let r=t.hasOwnProperty("targetElems")&&t.targetElems.hasOwnProperty("calloutBody")?t.targetElems.calloutBody:"";r&&d(r).css("z-index","6").animate({"inset-inline-start":"0px",width:a.bodyWidth},"200",function(){d(s).siblings(".zgs18_gsIframeMinimize").css("display","block"),r.setAttribute("maximised","true"),c.postPreviewActions(s,"maximise",t)})},c.minCalloutPreviewChange=function(e){c.isMaxCalloutOpen=!1;let s=c.getClosestLayoutElementsWidth(e,!0);var t=s.hasOwnProperty("widthObj")?s.widthObj:{};let a=s.hasOwnProperty("targetElems")&&s.targetElems.hasOwnProperty("calloutBody")?s.targetElems.calloutBody:"";a&&d(a).attr("maximised","false").css("z-index","unset").animate({"inset-inline-start":t.resulWidth,width:t.bodyWidth-t.resulWidth},"200",function(){d(e).siblings(".zgs18_gsIframeMaximize").css("display","block"),a.setAttribute("maximised","false"),c.postPreviewActions(e,"minimise",s)})},c.showCalloutPrevNavigationOptions=function(e,s,t){let a=d(e).find(".zgs19_gsPrevNav"),r="";s&&(r=d("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr"})),a&&0==a.length?(d(e).append(d("<div>",{class:"zgs19_gsPrevNav zgs19_gsfr zgs19_gsFontSize16Px"}).append(d("<span>",{class:"zgs18_gsPrevNav zgs19_gsPrePrev zgs19_gsCardActionIcon zgs19_gsCardActionIcon zgs19_gsCurPointer",gs:"previousPreview",gstitle:c.getI18NMsg("gs.cards.previous_result")})).append(d("<span>",{class:"zgs18_gsNextNav zgs19_gsNextPrev zgs19_gsCardActionIcon zgs19_gsCurPointer",gs:"nextpreview",gstitle:c.getI18NMsg("gs.cards.next_result")})).append(r)),t&&d(e).find(".zgs19_gsPrevNav").css("display","none")):a.css("display","block")},c.hideCalloutPrevNavigationOptions=function(e){d(e).find(".zgs19_gsPrevNav").css("display","none")},c.postPreviewActions=function(e,s,t){d(e).css("display","none"),c.openCalloutPreview(e);var a=d(e).parent(),r=c.isDashboardScopeActive()||c.isCardScopeActive(),e=t.hasOwnProperty("targetElems")?t.targetElems:{};s&&"maximise"==s&&r?(r&&e.calloutBody&&d(e.calloutBody).css("width","100%"),c.showCalloutPrevNavigationOptions(a,!0),c.manageNavOptionsVisibilityForCallout(a)):s&&"minimise"==s&&r&&(t=((t=(r=t.hasOwnProperty("widthObj")?t.widthObj:{}).bodyWidth)-r.resulWidth)/t*100,e.calloutBody&&d(e.calloutBody).css("width",t+"%").css("inset-inline-start",""),c.hideCalloutPrevNavigationOptions(a))},c.setValueForResultPreviewNavigation=function(e){let s={};e=(new c.dashboardSearchActions).createActionType(e);return c.isDashboardScopeActive()?(s.curSelectedResult=c.gscardsresult.curSelectedEle,s.cardId=e.getCurrentCardId(),c.gscardinDb.isCardMaximised?s.curSelectedResult=c.gscardsresult.curSelectedEle:s.curSelectedResult=t.getElementById(c.gscardsresult.selectedResInCard[s.cardId]),e=c.gscardinDb.getOriginalCardId(s.cardId),s.cardObj=c.gsdbUtils.cardIdsVsObject[e],s.cardtype=s.cardObj.cardtype):c.isCardScopeActive()&&(s.curSelectedResult=c.gscards.curSelectedEle,s.cardId=d(c.gscards.curSelectedEle).closest('[domselector="previewbody"]').attr("cardid"),s.cardObj=c.gscardUtils.cardIdsVsObject[s.cardId],s.cardtype=s.cardObj.cardtype),s},c.navigatePreview=function(s,r){let e=c.setValueForResultPreviewNavigation(r);var o=e.cardId,t=e.curSelectedResult.getAttribute("service");let a=d(r).parent();a.find(".zgs19_gsPrePrev").removeClass("zgs19_gsHideEleme"),a.find(".zgs19_gsNextPrev").removeClass("zgs19_gsHideEleme"),s&&"previousPreview"==s?(n=d(e.curSelectedResult).prev(),(n=t==c.GSConstant.CALENDAR&&n.hasClass("zgs19_gsEventSplitter")?n.prev():n).click()):s&&"nextpreview"==s&&(l=d(e.curSelectedResult).next(),(l=t==c.GSConstant.CALENDAR&&l.hasClass("zgs19_gsEventSplitter")?l.next():l).click());r=e.curSelectedResult.getAttribute("index");let i={};var n=e.cardtype,s=e.cardObj;if(t==c.GSConstant.CALENDAR){let e=0,s=0,t="",a=!1;if(r<0?(t=c.gscardsresult.completedNoMoreResults[o],c.gscardsresult.cardResultsCount[o].calendar_completed- -1*r<3&&(a=!0),e=c.cardNextScrollValue[o].completed,s=-1):0<=r&&(t=c.gscardsresult.futureNoMoreResults[o],c.gscardsresult.cardResultsCount[o].calendar_future-r<3&&(a=!0),e=c.cardNextScrollValue[o].future,s=1),t||!a)return;i.start=e,i.scroll_type=s}else{if(c.gscardsresult.noMoreResultsInCard[o]||!(c.gscardsresult.cardResultsCount[o][t]-parseInt(r)<3))return;{var l=s.service;let e=parseInt(c.cardNextScrollValue[o]);var g,t=c.service_cursor_info[o];!t||(r=c.service_cursor_info[o].cursor)&&(i.cursor=r),l==p.ONEDRIVE&&!t||(g="",c.isListViewSearch()&&l===c.GSConstant.SALESFORCE&&(c.gscardinDb.getFilterVal(s.cardconfig,"module")||((g=t.cursor)&&"0"!==g?e=0:c.cardScrollSearch[o]=!0)),i.start=e,i.limit=c.fetchResCount)}}if(!c.cardScrollSearch[o]){let e={};c.cardScrollSearch[o]=!0,c.isDashboardScopeActive()?e={cardid:o,cardType:n,dbCardType:s.cardtype,cardId:s.cardid}:c.isCardScopeActive()&&(g=c.gscardinDb.getFilterVal(s.cardconfig,"accounts_list"),g=n==c.SYSTEM_CARD&&null!=g?g[0]:"",e={cardid:o,cardType:n,callback:c.gsCardResUtils.handleCardIdBasedSearchResponse,accId:g}),c.gscardinDb.formEachCardSearchCall(s,i,e)}},c.manageNavOptionsVisibilityForCallout=function(e){var s=c.setValueForResultPreviewNavigation(e),t=0==d(s.curSelectedResult).prev().length,s=0==d(s.curSelectedResult).next().length;let a=d(e),r=a.find(".zgs19_gsPrePrev"),o=a.find(".zgs19_gsNextPrev");t&&s?a.find(".zgs19_gsPrevNav").css("display","none"):(t?r.addClass("zgs19_gsHideEleme"):r.removeClass("zgs19_gsHideEleme"),s?o.addClass("zgs19_gsHideEleme"):o.removeClass("zgs19_gsHideEleme"))}}(zgssearch,window),function(_){var m,z=window._jQueryGS,v=_.getGSConstantObj()||{};_.gschat=(m=void 0,(m=_.gschat||{}).actionList=[{continue:"gs.search.result.chat.viewtranscript_dialog.continue"}],m.getCalloutHolder=function(){return"zgs20_gsChatCallout"},m.calloutParams=function(e){return"searchType="+_.getCurSelectedEleAttr("service")+"&chatId="+e.chat_id},m.createCalloutTemplate=function(e,s){var t,a,r,o,i=s.calloutId;z("#"+i).length<=0&&(t=_.getI18NMsg("gs.search.sevice_prevmax"),a=_.getI18NMsg("gs.search.sevice_prevmin"),o=_.getI18NMsg("gs.search.result.chat.callout.with"),r=_.getI18NMsg("gs.search.result.chat.callout.started_by"),s=_.getI18NMsg("gs.search.result.chat.viewtranscript_dialog.continue"),o=z("<div>",{id:i,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(z("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(z("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(z("<span>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:v.CHAT}))).append(z("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(z("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(z("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:v.CHAT})).append(z("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(z("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(z("<div>",{class:"zgs18_gsContinueChat zgs19_gsCurPointer zgs19_gsfr",gs:"continuechat",gstitle:s})).append(z("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:t,gs:"maxpreview",service:v.CHAT})).append(z("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:a,gs:"minpreview",service:v.CHAT}))))).append(z("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(z("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(z("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(z("<div>",{class:"zgs19_gsChatIconHolder",gs:"personal"}).append(z("<img>",{class:"zgs19_gsFetchLoader",src:_.gsspacer,gs:"authorPhoto"}))).append(z("<div>",{class:"zgs19_gsChatIconHolder",gs:"group"}))).append(z("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(z("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(z("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(z("<span>",{gs:"startedBy",gstitle:r}).text(r))).append(z("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid55Per"}).append(z("<span>",{gs:"owner",istip:!0}))).append(z("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(z("<span>",{gs:"date"})))).append(z("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(z("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(z("<span>",{gs:"withtext",gstitle:o}).text(o))).append(z("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid70Per"}).append(z("<span>",{gs:"partCount"}))))))).append(z("<div>",{class:"zgs19_gsWMSCalloutFooter zgs19_gsBorderBox",gs:"calloutFooter"})).append(z("<div>",{class:"zgs19_gsCalloutFooter zgs19_gsChatCalloutFooter",gs:"chatContentHolder"}).append(z("<div>",{class:"zgs19_gsWidth100 zgs19_gsVerticalScroll",gs:"chatcontent"}))),z("#zgs20_gsSearchResultRight").append(o)),z("#"+i).attr("ccount",e)},m.setChatCalloutEleSize=function(e){var s,t;null!=e&&(s=z(e.header).height(),t=z(e.metaInfo).height(),t=z("#zgs20_gsChatCallout").height()-(s+t),_.isMobViewport()&&(t-=_.getLHSServicePaneHeight()),(_.hasWMSTranscript?z(e.calloutFooter):z(e.chatContentHolder)).css("height",t+"px"))},m.calloutResponse=function(e,s,t,a){var r=a.searchObj;_.getTargetElem(r.calloutId);if((e=!_.hasWMSTranscript?e&&e.resp||"":e)&&"null"!==e){var o=_.getTargetElem("zgs20_gsChatCallout");_.setGSTagElems(o),_.setGSTagElems(t);var i=z(o).attr("ccount"),n=s.title||"";z(o.ctitle).empty().text(n).attr("gstitle",n);var l=v.cuz,g=s.ownerid||"",c=_.getI18NMsg("common.me"),a=s.display_name||"-",a=g==l?c:a;z(o.owner).empty().text(a).attr("gstitle",a);g=s.display_time||"-",c=_.getI18NMsg("gs.search.result.lastReplied")+" : "+g;z(o.date).empty().text(g).attr("gstitle",c),z(o.personal).show(),z(o.group).hide(),z(o.authorPhoto).attr("src",_.gsspacer),z(o.authorPhoto).attr("class","zgs19_gsFetchLoader");a="zgs20_gsChatCalloutUserImg"+i;z(o.authorPhoto).attr("id",a);var d={},g=0,c=0;if(s.hasOwnProperty("participants_count")&&(g=parseInt(s.participants_count)),s.hasOwnProperty("recent_participants")&&(d=_.jsonParse(s.recent_participants),c=Object.keys(d).length),2<g&&0<c||2===c&&!d.hasOwnProperty(l)){g=g+" "+_.getI18NMsg("gs.search.result.chat.callout.participants");z(o.partCount).empty().text(g).attr("gstitle",g),m.loadChatParticipantsImages(o,d,t,i)}else{var p=n,u="";if("object"==typeof d)for(var h in d)p=d[u=h];z(o.partCount).empty().text(p).attr("gstitle",p);n=z(t.gsUserPhoto).attr("group"),t=z(t.gsUserPhoto).attr("calloutphoto");_.renderCalloutUserPhoto(a,t,n),z(o.personal).attr("class","zgs19_gsChatIconHolder"),"true"!=n&&"-1"!==u&&void 0!==u&&(n=_.getUserStatus(u).name||"",z(o.personal).attr("class","zgs19_gsChatIconHolder "+n))}z(o.chatcontent).empty(),z(o.chatContentHolder).hide(),z(o.calloutFooter).empty().show(),_.hasWMSTranscript?WebMessanger.renderTranscript(o.calloutFooter,s.chat_id):(z(o.calloutFooter).hide(),z(o.chatContentHolder).show(),m.formatChatContentData(o.chatcontent,e),m.formatChatURLAndHREF(o.chatcontent)),r.iconDisplay&&(z(o.maxpreview).show(),z(o.minpreview).hide()),_.getCurrentSelectedElem()&&(_.hideCalloutLoader(r),z(o).show()),m.addCalloutActionList(o),m.setChatCalloutEleSize(o),z(o.calloutFooter).scrollLeft(0),z(o.calloutFooter).scrollTop(z(o.calloutFooter)[0].scrollHeight),z(o.chatContentHolder).scrollLeft(0),z(o.chatContentHolder).scrollTop(z(o.chatContentHolder)[0].scrollHeight),_.calloutVisitRequest()}else m.calloutErrorMsg("",r)},m.addCalloutActionList=function(e){var s=e.getElementsByClassName("zgs19_gsCalloutActionList");z(s).empty().remove(),z(e.calloutActionHolder).append(z("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var s=e.getElementsByClassName("zgs19_gsCalloutActionList"),t=m.actionList,a=t.length,r=0;r<a;r++){var o,i=t[r];for(o in i){var n=_.getI18NMsg(i[o]);z(s).append(z("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:o,service:v.CHAT,gstitle:n}).text(n))}}},m.formatChatContentData=function(g,e){var c=0,d="";z(e).each(function(){var e,s,t,a,r,o,i,n=this,l=z(n).attr("class");"upfilediv"===l?(d="",z(g).append(n)):"upfilediv-img"===l?(d="",r=z(n).find("div"),s=z(n).find("a"),e=z(n).find("img"),i=z(n).find("label")[1],o=z(r).text(),a=z(i).text(),t=z(s).attr("href"),r=z(e).attr("src"),i="zgs19_"+_.getFileImageClass(o),s=_.getDocResTT(i),z(e).attr("src",v.GS_CHAT_URL+r),z(g).append(z("<div>",{class:"upfilediv-img zgs19_gsBorderBox"}).append(z("<div>",{class:"upfilediv-imgDiv zgs19_gsfl zgs19_gsOverflow"}).append(z("<span>",{class:"zgs19_gsResultsUniIcons "+i,gstitle:s,gs:"resultMenuItem"}))).append(z("<div>",{class:"upfilediv-imgName zgs19_gsfl zgs19_gsOverflow"}).append(z("<span>",{class:"zgs19_gsCalloutAttachTitle zgs19_gsCalloutTitleLink",service:v.CHAT,url:v.GS_CHAT_URL+t,gs:"contactsurl",gstitle:o,istip:!0}).text(o))).append(z("<div>",{class:"upfilediv-imgName upfilediv-imgSize zgs19_gsfl zgs19_gsOverflow"}).text(a)))):"msghead"===l?(d="",r=z(n).find("span").text()||"",i=z(n).find("div.sender").text()||"",s=z(n).find("div.wmsempty").text()||"",(o=t="")!==r&&(1===(a=(t=r).split(",")).length&&(o=(o=a[0])?o.trim():""),3===a.length&&(r=(r=a[1])?r.trim():"",o=(o=a[2])?o.trim():"",z(g).append(z("<div>",{class:"zgs19_gsChatDateField"}).append(z("<span>",{class:"zgs19_gsChatDateContent"}).text(r))))),i=(i=i.trim()).substring(0,i.length-1).trim(),v.cuz==s&&(i=_.getI18NMsg("common.me")),z(g).append(z("<div>",{class:"zgs19_gsChatSenderField"}).text(i).append(z("<span>",{class:"zgs19_gsChatCalloutTime zgs19_gsfr",gstitle:t}).text(o)))):"msgtxt"===l&&(l=z(n).html()||"",l=m.getMsgType(l),z(n).empty().append(l),""==d&&(d="zgs20_gsChatMsgContent"+ ++c,z(g).append(z("<div>",{id:d,class:"zgs19_gsChatMsgContent"}))),z("#"+d).append(n))})},m.getMsgType=function(e){try{e=" "+e;var s=new RegExp("([^(href|src)=\"'])((("+_.httptxt+"(s){0,1}://))([^ <\n]*))","gi");e=(e=(e=(e=(e=e.replace(/([a-z0-9]([a-z0-9_\-\.]*)@([a-z0-9_\-\.]*)(\.[a-z]{2,3}(\.[a-z]{2}){0,2}))/gi,"<a href='mailto:$1' rel='noopener noreferrer'>$1</a>")).replace(s,"$1<a href='$2' rel='noopener noreferrer' target='_blank'>$2</a>")).replace(/([^(href|src|\/\/)"'=])((www\.)([^ <\n]*))/gi,"$1<a href='"+_.httptxt+"://$2' rel='noopener noreferrer' target='_blank'>$2</a>")).replace(/(^|\ )(([\w\d-]+\.)+((?!js|cp)[a-z]){2})(?=( |$))/gi,"$1<a href='"+_.httptxt+"://$2' rel='noopener noreferrer' target='_blank'>$2</a>")).replace(/(^|\ )(([\w\d-]+\.)+(com|org|net|int|edu|gov|mil|info|biz))(?=( |$))/gi,"$1<a href='"+_.httptxt+"://$2' rel='noopener noreferrer' target='_blank'>$2</a>"),e=Smiley.replace(e)}catch(e){_.throwClientError("Error while replacing msg in getMsgType function.",e)}return e},m.formatChatURLAndHREF=function(e){z(e).find("img").each(function(){var e=z(this).attr("src");0===e.indexOf("/")&&z(this).attr("src",v.GS_CHAT_URL+e)})},m.loadChatParticipantsImages=function(e,s,t,a){try{var r,o=0,i=0,n=Object.keys(s).length;for(r in s){var l=v.GS_CONTACTS_URL+"/file?ID="+r+"&exp=600&t=user&width=80&height=80"+_.nps,g=z("<img>",{class:"zgs19_gsDisplayNone",gstitle:s[r],src:l,id:"zgs20_chatParticipantsImg"+o+a})[0];o++,z(e).append(g),z(g).off().on({load:function(){i+=1,m.loadRecentParticipantsIcons(e,t,n,a,i)},error:function(){var e=_.network.getFingerPrintFilePath("images/no-user-image.png");z(this).attr("src",e)}},!0)}}catch(e){_.throwClientError("Error while loading photo in loadChatParticipantsImages function.",e)}},m.loadRecentParticipantsIcons=function(e,s,t,a,r){var o,i,n;t===r&&(z(e.group).empty(),2===t?(o=z("#zgs20_chatParticipantsImg0"+a),i=z("#zgs20_chatParticipantsImg1"+a),z(e.group).append(z("<img>",{class:"zgs19_gsParticipants2a zgs19_chatGroup1 zgs19_gsParticipantsImgNew zgs19_FltLeft",gstitle:o.attr("gstitle"),src:o.attr("src")})).append(z("<img>",{class:"zgs19_gsParticipants2b zgs19_chatGroup2 zgs19_gsParticipantsImgNew zgs19_FltLeft",gstitle:i.attr("gstitle"),src:i.attr("src")}))):3===t?(o=z("#zgs20_chatParticipantsImg0"+a),i=z("#zgs20_chatParticipantsImg1"+a),n=z("#zgs20_chatParticipantsImg2"+a),z(e.group).append(z("<img>",{class:"zgs19_gsParticipants3a zgs19_chatGroup1 zgs19_gsParticipantsImgNew zgs19_FltLeft",gstitle:o.attr("gstitle"),src:o.attr("src")})).append(z("<img>",{class:"zgs19_gsParticipants3b zgs19_chatGroup3 zgs19_gsParticipantsImgNew zgs19_FltLeft",gstitle:i.attr("gstitle"),src:i.attr("src")})).append(z("<img>",{class:"zgs19_gsParticipants3c zgs19_chatGroup2 zgs19_gsParticipantsImgNew zgs19_FltLeft",gstitle:n.attr("gstitle"),src:n.attr("src")}))):4<=t&&(o=z("#zgs20_chatParticipantsImg0"+a),i=z("#zgs20_chatParticipantsImg1"+a),n=z("#zgs20_chatParticipantsImg2"+a),t=z("#zgs20_chatParticipantsImg3"+a),z(e.group).append(z("<img>",{class:"zgs19_gsParticipants4a zgs19_chatGroup1 zgs19_gsParticipantsImgNew zgs19_FltLeft",gstitle:o.attr("gstitle"),src:o.attr("src")})).append(z("<img>",{class:"zgs19_gsParticipants4b zgs19_chatGroup4 zgs19_gsParticipantsImgNew zgs19_FltLeft",gstitle:i.attr("gstitle"),src:i.attr("src")})).append(z("<img>",{class:"zgs19_gsParticipants4c zgs19_chatGroup3 zgs19_gsParticipantsImgNew zgs19_FltLeft",gstitle:n.attr("gstitle"),src:n.attr("src")})).append(z("<img>",{class:"zgs19_gsParticipants4d zgs19_chatGroup2 zgs19_gsParticipantsImgNew zgs19_FltLeft",gstitle:t.attr("gstitle"),src:t.attr("src")}))),_.getCurrentSelectedElem()==s&&(z(e.personal).hide(),z(e.group).show()),z("#zgs20_chatParticipantsImg0"+a).remove(),z("#zgs20_chatParticipantsImg1"+a).remove(),z("#zgs20_chatParticipantsImg2"+a).remove(),z("#zgs20_chatParticipantsImg3"+a).remove(),z("#zgs20_chatParticipantsImg4"+a).remove())},m.calloutErrorMsg=function(e,s){_.getCurrentSelectedElem()&&(_.hideCalloutLoader(s),e="ERROR"===e?_.getI18NMsg("gs.search.error.generic_error_messege"):_.getI18NMsg("gs.search.result.chat.status.callout.errortext"),_.calloutErrorPage(s,e))},m.setServiceEleSize=function(e,s){var t=_.getTargetElem("zgs20_gsChatCallout");_.setGSTagElems(t),m.setChatCalloutEleSize(t),z("#"+e).css("height",s+"px")},m)}(zgssearch),function(g,e){var c,a=e.document,d=e._jQueryGS,p=g.getGSConstantObj()||{};g.gsreports=(c=void 0,(c=g.gsreports||{}).actionList=[{open:"common.open"},{copyLink:"gs.search.callout.copylink"},{savePreview:"gs.search.callout.savePreviewCard"}],c.getCalloutHolder=function(){return"zgs20_gsReportsCallout"},c.calloutParams=function(e){return"searchType="+g.getCurSelectedEleAttr("service")+"&docId="+e.docid},c.createCalloutTemplate=function(e,s){var t,a,r,o=s.calloutId;d("#"+o).length<=0&&(t=g.getI18NMsg("gs.search.sevice_prevmax"),a=g.getI18NMsg("gs.search.sevice_prevmin"),r=g.getFourDotLoader("zgs20_gsreportsprevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader zgs19_gsDisplayNone"),r=d("<div>",{id:o,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(d("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(d("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(d("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:p.REPORTS,target:"_blank",rel:"noopener noreferrer"}))).append(d("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:g.getNewTabTip(p.REPORTS),service:p.REPORTS})).append(d("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(d("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(d("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:p.REPORTS})).append(d("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(d("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(d("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:t,gs:"maxpreview",service:p.REPORTS})).append(d("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:a,gs:"minpreview",service:p.REPORTS}))))).append(d("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(d("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(d("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(d("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(d("<img>",{id:"zgs20_gsDocsCalloutUserImg",class:"zgs19_gsFetchLoader",src:g.gsspacer,gs:"authorPhoto"})))).append(d("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(d("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(d("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(d("<span>",{gs:"startedBy"}))).append(d("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid55Per"}).append(d("<span>",{class:"zgs19_gsCurPointer",gs:"owner",istip:!0}))).append(d("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(d("<span>",{gs:"date"}))))))).append(d("<div>",{class:"zgs19_gsDocsCalloutFooter zgs19_gsReportsCalloutFooter zgs19_gsOverflowHidden",gs:"calloutFooter"}).append(r).append(d("<div>",{class:"zgs19_gsDocsPreviewHolder",gs:"reportspreviewHolder"}))),d(s.parentElem).append(r)),d("#"+o).attr("ccount",e)},c.setReportsCalloutEleSize=function(e){var s,t;null!=e&&(s=d(e.header).height()||0,t=d(e.metaInfo).height()||0,t=d(e).height()-(s+t),t-=d(e.calloutFooter).outerHeight(!0)-d(e.calloutFooter).height(),g.isMobViewport()&&(t-=g.getLHSServicePaneHeight()),d(e.calloutFooter).css("height",t+"px"))},c.calloutResponse=function(e,s,t){var a=t.searchObj,r=g.getTargetElem(a.calloutId);g.setGSTagElems(r),g.setGSTagElems(s);var o=e.vN||"";d(r.ctitle).empty().text(o).attr("gstitle",o),d(r.ctitle).attr("href",g.fetchCalloutUrl(p.REPORTS,e));t=d(s.resultTitle).attr("gslabel")||"";d(r.ctitle).attr("gslabel",t);o=e.mZUID,s="zgs20_gsDocsCalloutUserImg"+d(r).attr("ccount"),t=d(r.authorPhoto);t.attr("src",g.gsspacer),t.attr("class","zgs19_gsFetchLoader"),t.attr("id",s);t=g.getUserStatus(o);d(r.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),"-1"!==o&&void 0!==o?(i=t.name||"",d(r.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+i),i=g.getThumbPhotoURL(o),g.renderCalloutUserPhoto(s,i)):g.renderCalloutNoUserPhoto(s);var i=e.auth||e.mBy||"",s=g.getI18NMsg("common.modified_by");d(r.startedBy).empty().text(s).attr("gstitle",s),d(r.owner).empty().text(i).attr("gstitle",i),d(r.date).empty().text(e.time).attr("gstitle",e.time),c.renderReportsPreview(r,e),a.iconDisplay&&(d(r.maxpreview).css("display","block"),d(r.minpreview).css("display","hide"),d(r.actionPipe).css("display","block"));s=a.hasOwnProperty("type")?a.type:"search",i=g.Utils.getResultObjectofType(s,a.cardId),s=g.isPreviewCard(a);i.docid!==e.docid&&!s||(g.hideCalloutLoader(a),d(r).show()),d(r.calloutFooter).scrollTop(0),d(r.calloutFooter).scrollLeft(0),c.addCalloutActionList(r,i.ty),c.setReportsCalloutEleSize(r)},c.addCalloutActionList=function(e,s){var t=e.getElementsByClassName("zgs19_gsCalloutActionList");d(t).empty().remove(),d(e.calloutActionHolder).append(d("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var t=e.getElementsByClassName("zgs19_gsCalloutActionList"),a=c.actionList,r=a.length,o=0;o<r;o++){var i,n,l=a[o];for(i in l)"savePreview"!=i?(n=g.getI18NMsg(l[i]),d(t).append(d("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:i,service:p.REPORTS,gstitle:n}).text(n))):s&&g.Utils.constructSaveBookmarkInCallout(t,p.REPORTS)}},c.openReportsResult=function(e){e=e.vId||e[g.entity_id];return p.GS_REPORTS_URL+"/ZDBDataSheetView.cc?OBJID="+e+"&STANDALONE=true&"+g.originParam},c.renderReportsPreview=function(e,s){var t,a=s.ty;d(e.calloutFooter).addClass("zgs19_gsOverflowHidden"),g.isExtension&&g.thirdPartyCookieDisabled?(d(e.reportspreviewHolder).empty().show(),d(e.loadericon).hide(),d(e).show(),t={gs:"reportsApp",service:p.REPORTS,previewHolder:"reportspreviewHolder",content:g.getI18NMsg("gs.search.result.reports.callout.open_in_app")},g.obtainAppOpenBtn(e,t)):"null"!==a?c.constructReportsIframe(e,s):(s=g.getI18NMsg("gs.search.sevice_docs_previewfolerr"),d(e.reportspreviewHolder).append(d("<div>",{class:"zgs19_gsDocsPreviewError",gstitle:s}).text(s)),d(e.calloutFooter).removeClass("zgs19_gsOverflowHidden"),d(e.reportspreviewHolder).css("visibility","visible"))},c.constructReportsIframe=function(e,s){d(e.loadericon).css("display","block"),d(e.reportspreviewHolder).empty(),d(e.reportspreviewHolder).css("visibility","hidden");var t=c.openReportsResult(s),s=a.createElement("iframe");s.src=t,s.className="zgs19_Border0px zgs19_gsDocsIframeTag",g.Utils.addSandboxToEle(s),s.setAttribute("frameborder","0"),s.setAttribute("allowfullscreen","true"),s.onload=function(){g.calloutVisitRequest(),setTimeout(function(){d(e.calloutFooter).removeClass("zgs19_gsOverflowHidden"),d(e.loadericon).hide(),d(e.reportspreviewHolder).css("visibility","visible")},500)},d(e.reportspreviewHolder).append(s)},c.setServiceEleSize=function(e,s,t){t=t||g.getTargetElem("zgs20_gsReportsCallout"),g.setGSTagElems(t),c.setReportsCalloutEleSize(t),e&&d("#"+e).css("height",s+"px")},c.getPreviewCard=function(e){c.constructPreviewForCrd(e);var s=g.getTargetElem(e.calloutId);g.setGSTagElems(s),c.constructReportsIframe(s,e),c.setReportsCalloutEleSize(s)},c.constructPreviewForCrd=function(e){var s;d("#"+e.calloutId).length<=0&&(s=g.getFourDotLoader("zgs20_gsreportsprevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader zgs19_gsDisplayNone"),s=d("<div>",{id:e.calloutId,class:"zgs19_gsServiceCalloutHolder"}).append(d("<div>",{class:"zgs19_gsDocsCalloutFooter zgs19_gsReportsCalloutFooter zgs19_gsOverflowHidden",gs:"calloutFooter"}).append(s).append(d("<div>",{class:"zgs19_gsDocsPreviewHolder",gs:"reportspreviewHolder"}))),d(e.parentElem).append(s))},c.getPreviewCrdParams=function(){var e=g.getCurrentResObj();return{account_id:e.accId||g.getResultAccountId(),entity_id:e.vId}},c)}(zgssearch,window),function(u,e){var h,_=e.document,m=e._jQueryGS,p=u.getGSConstantObj()||{};u.gsconnector=(h=void 0,(h=u.gsconnector||{}).actionList=[{open:"common.open"},{copyLink:"gs.search.callout.copylink"}],h.getCalloutHolder=function(){return"zgs20_gsConnectorCallout"},h.calloutParams=function(e){var s=e.did,t=e.wid,e=e.wcid;return"searchType="+u.getCurSelectedEleAttr("service")+"&docId="+s+"&wikiId="+t+"&wikiCatId="+e},h.createCalloutTemplate=function(e,s){"search"===s.type&&m("#zgs20_gsConnectorCallout").remove();var t,a,r,o=s.calloutId;m("#"+o).length<=0&&(t=u.getI18NMsg("gs.search.sevice_prevmax"),a=u.getI18NMsg("gs.search.sevice_prevmin"),r=u.getFourDotLoader("zgs20_gsconnectorprevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsConnectorprevLoader zgs19_gsDisplayNone"),r=m("<div>",{id:o,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(m("<div>",{id:"zgs20_gsConnectorWelPage",class:"zgs19_gsDocsPreviewHolder zgs19_gsCRC",gs:"connectorWelPage"})).append(m("<div>",{class:"zgs19_gsCalloutHeader zgs19_gsCRC",gs:"header"}).append(m("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(m("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:p.ORGRESOURCES,target:"_blank",rel:"noopener noreferrer"}))).append(m("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:u.getNewTabTip(p.ORGRESOURCES),service:p.ORGRESOURCES})).append(m("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(m("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(m("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:p.ORGRESOURCES})).append(m("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(m("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(m("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:t,gs:"maxpreview",service:p.ORGRESOURCES})).append(m("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:a,gs:"minpreview",service:p.ORGRESOURCES}))))).append(m("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder zgs19_gsCRC",gs:"metaInfo"}).append(m("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(m("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(m("<div>",{class:"zgs19_gsUniIconHolder",gs:"calloutIconHolder"}).append(m("<span>",{class:"zgs19_creatorCircleText zgs19_gsfl",gs:"authorPhoto"})))).append(m("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(m("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(m("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(m("<span>",{gs:"slabel"}))).append(m("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid55Per"}).append(m("<span>",{gs:"sender",istip:!0})))).append(m("<div>",{class:"zgs19_gsCalloutUserHeader",gs:"header2"}).append(m("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid5Per"}).append(m("<span>",{gs:"rlabel"}))).append(m("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid45Per",gs:"toaddress"}).append(m("<span>",{gs:"receiver",istip:!0}))).append(m("<div>",{class:"zgs19_gsfl"}).append(m("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl"}).append(m("<span>",{gs:"clabel"})))))))).append(m("<div>",{class:"zgs19_gsConnCalloutFooter zgs19_gsCalloutPopUp zgs19_gsCalloutFooter zgs19_gsCRC",gs:"calloutFooter"}).append(m("<div>",{id:"zgs20_gsConnectorPreviewHolder",class:"zgs19_gsDocsPreviewHolder",gs:"connectorpreviewHolder"})).append(m("<div>",{class:"zgs19_gsCalloutContentInfo",gs:"content"}))).append(r),m(s.parentElem).append(r),u.attachDoubleClickPopUpEvent()),m("#"+o).attr("ccount",e)},h.setConnectorCalloutEleSize=function(e){var s,t;null!=e&&(s=m(e.header).height(),t=m(e.metaInfo).height(),t=m(e).height()-(s+t),t-=m(e.calloutFooter).outerHeight(!0)-m(e.calloutFooter).height(),u.isMobViewport()&&(t-=u.getLHSServicePaneHeight()),m(e.calloutFooter).css("height",t+"px"),h.setPreviewBtnPosition(e))},h.calloutResponse=function(e,s,t,a){var r=a.searchObj,o=r.calloutId;r.type!=u.dbCrdCalloutType&&r.type!=u.crdPagecalloutType||(u.cardObjForCurrentSelectedElem[r.cardId].calloutRespObj=r);var i=u.getTargetElem(o);if(u.setGSTagElems(i),u.setGSTagElems(t),"0"===s.cpt)return m(i).find(".zgs19_gsCRC").css("display","none"),m(i.connectorWelPage).css("display","block"),void h.renderWelcomePage(i,s,r);m(i).find(".zgs19_gsCRC").css("display","block"),"3"===s.cpt&&m(i.metaInfo).css("display","table"),m(i.connectorWelPage).css("display","none");var n=u.fetchCalloutUrl(p.ORGRESOURCES,s),l=s.title||u.getURLWithoutProtocol(n)||u.getI18NMsg("gs.search.service_connect.callout.noTitle");m(i.ctitle).empty().text(l).attr("gstitle",l),m(i.ctitle).attr("href",n);a=m(t.resultTitle).attr("gslabel")||"";m(i.ctitle).attr("gslabel",a),s.url||""||(m(i.clink).css("display","none"),m(i.ctitle).removeClass(),m(i.ctitle).css("cursor","auto")),r.iconDisplay&&(m(i.maxpreview).css("display","block"),m(i.minpreview).css("display","none"),m(i.actionPipe).css("display","block")),u.getCurrentResObj().did!==s.did&&!u.isPreviewCard(r)||(u.hideCalloutLoader(r),m(i.connPageTxt).remove(),m(i).css("display","block"));o=u.getI18NMsg("gs.search.result.connector.callout.type"),l=u.getI18NMsg("gs.search.service_people.status.in",!0),n=s.cn,a=u.getCapitalizedLtr(n);"3"==s.cpt?(m(i.authorPhoto).empty().removeClass("zgs19_creatorCircleText").addClass("zgs19_gsResultsUniIcons zgs19_gsConnectorToolsIcon"),m(i.authorPhoto).attr("src","zgssearch.gsspacer"),m(i.header2).empty().append(m("<div>",{class:"zgs19_gsConnectorToolsCoutsumm"}).text(s.desc||"")).append(m("<div>",{class:"zgs19_gsOpenBtnMeta zgs19_gsCurPointer",gs:"tabPage",service:p.ORGRESOURCES}).text(u.getI18NMsg("common.open"))),m(i.header2).attr("class","zgs19_gsConnectorToolsHeader")):(m(i.authorPhoto).empty().removeClass("zgs19_gsResultsUniIcons zgs19_gsConnectorToolsIcon").addClass("zgs19_creatorCircleText"),m(i.authorPhoto).text(a));var g,c=s.cdt,d="";switch(c){case"webpage":case"files":case"tools":case"tablerecords":case"chat":case"contacts":d=u.getI18NMsg("gs.search.result.connector.callout."+c);break;default:d=u.getI18NMsg("gs.search.result.document.unknown")}m(i.slabel).empty().text(o).attr("gstitle",o),m(i.sender).empty().text(d).attr("gstitle",d),m(i.rlabel).empty().text(l).attr("gstitle",l),m(i.receiver).empty().text(n).attr("gstitle",n),setTimeout(function(){i.getElementsByClassName("zgs19_gsCalloutFooter")[0].scrollTo(0,0)},0),h.actionList=[{open:"common.open"},{copyLink:"gs.search.callout.copylink"}],h.setConnectorCalloutEleSize(i),"ERROR"!=e&&null!=e&&(g=n=!1,e.hasOwnProperty("actualContent")?(g=!0,m(i.connectorpreviewHolder).css("display","none"),m(i.content).empty(),m(i.content).css("display","block"),m(".zgs19_gsConnCalloutFooter").css("overflow-x","auto"),m("#zgs20_gsConnectorCallout").find(".zgs19_gsCalloutContentInfo").css("padding","15px"),m("#zgs20_gsConnectorCallout").find(".zgs19_gsCalloutContentInfo").addClass("zgs19_gsBorderBox"),e.actualContent&&"null"!=e.actualContent&&(m(i.content).append(e.actualContent),h.checkConnectorDataAndAddDomain(i.content))):"1"==s.cpt||"7"==s.cpt||"9"==s.cpt?(m(".zgs19_gsConnCalloutFooter").css("padding","0px"),m(".zgs19_gsConnCalloutFooter").removeClass("zgs19_gsBorderBox"),m(i.content).css("display","none"),u.gsconnector.renderConnectorPreview(i,s,r)):"6"==s.cpt?u.gsconnector.renderConnectorPreview(i,s,r):"5"===s.cpt?u.renderRes(s,t,r,{name:"cnt",email:"emid",mobile:"cntn",phone:"phone",photo:"photo",extn:"cnextn",deptname:"dept"}):"8"===s.cpt?u.renderRes(s,t,r,{name:"dept",email:"email",support_email:"support_mail",mobile:"mobile",phone:"phone",photo:"photo",extn:"extn",deptname:"",summ:"summ"}):"3"==s.cpt?h.renderLinkDetails(i,s):(m("#zgs20_gsconnectorprevLoader").css("display","block"),u.Utils.obtainPageOpenBtn(i,s)),"1"!=s.cpt&&"7"!=s.cpt||(n=!0),r=s.ct||"",n&&r?(r=u.getI18NMsg("gs.search.result.connector.callout.lastCached")+" "+r,m(i.clabel).empty().text(r).attr("gstitle",r)):m(i.clabel).empty()),"5"!==s.cpt&&"8"!==s.cpt&&(h.addCalloutActionList(i,g,s),u.calloutVisitRequest())},h.getPrevUrl=function(e){var s=e.cid,t=e.oid||e.pk_id,e=e.accId||u.getResultAccountId()||e[u.account_id];return"/zgssearch/esearch/preview?"+(u.originParam?u.originParam+"&":"")+"action=getFile&app_id="+e+"&object_id="+encodeURIComponent(t)+"&field_name=pdfsource&data_source="+s+"#toolbar=0"},h.setPreviewBtnPosition=function(e){var s=((m(e.calloutFooter).height()||0)-m(e.connPageTxt).height())/2;m(e.connPageTxt).css("margin",s+"px auto"),m(e.connectorpreviewHolder).css("display","block"),m(e.content).css("display","block")},h.calloutErrorMsg=function(e,s){var t=u.isPreviewCard(s);(u.getCurrentSelectedElem()||t)&&(u.hideCalloutLoader(s),e="ERROR"===e?u.getI18NMsg("gs.search.error.generic_error_messege"):u.getI18NMsg("gs.search.result.connector.status.callout.errortext"),m("#zgs20_gsCalloutErrorPage").text(e),m("#zgs20_gsCalloutErrorPage").show())},h.checkConnectorDataAndAddDomain=function(e){var s=u.getCurrentResObj(),s=h.openConnectorResult(s),t=u.getURLHostName(s);m(e).find("img").each(function(){var e=m(this).attr("src");e&&0===e.indexOf("/")&&u.network.imageRenderer.renderImage(u.httpstxt+"://"+t+e,null,function(e){m(this).attr("src",e)})}),m(e).find("a").each(function(){var e,s=m(this).attr("href");s&&(0!=s.indexOf("http")&&0!=s.indexOf("mailto:")&&0!=s.indexOf("#")&&(e=0==s.indexOf("/")?"":"/",m(this).attr("href",u.httpstxt+"://"+t+e+s)),m(this).removeAttr("onclick"),m(this).attr("target","_blank"),m(this).attr("rel","noopener noreferrer"))})},h.addCalloutActionList=function(e,s,t){var a=e.getElementsByClassName("zgs19_gsCalloutActionList");m(a).empty().remove(),m(e.calloutActionHolder).append(m("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var a=e.getElementsByClassName("zgs19_gsCalloutActionList"),r=h.actionList,o=r.length,i=t.hasOwnProperty("url")?t.url:"",n=(t.hasOwnProperty("cpt")&&t.cpt,0),l=0;l<o;l++){var g,c,d=r[l];for(g in d)u.savePreviewNeeded(g)&&(s&&"open"!==g&&"copyLink"!==g||!(i||"copyLink"!=g&&"open"!=g)?n+=1:(c=u.getI18NMsg(d[g]),m(a).append(m("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:g,service:p.ORGRESOURCES,gstitle:c}).text(c))))}n==o&&(m(e.actionlist).css("display","none"),m(e.actionPipe).css("display","none"))},h.openConnectorResult=function(e){return e.url||""},h.renderWelcomePage=function(e,s,t){m("#zgs20_gsconnectorprevLoader").css("display","block"),m(e.connectorWelPage).css("display","none");var a=(new u.ZSPreview).createPreviewObj(u.IFRAME);a.setLoaderIconId("zgs20_gsconnectorprevLoader"),a.setParentId("zgs20_gsConnectorWelPage"),a.setPreviewHolder("connectorpreviewHolder"),a.setCalloutHolder("zgs20_gsConnectorCallout"),a.setIframeClassName("zgs19_Border0px zgs19_gsDocsIframeTag"),a.setIframeId("zgs20_gsConnectorIframe"),a.setIframeUrl(s.url),a.setSandbox("allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-presentation allow-same-origin allow-scripts"),a.renderPreview(),setTimeout(function(){m(e.calloutFooter).scrollTop(0),m(e.calloutFooter).scrollLeft(0)},0),u.getCurrentResObj().did!==s.did&&!u.isPreviewCard(t)||(u.hideCalloutLoader(t),m(e.connPageTxt).remove(),m(e).css("display","block")),h.setConnectorCalloutEleSize(e),u.calloutVisitRequest()},h.renderfeedbackForm=function(){var e;0<m("#zgs20_gsIntranetfeedbackform").length?m("#zgs20_gsIntranetfeedbackform").css("display","block"):(e=u.getFourDotLoader("zgs20_gsconnectorprevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsConnectorprevLoader zgs19_gsDisplayNone"),m("#zgs20_gsConnectorCallout").css("display","none"),m("#zgs20_gsSearchResultRight").append(e),m("#zgs20_gsconnectorprevLoader").css("display","block"),m("#zgs20_gsSearchResultRight").find("iframe").remove(),(e=(new u.ZSPreview).createPreviewObj(u.IFRAME)).setLoaderIconId("zgs20_gsconnectorprevLoader"),e.setParentId("zgs20_gsSearchResultRight"),e.setPreviewHolder("connectorpreviewHolder"),e.setCalloutHolder("zgs20_gsConnectorCallout"),e.setIframeUrl("https://forms.zohopublic.com/zohopeople239/form/ContactForm/formperma/vmt2__xqtOJ1Fn3tjIsn-7yc0yX3UO7K8r665ykiREE"),e.setIframeClassName("zgs19_Border0px zgs19_gsDocsIframeTag"),e.setIframeId("zgs20_gsConnectorFeedbackIframe"),e.renderPreview())},h.getURLForPreview=function(e){var s=e.cpt,t="";return"7"==s?t=e.url:"9"==s?(t=e.eurl||"").indexOf("zgs=1")<=-1&&(t+="?zgs=1"):t=h.getPrevUrl(e),t},h.renderConnectorPreview=function(s,e,t){if(u.isExtension)if(u.isArrayContain(e.cpt,["1","4","6","9"])){m("#zgs20_gsconnectorprevLoader").css("display","none");var a=new u.ZSPreview;return(l=a.createPreviewObj(u.FOLDER)).setCardObj(""),l.setPreviewHolder(s.calloutFooter),l.setCalloutHolder("zgs20_gsConnectorCallout"),l.setParentId("zgs20_gsConnectorPreviewHolder"),l.setLoaderIconId("zgs20_gsdocsprevLoader"),l.renderPreview(),u.calloutVisitRequest(),void h.setPreviewBtnPosition(s)}var r,o,i=e.ty,n=e.cpt;!t||t.type!==u.dbCrdCalloutType&&t.type!==u.crdPagecalloutType?o="zgs20_gsConnectorPreviewHolder":(r=m("#"+t.calloutId).find("#zgs20_gsConnectorPreviewHolder"),o="zgs20_gs_"+t.calloutId+"ConnectorPreviewHolder",r.attr("id",o));var l,g,c,d,p,a=new u.ZSPreview;(l=a.createPreviewObj(u.IFRAME)).setLoaderIconId("zgs20_gsconnectorprevLoader"),l.setParentId(o),l.setPreviewHolder("connectorpreviewHolder"),l.setCalloutHolder("zgs20_gsConnectorCallout"),t&&t.hasOwnProperty("cardId")&&l.setCardObj(t),"null"!==i?(g=function(){l.setIframeClassName("zgs19_Border0px zgs19_gsDocsIframeTag"),l.setIframeUrl(d),l.setIframeId("zgs20_gsConnectorIframe"),l.renderPreview()},m("#zgs20_gsconnectorprevLoader").css("display","block"),m(s.connectorpreviewHolder).empty(),c="",d=h.getURLForPreview(e),"6"==n?u.network.imageRenderer.renderImage(d,null,function(e){(c=_.createElement("img")).className="zgs19_Border0px zgs19_gsDocsIframeTag",c.setAttribute("frameborder","0"),c.setAttribute("src",e),c.setAttribute("width","100%"),c.setAttribute("height","100%"),c.onload=function(){setTimeout(function(){m("#zgs20_gsconnectorprevLoader").css("display","none"),m(s.connectorpreviewHolder).css("display","block")},500)},m(s.connectorpreviewHolder).append(c)}):"7"==n?(p=function(){h.renderLinkDetails(s,e),m("#zgs20_gsconnectorprevLoader").css("display","none")},fetch(d).then(e=>{var s=new URL(_.referrer).hostname,t=new URL(e.url).hostname,a="SAMEORIGIN"===e.headers.get("X-Frame-Options");(!e.ok&&s!==t&&a?p:g)()}).catch(e=>{p()})):g()):l.previewErrorInfo()},h.renderLinkDetails=function(e,s){m(e.connPageTxt).remove();var t=s.url||"",s=s.title||"",s=m("<div>",{class:"zgs19_gsPreviewTxt",gs:"connPageTxt"}).append(m("<div>",{class:"zgs19_gsConnectorLinkDiv zgs19_gsMxWid800Px",gs:"LinkHolder"}).append(m("<div>",{class:"zgs19_gsConnectorLinkImgDiv zgs19_gsCurPointer zgs19_gsfl",gs:"zgs20_gsConnectorLinkImageDiv",id:"zgs20_gsConnectorLinkImageDiv"})).append(m("<div>",{class:" zgs19_gsConnectLinkRightPanel zgs19_gsfl"}).append(m("<div>",{class:"zgs19_gsConnectorLinkTitleDiv"}).append(m("<div>",{id:"zgs20_gsConnectorLinkTitle",class:"zgs19_gsConnectorLinkTitle zgs19_gsOverflow zgs19_gsfl zgs19_gsLinkElem",gs:"contactsurl",gstitle:s,url:t}).text(s))).append(m("<div>",{class:"zgs19_gsConnectorLinkDescDiv"}).append(m("<div>",{class:"zgs19_gsConnectLinkDesc zgs19_gsOverflow zgs19_gsfl zgs19_gsMxHt20Px",gs:"zgs20_gsConnectorLinkDesc"}).text(t)))));m(e.connectorpreviewHolder).append(s),u.setGSTagElems(e),m(e.zgs20_gsConnectorLinkImageDiv).empty().append(m("<img>",{id:"zgs20_gsConnectorLinkImage",class:"zgs19_gsResultsUniIcons zgs19_gsConnectorToolsCoutIcon zgs19_gsCurPointer zgs19_gsfl",src:u.gsspacer,url:t,gs:"contactsurl"})),m(e.connPageTxt).show(),h.setPreviewBtnPosition(e)},h.setServiceEleSize=function(e,s,t){t=t||u.getTargetElem("zgs20_gsConnectorCallout");u.setGSTagElems(t),"5"==(u.getCurrentResObj().cpt||"")?u.gscontacts.setContactsCalloutEleSize(t):h.setConnectorCalloutEleSize(t),e&&m("#"+e).css("height",s+"px")},h.getPreviewCrdParams=function(){var e=u.getCurrentResObj(),s={};return"2"===e.cpt?s={entity_id:e.did,wikiId:e.wid,wikiCatId:e.wcid}:(s.entity_id=e.oid,s.cid=e.cid,s.account_id=u.getResultAccountId()),s},h)}(zgssearch,window),zgssearch.Template={},zgssearch.Template.init_department=!1,zgssearch.Template.iconTemplate=function(e){e="card"==e?"zgs19_gsCardResultCell1":"zgs19_gsSearchResultCell1";return _jQueryGS("<template>",{id:"iconTemplate",class:"zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:e+" zgs19_iconTemp",id:"iconHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder zgs19_iconTemp"}).append(_jQueryGS("<img>",{class:"group_icon",gs:"AttachIcon",src:zgssearch.gsspacer,gstitle:"iconTitle"})).append(_jQueryGS("<span>",{class:"group_icon",gs:"resultMenuItem",gstitle:"iconTitle"}))))},zgssearch.Template.infoTemplate=function(){return _jQueryGS("<template>",{id:"infoTemplate",class:"zgs19_gsDisplayNone"}).append(_jQueryGS("<div>").append(_jQueryGS("<div>",{id:"temp1",class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<div>",{id:"temp1Span"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl zgs19_gstemp1Span"})).append(_jQueryGS("<span>",{class:"zgs19_gstemp1Span",istip:!0})))).append(_jQueryGS("<div>",{id:"temp2",class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<div>",{id:"temp2Span"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl zgs19_gstemp2Span"})).append(_jQueryGS("<span>",{class:"zgs19_gstemp2Span",istip:!0})))).append(_jQueryGS("<div>",{id:"temp3",class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<div>",{id:"temp2Span"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl zgs19_gstemp3Span"})).append(_jQueryGS("<span>",{class:"zgs19_gstemp3Span",istip:!0})))))},zgssearch.Template.resultTitleTemplate=function(){return _jQueryGS("<template>",{id:"resultTitleTemplate",class:"zgs19_gsDisplayNone"}).append(_jQueryGS("<div>").append(_jQueryGS("<div>",{id:"temp1",class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow"}).append(_jQueryGS("<span>",{id:"temp1Span",class:"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl zgs19_gstemp1Span"})).append(_jQueryGS("<span>",{class:"zgs19_gstemp1Span",gs:"resultTitle",istip:!0}))).append(_jQueryGS("<div>",{id:"temp2",class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<div>",{id:"temp2Span"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl zgs19_gstemp2Span"})).append(_jQueryGS("<a>",{class:"zgs19_gstemp2",istip:!0})))).append(_jQueryGS("<div>",{id:"temp3",class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<div>",{id:"temp2Span"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl"})).append(_jQueryGS("<span>",{istip:!0})))))},zgssearch.Template.getMailTemplate=function(e,s,t,a,r){var o=zgssearch.getGSConstantObj()||{},i="",n="",l="",g=!0===e[a.isBold]?"zgs19_gsFtWeightNormal":"zgs19_gsFtWeightBold",l=e[a.isBold]?zgssearch.getMailImageStatus(1):zgssearch.getMailImageStatus(0),c=(c=e[a.subject]=zgssearch.replaceHTMLEntity(e[a.subject])||"")||"("+zgssearch.getI18NMsg("gs.search.result.mail.subject")+")",d=e[a.has_attachment]||"",p=e[a.display_time]||"",u=e[a.sender]||"",h=e[a.folder_id]||"",_=e[a.folder_name]||"",e=zgssearch.resultUtil.querySlt(document,"#iconTemplate"),i=zgssearch.resultUtil.querySlt(e,"div"),a=document.importNode(i,!0);a.querySelector("img.group_icon").outerHTML="";e=a.querySelector("span.group_icon");e.setAttribute("class",l.image),e.setAttribute("gstitle",l.title),zgssearch.resultUtil.setAttVal(e,"gs","resultMenuItem");l=zgssearch.resultUtil.querySlt(document,"#resultTitleTemplate");i=zgssearch.resultUtil.querySlt(l,"div");e=document.importNode(i,!0);e.setAttribute("class","zgs19_gsHgt20Px");n=e.querySelector("#temp1").querySelectorAll("span.zgs19_gstemp1Span"),l=e.querySelector("#temp1");zgssearch.resultUtil.setAttVal(l,"class","zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow");/^(0?[1-9]|1[0-2]):[0-5][0-9] (AM|PM)$/i.test(p)?zgssearch.resultUtil.setAttVal(n[0],"gslabel",zgssearch.getI18NMsg("common.time")):zgssearch.resultUtil.setAttVal(n[0],"gslabel",zgssearch.getI18NMsg("common.date")),zgssearch.resultUtil.setAttVal(n[0],"gstitle",p),zgssearch.resultUtil.setAttVal(n[0],"class",""),_jQueryGS(n[0]).text(p),_jQueryGS(n[1]).remove();l=e.querySelector("#temp2");zgssearch.resultUtil.setAttVal(l,"class","zgs19_gsWid75Per");p=e.querySelector("#temp2Span");zgssearch.resultUtil.setAttVal(p,"class","zgs19_gsResultTitle zgs19_gsOverflow");p=p.querySelector("span.zgs19_gstemp2Span");d?p.setAttribute("class","zgs18_gsAttachIcon zgs19_gsfl"):_jQueryGS(p).remove();l=l.querySelector("a.zgs19_gstemp2");l.setAttribute("class",g),l.setAttribute("href",s),l.setAttribute("target","_blank"),l.setAttribute("rel","noopener noreferrer"),l.setAttribute("gslabel",zgssearch.getI18NMsg("common.subject")),l.setAttribute("gstitle",c),l.setAttribute("gs","resultTitle"),_jQueryGS(l).text(c);s=e.querySelector("#temp3");_jQueryGS(s).remove();l=zgssearch.resultUtil.querySlt(document,"#infoTemplate");i=zgssearch.resultUtil.querySlt(l,"div");c=document.importNode(i,!0);zgssearch.resultUtil.setAttVal(c,"class","zgs19_gsResRightFilter zgs19_gsMailFolder zgs19_gsfr zgs19_gsOverflow","#temp1");s=zgssearch.getSearchType(),l=zgssearch.getCurrentValue("folders",s),i=zgssearch.getFilterInfo(o.O365MAIL,"folders","data");i[t].hasOwnProperty(h)||(i[t][h]=_,zgssearch.updateFilterInfo(o.O365MAIL,"folders","data",i)),n=c.querySelector("#temp1").querySelectorAll("span.zgs19_gstemp1Span"),zgssearch.resultUtil.setAttVal(n[0],"class","zgs19_hvr_underlineHeader"),"Card"==r.type?zgssearch.resultUtil.setAttVal(n[0],"style","pointer-events: none;"):zgssearch.resultUtil.setAttVal(n[0],"style","pointer-events: auto;");r="";s===o.ALL||zgssearch.multiPageEnabled||"0"===l?(r="zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter",n[1].setAttribute("gs","outlookfolder"),n[1].setAttribute("fId",h),n[1].setAttribute("acc_id",t)):r="zgs19_gsOverflow zgs19_hvr_underline_filter zgs19_gsCurDefault",n[1].setAttribute("gslabel",zgssearch.getI18NMsg("gs.search.filter_through_folder")),n[1].setAttribute("gstitle",_),n[1].setAttribute("istip",!0),n[1].setAttribute("class",r),_jQueryGS(n[1]).text(_);_=n[1];_jQueryGS(n[0]).append(_),zgssearch.resultUtil.setAttVal(c,"class","zgs19_gsResultAuthor zgs19_gsOverflow","#temp2"),zgssearch.resultUtil.setAttVal(c.querySelector("#temp2Span"),"class","zgs19_gsResultAuthor zgs19_gsoverflow"),n=c.querySelector("#temp2").querySelectorAll("span.zgs19_gstemp2Span"),zgssearch.resultUtil.setAttVal(n[0],"gslabel",zgssearch.getI18NMsg("gs.search.result.mail.resultfooter.sender")),zgssearch.resultUtil.setAttVal(n[0],"gstitle",u),zgssearch.resultUtil.setAttVal(n[0],"istip",!0),zgssearch.resultUtil.setAttVal(n[0],"class",""),_jQueryGS(n[0]).text(u),_jQueryGS(n[1]).remove();n=c.querySelector("#temp3");return _jQueryGS(n).remove(),{iconDiv:a,infoDiv:e,infoDiv1:c}},zgssearch.Template.getGmailTemplate=function(e,s,t,a,r,o){zgssearch.getGSConstantObj();var i="",n="",l="",g=!0===e[a.isBold]?"zgs19_gsFtWeightNormal":"zgs19_gsFtWeightBold",l=e[a.isBold]?zgssearch.getMailImageStatus(1):zgssearch.getMailImageStatus(0),c=(c=e[a.subject]=zgssearch.replaceHTMLEntity(e[a.subject])||"")||"("+zgssearch.getI18NMsg("gs.search.result.mail.subject")+")",d=(d=e[a.display_time]||"").replace(/\bam\b/gi,"AM").replace(/\bpm\b/gi,"PM"),p=e[a.sender]||"",u=e[a.labelDetails];let h;e=zgssearch.fieldDetailsMapping[zgssearch.GSConstant.GMAIL];e&&e.label&&(h=e.label.picklistValues);for(let s=0;s<u.length;s++){let e=u[s];e.name===e.id?e.name=e.name.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}):e.id=e.name,o&&e.id===o&&(o=e.id,u.unshift(u.splice(s,1)[0])),h&&!h.data.hasOwnProperty(e.id)&&(h.data[e.id]=e.id)}a=zgssearch.resultUtil.querySlt(document,"#iconTemplate"),i=zgssearch.resultUtil.querySlt(a,"div"),e=document.importNode(i,!0);e.querySelector("img.group_icon").outerHTML="";a=e.querySelector("span.group_icon");a.setAttribute("class",l.image),a.setAttribute("gstitle",l.title),zgssearch.resultUtil.setAttVal(a,"gs","resultMenuItem");l=zgssearch.resultUtil.querySlt(document,"#resultTitleTemplate");i=zgssearch.resultUtil.querySlt(l,"div");a=document.importNode(i,!0);a.setAttribute("class","zgs19_gsHgt20Px");n=a.querySelector("#temp1").querySelectorAll("span.zgs19_gstemp1Span"),l=a.querySelector("#temp1");zgssearch.resultUtil.setAttVal(l,"class","zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow");/^(0?[1-9]|1[0-2]):[0-5][0-9] (AM|PM)$/i.test(d)?zgssearch.resultUtil.setAttVal(n[0],"gslabel",zgssearch.getI18NMsg("common.time")):zgssearch.resultUtil.setAttVal(n[0],"gslabel",zgssearch.getI18NMsg("common.date")),zgssearch.resultUtil.setAttVal(n[0],"gstitle",d),zgssearch.resultUtil.setAttVal(n[0],"class",""),_jQueryGS(n[0]).text(d),_jQueryGS(n[1]).remove();l=a.querySelector("#temp2");zgssearch.resultUtil.setAttVal(l,"class","zgs19_gsWid75Per");d=a.querySelector("#temp2Span");zgssearch.resultUtil.setAttVal(d,"class","zgs19_gsResultTitle zgs19_gsOverflow");n=l.querySelector("a.zgs19_gstemp2");n.setAttribute("class",g),n.setAttribute("href",s),n.setAttribute("target","_blank"),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("gslabel",zgssearch.getI18NMsg("common.subject")),n.setAttribute("gstitle",c),n.setAttribute("gs","resultTitle"),_jQueryGS(n).text(c);c=a.querySelector("#temp3");_jQueryGS(c).remove(),l.querySelector("span").remove();l=zgssearch.resultUtil.querySlt(document,"#infoTemplate");i=zgssearch.resultUtil.querySlt(l,"div"),_jQueryGS(i).attr("class","zgs19_gsGmailFromAndLabelDetails");i=document.importNode(i,!0);zgssearch.resultUtil.setAttVal(i,"class","","#temp1"),temp1Tag=i.querySelector("#temp1"),zgssearch.resultUtil.setAttVal(temp1Tag,"gslabel",zgssearch.getI18NMsg("common.from")),zgssearch.resultUtil.setAttVal(temp1Tag,"gstitle",p),zgssearch.resultUtil.setAttVal(temp1Tag,"istip",!0),zgssearch.resultUtil.setAttVal(temp1Tag,"class","zgs19_gsGmailFromName"),_jQueryGS(temp1Tag).append(p.replace(/<[^>]+>/g,"").trim()),_jQueryGS(temp1Tag).find("#temp1Span").remove(),zgssearch.resultUtil.setAttVal(i,"class","zgs19_gsLabelFilterActionable zgs18_gmailLabelIcon","#temp2"),d=i.querySelector("#temp2").querySelector("#temp2Span"),_jQueryGS(d.querySelectorAll(".zgs19_gstemp2Span")).remove();d=i.querySelector("#temp3");return _jQueryGS(d).remove(),{labelDetails:u,htmlTemplate:{iconDiv:e,infoDiv:a,infoDiv2:i}}},zgssearch.Template.getGmailPeekLabelDiv=function(e,s,t){let a=_jQueryGS("<span>",{class:"zgs19_gmailLabelPeekName"});a.text(e.name);let r="zgs19_gmailLabelPeekName";return t||(a.attr("gs","gmailLabel"),a.attr("acc_id",s),a.attr("gslabel",zgssearch.getI18NMsg("gs.search.filter_through_label")),a.attr("gstitle",e.name),a.attr("istip",!0),r+=" zgs19_gsOverflow"),a.attr("labelId",e.id),a.attr("class",r),a},zgssearch.Template.getGmailHiddenLabelsDiv=function(s,t,a){let r=_jQueryGS("<div>",{id:"zgs20_gsGmailLabelsDropDownContainer",class:"zgs19_gsGmailLabelsDropDown"}).append(_jQueryGS("<span>",{class:"zgs19_gmailLabelPseudoTail"}));for(let e=0;e<s.length;e++){var o=s[e].id||"",i=s[e].name||"";r.append(function(e,s,t,a){let r=_jQueryGS("<span>").text(s);return s=a?"zgs19_hvr_underline zgs19_hvr_underline_filter zgs19_gsOverflow zgs19_gsGmailLabelsDropDownItem":"",r.attr("class",s),a&&(r.attr("gslabel",zgssearch.getI18NMsg("gs.search.filter_through_label")),r.attr("istip",!0),r.attr("gs","gmailLabelDropdownFilter"),r.attr("acc_id",t),r.attr("class",s),r.attr("actiontype","contextFilters"),r.attr("fkey","labels"),r.attr("key",e),r.attr("service",GSConstant.GMAIL)),r.attr("labelId",e),_jQueryGS("<div>").append(r)}(o,i,t,a))}return r},zgssearch.connectors={getConnectorDOMId:function(e){return"connector_"+e.toLowerCase()},getCallBackURL:function(){return window.location.protocol+"//"+window.location.host+"/zgssearch/exconnector/authenticate"},getNewFlowCallBackURL:function(e){return window.location.protocol+"//"+window.location.host+"/zgssearch/exconnector/redirect/"+e},getBoxAuthURL:function(){var e=zgssearch.connectors.getCallBackURL()+"?connector=box&app_id="+zgssearch.cloud_app_id;return zgssearch.integGadgetsURL+"/auth/box?zservice=ZohoSearch&serURL="+encodeURIComponent(e)},getGDriveAuthURL:function(){var e=zgssearch.connectors.getCallBackURL()+"?connector="+zgssearch.GSConstant.GOOGLEDRIVE+"&app_id="+zgssearch.cloud_app_id;return zgssearch.integGadgetsURL+"/auth/google?zservice=ZohoSearch&authScopes=GDRIVE.READ&&multipleAccounts=true&serURL="+encodeURIComponent(e)},getDropBoxAuthURL:function(){var e=zgssearch.connectors.getCallBackURL()+"?connector="+zgssearch.GSConstant.DROPBOX+"&app_id="+zgssearch.cloud_app_id;return zgssearch.integGadgetsURL+"/dropbox/auth/v2?zservice=ZohoSearch&serURL="+encodeURIComponent(e)},getSlackAuthURL:function(e,r){encodeURIComponent(window.location.protocol+"//"+window.location.host+"/zgssearch/exconnector/authenticate?connector="+zgssearch.GSConstant.SLACK);var o=window.open("about:blank","connector_auth","");o.document.write('<html><head><style> .loader {margin: auto;margin-top : 350px;border: 16px solid #f3f3f3;border-radius: 50%;border-top: 16px solid #3498db;width:60px;height: 60px; animation: spin 1s linear infinite;} @keyframes spin {0% { transform: rotate(0deg); }100% { transform: rotate(360deg); } } </style></head><body><div class="loader"></div><div style="margin-top : 50px; text-align:center; font-weight:400; font-size: 25px;">Loading workspaces... Please wait.</div></body></html>'),zgssearch.uri(zgssearch.GET,window.location.protocol+"//"+window.location.host+"/zgssearch/exconnector/getStateParam?service_name="+zgssearch.GSConstant.SLACK+"&app_id="+zgssearch.cloud_app_id,"","",function(e,s){var t,a;"error"!=s?(a=e.response.state,t=zgssearch.GSConstant.slack_auth_user_scope,s=zgssearch.GSConstant.slack_auth_scope,e=zgssearch.connectors.getNewFlowCallBackURL("slack")+"?connector=slack",a=zgssearch.integGadgetsURL+"/tpa/slack?zservice=ZohoSearch&serUrl="+encodeURIComponent(e)+"&user_scope="+encodeURIComponent(t)+"&scopes="+s+"&authState="+a,zgssearch.openWindowForAuthWithTimer(a,zgssearch.GSConstant.SLACK,r,o)):(o.close(),zgssearch.Utils.showErrorMsg(zgssearch.I18N.getValue("gs.search.error.tryagain_generic_error_messege")))})},getSalesForceAuthURL:function(){var e=zgssearch.connectors.getCallBackURL()+"?connector="+zgssearch.GSConstant.SALESFORCE+"&app_id="+zgssearch.cloud_app_id;return zgssearch.integGadgetsURL+"/auth/"+zgssearch.GSConstant.SALESFORCE+"?zservice=ZohoSearch&authScopes=api&accountType=production&serURL="+encodeURIComponent(e)},getOneDriveAuthURL:function(){var e=zgssearch.connectors.getCallBackURL()+"?connector="+zgssearch.GSConstant.ONEDRIVE+"&app_id="+zgssearch.cloud_app_id;return zgssearch.integGadgetsURL+"/tpa/office365?zservice=ZohoSearch&delegatedScopes=Files.Read.All&serurl="+encodeURIComponent(e)},getEvernoteAuthURL:function(){var e=zgssearch.connectors.getCallBackURL()+"?connector="+zgssearch.GSConstant.EVERNOTE+"&app_id="+zgssearch.cloud_app_id;return zgssearch.integGadgetsURL+"/auth/"+zgssearch.GSConstant.EVERNOTE+"?zservice=ZohoSearch&mode=auth&serURL="+encodeURIComponent(e)},getIsSSOUser:function(){var t="";return zgssearch.uri(zgssearch.GET,"zgssearch/exconnector/isO365SSOUser","","",function(e,s){"error"!=s&&(e=e.response||{},t=e.isSSOUser)}),t},getO365MailAuthURL:function(e,s){var t=zgssearch.connectors.getCallBackURL()+"?connector=o365mail&app_id="+zgssearch.cloud_app_id,t=zgssearch.integGadgetsURL+"/tpa/office365?zservice=ZohoSearch&delegatedScopes=Mail.ReadWrite&serurl="+encodeURIComponent(t);zgssearch.openWindowForAuthWithTimer(t,e,s)},getAsanaAuthURL:function(){var e=zgssearch.connectors.getCallBackURL()+"?connector=asana",s=zgssearch.GSConstant.baseURL+"/zgssearch/cloudconnector/TPAuthentication?";return s+="action=reachTPFromConfiguredURL&service=asana&app_id="+zgssearch.cloud_app_id,s+="&returnBackTo="+encodeURIComponent(e)},getGmailAuthURL:function(){var e=zgssearch.connectors.getCallBackURL()+"?connector="+zgssearch.GSConstant.GMAIL+"&app_id="+zgssearch.cloud_app_id;return zgssearch.integGadgetsURL+"/auth/google?zservice=ZohoSearch&authScopes=GMAIL.MODIFY&multipleAccounts=true&serURL="+encodeURIComponent(e)},getZendeskAuthURL:function(e){var s=zgssearch.connectors.getCallBackURL()+"?connector="+zgssearch.GSConstant.ZENDESK+"&app_id="+zgssearch.cloud_app_id,s=zgssearch.integGadgetsURL+"/tpa/zendesk?zservice=ZohoSearch&scopes=read&authState="+e+"&serURL="+encodeURIComponent(s);zgssearch.openWindowForAuthWithTimer(s,zgssearch.GSConstant.ZENDESK,"")},getInputOfSubDomainName:function(){var e=_jQueryGS("<div>",{class:"zgs19_zendeskDomainHelp"}).append(_jQueryGS("<span>",{class:"zgs19_zendeskDomainHelpInfoIcon zgs18_gsInformationIcon"})).append(_jQueryGS("<div>",{class:"zgs19_zendeskDomainHelpText"}).append(_jQueryGS("<span>").text(zgssearch.I18N.getValue("integ.typeInOnly"))).append(_jQueryGS("<span>",{class:"zgs19_zendeskInfoBoldText"}).text(' "zylker" ')).append(_jQueryGS("<span>").text(zgssearch.I18N.getValue("integ.ifYourDomainIs"))).append(_jQueryGS("<span>",{class:"zgs19_zendeskInfoHighlightedTxt zgs19_zendeskInfoBoldText"}).text(" zylker.")).append(_jQueryGS("<span>",{class:"zgs19_zendeskInfoBoldText"}).text("zendesk.com"))),e=_jQueryGS("<div>",{class:"zgs19_zendeskSubDomainContainer"}).append(_jQueryGS("<input>",{id:"zgs20_zendeskSubDomain",placeholder:zgssearch.I18N.getValue("integ.subdomain")})).append(_jQueryGS("<label>").text(".zendesk.com")).append(e);zgssearch.popupUtils.openConfirmationPopup({header:zgssearch.I18N.getValue("integ.enterZendeskSubDomain"),gsattr:"zendeskSubDomain",leftBtnTxt:zgssearch.I18N.getValue("common.cancel"),leftBtnAction:"justClose",leftBtnClass:"zgs19_gsConfirmSubtleAction",rightBtnTxt:zgssearch.I18N.getValue("integ.addAccount"),rightBtnAction:"getZendeskSubDomainAndAuthenticate",rightBtnClass:"zgs19_gsConfirmMainAction zgs19_gsConfirmBg",closeAction:"justClose",htmlContentDiv:e,isMediumSize:!0}),_jQueryGS("#zgs20_zendeskSubDomain").focus(),zgssearch.LINE_ICON_MAP.hasOwnProperty("zgs18_gsInformationIcon")&&zgssearch.obtainLineIconPaths("zgs18_gsInformationIcon",_jQueryGS(".zgs19_zendeskDomainHelpInfoIcon"))},getAuthURL:function(e,s,t){var a,r=null;switch(e){case zgssearch.GSConstant.DROPBOX:r=zgssearch.connectors.getDropBoxAuthURL();break;case zgssearch.GSConstant.BOX:r=zgssearch.connectors.getBoxAuthURL();break;case zgssearch.GSConstant.SLACK:r=zgssearch.connectors.getSlackAuthURL();break;case zgssearch.GSConstant.GOOGLEDRIVE:t||(a=zgssearch.network.getFingerPrintFilePath("images/gdrive_auth_permission_example.png",!0),zgssearch.popupUtils.openConfirmationPopup({header:zgssearch.I18N.getValue("integ.addAccount"),popupMsg:zgssearch.I18N.getValue("integ.googleScopeConsent"),gsattr:"addAccountConfirmation",leftBtnTxt:zgssearch.I18N.getValue("common.cancel"),leftBtnAction:"justClose",leftBtnClass:"zgs19_gsConfirmSubtleAction",rightBtnAction:"addGdriveAccount",rightBtnTxt:zgssearch.I18N.getValue("gs.search.filter.cliq.continue"),rightBtnClass:"zgs19_gsConfirmMainAction zgs19_gsConfirmBg",closeAction:"justClose",htmlContentDiv:_jQueryGS("<div>",{class:"zgs19_googleServiceAuthExample"}).append(_jQueryGS("<img>",{src:a}))})),r=zgssearch.connectors.getGDriveAuthURL();break;case zgssearch.GSConstant.SALESFORCE:r=zgssearch.connectors.getSalesForceAuthURL();break;case zgssearch.GSConstant.O365MAIL:r=zgssearch.connectors.getO365MailAuthURL(e);break;case zgssearch.GSConstant.ONEDRIVE:r=zgssearch.connectors.getOneDriveAuthURL();break;case zgssearch.GSConstant.EVERNOTE:r=zgssearch.connectors.getEvernoteAuthURL();break;case zgssearch.GSConstant.ASANA:t||zgssearch.popupUtils.openConfirmationPopup({header:zgssearch.I18N.getValue("integ.addAccount"),popupMsg:zgssearch.I18N.getValue("integ.asanaAddAccConsent"),gsattr:"addAccountConfirmation",leftBtnTxt:zgssearch.I18N.getValue("common.cancel"),leftBtnAction:"justClose",leftBtnClass:"zgs19_gsConfirmSubtleAction",rightBtnAction:"addAsanaAccount",rightBtnTxt:zgssearch.I18N.getValue("gs.search.filter.cliq.continue"),rightBtnClass:"zgs19_gsConfirmMainAction zgs19_gsConfirmBg",closeAction:"justClose"}),r=zgssearch.connectors.getAsanaAuthURL(e);break;case zgssearch.GSConstant.GMAIL:t||(a=zgssearch.network.getFingerPrintFilePath("images/gmail_auth_permission_example.png",!0),zgssearch.popupUtils.openConfirmationPopup({header:zgssearch.I18N.getValue("integ.addAccount"),popupMsg:zgssearch.I18N.getValue("integ.googleScopeConsent"),gsattr:"addAccountConfirmation",leftBtnTxt:zgssearch.I18N.getValue("common.cancel"),leftBtnAction:"justClose",leftBtnClass:"zgs19_gsConfirmSubtleAction",rightBtnAction:"addGmailAccount",rightBtnTxt:zgssearch.I18N.getValue("gs.search.filter.cliq.continue"),rightBtnClass:"zgs19_gsConfirmMainAction zgs19_gsConfirmBg",closeAction:"justClose",htmlContentDiv:_jQueryGS("<div>",{class:"zgs19_googleServiceAuthExample"}).append(_jQueryGS("<img>",{src:a}))})),r=zgssearch.connectors.getGmailAuthURL();break;case zgssearch.GSConstant.ZENDESK:r=zgssearch.connectors.getInputOfSubDomainName()}if(!t||!zgssearch.connectors.configure.callback)return r;zgssearch.connectors.configure.callback()},configure:function(e,s){0<_jQueryGS("#zgs20_addNewAcc").length&&_jQueryGS("#zgs20_addNewAcc").attr("disabled","true");var t=zgssearch.getParentNode(e),a=_jQueryGS(e).attr("ser")||_jQueryGS(t).attr("ser"),r=zgssearch.connectors.getAuthURL(a);r&&!zgssearch.popupUtils.isPopupOpened&&zgssearch.openWindowForAuthWithTimer(r,a,e),zgssearch.connectors.configure.callback=function(){zgssearch.openWindowForAuthWithTimer(r,a,e)}},checkAndUpdateEnabledAccountsList:function(e){var s,t=zgssearch.gssettingsapptab.getStoredApplicationData(e);t.hasOwnProperty("all")&&(s=zgssearch.getEnabledAccListFromWidget(e,t),t.eO=s,zgssearch.gssettingsapptab.storeApplicationData(e,t))},checkIsDeleteAllowed:function(e,s){var t,a,r=!0,o=zgssearch.gssettingsapptab.getStoredApplicationData(e);return o.hasOwnProperty("all")&&(t=o.all||[],(a=o.eO||[]).length<=0&&(zgssearch.connectors.checkAndUpdateEnabledAccountsList(e),a=(o=zgssearch.gssettingsapptab.getStoredApplicationData(e)).eO||[]),r=!(1<t.length&&1===a.length&&a[0]===s)),r},delAccConfirmation:function(e){var s=zgssearch.getParentNode(_jQueryGS(e).parentsUntil("zgs19_gsAccEnabCls")[0]),t=_jQueryGS(s).attr("ser"),e=_jQueryGS(s).attr("accId");zgssearch.connectors.checkIsDeleteAllowed(t,e)?((s={}).service_name=t,s.connector_id=e,this.delAccConfirmation.accountObject=s,zgssearch.popupUtils.openConfirmationPopup({header:zgssearch.I18N.getValue("integ.deleteAccount"),popupMsg:zgssearch.I18N.getValue("gs.con.delete.confirm.title"),gsattr:"deleteAccountConfirmation",leftBtnTxt:zgssearch.I18N.getValue("common.cancel"),rightBtnTxt:zgssearch.I18N.getValue("gs.common.yesRemove"),rightBtnAction:"yesDelete"})):zgssearch.showbannertip({ty:3,msg:zgssearch.I18N.getValue("gs.con.not.allowed.dec"),bannerShowTime:5e3})},deleteAccount:function(){var s,t,a,e=this.delAccConfirmation.hasOwnProperty("accountObject");e?(s=(e=this.delAccConfirmation.accountObject).service_name,t=e.connector_id,e="service_name="+s+"&connector_id="+t+"&app_id="+zgssearch.cloud_app_id,(a={url:"/zgssearch/exconnector/revoke",type:"POST",dataType:"text"}).data=e,a.success=function(e){var s=JSON.parse(e)?.response;"success"==(s&&s.status)?(zgssearch.gsCloud.closeLoaderAndPopUp(),afterDeleteSuccess()):a.error(e)},a.error=function(e){try{(1101==zgssearch.jsonParse(e.responseText).response.error_code?afterDeleteSuccess:error_banner)()}catch(e){error_banner()}},error_banner=function(){zgssearch.showbannertip({ty:3,msg:zgssearch.I18N.getValue("integ.accNotDeleted"),bannerShowTime:5e3})},afterDeleteSuccess=function(){_jQueryGS("#zgs20_gsSettingprevLoader").show();var e=zgssearch.getFourDotLoader("zgs20_gsSettingprevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsConnectorprevLoader zgs19_gsDisplayNone");_jQueryGS("#zgs20_gs_"+s+"AccView").empty().append(e),zgssearch.showbannertip({ty:1,msg:zgssearch.I18N.getValue("gs.con.delete.success"),bannerShowTime:5e3}),zgssearch.gsCloud.deleteAppAccInfo(s,t),zgssearch.connectors.addCloudServiceInList(s)},zgssearch.network.uri(a)):zgssearch.showbannertip({ty:3,msg:zgssearch.I18N.getValue("integ.accNotDeleted"),bannerShowTime:5e3})},updateWidgetData:function(e,s){var t,a,r,o,i,n,l=zgssearch.gssettingsapptab.getStoredApplicationData(e);l.hasOwnProperty("all")&&(t=l.hasOwnProperty("all")?l.all:"",a=l.hasOwnProperty("aD")?l.aD:"",-1<t.indexOf(s)&&t.splice(t.indexOf(s),1),delete a[s],(i=(o=(r=zgssearch.GSConstant.widgetObject||{}).servicesinfo||{})[e])&&i.eO?(n=i.eO,!s||-1<(s=n.indexOf(s))&&n.splice(s,1),i.eO=l.eO=n):(r.allserviceslist&&r.allserviceslist.hasOwnProperty(e)&&r.allserviceslist.push(e),(i={}).eO=l.eO),i.all=t,i.aD=a,o[e]=i,r.servicesinfo=o,zgssearch.GSConstant.widgetObject=r,zgssearch.setWidgetResponseData(e,o[e]),zgssearch.formatWidgetData(e,o[e]),zgssearch.gssettingsapptab.storeApplicationData(e,l))},appendReconnectDiv:function(e){e=_jQueryGS(e),e.attr("ser"),e=e.attr("id");_jQueryGS("#"+("zgs20_hoverBlock_"+e)).removeClass("zgs19_gsDisplayNone")},removeReconnectDiv:function(e){e=_jQueryGS(e),e.attr("ser"),e=e.attr("id");_jQueryGS("#"+("zgs20_hoverBlock_"+e)).addClass("zgs19_gsDisplayNone")},configureConnector:function(e,s){e=zgssearch.connectors.getAuthURL(e,s,!0),s=window.open("about:blank","connector_auth","");zgssearch.openWindowForAuth(e,s)},reconnectConnector:function(e){zgssearch.connectors.configureConnector(e,!0)},getCloudConnectors:function(){},getConnectorAccounts:function(d,p,u){var e=zgssearch.getFourDotLoader("zgs20_gsSettingprevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsConnectorprevLoader zgs19_gsDisplayNone");_jQueryGS("#zgs20_gsServiceAccountsBlock").append(e),_jQueryGS("#zgs20_gsSettingprevLoader").css("display","block");e={url:"/zgssearch/exconnector/connections",type:"GET",dataType:"text"};e.data="service_name="+d,e.success=function(e){if("success"===(e=(e=zgssearch.jsonParse(e)).response).status.toLowerCase()){var s=e.connections||"";_jQueryGS("#zgs20_gsSettingprevLoader").css("display","none");var t=zgssearch.gssettingsapptab.getStoredApplicationData(d),a=t.hasOwnProperty("aD")?t.aD:{};if(0<s.length){for(var r=0;r<s.length;r++){var o=s[r],i=o.CONNECTOR_ID||"",n=o.ADDED_TIME||"",l=o.AUTH_ERROR||!1,g=o.PARENT_SERVICE_ID||"",c=o.ZS_APP_NAME||"";a.hasOwnProperty(i)||(a[i]={},a[i].e=!0,a[i].n=o.CONNECTOR_NAME,t.all.push(i)),a.hasOwnProperty(i)&&(a[i].added_time=n,a[i].is_token_expired=l,a[i].psId=g,a[i].appName=c)}zgssearch.setWidgetResponseData(d,t),zgssearch.gssettingsapptab.storeApplicationData(d,t)}if(u)return void u()}zgssearch.gssettingsapptab.showApplicationData(d,p)},zgssearch.network.uri(e)},getConnectorInfo:function(e){var s={};s.url="/zgssearch/exconnector/connections/"+e,s.type="GET",s.dataType="text",s.success=function(e){JSON.parse(e)},zgssearch.network.uri(s)},addCloudServiceInList:function(t){zgssearch.hasOwnProperty("isCloudConnectorsEmbeddedAsComponent")&&zgssearch.isCloudConnectorsEmbeddedAsComponent&&zgssearch.fetchWidgetData(t,function(e){var s;zgssearch.serviceList=[],(e="string"==typeof e?zgssearch.jsonParse(e):e)&&e.widget&&e.widget.servicesinfo&&(s=e.widget.servicesinfo.hasOwnProperty(t)?e.widget.servicesinfo[t]:{},0===Object.keys(s).length?(zgssearch.GSConstant.accessibleServices=zgssearch.GSConstant.accessibleServices.filter(e=>e!==t),zgssearch.GSConstant.enabledserviceslist=zgssearch.GSConstant.enabledserviceslist.filter(e=>e!==t)):(-1==zgssearch.GSConstant.accessibleServices.indexOf(t)&&zgssearch.GSConstant.accessibleServices.push(t),-1==zgssearch.GSConstant.enabledserviceslist.indexOf(t)&&zgssearch.GSConstant.enabledserviceslist.push(t)),zgssearch.GSConstant.widgetObject.servicesinfo[t]=s,zgssearch.formatWidgetData(t,s),zgssearch.setCloudAppObj(e.widget,t),zgssearch.setWidgetResponseData(t,s),zgssearch.storeSuitServiceList(),zgssearch.checkAndRenderServiceList())})},handleConnectorAuthResponse:function(e,s,t,a,r,o){if("1"==t||"2"==t)"1"==t?(i=zgssearch.I18N.getValue("gs.con.auth.success",[e]),zgssearch.uiServiceProperties.hasOwnProperty("isTryNowOptionEnabled")&&zgssearch.uiServiceProperties.isTryNowOptionEnabled&&zgssearch.isActionPerformableInHandler("tryNowInParentFrame")?(_jQueryGS("#zgs20_cloudIntegration").append(_jQueryGS("<div>",{id:"zgs20_tryNowToast",class:"zgs19_successToastContainer zgs19_gsbannertiptext zgs19_gsbannertip zgs19_gsBoxShadowPopup"}).append(_jQueryGS("<div>",{id:"zgs20_gsbannertipicon",class:"zgs19_gsbannertipicon zgs19_gsfl zgs18_gsSuccessIcon"})).append(_jQueryGS("<div>",{class:"zgs19_tryNowToastMsg"}).append(zgssearch.I18N.getValue("gs.con.auth.success",[e])).append(_jQueryGS("<span>",{class:"zgs19_tryNowButton",gs:"tryNowInParentFrame",serviceName:s}).text(zgssearch.I18N.getValue("gs.search.trynow"))))),zgssearch.lastAddedService=s,setTimeout(()=>{_jQueryGS("#zgs20_cloudIntegration #zgs20_tryNowToast").remove()},1e4)):zgssearch.showbannertip({ty:1,msg:i}),zgssearch.connectors.addCloudServiceInList(s)):(i=zgssearch.I18N.getValue("integ.requestSentToAdmin",[e]),zgssearch.showbannertip({ty:1,msg:i})),o&&(zgssearch.gsCloud.addAppAccInfo(s,o),zgssearch.gsCloud.manageAcc(),_jQueryGS("#zgs19_gs"+s+"AppTitleView").click());else{var i,n=3;switch(zgssearch.getLocalStorageValue("zs_error_code")){case"2209":n=1,i=zgssearch.I18N.getValue("gs.con.auth.addedSuccessfully"),zgssearch.gsCloud.manageAcc(),_jQueryGS("#zgs19_gs"+s+"AppTitleView").click();break;case"3":i=zgssearch.I18N.getValue("gs.con.auth.account.operation_cancelled");break;case"4":i=zgssearch.I18N.getValue("gs.con.auth.account.limit_exceeded");break;case"5":i=zgssearch.I18N.getValue("gs.con.auth.account.exists");break;case"7":i=zgssearch.I18N.getValue("gs.con.auth.operation_failure");break;case"2213":i=zgssearch.I18N.getValue("gs.search.connectors.callback.scope_not_allowed");break;case"2214":i=zgssearch.I18N.getValue("integ.zendeskRoleFailed");break;default:i=zgssearch.I18N.getValue("gs.con.auth.failure")}zgssearch.showbannertip({ty:n,msg:i})}zgssearch.deleteLocalStorageValue("zs_error_code")},getConnectors:function(){var e={url:"/zgssearch/exconnector/allconnectors",type:"GET",dataType:"text",success:function(e){e=zgssearch.jsonParse(e);zgssearch.gssettingsapptab.connectorDetails=e,zgssearch.gssettingsapptab.renderCloudConnectors(e)}};zgssearch.network.uri(e)},constructZSYNCDownloadURL:function(e,s){s=zgssearch.connectors.getServiceParams(e,s),e=e?e.service:_jQueryGS(zgssearch.curSelectedEle).attr("service");s.action=e===zgssearch.GSConstant.ASANA?"getAsanaAttachmentDownloadUrl":"getDownloadUrl";e="search_download_"+(new Date).getTime();return zgssearch.GSConstant.ud_download_server_url+"?event-id="+e+"&x-cli-msg="+encodeURIComponent(JSON.stringify(s))+"&x-service="+zgssearch.GSConstant.ud_service_name},addFileToWD:function(e,s){var t,a=zgssearch.connectors.getServiceParams(e,s),r="action=addToWD_"+(e?e.service:zgssearch.getCurSelectedEleAttr("service"));for(t in a)r+="&"+t+"="+a[t];r+="&folder_id="+e.folderId;e={url:"/zgssearch/exconnector/serviceaction",type:"POST"};e.data=r,e.success=function(e){_jQueryGS("#zgs20_wdMount").removeClass("zgs19_gsWDoverLay"),_jQueryGS("#zgs20_gsWDoverlayLoader").remove(),1==zgssearch.GSConstant.UIType&&"block"==_jQueryGS("#zgs20_gsOverlayDialog").css("display")&&zgssearch.popupUtils.closeOverlayDialog();var s,t=e.response;if(t&&t.status)switch(t.status){case"success":t.workdrive_filename&&(s=t.workdrive_filename),zgssearch.showbannertip({ty:1,msg:zgssearch.I18N.getValue("gs.search.result.addToWd.success",[s])});break;case"failed":"failure_SL"==t.error_message?zgssearch.showbannertip({ty:3,msg:zgssearch.I18N.getValue("gs.search.result.addToWd.msg.size_exceeded")}):zgssearch.showbannertip({ty:3,msg:zgssearch.I18N.getValue("gs.search.result.addToWd.error")})}},e.error=function(e){_jQueryGS("#zgs20_wdMount").removeClass("zgs19_gsWDoverLay"),_jQueryGS("#zgs20_gsWDoverlayLoader")[0].remove(),1==zgssearch.GSConstant.UIType&&"block"==_jQueryGS("#zgs20_gsOverlayDialog").css("display")&&zgssearch.popupUtils.closeOverlayDialog(),zgssearch.showbannertip({ty:3,msg:zgssearch.I18N.getValue("gs.search.result.addToWd.error")})},zgssearch.network.uri(e)},getServiceParams:function(e,s){var t=s.id||"",a=s.rtype||"",r=s.name||"",o=e.connectorId||"",i=e?e.service:zgssearch.getCurSelectedEleAttr("service"),n={};return n.connector_id=o,n.service_name=i,n.res_name=encodeURIComponent(r),i===zgssearch.GSConstant.DROPBOX?(n.pkid=t,n.res_type=a):i===zgssearch.GSConstant.BOX?n.file_id=t:i===zgssearch.GSConstant.GOOGLEDRIVE?(n.pkid=t,n.mime_type=s.mtype||"",n.res_extn=s.extn||""):i===zgssearch.GSConstant.ONEDRIVE?(n.id=t,o=e.accId,n.connector_id=o,n.name=encodeURIComponent(r),n.driveId=s.driveId,delete n.res_name):i===zgssearch.GSConstant.ASANA?(o=e.connectorId,n.connector_id=o,n.name=e.attachName,n.gid=e.attachId,delete n.res_name):i===zgssearch.GSConstant.O365MAIL?(o=e.connectorId,n.connector_id=o,n.service_name=e.service,n.msgId=s.id,n.attachmentId=e.attachId,n.isExAttachment=!0,delete n.res_name):i===zgssearch.GSConstant.EVERNOTE?(n.attach_name=e.attachId,n.res_hash=e.resHash,n.note_id=s.id,delete n.res_name):i===zgssearch.GSConstant.GMAIL?(n.attachmentId=e.attachmentId,n.msgId=e.msgId,n.fileName=e.fileName,n.isExAttachment=e.isExAttachment,n.mimeType=e.mimeType,delete n.res_name):i===zgssearch.GSConstant.ZENDESK&&(n.contentURL=e.contentURL,n.fileName=e.fileName,delete n.res_name),n.app_id=zgssearch.getAppIdForCloudApps(o,i),n},getDropboxFileOwner:function(){var e=zgssearch.getCurrentResObj(),a=e.id,s=e.CONNECTOR_ID,e="action=getFileMembers&pkid="+a+"&service_name="+zgssearch.GSConstant.DROPBOX+"&connector_id="+s,s={url:"/zgssearch/exconnector/getCalloutData",type:"GET"};s.data=e,s.dataType="text",s.success=function(e){var s,t=JSON.parse(e);t.response&&(e=t.response,s=zgssearch.getTargetElem("zgs20_gsDocsCallout"),zgssearch.setGSTagElems(s),e.user&&(!(t=e.user).owner||0<(e=t.owner).length&&(""!==(e=(t=e[0]).name||t.email||"")&&(t=zgssearch.getCurrentResObj().id,a===t&&(_jQueryGS(s.startedBy).text(zgssearch.I18N.getValue("gs.callout.owned.by")),_jQueryGS(s.owner).text(e),_jQueryGS(s.owner).attr("gstitle",e),_jQueryGS(s.owner).attr("gslabel",zgssearch.I18N.getValue("gs.callout.owned.by.name"))))))),_jQueryGS(s.startedBy).parent().parent().css("display","block")},zgssearch.network.uri(s)},loadConnectorAccounts:function(e,s){zgssearch.isIntegViewPage||zgssearch.gsCloud.renderAppAcc(e)}},zgssearch.ZSCRMFactory=function(){var t;this.createCRM=function(e){switch(e.service_name){case zgssearch.GSConstant.CRM:t=new ZSCrm;break;case zgssearch.GSConstant.SALESFORCE:t=new ZSSalesforce}t.service_name=e.service_name;var s=e.acc_id||null;return t.account_id="all_crm_mod"!==s?s:null,t.offset=e.offset||0,t.limit=e.limit||0,t.results_id=e.parent_div_id||"",t.results_area_width=e.results_area_width||512,t.addtional_info=e.service_addtional_info||{},t.service_info=e,t.parentDiv=e.parentDiv,t.cardObj=e.cardObj||"",t.getServiceName=function(){return this.service_name},t.getAccountId=function(){return null!==this.account_id&&void 0!==this.account_id&&""!==this.account_id?this.account_id:""},t.getSearchType=function(){return this.getServiceInfo().search_type||""},t.getRenderModule=function(){return this.getServiceInfo().search_module_name||""},t.getResults=function(){return this.getServiceInfo().records_info},t.getOffset=function(){return this.offset},t.getLimit=function(){return this.limit},t.getServiceInfo=function(){return this.service_info},t.getResultsDivId=function(){return this.results_id},t.getResultsAreaWidth=function(){return this.results_area_width},t.getAdditionalInfo=function(){return this.addtional_info},t.getCardObj=function(){return this.cardObj},t.setCalloutId=function(e){this.calloutId=e},t.getCalloutId=function(){return this.calloutId},t.setCurrentResObj=function(){var e=this.getCardObj()?this.cardObj.cardId:"";this.currentResObj=e?zgssearch.Utils.getResultObjectofType(zgssearch.dbCrdCalloutType,e):zgssearch.getCurrentResObj()},t.getCurrentResObj=function(){return this.currentResObj},t.setServiceSearchType=function(){var e;this.serviceSearchType=zgssearch.getSearchType(),this.getCardObj()&&(e=this.cardObj.cardId,e=zgssearch.gscardinDb.getOriginalCardId(e),e=zgssearch.gsdbUtils.cardIdsVsObject[e],this.serviceSearchType=e.service||zgssearch.GSConstant.ALL)},t.getServiceSearchType=function(){return this.serviceSearchType},t.addAccountInfo=function(e){e.service_name=this.getServiceName(),e.acc_id=this.getAccountId(),e.search_type=this.getSearchType()},t.resetWidth=function(){this.getOffset()<=1&&zgssearch.Utils.setResultsWidthInfo(this.getServiceName(),this.getAccountId(),{})},t.render=function(){zgssearch.CrmUtils.parseDisplayFields(this.getServiceInfo());var e=this.parse();this.addAccountInfo(e),this.resetWidth(),this.append(this.getResultsDivId(),e)},t.setResultsWidth=function(){var e={};e.service_name=this.getServiceName(),""!==this.getAccountId()&&(e.account_id=this.getAccountId()),e.results_parent_id=this.getServiceInfo().module_parent_id||this.getResultsDivId(),e.total_results_area_width=this.getResultsAreaWidth(),zgssearch.Utils.setResultsWidth(e)},t.parse=function(){var e={};e.type=this.getCardObj()?this.cardObj.type:"Search";var s=this.getServiceName(),t=this.getOffset(),a=this.getLimit(),r=this.getResults();"all"===this.getSearchType()&&(t=0);for(var o=this.getServiceSearchType(),i=[];t<a;t++){var n=r[s+t],l={};l.index=t,l.id=n.Id||n.id;var g=this.getCardObj()?"zgs20_"+this.cardObj.cardId+"_"+this.getAccountId()+this.getRenderModule()+"Results_"+t:"zgs20_gs"+this.getAccountId()+this.getRenderModule()+"Results_"+t;l.div_id=g,l.link=zgssearch.CrmUtils.getRecordLink(n);var c=zgssearch.CrmUtils.getModuleName(n);l.module_name=c,l.module_disp_name=this.getModuleDispName(c);g=this.getCardObj();l.gsAttr=g&&g.gsattr||"searchResultTable",zgssearch.CrmUtils.parseResultViewFields(s,c,n,l),i.push(l),o===zgssearch.GSConstant.ALL&&this.getAccountId()}return e.records_data=i,e},t.append=function(e,s){var t=zgssearch.Handlebar_Template.getResultsTemplateName(this.getServiceName()),a=search_handlebars.templates[t],r=this.parentDiv||_jQueryGS("#"+e),t=this.getServiceInfo().module_parent_id;(t=this.getCardObj()?this.cardObj.cardId+"_"+t:t)&&r.append(_jQueryGS("<div>",{id:t,class:"",style:""})),"all"===this.getSearchType()?(e=this.constructModHeader(),_jQueryGS("#"+t).html(e).append(a(s))):r.append(a(s))},t.constructModHeader=function(){var e={};return e.id="zgs20_gs"+this.getAccountId()+this.getRenderModule()+"Template",e.service_name=this.getServiceName(),e.mod_name=this.getRenderModule(),e.mod_disp_name=this.getModuleDispName(this.getRenderModule()),e.acc_id=this.getAccountId(),zgssearch.CrmUtils.constructModHeader(e,this.getCardObj())},t.renderCalloutView=function(e,s,t){s=this.parseRecordFields(e,s);this.addExtraInfoForRecord(e,s,t);e=zgssearch.Handlebar_Template.getCalloutTemplateName(this.getServiceName()),e=search_handlebars.templates[e],t=t?t.searchObj.parentElem:"#zgs20_gsSearchResultRight";_jQueryGS(t).html(e(s));e=this.getCalloutId();_jQueryGS("#"+e).removeClass("zgs19_gsDisplayNone"),_jQueryGS("#"+e).addClass("zgs19_gsDisplayBlock");s=zgssearch.getTargetElem(this.getCalloutId());zgssearch.setGSTagElems(s),_jQueryGS(s.minpreview).css("display","none");e=this.getCardObj();e.type===zgssearch.dbCrdCalloutType&&(e.iconDisplay||_jQueryGS(s.maxpreview).css("display","none")),this.setCrmCalloutEleSize(s)},t.parseRecordFields=function(e,s){var t=(s.response||{}).disp_fields||{},s={};return zgssearch.CrmUtils.parseFieldsForCalloutHeader(this.getServiceName(),e,t,s),zgssearch.CrmUtils.parseFieldsForCalloutFooter(this.getServiceName(),e,t,s),zgssearch.CrmUtils.parseTitleField(e,t,s),zgssearch.CrmUtils.checkTitleFieldEmpty(s),s},t.addExtraInfoForRecord=function(e,s,t){s.service_name=this.getServiceName(),s.acc_id=this.getAccountId(),s.record_link=zgssearch.CrmUtils.getRecordLink(this.getCurrentResObj()),s.module_name=e,s.module_disp_name=this.getModuleDispName(e),s.calloutId=t?t.searchObj.calloutId:"zgs20_gsCRMCallout",this.setCalloutId(s.calloutId),zgssearch.CrmUtils.addActionsList(s)},t.getModuleDispName=function(e){var s=zgssearch.getFilterObj(this.getServiceName()).modules.data[this.getAccountId()];return s[e]||e},t.setCrmCalloutEleSize=function(e){var s,t,a;null!=e&&(s=_jQueryGS(e.header).height(),a=_jQueryGS(e.impData).height(),t=this.getCalloutId(),a=_jQueryGS("#"+t).height()-(s+a),a-=_jQueryGS(e.contPartHolder).outerHeight(!0)-_jQueryGS(e.contPartHolder).height(),zgssearch.isMobViewport()&&(a-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(e.contPartHolder).css("height",a+"px"))},t.setServiceEleSize=function(e,s){var t=this.getCalloutId()||"zgs20_gsCRMCallout",t=zgssearch.getTargetElem(t);zgssearch.setGSTagElems(t),this.setCrmCalloutEleSize(t),_jQueryGS("#"+e).css("height",s+"px")},t.setCurrentResObj(),t}},function(n){var l,g=window._jQueryGS;n.gscrmaction=(l=void 0,(l=n.gscrmaction||{}).crmContacts=l.crmContacts||{},l.crmContactsInfo=l.crmContactsInfo||{count:0,page:1,more_records:!0},l.getCRMContactsUserObj=function(){return l.crmContacts||{}},l.getCRMContactsInfoObj=function(){return l.crmContactsInfo||{}},l.isCRMContactsExists=function(){return 0<l.getCRMContactsInfoObj().count},l.fetchCRMUserInfo=function(e){var s,o=l.getCRMContactsInfoObj();o.more_records&&o.count<1e3&&(s={timeout:0,curCount:n.gsusercontacts.getServerCallCount(),obj:e},e="action=fetchCRMUserInfo&page="+o.page+"&orgId="+n.gscrmresults.getCRMOrganizationId(),n.uri(n.GET,n.fetchActionsURL,e,s,function(e,s,t){var a=t.args||{},t=n.jsonParse(e),e=t.hasOwnProperty("info")?t.info:{};l.crmContactsInfo.page=e.page||1,l.crmContactsInfo.more_records=e.more_records||!1,l.crmContactsInfo.count=o.count+(e.count||0),t.hasOwnProperty("users")&&(r=t.users||{},g.extend(l.crmContacts,r));var r=a.obj||{};r.hasOwnProperty("type")&&n.isEditFieldsLoader&&n.isEditFieldsLoaderUI&&a.curCount==n.gsusercontacts.getServerCallCount()&&(l.renderInnerEditFieldsUI(r),n.isDashboardViewOpened()&&n.gsaction.updateEditFieldsHeight())}))},l.renderInnerEditFieldsUI=function(e){if(n.isEditFieldsLoader=!1,n.isEditFieldsLoaderUI=!1,g("#zgs20_gsEditFieldsFooter").empty(),l.isCRMContactsExists()){var s,t=[],a=l.getCRMContactsUserObj(),r=n.gscrm.crmOwnerData?n.gscrm.crmOwnerData.id:"";for(s in a){var o=a[s];if(n.isArrayContain(s,t)||r==s||(t.push(s),n.gsaction.renderEditFieldsChild(s,o,e.type,"")),10<=t.length)break}g("#zgs20_gsEditFieldsBottom").show(),g("#zgs20_gsEditFieldsNotify").show(),n.gsaction.displayEditFieldsUI(e.tarElem),5<=t.length&&(g("#zgs20_gsEditFieldsHeader").show(),n.focusForWeb("zgs20_gsEditFieldsQrybox"))}else{var i=n.getI18NMsg("gs.search.callout.crm.errorresp3");g("#zgs20_gsEditFieldsFooter").empty().append(g("<div>",{class:"zgs19_gsOverflowWrap zgs19_gsWelcomelich zgs19_gstac"}).text(i))}},l)}(zgssearch),function(h){var _,m=window._jQueryGS,r=h.getGSConstantObj()||{};h.gssupportaction=(_=void 0,(_=h.gssupportaction||{}).fetDeskContactsCount=50,_.defDeskContactsCount=200,_.supportContacts=_.supportContacts||{},_.supportContactsCache=_.supportContactsCache||{result:[],noresult:[]},_.supportStatus=_.supportStatus||{},_.getSupportContactsObj=function(e,s){return e&&s?_.supportContacts["agent_"+e+"_"+s]||{}:_.supportContacts||{}},_.isSupportDeptAgentExists=function(e,s){if(e&&s)return _.supportContacts.hasOwnProperty("agent_"+e+"_"+s)},_.getSupportUnAssObj=function(){return{Unassigned:{zuid:"-1",email:"",full_name:h.getI18NMsg("common.unassigned")}}},_.isDeskSearchReqCached=function(e,s){var t=_.supportContactsCache.result||[],a=_.supportContactsCache.noresult||[],r="per_page="+_.fetDeskContactsCount;return h.isReqCached(e,t,a,s,r)},_.getSupportStatus=function(){return _.supportStatus},_.setSupportStatusObj=function(e,s,t){return e&&s&&(_.supportStatus["status_"+e+"_"+s]=t),{}},_.getSupportStatusObj=function(e,s){return e&&s&&_.getSupportStatus()["status_"+e+"_"+s]||{}},_.isSupportDeptStatusExists=function(e,s){if(e&&s)return _.getSupportStatus().hasOwnProperty("status_"+e+"_"+s)},_.renderStatusOptionUI=function(e){h.isEditFieldsLoader=!1,h.isEditFieldsLoaderUI=!1;var s,t,a,r=m("#zgs20_gsEditFieldsHolder").css("display");null==r&&"none"==r||"statusChange"!=m("#zgs20_gsEditFieldsHolder").attr("datatype")&&h.hideEditFieldsList(),null==(r=m("#zgs20_gsEditFieldsHolder").css("display"))||"none"===r?(h.hideEditFieldsList(),a=h.gsaction.currSearchType.getCurrentResultObj(),t=h.gsaction.currSearchType.getCurrAccId()||a.accId||a[h.account_id],s=_.isSupportDeptStatusExists(t,a.DEP_ID),r={curPortalId:t,curDeptId:a.DEP_ID,type:"statusChange",tarElem:e},t=h.gsaction.getEditFieldsHolder("statusChange","","","",""),a=h.gsaction.currSearchType.getTargetElem("#zgs20_gsCalloutMetaInfo"),m(a).append(t),s?_.iterStatusOptionElem(r):_.addLoaderForDeskStatus(r),m("#zgs20_gsEditFieldsBottom").hide(),m("#zgs20_gsEditFieldsNotify").hide(),h.gsaction.displayEditFieldsUI(e,160)):h.hideEditFieldsList()},_.canAllowUserToCloseTicket=function(){var e=!1,s=h.gsaction.currSearchType.getCurrentResultObj(),t=h.getResultAccountId()||s.accId||s[h.account_id],s=h.getFilterInfo(r.SUPPORT,"modules","unusedModData");return e=s.hasOwnProperty(t)?s[t]["1_ct"]||!1:e},_.iterStatusOptionElem=function(e){var s=e.type||"",t=e.curDeptId||"",a=h.gsaction.currSearchType.getCurrentResultObj(),a=e.curPortalId||a.accId||a[h.account_id]||"",r=_.getSupportStatusObj(a,t),t=Object.keys(r).length,o=e.tarElem;if(m("#zgs20_gsEditFieldsFooter").empty(),0<t){for(var i in r){i=r[i];_.renderStatusOptionChild(i,s,o)}5<=t&&(m("#zgs20_gsEditFieldsHeader").show(),h.focusForWeb("zgs20_gsEditFieldsQrybox"))}else{t=h.getI18NMsg("gs.search.callout.desk.status.errorresp");m("#zgs20_gsEditFieldsFooter").append(m("<div>",{class:"zgs19_gsOverflowWrap zgs19_gsWelcomelich zgs19_gstac"}).text(t))}},_.renderStatusOptionChild=function(e,s,t){var a=e.id,r=e.name,t=t||m("#zgs20_gsTicketStatus")[0];r!==m(t).find(".zgs19_gsTicketStatusTxt").text()&&(t=!0,(t="Closed"==e.stype?_.canAllowUserToCloseTicket():t)&&(t=h.gsautocomplete.getSuggestIndex(),r=m("<div>",{id:"zgs20_gsEditFieldsChild"+t,class:"zgs19_gsEditFieldsChild zgs19_gsQuerySugguser zgs19_gsCurPointer",datatype:s,oid:a,index:t}).append(m("<div>",{class:"zgs19_gsSuggUserCell2"}).append(m("<div>",{class:"zgs19_gsSuggUserTitle zgs19_gsOverflow"}).append(m("<span>",{class:"zgs19_gsAutoSuggChildName",gstitle:r,istip:!0}).text(r)))),m(r).attr("index",t),m("#zgs20_gsEditFieldsFooter").append(r)),h.addEventForEditFieldsQueryBox())},_.addLoaderForDeskStatus=function(e){var s=h.getFourDotLoader("zgs20_gsEditFieldsLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader10 zgs19_gsAutoSuggestLoader");m("#zgs20_gsEditFieldsFooter").empty().append(s),h.isEditFieldsLoaderUI=!0,h.isEditFieldsLoader||(h.isEditFieldsLoader=!0,_.fetchSupportStatus(e))},_.fetchSupportStatus=function(e){e=e||{};var s,t=r.SUPPORT,a=h.getFilterObj(t);a.hasOwnProperty("accounts")&&a.hasOwnProperty("departments")&&(s=e.curPortalId||a.accounts.current,(t=e.curDeptId||a.departments.current)&&s&&0!=t&&(h.gsusercontacts.setServerCallCount(),a=h.gsusercontacts.getServerCallCount(),h.uri(h.GET,h.fetchActionsURL,"action=fetchDeskStatus&portalId="+s+"&deptId="+t,{portalId:s,deptId:t,timeout:0,obj:e,curCount:a},function(e,s,t){t=t.args||{},e=h.jsonParse(e)||{};if(e.hasOwnProperty("sMap")){for(var a=e.sMap||[],r=_.getSupportStatusObj(t.portalId,t.deptId),o=0;o<a.length;o++){var i=a[o],n=i.id,l=i.name,i=i.stype;r[n]={id:n,name:l,stype:i}}_.setSupportStatusObj(t.portalId,t.deptId,r)}t.curCount!=h.gsusercontacts.getServerCallCount()||"statusChange"==(t=t.obj||{}).type&&h.isEditFieldsLoader&&h.isEditFieldsLoaderUI&&_.iterStatusOptionElem(t)})))},_.clickActionForStatus=function(e){var s,t,a=m(e).attr("oid");a&&(t=h.gsaction.currSearchType.getCurrentResultObj(),s=h.gsaction.currSearchType.getCurrAccId()||t.accId||t[h.account_id],(e=_.getSupportStatusObj(s,t.DEP_ID)).hasOwnProperty(a)&&(e=e[a].name,h.hideEditFieldsList(),h.showSearchPageLoader(),t=t.doc_id||t[h.entity_id],a={id:a,name:e,type:"statusChange",serviceName:r.SUPPORT},e="action=updateDeskStatus&id="+t+"&portalId="+s+"&status="+encodeURIComponent(e),h.uri(h.POST,h.updateActionsURL,e,a,function(e,s,t){h.hideSearchPageLoader();var a,r,o=h.jsonParse(e);"SUCCESS"==(o&&o.response||"")?(a=t.args||{},r=h.getI18NMsg("gs.search.callout.desk.status.success"),h.showbannertip({ty:1,msg:r}),e=h.gsaction.currSearchType.getCurrentResultObj(),o=h.getCurCalloutCount(),t=h.mappedServiceList[a.serviceName].callout,r=h.gsaction.currSearchType.getSearchDBCalloutObj(),h.showCalloutLoader(r),h.calloutAjaxRequest(t,e,o,{curCalloutCount:o,owner:a,updateRecord:!0,searchObj:r})):h.showbannertip({ty:3,msg:h.getI18NMsg("gs.search.callout.crm.errorresp2")})})))},_.fetchSupportAgentInfo=function(e){e=e||{};var s=r.SUPPORT,t=h.getFilterObj(s);t.hasOwnProperty("accounts")&&t.hasOwnProperty("departments")&&(s=e.curPortalId||t.accounts.current,(t=e.curDeptId||t.departments.current)&&s&&0!=t&&(e.curPortalId=s,e.curDeptId=t,_.fetchSupportAgents(e)))},_.fetchSupportAgents=function(e){var s,t,a;m.isEmptyObject(e)||(h.gsusercontacts.setServerCallCount(),a=h.gsusercontacts.getServerCallCount(),(t=e.curPortalId||"")&&(s="action=fetchDeskOrgAgents&portalId="+t,(t=e.curDeptId||"")&&(s+="&deptId="+t),(t=e.query||"")&&(s+="&query="+t),a={timeout:0,obj:e,curCount:a},h.gsusercontacts.queueserver={flag:!0,expiry_time:(new Date).getTime()},h.advSearchXMLHttpReq=h.uri(h.GET,h.fetchActionsURL,s,a,function(e,s,t){var a=0,r=t.args||{},t=r.obj||{},o=h.jsonParse(e)||[];if(h.gsusercontacts.queueserver={flag:!1,expiry_time:0},("success"===s||"SUCCESS"===s)&&m.isArray(o)){var a=o.length,i="agent_"+t.curPortalId,s=t.curDeptId||"";s&&0!=s&&(i+="_"+s);for(var n=_.supportContacts[i]||{},l=0;l<a;l++){var g=o[l],c=g.id,d=g.zuid,p=g.emailId,u=g.firstName,g=g.lastName,u=u?u.trim():"",g=g?" "+g.trim():"";n[c]={email:p,full_name:u+g,zuid:d,uid:c}}_.supportContacts[i]=n}i=t.query||"";i&&(i="per_page="+_.fetDeskContactsCount+t.extraParams+"&query="+encodeURIComponent(i),(a>=_.fetDeskContactsCount?_.supportContactsCache.result:_.supportContactsCache.noresult).push(i)),_.afterFetchedAgentDetails(t,r.curCount,n)})))},_.afterFetchedAgentDetails=function(e,s,t){"deskOwnerChange"===(e.hasOwnProperty("type")?e.type:"")?e.query||""?s==h.gsusercontacts.getServerCallCount()&&h.gsaction.searchForEditFields():h.isEditFieldsLoader&&h.isEditFieldsLoaderUI&&(s==h.gsusercontacts.getServerCallCount()&&_.renderInnerEditFieldsUI(e),h.isDashboardViewOpened()&&h.gsaction.updateEditFieldsHeight()):h.advanceUserSearchAfterFetch(t,e)},_.renderInnerEditFieldsUI=function(e){h.isEditFieldsLoader=!1,h.isEditFieldsLoaderUI=!1;var s=h.gsaction.currSearchType.getCurrentResultObj(),t=s.accId||h.gsaction.currSearchType.getCurrAccId()||s[h.account_id],a=_.isSupportDeptAgentExists(t,s.DEP_ID);if(m("#zgs20_gsEditFieldsFooter").empty(),a){var r,o=[],i=h.gssupport.assigneeId||"",a=_.getSupportUnAssObj(),n=_.getSupportContactsObj(t,s.DEP_ID),l=m.extend({},a,n);for(r in l){var g=l[r];if(("null"!=i||"Unassigned"!=r)&&(h.isArrayContain(r,o)||i==r||(o.push(r),h.gsaction.renderEditFieldsChild(r,g,e.type,"")),10<=o.length))break}m("#zgs20_gsEditFieldsBottom").show(),m("#zgs20_gsEditFieldsNotify").hide(),h.gsaction.displayEditFieldsUI(e.tarElem),5<=o.length&&(m("#zgs20_gsEditFieldsHeader").show(),h.focusForWeb("zgs20_gsEditFieldsQrybox"))}else{n=h.getI18NMsg("gs.search.callout.crm.errorresp3");m("#zgs20_gsEditFieldsFooter").empty().append(m("<div>",{class:"zgs19_gsOverflowWrap zgs19_gsWelcomelich zgs19_gstac"}).text(n))}},_.updateDeskDueDate=function(e,s){h.showSearchPageLoader();var t=h.gsaction.currSearchType.getCurrentResultObj(),a=t.accId||h.gsaction.currSearchType.getCurrAccId()||t[h.account_id],t=t.doc_id||t[h.entity_id],e={service:e,ticketId:t,dueDate:s},s="action=updateDeskDueDate&id="+t+"&portalId="+encodeURIComponent(a)+"&dueDate="+encodeURIComponent(s);h.uri(h.POST,h.updateActionsURL,s,e,function(e,s,t){h.hideSearchPageLoader();var a,r,o=h.jsonParse(e);"SUCCESS"==(o&&o.response||"")?(a=t.args||{},r=h.getI18NMsg("gs.search.callout.desk.success.duedate_update"),h.showbannertip({ty:1,msg:r}),e=h.gsaction.currSearchType.getCurrentResultObj(),o=h.getCurCalloutCount(),t=h.mappedServiceList[a.service].callout,r=h.gsaction.currSearchType.getSearchDBCalloutObj(),h.showCalloutLoader(r),h.calloutAjaxRequest(t,e,o,{curCalloutCount:o,owner:a,updateDueDate:!0,searchObj:r})):h.showbannertip({ty:3,msg:h.getI18NMsg("gs.search.callout.crm.errorresp2")})})},_)}(zgssearch),function(h){var _,m=window._jQueryGS,z=h.getGSConstantObj()||{};h.gscalendaraction=(_=void 0,(_=h.gscalendaraction||{}).tempAttendeeList=_.tempAttendeeList||[],_.updateEventObj=_.updateEventObj||{},_.all_timezones=_.all_timezones||{},_.actionOnCalendar=function(e){switch(m(e).attr("actionType")){case"editEvent":var s=new h.dashboardSearchActions;_.currSearchType=s.createActionType(e),_.displayCalendarActionDialog();break;case"updateStatus":s=new h.dashboardSearchActions;_.currSearchType=s.createActionType(e),_.updateUserStatus(e);break;case"calendarDateAction":_.loadEventDatePicker(e);break;case"allDaycheck":_.allDayChange();break;case"timezoneAction":_.displayTimeZoneDialog();break;case"timezoneList":_.displayTimeZoneList();break;case"updateTimeZone":_.updateDisplayTimeZoneList(e);break;case"addAttendees":_.addAttendeesToAttendeeList(e);break;case"removeAttendees":_.removeAttendeesfromAttendeeList(e)}},_.displayCalendarActionDialog=function(){var e,s;h.calendarActionPopUpOpened?(m(".zgs19_gsCalendarActionDialog").css("display","none"),h.popupUtils.closeOverlayDialog(),h.calendarActionPopUpOpened=!1):(0===m(".zgs19_gsCalendarActionDialog").length&&(e=m("<div>",{class:"zgs19_gsCalendarActionDialog zgs19_gsDisplayNone"}).append(m("<div>",{id:"zgs20_gsCalendarActionPopup",class:"zgs19_gsCalendarActionPopup"}).append(m("<div>",{class:"zgs19_gsEventDetailsHolder"}).append(m("<div>",{class:"zgs19_gsEditEvtLabel",text:h.getI18NMsg("gs.search.calendar.callout.editEvent")})).append(m("<div>",{class:"zgs19_gsEventTitleHolder"}).append(m("<div>",{class:"zgs19_gsEventLabel",text:h.getI18NMsg("common.eventtitle")})).append(m("<input>",{id:"zgs20_gsNewEventTitleTxt",class:"zgs19_gsEventTxt",type:"text",placeholder:h.getI18NMsg("common.eventtitle")}))).append(m("<div>",{class:"zgs19_gsEventDateInfoHolder"}).append(m("<div>",{id:"zgs20_gsStartDateInfo",class:"zgs19_gsDateInfo zgs19_gsfl"}).append(m("<div>",{id:"zgs20_gsStartDateLbl",class:"zgs19_gsEventLabel"})).append(m("<div>",{id:"zgs20_gsEventStartDate",class:"zgs19_gsEventDateInfo",gs:"calendarActions",actionType:"calendarDateAction",dateType:"startDate"}).append(m("<span>",{id:"zgs20_gsEventStartDateTxt",class:"zgs19_gsEditDateTxt zgs19_gsfl"})).append(m("<span>",{id:"zgs20_gsEventStartTimeTxt",class:"zgs19_gsTimeTxt zgs19_gsfl"})))).append(m("<div>",{id:"zgs20_gsEndDateInfo",class:"zgs19_gsDateInfo zgs19_gsDisplayNone zgs19_gsfl"}).append(m("<div>",{class:"zgs19_gsEventLabel",text:h.getI18NMsg("common.to")})).append(m("<div>",{id:"zgs20_gsEventEndDate",class:"zgs19_gsEventDateInfo",gs:"calendarActions",actionType:"calendarDateAction",dateType:"endDate"}).append(m("<span>",{id:"zgs20_gsEventEndDateTxt",class:"zgs19_gsEditDateTxt zgs19_gsfl"})).append(m("<span>",{id:"zgs20_gsEventEndTimeTxt",class:"zgs19_gsTimeTxt zgs19_gsfl"})))).append(m("<div>",{class:"zgs19_gsTimeZoneInfo zgs19_gsDisplayNone zgs19_gsfl"}).append(m("<div>",{class:"zgs19_gsTimeZoneTxt zgs19_gsOverflow",gs:"calendarActions",actionType:"timezoneAction",gslabel:h.getI18NMsg("gs.search.calendar.callout.timezone")}))).append(m("<div>",{class:"zgs19_gsDeskDurationInfo zgs19_gsMgLf50Px zgs19_gsDisplayNone zgs19_gsfl"}).append(m("<div>",{class:"zgs19_gsEventLabel",text:h.getI18NMsg("gs.search.calendar.callout.duration")})).append(m("<div>",{class:"zgs19_gsDurationTxtInfo"}).append(m("<input>",{id:"zgs20_gsHoursTxt",class:"zgs19_gsDurationTxt zgs19_gsfl zgs19_gsMgRt5Px",type:"text",maxlength:"2",placeholder:"HH",onkeypress:"zgssearch.checkIsInputNumber(event)"})).append(m("<span>",{text:":"})).append(m("<input>",{id:"zgs20_gsMinsTxt",class:"zgs19_gsDurationTxt zgs19_gsfr zgs19_gsMgLf5Px",type:"text",maxlength:"2",placeholder:"MM",onkeypress:"zgssearch.checkIsInputNumber(event)"})))).append(m("<div>",{class:"zgs19_gsDeskErrorTxt zgs19_gsDisplayNone zgs19_gsfl"}))).append(m("<div>",{class:"zgs19_gsDayTypeHolder zgs19_gsDisplayNone zgs19_gsPdngBtm7Px"}).append(m("<input>",{id:"zgs20_gsDayType",class:"zgs19_gsCurPointer",type:"checkbox",gs:"calendarActions",actionType:"allDaycheck"})).append(m("<span>",{class:"zgs19_gsAlldayTxt",text:h.getI18NMsg("gs.search.calendar.callout.allDay")}))).append(m("<div>",{class:"zgs19_gsAttendeesInfoHolder zgs19_gsDisplayNone"}).append(m("<div>",{class:"zgs19_gsEventLabel",text:h.getI18NMsg("gs.search.calendar.callout.addAttendees")})).append(m("<input>",{id:"zgs20_gsAttendeeSearchBox",class:"zgs19_gsEventTxt zgs19_gsMgBtm13Px",type:"text",placeholder:h.getI18NMsg("gs.search.calendar.callout.attendeeEmail")})).append(m("<div>",{id:"zgs20_gsAtdeSugg",class:"zgs19_gsAtdeSuggContainer zgs19_gsDisplayNone zgs19_gsOvfwAuto"})).append(m("<div>",{class:"zgs19_gsAttendeesHolder"}).append(m("<div>",{class:"zgs19_gsEventLabel",text:h.getI18NMsg("gs.search.calendar.callout.attendees")})).append(m("<div>",{id:"zgs20_gsAttendeeEditList",class:"zgs19_gsAttendeesListHolder"}))))).append(m("<div>",{class:"zgs19_gsCalcDialogActions"}).append(m("<div>",{class:"zgs19_gsSC_PUbtmNew zgs19_gsCalcSave  zgs19_gsCalcSaveMg zgs19_gsfr",gs:"calendarCnfrmActions",datatype:"updateEvent",text:h.getI18NMsg("gs.settings.application.save")})).append(m("<div>",{class:"zgs19_gsSC_PUbtmNew zgs19_gsCalCancel zgs19_gsMg10Px zgs19_gsfr",gs:"calendarCnfrmActions",datatype:"closeDialogBox",text:h.getI18NMsg("common.cancel")})).append(m("<div>",{class:"zgs19_gsSSClose",id:"zgs20_gsSSClose"}).append(m("<div>",{class:"zgs18_gsCloseIcon zgs19_gsSSCloseIcon zgs19_gsCurPointer",gs:"calendarCnfrmActions",datatype:"closeDialogBox"}))))),(s=m("#zgs20_gsOverlayDialog")).append(e),s.css("display","block"),m("#zgs20_gsNewEventTitleTxt").attr("autocomplete","off"),m("#zgs20_gsHoursTxt").attr("autocomplete","off"),m("#zgs20_gsMinsTxt").attr("autocomplete","off"),m("#zgs20_gsAttendeeSearchBox").attr("autocomplete","off")),_.showEditEventDialogBox(),h.jqueryMouseEvent())},_.showEditEventDialogBox=function(){_.hideServiceSpecificFields(),_.renderEventOldDetails(),m(".zgs19_gsCalendarActionDialog").css("display","block"),m("#zgs20_gsOverlayDialog").css("display","block"),h.calendarActionPopUpOpened=!0},_.hideServiceSpecificFields=function(){m("#zgs20_gsEndDateInfo").css("display","none"),m(".zgs19_gsTimeZoneInfo").css("display","none"),m(".zgs19_gsDayTypeHolder").css("display","none"),m("#zgs20_gsDayType").prop("checked",!1),m(".zgs19_gsDeskDurationInfo").css("display","none"),m(".zgs19_gsAttendeesInfoHolder").css("display","none"),m(".zgs19_gsDeskErrorTxt").css("display","none"),m("#zgs20_gsAttendeeEditList").empty(),m("#zgs20_gsAttendeeSearchBox").val(""),_.allDayChange(),_.hidedeskErrorMsg()},_.renderEventOldDetails=function(){var e=h.gscalendaraction.currSearchType.getCurrentResponseObj();switch(m("#zgs20_gsNewEventTitleTxt").val(e.Title||""),_.allDay=e.allDay,_.currSearchType.getCurrentResultObj().sId){case"4":_.renderMailCalendarEventDetails(e);break;case"9":_.renderDeskEventDetails(e)}h.loadDatePicker()},_.renderMailCalendarEventDetails=function(e){var s=m(".zgs19_gsCalendarActionPopup");s.removeClass("zgs19_gsHgt253Px"),1===h.gscomponent.UIType?s.removeClass("zgs19_gsCalTp190Pxof50").addClass("zgs19_gsCalTp280Pxof50 zgs19_gsHgt565Px"):0===h.gscomponent.UIType&&s.removeClass("zgs19_gsCalTp180Pxof50 zgs19_gsHgt565Px").addClass("zgs19_gsCalTp255Pxof50"),m("#zgs20_gsStartDateLbl").text(h.getI18NMsg("common.from")),m("#zgs20_gsEndDateInfo").css("display","block"),m(".zgs19_gsDayTypeHolder").css("display","block"),m(".zgs19_gsAttendeesInfoHolder").css("display","block");var t=e.dateandtime,a="",s="";_.startValue=a=t.start||"",_.endvalue=s=t.end||"";a=a.split("-"),s=s.split("-");m("#zgs20_gsEventStartDateTxt").text(a[0]||""),m("#zgs20_gsEventStartTimeTxt").text(a[1]||"08:00 AM"),m("#zgs20_gsEventEndDateTxt").text(s[0]||""),m("#zgs20_gsEventEndTimeTxt").text(s[1]||"08:30 AM");a=e.timezone;e.allDay?(s=e.ETM-h.DAY_IN_MILLIS-e.STM,_.eventDuration=0<s?s:30*h.MINUTE_IN_MILLIS,m("#zgs20_gsDayType").prop("checked","checked"),_.allDayChange()):(a=t.timezone,_.eventDuration=e.ETM-e.STM,m(".zgs19_gsTimeZoneInfo").css("display","block")),m(".zgs19_gsTimeZoneTxt").attr("gstitle",a),m(".zgs19_gsTimeZoneTxt").text(a);a=e.Host_Email;if(_.addAttendeeDetails(0,!1,"",e.zuid,e.Host,a,null,"zgs20_gsAttendeeEditList",!1),a!==z.cue&&(_.tempAttendeeList[a]={eM:a}),e.hasOwnProperty("Attendees"))for(var r=e.Attendees,o=!1,i="",n="",l="",g="",c=0;c<r.length;c++){var d={},p=r[c],u="";p.hasOwnProperty("grpName")?(o=!0,n=p.grpName||"",l=i="",u=g=p.id,d.gId=g):(o=!1,i=p.zuid||"",n=p.name||"",u=l=p.email||"",d.eM=l),_.addAttendeeDetails(1+c,o,g,i,n,l,null,"zgs20_gsAttendeeEditList",!1),_.tempAttendeeList[u]=d}2==e.privilege?m(".zgs19_gsEventTitleHolder, .zgs19_gsEventDateInfoHolder, .zgs19_gsDayTypeHolder").addClass("zgs19_gsHideEleme"):m(".zgs19_gsEventTitleHolder, .zgs19_gsEventDateInfoHolder, .zgs19_gsDayTypeHolder").removeClass("zgs19_gsHideEleme")},_.renderDeskEventDetails=function(e){var s=m(".zgs19_gsCalendarActionPopup");m(".zgs19_gsTimeZoneInfo").css("display","none"),s.removeClass("zgs19_gsHgt565Px").addClass("zgs19_gsHgt253Px"),1===h.gscomponent.UIType?s.removeClass("zgs19_gsCalTp280Pxof50").addClass("zgs19_gsCalTp190Pxof50"):0===h.gscomponent.UIType&&s.removeClass("zgs19_gsCalTp255Pxof50").addClass("zgs19_gsCalTp180Pxof50"),m("#zgs20_gsStartDateLbl").text(h.getI18NMsg("gs.search.calendar.callout.startTime")),m(".zgs19_gsDeskDurationInfo").css("display","block"),_.startMillis=e.STM;s=_.convertMillisIntoDateFormat(_.startMillis);_.startValue=s,_.eventDuration=e.ETM-e.STM;s=s.split("-");m("#zgs20_gsEventStartDateTxt").text(s[0]||""),m("#zgs20_gsEventStartTimeTxt").text(s[1]||"");s=h.convertDurationText(_.eventDuration);m("#zgs20_gsHoursTxt").val(String(s[0]).padStart(2,"0")||0),m("#zgs20_gsMinsTxt").val(String(s[1]).padStart(2,"0")||0)},_.getTimezoneDetails=function(a){_.isTimezoneFetched||(_.isTimezoneFetched=!0,h.uri(h.POST,h.updateActionsURL,"action=fetchTimezoneInfo",null,function(e,s,t){e&&(t.args,(e=h.jsonParse(e)).hasOwnProperty("timezone")&&(_.all_timezones=JSON.parse(e.timezone),a&&a()))}))},_.fetchAndRenderTimezones=function(){if(_.hasOwnProperty("all_timezones")){var e=m(".zgs19_gsTzListContainer");h.removeEle(m(".zgs19_gsTZHolderLoader")[0]);for(var s=_.all_timezones.length,t=0;t<s;t++){var a=_.all_timezones[t],r="("+h.getI18NMsg("gs.search.calendar.callout.GMT")+a.tzTS+") "+a.tzDN+"( "+a.tzId+" )";e.append(m("<div>",{id:"zgs20_gsTzItem"+t,class:"zgs19_gsTzItem zgs19_gsOverflow",tzId:a.tzId,gs:"calendarActions",actionType:"updateTimeZone",text:r}))}_.displayTimezones()}},_.displayTimezones=function(){if(_.hasOwnProperty("all_timezones")){m(".zgs19_gsTZHolderLoader").css("display","none");for(var e,s=m(".zgs19_gsTimeZoneTxt").text(),t="",a=_.all_timezones.length,r=0;r<a;r++)if(s===(e=_.all_timezones[r]).tzId){t="("+h.getI18NMsg("gs.search.calendar.callout.GMT")+e.tzTS+") "+e.tzDN+"( "+s+" )";break}var o=m("#zgs20_gsTzTxt");o.attr("tzId",s),o.attr("gstitle",t),o.text(t),m(".zgs19_gsTZHolder").css("display","block"),m("#zgs20_gsTzList").css("display","none"),h.jqueryMouseEvent(),_.tzList=!1,h.timezonePopUp=!0}},_.displayTimeZoneDialog=function(){var e,s;h.timezonePopUp?(m(".zgs19_gsTimeZonePopup").css("display","none"),h.timezonePopUp=!1):(0===(e=m(".zgs19_gsTimeZonePopup")).length?(s=h.getFourDotLoader("zgs20_gsCalendartimezoneLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader"),m("#zgs20_gsCalendarActionPopup").append(m("<div>",{id:"zgs20_gsTimeZonePopup",class:"zgs19_gsTimeZonePopup"}).append(m("<div>",{class:"zgs19_gsTZHolderLoader zgs19_gsDisplayBlock"}).append(s)).append(m("<div>",{class:"zgs19_gsTZHolder zgs19_gsDisplayNone"}).append(m("<div>",{class:"zgs19_gsTzTitle",text:h.getI18NMsg("gs.search.calendar.callout.eventTimezone")})).append(m("<div>",{class:"zgs19_gsTzListHolder"}).append(m("<div>",{class:"zgs19_gsTzTxtHolder"}).append(m("<div>",{id:"zgs20_gsTzTxt",class:"zgs19_gsTzTxt zgs19_gsOverflow",gs:"calendarActions",actionType:"timezoneList"}).text("")).append(m("<div>",{class:"zgs19_gsTzDropDown zgs18_gsDropDownIcon",gs:"calendarActions",actionType:"timezoneList"}))).append(m("<div>",{id:"zgs20_gsTzList",class:"zgs19_gsTzList zgs19_gsDisplayNone"}).append(m("<div>",{class:"zgs19_gsTzSearch"}).append(m("<input>",{class:"zgs19_gsTzInput",type:"text"}))).append(m("<div>",{class:"zgs19_gsTzListContainer"})))).append(m("<div>",{class:"zgs19_gsTZCnfrmHolder zgs19_gsMgTop15Px"}).append(m("<div>",{class:"zgs19_gsSC_PUbtmNew zgs19_gsCalcSave zgs19_gsMgRt20Px zgs19_gsfr",gs:"calendarCnfrmActions",datatype:"okTz",text:h.getI18NMsg("gs.search.calendar.callout.ok")})).append(m("<div>",{class:"zgs19_gsSC_PUbtmNew zgs19_gsCalCancel zgs19_gsfr",gs:"calendarCnfrmActions",datatype:"closeTzBox",text:h.getI18NMsg("common.cancel")}))))),_.getTimezoneDetails(function(){_.fetchAndRenderTimezones()})):e.css("display","block"),_.displayTimezones())},_.allDayChange=function(){var e=m(".zgs19_gsEditDateTxt"),s=m(".zgs19_gsTimeTxt");m("#zgs20_gsDayType").prop("checked")?(s.css("display","none"),e.removeClass("zgs19_gsfl").addClass("zgs19_gsFltNone"),m(".zgs19_gsDateInfo").removeClass("zgs19_gsWid37Per").addClass("zgs19_gsWid43Per"),m(".zgs19_gsTimeZoneInfo").css("display","none"),_.startValue=m("#zgs20_gsEventStartDateTxt").text(),_.endvalue=m("#zgs20_gsEventEndDateTxt").text(),_.allDay=!0):(e.removeClass("zgs19_gsFltNone").addClass("zgs19_gsfl"),s.css("display","block"),m(".zgs19_gsDateInfo").removeClass("zgs19_gsWid43Per").addClass("zgs19_gsWid37Per"),m(".zgs19_gsTimeZoneInfo").css("display","block"),_.startValue=m("#zgs20_gsEventStartDateTxt").text()+" - "+m("#zgs20_gsEventStartTimeTxt").text(),_.endvalue=m("#zgs20_gsEventEndDateTxt").text()+" - "+m("#zgs20_gsEventEndTimeTxt").text(),_.allDay=!1)},_.userCalendarActions=function(e){switch(m(e).attr("datatype")){case"updateEvent":_.updateCalendarEventDetails();break;case"closeDialogBox":_.hideEditEventDialogBox(),_.currSearchType={};break;case"okTz":_.updateTimeZoneValue();break;case"closeTzBox":_.hideTimeZoneDialogBox()}},_.displayTimeZoneList=function(){var e=m("#zgs20_gsTzList"),s=m(".zgs19_gsTzInput");_.tzList?(e.css("display","none"),_.tzList=!1):(e.css("display","block"),s.focus(),_.tzList=!0)},_.updateDisplayTimeZoneList=function(e){var s=e.textContent,t=e.getAttribute("tzId"),e=m("#zgs20_gsTzTxt");e.attr("tzId",t),e.attr("gstitle",s),e.text(s),m(".zgs19_gsTzInput").val(""),m(".zgs19_gsTzItem").css("display","block"),_.displayTimeZoneList()},_.updateTimeZoneValue=function(){var e=m("#zgs20_gsTzTxt").attr("tzId"),s=m(".zgs19_gsTimeZoneTxt");s.text(e),s.attr("gstitle",e),_.hideTimeZoneDialogBox()},_.loadEventDatePicker=function(e){var s=_.allDay,t=m(e).attr("dateType"),a="",r="";"startDate"===t?(a=m("#zgs20_gsEventStartDateTxt").text(),s||(a+="-"+m("#zgs20_gsEventStartTimeTxt").text()),r="zgs20_gsEventStartDate"):"endDate"===t&&(a=m("#zgs20_gsEventEndDateTxt").text(),s||(a+="-"+m("#zgs20_gsEventEndTimeTxt").text()),r="zgs20_gsEventEndDate"),m("#"+r).attr("gsa","calendarDate");var o="",t="",r="";s?(o="dd/MM/yyyy",t="zgs20_gsCalDatePickerElem",r="customdate",0===m("#zgs20_gsCustomDatePickerElem").length&&h.loadDatePicker(h.createNewCustomDatePicker.bind(null,t,o))):(o="dd/MM/yyyy - hh:mm tt",t="zgs20_gsCalDateTimePickerElem",r="customdatetime",0===m("#zgs20_gsCustomDateTimePickerElem").length&&h.loadDatePicker(h.createNewCustomDateTimePicker.bind(null,t,o)));o={};o.callback=_.updateDatePickerValue,o.value=a,h.handleNewCustomDatePicker(e,r,o)},_.updateDatePickerValue=function(e){var s,t,a,r;e.fromUI&&(s=m("[gsa='calendarDate']")[0].id,t=e.valueString,a=e.value.getTime(),"zgs20_gsEventStartDate"===s?(_.startMillis=a,_.startValue=t,_.endMillis=a+_.eventDuration,r=_.convertMillisIntoDateFormat(_.endMillis),_.endvalue=r,e=t.split("-"),r=r.split("-"),m("#zgs20_gsEventStartDateTxt").text(e[0]),m("#zgs20_gsEventEndDateTxt").text(r[0]),_.allDay||(m("#zgs20_gsEventStartTimeTxt").text(e[1]),m("#zgs20_gsEventEndTimeTxt").text(r[1]))):"zgs20_gsEventEndDate"===s&&(_.endMillis=a,r=(_.endvalue=t).split("-"),m("#zgs20_gsEventEndDateTxt").text(r[0]),_.allDay||m("#zgs20_gsEventEndTimeTxt").text(r[1]),_.eventDuration=_.endMillis-_.startMillis))},_.addAttendeeDetails=function(e,s,t,a,r,o,i,n,l){var g,c,d="",p="",u=m("<div>",{class:"zgs19_gsAttendeeImgHolder zgs19_gsAttendeesPhoto"});"zgs20_gsAttendeeEditList"===n?(g=o,s&&(d="zgs19_gsAtdeGrpName",g=t),""===r&&(p="zgs19_gsAtdeEmail"),c=_.renderAttendeeImg(s,a),u=u.append(c)):(c=m("<img>",{class:"zgs19_gsFetchImgLoader zgs19_gsAttendeesFetchImgLoader",src:h.gsspacer}),u=u.append(c),h.renderPhoto("",i,"zgs19_gsAttendeesImg","zgs19_gsResultsUniIcons zgs19_gsAttendeesImg zgs19_gsResNoUserPhoto",c));o=m("<div>",{id:"zgs20_gsAttendeeContainer"+e,class:"zgs19_gsAttendeeContainer",aId:g}).append(u).append(m("<div>",{class:"zgs19_gsAttendeeInfo"}).append(m("<div>",{class:"zgs19_gsAttendeeName zgs19_gsOverflow "+d}).text(r)).append(m("<div>",{class:"zgs19_gsAttendeeEmail zgs19_gsOverflow "+p}).text(o)));a!==h.gscalendaraction.currSearchType.getCurrentResponseObj().zuid&&"zgs20_gsAttendeeEditList"===n&&o.append(_.addAttendeeCloseIcon()),l?m("#"+n).append(o):m("#"+n).prepend(o),h.jqueryMouseEvent()},_.renderAttendeeImg=function(e,s){var t;return e?t=m("<span>",{class:" zgs19_gsAttendeesImg zgs18_gsGroupOfAttendeesIcon"}):""!==s&&"-1"!==s&&void 0!==s?(t=m("<img>",{class:"zgs19_gsFetchImgLoader zgs19_gsAttendeesFetchImgLoader",src:h.gsspacer}),s=h.getThumbPhotoURL(s),h.renderPhoto("",s,"zgs19_gsAttendeesImg","zgs19_gsResNoUserPhoto zgs19_gsAttendeesImg zgs19_gsResultsUniIcons",t)):t=m("<img>",{class:"zgs19_gsResNoUserPhoto zgs19_gsAttendeesImg zgs19_gsResultsUniIcons",src:h.gsspacer}),t},_.updateSearchQueryForCalendar=function(e){h.ContactsSearchType="calendarAttendees";var s=h.gsautocomplete.contactssearch("users","@"+e);0<s.length?((e=m("#zgs20_gsAtdeSugg")).html(""),_.renderAttendeeSuggestion(s),e.css("display","block"),m("#zgs20_gsAttendeeEditList").css("display","none"),_.AttendeeSuggestion=!0):_.hideAttendeeSuggestion()},_.renderAttendeeSuggestion=function(e){for(var s=0,t=0;t<e.length;t++){var a=e[t][0],r=h.gsautocomplete.get("users"),o=h.gsusercontacts.getProximityContactsObject(),i=h.gsusercontacts.getQueriedProxContactsObject(),n=h.gsusercontacts.getCurrCacheQryContact(),i=m.extend({},i,n,o,r);_.tempAttendeeList.hasOwnProperty(a)||i.hasOwnProperty(a)&&(n=i[a].ZUID,o=h.replaceHTMLEntity(i[a].DNAME),r=h.replaceHTMLEntity(i[a].EMAILID),a=i[a].PURL||(n&&"-1"!==n?h.getThumbPhotoURL(n):""),n!==z.cuz&&(_.addAttendeeDetails(s,!1,"",n,o,r,a,"zgs20_gsAtdeSugg",!0),m("#zgs20_gsAttendeeContainer"+s).attr("gs","calendarActions"),m("#zgs20_gsAttendeeContainer"+s).attr("actionType","addAttendees"),s++))}},_.addAttendeesToAttendeeList=function(e){var s=m(e).find(".zgs19_gsAttendeeEmail").text(),e=m(e);e.removeAttr("gs actionType"),e.attr("aId",s),e.append(_.addAttendeeCloseIcon()),m("#zgs20_gsAttendeeEditList").prepend(e),_.tempAttendeeList[s]={eM:s},m("#zgs20_gsAttendeeSearchBox").val(""),m("#zgs20_gsAttendeeSearchBox").focus(),_.hideAttendeeSuggestion()},_.removeAttendeesfromAttendeeList=function(e){e=m(e).parent();m(e).remove();e=e.attr("aId");_.tempAttendeeList.hasOwnProperty(e)&&delete _.tempAttendeeList[e]},_.addAttendeeCloseIcon=function(){return m("<div>",{class:"zgs19_gsAttendeeClose zgs19_gsSSCloseIcon zgs19_gsResultsUniIcons zgs19_gsCurPointer zgs19_gsVisbHdn",gs:"calendarActions",actionType:"removeAttendees"})},_.convertMillisIntoDateFormat=function(e){var s=new Date(e),t=s.getDate();t<10&&(t="0"+t);var a=s.getMonth()+1;a<10&&(a="0"+a);var r="AM",o=s.getHours(),e=s.getMinutes();return 11<o&&(r="PM"),12<o&&(o-=12),0==o&&(o=12),e<10&&(e="0"+e),t+"/"+a+"/"+s.getFullYear()+" - "+o+":"+e+" "+r},_.updateUserStatus=function(e){var s=m(e).attr("datatype"),t=h.gscalendaraction.currSearchType.getCurrentResultObj(),a=h.gscalendaraction.currSearchType.getCurrentResponseObj(),r={serviceName:h.getCalloutSearchType()},e=a.userStatus.email,o={email:encodeURIComponent(e),hostMail:encodeURIComponent(a.Host_Email)},t="action=updateAttendeeStatus&eventId="+a[h.entity_id]+"&calendarId="+t.cId;switch(s){case"yes":o.status="ACCEPTED";break;case"no":o.status="DECLINED";break;case"maybe":o.status="TENTATIVE"}t+="&statusData="+JSON.stringify(o),h.showSearchPageLoader(),h.uri(h.POST,h.updateActionsURL,t,r,function(e,s,t){h.hideSearchPageLoader();var a,r,o=h.jsonParse(e);"SUCCESS"==(o&&o.response||"")?(a=t.args||{},r=h.getI18NMsg("gs.search.calendar.callout.status.success.update"),h.showbannertip({ty:1,msg:r}),h.showCalloutLoader(),e=h.gscalendaraction.currSearchType.getCurrentResultObj(),o=h.getCurCalloutCount(),t=h.mappedServiceList[h.GSConstant.CALENDAR].callout,r=h.gscalendaraction.currSearchType.getSearchDBCalloutObj(),h.showCalloutLoader(r),h.calloutAjaxRequest(t,e,o,{curCalloutCount:o,userStatus:a,updateRecord:!0,searchObj:r})):h.showbannertip({ty:3,msg:h.getI18NMsg("gs.search.calendar.callout.status.updateError")})})},_.updateCalendarEventDetails=function(){_.isEventUpdated=!1;var e=_.currSearchType.getCurrentResultObj(),n=h.gscalendaraction.currSearchType.getCurrentResponseObj(),l=e.sId,s=m("#zgs20_gsNewEventTitleTxt").val().trim();if(""!=s){switch(n.Title!==s&&(s=h.replSplChars(s),_.updateEventObj.title=encodeURIComponent(s),_.isEventUpdated=!0),l){case"4":_.updateEventObj.etag=n.etag,_.updateEventObj.start=_.hasOwnProperty("startValue")?_.startValue.trim():"",_.updateEventObj.end=_.hasOwnProperty("endvalue")?_.endvalue.trim():"",_.allDay||(_.updateEventObj.timezone=encodeURIComponent(m(".zgs19_gsTimeZoneTxt").text())),_.checkCalendarInfoUpdateOrNot();break;case"9":if(_.checkDeskDurationRange())return;_.checkDeskDateAndTimeUpdateOrNot()}if(_.isEventUpdated){var t="action=updateCalendarEventDetails&sId="+l+"&eventId="+n[h.entity_id],s={serviceName:h.getCalloutSearchType()};switch(l){case"4":t+="&calendarId="+e.cId,_.addCalendarEventOldDetails();break;case"9":t+="&account_id="+n[h.account_id]}t+="&eventData="+JSON.stringify(_.updateEventObj),h.showSearchPageLoader(),h.uri(h.POST,h.updateActionsURL,t,s,function(e,s,t){h.hideSearchPageLoader();var a,r,o=h.jsonParse(e.response),i=o&&o.hasOwnProperty("code")?o.code:"";_.hideEditEventDialogBox(),"SUCCESS"==i?(r=h.getI18NMsg("gs.search.calendar.callout.event.success.update"),h.showbannertip({ty:1,msg:r}),a=h.jsonParse(o.eventData),"9"==l&&(a=_.getDeskUpdatedValue(n,a)),h.showCalloutLoader(),e=h.gscalendaraction.currSearchType.getCurrentResultObj(),i=h.getCurCalloutCount(),r=h.mappedServiceList[h.GSConstant.CALENDAR].callout,o=h.gscalendaraction.currSearchType.getSearchDBCalloutObj(),h.showCalloutLoader(o),h.calloutAjaxRequest(r,e,i,{curCalloutCount:i,updateRecord:!0,searchObj:o}),h.gscalendaraction.currSearchType.setCurrentResponseObj(a)):h.showbannertip({ty:3,msg:h.getI18NMsg("gs.search.calendar.callout.event.updateError")})})}else _.hideEditEventDialogBox()}else h.showbannertip({ty:3,msg:h.getI18NMsg("gs.search.calendar.callout.eventTitleError")})},_.getDeskUpdatedValue=function(e,s){return s.zuid=e.zuid,s.Host=e.Host,s.Host_Email=e.Host_Email,s.Contact_Email=e.Contact_Email,e.hasOwnProperty("Ticket_Subject")&&(s.Ticket_Subject=e.Ticket_Subject),s},_.checkCalendarInfoUpdateOrNot=function(){var e=h.gscalendaraction.currSearchType.getCurrentResponseObj(),s=e.dateandtime,t=s.timezone||e.timezone,a=m(".zgs19_gsTimeZoneTxt").text();s.start===_.startValue&&s.end===_.endvalue&&e.allDay===_.allDay&&t===a||(_.isEventUpdated=!0),_.checkAttendeeArrayUpdatedOrNot()&&(0<Object.keys(_.tempAttendeeList).length&&(_.updateEventObj.attendees=_.formatEventAttendeesObj(_.tempAttendeeList)),_.isEventUpdated=!0)},_.checkAttendeeArrayUpdatedOrNot=function(){for(var e=h.gscalendaraction.currSearchType.getCurrentResponseObj(),s=e.Attendees||"",t=_.tempAttendeeList,a=Object.keys(t).length,a=t.hasOwnProperty(e.Host_Email)?--a:a,r=!1,o=0;o<s.length;o++){var i=s[o],n="",l="",l=i.hasOwnProperty("email")?(n=i.email,"eM"):(n=i.id,"gId");t.hasOwnProperty(n)||((i={})[l]=n,i.del=!0,t[n]=i,r=!0)}return r||s.length!==a},_.checkDeskDurationRange=function(){var e=m("#zgs20_gsMinsTxt").val(),s=m("#zgs20_gsHoursTxt").val(),t=(new Date).getTime();return 60<=e?(_.showDeskErrorMsg(h.getI18NMsg("gs.search.calendar.callout.desk.minutesError")),!0):24<=s?(_.showDeskErrorMsg(h.getI18NMsg("gs.search.calendar.callout.desk.hoursError")),!0):_.startMillis<=t&&(_.showDeskErrorMsg(h.getI18NMsg("gs.search.calendar.callout.desk.dateError")),!0)},_.checkDeskDateAndTimeUpdateOrNot=function(){var e=h.gscalendaraction.currSearchType.getCurrentResponseObj(),s=_.getCurEventDuration();e.STM===_.startMillis&&_.eventDuration===s||(_.updateEventObj.start=_.startValue,_.updateEventObj.duration=s/h.SECOND_IN_MILLIS,_.isEventUpdated=!0)},_.addCalendarEventOldDetails=function(){var e=h.gscalendaraction.currSearchType.getCurrentResponseObj();!_.updateEventObj.hasOwnProperty("attendees")&&0<Object.keys(_.tempAttendeeList).length&&e.hasOwnProperty("Attendees")&&(_.updateEventObj.attendees=_.formatEventAttendeesObj(_.tempAttendeeList))},_.formatEventAttendeesObj=function(e){var s,t=[];for(s in e){var a=e[s],r={};a.hasOwnProperty("del")&&(r.deleted=!0),a.hasOwnProperty("eM")?r.email=encodeURIComponent(a.eM):a.hasOwnProperty("gId")&&(r.groupId=a.gId),t.push(r)}return t},_.getCurEventDuration=function(){var e=m("#zgs20_gsHoursTxt").val(),s=m("#zgs20_gsMinsTxt").val();return e*h.HOURS_IN_MILLIS+s*h.MINUTE_IN_MILLIS},_.hideEditEventDialogBox=function(){_.tempAttendeeList=[],_.updateEventObj={},_.hideTimeZoneDialogBox(),_.hideServiceSpecificFields(),m(".zgs19_gsCalendarActionDialog").css("display","none"),h.popupUtils.closeOverlayDialog(),h.calendarActionPopUpOpened=!1},_.hideTimeZoneDialogBox=function(){_.displayTimeZoneList(),m("#zgs20_gsTzList").css("display","none"),h.gscalendaraction.tzList=!1,m(".zgs19_gsTimeZonePopup").css("display","none"),h.timezonePopUp=!1},_.hideAttendeeSuggestion=function(){m("#zgs20_gsAtdeSugg").css("display","none"),m("#zgs20_gsAttendeeEditList").css("display","block"),_.AttendeeSuggestion=!1},_.showDeskErrorMsg=function(e){var s=m(".zgs19_gsDeskErrorTxt");m(".zgs19_gsEventDateInfoHolder").addClass("zgs19_gsHgt80Px"),m(".zgs19_gsCalendarActionPopup").addClass("zgs19_gsHgt268Px"),s.text(e),s.css("display","block")},_.hidedeskErrorMsg=function(){m(".zgs19_gsEventDateInfoHolder").removeClass("zgs19_gsHgt80Px"),m(".zgs19_gsCalendarActionPopup").removeClass("zgs19_gsHgt268Px"),m(".zgs19_gsDeskErrorTxt").css("display","none")},_)}(zgssearch),function(d){var p=window._jQueryGS;d.getBannerClass=function(){return["background-color: #ededed; border-color: #c7c6c5;","background-color: #e6f3fb; border-color: #70b2db;","background-color: #f8f0c9; border-color: #d5c260;","background-color: #f6dede; border-color: #ec9789;"]},d.getBannerIconClass=function(){return["zgs18_gsInfoIcon","zgs18_gsSuccessIcon","zgs18_gsactionInfoIcon","zgs18_gsactionErrorIcon"]},d.renderBanner=function(e,s,t){var a=e.msg,r=e.ty||0,o=d.getBannerClass()[r],i=d.getBannerIconClass()[r],n=d.getTargetElem(s.parentClass),l=n.getBoundingClientRect().width-70,g=d.getWidthOfText(a,300)+50,c=(l-g)/2,r=g-30,l=p(s.bannerClass),g=l.find(s.bannerIconClass);g.removeClass("zgs18_gsInfoIcon zgs18_gsSuccessIcon zgs18_gsactionInfoIcon zgs18_gsactionErrorIcon"),g.addClass(i);i=l.find(s.bannerTextClass);i.css("maxWidth","500px"),i.text(a);a=e.link?e.link[0]:"";a&&p(i).append(a),300<r?i.hasClass("zgs19_gsfl")&&i.removeClass("zgs19_gsfl"):i.hasClass("zgs19_gsfl")||i.addClass("zgs19_gsfl"),i.addClass("zgs19_gsWtSpNormal");n=0==(n=n.clientTop)?5:n;d.isIntegViewPage?("STANDALONE"==d.integHandler.getPageType()&&(n=5),t=t||e?.bannerShowTime||5e3,d.showFreezeOnHoverBanner(l,s,t,o,c,n)):(t=t||e?.bannerShowTime||3e3,l.stop(!0).attr("style",o).css({left:c,opacity:0,top:n}).show().animate({opacity:1},500,function(){p(s.bannerClass).stop(!0).animate({opacity:1},t,function(){d.hidebanner(s.bannerClass)})}))},d.showFreezeOnHoverBanner=function(e,s,t,a,r,o){var i;e.stop(!0).attr("style",a).css({left:r,opacity:0,top:o,cursor:"pointer"}).show(),p(s.bannerClass).animate({opacity:1},500,function(){var e;p(s.bannerClass).stop(!0).animate({opacity:1},t),p(s.bannerClass).on("mouseenter",function(){p(this).stop(!0,!0),clearTimeout(i)}).on("mouseleave",function(){clearTimeout(i),setTimeout(function(){d.hidebanner(s.bannerClass)},2e3)}),e=s.bannerClass,clearTimeout(i),i=setTimeout(function(){d.hidebanner(e)},t)})},d.hidebanner=function(e){e=p(e);"none"!=e.css("display")&&e.css("display","none")},d.showbannertip=function(e){var s,t=(s="zgs20_gsSearchResultsArea",d.isIntegViewPage?"STANDALONE"==d.integHandler.getPageType()?s="zgs20_zohosearch":d.integViewPort&&(s=d.gsCloud.par):d.isEmbed&&(s="zgs20_globalsearch"),s),a={parentClass:t,bannerClass:"#zgs20_gsbannertip",bannerIconClass:"#zgs20_gsbannertipicon",bannerTextClass:"#zgs20_gsbannertiptext"};p("#zgs20_gsbannertip").length||d.constructBanner(t),d.renderBanner(e,a,e.bannerShowTime)},d.showTopbannertip=function(e){1===d.gscomponent.UIType?d.renderBanner(e,{parentClass:"zgs20_zohosearchWrapper",bannerClass:"#zgs20_gsTopbannertip",bannerIconClass:"#zgs20_gsTopbannertipicon",bannerTextClass:"#zgs20_gsTopbannertiptext"}):d.showbannertip(e)},d.constructBanner=function(e){p("#"+e).append(p("<div>",{id:"zgs20_gsbannertip",class:"zgs19_gsbannertip zgs19_gsBoxShadowPopup zgs19_gsDisplayNone"}).append(p("<div>",{id:"zgs20_gsbannertipicon",class:"zgs19_gsbannertipicon zgs19_gsfl"})).append(p("<div>",{id:"zgs20_gsbannertiptext",class:"zgs19_gsbannertiptext zgs19_gsOverflow zgs19_gsfl"})))}}(zgssearch),function(_){var m=window._jQueryGS,e=_.gscomponent||{},t=e.hasOwnProperty("getToolTipMountId")?e.getToolTipMountId():"zgs20_gsHolder",a=_.getTargetElem(t),r="1"==_.GSConstant.UIType?"zgs20_gsOverlayDialog":"zgs20_globalsearch",o=_.getTargetElem(r),s={pageX:0,pageY:0,timer:null,event:null};_.clearTipMouseInterval=function(){clearInterval(s.timer),s={pageX:0,pageY:0,timer:null,event:null}},m("#zgs20_gstootltip").remove(),0==m("#zgs20_gstootltip").length&&m("#"+t).append(m("<div>",{id:"zgs20_gstootltip",class:"zgs19_gstootltip zgs19_gsTipBoxShadow zgs19_gsBorderBox zgs19_gsDisplayNone"}).append(m("<div>",{id:"zgs20_gstoolarrow",class:"zgs19_gsBorderBox"}))),m(a).off("mousemove").on("mousemove",function(e){_.setTooltipTimer(e)}),m(o).off("mousemove").on("mousemove",function(e){_.setTooltipTimer(e)}),m(a).off("mouseout").on("mouseout",function(){_.hidetooltip()}),m(o).off("mouseout").on("mouseout",function(){_.hidetooltip()}),_.clearTooltip=function(){_.hidetooltip(),_.clearTipMouseInterval()},_.setTooltipTimer=function(e){null!=s.event&&s.event.target!=e.target&&_.clearTipMouseInterval(),s.event=e,null==s.timer&&(s.pageX=e.pageX,s.pageY=e.pageY,s.timer=setInterval(function(){var e=s.event;s.pageX===e.pageX&&s.pageY===e.pageY?(clearInterval(s.timer),_.showtooltip(e)):(s.pageX=e.pageX,s.pageY=e.pageY)},250))},_.getViewableContentWidth=function(e){var s=m(e).width(),e=m(e).parent().width();return s<e?s:e},_.showtooltip=function(e){var s,t,a,r,o,i,n,l,g,c,d,p,u,h;_.isMenuPopUpOpened&&_.menuPopUpAction==e.target||(c=e.target,s=m(c).attr("gstitle")||"",o=m(c).attr("gslabel")||"",t=m(c).attr("tooltiptxt")||"",a=m(c).hasClass("zgs19_path"),g=m(c).attr("isCaps")||"",t&&_.constructGlobalToolTipEle(),a&&(c=_.getParentNode(c,"true","isIconPathParentTip"),s=m(c).attr("gstitle")||""),(s||t)&&(m(".zgs19_gstoolHold").remove(),l=(i=0)<(i=_.renderToolTip(o,s||t,"zgs20_gstoollabel","zgs20_gstooltext",t,g))?i:0,g&&(l+=5),m("#"+_.getToolTipHeader(s,t)).css("maxWidth",Math.ceil(l)),u=_.getWMSBarHeight(),(d=h=0)<(n=(p=_.getToolTipTarget(s,t).getBoundingClientRect()).top)&&(h=n),0<(r=p.left)&&(d=r),a=_.gscomponent.isRTLEnabled||_.isMobViewport()?0:_.getLHSServicePaneWidth(),o=c.getBoundingClientRect(),i="true"===(m(c).attr("istip")||"")?_.getViewableContentWidth(c):o.width,(m(c).attr("isParentTip")||"")&&(i=(o=(c=_.getParentTipNode(c,"gsParentTip")).getBoundingClientRect()).width,a=0),p=(g=o.left-d)+i/2,r=o.top-n,i=!1,n=(o=l/2)-5,l=g,g=e.pageY-h+m("#zgs20_gstoolarrow").width()/2+15,e=_.isFilterPageOpened?"zgs20_zohosearchWrapper":_.getToolTipMount(s,t),h="",(h=_.isEmbed?document.getElementById("zgs20_globalsearch"):_.getNoteByAttr(c,"id",e))&&(e=(c=h.getBoundingClientRect()).right-d,h=0<c.left?c.left-(d+a):d+a,d=0,p<o?(l=h,n-=o-p):l-=l-(p-o),(p=e-p)<o&&(l-=d=o-p,n+=d),l<a&&(n-=a-l,l=a),c.bottom-c.top-u<20+r+(u=m("#"+_.getToolTipHeader(s,t)).height())&&(i=!0,g=r-u-6)),m("#zgs20_gstoolarrow").removeClass("zgs19_gstooldownarrow zgs19_gstooluparrow"),i?(m("#zgs20_gstoolarrow").addClass("zgs19_gstooldownarrow"),m("#zgs20_gstoolarrow").css({top:"",bottom:"-5px",left:n})):(m("#zgs20_gstoolarrow").addClass("zgs19_gstooluparrow"),m("#zgs20_gstoolarrow").css({top:"-5px",bottom:"",left:n})),m("#"+_.getToolTipHeader(s,t)).stop(!0).css({top:g,left:l,opacity:0}).css("display","block").animate({opacity:1},500,function(){m("#"+_.getToolTipHeader(s,t)).stop(!0).animate({opacity:1},5e3,function(){_.hidetooltip()})})))},_.renderToolTip=function(e,s,t,a,r,o){m("#"+_.getToolTipHeader(s,r)).append(m("<div>",{class:"zgs19_gstoolHold zgs19_gsOverflowWrap"}).append(m("<span>",{id:t,class:"zgs19_gstoollabel zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl"})).append(m("<span>",{id:a,class:"zgs19_gstooltext zgs19_gsBorderBox"})));var i=s,n=0;e&&(n=5,i=(e+=":")+" "+s);r=_.getWidthOfText(i,600),r=Math.ceil(r)+n+24+2;return m("#"+t).empty().css("display","none"),e&&(i=_.getWidthOfText(s,600),r<=(n=_.getWidthOfText(e,600)+n)+i&&(n=500),m("#"+t).empty().css("display","block").text(e),m("#"+t).css("maxWidth",Math.ceil(n))),o?m("#"+a).addClass("zgs19_gsTextCaps"):m("#"+a).removeClass("zgs19_gsTextCaps"),m("#"+a).empty().text(s),r},_.hidetooltip=function(){var e=_.getTargetElem("zgs20_gsGlobalToolTip");e&&"none"!==m(e).css("display")&&m("#zgs20_gsGlobalToolTip").css("display","none"),"none"!==_.getTargetElem("zgs20_gstootltip").style.display&&m("#zgs20_gstootltip").css("display","none")},_.constructGlobalToolTipEle=function(){0==m("#zgs20_gsGlobalToolTip").length&&m("#"+r).append(m("<div>",{id:"zgs20_gsGlobalToolTip",class:"zgs19_gstootltip zgs19_gsTipBoxShadow zgs19_gsBorderBox zgs19_gsDisplayNone"}).append(m("<div>",{id:"zgs20_gstoolarrow",class:"zgs19_gsBorderBox"})))},_.getToolTipHeader=function(e,s){return s?"zgs20_gsGlobalToolTip":"zgs20_gstootltip"},_.getToolTipTarget=function(e,s){return s?o:a},_.getToolTipMount=function(e,s){return s?r:t}}(zgssearch),function(i,e){var r=e.document,n=e._jQueryGS;i.zsdatepickerLabel={OKButtonLabel:i.getI18NMsg("common.dp.OKButtonLabel"),cancelButtonLabel:i.getI18NMsg("common.cancel"),daysAbbreviated:[i.getI18NMsg("common.dp.Sun"),i.getI18NMsg("common.dp.Mon"),i.getI18NMsg("common.dp.Tue"),i.getI18NMsg("common.dp.Wed"),i.getI18NMsg("common.dp.Thu"),i.getI18NMsg("common.dp.Fri"),i.getI18NMsg("common.dp.Sat")],monthsAbbreviated:[i.getI18NMsg("common.dp.Jan"),i.getI18NMsg("common.dp.Feb"),i.getI18NMsg("common.dp.Mar"),i.getI18NMsg("common.dp.Apr"),i.getI18NMsg("common.date.may"),i.getI18NMsg("common.dp.Jun"),i.getI18NMsg("common.dp.Jul"),i.getI18NMsg("common.dp.Aug"),i.getI18NMsg("common.dp.Sep"),i.getI18NMsg("common.dp.Oct"),i.getI18NMsg("common.dp.Nov"),i.getI18NMsg("common.dp.Dec")],nextMonth:i.getI18NMsg("common.dp.nextMonth"),nextYear:i.getI18NMsg("common.dp.nextYear"),prevMonth:i.getI18NMsg("common.dp.prevMonth"),prevYear:i.getI18NMsg("common.dp.prevYear"),nextDecade:i.getI18NMsg("common.dp.nextDecade"),prevDecade:i.getI18NMsg("common.dp.prevDecade"),nextCentury:i.getI18NMsg("common.dp.nextCentury"),prevCentury:i.getI18NMsg("common.dp.prevCentury")},i.zsdaterangepickerLabel=i.assignObject(i.zsdatepickerLabel,{fromLabel:i.getI18NMsg("common.from"),toLabel:i.getI18NMsg("common.to")}),i.zsdatetimepickerLabel=i.assignObject(i.zsdatepickerLabel,{timeLabel:i.getI18NMsg("common.dp.timeLabel")}),i.zsdatetimerangepickerLabel=i.assignObject(i.zsdaterangepickerLabel,{timeLabel:i.getI18NMsg("common.dp.timeLabel")}),i.loadDatePicker=function(e){i.hasDatePicker?e&&e():(i.hasDatePicker=!0,i.network.loadSRICSSFile("css/gszohocomponents.min.css",function(){i.network.loadSRIJSFile("js/gszohocomponents.min.js",e)}))},i.createNewCustomDatePicker=function(e,s){try{var t="zgs20_gsCustomDatePickerElem",a=r.createElement("div");a.id=t,r.body.appendChild(a),n("#"+t).zsdatepicker({format:s,monthsPerView:1,immediateCommit:!1,forElement:"#"+e,className:"zgs19_gsDatePickerElem",labels:i.zsdatepickerLabel,change:function(e,s){s.fromUI&&s.options.callback(s)},cancel:function(){i.hideNewCustomDatePicker()}})}catch(e){i.throwClientError("Error while creating new custom datepicker",e)}},i.createNewCustomDateTimePicker=function(e,s){try{var t="zgs20_gsCustomDateTimePickerElem",a=r.createElement("div");a.id=t,r.body.appendChild(a),n("#"+t).zsdatetimepicker({format:s,monthsPerView:1,immediateCommit:!1,forElement:"#"+e,className:"zgs19_gsDatePickerElem",labels:i.zsdatetimepickerLabel,change:function(e,s){s.fromUI&&s.options.callback(s)},cancel:function(){i.hideNewCustomDatePicker()}})}catch(e){i.throwClientError("Error while creating new custom datetimepicker",e)}},i.createNewCustomDateRangePicker=function(e,s){try{var t="zgs20_gsCustomDateRangePickerElem",a=r.createElement("div");a.id=t,r.body.appendChild(a),n("#"+t).zsdaterangepicker({format:s,immediateCommit:!1,selectionType:"continuous",forElement:"#"+e,className:"zgs19_gsDatePickerElem",labels:i.zsdaterangepickerLabel,change:function(e,s){s.fromUI&&s.options.callback(s)},cancel:function(){i.hideNewCustomDatePicker()}})}catch(e){i.throwClientError("Error while creating new custom daterangepicker",e)}},i.createNewCustomDateTimeRangePicker=function(e,s){try{var t="zgs20_gsCustomDateTimeRangePickerElem",a=r.createElement("div");a.id=t,r.body.appendChild(a),n("#"+t).zsdatetimerangepicker({format:s,immediateCommit:!1,selectionType:"continuous",forElement:"#"+e,className:"zgs19_gsDatePickerElem",labels:i.zsdatetimerangepickerLabel,change:function(e,s){s.fromUI&&s.options.callback(s)},cancel:function(){i.hideNewCustomDatePicker()}})}catch(e){i.throwClientError("Error while creating new custom datetimerangepicker",e)}},i.handleNewCustomDatePicker=function(e,s,t){try{var a="";if("customdate"==s){for(var r in a="zgs20_gsCustomDatePickerElem",t)n("#"+a).zsdatepicker("setAttribute",r,t[r]);n("#"+a).zsdatepicker("open",e)}else if("customdatetime"==s){for(var r in a="zgs20_gsCustomDateTimePickerElem",t)n("#"+a).zsdatetimepicker("setAttribute",r,t[r]);n("#"+a).zsdatetimepicker("open",e)}else if("customdaterange"==s){for(var r in a="zgs20_gsCustomDateRangePickerElem",t)n("#"+a).zsdaterangepicker("setAttribute",r,t[r]);n("#"+a).zsdaterangepicker("open",e)}else{for(var r in"customdatetimerange",a="zgs20_gsCustomDateTimeRangePickerElem",t)n("#"+a).zsdatetimerangepicker("setAttribute",r,t[r]);n("#"+a).zsdatetimerangepicker("open",e)}var o=n("#zgs20_globalsearch").css("z-index")+1;n("#"+a).css("z-index",o),n("#"+a).attr("gs","gsDatePickerComponent"),i.isCustomDatePickerDisplay=!0}catch(e){i.throwClientError("Error in handleCustomDatePicker",e)}},i.hideNewCustomDatePicker=function(){try{var e=n("#zgs20_gsCustomDatePickerElem").length,s=n("#zgs20_gsCustomDatePickerElem").css("display");0<e&&(null!=s||"none"!=s)&&n("#zgs20_gsCustomDatePickerElem").zsdatepicker("close");e=n("#zgs20_gsCustomDateTimePickerElem").length,s=n("#zgs20_gsCustomDateTimePickerElem").css("display");0<e&&(null!=s||"none"!=s)&&n("#zgs20_gsCustomDateTimePickerElem").zsdatetimepicker("close");var t=n("#zgs20_gsCustomDateRangePickerElem").length,a=n("#zgs20_gsCustomDateRangePickerElem").css("display");0<t&&(null!=a||"none"!=a)&&n("#zgs20_gsCustomDateRangePickerElem").zsdaterangepicker("close");e=n("#zgs20_gsCustomDateTimeRangePickerElem").length,s=n("#zgs20_gsCustomDateTimeRangePickerElem").css("display");0<e&&(null!=s||"none"!=s)&&n("#zgs20_gsCustomDateTimeRangePickerElem").zsdatetimerangepicker("close"),i.isCustomDatePickerDisplay=!1}catch(e){i.throwClientError("Error in hideNewCustomDatePicker",e)}}}(zgssearch,window),function(S,e){var b=e._jQueryGS,z=S.getGSConstantObj()||{};S.gssavedsearches=function(C){(C=S.gssavedsearches||{}).isSaveThisSearchDialogOpened=C.isSaveThisSearchDialogOpened||!1,C.getSavedCardParams=function(e){e=S.getFilterInfo(e,"accounts","default");0==e||S.hasValueInSearchObj("accounts")||S.setCurrentValue("accounts",e);e=S.getFilterConfig()||{};return e.cardtype=S.SAVED_CARD,e},C.getPreviewCardParams=function(){var e,s,t=S.getCurrentResObj(),a=b(S.getCurrentSelectedElem()).attr("service")||t.serviceName,r={},o={};return o=a==S.GSConstant.PROJECTS||a==S.GSConstant.ASANA?S.projectMgmtCalloutObj.getPreviewCrdParams():-1<S.SERVICES_STORAGE.indexOf(a)?(e=new S.FileMgmtFactory,(s={}).service=a,e.createFileMgmtService(s).getPreviewCrdParams(t)):a==S.GSConstant.EVERNOTE?(e=new S.notesTemplateFactory,(s={}).service=a,e.createCurServiceInstance(s).getPreviewCrdParams(t)):(a=S.mappedServiceList[a].callout,S[a].getPreviewCrdParams()),r.previewcardconfig=S.gssavedsearches.getPrevCrdConfig(o),r.hasOwnProperty("previewcardconfig")&&(r.cardtype=S.BOOKMARK_CARD),r},C.validate=function(){var e={},s=b("#zgs20_gsSTS").val().trim();if(!s)return S.showTopbannertip({ty:2,msg:S.getI18NMsg("gs.saved_search.service_insert_name_info")}),e;var t=b("#zgs20_gsCrdDescInput").val().trim();return C.cardDetailsCheck(s)&&C.cardDetailsCheck(t)?(e.cardName=s,e.description=t):C.toggleInputErrorClass(),e},C.toggleInputErrorClass=function(){var e="zgs19_gsInputBoxError",s=b("."+e);0<s.length&&(s.removeClass(e),setTimeout(function(){s.addClass(e),s.find(".zgs19_gsInputError")[0].focus()},300))},C.addEventForCardAndDashboardDetails=function(t,a,r){(t=b(t)).off("input").on("input",function(){var e=t.parent(),s=t.val()||"";S.gssavedsearches.checkForErrorIcon(s,t,e,a),r&&C.toggleSaveButtonForSaveCard(s)})};var a="zgs19_gsErrorIcon",r="zgs19_toolTipText",u="zgs19_gsInputError",i="zgs19_gsInputBoxError";return C.checkForErrorIcon=function(e,s,t,a){u=a?"zgs19_gsMultiCardTitleError":"zgs19_gsInputError",i=a?"":"zgs19_gsInputBoxError";var r,o="zgs19_gsMultiCardInputError";C.cardDetailsCheck(e)?(r=C.isErrorIconExists(t),a?(a.removeClass(u),s.removeClass(o),e=t.find("."+u).length,r&&e||C.removeErrorIconForCardDetails(s,t)):r&&C.removeErrorIconForCardDetails(s,t)):a?(C.addErrorIconForCardDetails(a,t),a.addClass(u),s.addClass(o)):C.addErrorIconForCardDetails(s,t)},C.removeErrorIconForCardDetails=function(e,s){s.find("."+a).remove(),s.find("."+r).remove(),e.removeClass(u),s.removeClass(i)},C.addErrorIconForCardDetails=function(e,s){C.isErrorIconExists(s)||(S.gssavedsearches.highlightInputFieldOnError(e,s),S.gssavedsearches.addToolTipText(s),e.focus())},C.highlightInputFieldOnError=function(e,s){e.addClass(u),s.addClass(i);e=b("<span>",{class:a+" zgs18_gsErrorIcon"});s.append(e),S.obtainLineIconPaths("zgs18_gsErrorIcon",b(e)[0])},C.addToolTipText=function(e){var s=S.getI18NMsg("gs.save.error_card_details");e.append(b("<span>",{class:r+" zgs19_gsTipBoxShadow"}).text(s)),S.gssavedsearches.addEventForHoverToolTipText(e)},C.addEventForHoverToolTipText=function(e){var s=e.find("."+a),t=e.find("."+r);b(s).on({mouseenter:function(){b(t).css({visibility:"visible"})},mouseleave:function(){b(t).css({visibility:"hidden","pointer-events":"none"})}})},C.isErrorIconExists=function(e){return 0!==b(e).find("."+a).length},C.cardDetailsCheck=function(e){var s=S.gscardUtils.cardAndDashboardDetailsRegexPattern.test(e);return(!e||e.length<=250)&&s},C.saveCard=function(e,s,t,a,r){var o;""!==e?b.isEmptyObject(t)||(e="action=savecard&service="+s+"&cardname="+encodeURIComponent(e),e+="&cardtype="+(t.hasOwnProperty("cardtype")?t.cardtype:""),""!==a&&(e+="&carddescription="+encodeURIComponent(a)),t.hasOwnProperty("filterconfig")&&(e+="&cardconfig="+encodeURIComponent(JSON.stringify(t.filterconfig))),t.hasOwnProperty("previewcardconfig")&&(e+="&previewcardconfig="+t.previewcardconfig),t.advanceconfig&&(e+="&advcardconfig="+encodeURIComponent(JSON.stringify(t.advanceconfig))+"&querypattern="+encodeURIComponent(t.querypattern)),o=b("#zgs20_gsnewDbInput").val(),t=b("#zgs20_gsSelectDbDD").attr("dbId"),o?e+="&dashboardname="+encodeURIComponent(o):t&&(e+="&dashboardid="+t),S.uri(S.POST,S.postCardsURL,e,r,function(e,s,t){var a=t.args.callback;"success"==s?(s=(t=S.jsonParse(e)).cardid,e=t.status,C.handleSaveCardsDashboardResponse(o,e,t),"1001"===e?(a(s,r,!0),S.gscardUtils.addCrdAutoSugg(s,r)):(a(s,r,!1),S.revertButtonLoader(),b(".zgs19_gsaddtodbbutton").text(S.getI18NMsg("gs.settings.application.save")))):a("",r,!1)})):S.showTopbannertip({ty:2,msg:S.getI18NMsg("gs.saved_search.service_insert_name_info")})},C.formatMulitportalResponseForCard=function(){var e=[],s=[];C.multiCardSaveObj={};for(var t=S.getSearchType(),a=t==z.ALL?S.getOrderedServiceList():[t],r=a.length,o=S.getEnabledServiceList(),i=0;i<r;i++){var n=a[i];if(n!==z.ALL&&S.isArrayContain(n,o)){var l=S.getFilterObj(n),g=S.renderedResultServiceMetaObj[n];if(l&&g)for(var c=l.accounts,d=c?c.accIdArr:"",p=0;p<d.length;p++){var u=d[p];if(g.hasOwnProperty(u))for(var h=g[u],_=0;_<h.length;_++){var m=h[_],m=C.formatSearchResponseObjectForCard(n,u,m,l,s);e.push(m)}}}}return C.multiCardSaveArr=e,C.multiCardSaveObj=s,e},C.formatSearchResponseObjectForCard=function(e,s,t,a,r){var o={},i={};i.filter={service:e};var o={service:e,accId:s,accName:t.account_name},n=t.module_id||t.modId||"";i.filter.accounts=[s];t=S.widgetServiceList[e];return n&&(a=(t=a[t.childkey]||a.modules).data,t=t.type,t=C.getDispName(e,s,a,n,t),o.modId=n,o.modName=t,i.filter.modules=[n]),r[e+s+n]=i,o},C.getDispName=function(e,s,t,a,r){var o,i;if("4"==r){if(t.hasOwnProperty(s))for(o in i=t[s]){var n=i[o];if((n.key||"")==a){n=n.name||"";return n=e==z.MAILS?(n=0==n.indexOf(".../")?n.replace(new RegExp("(^.../)"),""):n).replace(new RegExp("(/$)"),""):n}}}else if("3"==r){if(t.hasOwnProperty(s))return(i=t[s])[a]||""}else{if("1"==r)return t[a]||"";if("6"==r)return a}return""},C.renderMultiServiceOuterContent=function(e){var s,t;0<e.length&&(s=b("<div>",{class:"zgs19_gsMultiSerSaveCount zgs19_gsfl"}).text(0),t=S.renderCheckBox("edit",!1),e=b("<div>",{class:"zgs19_gsMultiServiceCrdInfo"}).append(b("<div>",{id:"zgs20_gsMultiServAllCheckBoxHolder",class:"zgs19_gsSaveCheckBoxHolder"}).append(t)).append(b("<div>",{class:"zgs19_gsSelectText zgs19_gsCurPointer"}).text(S.getI18NMsg("gs.save.select_all_cards"))),(t=b("#zgs20_gsOverlayDialog")).append(b("<div>",{class:"zgs19_gsCnfrmDialogBox"}).append(b("<div>",{id:"zgs20_gsMultiServiceSavePopup",class:"zgs19_gsServiceSavePopup zgs19_gsMultiServiceSavePopup zgs19_gsSaveSearch",cardType:"0"}).append(b("<div>",{class:"zgs19_gsMultiServiceTop"}).append(b("<div>",{class:"zgs19_gsMultiSaveHeader"}).append(b("<span>",{class:"zgs19_gsMultiSaveHdrText zgs19_gsfl"}).text(S.getI18NMsg("gs.save.all_cards_title"))).append(s)).append(e).append(b("<div>",{id:"zgs20_gsMultiSerSaveContent",class:"zgs19_gsMultiSerSaveContent"}))).append(b("<div>",{class:"zgs19_gsMultiSaveFooter"}).append(b("<div>",{class:"zgs19_gsaddtodbText zgs19_gsaddtodbDisable",gs:"showaddtodb"}).text(S.getI18NMsg("gs.saved_searches.action_add_dashboard"))).append(b("<button>",{class:"zgs19_gsSC_PUbtmNew zgs19_gssave zgs19_gsfr zgs19_gsHideEleme",gs:"allappsCardSave",cnfrmType:"saveallCards"}).text(S.getI18NMsg("gs.settings.application.save"))).append(b("<button>",{class:"zgs19_gsSC_PUbtmNew zgs19_gscancel zgs19_gsfr ",gs:"allappsCardSave",cnfrmType:"cancelallCards"}).text(S.getI18NMsg("common.cancel")))).append(b("<div>",{class:"zgs19_gsSSClose",id:"zgs20_gsSSClose"}).append(b("<div>",{class:"zgs18_gsCloseIcon zgs19_gsSSCloseIcon zgs19_gsCurPointer"}))))),t.css("display","block"))},C.handleAddToDbSelectionChange=function(){b(".zgs19_gsaddtodbbutton.zgs19_gssave").off().on({click:function(){var e;""==b("#zgs20_gsnewDbInput").val()&&null==b("#zgs20_gsSelectDbDD").attr("dbid")||(e=event.target,"savePreviewCnfrmActions"!=b(e).attr("gs")&&"savePreviewCnfrmActions"!=b(e).attr("gstemp")&&(S.setButtonLoader(e,"zgs20_savingAllCards",!0),C.saveAllCards())),b("#zgs20_gsMultiServiceSavePopup").click().focus()}})},C.renderEachServiceSaveData=function(e){try{for(var s,t=e.length,a=b("#zgs20_gsMultiSerSaveContent"),r="",o=0;o<t;o++){var i=e[o],r=i.service,n=S.getI18NMsg("common.description"),l=S.mappedServiceList[r].displayName;i.accName&&(l+=" ("+i.accName+") "),i.hasOwnProperty("modName")&&i.modName&&(l+=" > "+i.modName);var g=i.accId||"",c=i.modId||"",d=C.multiCardSaveObj[r+g+c];d&&((d.meta={}).cardname=l);var p=S.Utils.getServiceIcon(r),u=S.Utils.getServiceRelatedInfo(r),h=u.cardColor,_=u.bordercolor,m=S.renderCheckBox("edit",!1,"key","name"),z=b("<div>",{class:"zgs19_gsMultiServCheckBoxHolder zgs19_gsSaveCheckBoxHolder",gs:"checkEachCard"}).append(m),z=1<t?z:"",v=b("<div>",{class:"zgs19_gsSaveCrdSerIcon zgs19_gsfl "+p}),f=b("<div>",{class:"zgs19_gsEachServiceCrd"}).append(z).append(b("<div>",{class:"zgs19_gsEachServiceCrdContent"}).append(b("<div>",{class:"zgs19_gsMultiSerIconCircle zgs19_gsDBCardServiceIcon zgs19_gsfl zgs19_gsColoredIcon "+h+" "+_}).append(v)).append(b("<div>",{class:"zgs19_gsCrdLeftContent"}).append(b("<div>",{class:"zgs19_gsCrdTitle zgs19_gsOverflow",gs:"cardtitle",value:l}).text(l)).append(b("<div>",{class:"zgs19_gsCrdDescription zgs19_gsOverflow",gs:"carddescription",value:""}).text(n))).append(b("<div>",{class:"zgs19_gsCrdInfoIcon"})));a.append(f),f.attr("index",o),S.LINE_ICON_MAP.hasOwnProperty(p)&&S.obtainLineIconPaths(p,v)}0<t&&(s=b(".zgs19_gsCrdTitle")[0],S.gssavedsearches.inputCardTitle(b(s),s))}catch(e){S.throwClientError("Error while rendering all apps save"+(r?"for service:"+r:""),e)}},C.hideMultiServiceCardSavePopup=function(){S.popupUtils.closeOverlayDialog(),b(".zgs19_gsCnfrmDialogBox").remove(),C.isSaveThisSearchDialogOpened=!1,e.removeEventListener("resize",S.gssavedsearches.resizePopup,!1)},C.calculatePositionForSaveSearchPopup=function(){var e,s,t;1==S.gscomponent.UIType?(s=b("#zgs20_zohosearch").height(),e=b("#zgs20_zohosearch").width(),t=(s-b("#zgs20_gsMultiServiceSavePopup").height())/2,e=(e-b("#zgs20_gsMultiServiceSavePopup").width())/2,b("#zgs20_gsMultiServiceSavePopup").css("inset-block-start",t+"px"),b("#zgs20_gsMultiServiceSavePopup").css("inset-inline-start",e+"px")):0==S.gscomponent.UIType&&(t=((s=b("#zgs20_gsHolder").height())-b("#zgs20_gsMultiServiceSavePopup").height())/2,b("#zgs20_gsMultiServiceSavePopup").css("inset-block-start",t+"px"))},C.mouseEventForMultiServiceSave=function(){b("#zgs20_gsMultiServAllCheckBoxHolder > .zgs19_checkbox, .zgs19_gsSelectText").off().on({click:function(){var e=b("#zgs20_gsMultiServAllCheckBoxHolder").find("input"),s=e.prop("checked"),t=b(".zgs19_gsMultiServCheckBoxHolder").find("input");t.length<=S.gscardUtils.cardsLimitInMultiCardSave?(e.prop("checked",!s),t.prop("checked",!s),s?b(".zgs19_gsMultiSaveFooter .zgs19_gssave").addClass("zgs19_gsHideEleme"):b(".zgs19_gsMultiSaveFooter .zgs19_gssave").removeClass("zgs19_gsHideEleme"),s?b(".zgs19_gsaddtodbText").addClass("zgs19_gsaddtodbDisable"):b(".zgs19_gsaddtodbText").removeClass("zgs19_gsaddtodbDisable"),s?b(".zgs19_gsaddtodbText").removeAttr("gs"):b(".zgs19_gsaddtodbText").attr("gs","showaddtodb"),s=b(".zgs19_gsEachServiceCrd > .zgs19_gsMultiServCheckBoxHolder > .zgs19_checkbox > input:checked").length,b(".zgs19_gsMultiSerSaveCount").text(s).css("display","block")):S.showTopbannertip({ty:2,msg:S.I18N.getValue("gs.save.all_cards_save_limit_exceeded",[S.gscardUtils.cardsLimitInMultiCardSave])})}}),b(".zgs19_gsCrdTitle").off().on({click:function(e){e=b(e.target);C.inputCardTitle(e,this)}}),b(".zgs19_gsCrdDescription").off().on({click:function(e){e=b(e.target);C.getCardDescription(e,this)}}),b(".zgs19_gsSSClose").off().on({click:function(){C.hideMultiServiceCardSavePopup()}}),b(".zgs19_gsSC_PUbtmNew.zgs19_gscancel").off().on({click:function(){C.hideMultiServiceCardSavePopup()}}),b(".zgs19_gsSC_PUbtmNew.zgs19_gssave").off().on({click:function(){var e=event.target;S.setButtonLoader(e,"zgs20_savingAllCards"),C.saveAllCards()}}),0==S.gscomponent.UIType&&(S.gssavedsearches.resizePopup=function(){S.gssavedsearches.isSaveThisSearchDialogOpened&&C.calculatePositionForSaveSearchPopup()},e.addEventListener("resize",C.resizePopup,!1))},C.toggleSaveButtonForSaveCard=function(e){(e=e.trim())?(b("#zgs20_gsSavedSearchPopup .zgs19_gssave").removeClass("zgs19_gsHideEleme"),b("#zgs20_gsSavedSearchPopup .zgs19_gsaddtodbText").removeClass("zgs19_gsaddtodbDisable")):(b("#zgs20_gsSavedSearchPopup .zgs19_gssave").addClass("zgs19_gsHideEleme"),b("#zgs20_gsSavedSearchPopup .zgs19_gsaddtodbText").addClass("zgs19_gsaddtodbDisable"))},C.getCardDescription=function(e,s){C.inputCardTitle(e,s,!0)},C.inputCardTitle=function(e,s,t){e.css("display","none");var a=b(e).attr("value"),r="",o="",r=t?S.getI18NMsg("common.description"):S.getI18NMsg("gs.cards.card_name");S.gssavedsearches.cardDetailsCheck(a)||(o=" zgs19_gsMultiCardInputError");r=b("<input>",{class:"zgs19_gsCrdTitleInput"+o,gs:"cardmetaInput",value:a,placeholder:r});e.after(r),r.focus(),r.select(),b(".zgs19_gsCrdTitleInput").off().on({blur:function(e){C.onFocusOutOfCardNameInput(e.target,s,t)},keydown:function(e){(e.keyCode||e.which)===S.specialkeys.ENTER&&C.onFocusOutOfCardNameInput(e.target,s,t)}}),S.gssavedsearches.addEventForCardAndDashboardDetails(r,e)},C.onFocusOutOfCardNameInput=function(e,s,t){var a=b(e),e=a.val()||"",a=a.closest(".zgs19_gsEachServiceCrd"),s=b(a).find(s);e.trim()?s.attr("value",e):(e=s.text(),C.cardDetailsCheck(e)||(r=a.find(".zgs19_gsCrdLeftContent"),S.gssavedsearches.addErrorIconForCardDetails(s,r),s.addClass(u))),s.text(e),b(".zgs19_gsCrdTitleInput").remove(),s.css("display","block");var r=a.attr("index"),s=C.multiCardSaveArr[r],a=s.accId||"",r=s.modId||"",s=s.service,r=C.multiCardSaveObj[s+a+r];r&&(r=r.meta,t?r.carddescription=e:r.cardname=e)},C.handleMultiSerCrdCheckUncheck=function(e){var s=b(e).find("input[type=checkbox]"),t=s.prop("checked");s.prop("checked",!t);e=b(".zgs19_gsMultiServCheckBoxHolder > .zgs19_checkbox > input:checked").length;e<=S.gscardUtils.cardsLimitInMultiCardSave?(!t&&e!==C.multiCardSaveArr.length||b("#zgs20_gsMultiServAllCheckBoxHolder").find("input").prop("checked",!t),0<e?(b(".zgs19_gsSC_PUbtmNew.zgs19_gssave").removeClass("zgs19_gsHideEleme"),b(".zgs19_gsMultiSerSaveCount").text(e).css("display","block"),b(".zgs19_gsaddtodbText").removeClass("zgs19_gsaddtodbDisable"),b(".zgs19_gsaddtodbText").attr("gs","showaddtodb")):(b(".zgs19_gsaddtodbText").removeAttr("gs"),b(".zgs19_gsaddtodbText").addClass("zgs19_gsaddtodbDisable"),b(".zgs19_gsSC_PUbtmNew.zgs19_gssave").addClass("zgs19_gsHideEleme"),b(".zgs19_gsMultiSerSaveCount").text(e))):(s.prop("checked",t),S.showTopbannertip({ty:2,msg:S.I18N.getValue("gs.save.all_cards_save_limit_exceeded",[S.gscardUtils.cardsLimitInMultiCardSave])}))},C.showaddtodbElement=function(e){var s,e=b(e).closest("#zgs20_gsMultiServiceSavePopup").length;let t=0,a,r,o=!1;if(e){let e=b(".zgs19_gsEachServiceCrd"),s=e.has("input[type=checkbox]:checked");r=s.has("."+u),t=r.length,o=!t}else a=C.validate(),o=!b.isEmptyObject(a);o?(C.constructAddToDbOuter(),C.isAddtoDbElementOpened=!0):e&&(s="zgs19_gsMultiCardBoxError",(1<t||1===t&&!C.isVisible(r[0],b("#zgs20_gsMultiSerSaveContent")[0]))&&b(r)[0].scrollIntoView({behavior:"smooth"}),b(r).addClass(s),setTimeout(function(){b(r).removeClass(s)},1400))},C.hideaddtodbElement=function(){b("#zgs20_gsSelectDbDD").removeAttr("dbid"),b(".zgs20_gsnewDbInput").val(""),b(".zgs19_gsaddtodboverElement").removeClass("zgs19_gstransition"),C.isAddtoDbElementOpened=!1},C.saveAllCards=function(){var e=[];S.filter_type="saveCard";var s,t=S.getFilterConfig(),a=t.hasOwnProperty("filterconfig")?t.filterconfig:[],r=C.multiCardSaveArr||[],o="",i="";if(1<r.length){var n=b(".zgs19_gsEachServiceCrd").has("input[type=checkbox]:checked");if(!(i=(o=n.has("."+u)).length))for(var l=n.length,g=0;g<l;g++){var c=n[g],c=b(c).attr("index");C.formatEachCardSaveObject(r[c],e)}}else if(0<r.length){var d=r[0],p=b("#zgs20_gsSTS").val().trim();if(""===p)return S.showTopbannertip({ty:2,msg:S.getI18NMsg("gs.saved_search.service_insert_name_info")}),void S.revertButtonLoader();t=b("#zgs20_gsCrdDescInput").val().trim();if(!C.cardDetailsCheck(p)||!C.cardDetailsCheck(t))return;C.formatEachCardSaveObject(d,e,p,t)}e.length?C.multicardssave(S.SAVED_CARD,a,e):(s="zgs19_gsMultiCardBoxError",(1<i||1===i&&!C.isVisible(o[0],b("#zgs20_gsMultiSerSaveContent")[0]))&&b(o)[0].scrollIntoView({behavior:"smooth"}),b(o).addClass(s),setTimeout(function(){b(o).removeClass(s)},1400))},C.isVisible=function(e,s){var t=e.offsetTop,a=t+e.clientHeight,e=s.scrollTop+100,s=e+s.clientHeight;return e<=t&&a<=s},C.formatEachCardSaveObject=function(e,s,t,a){var r=e.accId||"",o=e.modId||"",i=e.service,e=C.multiCardSaveObj[i+r+o];e&&(r=e.filter,o=S.formNewQueryObjectModelQuery(r),r=e.meta||{},0<o.length&&(e={service:i,cardname:t=t||r.cardname||"",carddescription:a=a||r.carddescription||"",cardconfig:o},s.push(e)))},C.multicardssave=function(e,s,t){e="action=savemultiplecards&cardtype="+e;0<s.length&&(e+="&query="+encodeURIComponent(JSON.stringify(s)));b("#zgs20_gsAddToDbCheckBoxHolder").find("input")[0];var a=b("#zgs20_gsnewDbInput").val(),s=b("#zgs20_gsSelectDbDD").attr("dbId");a?e+="&dashboardname="+encodeURIComponent(a):s&&(e+="&dashboardid="+s),e+="&allcardconfig="+encodeURIComponent(JSON.stringify(t)),S.uri(S.POST,S.postCardsURL,e,"",function(e,s,t){e?(s=(e=S.jsonParse(e)).status,C.handleSaveCardsDashboardResponse(a,s,e)):S.showTopbannertip({ty:3,msg:S.getI18NMsg("gs.error.something_went_wrong")})})},C.getDispNameForDate=function(e,s,t){s=C.constructFilterFormatForDate(e,s);return s.hasOwnProperty("date")?[t[(s=s.date).value]]:s.hasOwnProperty("relativedate")?[(s=s.relativedate).fromDateVal,s.toDateVal]:""},C.constructFilterFormatForDate=function(e,s){var t,a=s.hasOwnProperty("type")?s.type:"",r={},o={};if("4"==a){var i,n,l=(i=s.value)[0],g=S.filterDates;for(n in g){var c=g[n];if(l.datevalue==c.datevalue&&l.datetype==c.datetype&&l.timeunit==c.timeunit){o.dispName="Date",o.value=n,r.date=o;break}}}else"3"==a&&(t=(i=s.value)[0],a=i[1],s=t.split("-")[0],i=a.split("-")[0],o.value=s===i?"customdate":"customrange",o.dispName="Relative Date",o.fromDate=t,o.toDate=a,o.fromDateVal=t.split(" ")[0],o.toDateVal=a.split(" ")[0],r.relativedate=o);return r},C.displaySavedSearchDialog=function(e,s){var t,a,r,o,i;C.isSaveThisSearchDialogOpened||(t=S.getI18NMsg("gs.cards.card_name"),r="savePreview"==s?(a="savePreviewCnfrmActions","savePreviewCrdFields"):(a="ssCnfrmActions","saveSSFields"),i=(o=S.getSearchType())===z.CAMPAIGNS&&"0"==S.getCurrentValue("modules",o),"savePreview"!==s&&(o===z.ALL||S.multiPageEnabled||S.subMultiPageEnabled||i)?(1<(i=C.formatMulitportalResponseForCard()).length?(C.renderMultiServiceOuterContent(i),C.renderEachServiceSaveData(i),C.calculatePositionForSaveSearchPopup(),C.isSaveThisSearchDialogOpened=!0):0<i.length&&(S.popupUtils.openEditNamepopup(e,"",t,"",!0,"",a,r,"closeSaveDialog",!0),C.isSaveThisSearchDialogOpened=!0),C.mouseEventForMultiServiceSave()):(S.popupUtils.openEditNamepopup(e,"",t,"",!0,"",a,r,"closeSaveDialog",!0),C.isSaveThisSearchDialogOpened=!0))},C.savedSearchActions=function(e){var s=b(e).attr("cnfrmType");switch(s){case"saveSSFields":case"savePreviewCrdFields":C.getCardConfigAndSaveCard(s,e);break;case"closeSaveDialog":C.hideSavedSearchDialog()}},C.getCardConfigAndSaveCard=function(e,s){var t,a={},r=C.validate();b.isEmptyObject(r)||(t=!!s&&b(s)[0].classList.contains("zgs19_gsaddtodbbutton"),S.setButtonLoader(s,"zgs20_savingResultCard",t),t=r.service=b(S.getCurrentSelectedElem()).attr("service")||S.getSearchType(),"saveSSFields"==e?a=C.getSavedCardParams(t):"savePreviewCrdFields"==e&&(a=C.getPreviewCardParams()),b.isEmptyObject(a)||(t=S.isArrayContain(t,S.configured_mail_module)?S.mappedServiceList[t].originService:t,e={callback:C.hideSavedSearchDialog,service:t,name:r.cardName},C.saveCard(r.cardName,t,a,r.description,e,S.getI18NMsg("gs.saved_search.insert_success"),S.getI18NMsg("gs.cards.insert_error"))))},C.hideSavedSearchDialog=function(){S.popupUtils.closeCnfrmDialogBox(),S.popupUtils.closeOverlayDialog(),C.isSaveThisSearchDialogOpened=!1},C.formPreviewConfig=function(e){let s=(new S.dashboardSearchActions).createActionType();var t=s.getCurrAccId();return C.getPrevCrdConfig({account_id:t,entity_id:e})},C.getPrevCrdConfig=function(e){var s,t=[];for(s in e)t.push({name:s,value:e[s]});return encodeURIComponent(JSON.stringify(t))},C.addToExistingDB=function(e){b(".zgs19_gsAddToDbLabelTxt").removeClass("zgs19_gsSelectedDbLabel"),b(e).addClass("zgs19_gsSelectedDbLabel"),b(b(".zgs19_gsAddToDbButton")[0]).addClass("zgs19_gsHideEleme"),b("#zgs20_gsnewDbInput").val(""),b("#zgs20_gsDbDD").empty(),b("#zgs20_gsnewDbInputSec").addClass("zgs19_gsDisplayNone"),b("#zgs20_gsSelectDbDD").removeClass("zgs19_gsDisplayNoneImp"),b(".zgs19_gsaddtodbbutton").addClass("zgs19_gsHideEleme"),b("#zgs20_gsAddTODbInfoTxt").text(S.getI18NMsg("gs.cards.saveInExistingDb")),S.gssavedsearches.addToDbDDOpened=!1;e=b("#zgs20_gsSelectDbDD").find(".zgs19_gsSelectDBTxt")[0];b(e).text(S.getI18NMsg("gs.dashboard.select_dashboard")).attr("tooltiptxt","");S.gssavedsearches.getDashboardList(function(){S.gssavedsearches.addToDbDDOpened=!1,S.gssavedsearches.dbDataFetchedTime=Date.now()})},C.createNewDbInPopup=function(e){e&&(b(".zgs19_gsAddToDbLabelTxt").removeClass("zgs19_gsSelectedDbLabel"),b(e).addClass("zgs19_gsSelectedDbLabel")),b(b(".zgs19_gsAddToDbButton")[0]).addClass("zgs19_gsHideEleme"),C.addToDbInputChange(),b("#zgs20_gsDbDD").empty(),b("#zgs20_gsnewDbInput").val(""),b("#zgs20_gsSelectDbDD").removeAttr("dbId"),b("#zgs20_gsDbDDHolder").addClass("zgs19_gsDisplayNone"),b("#zgs20_gsSelectDbDD").addClass("zgs19_gsDisplayNoneImp"),b("#zgs20_gsnewDbInputSec").removeClass("zgs19_gsDisplayNone"),b(".zgs19_gsaddtodbbutton").addClass("zgs19_gsHideEleme"),b("#zgs20_gsnewDbInput").focus(),b("#zgs20_addToNewDb").click(),b("#zgs20_gsMultiServiceSavePopup").click().focus(),b("#zgs20_gsnewDbInput").removeClass("zgs19_gsMultiCardInputError"),C.removeErrorIconForCardDetails(b("#zgs20_gsnewDbInput"),b("#zgs20_gsnewDbInputSec")),b("#zgs20_gsAddTODbInfoTxt").text(S.getI18NMsg("gs.cards.saveInNewDb")),S.gsdbUtils.dashboardDataObtained&&0==S.gsdbUtils.listOfDashboards.length?b("#zgs20_addToDb_dbTypeSelection").css("display","none"):b("#zgs20_addToDb_dbTypeSelection").css("display","flex")},C.addToDbInputChange=function(){b("#zgs20_gsnewDbInput").on("input",function(){var e=b(this).val().trim();""==e?b(".zgs19_gsaddtodbbutton").addClass("zgs19_gsHideEleme"):b(".zgs19_gsaddtodbbutton").removeClass("zgs19_gsHideEleme"),S.gssavedsearches.checkForErrorIcon(e,b(this),b(b(this)[0].parentElement),b(this))})},C.openDbDD=function(){if(S.gssavedsearches.addToDbDDOpened)b("#zgs20_addToDbInputListInput").val(""),S.gssavedsearches.hideAddtodblistholder();else{var e=S.gssavedsearches.getDashboardList(function(){S.gssavedsearches.addToDbDDOpened=!1,S.gssavedsearches.dbDataFetchedTime=Date.now(),S.gssavedsearches.openDbDD()});if(e&&0<e.length){if(0==(b("#zgs20_gsDbDD")?b("#zgs20_gsDbDD").children().length:-1)){var s,t=b(".zgs19_gsEachServiceCrd").has("input[type=checkbox]:checked").length||1;for(s in e){var a=e[s],r=S.gsdbUtils.dashboardMeta[a]||{},o=r.cardsCount||0,i=S.gscardUtils.cardsLimitInMultiCardSave,n="("+o+"/"+i+")",l=t+o,g="",c="",d="",p="selectDbInAddToDb",u="",h="";i<l&&(g="zgs19_errorAddToDb",u=S.getI18NMsg("gs.saved_search.addtodb_cardLimitReachedInDb"),p="disabledDbInAddToDb",h="zgs19_gsCurAuto",d="zgs19_gsLimitReached",o<i&&(u=S.I18N.getValue("gs.saved_search.addtodb_cardToBeRemovedInDb",[l-i])),c=b("<span>",{class:"zgs19_addToDbDisabledInfo zgs18_gsInfoSmallIcon zgs19_gsResultInfoIcon",tooltiptxt:u}));c=b("<div>",{class:"zgs19_gsDbCardCount zgs19_addToDb_CardCount "+g,tooltiptxt:u}).append(b("<span>",{tooltiptxt:u}).text(n)).append(c);b("#zgs20_gsDbDD").append(b("<div>",{dbId:a,class:"zgs19_gsDbDDList "+h,gs:p,dbName:r.name}).append(b("<span>",{class:"zgs19_gsDBNameInAddToDb zgs19_gsOverflow zgs19_gsfl "+d,tooltiptxt:r.name}).text(r.name)).append(c).append(b("<span>",{class:"zgs19_gsticksymbol"})))}}b("#zgs20_gsDbDDHolder").removeClass("zgs19_gsDisplayNone"),b("#zgs20_addToDbInputListInput").select()}S.gssavedsearches.dbDataFetchedTime&&e&&0==e.length&&(b("#zgs20_gsDbDDHolder").removeClass("zgs19_gsDisplayNone"),b("#zgs20_gsDbListSearch").css("display","none"),b(".zgs19_gsresultsNotfound").length<1&&jQueryGS(".zgs19_gsDbDDListHolder").append(b("<div>",{class:"zgs19_gsresultsNotfound"}).text(S.getI18NMsg("gs.dashboard.no_dashboard")))),b("#zgs20_addToDbInputListInput").off().on({keyup:function(e){var s=b("#zgs20_addToDbInputListInput").val().trim();keycode=e.keyCode,s?(s=s.toLowerCase(),b("#zgs20_gsDbDD .zgs19_gsDbDDList").each(function(){b(this).text().toLowerCase().includes(s)?b(this).show():b(this).hide()}),0===b(".zgs19_gsDbDDList:visible").length?b(".zgs19_gsresultsNotfound").length<1&&b(".zgs19_gsDbDDListHolder").append(b("<div>",{class:"zgs19_gsresultsNotfound"}).text(S.getI18NMsg("gs.dashboard.no_dashboard"))):b(".zgs19_gsDbDDListHolder").find(".zgs19_gsresultsNotfound").remove()):(b(".zgs19_gsDbDDList").show(),b(".zgs19_gsDbDDListHolder").find(".zgs19_gsresultsNotfound").remove())}}),S.gssavedsearches.addToDbDDOpened=!0,b("#zgs20_addToDbInputListInput").val("")}},C.hideAddtodblistholder=function(){b("#zgs20_gsDbDDHolder").addClass("zgs19_gsDisplayNone"),S.gssavedsearches.addToDbDDOpened=!1},C.selectDbForNewCards=function(e){b(".zgs19_gsDbDDList.zgs19_gsselecteddbname").find(".zgs19_addToDb_CardCount").removeClass("zgs19_gsselecteddbname"),b(".zgs19_gsDbDDList.zgs19_gsselecteddbname").removeClass("zgs19_gsselecteddbname");var s,t,a=C.getCurSelectedEleInAddToDb(e);b(a).hasClass("zgs19_gsselecteddbname")||(s=b(a).attr("dbid"),t=b(a).attr("dbName"),e=b("#zgs20_gsSelectDbDD").find(".zgs19_gsSelectDBTxt")[0],b(a).addClass("zgs19_gsselecteddbname"),b(a).find(".zgs19_addToDb_CardCount").addClass("zgs19_gsselecteddbname"),b(e).text(t).attr("tooltiptxt",t),b("#zgs20_addToDbInputListInput").val(""),b("#zgs20_gsDbDD").show(),b(".zgs19_gsticksymbol").hide(),b(".zgs19_gsselecteddbname").children(".zgs19_gsticksymbol").css("display","inline-block"),b(".zgs19_gsaddtodbbutton").removeClass("zgs19_gsHideEleme"),b("#zgs20_gsSelectDbDD").attr("dbId",s),S.gssavedsearches.addToDbDDOpened=!1)},C.getCurSelectedEleInAddToDb=function(e){e=b(e).attr("dbName")?b(e):b(e).parents(".zgs19_gsDbDDList");return e},C.getDashboardList=function(e){if(S.gsdbUtils.isDashboardCountAPITrig&&S.gssavedsearches.dbDataFetchedTime&&!(3e5<Date.now()-S.gssavedsearches.dbDataFetchedTime))return S.gsdbUtils.listOfDashboards;S.gsdbUtils.getDashboardMeta("cardsCount=true",{sort:0,getCount:"true",callback:e})},C.updateStoredDashboardDetails=function(e,s){S.gsdbUtils.listOfDashboards&&S.isArrayContain(e,S.gsdbUtils.listOfDashboards)||(S.gsdbUtils.listOfDashboards.splice(0,0,e),S.gsdbUtils.dashboardMeta[e]={dashboardid:e,name:s})},C.constructAddToDbPopup=function(){return b("<div>",{id:"zgs20_gsSelectDbSec",class:"zgs19_gsSelectDbSec "}).append(b("<div>",{class:"zgs19_gsSelectDbDDHolder"}).append(b("<div>",{id:"zgs20_gsSelectDbDD",class:"zgs19_gsSelectDbDD zgs19_gsFlex",gs:"dashboardDD"}).append(b("<div>",{class:"zgs19_gsSelectDBTxt zgs19_gsOverflow",tooltiptxt:""}).text(S.getI18NMsg("gs.dashboard.select_dashboard"))).append(b("<div>",{class:"zgs19_gsModuleFilterElemIcon zgs18_gsModuleFilterDownIcon zgs19_gsBorderBox zgs19_gsfr"}))).append(b("<div>",{id:"zgs20_gsnewDbInputSec",class:"zgs19_gsSelectDbDD zgs19_gsDisplayNone"}).append(b("<input>",{placeholder:S.getI18NMsg("gs.dashboard.dashboardName"),id:"zgs20_gsnewDbInput",class:"zgs19_gsnewDbInput"})))).append(b("<div>",{id:"zgs20_gsDbDDHolder",class:"zgs19_gsDbDD zgs19_gsDisplayNone"}).append(b("<div>",{id:"zgs20_gsDbListSearch",class:"zgs20_gsAddToDbInputSearch zgs19_gsGridSearchElem zgs19_gsfl"}).append(b("<div>",{class:"zgs18_gsLensIconTab zgs19_gsGridSearchIcon"})).append(b("<input>",{id:"zgs20_addToDbInputListInput",class:"zgs19_gsGridSearchInput",gs:"addToDbInput",placeholder:S.getI18NMsg("common.search")}))).append(b("<div>",{id:"zgs20_gsDbDD",class:"zgs19_gsDbDDListHolder"})))},C.renderAddToDb=function(e,s){var t,a,r,o,i;s?(b(".zgs19_gsAddtoDbLoader").remove(),0==b(".zgs19_gsaddtodbError").length&&b(".zgs19_gsaddtodbElement").append(b("<div>",{class:"zgs19_ErrorMsgCardsList zgs19_gsaddtodbError zgs19_gsNoResults"}).text(s))):!S.gsdbUtils.isDashboardCountAPITrig||!S.gssavedsearches.dbDataFetchedTime||3e5<Date.now()-S.gssavedsearches.dbDataFetchedTime?(b(".zgs19_gsaddtodbElement .zgs19_gsAddtoDbLoader").length||b(".zgs19_gsaddtodbElement").append(S.getFourDotLoader("","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsDashboardHomeLoader zgs19_gsAddtoDbLoader")),C.getDashboardList(S.gssavedsearches.renderAddToDb)):S.gsdbUtils.isDashboardCountAPITrig&&(t=b("<div>",{id:"zgs20_addToDb_dbTypeSelection",class:"zgs19_addToDb_dbTypeSelection zgs19_gsFlex zgs19_gsfl "}).append(b("<div>",{class:"zgs19_gsAddToDbLabelTxt zgs19_gsSelectedDbLabel zgs19_gsOverflow",gs:"addToNewDbSelection"}).text(S.getI18NMsg("gs.dashboard.new_dashboard_text"))).append(b("<div>",{class:"zgs19_gsAddToDbLabelTxt zgs19_gsOverflow zgs19_gsMgLf20Px",gs:"addToExistingDbSelection"}).text(S.getI18NMsg("gs.dashboard.existing_dashboard"))),a=b("<div>",{class:"zgs19_addToDbSpacing zgs19_addToDbBackBtn",gs:"closeaddtodb"}).append(b("<span>",{class:"zgs19_gsfl zgs19_addToDbBackTxt zgs18_gsarrowleft"})).append(b("<span>",{class:"zgs19_gsfl zgs20_addToDbBackTxt"}).text(S.getI18NMsg("common.back"))),i=b("<span>",{class:"zgs19_gsAddToDbInfoIcon zgs18_gsInformationIcon zgs19_gsMgRt5Px"}),S.LINE_ICON_MAP.hasOwnProperty("zgs18_gsInformationIcon")&&S.obtainLineIconPaths("zgs18_gsInformationIcon",i,!1),r=b("<div>",{class:"zgs19_gsAddTODbInfoTxt zgs19_gsOverflow"}).append(i).append(b("<span>",{id:"zgs20_gsAddTODbInfoTxt"}).text(S.getI18NMsg("gs.cards.saveInNewDb"))),o="allappsCardSave",s="saveallCards",b("#zgs20_gsMultiServiceSavePopup").length||(o=b("#zgs20_gsSavedSearchPopup .zgs19_gsMultiSaveFooter .zgs19_gssave").attr("gs"),s=b("#zgs20_gsSavedSearchPopup .zgs19_gsMultiSaveFooter .zgs19_gssave").attr("cnfrmtype")),i=C.constructAddToDbPopup(),b(".zgs19_gsAddtoDbLoader").remove(),b(".zgs19_gsaddtodbElement").append(b("<div>",{class:"zgs19_addToDbContent"}).append(a).append(t).append(b("<div>",{class:"zgs19_gsSelectDbSecelement"})).append(r)).append(b("<div>",{class:"zgs19_gsaddtodbbottom"}).append(b("<button>",{class:"zgs19_gsaddtodbbutton zgs19_gsOverflow zgs19_gssave",gs:o,cnfrmType:s}).text(S.getI18NMsg("gs.settings.application.save")))),b(".zgs19_gsSelectDbSecelement").append(i),C.createNewDbInPopup(),C.handleAddToDbSelectionChange(),b("#zgs20_addToDbInputListInput").attr("autocomplete","off"),b("#zgs20_gsnewDbInput").attr("autocomplete","off"))},C.constructAddToDbOuter=function(){b("#zgs20_gsaddtodbElement").remove(),b(".zgs19_gsSaveSearch").append(b("<div>",{class:"zgs19_gsaddtodboverElement",id:"zgs20_gsaddtodbElement"}).append(b("<div>",{class:"zgs19_gsaddtodboverlay"})).append(b("<div>",{class:"zgs19_gsaddtodbElement"}))),b(".zgs19_gsaddtodboverElement").addClass("zgs19_gstransition"),C.renderAddToDb()},C.handleSaveCardsDashboardResponse=function(s,e,t){if("1001"===e){var a=t.hasOwnProperty("dashboards")?t.dashboards:{},r="",o=0;if((t.hasOwnProperty("cards")&&0<t.cards.length||t.hasOwnProperty("cardid"))&&(r=1==(o=t.hasOwnProperty("cards")?t.cards.length:1)?"gs.card_save.insert_single_card_success":"gs.card_save.insert_success"),!b.isEmptyObject(a)){a=a.dashboardid;b("#zgs20_gsDashboardhome").css("display","block"),C.updateStoredDashboardDetails(a,s);let e=S.gsdbUtils.setDashboardViewDetails(S.dbViewType.specificDashboard);e.setDashboardId(a),S.openDashboard(S.dbViewType.specificDashboard,e),r=1==o?"gs.dashboard_card_save.insert_single_success":"gs.dashboard_card_save.insert_success"}S.showTopbannertip({ty:1,msg:S.getI18NMsg(r)}),C.hideMultiServiceCardSavePopup()}else"3001"==e?S.showTopbannertip({ty:3,msg:S.getI18NMsg("gs.saved_search.addtodb_card_error")}):"3011"==e?S.showTopbannertip({ty:3,msg:S.getI18NMsg("gs.saved_search.addtodb_dashboard_error")}):S.showTopbannertip({ty:3,msg:S.getI18NMsg("gs.error.something_went_wrong")});b(b("#zgs20_savingAllCards").parents(".zgs19_gsSC_PUbtmNew")[0]).text(S.getI18NMsg("gs.settings.application.save")),b(b("#zgs20_savingAllCards").parents(".zgs19_gsaddtodbbutton")[0]).text(S.getI18NMsg("gs.settings.application.save")),b("#zgs20_savingAllCards").remove()},C}(void 0)}(zgssearch,window),function(F){var N,h=window._jQueryGS,L=F.getGSConstantObj()||{};F.gscardinfo=(N=void 0,(N=F.gscardinfo||{}).isOndemandFilterRendered=N.isOndemandFilterRendered||!1,N.openCardPageInfoPopup=function(e,s,t,a){N.openCardInfoPopup(e,s,t,a);e=h("#"+e);e.addClass("zgs19_gsCardsInfoHighlight"),e.find(".zgs19_gsCardActionHolder").addClass("zgs19_gsVisibleImp")},N.openCardInfoPopup=function(e,s,t,a){var r=h("#zgs20_gsOverlayDialog");r.append(h("<div>",{id:"zgs20_gsCardInfoBox",class:a})),r.css("display","block"),N.isCardInfoPopupOpened=!0,N.constructCardInfoPopup(e,t),N.closeActionForCardsInfo(),F.gscards.getCardsInfo(e,s,N.processCardInfoResponse,!0)},N.constructCardInfoPopup=function(e,s){var t=F.getFourDotLoader("zgs20_gsCardLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsAddCardLoader zgs19_gsCardPageLoader"),a=s.service,r=F.Utils.getServiceIcon(a);s.cardtype==F.BOOKMARK_CARD&&F.gscardUtils.isEmbedBookmarkCard(s.subcardtype)&&(r=F.gscardUtils.getIconForSubType(s.subcardtype));var o=h("<span>",{class:"zgs19_gsSSSerIcon zgs19_gsfl "+r}),i=s.hasOwnProperty("modifiedtime")?s.modifiedtime:"",n="";i&&(n=h("<div>",{class:"zgs19_gsCrdInfoMetaRight",tooltiptxt:F.getI18NMsg("gs.search.modfied_time")+" : "+i}).text(i));var l,a="",i=s.carddescription||s.description;i&&(l=h("<div>",{class:"zgs19_gsCrdInfoDescElem zgs19_gsOverflow"}).text(i),a=h("<div>",{class:"zgs19_gsCrdInfoMetaDiv"}).append(l));s=s.cardname||s.name,t=h("<div>",{id:"zgs20_gsCardInfoPopup",class:"zgs19_gsCardInfoPopup"}).append(h("<div>",{class:"zgs19_gsCardInfoInnerPopup"}).append(h("<div>",{class:"zgs19_gsCardInfoHdrElem"}).append(h("<div>",{class:"zgs19_gsCardInfoInrHdrElem"}).append(h("<div>",{class:"zgs19_gsCardInfoMetaElem"}).append(h("<div>",{class:"zgs19_gsCrdInfoMetaDiv"}).append(h("<div>",{class:"zgs19_gsCrdInfoTitleElem"}).append(h("<div>",{class:"zgs19_gsCardsinfoIconHolder"}).append(h("<div>",{class:"zgs19_gsServiceIcon zgs19_gsColoredIcon"}).append(o))).append(h("<div>",{class:"zgs19_gsCrdInfoTitle zgs19_gsOverflow",title:s}).text(s))).append(n)).append(a)))).append(h("<div>",{class:"zgs19_gsCardContent"}).append(t))).append(h("<div>",{class:"zgs19_gsSSClose",id:"zgs20_gsCardInfoClose"}).append(h("<div>",{class:"zgs18_gsCloseIcon zgs19_gsSSCloseIcon zgs19_gsCurPointer"})));F.LINE_ICON_MAP.hasOwnProperty(r)&&F.obtainLineIconPaths(r,h(o)[0]),h("#zgs20_gsCardInfoBox").append(t),a&&h(".zgs19_gsCardInfoInnerPopup").width()<l.width()+10&&(a.append(h("<div>",{class:"zgs19_gsCrdInfoDropdownicon zgs18_gsRound_Drop_downIcon",isOpen:!1,gs:"cardinfo",action:"descmore"})),l.addClass("zgs19_gsCrdInfoDescOverflow"))},N.closeActionForCardsInfo=function(){h(".zgs19_gsCardInfo #zgs20_gsCardInfoClose").off().on({click:function(){N.hideCardPageInfoBox()}}),h(".zgs19_gsAddCardInfo #zgs20_gsCardInfoClose").off().on({click:function(){N.hideEditCardInfo(),h(".zgs19_gsCrdSelectedInDb").removeClass("zgs19_gsCrdSelectedInDb")}})},N.hideCardPageInfoBox=function(){N.hideCardInfoBox(),N.removeCardInfoHighlight(),F.popupUtils.closeOverlayDialog()},N.hideEditCardInfo=function(){N.hideCardInfoBox(),h("#zgs20_gsAddCardOverlay").remove()},N.hideCardInfoBox=function(){h("#zgs20_gsCardInfoBox").remove(),N.isOndemandFilterRendered=!1,N.isCardInfoPopupOpened=!1},N.removeCardInfoHighlight=function(){h(".zgs19_gsCardsInfoHighlight").removeClass("zgs19_gsCardsInfoHighlight"),h(".zgs19_gsCardActionHolder").removeClass("zgs19_gsVisibleImp")},N.processCardInfoResponse=function(e,s,t){if(t)N.renderCrdInfoMsg(t),N.caluclatePosForCardInfo();else{if(s==F.BOOKMARK_CARD)return N.renderPreviewCardInfo(e),void N.caluclatePosForCardInfo();s=N.formatCardInfo(e);N.renderCardInfo(e,s)}},N.renderCardInfo=function(e,s){try{var t=F.gscardUtils.cardIdsVsObject[e],a="";if(l=(F.gscardinfo.cardInfoMap=s)&&s.has("status")?s.get("status"):""){if("1002"==l)return void F.gscardinfo.cardInfoMap.delete("status");a=N.getCardInfoMsg(l,s,t)}else{N.renderCardMetaDetails(t),h("#zgs20_gsCardLoader").remove();var r=s.get("query");N.renderQueryFilters(r);var o,i,n=s.get("filters");n&&null!=n?0<n.size&&(l=n.has("status")?n.get("status"):"",g=n.has("data")?n.get("data"):"",l?a=N.getCardInfoMsg(l,n):0<g.size&&(o=t.service,i=0,g.forEach(function(e,s){h(".zgs19_gsCardContent").append(N.constructInfoFieldLabelAndValue(e,o,!1,i++))}))):a=N.getCardInfoMsg(l,n);var l,g,c,d=s.get("advanceFilters");d&&null!=d&&0<d.size&&(l=d.has("status")?d.get("status"):"",g=d.has("data")?d.get("data"):"",l?(N.renderAdvanceSearchInfoHdr(),a=N.getCardInfoMsg(l,d)):0<g.length&&(c=t.querypattern||"1",N.renderAdvanceSearchInfo(o,t.cardtype,g,c)))}a&&N.renderCrdInfoMsg(a),N.caluclatePosForCardInfo()}catch(e){F.throwClientError("Exception while rendering the cardinfo content",e)}},N.getCardInfoMsg=function(e,s,t){s=s.has("msg")?s.get("msg"):"";if("3000"==e)N.renderCardMetaDetails(t);else{if("3001"==e||"3002"==e||"3005"==e)return s;s=s||F.getI18NMsg("gs.search.error.generic_error_messege")}return s},N.renderCrdInfoMsg=function(e){h("#zgs20_gsCardLoader").remove(),h(".zgs19_gsCardContent").empty().append(F.gscards.appendErrorInfoHandling(e,!1,!1))},N.renderCardMetaDetails=function(e){e=e.service;e&&(e=F.getMappedServiceList()[e].displayName,N.renderInfoKeyAndVal("app","common.app",e))},N.renderInfoKeyAndVal=function(t,a,r){if(r){let e=h("<span>",{class:"zgs19_gsInfoValue"}),s="";t==F.gsembeddata.url&&F.isAllGSConstantsSet&&(e=h("<a>",{class:"zgs19_gsInfoValue zgs19_gsLinkElem zgs19_gsOverflow",href:r,rel:"noopener noreferrer",target:"_blank",title:r}),s=h("<span>",{class:"zgs18_gsCopyLink zgs19_gsCopyBookmarkUrl",title:F.getI18NMsg("gs.search.callout.copylink"),gs:"copyBookmarkUrl"})),h(".zgs19_gsCardContent").append(h("<div>",{class:"zgs19_gsInfoFieldElem zgs19_gsfl"}).append(h("<div>",{class:"zgs19_gsInfoFieldLabel zgs19_gsfl zgs19_gsOverflow"}).text(F.getI18NMsg(a))).append(h("<div>",{class:"zgs19_gsInfoValueElem zgs19_gsfl zgs19_gsFlex"}).append(e.text(r)).append(s)))}},N.renderQueryFilters=function(e){if(e){var s=e.length;if(0<s){for(var t=h("<div>",{class:"zgs19_gsInfoValueElem zg19_gCrdInfoQueryElem"}),a=0;a<s;a++){var r=e[a],o=r.getValuedispName(),i="";"mention"==r.getTitle()&&(i="zgs19_gsMentionInfoValue",o="@ "+o),t.append(h("<span>",{class:"zgs19_gsInfoValue "+i}).text(o))}var n=h("<div>",{class:"zgs19_gsInfoFieldElem"}).append(h("<div>",{class:"zgs19_gsInfoFieldLabel zgs19_gsOverflow"}).text(F.getI18NMsg("gs.cards.search_query"))).append(t);h(".zgs19_gsCardContent").append(n)}}},N.constructInfoFieldLabelAndValue=function(s,t,a,r){var o="",i="",n="",l=s.getValuedispName(),g=l.length;if(0<g){var c=s.getTitle(),d=s.getOperator(),e=s.getOperatorName(),p=s.getFilterType(),u=s.getFilterKey();if(e&&(n=h("<div>",{class:"zgs19_gsInfoFieldOperator zgs19_gsfl zgs19_gsOverflow"}).text(e)),a||6!=p){!a&&F.includes(u,F.gsfilters.dateKeys)&&1<g||a&&(1==p||3==p||4==p)&&(2==d||3==d)?o=N.renderBetweenTypeValueInfo(l):6!=d&&7!=d&&(o=N.renderValueInfo(l,g-1,a?"advFilterCount":"filterCount",r,u));let e="";F.mappedServiceList[t]?.timezoneBased&&"accounts"==u&&(s=s.value[0],F["gs"+t+"utils"]?.timezoneData&&(s=(s=F["gs"+t+"utils"]?.timezoneData?.[s]).timezone+" ( "+F.getI18NMsg("gs.search.calendar.callout.GMT")+" "+s.offset+" )",e=h("<span>",{class:"zgs18_gsGlobeIcon zgs19_gsCopyBookmarkUrl zgs19_gsfl",tooltiptxt:F.getI18NMsg("gs.search.service_projects_portalTz")+" : "+s}))),i=h("<div>",{class:"zgs19_gsInfoFieldElem zgs19_gsfl"}).append(h("<div>",{class:"zgs19_gsInfoFieldLabel zgs19_gsfl zgs19_gsOverflow",title:c}).text(c)).append(n).append(o).append(e)}else o=F.renderCheckBox("read",!0),i=h("<div>",{class:"zgs19_gsInfoFieldElem"}).append(o).append(h("<div>",{class:"zgs19_gsInfoFieldLabel zgs19_gsInfoFieldCheckLabel zgs19_gsOverflow"}).text(c))}return i},N.renderBetweenTypeValueInfo=function(e){var s=e[0],e=e[1];return h("<div>",{class:"zgs19_gsInfoValueElem"}).append(h("<span>",{class:"zgs19_gsInfoValue zgs19_gsOverflow",title:s}).text(s)).append(h("<span>",{class:"zgs19_gsInfoValue zgs19_gsDateToElem"}).text(F.getI18NMsg("common.to"))).append(h("<span>",{class:"zgs19_gsInfoValue zgs19_gsOverflow",title:e}).text(e))},N.renderValueInfo=function(e,s,t,a,r){var o="";0<s&&(o=h("<span>",{class:"zgs19_gsInfoCountValue",gs:"cardinfo",action:t,isOpen:!1}).text("+ "+s));e=e[0],o=h("<div>",{class:"zgs19_gsInfoValueElem zgs19_gsfl",apiname:r}).append(h("<span>",{class:"zgs19_gsInfoValue zgs19_gsOverflow",title:e}).text(e)).append(o);return o.attr("index",a),o},N.renderAdvanceSearchInfoHdr=function(){h(".zgs19_gsCardContent").append(h("<div>",{class:"zgs19_gsAdvanceSearchInfo"}).append(h("<div>",{class:"zgs19_gsCardFilterTitle zgs19_gsfl"}).text(F.getI18NMsg("common.adv.advCriteria"))).append(h("<div>",{class:"zgs19_gsAdvanceSearchInfoContent"})))},N.renderAdvanceSearchInfo=function(e,s,t,a){N.renderAdvanceSearchInfoHdr();var r=(a=a.toUpperCase()).match(/(and|or)/gi)||[],o=t.length;if(r.length===o-1){0<r.length&&(h(".zgs19_gsAdvanceSearchInfo").append(h("<div>",{class:"zgs19_gsInfoQryPattern"}).append(h("<div>",{class:"zgs19_gsCardFilterTitle zgs19_gsOverflow zgs19_gsfl"}).text(F.getI18NMsg("common.adv.crtPattern"))).append(h("<div>",{class:"zgs19_gsCardQryPattern"}))),F.renderCriteriaPatternText(h(".zgs19_gsCardQryPattern"),a)),F.renderCriteriaPatternText(h(".zgs19_gsCardQryPattern"),a);for(var i=0;i<o;i++){var n=t[i],l=N.constructInfoFieldLabelAndValue(n,e,!0,i),g="";0<i&&(n=r[i-1],g=h("<div>",{class:"zgs19_gsConnectingOperator"}).text(n.toUpperCase()));l=h("<div>",{class:"zgs19_gsCriteriaElem"}).append(h("<span>",{class:"zgs19_gsConnectNum"}).text(i+1)).append(l);h(".zgs19_gsAdvanceSearchInfoContent").append(g).append(l)}}else N.renderCrdInfoMsg(N.getErrorForFilterCriteriaChange(s))},N.formatCardInfo=function(e){var s=F.gscardUtils.cardIdsVsObject[e],e=N.processCardConfig(s);return e&&0<e.size&&N.processAdvanceSearchCardConfig(s,e),e},N.processQueryInfo=function(s,t,a,r,o){var i,n=null!=a?a[0]:"";if("zs_query"===t)n&&n.trim()&&(i=new R(t,"query",a,a,r,o,"",""),s.push(i));else if("zs_mention"===t||"mentioned_email"===t){let e=F.userIdVsDisplayName[n]||"";e||"8"!=r||(e=n),e&&(i=new R(t,"mention",a,[e],r,o,"","")),s.push(i)}return s},N.processCardConfig=function(e){var s="",t="",a={},r=new Map,o=new Map,i=new Map,n=[],l=e.service,g=e.cardconfig,c=e.cardtype,d=F.getFilterObj(l),p=F.getServiceOrders(d),u=g.length,h=e.cardid,_=N.moveToAdvCriteria=[],m=F.isAdvanceSearchEnabledForService(l);if(F.isArrayContain(l,F.getConstAllServList())){r.set("data",o),i.set("filters",r);for(var z=0;z<u;z++){var v=g[z],f=v.name,C=v.value,S=v.type,b=v.operator;if("zs_query"!==f&&"zs_mention"!==f&&"mentioned_email"!==f){m&&F.checkAndMoveAdvCriteria(v,_,l);for(var y=p.length,I=0;I<y;I++){var O=p[I];if(!F.gsfilters.isSkipNeededForAdvanceSearch(l,O,m)){var P=d[O];if(P&&P.key==f){var w=P.alldata||P.data,D=P.type,E=C[0];if("accounts"==O&&(s=E),"modules"!=O&&O!=F.GSClientConstants.LEARN.filterby||(t=E),a[O]=C,F.gscardinfo.formatedFilterObj=a,"1002"===N.serviceSpecificHandling(l,t,s,a,h,i))return i;var T="",E=P.title;if("date"==P.key){if(l===L.PROJECTS){var A=P.parId;if(!F.isArrayContain(t,A))continue}if(!(T=F.gssavedsearches.getDispNameForDate(l,v,w)))return r.set("status","3001"),r.set("msg",F.getI18NMsg("gs.cards.permission_changed")),i.set("filters",r),i}else{A=N.validateFilterAndGetDispName(l,s,w,C,D,a,O,c);if(!A.isValid){if(c!=F.SYSTEM_CARD)return r.set("status","3001"),r.set("msg",F.getI18NMsg("gs.cards.permission_changed")),i.set("filters",r),i;r.set("status","3002");w=F.getI18NMsg("gs.cards.permission_changed");return r.set("msg",w),i.set("filters",r),i}T=A.dispName;A=A.tobeFetchedNames;if(0<A.length)return N.getOnDemandDispNames(l,s,h,a,A,O),i.set("status","1002"),i}(0<T.length||0<=C.length&&"accounts"==O)&&(M=new R(O,E,C,T,S,b,"",D),o.set(O,M));break}if(l==F.GSConstant.PROJECTS){if("assignee"==f){E=F.getI18NMsg("gs.search.service_projects_assignee"),T=[F.GSConstant.cun];"-1"==C[0]&&(T=[F.getI18NMsg("common.unassigned")]);var M=new R("",E,C,T,S,b,"","");o.set(f,M);break}"date_field"==f&&((o.get("dueDate")||{}).label=F.getI18NMsg("common.closed_time"))}}}}else N.processQueryInfo(n,f,C,S,b)}0<n.length&&i.set("query",n),o.size<=0&&(r.set("status","3001"),r.set("msg",F.getI18NMsg("gs.cards.permission_changed")))}else i.set("status","3000"),i.set("msg",F.getI18NMsg("gs.search.error.no_service_permission"));return i},N.serviceSpecificHandling=function(e,s,t,a,r,o){var i,n="",l={cardId:r,service:e},g={callback:function(){N.processServiceSpecificResponse(l,"")},isCallbackForError:!0};return e==L.PROJECTS&&(N.isOndemandFilterRendered||(i=a.hasOwnProperty("projects")?a.projects[0]:"",t&&i&&s&&(F.loadProjectsModChildFilter(e,s,i,t,g)||o.set("status",n="1002")))),e==L.LEARN&&(N.isOndemandFilterRendered||(r=a.hasOwnProperty("filterby")?a.filterby[0]:"",i=a.hasOwnProperty(F.GSClientConstants.LEARN.spaces)?a[F.GSClientConstants.LEARN.spaces]:"",e=a.hasOwnProperty(F.GSClientConstants.LEARN.manuals)?a[F.GSClientConstants.LEARN.manuals]:"",t&&(r||i||e)&&("allmanuals"!=s&&"mymanuals"!=s&&"sharedmanuals"!=s||(N.isOndemandFilterRendered=!1),a=a.hasOwnProperty(F.GSClientConstants.LEARN.spaces)?a[F.GSClientConstants.LEARN.spaces]:"",r=r===GSClientConstants.LEARN.spaces&&a&&"0"!==a?"allmanuals":r,F.loadLearnModChildFilter(r,a,t,g)||o.set("status",n="1002")))),n},N.getOnDemandDispNames=function(s,t,a,r,o,e){if(!N.isOndemandFilterRendered&&t){let e={cardId:a,service:s,callback:N.processServiceSpecificResponse};if(s===L.PEOPLE&&(e.accountId=t,F.gscardfilter.getPeopleDeptInfo(o,e)),s===L.WORKDRIVE&&(a=F.getWDParKeyForFolders(),e.parentId=r[a][0],F.gscardfilter.getWDFolderName(t,o[0],e)),s===L.LEARN)return e.accountId=t,!0}},N.processServiceSpecificResponse=function(e,s){e=e.cardId;N.isOndemandFilterRendered=!0,N.processCardInfoResponse(e,"",s)},N.processAdvanceSearchCardConfig=function(e,s){var t,a,r=e.service,o=0<N.moveToAdvCriteria.length?N.moveToAdvCriteria:e.advcardconfig||[],i=new Map;0<o.length&&((a=s.get("filters"))&&!a.has("status")&&(t=N.getFilterMeta(F.gscardinfo.formatedFilterObj),o=r===F.GSConstant.SUPPORT?t[2]:"",i.set("data",[]),s.set("advanceFilters",i),a={callback:F.gscardinfo.processAdvanceSearchInfo,cardId:e.cardid},a=F.getFieldObj(r,t[0],t[1],o,a),0===Object.keys(a).length?s.set("status","1002"):N.processCardAdvanceSearchDetails(a,e,i)))},N.processCardAdvanceSearchDetails=function(e,s,t){for(var a=0<N.moveToAdvCriteria.length?N.moveToAdvCriteria:s.advcardconfig||[],r=t.get("data"),o=a.length,i=N.getFilterMeta(F.gscardinfo.formatedFilterObj),n=(s.cardtype,s.service),l=0;l<o;l++){var g=a[l],c=g.name,d=g.value,p=g.operator,u=g.type;if(!e.hasOwnProperty(c)){t.set("status","3001"),t.set("msg",F.getI18NMsg("gs.cards.permission_changed"));break}var h=e[c],_=h.availableCondition;if(h){var m=h.display_name,g=F.getOperatorDisplayName(""+p,z)||"";if(!F.isArrayContain(p,_)){t.set("status","3001"),t.set("msg",F.I18N.getValue("gs.cards.operator_not_support",[g,m]));break}var z=h.type,h=F.gsadvancesearch.getDisplayValueAndOverText(c,z,d,e,n,i[0],i[1],i[2],u),g=new R(c,m,d,h.dispTxtArr,u,p,g,z);r.push(g)}}r.length<=0&&!t.has("status")&&(t.set("status","3001"),t.set("msg",F.getI18NMsg("gs.cards.permission_changed")))},N.getErrorForFilterCriteriaChange=function(e){return e==F.SYSTEM_CARD?F.getI18NMsg("gs.cards.criteria_change_noedit"):F.getI18NMsg("gs.cards.criteria_change_alert")},N.processAdvanceSearchInfo=function(e,s){var t=s.status,a=F.gscardinfo.cardInfoMap.get("advanceFilters"),s=s.cardId;"error"==t||0==Object.keys(e).length?(a.set("status","3005"),a.set("msg",F.getI18NMsg("gs.search.error.generic_error_messege"))):(t=F.gscardUtils.cardIdsVsObject[s],N.processCardAdvanceSearchDetails(e,t,a)),N.renderCardInfo(s,F.gscardinfo.cardInfoMap)},N.getFilterMeta=function(e){return[e.hasOwnProperty("accounts")?e.accounts[0]:"",e.hasOwnProperty("modules")?e.modules[0]:"",e.hasOwnProperty("departments")?e.departments[0]:""]},N.validateFilterAndGetDispName=function(e,s,t,a,r,o,i,n){var l=a.length,g=[],c=[];s=F.getAccountValue(e,r,o,s,i);for(var d=0;d<l;d++){var p="",u=a[d];if("modules"==i&&e==F.GSConstant.PROJECTS&&n==F.SYSTEM_CARD){switch(u){case"3":p="gs.search.service_projects_milestones";break;case"5":p="gs.search.filter.task";break;case"6":p="gs.search.service_bugs";break;case"7":p="gs.search.filter.forums";break;case"9":p="gs.search.service_events"}p=F.getI18NMsg(p)}else if("4"==r)if(t&&t.hasOwnProperty(s)){var h,_=t[s],m=0,z=Object.keys(_).length;for(h in _){var v=_[h];if(v)if((v.key||"")==u){v=v.name||"",p=v=e==L.MAILS?(v=0==v.indexOf(".../")?v.replace(new RegExp("(^.../)"),""):v).replace(new RegExp("(/$)"),""):v;break}m++}if(m===z){if(e!==L.WORKDRIVE)break;c.push(u)}}else{if(!t||!t.hasOwnProperty(u))break;p=t[u]}else if("3"==r)if(t.hasOwnProperty(s))if((_=t[s]).hasOwnProperty(u))p=_[u];else{if(e!==L.PEOPLE)break;c.push(u)}else{if(e!==L.LEARN)break;{z=o.hasOwnProperty("spaces")?"_"+o.spaces[0]:"";let e=s+(o.hasOwnProperty(F.GSClientConstants.LEARN.filterby)?"_"+o[F.GSClientConstants.LEARN.filterby][0]:"");i===F.GSClientConstants.LEARN.manuals&&(e+=z&&"0"!=z?"_"+z[0]:""),(_=t[e])&&_.hasOwnProperty(u)?p=_[u]:c.push(u)}}else if("1"==r){if(!t.hasOwnProperty(u))break;p=t[u]}else"6"==r&&(p=u);p&&g.push(p)}return{isValid:d===l,dispName:g,tobeFetchedNames:c}},N.cardInfoActions=function(e){switch(e.attr("action")){case"filterCount":var s=F.gscardinfo.cardInfoMap.get("filters").get("data");N.getDispNameExtraValues(e,s);break;case"advFilterCount":s=F.gscardinfo.cardInfoMap.get("advanceFilters").get("data");N.getDispNameExtraValues(e,s);break;case"descmore":N.toggleForMoreDescription()}},N.getDispNameExtraValues=function(t,e){var s=t.attr("isOpen");if(N.closeDispNameList(),"false"==s){t.attr("isOpen",!0);var s=t.closest(".zgs19_gsInfoValueElem"),a=s.attr("index"),r=s.attr("apiname"),o=0;try{e.forEach(function(e,s){if(e.getFilterKey()===r&&o==a){e=e.getValuedispName();throw N.renderDispNameList(t,e),new Error("")}o++})}catch(e){return}}},N.renderDispNameList=function(e,s){0===h(".zgs19_gsFilterDispNameList").length&&h("#zgs20_gsCardInfoPopup").append(h("<div>",{class:"zgs19_gsFilterDispNameList"}).append(h("<div>",{id:"zgs20_gsFilterInrDispNameList",class:"zgs19_gsFilterInrDispNameList"})));var t=h("#zgs20_gsFilterInrDispNameList");h(t).empty();for(var a=1;a<s.length;a++){var r=s[a];t.append(h("<div>",{class:"zgs19_gsFilterTxt zgs19_gsOverflow zgs19_gsfl",title:r}).text(r))}var o=e.offset(),i=o.top,n=o.left,o=e.width(),e=h("#zgs20_gsCardInfoPopup").offset(),i=i-e.top-8,o=n-e.left+o+15;h(".zgs19_gsFilterDispNameList").css({"inset-inline-start":Math.floor(o),"inset-block-start":Math.floor(i),display:"block"})},N.closeDispNameList=function(){h(".zgs19_gsFilterDispNameList").css("display","none"),h(".zgs19_gsInfoCountValue").attr("isOpen",!1)},N.toggleForMoreDescription=function(){var e=h(".zgs19_gsCrdInfoDropdownicon"),s=e.attr("isOpen");"false"===s?(e.removeClass("zgs18_gsRound_Drop_downIcon").addClass("zgs18_gsRound_Drop_upIcon").attr("isOpen","true"),h(".zgs19_gsCrdInfoDescElem").addClass("zgs19_gsCrdInfoDescElemExpand").removeClass("zgs19_gsOverflow")):"true"===s&&(e.removeClass("zgs18_gsRound_Drop_upIcon").addClass("zgs18_gsRound_Drop_downIcon").attr("isOpen","false"),h(".zgs19_gsCrdInfoDescElem").addClass("zgs19_gsOverflow").removeClass("zgs19_gsCrdInfoDescElemExpand")),N.caluclatePosForCardInfo()},N.caluclatePosForCardInfo=function(){var e=h("#zgs20_gsCardInfoPopup");e.css("height",""),h(".zgs19_gsCardContent").css("max-height","");var s="",t=0;1==F.gscomponent.UIType||F.isEmbed?(s=h("#zgs20_zohosearch"),t=50):s=h("#zgs20_gsHolder");var a=s.offset().top,r=s.height(),o=h("#zgs20_gsCardsPage").offset().top-a,s=e.height(),a=r-o,a=a<s?a:s,t=(r-(s=e.outerHeight()))/2-t;e.css({"inset-block-start":t<o?o:t,height:a}),N.cardinfoContentPosCalc()},N.cardinfoContentPosCalc=function(){var e=h(".zgs19_gsCardInfoInnerPopup").height()-h(".zgs19_gsCardInfoHdrElem").height();h(".zgs19_gsCardContent").css("max-height",e)},N.renderPreviewCardInfo=function(e){h("#zgs20_gsCardInfoPopup").find("#zgs20_gsCardLoader").remove();e=F.gscardUtils.cardIdsVsObject[e];N.renderCardMetaDetails(e);var s=e.cardconfig;let t={};var a=s.length;for(let e=0;e<a;e++){var r=s[e];t[r.name]=decodeURIComponent(r.value)}e=t.url||F.fetchCalloutUrl(e.service,t,"",t);e&&N.renderInfoKeyAndVal(F.gsembeddata.url,"common.url",decodeURI(e))},N);var R=class{key;label;value;dataDispName;datatype;operator;operatorName;filterType;constructor(e,s,t,a,r,o,i,n){this.key=e,this.label=s,this.value=t,this.dataDispName=a,this.datatype=r,this.operator=o,this.operatorName=i,this.filterType=n}getFilterKey(){return this.key}getTitle(){return this.label}getValueIds(){return this.value}getValuedispName(){return this.dataDispName}getType(){return this.datatype}getOperator(){return this.operator}getOperatorName(){return this.operatorName}getFilterType(){return this.filterType}}}(zgssearch),function(l){var g=window._jQueryGS;l.userInsightsFeatureType={0:"User Resolve"},l.onTheFlyCategoryVsDispName={my:"My View",employee:"Organisation View",supportAgentView:"Support Agent View",supportContactView:"Support Contact View",supportAccountView:"Support Account View",crmSales:"Sales Executive View",crmAccountView:"CRM Accounts View",crmContactView:"CRM Contacts View"},l.userInsightsMenuObj=l.userInsightsMenuObj||{},l.clickActionForUserInsightsTab=function(){"userInsights"!==l.selectedLeftPanelDivision&&(l.hideOtherTabs(),l.openUserInsightsTab())},l.openUserInsightsTab=function(){var e;l.isDashboardEnabled&&(e=l.getFourDotLoader("zgs20_gsDashboardHomeLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsDashboardHomeLoader"),g("#zgs20_gsDashboardhome").html("").append(e),l.handleUserInsightsTabOpenAction(),e=l.constructUserInsightsHomePage,l.loadCardsandDashboardFile(e))},l.handleUserInsightsTabOpenAction=function(){l.isDashboardOpened||(l.network.removeEventSource(),l.network.abortOngoingCalls(),l.clearPrevSearchAction(),l.hideSearchPageLoader(),l.hideCardsPage(),l.disablingSSIcon(),l.Utils.hideSettingsPage(),l.handleOpeningOfCardsAndDashboard("userInsights"),g("#zgs20_gsDashboardhome").css("display","block"),l.isDashboardOpened=!0,l.gsdbUtils.userEmail="",l.gsdbUtils.onTheFlyMode=3)},l.constructUserInsightsHomePage=function(){l.gsdbhome.renderDashboardTemplate(l.dbViewType.userInsightsHome),g("#zgs20_gsDbHdr").append(g("<div>",{id:"zgs20_gsDbMeta",class:"zgs19_gsWid70Per zgs19_gsDisplayNone"})).append(l.gsdbhome.getDashboardActionsHolder()),l.gsdbhome.getDashboardIdAndRenderView(l.dbViewType.userInsightsHome)},l.showUserInsightsHeader=function(){0===g("#zgs20_gsUserInsightsHeader").length&&(g("#zgs20_gsDashboardhome").prepend(g("<div/>",{id:"zgs20_gsUserInsightsHeader",class:"zgs19_gsUserInsightsHeader"})),l.renderOnTheFlyHeaderContents()),l.addUserInsightsEvents()},l.addUserInsightsEvents=function(){g("#zgs20_gsUserInsightsEmailInput").off().on({input:function(){0<g("#zgs20_gsUserInsightsButton").length&&(g("#zgs20_gsUserInsightsUserActions").empty(),g("#zgs20_gsUserInsightsFetchUser").removeClass("zgs19_gsDisplayNoneImp"),g("#zgs20_gsDashboardPage").hide())},keydown:function(e){(e.keyCode||e.which)===l.specialkeys.ENTER&&l.getUserInsightsRole()}})},l.userInsightsTabActions=function(e){var s=e.getAttribute("action");switch(s){case"featureHolder":case"viewHolder":l.renderUserInsightsActionsPopUp(e,s);break;case"userRole":l.updateUserRoleHolder(e);break;case"featureType":l.updateFeatureType(e);break;case"userInsightsRole":l.getUserInsightsRole();break;case"userInsightsSearch":l.getOnTheFlyDashboardForInput()}},l.renderOnTheFlyHeaderContents=function(){let e=g("#zgs20_gsUserInsightsHeader");var s,t=Object.keys(l.userInsightsFeatureType);1<t.length&&(e.append(l.getOnTheFlyTabHeaderLabel("Feature Type")),s=g("<div>",{id:"zgs20_featureHolder",class:"zgs19_gsUserInsightsHolder",action:"featureHolder",gs:"userInsightsActions"}).append(g("<span>",{id:"zgs20_gsFeatureName",class:"zgs19_gsFeatureTypeHolder zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl zgs19_tc2fa6ea"}).text("Select")).append(g("<div>",{class:"zgs18_gsFilterDropDownIcon zgs19_gsfr zgs19_gsMgRt3Px"})),e.append(s)),l.renderFeatureType(t[0]),l.addUserInsightsEvents()},l.getOnTheFlyTabHeaderLabel=function(e){return g("<div>",{id:"zgs20_gsUserInsightsFeatureLabel",class:"zgs19_gsUserInsightsFeatureLabel"}).text(e)},l.renderOnTheFlyUserFeature=function(){var e;0===g("#zgs20_gsUserInsightsEmailSearch").length&&(e=l.gsdbUtils.userEmail||"",g("#zgs20_gsFeatureOptions").empty().append(g("<div/>",{id:"zgs20_gsUserInsightsInputAction",class:"zgs19_gsfl"}).append(l.getOnTheFlyTabHeaderLabel("Email")).append(g("<div/>",{id:"zgs20_gsUserInsightsInput",class:"zgs19_gsfl zgs19_gsHgt40Px"}).append(g("<div>",{id:"zgs20_gsUserInsightsEmailSearch",class:"zgs19_gsUserInsightsInput zgs19_gsfl"}).append(g("<input>",{id:"zgs20_gsUserInsightsEmailInput",class:"zgs19_gsGridSearchInput",placeholder:"Enter valid email"}).val(e)).append(g("<span>",{class:"zgs19_gsDbSearchCloseIcon zgs18_gsQueryCloseIcon zgs19_gsCurPointer zgs19_gsDisplayNone"}))).append(g("<button>",{id:"zgs20_gsUserInsightsFetchUser",class:"zgs19_gsUserInsightsButton zgs19_gsOverflow",gs:"userInsightsActions",action:"userInsightsRole"}).append(g("<span>",{class:"zgs19_gsUserInsightsButtonText",gs:"userInsightsActions",action:"userInsightsRole"}).text("Fetch Role"))))).append(g("<div/>",{id:"zgs20_gsUserInsightsUserActions",class:"zgs19_gsOnTheFlyUserActions zgs19_gsfl zgs19_gsMgTop10Px"})),g("#zgs20_gsUserInsightsEmailInput").attr("autocomplete","off"),l.addUserInsightsEvents(),l.renderOnTheFlyUserActions(e))},l.renderCustomer360=function(){0===g("#zgs20_gsCustomerPortal").length&&(0===g("#zgs20_gsFeatureOptions").length&&g("#zgs20_gsDbHdr").append(g("<div/>",{id:"zgs20_gsFeatureOptions",class:"zgs19_gsFeatureOptions zgs19_gsfl"})),g("#zgs20_gsFeatureOptions").empty())},l.renderOnTheFlyUserActions=function(e){let s=g("#zgs20_gsUserInsightsUserActions");var t=l.userInsightsMenuObj[e];t&&0<t.length&&(t=l.gsdbhome.currentSubDashboardType||l.userInsightsMenuObj[e][0],(e=l.onTheFlyCategoryVsDispName[t])&&(s.append(l.getOnTheFlyTabHeaderLabel("View")).append(g("<div>",{id:"zgs20_gsUserInsightsViewHolder",class:"zgs19_gsUserInsightsHolder",action:"viewHolder",gs:"userInsightsActions"}).append(g("<span>",{id:"zgs20_gsViewName",class:"zgs19_tc2fa6ea",type:t}).text(e)).append(g("<div>",{class:"zgs19_gsUserInsightsDropDown zgs18_gsFilterDropDownIcon zgs19_gsfr"}))).append(g("<button>",{id:"zgs20_gsUserInsightsButton",class:"zgs19_gsUserInsightsButton zgs19_gsOverflow",gs:"userInsightsActions",action:"userInsightsSearch"}).append(g("<span>",{class:"zgs19_gsUserInsightsButtonText",gs:"userInsightsActions",action:"userInsightsSearch"}).text("Generate"))),g("#zgs20_gsUserInsightsFetchUser").addClass("zgs19_gsDisplayNoneImp"))),l.addUserInsightsEvents()},l.renderUserInsightsActionsPopUp=function(e,s){if(0===g(".zgs19_gsUserInsightsPopUp").length)g("#zgs20_gsUserInsightsHeader").append(g("<div>",{id:"zgs20_gsUserInsightsPopUp",class:"zgs19_gsUserInsightsPopUp"}));else{if(g(".zgs19_gsUserInsightsPopUp").is(":visible"))return void l.closeUserInsightsActionPopUp();g(".zgs19_gsUserInsightsPopUp").css("display","block")}g(".zgs19_gsUserInsightsDropDown").addClass("zgs18_gsOpenFilterDropDownIcon zgs19_gsMgTop5Px"),l.renderUserInsightsMenu(s);var t=g(e).offset(),a=g("#zgs20_gsDashboardhome").offset(),r=g("#zgs20_gsDashboardhome").css("padding-inline-start"),r=l.gscomponent.isRTLEnabled?t.left+g(e).outerWidth()-(a.left+g("#zgs20_gsDashboardhome").outerWidth()):t.left-(a.left+parseFloat(r)),e=t.top-a.top+parseFloat(g(e).outerHeight());g(".zgs19_gsUserInsightsPopUp").css({top:e,left:r}).attr("action",s),l.ontheflyPopUpOpened=!0},l.closeUserInsightsActionPopUp=function(){g(".zgs19_gsUserInsightsPopUp").css("display","none"),g(".zgs18_gsOpenFilterDropDownIcon").removeClass("zgs18_gsOpenFilterDropDownIcon zgs19_gsMgTop5Px"),l.ontheflyPopUpOpened=!1},l.renderUserInsightsMenu=function(e){let s=g("#zgs20_gsUserInsightsPopUp");s.empty();let t=[],a="",r={};if("viewHolder"===e){var o=g("#zgs20_gsUserInsightsEmailInput").val()||l.gsdbUtils.userEmail;if(t=l.userInsightsMenuObj[o],!t)return;a="userRole",r=l.onTheFlyCategoryVsDispName}else"featureHolder"===e&&(t=Object.keys(l.userInsightsFeatureType),a="featureType",r=l.userInsightsFeatureType);for(let e=0;e<t.length;e++){var i=t[e],n=g("<div>",{class:"zgs19_gsDbMenuContainer",gs:"userInsightsActions",action:a,type:i}),i=g("<div>",{class:"zgs19_gsDbMenuText zgs19_gsOverflow zgs19_gsfl"}).text(r[i]);s.append(n.append(i))}},l.updateFeatureType=function(e){e=g(e).attr("type");g("#zgs20_gsFeatureName").attr("type",e).text(l.userInsightsFeatureType[e]),l.renderFeatureType(e)},l.renderFeatureType=function(e){0===g("#zgs20_gsFeatureOptions").length&&g("#zgs20_gsUserInsightsHeader").append(g("<div/>",{id:"zgs20_gsFeatureOptions",class:"zgs19_gsFeatureOptions zgs19_gsfl zgs19_gsMgBtm10Px"})),"0"===e?l.renderOnTheFlyUserFeature():l.renderCustomer360()},l.updateUserRoleHolder=function(e){0<g("#zgs20_gsUserInsightsViewHolder").length&&(e=g(e).attr("type"),g("#zgs20_gsViewName").attr("type",e).text(l.onTheFlyCategoryVsDispName[e]))},l.getOnTheFlyDashboardForInput=function(){var e=g("#zgs20_gsUserInsightsEmailInput").val(),s=g("#zgs20_gsViewName").attr("type");e&&l.gssavedsearches.cardDetailsCheck(e)?l.openOnTheFlyDashboard(e,{onTheFlyView:s}):l.showTopbannertip({ty:3,msg:l.getI18NMsg("gs.search.calendar.callout.emailError")})},l.getUserInsightsRole=function(){var e=g("#zgs20_gsUserInsightsEmailInput").val();l.userInsightsMenuObj[e]?(l.gsdbhome.currentSubDashboardType=l.userInsightsMenuObj[e][0],l.renderOnTheFlyUserActions(e)):l.fetchUserInsightsRole(e)},l.fetchUserInsightsRole=function(r){var e;r&&l.gssavedsearches.cardDetailsCheck(r)?(r=r.trim(),e="email="+(l.gsdbUtils.userEmail=r),l.setButtonLoader(g("#zgs20_gsUserInsightsFetchUser .zgs19_gsUserInsightsButtonText"),"zgs20_gsUserInsightsFetchUserBtnLoader"),l.uri(l.GET,l.API.DASHBOARD.ONTHEFLY_USERINFO,e,"",function(s,e){if("success"===e&&s&&l.isDashboardViewOpened()){s=l.jsonParse(s);let e=[];if(s&&!g.isEmptyObject(s)){var t=s.userDetails;if(t)for(var a in t)t[a]&&e.push(a)}l.userInsightsMenuObj[l.gsdbUtils.userEmail]=e,0<e.length?(l.gsdbhome.currentSubDashboardType=e[0],l.renderOnTheFlyUserActions(r)):l.showTopbannertip({ty:3,msg:"No Roles Fetched for User"})}else l.showTopbannertip({ty:3,msg:"Error Fetching User Role"});l.revertButtonLoader()})):l.showTopbannertip({ty:3,msg:l.getI18NMsg("gs.search.calendar.callout.emailError")})}}(zgssearch),function(d){var p=window._jQueryGS;d.Utils=d.hasOwnProperty("Utils")?d.Utils:{},d.setCalloutSearchType=function(e){d.calloutSearchType=e},d.getCalloutSearchType=function(){return d.calloutSearchType},d.getFourDotLoader=function(e,s){return p("<div>",{id:e,class:s,gs:"loadericon"}).append(p("<div>",{class:"zgs19_gsRequestLoadera"})).append(p("<div>",{class:"zgs19_gsRequestLoaderb"})).append(p("<div>",{class:"zgs19_gsRequestLoaderc"})).append(p("<div>",{class:"zgs19_gsRequestLoaderd"}))},d.getFourDotLoaderForDashboard=function(e,s,t){return t=t||"",p("<div>",{id:e,class:"zgs19_gsDashboardHomeLoader zgs19_gsColumnFlex"}).append(t).append(p("<div>",{class:s,gs:"loadericon"}).append(p("<div>",{class:"zgs19_gsRequestLoadera"})).append(p("<div>",{class:"zgs19_gsRequestLoaderb"})).append(p("<div>",{class:"zgs19_gsRequestLoaderc"})).append(p("<div>",{class:"zgs19_gsRequestLoaderd"})))},d.getResultObject=function(e,s,t,a){if(d.isArrayContain(e,d.serviceList)){t=d.getServiceResultObject(e,t);if(t=d.getSpecificResultsObject(t,e,a)){s=e+s;if(t.hasOwnProperty(s))return t[s]}}return{}},d.hideDatePicker=function(){try{p(d.curDatePickerElem).removeClass("zgs19_gsboxholder"),p(d.curDatePickerElem).find(".zgs19_gsModuleFilterElemIcon").addClass("zgs19_gsVisibleHidden");var e=p("#zgs20_gsDateRangePickerElem").length,s=p("#zgs20_gsDateRangePickerElem").css("display");0<e&&(null!=s||"none"!=s)&&p("#zgs20_gsDateRangePickerElem").zsdaterangepicker("close");var t=p("#zgs20_gsSingleDatePickerElem").length,a=p("#zgs20_gsSingleDatePickerElem").css("display");0<t&&(null!=a||"none"!=a)&&p("#zgs20_gsSingleDatePickerElem").zsdatepicker("close");t=p("#zgs20_gsDateTimePickerElem").length,a=p("#zgs20_gsDateTimePickerElem").css("display");0<t&&(null!=a||"none"!=a)&&p("#zgs20_gsDateTimePickerElem").zsdatetimepicker("close");e=p("#zgs20_gsCalDateRangePickerElem").length,s=p("#zgs20_gsCalDateRangePickerElem").css("display");0<e&&(null!=s||"none"!=s)&&p("#zgs20_gsCalDateRangePickerElem").zsdaterangepicker("close");t=p("#zgs20_gsCalSingleDatePickerElem").length,a=p("#zgs20_gsCalSingleDatePickerElem").css("display");0<t&&(null!=a||"none"!=a)&&p("#zgs20_gsCalSingleDatePickerElem").zsdatepicker("close");t=p("#zgs20_gsCalDateTimePickerElem").length,a=p("#zgs20_gsCalDateTimePickerElem").css("display");0<t&&(null!=a||"none"!=a)&&p("#zgs20_gsCalDateTimePickerElem").zsdatepicker("close"),d.isDatePickerDisplay&&"none"==p(".zgs19_gsDatePickerElem").css("display")&&(d.isDatePickerDisplay=!1,d.curDatePickerElem="")}catch(e){d.throwClientError("Error in hideDatePicker",e)}},d.updateUserPhoto=function(t,e){d.network.imageRenderer.renderImage(e,null,function(e){try{userPhotoSuccess=function(e){var s=d.getTargetElem(e.getAttribute("gs"));s&&(d.setGSTagElems(s),s.gsUserPhoto&&(p(s.gsUserPhoto).attr("src",e.src),p(s.gsUserPhoto).removeClass("zgs19_gsFetchImgLoader zgs19_gsResFetchLoader").addClass("zgs19_gsUserPhoto"))),d.removeEle(e)},userPhotoError=function(e){d.loadResNoPhotoImg(e.getAttribute("gs"))};var s=p("<img>",{class:"zgs19_gsDisplayNone",gs:t})[0];e?p(s).attr("src",e).off().on({load:function(){userPhotoSuccess(this)},error:function(){userPhotoError(this)}},!0):userPhotoError(s)}catch(e){d.throwClientError("Error while updating User Photo",e)}})},d.getServiceName=function(e){var s="";return"writer"===e?s=d.GSConstant.GS_WRITER_URL:"sheet"===e?s=d.GSConstant.GS_SHEET_URL:"show"===e&&(s=d.GSConstant.GS_SHOW_URL),s},d.closePreview=function(){d.hasOwnProperty("pccomponent")&&d.pccomponent&&!p.isEmptyObject(d.pcResObj)&&d.pcResObj.parent&&p("#"+d.pcResObj.parent).remove()},d.openInWD=function(s,t,a,r,o){var e,i;d.workdriveComponentLoaded?(e={},i=new WorkDrive,e.service="ZohoSearch",e.WDDomainURL=d.GSConstant.GS_WORKDRIVE_URL,e.height=1==d.GSConstant.UIType?"560px":"530px",e.width=1==d.GSConstant.UIType?"800px":"700px",e.showPrimaryButton=!0,e.containerElementId="1"==d.GSConstant.UIType?"zgs20_wdMount":"zgs20_gsHolder",e.responseCallBack=function(e){e=e.callbackDataFromWorkDrive.destinationResourceToAdd[0].id;d.addToWorkdrive(s,t,a,e,r,o)},i.loadAdder(e)):d.loadWorkdriveComponent(function(){d.openInWD(s,t,a,r)})},d.shareInWD=function(e,s,t,a){var r,o;d.workdriveComponentLoaded?(r=new WorkDrive,(o={service:"ZohoSearch"}).WDDomainURL=d.GSConstant.GS_WORKDRIVE_URL,o.height=1==d.GSConstant.UIType?"560px":"530px",o.width=1==d.GSConstant.UIType?"800px":"700px",o.componentType="SHARE",o.selectedMembers=[],o.containerElementId="1"==d.GSConstant.UIType||d.isEmbed?"zgs20_wdMount":"zgs20_gsHolder",o.resId=a,r.loadShare(o)):d.loadWorkdriveComponent(function(){d.shareInWD(e,s,t,a)})},d.apiCallForActions=function(e,s,t={},a){var r=t.fetchAction?"entityToFetch="+t.fetchAction+"&portalId="+t.accountId:"actionname="+t.action+"&entityId="+t.entityId+"&portalId="+t.accountId+"&actionObject="+encodeURIComponent(JSON.stringify(t.actionObject));t.dataObject&&(r+="dataObject="+t.dataObject),d.uri(e,s,r,a,function(e,s,t){var a=d.jsonParse(e),e=a?a.status||a.data.status:"",a=a.data?a.data.details:a;"SUCCESS"==e?(t=t.args).hasOwnProperty("callback")&&t.callback(a):(d.showbannertip({ty:3,msg:d.getI18NMsg("gs.search.error.generic_error_messege")}),d.hideCalloutActionList(),p(".zgs19_gsLabelsPopUp").remove())})},d.serviceActions=function(e,s,t,a){var r=(new d.dashboardSearchActions).createActionType(e).getCurrentResponseObj()||t,o=r.entity_id,i=t.account_id||t.zsoid,n=t.serviceName;switch(s){case"favourites":d.favouriteAction(e,o,i,n,r);break;case"properties":d.gsworkdrive.showFileProperty(r,a);break;case"flag":d.gsmails.changeFlagAction(e,o,i,n,r);break;case"label":d.showLabelPopUp(e,n,i,r)}},d.favouriteAction=function(e,s,t,a,r){let o=r.isFav;var i={isFav:!o},n={callback:function(){d.favAddOrRemoveAction(e,o,r)}};d.apiCallForActions(d.POST,d.API.SERVICE_ACTIONS+a,{action:"changeStatus",entityId:s,accountId:t,actionObject:i},n)},d.favAddOrRemoveAction=function(e,s,t){s?(d.showbannertip({ty:1,msg:d.getI18NMsg("gs.search.removed_from_favorites")}),p(e).text(d.getI18NMsg("gs.search.add_to_favourite"))):(d.showbannertip({ty:1,msg:d.getI18NMsg("gs.search.added_to_favorites")}),p(e).text(d.getI18NMsg("gs.search.remove_from_favourite"))),t.isFav=!s},d.actionHeaderElement=function(e,s,t){let a,r,o;return a=p("<span>",{class:s}),o=p("<span>",{class:"zgs19_gsActionName zgs19_gsOverflow"}).text(e),t&&(r=p("<span>",{class:"zgs18_gsCloseIcon zgs19_gsActionsCloseIcon",gs:"closeActionPopUp"})),p("<div>",{class:"zgs19_gsActionHeaderElement"}).append(a).append(o).append(r)},d.capitalizeFirstLetter=function(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""},d.showLabelPopUp=function(s,t,a,r){var e=p("<div>",{class:"zgs19_gsLabelsPopUp"}),o=d.getFourDotLoader("zgs20_gsLabelLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsLabelLoader"),i=r?.fileInfo?.labels||[];let n=d.serviceActionDetails[t]?.labels?.[a]||[];var l=i.length;if(1<l&&0<n.length){let s=n.map(e=>e.id);for(let e=0;e<l;e++)if(!s.includes(i[e].id)){n=[];break}}0<n.length?(n=n.filter(e=>3!==e.type),p("#zgs20_gsLabelLoader").remove(),d.renderLabelsInPopUp(n,e,r)):(1==p(o).length&&p(e).append(o),g={callback:function(e){d.storeLabels(s,t,e,a,r)}},d.apiCallForActions(d.GET,d.API.SERVICE_ACTIONS+t,{fetchAction:"labels",accountId:a},g)),1==p(e).length&&p(s).closest(".zgs19_gsCalloutAction").append(e);var g=p(s).closest("#zgs20_gsCalloutActionList");let c;d.isDashboardOpened&&(c=p(g).closest(".zgs19_gsServiceCalloutHolder")),d.setElementPosition(s,g,c,e)},d.storeLabels=function(e,s,t,a,r){d.serviceActionDetails[s]||(d.serviceActionDetails[s]={},d.serviceActionDetails[s].labels={}),d.serviceActionDetails[s].labels[a]=t.labels,d.showLabelPopUp(e,s,a,r)},d.setElementPosition=function(e,s,t,a){var r=parseFloat(p(e).outerHeight()),o=p(e).offset().top+r,r=Math.floor(p(s).outerWidth()+6);let i=o-p(s).offset().top;t&&(e=p(e).closest(t),t=p(e).outerHeight()-40,e=p(a).outerHeight(),i+e>t&&(i-=i+e-t)),p(a).css("inset-block-start",i+"px"),p(a).css("inset-inline-end",r+"px")},d.renderLabelsInPopUp=function(r,e,s){var t=p("<input>",{class:"zgs19_gsActionInputBox zgs19_gsOverflow",gs:"calloutLabelSearchAction",id:"zgs18_gsActionInputBox",placeholder:d.getI18NMsg("gs.search.Labels")});p(t).attr("autocomplete","off");var t=p("<div>",{class:"zgs19_gsActionInputElement"}).append(p("<span>",{class:"zgs18_gsLensIconTab zgs19_gsActionSearchIcon"})).append(t),o=r.length;let i=s.hasOwnProperty("fileInfo")?s.fileInfo.labels:[];var n=p("<div>",{class:"zgs19_gsLabelLists"});if(3<o&&p(e).append(t),0<o)for(let a=0;a<o;a++){let e="addlabel",s="";i.some(function(e){return e.id===r[a].id})&&(s=p("<span>",{class:"zgs18_TickIcon zgs19_gsLabelSelected"}),e="removelabel");let t;t=r[a].color.startsWith("#")?r[a].color:"#"+r[a].color;var l=p("<div>",{class:"zgs19_gsLabels",labelId:r[a].id,gs:e}).append(p("<span>",{class:"zgs19_gsLabelsIcon zgs18_gsLabelIcon",style:"color:"+t})).append(p("<span>",{class:"zgs19_gsLabelName zgs19_gsOverflow",gstitle:r[a].n}).text(r[a].n)).append(s);p(n).append(l)}else p(n).append(p("<div>",{class:"zgs19_gsNoLabelsFound"}).text(d.getI18NMsg("gs.search.error.no_labels")));p(e).append(n),d.renderLabels(r,e,n)},d.renderLabels=function(i,e,n){let s=p(e).find("#zgs18_gsActionInputBox");p(e).find("#zgs18_gsActionInputBox").off().on("input",function(){let r=p(n).find(".zgs19_gsLabels"),o=s.val().toLowerCase().trim();p(".zgs19_gsNoFlagFound").remove(),o?r.each(function(){p(".zgs19_gsNoFlagFound").remove();let e=p(this),s=e.attr("labelId");var t=i.find(e=>e.id==s);let a=t.n||t.name;t&&a.toLowerCase().includes(o)?p(e).css("display","flex"):p(e).css("display","none"),p(n).find(".zgs19_gsLabels:hidden").length==r.length&&0==p(".zgs19_gsNoFlagFound").length&&p(n).append(p("<div>",{class:"zgs19_gsNoFlagFound"}).text(d.getI18NMsg("gs.search.error.no_labels")))}):p(r).css("display","flex")})},d.labelActions=function(e,s){var t=(new d.dashboardSearchActions).createActionType(e).getCurrentResponseObj();let a=t.account_id||t.zsoid,r=p(e).attr("labelId");var o={labelID:r},i={callback:function(){d.labelAddOrRemoveAction(e,s,r,a,t)}},o={action:s,entityId:t.entity_id,accountId:a,actionObject:o};d.apiCallForActions(d.POST,d.API.SERVICE_ACTIONS+t.serviceName,o,i)},d.labelAddOrRemoveAction=function(e,s,t,a,r){let o=d.serviceActionDetails[r.serviceName].labels[a],i=r.fileInfo.labels||r.label_info,n=o.find(e=>e.id===t);n.n?n.name=n.n:n,"addlabel"==s?(d.showbannertip({ty:1,msg:n.name+" - "+d.getI18NMsg("gs.action.label_added")}),i.push(n),p(e).attr("gs","removelabel"),p(e).append(p("<span>",{class:"zgs18_TickIcon zgs19_gsLabelSelected"}))):(d.showbannertip({ty:1,msg:n.name+" - "+d.getI18NMsg("gs.action.label_removed")}),i=i.filter(e=>e.id!==n.id),p(e).attr("gs","addlabel"),p(e).find(".zgs19_gsLabelSelected").remove()),r.fileInfo?r.fileInfo.labels=i:r.label_info=i;e=p(e).closest(".zgs19_gsServiceCalloutHolder").find(".zgs19_gsCalloutMetaLeft");d.gsworkdrive.addLabelList(i,e)},d.addToWorkdrive=function(e,s,t,a,r,o){p("#zgs20_wdMount").addClass("zgs19_gsWDoverLay");var i,n=d.getFourDotLoader("zgs20_gsWDoverlayLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsWDoverlayLoader");p("#zgs20_wdMount").append(n),d.isArrayContain(e,d.SERVICES_STORAGE)?(n=new d.FileMgmtFactory,(i={}).service=e,n.createFileMgmtService(i).addToWD(e,s,t,a)):e===d.GSConstant.O365MAIL?d.gso365mail.addToWD(s,r,a):e===d.GSConstant.GMAIL?d.gsgmail.addToWD(s,r,a,o):e===d.GSConstant.ASANA?d.projectMgmtCalloutObj.addToWD(t,s,a):e===d.GSConstant.EVERNOTE?(d.notesTemplateInstance||(i=new d.notesTemplateFactory,(t={}).service=d.GSConstant.EVERNOTE,d.notesTemplateInstance=i.createCurServiceInstance(t)),d.notesTemplateInstance.addToWD(s,r,a,o)):e===d.GSConstant.ZENDESK&&d.gszendesk.addToWD(s,r,a,o)},d.Utils.getResultObjectofType=function(e,s){e=e||(d.isDashboardViewOpened()?d.dbCrdCalloutType:d.isCardViewOpened()?d.crdPagecalloutType:"search");return e!==d.dbCrdCalloutType&&e!==d.crdPagecalloutType?d.getCurrentResObj():(new d.dashboardSearchActions).createActionType().getCurrentResultObj(s)},d.Utils.constructSaveBookmarkInCallout=function(e,s){!d.isDashboardEnabled||d.isDashboardViewOpened()||d.isCardViewOpened()||p(e).append(p("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsSavePreviewDD",gs:"calloutActionOptions",value:"savePreview",service:s,gstitle:d.getI18NMsg("gs.search.callout.savePreviewCard")}).text(d.getI18NMsg("gs.search.callout.savePreviewCard")))},d.Utils.addSandboxToEle=function(e){e.setAttribute("sandbox","allow-same-origin allow-scripts allow-popups allow-forms allow-modals allow-presentation")}}(zgssearch),zgssearch.gsmail={},zgssearch.gsmail.accounts="accounts",zgssearch.gsmail.modules="modules",zgssearch.gsmail.modChildFilters={mails:["folders","date","attach","flag","replies"],streams:["view","entity_type","date"]},zgssearch.loadMailModChildFilter=function(e,s,t,a){var r=zgssearch.gsmail.modChildFilters[s],o=r?r.length:0;if(r&&0<o){a&&a.hasOwnProperty("cards")&&a.cards;for(var i=0;i<o;i++){var n=r[i],l=zgssearch.getFilterInfo(e,n,"data"),l=l[t]||l;zgssearch.updateDynamicFilterDetails(e,l,n)}t=t||zgssearch.getFilterInfo(e,zgssearch.gsmail.accounts,"current"),zgssearch.gsmail.setModFilters(s,r,t,a)}},zgssearch.gsmail.setModFilters=function(e,s,t,a){zgssearch.getFilterObj(zgssearch.GSConstant.MAILS);var r,o,i,n=a.hasOwnProperty("curSelCardObj")?a.curSelCardObj:"";for(r in s){var l=s[r];n&&(n[l]=["0"])}n&&(zgssearch.gscreatecards.CCSelectedFiltersObj=n),a&&(o=a.param1,i=a.param2,a.hasOwnProperty("callback")&&a.callback(o,i))},zgssearch.gsmail.editCrdCallback=function(e,s){_jQueryGS("#zgs20_gsFiltersHolder").empty(),_jQueryGS("#zgs20_gsOtherFiltersHolder").empty();var t=zgssearch.gscardUtils.cardIdsVsObject[zgssearch.gscardfilter.currentCardId].cardconfig;zgssearch.gscreatecards.filtersMetaInfo=zgssearch.getFiltersInfoForService(s,e,t),zgssearch.gscreatecards.renderServiceFiltersForCreateOrEditCard(e,zgssearch.gscreatecards.filtersMetaInfo,t)},function(i){i.cardPagePreviewActions=function(){this.setCurrentCard=function(e){var s=_jQueryGS("#zgs20_gsCrdPrevBdy");this.currCard=s[0]},this.getCurrentCardId=function(){return _jQueryGS(".zgs19_gsCrdPrevBdy").attr("cardid")},this.getCurrentCard=function(){return this.currCard},this.getCalloutParent=function(){return i.getTargetElem("zgs20_gsCrdPrevCallout")},this.getCurrentResultObj=function(e){e=e||this.getCurrentCardId();var s=i.cardObjForCurrentSelectedElem[e]?i.cardObjForCurrentSelectedElem[e].resultObj:{};return s=(i.gscardUtils.cardIdsVsObject[e]||{}).cardtype==i.BOOKMARK_CARD?s.data:s},this.getTargetElem=function(e){var s=this.getCurrentCard();return _jQueryGS(s).find(e)},this.getCurrAccId=function(){var e=this.getCurrentCardId(),s=(_jQueryGS(".zgs19_gsCrdHdrType").attr("cardtype"),i.gscardfilter.tempCardIdsVsObj[e]||i.gscardUtils.cardIdsVsObject[e]),t=s.cardconfig||{},a="",r="";return s.cardtype==i.BOOKMARK_CARD?(r="account_id",a=this.getCurrentResultObj(e)[r]):(r="accounts_list",s.service===i.GSConstant.CAMPAIGNS&&(r="module")),null!=(a=a||i.gscardinDb.getFilterVal(t,r))&&s.cardtype==i.BOOKMARK_CARD?a:null!==a&&0<a.length?a[0]:""},this.getServiceName=function(e){e=e||this.getCurrentCardId();return i.gscardUtils.cardIdsVsObject[e].service},this.getSearchDBCalloutObj=function(){var e=_jQueryGS("#zgs20_gsCrdPrevCallout"),s=this.getCurrentCardId();return{type:i.crdPagecalloutType,parentElem:e,calloutId:"zgs20_gs"+s+"_callout",cardId:s,curSelectedEle:i.gscards.curSelectedEle,iconDisplay:!1,service:this.getServiceName()}},this.getCurrentResponseObj=function(e){return e=e||this.getCurrentCardId(),i.cardObjForCurrentSelectedElem[e].calloutRespObj},this.setCurrentResponseObj=function(e,s){s=s||this.getCurrentCardId(),i.cardObjForCurrentSelectedElem[s].calloutRespObj=e},this.getCurrentCRMOwner=function(){var e=this.getCurrentCardId();return i.gscrm.crmOwnerData[e].id},this.getCardObjInContext=function(e){return i.gscardfilter.tempCardIdsVsObj[e]||i.gscardUtils.cardIdsVsObject[e]},this.getResultObject=function(){var e=this.getCurrentCardId();return i.gscardsresult.cardResultsObj[e]}},i.dashboardActions=function(){this.currCard,this.service="",this.setCardFromCallout=function(e){e=_jQueryGS(e).closest(".zgs19_gsCard");this.currCard=e[0]},this.getCurrentCard=function(){return this.currCard},this.getCurrentCardId=function(e){return e=e||this.getCurrentCard(),_jQueryGS(e).attr("cardid")},this.getCalloutParent=function(e){if(e)return _jQueryGS(e).closest(".zgs19_gsCrdCallout")[0];e=this.getCurrentCard();if(e){e=e.querySelector(".zgs19_gsCrdCallout");return this.service=_jQueryGS(e).attr("service"),e}},this.getCurrentResultObj=function(e){e=e||this.getCurrentCardId();var s=i.gscardinDb.getOriginalCardId(e),s=i.gsdbUtils.cardIdsVsObject[s]||{},s=(i.gsdbUtils.dbCardIdObjInDB[e]||s||{}).cardtype,e=i.cardObjForCurrentSelectedElem[e]?i.cardObjForCurrentSelectedElem[e].resultObj:{};return e=s==i.BOOKMARK_CARD?e.data:e},this.getTargetElem=function(e){var s=this.getCurrentCard();return _jQueryGS(s).find(e)},this.getCurrAccId=function(){var e,s=_jQueryGS(this.currCard).attr("cardId"),t=i.gscardinDb.getOriginalCardId(s),a=i.gsdbUtils.cardIdsVsObject[t],r=(i.gsdbUtils.dbCardIdObjInDB[s]||a).cardtype,o=a.cardconfig||{},t="";return r==i.BOOKMARK_CARD?(t="account_id",e=this.getCurrentResultObj(s)[t]):(t="accounts_list",a.service===i.GSConstant.CAMPAIGNS&&(t="module")),null!=(e=e||i.gscardinDb.getFilterVal(o,t))&&r==i.BOOKMARK_CARD?e:null!==e&&0<e.length?e[0]:""},this.getServiceName=function(){if(this.service)return this.service;var e=this.getCurrentCard().querySelector(".zgs19_gsCrdCallout");return _jQueryGS(e).attr("service")},this.getSearchDBCalloutObj=function(){var e=this.getCurrentCard(),s=_jQueryGS(e).attr("cardid"),t="zgs20_gs"+s+"_"+_jQueryGS(e).attr("index")+"_callout",a=_jQueryGS(e).find(".zgs19_gsResultselected"),e=this.getServiceName();return{type:i.dbCrdCalloutType,parentElem:this.getCalloutParent(),calloutId:t,iconDisplay:!1,cardId:s,curSelectedEle:a,service:e}},this.getCurrentResponseObj=function(e){return e=e||this.getCurrentCardId(),i.cardObjForCurrentSelectedElem[e].calloutRespObj},this.setCurrentResponseObj=function(e,s){s=s||this.getCurrentCardId(),i.cardObjForCurrentSelectedElem[s].calloutRespObj=e},this.getCurrentCRMOwner=function(){var e=this.getCurrentCardId();return i.gscrm.crmOwnerData[e].id},this.getCardObjInContext=function(e){return i.gsdbUtils.cardIdsVsObject[e]},this.getResultObject=function(){var e=this.getCurrentCardId();return i.gscardsresult.cardResultsObj[e]}},i.searchActions=function(){this.getCalloutParent=function(){return i.getTargetElem("zgs20_gsSearchResultRight")},this.getCurrentResultObj=function(){return i.getCurrentResObj()},this.getTargetElem=function(e){return _jQueryGS(e)},this.getCurrAccId=function(){return i.getResultAccountId()},this.getServiceName=function(){return i.getCalloutSearchType()},this.getSearchDBCalloutObj=function(){return i.searchCalloutObj},this.getCurrentResponseObj=function(){return i.getCurrentResponseObj},this.setCurrentResponseObj=function(e){i.getCurrentResponseObj=e},this.getCurrentCRMOwner=function(){return i.gscrm.crmOwnerData.id},this.getResultObject=function(e){return i.resultObject[e]}},i.getCurrentSelectedElem=function(){return(i.isDashboardOpened&&i.hasOwnProperty("gscardsresult")?i.gscardsresult:i.isCardPageOpened&&i.hasOwnProperty("gscards")?i.gscards:i).curSelectedEle}}(zgssearch,window),function(T,A){var M=A._jQueryGS,c=T.getGSConstantObj()||{};T.dashboardSearchActions&&(T.commonSearchActions=new T.dashboardSearchActions),A.removeEventListener("message",T.receiveMessage,!0),T.receiveMessage=function(e){try{var s=e.origin||e.originalEvent.origin,t=T.gsaction.currSearchType&&T.gsaction.currSearchType.hasOwnProperty("getCurrentResultObj")?T.gsaction.currSearchType.getCurrentResultObj():{};if(T.isPreviewOpenedInComponent&&(t=T.pcResObj),void 0!==e.data&&"undefined"!==e.data&&null!==e.data){var a,r,o,i,n=e.data,l="object"==typeof n?n:JSON.parse(n);if(s===T.GSConstant.GS_MAIL_URL)l.hasOwnProperty("close")&&l.close&&(M("#zgs20_gsMailActionHolder").empty().hide(),T.focusForWeb("zgs20_gsQueryBox"),y=T.getCurSelectedEleAttr("service"),a=T.mappedServiceList[y].id,M("#"+a).show());else if(s===T.getURLOrginName(A.location.href))void 0!==l.action_type&&(g=l.action_type,l.error_msg,l.preview_type,r=l.service_name,"preview"===g?(o={},i=T.getTargetElem("zgs20_gsConnectorCallout"),r!==T.GSConstant.DROPBOX&&r!==T.GSConstant.GOOGLEDRIVE||(o={service:r,previewHolder:"docspreviewHolder"},i=T.getTargetElem("zgs20_gsDocsCallout")),T.Utils.obtainPageOpenBtn(i,t,o)):"download"===g?T.Utils.showErrorMsg(T.getI18NMsg("gs.search.error.file_down_fail_message")):"image_error"===g?T.Utils.showErrorMsg(T.getI18NMsg("gs.search.error.img_prev_err_message")):"attachment"===g&&(_=l.attachId||"")&&T.gso365mail.downloadAttachment(_,t,l.msgId,l.connectorId));else if(s===T.getURLOrginName(T.GSConstant.cloud_preview_domain)){var g,c,d=T.isDashboardViewOpened();if(void 0!==l.action_type){if(l.hasOwnProperty("cardId")){var p=l.cardId;if(d){var u,h=T.gscardinDb.dbCardIdVscardId;for(u in h)if(h[u]===p){l.cardId=u;break}}}if("attachment"===(g=l.action_type)){var _=l.attachId||"",m=l.url||"";if(_)if("gmail"===l.service)T.gsgmail.downloadAttachment(_,l.file_name,l.mime_type,l.msgId,l.connectorId);else if("outlook"===l.service)T.gso365mail.downloadAttachment(_,t,l.msgId,l.connectorId);else{if(l.service!==T.GSConstant.ZENDESK)throw new Error("Service has no attachment option : "+l.service);T.gszendesk.downloadAttachment(m)}}else if("everNoteAttachment"===g){var z,v,f=T.notesTemplateInstance;f||(z=new T.notesTemplateFactory,(v={}).service=T.GSConstant.EVERNOTE,f=z.createCurServiceInstance(v)),f.downloadEvernoteAttachment(l)}else if("themeAndDirectionSetReady"==g){let e={type:l.type,calloutId:l.iframeId.replace(/^#/,"").split(" ")[0]};setTimeout(()=>{T.hideCalloutLoader(e),M(l.iframeId).next(".zgs19_cloudServiceIframeLoader").remove()},500)}else if("LOAD_OUTLOOK_IMAGE"===g||"LOAD_GMAIL_IMAGE"===g){var C=l.id,S="",b="",S=l.iframeId||"";if("LOAD_GMAIL_IMAGE"===g)b="GMAIL_IMAGE_RESPONSE";else{if("LOAD_OUTLOOK_IMAGE"!==g)throw new Error("Undefined action_type "+g);b="OUTLOOK_IMAGE_RESPONSE"}T.network.imageRenderer.renderImage(l.url,null,function(e){e=e||l.url,e={action_type:b,imgSrc:e,id:C};M(S)[0].contentWindow.postMessage(e,s)})}else if("addToWD"===g){var y=M(T.curSelectedEle).attr("service"),_=l.attachId||"",t=T.getCurrentResObj();_&&T.openInWD(y,t,"",_)}else if("o365mailAddToWD"===g){y=T.GSConstant.O365MAIL,_=l.attachId||"";(t=T.getCurrentResObj()).accId=l.connectorId,t.id||(t.id=l.msgId),_&&T.openInWD(y,t,"",_)}else if("evernoteAddToWD"===g){var y=T.GSConstant.EVERNOTE,I=l.attach_name||"",O=l.res_hash||"";(t=T.getCurrentResObj()).accId=l.connector_id,t.id=l.note_id,I&&T.openInWD(y,t,"",I,O)}else if("gmailAddToWD"===g){var P=T.GSConstant.GMAIL,w=l.attachId||"";let e=T.getCurrentResObj();e.accId=l.connectorId,w&&T.openInWD(P,e,"",w,l)}else if("zendeskAddToWD"===g){var D=T.GSConstant.ZENDESK,E=l.contentURL||"";let e=T.getCurrentResObj();e.accId=l.connectorId,E&&T.openInWD(D,e,"",E,l)}else"showGmailAttachmentIcon"===g&&(c=l.iframeId||"",M(c+" #zgs20_gmailAttachIcon").css("display","block"))}}}}catch(e){T.throwClientError("Exception in receiveMessage ",e)}},A.addEventListener("message",T.receiveMessage,!0),T.attachDoubleClickPopUpEvent=function(){M(".zgs19_gsCalloutPopUp").off("mouseup").on("mouseup",function(){T.popupaction=!0}),M(".zgs19_gsCalloutPopUp").off("mousedown").on("mousedown",function(e){e=M(e.target).closest("#zgs20_gsPopupSearch");T.isOpenDoubleClickPopup&&1!==e.length&&(M(".zgs19_gsPopupSearch").remove(),T.isOpenDoubleClickPopup=!1)})},T.pcPageDirAndTheme=function(){var e={};return 0==T.gscomponent.UIType||4==T.gscomponent.UIType?T.GSConstant.hasOwnProperty("SUPPORTED_THEME")&&(e.theme=T.getTheme()):1==T.gscomponent.UIType&&M("body").attr("class").includes("zsNightMode")&&(e.theme="zsNightMode"),T.gscomponent.hasOwnProperty("isRTLEnabled")&&(e.pageDirection=T.gscomponent.isRTLEnabled?"rtl":""),e},T.pcGSElemSize=function(){var e,s;T.isPreviewOpenedInComponent&&(M("#zgs20_pcSearch").css("height",M("#zgs20_pcSearch").parent().height()+"px"),M("#zgs20_pcSearch").css("width",M("#zgs20_pcSearch").parent().width()+"px"),s=T.pc.containerMap[M("#zgs20_pcSearch").parent()[0].id].service,e=T.mappedServiceList[s].callout,s=M("#zgs20_pcSearch > .zgs19_gsServiceCalloutHolder")[0],T[e].setServiceEleSize("","",s))},T.pcViewport&&T.hasOwnProperty("gscomponent")&&T.pcViewport.removeEventListener("click",T.pcClickEvent,!0),T.pcClickEvent=function(e){try{var s=e.target,t=M(s),a=t.attr("gs"),r=t.attr("service");switch(T.pcClickEventTrig=!1,a){case"calloutActionOptions":T.actionListCallbackHandler(s,e);break;case"ctitle":case"clink":case"streamsPage":case"streamsmorecomment":case"streamsptpmorecomment":case"streamsmoretimeline":T.stopEvent(e),T.clickActionForCalloutTitle(s,e);break;case"showprivatetopostcomments":T.gsstreams.showPrivateToPostComments(t);break;case"hideprivatetopostcomments":T.gsstreams.hidePrivateToPostComments(t);break;case"showprivatecomments":T.gsstreams.showPrivateComments(t);break;case"hideprivatecomments":T.gsstreams.hidePrivateComments(t);break;case"streams_bm_link":case"gsBMLinkImg":var o=t.attr("bm_link");T.openInNewTab(o);break;case"deskWebsite":var i=t.attr("url");T.openInNewTab(i),T.stopEvent(e);break;case"shareInWD":var n=(T.hasOwnProperty("commonSearchActions")?T.commonSearchActions:new T.dashboardSearchActions).createActionType(s),l=T.isPreviewOpenedInComponent?T.pcResObj:n?n.getCurrentResultObj():{};T.shareInWD(r,l,s,l.dId);break;case"attachtitle":var g=T.mappedServiceList[r].callout;(r==T.GSConstant.ASANA?T.projectMgmtCalloutObj:T[g]).downloadAttachment(s);break;case"contactsurl":var i=t.attr("url"),c=T.getComponentType();c&&T[c].isPreviewHandlerEnabledInSuiteApp?T[c].previewHandler(r,i):(r=M(T.curSelectedEle).attr("service"),T.hideZiaForSameDomain(r),T.openInNewTab(i)),T.stopEvent(e);break;case"ext_img_text":T.gsmails.loadExtImg();break;case"moreStories":T.projectMgmtCalloutObj.getStories();break;case"moreAttachments":T.projectMgmtCalloutObj.getAttachments();break;case"hideStories":T.projectMgmtCalloutObj.hideMoreSectionResults("Stories");break;case"hideAttach":T.projectMgmtCalloutObj.hideMoreSectionResults("Attachments");break;case"moreAsanaProjects":var d=new T.ZSProjectMgmtFactory,p={};p.service_name=T.GSConstant.ASANA,d.createProjectMgmtInstance(p).getMoreProjectsDetails(s);break;case"moveToGmailAttachArea":document.getElementById("zgs20_gmailIframePrev").contentWindow.postMessage({action_type:"moveToGmailAttachArea"},T.getURLOrginName(T.GSConstant.cloud_preview_domain));break;case"gmailLabelDropdown":var u,h=M(t).siblings("#zgs20_gsGmailLabelsDropDownContainer"),_=M(M(s).parentsUntil(".zgs19_gsSearchResultTable").get(-1)).parent().attr("index"),m=M(M(s).parentsUntil(".zgs19_gsCardResultTable").get(-1)).parent().attr("index"),z=0!=_&&0!=m,v=M(s)[0]===M("#zgs20_gsCalloutUserLabelHeader .zgs19_gsShowHiddenLabelCount")[0];!v&&0==M(M(s).parentsUntil(".zgs19_gsSearchResultTable").get(-1)).parent().next().length&&0==M(M(s).parentsUntil(".zgs19_gsCardResultTable").get(-1)).parent().next().length&&z&&(M(t).siblings().find(".zgs19_gmailLabelPseudoTail").addClass("zgs19_invertedGmailLabelPseudoTail").removeClass("zgs19_gmailLabelPseudoTail"),h.addClass("zgs19_blockHeightForInvertedContainer")),"none"==M(s).parent().find("#zgs20_gsGmailLabelsDropDownContainer").css("display")?h.show():h.hide(),v&&(u=M(M(s).parentsUntil(".zgs19_gsServiceCalloutHolder")).get(-1).getBoundingClientRect().right-M("#zgs20_gsCalloutUserLabelHeader .zgs19_gsShowHiddenLabelCount").get(0).getBoundingClientRect().right,M("#zgs20_gsCalloutUserLabelHeader #zgs20_gsGmailLabelsDropDownContainer").css("inset-inline-end",u-125)),M(h).css("width","auto"),M(h).css("width",M(h).width()+18+"px");break;default:var f=T.getParentNode(s,"tabPage");if(f)return void T.clickActionForCalloutTitle(f,e);T.pcClickEventTrig=!0,T.finalClickEventHandling(s,e)}}catch(e){T.throwClientError("Error in preview click event.",e)}},T.pcViewport&&T.hasOwnProperty("gscomponent")&&T.pcViewport.addEventListener("click",T.pcClickEvent,!0),T.finalClickEventHandling=function(e,s){if(T.pcClickEventTrig&&(!T.hasOwnProperty("clickEvent")||T.clickEventTrig)&&"A"==e.nodeName){var t=M(e).attr("href");if(0==t.indexOf("mailto:"))return T.startComposeMail(e,"href"),void T.stopEvent(s);if(0==t.indexOf("http")){e=T.getComponentType();return e&&T[e].isPreviewHandlerEnabledInSuiteApp?T[e].previewHandler(service,t):T.openInNewTab(t),void T.stopEvent(s)}}T.pcClickEventTrig=!1,T.clickEventTrig=!1},T.actionListCallbackHandler=function(e,s){T.commonSearchActions=T.hasOwnProperty("commonSearchActions")?T.commonSearchActions:new T.dashboardSearchActions,T.gsaction.currSearchType=T.commonSearchActions.createActionType(e);var t={};t=T.isPreviewOpenedInComponent?T.pcResObj:T.gsaction.currSearchType?T.gsaction.currSearchType.getCurrentResultObj():{};var a=e.getAttribute("service"),r=M(e).attr("value"),o=T.getCurrentSelectedElem();switch(T.setGSTagElems(o),r){case"open":T.clickActionForCalloutTitle(e,s);break;case"reply":case"replyall":case"fwdi":var i=t.account_id,n=t.message_id||t[T.entity_id];T.gsmails.mailReplyActionHandler(i,n,r,e);break;case"read":T.readMailstatusCalloutActions(a,o,t,e);break;case"unread":T.unreadMailstatusCalloutActions(a,o,t,e);break;case"watch":case"unwatch":T.gsstreams.toggleWatchStatus(o,t,r,"",e);break;case"continue":T.continueForCalloutAction(a,t,e,s);break;case"pcontinue":T.chatAction(e,"chat",s,t);break;case"download":T.downloadForCalloutAction(a,t,e);break;case"sendMail":T.startComposeMail(e,"email");break;case"audio":case"video":n=t.zuid||"";T.getSearchType()===c.CALENDAR&&(n=T.eventHostZUID),T.startAudioVideoCall(n,r);break;case"copyLink":T.copyUrl(e,s,t);break;case"edit":T.gscrm.editRecord(a);break;case"savePreview":T.gssavedsearches.displaySavedSearchDialog(T.getI18NMsg("gs.preview_card.save_preview_title"),"savePreview");break;case"addToWD":T.openInWD(a,t,e);break;case"shareInWD":var l=(T.hasOwnProperty("commonSearchActions")?T.commonSearchActions:new T.dashboardSearchActions).createActionType(e);t=T.isPreviewOpenedInComponent?T.pcResObj:l?l.getCurrentResultObj():{},T.shareInWD(a,t,e,t.dId);break;case"favourites":case"properties":l=T.gsaction.currSearchType.getCurrentResponseObj();T.serviceActions(e,r,t,l)}},T.clickActionForCalloutTitle=function(e,s){var t=M(e).parents(".zgs19_gsCCPrevCont");if(T.isPreviewOpenedInComponent&&T.hasOwnProperty("pccomponent")&&T.pccomponent.hasOwnProperty("onOpen"))T.pccomponent.onOpen();else if(0<t.length)T.stopEvent(s);else{T.commonSearchActions=T.hasOwnProperty("commonSearchActions")?T.commonSearchActions:new T.dashboardSearchActions,T.gsaction.currSearchType=T.commonSearchActions.createActionType(e);var a=T.gsaction.currSearchType?T.gsaction.currSearchType.getCurrentResultObj():{},r=T.gsaction.currSearchType?T.gsaction.currSearchType.getCurrentResponseObj():{};M.isEmptyObject(a)&&(a=r);t=M(e).attr("service"),r=T.fetchCalloutUrl(t,a,e,r);if(t==c.CHAT)T.chatAction(e,"continue",s,a);else{if(t==c.MAILS){if(A.hasOwnProperty("zmList")&&zmList.hasOwnProperty("getMailData")||T.isGSOpenedInServiceSuiteApp)try{var o=a.account_id,i=a.message_id||a[T.entity_id];return T.gscomponent.isActionHandlerEnabledInSuiteApp&&!T.isPreviewOpenedInComponent?void T.gscomponent.actionHandler(c.MAILS,"zmList.getMailData",[{from:"zia",accId:o,msgId:i,opentype:2,type:"lt",src:"external"}]):(zmList.getMailData({from:"zia",accId:o,msgId:i,opentype:2,type:"lt",src:"external"}),void T.globalToggleHandling())}catch(e){T.throwClientError("Error in getting Mail data.",e)}}else if(t==c.CLIQ){if(T.isCliqDomain||T.isGSOpenedInServiceSuiteApp)return void T.openChat(e,"continue",s,a)}else if(t==c.CALENDAR){if(T.isGSOpenedInServiceSuiteApp){var n="";switch(a.sId){case"4":n="Mail";break;case"9":n="Desk";break;case"8":n="CRM";break;case"31":n="Bigin"}e=T.getComponentType();return e&&T[e].isPreviewHandlerEnabledInSuiteApp&&T[e].previewHandler(c.CALENDAR,r,n,{eventId:a.eId||a[T.entity_id],calId:a.cId}),void T.stopEvent(s)}}else if(t==c.WORKDRIVE){var l=T.getComponentType();if(l&&T[l].isPreviewHandlerEnabledInSuiteApp)return T[l].previewHandler(t,r),void T.stopEvent(s)}r&&((l=T.getComponentType())&&T[l].isPreviewHandlerEnabledInSuiteApp?T[l].previewHandler(t,r):(T.isPreviewOpenedInComponent||T.hideZiaForSameDomain(t),T.openInNewTab(r)),T.stopEvent(s))}}},T.fetchCalloutUrl=function(e,s,t,a){var r=(a=a||{})[T.account_id]||s[T.account_id]||s.accId||a.accId||"";return r=r||(t?(new T.dashboardSearchActions).createActionType(t).getCurrAccId():T.getResultAccountId()),T.fetchCalloutUrlByAccId(e,s,r,a)},T.fetchCalloutUrlByAccId=function(s,t,a,r={}){var o,i,n="";switch(s){case c.MAILS:t&&(o=t.account_id||r[T.account_id],i=t.message_id||r[T.entity_id],n=c.GS_MAIL_URL+"/zm/popMail.do?accId="+o+"&msgId="+i);break;case c.STREAMS:t&&(o=t.gId||r[T.account_id]||"",i=t.id||t[T.entity_id]||"",l=t.entityType||"",n=c.GS_MAIL_URL+"/zm/#stream/tab/"+o+"/"+i+"/"+l+"/viewGroupEntity");break;case c.DROPBOX:t&&(n=t.url||"https://www.dropbox.com/preview/"+t.file_name);break;case c.GOOGLEDRIVE:t&&(n=t.url||"https://drive.google.com/file/d/"+t.entity_id+"/view");break;case c.WORKDRIVE:var l=t.dId||r[T.entity_id];n="true"===t.isF?c.GS_WORKDRIVE_URL+"/folder/"+l:c.GS_WORKDRIVE_URL+"/file/"+l;break;case c.PEOPLE:var g=t.pkid||r[T.entity_id]||"";n=c.GS_PEOPLE_URL+"/hr#home/dashboard/profile-userId:"+g;break;case c.CLIQ:n=c.GS_CLIQ_URL+"/chats/"+(t.cid||r.cid||t[T.entity_id]||"");break;case c.SUPPORT:n=T.gssupport.openSupportResult(t,a,r);break;case c.CONNECT:n=t.url;break;case c.LEARN:n=T.gslearn.openLearnResult(t,!1,a);break;case c.WIKI:n=T.gswiki.openWikiResult(t,!1,r);break;case c.WEBSITE:n=t.pk_id||t[T.entity_id];break;case c.CRM:n=T.crmRecordOpen(t,a);break;case c.REPORTS:n=T.gsreports.openReportsResult(t);break;case c.CREATOR:n=T.gscreator.openCreatorResult(t);break;case c.ORGRESOURCES:n=T.gsconnector.openConnectorResult(t);break;case c.BOOKS:case c.INVOICE:case c.INVENTORY:n=T.gsbooks.openBooksResult(s,a,t,r);break;case c.CAMPAIGNS:n=T.gscampaign.openCampaignsResult(t,a,r);break;case c.BOX:t&&(n=t.url||"https://app.box.com/file/"+t.entity_id||"");break;case c.SLACK:n=t.link||"";break;case c.O365MAIL:!(n=t.webLink||"")&&t.entity_id&&(n="https://outlook.live.com/owa/?ItemID="+t.entity_id+"&exvsurl=1&viewmodel=ReadMessageItem");break;case c.ONEDRIVE:t&&!(n=t.webUrl||"")&&t.driveId&&t.entity_id&&(n="https://onedrive.live.com?cid="+t.driveId+"&id="+t.entity_id);break;case c.ZENDESK:t&&(n=t.external_url||"");break;case c.SALESFORCE:n=t["Open Url"];break;case c.CALENDAR:n=T.gscalendar.openCalendarResult(t,r);break;case c.NOTEBOOK:n=T.gsnotebook.getNotebookResultURL(t);break;case c.ASANA:n=t.open_link||T.projectMgmtCalloutObj.getCalloutResponse().task_info.open_link;break;case c.BIGIN:n=T.gscrm.openBiginResult(t,a);break;case c.EVERNOTE:t&&!(n=t.openUrl||"")&&t.entity_id&&(n="https://www.evernote.com/u/0/client/web#/note/"+t.entity_id);break;case c.PROJECTS:g={service_name:c.PROJECTS,acc_id:a||t[T.account_id]};let e=(new T.ZSProjectMgmtFactory).createProjectMgmtInstance(g);n=e.getCalloutURL(t);break;case c.GMAIL:t&&(n=t.webLink||"https://mail.google.com/mail#all/"+t.entity_id||"");break;case c.SALESIQ:n=T.gssalesiqcallout.getUrl(t,a)}return n},T.startComposeMail=function(e,s){var t="mailto:",a=M(e).attr(s),s=T.getConstAllServList()||[];T.isArrayContain(c.MAILS,s)?(0==a.indexOf(t)&&(a=a.substr(t.length)),T.gscomponent.isActionHandlerEnabledInSuiteApp?T.gscomponent.actionHandler(c.MAILS,"zmUtil.compose",[{TO:a}]):(s=c.GS_MAIL_URL+"/zm/comp.do?to="+a+"&"+T.originParam+"&zgsearch=true",T.gsmails.loadMailCalloutIframe(s,e))):(0!=a.indexOf(t)&&(a=t+a),T.openInNewTab(a))}}(zgssearch,window),function(n,e){n.pulseNetworkId={},n.pulseNetworkURL={},n.learnSoidVsHubURL={};var l=e._jQueryGS;n.stopEvent=function(e){e&&(e.preventDefault(),e.stopPropagation())},n.dashboardSearchActions=function(){this.createActionType=function(e){var s;return n.hasOwnProperty("gsdbUtils")&&n.isDashboardViewOpened()?(s=new n.dashboardActions).setCardFromCallout(e):n.hasOwnProperty("gscardUtils")&&n.isCardViewOpened()?(s=new n.cardPagePreviewActions).setCurrentCard():s=new n.searchActions,s}},n.getUserStatus=function(e,s){var t="",a="",r="",o=n.isWMSChatPaused();return e&&"-1"!==e&&!o&&(o="big"==s?"zgs19_gsWMSUserStatusBig":"zgs19_gsWMSUserStatus",(s=n.getWMSUserContacts()).hasOwnProperty(e)&&(0==(r=s[e].STATUS)?(t=o+" zgs19_gsWMSOffline",a=n.getI18NMsg("gs.search.iam.offline")):1==r?(t=o+" zgs19_gsWMSOnline",a=n.getI18NMsg("gs.search.iam.online")):2==r?(t=o+" zgs19_gsWMSInvisible",a=n.getI18NMsg("gs.search.iam.invisible")):3==r?(t=o+" zgs19_gsWMSBusy",a=n.getI18NMsg("gs.search.iam.busy")):4==r&&(t=o+" zgs19_gsWMSIdle",a=n.getI18NMsg("gs.search.iam.idle")))),{name:t,tip:a,status:r}},n.getWMSUserContacts=function(){return"undefined"!=typeof WmsContacts&&WmsContacts.getcontacts?WmsContacts.getcontacts():{}},n.getCookie=function(e){for(var s=e+"=",t=document.cookie.split(";"),a=t.length,r=0;r<a;r++){var o=t[r].trim();if(0===o.indexOf(s))return o.substring(s.length,o.length)}return""},n.renderPhoto=function(t,e,a,r,o,i){n.network.imageRenderer.renderImage(e,null,function(e){fail=function(e,s,t,a){t?n.handlePhotoRender(s,e,n.gsspacer,t):a?(t=l(s).parent()[0],l(s).remove(),l(t).prepend(a)):n.renderCalloutNoUserPhoto(e.getAttribute("gs"),e.getAttribute("group")),n.removeEle(e)};var s=l("<img>",{class:"zgs19_gsDisplayNone",gs:t})[0];e?l(s).attr("src",e).off().on({load:function(){n.handlePhotoRender(o,this,this.src,a),n.removeEle(this)},error:function(){fail(this,o,r,i)}},!0):this.fail(s,o,r)})},n.handlePhotoRender=function(e,s,t,a){e&&null!=e?l(e).attr("src",t).attr("class",a):(s=n.getTargetElem(s.getAttribute("gs")))&&l(s).attr("src",t).attr("class",a)},n.hasAudioSupport=function(){return!(!n.hasWebMessanger||void 0===WebMessanger.isMediaCallEnabled)&&WebMessanger.isMediaCallEnabled("voice")},n.hasVideoSupport=function(){return!(!n.hasWebMessanger||void 0===WebMessanger.isMediaCallEnabled)&&WebMessanger.isMediaCallEnabled("video")},n.iterResultObjData=function(e,s,t,a){e===n.GSConstant.CONNECT&&(n.pulseNetworkId[s]=t.network_id||t.networkId,n.pulseNetworkURL[s]=t.network_url||t.networkURL),e===n.GSConstant.LEARN&&(n.learnSoidVsHubURL[s]=t.hub_url),e===n.GSConstant.CLIQ&&(t.title&&"No Title"!=t.title||(s=n.chidVsMeta||{},!(e=t.cid||"")&&a&&(e=a[0].cid),e=(s.hasOwnProperty(e)?s[e]:{}).title||n.getI18NMsg("gs.search.service_connect.callout.noTitle"),t.title=n.replaceHTMLEntity(e)||""))},n.getThumbPhotoURL=function(e){return n.GSConstant.GS_CONTACTS_URL+"/file?fs=thumb&t=user&ID="+e+n.nps},n.getPosttypeCls=function(e){var s="",t="";switch(e){case"POLL":case"ANNOUNCEMENT":case"QUESTION":case"IDEA":case"TASK":case"BROADCAST":case"ZOHOSURVEY":case"VIDEOCONF":t=n.getI18NMsg("gs.search.service_connect."+e.toLowerCase()),s="zgs19_callout_ptype zgs19_gsDisplayBlockImp zgs18_cPT_"+e;break;case"EVENT":t=n.getI18NMsg("gs.search.filter.events"),s="zgs19_callout_ptype zgs19_gsDisplayBlockImp zgs18_cPT_"+e}return{class:s,title:t}},n.getConnectPartitionElem=function(e,s){var t="",a="",r=n.GSConstant.cuz||null,o="",i="",a=e.hasOwnProperty("pname")?(t=n.replaceHTMLEntity(e.pname),e.pzuid||""):(t=e.author||"",e.zuid||""),e=t;return""!=a&&"-1"!=a&&(r==a?e=t=n.getI18NMsg("gs.search.service_connect.mywall"):(e+="'s "+n.getI18NMsg("gs.search.service_connect.wall"),o=n.hasOwnProperty("gscomponent")&&"en"===n.gscomponent.gslanguage||n.hasOwnProperty("pccomponent")&&"en"===n.pccomponent.gslanguage?l("<span>",{class:s}).html("&#39;s"):"",i=l("<span>",{gstitle:e}).text(n.getI18NMsg("gs.search.service_connect.wall")))),[l("<span>",{gstitle:e}).text(t),o,i,e]},n.getDocResTT=function(e){return n.isSetTT||(n.isSetTT=!0,n.docsImgObj={zgs19_explorer:n.getI18NMsg("gs.search.result.document.explorer"),zgs19_writer:n.getI18NMsg("common.writer"),zgs19_sheet:n.getI18NMsg("common.sheet"),zgs19_show:n.getI18NMsg("common.show"),zgs19_undefinedtype:n.getI18NMsg("common.undefined_docstype"),zgs19_pdf:n.getI18NMsg("common.pdf"),zgs19_video:n.getI18NMsg("common.video"),zgs19_image:n.getI18NMsg("common.image"),zgs19_html:n.getI18NMsg("common.html"),zgs19_music:n.getI18NMsg("common.music"),zgs19_zip:n.getI18NMsg("common.zip"),zgs19_folder:n.getI18NMsg("gs.search.result.document.folder"),zgs19_wiki:n.getI18NMsg("gs.search.result.document.wiki"),zgs19_word:n.getI18NMsg("gs.search.result.document.word"),zgs19_power:n.getI18NMsg("gs.search.result.document.powerpoint"),zgs19_xl:n.getI18NMsg("gs.search.result.document.xl"),zgs19_txt:n.getI18NMsg("gs.search.result.document.txt")}),n.docsImgObj[e]||""},n.getCalendarServiceName=function(e){switch(e){case"4":return n.getI18NMsg("gs.search.service_mails");case"8":return n.getI18NMsg("gs.search.service_crm");case"9":return n.getI18NMsg("gs.search.service_desk");case"31":return n.getI18NMsg("gs.search.service_bigin")}},n.endsWith=function(e,s){return e.match(s+"$")==s},n.updateSpecificAccountDetails=function(e,s,t){e!==n.GSConstant.CAMPAIGNS||l.isEmptyObject(t)||(n.campaigns_version[t.modId]=t.version),e===n.GSConstant.PROJECTS&&t&&(n.gsprojectsutils.timezoneData[s]={timezone:t.timezone,offset:t.formatted_timezone_offset})},n.getWMSUserContacts=function(){return"undefined"!=typeof WmsContacts&&WmsContacts.getcontacts?WmsContacts.getcontacts():{}},n.loadResNoPhotoImg=function(e){var s=n.getTargetElem(e);s&&(n.setGSTagElems(s),s.gsUserPhoto&&(e="true"==l(s.gsUserPhoto).attr("group")?"zgs19_gsChatGroupIcon":"zgs19_gsResNoUserPhoto",l(s.gsUserPhoto).attr("src",n.gsspacer),l(s.gsUserPhoto).removeClass("zgs19_gsFetchImgLoader zgs19_gsResFetchLoader").addClass("zgs19_gsResultsUniIcons "+e)))},n.isPreviewCard=function(e){return e.cardCalloutType&&"preview"==e.cardCalloutType},n.loadCalloutNoPhotoImg=function(e){e=n.getTargetElem(e);e&&(l(e).attr("src",n.gsspacer),l(e).removeClass("zgs19_gsFetchLoader").removeClass("zgs19_gsResFetchLoader").addClass("zgs19_gsResultsUniIcons zgs19_gsCalloutNoUserImg"))},n.hexToRgb=function(e){e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},n.rgbaToRgb=function(e){e=e.slice(e.indexOf("(")+1,e.indexOf(")")).split(", ")[0].split(",");return e?{r:e[0],g:e[1],b:e[2]}:null},n.getMailImageStatus=function(e){var s={};switch(e){case 0:s.servImg=1,s.image="zgs18_gsMailUnReadIcon",s.toBeImage="zgs18_gsMailReadIcon",s.title=n.getI18NMsg("common.unread"),s.toBeTitle=n.getI18NMsg("gs.search.result.mail.status.read");break;case 1:s.servImg=0,s.image="zgs18_gsMailReadIcon",s.toBeImage="zgs18_gsMailUnReadIcon",s.title=n.getI18NMsg("gs.search.result.mail.status.read"),s.toBeTitle=n.getI18NMsg("common.unread");break;case 2:s.servImg=3,s.image="zgs18_gsMailUnReadReplyIcon",s.toBeImage="zgs18_gsMailReadReplyIcon",s.title=n.getI18NMsg("gs.search.result.mail.status.unreadreply"),s.toBeTitle=n.getI18NMsg("gs.search.result.mail.status.readreply");break;case 3:s.servImg=2,s.image="zgs18_gsMailReadReplyIcon",s.toBeImage="zgs18_gsMailUnReadReplyIcon",s.title=n.getI18NMsg("gs.search.result.mail.status.readreply"),s.toBeTitle=n.getI18NMsg("gs.search.result.mail.status.unreadreply");break;case 4:s.servImg=5,s.image="zgs18_gsMailUnReadForwardIcon",s.toBeImage="zgs18_gsMailReadForwardIcon",s.title=n.getI18NMsg("gs.search.result.mail.status.unreadforward"),s.toBeTitle=n.getI18NMsg("gs.search.result.mail.status.readforward");break;case 5:s.servImg=4,s.image="zgs18_gsMailReadForwardIcon",s.toBeImage="zgs18_gsMailUnReadForwardIcon",s.title=n.getI18NMsg("gs.search.result.mail.status.readforward"),s.toBeTitle=n.getI18NMsg("gs.search.result.mail.status.unreadforward")}return s}}(zgssearch,window),function(v){var f,C=window._jQueryGS,u=v.getGSConstantObj()||{};v.gsaction=(f=void 0,(f=v.gsaction||{}).calloutEditFieldsAction=function(e){var s=C(e).attr("datatype"),t=new v.dashboardSearchActions;switch(f.currSearchType=t.createActionType(e),s){case"crmOwnerChange":case"deskOwnerChange":case"biginOwnerChange":f.renderEditFieldsUI(e,s);break;case"dueDateChange":v.loadDatePicker(v.gssupport.createDateTimepicker.bind(null,e));break;case"statusChange":v.gssupportaction.renderStatusOptionUI(e);break;case"closeEditFields":v.hideEditFieldsList(),v.gsaction.currSearchType={};break;case"changeEditFields":v.currEditFieldselecelem&&f.clickActionForEditList(v.currEditFieldselecelem)}},f.getEditFieldsHolder=function(e,s,t,a,r){return C("<div>",{id:"zgs20_gsEditFieldsHolder",class:"zgs19_gsEditFieldsHolder zgs19_gsBoxShadowPopup zgs19_gsDisplayNone",gs:"editFieldsList",datatype:e}).append(C("<div>",{id:"zgs20_gsEditFieldsHeader",class:"zgs19_gsModuleFilterWidgetHeader zgs19_gsDisplayNone",gs:"editFieldsHeader"}).append(C("<div>",{id:"zgs20_gsEditFieldsQryHolder",class:"zgs19_gsFilterQueryHolder zgs19_gsModuleFilterWidgetFocusOut"}).append(C("<span>",{class:"zgs19_gsFilterQueryIconNotify zgs18_gsLensIconTab"})).append(C("<input>",{id:"zgs20_gsEditFieldsQrybox",class:"zgs19_gsFilterQueryBox zgs19_gsBorderBox",type:"text",placeholder:s})))).append(C("<div>",{id:"zgs20_gsEditFieldsFooter",class:"zgs19_gsOverflowAuto"})).append(C("<div>",{id:"zgs20_gsEditFieldsNotify",class:"zgs19_gsEditFieldsNotify zgs19_gsHideEleme zgs19_gsModuleFilterWidgetHeader zgs19_gsOverflow"}).append(C("<input>",{class:"zgs19_gsEditFieldsCheck  zgs19_gsCurPointer",type:"checkbox"})).append(C("<span>",{gstitle:t}).text(t))).append(C("<div>",{id:"zgs20_gsEditFieldsBottom",class:"zgs19_gsEditFieldsBottom"}).append(C("<input>",{class:"zgs19_gsEditFieldsBottom1 zgs19_gsOverflow zgs19_gsCurPointer zgs19_gsfr",type:"button",gstitle:a,value:a,gs:"CalloutEditFields",datatype:"changeEditFields"})).append(C("<input>",{class:"zgs19_gsEditFieldsBottom2 zgs19_gsOverflow zgs19_gsCurPointer zgs19_gsfr",type:"button",gstitle:r,value:r,gs:"CalloutEditFields",datatype:"closeEditFields"})))},f.getEditFieldsChild=function(e,s){return C("<div>",{id:"zgs20_gsEditFieldsChild"+e,class:"zgs19_gsEditFieldsChild zgs19_gsQuerySugguser zgs19_gsCurPointer",datatype:s}).append(C("<div>",{class:"zgs19_gsSearchResultRow"}).append(C("<div>",{class:"zgs19_gsSuggUserCell3"}).append(C("<input>",{class:"zgs19_gsEditFieldsRadio",type:"radio"}))).append(C("<div>",{class:"zgs19_gsSuggUserCell1"}).append(C("<div>",{class:"zgs19_gsUniIconHolder"}).append(C("<img>",{class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl",gs:"gsUserPhoto",src:v.gsspacer})))).append(C("<div>",{class:"zgs19_gsSuggUserCell2"}).append(C("<div>",{class:"zgs19_gsSuggUserTitle zgs19_gsOverflow"}).append(C("<span>",{id:"zgs20_gsEditFieldsChildName"+e,istip:!0,class:"zgs19_gsAutoSuggChildName zgs19_gsOverflow"}))).append(C("<div>",{class:"zgs19_gsSuggUserAuthor zgs19_gsOverflow"}).append(C("<span>",{id:"zgs20_gsEditFieldsChildEmail"+e})))))},f.displayEditFieldsUI=function(e,s){v.isEditFieldsDisplay=!0,C("#zgs20_gsEditFieldsHolder").show(),C("#zgs20_gsEditFieldsFooter").scrollTop(0),C("#zgs20_gsEditFieldsFooter").scrollLeft(0),C(e).addClass("zgs19_gsboxholder zgs19_gsboxholderbot");var t=s||(v.isCardPageOpened||v.isDashboardOpened?"calc(100% - 150px)":300),a=e.getBoundingClientRect();a.width>t&&(t=a.width-2),C("#zgs20_gsEditFieldsHolder").css("width",t),C("#zgs20_gsEditFieldsHolder").css("max-width",300),C("#zgs20_gsEditFieldsFooter").css("maxHeight",240),C("#zgs20_gsEditFieldsFooter").css("border-bottom","1px solid #dadada");var r=300<t?300:t,s=(C(e).outerHeight(!0),C(f.currSearchType.getCalloutParent(e).querySelector('[gs="calloutData"]'))),t=f.currSearchType.getCalloutParent(e).querySelector('[gs="metaInfo1"]'),t=C(t||s).width();let o=0,i=0;s[0]&&(o=parseInt(C(s).css("padding-top").replace("px","")),i=v.gscomponent.isRTLEnabled?i:10);let n=e.offsetLeft+i;n=v.gscomponent.isRTLEnabled?n+r>t?n-(r-a.width+1):n+1:n+r>t?n-(n+r-t+5):n;e=o+e.offsetHeight+e.offsetTop-2;C("#zgs20_gsEditFieldsHolder").css("inset-block-start",e),C("#zgs20_gsEditFieldsHolder").css("left",n)},f.clickActionForEditList=function(e){var s=C(e).attr("datatype");switch(s){case"crmOwnerChange":case"deskOwnerChange":case"biginOwnerChange":f.clickEditFieldsUI(e,s)}},f.updateEditFieldsHeight=function(e){var s=f.currSearchType.getCalloutParent(e),t=C(s).outerHeight(),e=f.currSearchType.getTargetElem(".zgs19_gsCalloutHeader"),s=0,s=t-C(e).outerHeight()-C("#zgs20_gsEditFieldsHolder").position().top-51-50-(s="none"!=C("#zgs20_gsEditFieldsNotify").css("display")?35:s)-20;C("#zgs20_gsEditFieldsFooter").css("maxHeight",s)},f.renderEditFieldsUI=function(e,s){v.isEditFieldsLoader=!1,v.isEditFieldsLoaderUI=!1;var t=f.currSearchType.getTargetElem("#zgs20_gsEditFieldsHolder"),a=C(t).css("display");if(null==a&&"none"==a||C(t).attr("datatype")!=s&&v.hideEditFieldsList(),null==(a=C("#zgs20_gsEditFieldsHolder").css("display"))||"none"===a){v.hideEditFieldsList();var r,o,i,n=[],l={},g={},c=!1,d="",p="",u=v.getI18NMsg("common.search"),a="";"crmOwnerChange"==s||"biginOwnerChange"==s?(p="block",r=f.currSearchType.getTargetElem("#zgs20_gsCrmImpInnerContent"),a=v.getI18NMsg("gs.search.callout.crm.change"),d=f.currSearchType.getCurrentCRMOwner()||"",o=f.currSearchType.getServiceName(),i=f.currSearchType.getCurrAccId(),c=v[o+"OrgInfo"].isUserExists(i),l=v[o+"OrgInfo"].getUsersInMod(i),g={type:s,tarElem:e}):"deskOwnerChange"==s&&(p="none",r=f.currSearchType.getTargetElem("#zgs20_gsCalloutMetaInfo"),a=v.getI18NMsg("gs.search.callout.crm.assign"),d=v.gssupport.assigneeId||"",o=f.currSearchType.getCurrentResultObj(),i=f.currSearchType.getCurrAccId(),h=v.gssupportaction.getSupportUnAssObj(),_=v.gssupportaction.getSupportContactsObj(i,o.DEP_ID),c=v.gssupportaction.isSupportDeptAgentExists(i,o.DEP_ID),g={curPortalId:i,curDeptId:o.DEP_ID,type:s,tarElem:e},l=C.extend({},h,_));var h=v.getI18NMsg("common.cancel"),_=v.getI18NMsg("gs.search.callout.crm.notify_owner"),t=f.getEditFieldsHolder(s,u,_,a,h);if(C(r).append(t),c){for(var m in l){var z=l[m];if(("null"!=d||"Unassigned"!=m)&&(v.isArrayContain(m,n)||d==m||(n.push(m),f.renderEditFieldsChild(m,z,s,"")),10<=n.length))break}C("#zgs20_gsEditFieldsNotify").css("display",p),C("#zgs20_gsEditFieldsBottom").css("display","block"),n.length<1&&(C("#zgs20_gsEditFieldsFooter").append(C("<span>",{class:"zgs19_gsEditFieldNoUser"}).text(v.getI18NMsg("common.no_users"))),C("#zgs20_gsEditFieldsNotify").css("display","none"),C("#zgs20_gsEditFieldsBottom").css("display","none")),f.displayEditFieldsUI(e),n.length<=5&&(C("#zgs20_gsEditFieldsHeader").show(),v.focusForWeb("zgs20_gsEditFieldsQrybox")),v.isDashboardViewOpened()&&f.updateEditFieldsHeight(e)}else"deskOwnerChange"!=s&&"crmOwnerChange"!=s&&"biginOwnerChange"!=s||f.addLoaderForEditFields(g),f.displayEditFieldsUI(e)}else v.hideEditFieldsList()},f.renderEditFieldsChild=function(e,s,t,a){var r=v.gsautocomplete.getSuggestIndex(),o=f.getEditFieldsChild(r,t);C(o).attr("index",r),C("#zgs20_gsEditFieldsFooter").append(o);var i=v.replaceHTMLEntity(e),n=v.replaceHTMLEntity(s.full_name),l=v.replaceHTMLEntity(s.email),t=v.gsautocomplete.gethighlighttext(n," "+a,!1),o={class:"zgs19_gshighlight"},l=l&&"null"!=l.toLowerCase()?l:"",e=v.gssecurity.getHighlightTextNode(t.prefix,t.match,t.suffix,o);v.getTargetElem("zgs20_gsEditFieldsChildName"+r).appendChild(e);a=0==t.isMatched?v.gsautocomplete.gethighlighttext(l," "+a,!0):{prefix:l},o=v.gssecurity.getHighlightTextNode(a.prefix,a.match,a.suffix,o);v.getTargetElem("zgs20_gsEditFieldsChildEmail"+r).appendChild(o),C("#zgs20_gsEditFieldsChildName"+r).attr("gstitle",n),C("#zgs20_gsEditFieldsChildEmail"+r).attr("gstitle",l),C("#zgs20_gsEditFieldsChild"+r).attr("oid",i);s=s.zuid;s&&"-1"!==s?(s=v.getThumbPhotoURL(s),v.updateUserPhoto("zgs20_gsEditFieldsChild"+r,s)):v.loadResNoPhotoImg("zgs20_gsEditFieldsChild"+r),v.addEventForEditFieldsQueryBox()},f.clickEditFieldsUI=function(e,s){var t,a,r,n,o=v.gsaction.currSearchType.getCurrentResultObj(),i=v.gsaction.currSearchType.getCurrentResponseObj(),l="",g="",c=v.gsaction.currSearchType.getServiceName(),d=C(e).attr("oid"),p=C(e).find(".zgs19_gsAutoSuggChildName").attr("gstitle");"crmOwnerChange"==s||"biginOwnerChange"==s?(g=v.gsaction.currSearchType.getCurrentCRMOwner(),t=C("#zgs20_gsEditFieldsHolder").find(".zgs19_gsEditFieldsCheck").prop("checked")||!1,a="biginOwnerChange"===s?"updateBiginRecords":"updateCRMRecords",r=v.gsaction.currSearchType.getCurrAccId(),e=c==v.GSConstant.CRM?"crmMod":c==v.GSConstant.BIGIN?"module":"",l="action="+a+"&entityId="+(o.id||i[v.entity_id])+"&"+e+"="+v.gscrm.getMod(o)+"&ownerID="+encodeURIComponent(d)+"&notify="+t+"&orgId="+r):"deskOwnerChange"==s&&(g=v.gssupport.assigneeId||"",r=v.gsaction.currSearchType.getCurrAccId()||o.accId||o[v.account_id],l="action=updateDeskAssignee&id="+(o.doc_id||i[v.entity_id])+"&portalId="+r+"&assigneeId="+encodeURIComponent(d)),d!=g?(v.hideEditFieldsList(),v.showSearchPageLoader(),v.uri(v.POST,v.updateActionsURL,l,n={id:d,name:p,type:s,serviceName:c},function(e,s,t){v.hideSearchPageLoader();var a,r,o=v.jsonParse(e),i=o&&o.response||"";"SUCCESS"==i?(a=(r=t.args||{}).serviceName,e="",o="gs.search.callout.crm.success.update",u.SUPPORT==a&&("Unassigned"==r.id?o="gs.search.callout.desk.success.unassign_update":(o="gs.search.callout.desk.success.update",e=" "+n.name)),t=v.getI18NMsg(o)+e,v.showbannertip({ty:1,msg:t}),r=v.gsaction.currSearchType.getCurrentResultObj(),o=v.getCurCalloutCount(),e=v.mappedServiceList[a].callout,t=v.gsaction.currSearchType.getSearchDBCalloutObj(),v.showCalloutLoader(t),v.calloutAjaxRequest(e,r,o,{curCalloutCount:o,updateRecord:!0,searchObj:t},a)):v.showbannertip({ty:3,msg:v.getI18NMsg("CANNOT_PERFORM_ACTION"!=i&&"INVALID_DATA"!=i?"gs.search.callout.crm.errorresp2":"gs.search.callout.crm.errorresp1")})})):v.hideEditFieldsList()},f.searchForEditFields=function(){v.currEditFieldselecelem="",v.isEditFieldsLoader=!1,v.isEditFieldsLoaderUI=!1,C("#zgs20_gsEditFieldsFooter").empty(),C(".zgs19_gsEditFieldsChild").removeClass("zgs19_gsAutoSuggChildIn");var e,s,t,a,r=(r=v.getValue("zgs20_gsEditFieldsQrybox")).trim(),o=0,i={},n={},l="",g="",c="",d=C("#zgs20_gsEditFieldsHolder").attr("datatype");if("crmOwnerChange"==d||"biginOwnerChange"==d?(e=v.gsaction.currSearchType.getCurrAccId(),s=v.getCalloutSearchType(),i=v[s+"OrgInfo"].getUsersInMod(e),c=v.gscrm.crmOwnerData?v.gscrm.crmOwnerData.id:""):"deskOwnerChange"==d?(l=v.gsaction.currSearchType.getCurrentResultObj(),c=v.gssupport.assigneeId||"",g=v.gsaction.currSearchType.getCurrAccId(),a=v.gssupportaction.getSupportUnAssObj(),n=v.gssupportaction.getSupportContactsObj(g,l.DEP_ID),i=C.extend({},a,n)):"statusChange"==d&&(l=v.gsaction.currSearchType.getCurrentResultObj(),g=v.gsaction.currSearchType.getCurrAccId(),i=v.gssupportaction.getSupportStatusObj(g,l.DEP_ID)),v.isQueryValid(r)){var p=r.replace(v.gsautocomplete.regex_replacer,"\\$&");for(m in i){z=i[m];if(c!=m){var u="",h="";"statusChange"==d?u=z.name:(u=v.replaceHTMLEntity(z.full_name),h=v.replaceHTMLEntity(z.email));var _=new RegExp("(^"+p+"|\\s"+p+")","i");if(-1<u.search(_)?"statusChange"==d?v.gssupportaction.renderStatusOptionChild(z,d):f.renderEditFieldsChild(m,z,d,r):"crmOwnerChange"!=d&&"deskOwnerChange"!=d||(_=new RegExp(p,"i"),-1<h.search(_)&&f.renderEditFieldsChild(m,z,d,r)),10<=(o=C("#zgs20_gsEditFieldsFooter").find(".zgs19_gsEditFieldsChild").length))break}}}else for(var m in i){var z=i[m];if("statusChange"==d?v.gssupportaction.renderStatusOptionChild(z,d):f.renderEditFieldsChild(m,z,d,""),10<=(o=C("#zgs20_gsEditFieldsFooter").find(".zgs19_gsEditFieldsChild").length))break}"deskOwnerChange"!=d&&"crmOwnerChange"!=d&&"biginOwnerChange"!=d||(t=o<1?"none":"block",C("#zgs20_gsEditFieldsBottom").css("display",t),"crmOwnerChange"!=d&&"biginOwnerChange"!=d||C("#zgs20_gsEditFieldsNotify").css("display",t)),0==o&&"deskOwnerChange"==d&&(Object.keys(n).length||0)>=v.gssupportaction.defDeskContactsCount&&(t=(a=v.gsusercontacts.queueserver).flag||!1,n=a.expiry_time||0,a=(new Date).getTime(),(!t||15e3<a-n)&&(n="&portalId="+g+"&deptId="+l.DEP_ID,v.gssupportaction.isDeskSearchReqCached(r,n)||(n={curPortalId:g,curDeptId:l.DEP_ID,type:d,query:r,extraParams:n},f.addLoaderForEditFields(n))))},f.addLoaderForEditFields=function(e){var s,t,a=v.getFourDotLoader("zgs20_gsEditFieldsLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader10 zgs19_gsAutoSuggestLoader");C("#zgs20_gsEditFieldsFooter").empty().append(a),C("#zgs20_gsEditFieldsBottom").hide(),C("#zgs20_gsEditFieldsNotify").hide(),v.isEditFieldsLoaderUI=!0,v.isEditFieldsLoader||(v.isEditFieldsLoader=!0,"crmOwnerChange"==(s=e.type||"")||"biginOwnerChange"==s?(t=f.currSearchType.getCurrAccId(),a=v.gsaction.currSearchType.getServiceName(),v[a+"OrgInfo"].fetchUsersInfo(e,t)):"deskOwnerChange"==s&&v.gssupportaction.fetchSupportAgentInfo(e))},f.handleEnterAction=function(){var e=v.currEditFieldselecelem;"statusChange"==C("#zgs20_gsEditFieldsHolder").attr("datatype")&&v.gssupportaction.clickActionForStatus(e)},f)}(zgssearch),zgssearch.servicesWithNoEmptyResponse=[zgssearch.GSConstant.BOX],zgssearch.commonTemplateConstants={author:"author_name",name:"doc_name",time:"time"},zgssearch.iframeUrl,zgssearch.FileMgmtFactory=function(){this.createFileMgmtService=function(e={}){var s;switch(e.service){case zgssearch.GSConstant.DROPBOX:s=new DropBox;break;case zgssearch.GSConstant.BOX:s=new Box;break;case zgssearch.GSConstant.GOOGLEDRIVE:s=new Gdrive;break;case zgssearch.GSConstant.ONEDRIVE:s=new Onedrive}return s.service=e.service,s.accId=e.accountId||"",s.offset=-1<e.offset?e.offset:"",s.parentId=e.parentId||"",s.setResponseObj=function(e){this.responseObj=e},s.fileObj={},s.calloutObj={},s.previewObj={},s.parentElem=e.parentElem||"",s.cardObj=e.cardObj||"",s.getAccId=function(){return this.accId},s.getService=function(){return this.service},s.getOffsetValue=function(){return this.offset},s.getFileObj=function(){return this.fileObj},s.getParentId=function(){return this.parentId},s.getResponseObj=function(){return this.responseObj},s.getPreviewObj=function(){return this.previewObj},s.setCalloutHolder=function(e){this.calloutHolder=e},s.getCalloutHolder=function(){return this.calloutHolder||"zgs20_gsDocsCallout"},s.setPreviewParentId=function(e){this.previewId=e},s.getPreviewParentId=function(){return this.previewId},s.setCommonTemplateValues=function(){this.fileObj.accId=this.getAccId(),this.fileObj.serviceName=this.getService(),this.fileObj.type=this.cardObj?this.cardObj.type:"Search"},s.renderResults=function(){var e=this.getResponseObj();this.setCommonTemplateValues(),this.fileObj.results=[],this.fileObj.results=this.formatResults(e),this.appendResults()},s.setCommonResultProperties=function(e){var s=this.getOffsetValue(),t={};t.index=s,t.shared=e.shared_type||"",t.serviceImg=e.servImg||"",t.serviceImgTitle=zgssearch.getDocResTT(e.servImg),t.footer_tip=zgssearch.getI18NMsg("common.author"),t.gsAttr=this.cardObj?this.cardObj.gsattr:"searchResultTable";var a=this.getAccId(),r=this.getService();t.doc_link=zgssearch.fetchCalloutUrlByAccId(r,e,a);var o=e.shared?3===e.shared_type?1:0:-1;0!=(o=e.shared?3===e.shared_type?1:e.sharedByMe?-1:0:-1)&&1!=o||(t.isShared=!0,t.sharedIcon=zgssearch.docsShared[o].icon,t.sharedTitle=zgssearch.docsShared[o].title);r="zgs20_gs"+r+"Results_"+s;return this.cardObj?r="zgs20_"+this.cardObj.cardId+"_"+s:zgssearch.multiPageEnabled&&(r="zgs20_gs"+a+"Results_"+s),t.id=r,t},s.appendResults=function(){var e,s,t,a=this.getService();zgssearch.isHandlebarLoaded()?(s=zgssearch.Handlebar_Template.getResultsTemplateName(this.getService()),e=search_handlebars.templates[s],t=this.getParentId(),s=this.parentElem||_jQueryGS("#"+t),t=this.getFileObj(),1<this.getOffsetValue()?s.append(e(t)):s.html(e(t))):(null!=(a=(new zgssearch.ResourceFactory).createInstance(a,!0))&&a.load(),this.appendResults())},s.commonCalloutParams=function(e){return{serviceName:this.getService(),cId:e.connector_id||e.CONNECTOR_ID||zgssearch.getResultAccountId()||e.accId||"",pkid:e.doc_id||e.id||e[zgssearch.entity_id]||"",extn:e.extn||"",type:e.rtype||"",fileName:e.name||zgssearch.FILE,mType:e.mtype||e.mimeType||""}},s.setCommonCalloutProperties=function(e,s){var t=zgssearch.getCurrentSelectedElem()||{},a=this.getService();this.calloutObj.service=this.getService(),this.calloutObj.fileUrl=zgssearch.fetchCalloutUrl(a,e),this.calloutObj.postedBy=this.getPostedByInfo(e),this.calloutObj.labelAttr=_jQueryGS(t.resultTitle).attr("gslabel")||"",this.calloutObj.userPhotoObj=this.constructAuthorPhotoObj(e),this.calloutObj.loadericonId="zgs20_gsdocsprevLoader",this.calloutObj.loadericonClass="zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader",this.calloutObj.curCalloutObj=s,this.calloutObj.calloutId=s?s.calloutId:"zgs20_gsDocsCallout",this.calloutObj.calloutHolderId=!s||s.type!==zgssearch.dbCrdCalloutType&&s.type!==zgssearch.crdPagecalloutType?"zgs20_gsDocsPreviewHolder":"zgs20_gs_"+s.calloutId+"PreviewHolder",this.setCalloutHolder(this.calloutObj.calloutId),this.setPreviewParentId(this.calloutObj.calloutHolderId)},s.constructCalloutResponse=function(e,s,t){var a=t.searchObj;this.setCommonCalloutProperties(s,a),this.setServiceSpecificCalloutInfo(s),this.calloutObj.ownerTitle=this.calloutObj[zgssearch.commonTemplateConstants.author];t=a?a.parentElem:"#zgs20_gsSearchResultRight";this.calloutObj.userPhotoObj.hasOwnProperty("class")||(this.calloutObj.userPhotoObj.isGroup?(this.calloutObj.userPhotoObj.isSpan=!0,this.calloutObj.userPhotoObj.class="zgs18_gsGroupIcon "):this.calloutObj.userPhotoObj.class="zgs19_gsResultsUniIcons zgs19_gsCalloutNoUserImg"),this.renderCalloutView(e,s,t,a)},s.renderCalloutView=function(e,s,t,a){var r=zgssearch.Handlebar_Template.getCalloutTemplateName(this.getService()),r=search_handlebars.templates[r];_jQueryGS(t).html(r(this.calloutObj));r=this.calloutObj.userPhotoObj;r&&zgssearch.renderPhoto(r.id,r.url,r.class,"zgs19_gsResultsUniIcons zgs19_gsCalloutNoUserImg",null);r=zgssearch.getTargetElem(this.getCalloutHolder());zgssearch.setGSTagElems(r),this.calloutObj.curCalloutObj.iconDisplay||_jQueryGS(r.maxpreview).css("display","none"),_jQueryGS(r.minpreview).css("display","none"),this.isFileDownloadable(s)||_jQueryGS(r.docsdownload).css("display","none"),_jQueryGS(r.calloutFooter).scrollTop(0),_jQueryGS(r.calloutFooter).scrollLeft(0),this.setCalloutEleSize(),this.renderCalloutPreview(s,e),this.addCalloutActionList(s,a)},s.getPostedByInfo=function(e){var s=this.getService(),t=zgssearch.getI18NMsg("gs.search.sevice_docs_createdBy"),a=zgssearch.getI18NMsg("common.shared_by"),r=zgssearch.getI18NMsg("common.owned_by"),o=zgssearch.getI18NMsg("common.path");return e.shared||e.stm?s==zgssearch.GSConstant.ONEDRIVE&&e.sharedByMe?t:a:e.path?o:s==zgssearch.GSConstant.ONEDRIVE?t:r},s.setCalloutEleSize=function(){var e=zgssearch.getTargetElem(this.getCalloutHolder());zgssearch.setGSTagElems(e);var s=0,t=_jQueryGS(e.header).height();"none"!=_jQueryGS(e.metaInfo).css("display")&&(s=_jQueryGS(e.metaInfo).height());s=_jQueryGS("#"+this.getCalloutHolder()).height()-(t+s);s-=_jQueryGS(e.calloutFooter).outerHeight(!0)-_jQueryGS(e.calloutFooter).height(),zgssearch.isMobViewport()&&(s-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(e.calloutFooter).css("height",s+"px")},s.constructAuthorPhotoObj=function(e){var s={},t=zgssearch.getCurCalloutCount();s.id="zgs20_gsDocsCalloutUserImg"+t,s.url=zgssearch.gsspacer,s.isGroup=!1,s.isSpan=!1;t=e.zuid,e=zgssearch.getUserStatus(t);return this.calloutObj.calloutIconHolderClass="zgs19_gsChatIconHolder","-1"!==t&&void 0!==t&&(e=e.name||"",s.class="zgs19_gsCalloutUserImg",s.url=zgssearch.getThumbPhotoURL(t),this.calloutObj.calloutIconHolderClass="zgs19_gsChatIconHolder "+e),s},s.renderCalloutPreview=function(e,s){var t,a,r,o=this.getService(),i=this.getPreviewParentId(),n=new zgssearch.ZSPreview;!s&&-1<zgssearch.servicesWithNoEmptyResponse.indexOf(o)?((r=n.createPreviewObj(a)).setParentId(i),r.setLoaderIconId("zgs20_gsdocsprevLoader"),r.hideLoader(),r.setCardObj(this.cardObj),t={txt:zgssearch.getI18NMsg("gs.search.result.preview.status.callout.errortext")},r.constructErrorDOMContent(t)):(a=this.getPreviewType(e,s)||e.doc_type||"",r=n.createPreviewObj(a),zgssearch.iframeUrl&&(r.setIframeUrl(zgssearch.iframeUrl),r.setIframeClassName("zgs19_Border0px zgs19_gsDocsIframeTag zgs19_gsIframeBgColor"),r.setIframeId("callout_iframe_"+(new Date).getTime()),r.setSandbox("allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-presentation\tallow-same-origin allow-scripts")),r.setService(o),r.setCardObj(this.cardObj),r.setPreviewHolder("docspreviewHolder"),r.setCalloutHolder(this.getCalloutHolder()),r.setParentId(i),r.setLoaderIconId("zgs20_gsdocsprevLoader"),r.renderPreview(),zgssearch.calloutVisitRequest())},s.getPreviewCrdParams=function(e){return this.getCrdParams(e)},s.addCalloutActionList=function(e){var s=this.getService(),t=zgssearch.getTargetElem(this.getCalloutHolder()),a=t.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(a).empty().remove(),_jQueryGS(t.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var a=t.getElementsByClassName("zgs19_gsCalloutActionList"),r=[{open:"common.open"},{download:"gs.search.result.document.download"},{copyLink:"gs.search.callout.copylink"},{addToWD:"gs.search.addToWd"},{savePreview:"gs.search.callout.savePreviewCard"}],o=!1,i=0;i<r.length;i++){var n,l=r[i];for(n in l)if(zgssearch.savePreviewNeeded(n)){var g=zgssearch.getI18NMsg(l[n]);if("download"==n||"addToWD"==n||"savePreview"==n){var c=(c=e.doc_type||e.rtype||"")||e.mimeType?c:zgssearch.FOLDER,d=zgssearch.GSConstant.downloadServer;if(!d&&"null"===d||c===zgssearch.FOLDER||s==zgssearch.GSConstant.BOX&&(e.hasOwnProperty("is_download")||"boxnote"==e.extn)||e.hasOwnProperty("is_down")&&!e.is_down||e.hasOwnProperty("is_preview")&&!e.is_preview){o=!0;continue}}"addToWD"==n&&!zgssearch.addToWDEnabled()||_jQueryGS(a).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:n,service:s,gstitle:g}).text(g))}}o||zgssearch.Utils.constructSaveBookmarkInCallout(a,s)},s.setServiceEleSize=function(e,s){this.setCalloutEleSize(),_jQueryGS("#"+e).css("height",s+"px")},s.downloadDocument=function(e,s){var t=(new zgssearch.dashboardSearchActions).createActionType(s),a={},r="",s=t.getServiceName(),t=t.getCurrAccId()||e.connector_id||"";-1<zgssearch.getEnabledCloudApps().indexOf(s)&&(s===zgssearch.GSConstant.ONEDRIVE&&(a.accId=t),a.service=s,a.appId=zgssearch.getAppIdForCloudApps(t,s),a.connectorId=t,r=zgssearch.connectors.constructZSYNCDownloadURL(a,e)),zgssearch.network.download_file(r)},s.addToWD=function(e,s,t,a){var r={},t=(new zgssearch.dashboardSearchActions).createActionType(t).getCurrAccId()||s.connector_id;e===zgssearch.GSConstant.ONEDRIVE&&(r.accId=t),r.connectorId=t,r.service=e,r.folderId=a,zgssearch.connectors.addFileToWD(r,s)},s.calloutErrorMsg=function(e,s){zgssearch.getCurrentSelectedElem()&&(zgssearch.hideCalloutLoader(s),e="ERROR"===e?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.connector.status.callout.errortext"),zgssearch.calloutErrorPage(s,e))},s.getPreviewType=function(e,s){var t,a,r=this.getService();return e.hasOwnProperty("is_preview")&&!e.is_preview?e.hasOwnProperty("extn")&&e.extn===zgssearch.ZIP||"application/zip"==e.mimeType?t=zgssearch.ZIP:r==zgssearch.GSConstant.ONEDRIVE?t=10==e.cSize?zgssearch.FILE:zgssearch.FOLDER:(a=e.rtype||"",r=e.rle||!1,a!==zgssearch.FOLDER&&!r||(t=a===zgssearch.FOLDER?zgssearch.FOLDER:zgssearch.FILE)):(e=s.response||e.response,zgssearch.iframeUrl=e&&e.url?e.url:"",zgssearch.iframeUrl&&(t=zgssearch.IFRAME)),t},s.isFileDownloadable=function(e){var s=this.getService(),t=!0;if((e.doc_type||e.rtype)==zgssearch.FOLDER)t=!1;else switch(s){case zgssearch.GSConstant.BOX:!e.hasOwnProperty("is_download")&&"boxnote"!=e.extn||(t=!1);break;case zgssearch.GSConstant.DROPBOX:case zgssearch.GSConstant.GOOGLEDRIVE:e.hasOwnProperty("is_down")&&!e.is_down&&(t=!1);break;case zgssearch.GSConstant.ONEDRIVE:s!=zgssearch.GSConstant.ONEDRIVE||e.mimeType||(t=!1)}return t},s}};var Box=function(){this.formatResults=function(e){var t=[],a=this;return e&&e.forEach(function(e){var s=a.setCommonResultProperties(e);s[zgssearch.commonTemplateConstants.author]=e.owner,s[zgssearch.commonTemplateConstants.name]=e.name,s[zgssearch.commonTemplateConstants.time]=e.time,t.push(s),a.offset++}),t},this.calloutParams=function(e){var s=this.commonCalloutParams(e),e=e.app_id||zgssearch.getAppIdForCloudApps(s.cId);return"action=getBoxPreviewUrl&service_name="+s.serviceName+"&connector_id="+s.cId+"&file_id="+s.pkid+"&extn="+s.extn+"&app_id="+e},this.setServiceSpecificCalloutInfo=function(e){this.calloutObj[zgssearch.commonTemplateConstants.author]=e.owner,this.calloutObj[zgssearch.commonTemplateConstants.name]=e.name,this.calloutObj[zgssearch.commonTemplateConstants.time]=e.time},this.getCrdParams=function(e){var s=e.accId||zgssearch.getResultAccountId();return{entity_id:e.id,app_id:zgssearch.getAppIdForCloudApps(s),connector_id:s,extension:e.extn}}},DropBox=function(){this.formatResults=function(e){var t=[],a=this;return e&&e.forEach(function(e){var s=a.setCommonResultProperties(e);s[zgssearch.commonTemplateConstants.author]=e.path,s[zgssearch.commonTemplateConstants.name]=e.name,s[zgssearch.commonTemplateConstants.time]=e.time;e=(e=zgssearch.getI18NMsg("common.path")).charAt(0).toUpperCase()+e.slice(1);s.footerTip=e,t.push(s),a.offset++}),t},this.getCrdParams=function(e){var s=e.accId||zgssearch.getResultAccountId();return{entity_id:e.id,app_id:zgssearch.getAppIdForCloudApps(s),connector_id:s,file_name:encodeURIComponent(e.name)}},this.calloutParams=function(e){var s=this.commonCalloutParams(e),e=zgssearch.getAppIdForCloudApps(s.cId);return"action=getUDDropboxPreviewUrl&pkid="+s.pkid+"&res_type="+s.type+"&res_extn="+s.extn+"&service_name="+s.serviceName+"&connector_id="+s.cId+"&file_name="+encodeURIComponent(s.fileName)+"&app_id="+e},this.setServiceSpecificCalloutInfo=function(e){this.calloutObj[zgssearch.commonTemplateConstants.author]=e.path,this.calloutObj[zgssearch.commonTemplateConstants.name]=e.name,this.calloutObj[zgssearch.commonTemplateConstants.time]=e.time,e.rtype&&(e.rtype!=zgssearch.FOLDER?this.getDropboxFileOwner(e,this.calloutObj):(this.calloutObj.userPhotoObj.class="zgs19_gsResultsUniIcons "+e.servImg+" zgs19_gsMg13px",this.calloutObj.userPhotoObj.isSpan=!0))},this.getDropboxFileOwner=function(i,n){var e=i.id,s=i.connector_id||zgssearch.getResultAccountId(),t=i.app_id||zgssearch.getAppIdForCloudApps(s,zgssearch.GSConstant.DROPBOX),s="action=getFileMembers&pkid="+e+"&service_name="+zgssearch.GSConstant.DROPBOX+"&connector_id="+s+"&app_id="+t,t={url:"/zgssearch/exconnector/getCalloutData",async:!1,type:"GET"};t.data=s,t.dataType="text",t.success=function(e){var s,t,a,r,o,e=JSON.parse(e);e.response&&((e=e.response).owner?(0<(s=(t=e.owner).owner_arr).length&&(o=s),t.is_multi&&(n.userPhotoObj.isGroup=!0),n.postedBy=zgssearch.I18N.getValue("gs.callout.owned.by")):(e.editor||e.viewer)&&(e.editor&&(0<(t=(s=e.editor).editor_arr).length&&(o=t),s.is_multi&&(n.userPhotoObj.isGroup=!0)),e.viewer&&(0<(a=(r=e.viewer).viewer_arr).length&&(o?Array.prototype.push.apply(o,a):o=a),r.is_multi&&(n.userPhotoObj.isGroup=!0))),o?(n.postedBy=zgssearch.I18N.getValue("gs.search.result.document.callout.sharedwith"),(e=1)==zgssearch.gscomponent.UIType&&(e=3),o.length>e&&(r=1==(a=o.length-e)?zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.other",!0):zgssearch.getI18NMsg("gs.search.result.mail.menu.others"),n.ownerCountTitle="+"+a+" "+r,r=o.splice(e,o.length),o=o.splice(0,e),n.multiOwnerTitle=n.postedBy,n.multiOwnerList=r),o=o.join(", ")):(i.path?o=i.path:(o=i.time,n.postedBy=zgssearch.I18N.getValue("gs.search.sevice_docs_lastModifiedTime")),n.userPhotoObj.class="zgs19_gsResultsUniIcons "+i.servImg+" zgs19_gsFileIcon"),n[zgssearch.commonTemplateConstants.author]=o)},zgssearch.network.uri(t)}},Gdrive=function(){this.formatResults=function(e){var t=[],a=this;return e&&e.forEach(function(e){var s=a.setCommonResultProperties(e);s[zgssearch.commonTemplateConstants.author]=e.owner,s[zgssearch.commonTemplateConstants.name]=e.name,s[zgssearch.commonTemplateConstants.time]=e.time,e.stm&&(s.sharedIcon=zgssearch.docsShared[0].icon,s.sharedTitle=zgssearch.docsShared[0].title,s.isShared=!0),t.push(s),a.offset++}),t},this.calloutParams=function(e){var s=this.commonCalloutParams(e),t=encodeURIComponent(s.mType),e=e.app_id||zgssearch.getAppIdForCloudApps(s.cId);return"action=getUDGDrivePreviewUrl&service_name="+s.serviceName+"&connector_id="+s.cId+"&pkid="+s.pkid+"&res_type="+s.type+"&res_extn="+s.extn+"&mime_type="+t+"&file_name="+encodeURIComponent(s.fileName)+"&app_id="+e},this.setServiceSpecificCalloutInfo=function(e){this.calloutObj[zgssearch.commonTemplateConstants.author]=e.owner,this.calloutObj[zgssearch.commonTemplateConstants.name]=e.name,this.calloutObj[zgssearch.commonTemplateConstants.time]=e.time,this.calloutObj.userPhotoObj.url=e.photo||"",this.calloutObj.userPhotoObj.class="zgs19_gsCalloutUserImg"},this.getCrdParams=function(e){var s=e.accId||zgssearch.getResultAccountId();return{entity_id:e.id,app_id:zgssearch.getAppIdForCloudApps(s),connector_id:s,res_type:e.rtype||"folder"}}},Onedrive=function(){this.formatResults=function(e){var t=[],a=this;return e&&e.forEach(function(e){var s=a.setCommonResultProperties(e);s[zgssearch.commonTemplateConstants.author]=e.createdBy,s[zgssearch.commonTemplateConstants.name]=e.name,s[zgssearch.commonTemplateConstants.time]=e.lmtime,t.push(s),a.offset++}),t},this.calloutParams=function(e){var s=this.commonCalloutParams(e),t=e.driveId||"",e=zgssearch.getAppIdForCloudApps(s.cId);return"action=getOneDrivePreviewUrl&service_name="+s.serviceName+"&connector_id="+s.cId+"&id="+s.pkid+"&mimeType="+s.mType+"&name="+encodeURIComponent(s.fileName)+"&driveId="+t+"&app_id="+e},this.setServiceSpecificCalloutInfo=function(e){this.calloutObj[zgssearch.commonTemplateConstants.author]=e.createdBy,this.calloutObj[zgssearch.commonTemplateConstants.time]=e.lmtime,this.calloutObj[zgssearch.commonTemplateConstants.name]=e.name,this.calloutObj.cursorClass="zgs19_gsCurPointer"},this.getCrdParams=function(e){var s=e.accId||zgssearch.getResultAccountId();return{entity_id:e.id,app_id:zgssearch.getAppIdForCloudApps(s),connector_id:s,driveId:e.driveId}}},Docs=function(){this.formatResults=function(e){var t=[],a=this;return e&&e.forEach(function(e){var s=a.setCommonResultProperties(e);s[zgssearch.commonTemplateConstants.author]=e.author,s[zgssearch.commonTemplateConstants.name]=e.doc_name,s[zgssearch.commonTemplateConstants.time]=e.display_time,t.push(s),a.offset++}),t},this.callOutParams=function(e){e=this.commonCalloutParams(e);return"searchType="+e.serviceName+"&docId="+e.pkid},this.setServiceSpecificCalloutInfo=function(e){this.calloutObj[zgssearch.commonTemplateConstants.author]=e.author,this.calloutObj[zgssearch.commonTemplateConstants.name]=e.doc_name,this.calloutObj[zgssearch.commonTemplateConstants.time]=e.display_time,this.calloutObj.cursorClass="zgs19_gsCurPointer"},this.getDocsPreviewURL=function(e){var s=e.servImg,t=e.docid;switch(s=zgssearch.isPreviewOpenedInComponent?"zgs19_"+e.service:s){case"zgs19_txt":case"zgs19_word":case"zgs19_writer":return zgssearch.GSConstant.GS_DOCS_URL+"/writer/preview/"+t;case"zgs19_xl":case"zgs19_sheet":return zgssearch.GSConstant.GS_DOCS_URL+"/sheet/preview.do?rid="+t+"&top=no";case"zgs19_power":case"zgs19_show":return zgssearch.GSConstant.GS_DOCS_URL+"/show/preview/"+t+"?notopbar=true";default:return zgssearch.GSConstant.GS_DOCS_URL+"/orgembed/"+t}}};zgssearch.ZSProjectMgmtFactory=function(){var s;zgssearch.asanaStoryAuthorObj={};zgssearch.GSClientConstants;this.createProjectMgmtInstance=function(e){switch(e.service_name){case zgssearch.GSConstant.ASANA:s=new zgssearch.ASANA;break;case zgssearch.GSConstant.PROJECTS:s=new zgssearch.PROJECTS}return s.service=e.service_name,s.results=e.results,s.parentId=e.parent_div_id,s.offset=e.offset,s.moduleResultId=e.module_parent_id||"",s.workspaceId=e.search_workspace_id||"",s.workspaceName=e.search_workspace_name||"",s.resultsAreaWidth=e.results_area_width||"",s.accId=e.acc_id||"",s.wsType=e.search_type||"",s.cardObj=e.cardObj||"",s.cardArgObj="",s.limit=e.limit||0,s.calloutHolder=e.calloutHolder||"",s.parent=e.parent||"#zgs20_gsSearchResultRight",s.resultObj=e.resultObj||zgssearch.getCurrentResObj()||{},s.setCalloutResponse=function(e){this.taskCalloutResponse=e},s.getSearchResults=function(){return this.results},s.getService=function(){return this.service},s.getResultObj=function(){return this.resultObj},s.getParentId=function(){return this.parentId},s.getOffset=function(){return this.offset},s.getModuleResId=function(){return this.moduleResultId},s.getModuleType=function(){return this.moduleType},s.getWorkspaceId=function(){return this.workspaceId},s.getWorkspaceName=function(){return this.workspaceName},s.getResultsAreaWidth=function(){return this.resultsAreaWidth},s.getProjectsResObj=function(){return this.projectsResObj},s.getAccountId=function(){return this.accId},s.getWorkspaceType=function(){return this.wsType},s.getCalloutResponse=function(){return this.taskCalloutResponse},s.getCalloutHolder=function(){return this.getCardObj().hasOwnProperty("calloutId")?this.cardObj.calloutId:this.calloutHolder||"zgs20_gsProjectsCallout"},s.getCardObj=function(){return this.cardObj},s.getSearchType=function(){var e=this.getCardObj();return!_jQueryGS.isEmptyObject(e)&&e.type?e.type:"Search"},s.renderResults=function(){this.projectsResObj={serviceName:this.getService(),accId:this.getAccountId(),type:this.getSearchType(),resGSAttr:!_jQueryGS.isEmptyObject(this.cardObj)&&this.cardObj.hasOwnProperty("gsattr")?this.cardObj.gsattr:"searchResultTable"},this.formatResults(),this.appendResults()},s.appendResults=function(){var e=zgssearch.Handlebar_Template.getResultsTemplateName(this.getService()),s=search_handlebars.templates[e],t=this.getParentId(),a=_jQueryGS("#"+t),e=this.getProjectsResObj();"all"==this.getWorkspaceType()?(t=this.getWsHeader(),a.append(t).append(s(e))):a.append(s(e))},s.calloutResponse=function(){this.calloutObj={},this.setCommonCalloutProperties(),this.setServiceSpecificCalloutProp(),this.renderCallout()},s.renderCallout=function(){var e=zgssearch.Handlebar_Template.getCalloutTemplateName(this.getService()),s=search_handlebars.templates[e],t=this.getCardObj(),e=t?t.parentElem:this.parent;_jQueryGS(e).html(s(this.calloutObj));s=this.calloutObj.userPhotoObj;s&&zgssearch.renderPhoto(s.id,s.url,s.class,"zgs19_gsResultsUniIcons zgs19_gsCalloutNoUserImg",null),this.renderCalloutDetails(),zgssearch.calloutVisitRequest();s=zgssearch.getTargetElem(this.getCalloutHolder());zgssearch.setGSTagElems(s),_jQueryGS(s.minpreview).css("display","none"),!t||_jQueryGS.isEmptyObject(t)||t.iconDisplay||_jQueryGS(s.maxpreview).css("display","none"),this.setCalloutEleSize()},s.setCommonCalloutProperties=function(){var e=zgssearch.getCurrentSelectedElem();this.calloutObj.service=this.getService(),this.calloutObj.labelAttr=e?_jQueryGS(e.resultTitle).attr("gslabel"):""},s.setServiceEleSize=function(e,s){this.setCalloutEleSize(),_jQueryGS("#"+e).css("height",s+"px")},s.getPreviewCrdParams=function(){var e=zgssearch.getCurrentResObj();return this.getPreviewCardParams(e)},s}},zgssearch.ASANA=function(){this.storyAuthorDetails={},this.calloutTaskDetails={a_name:"Assigned to",completed:"Status",due_on:"Due  Date",project:"Project",description:"Description"},this.formatResults=function(){var e=[],s=this.getOffset(),t=this.getSearchResults();this.projectsResObj.timeLabel=zgssearch.getI18NMsg("gs.search.result.creator.createdDate");var a=zgssearch.getCurrentValue("accounts",this.getService()),r="0"==(r=zgssearch.getCurrentValue(zgssearch.WS,this.getService()))?"all":r;0<s&&0!=a&&"all"!=r&&(t=zgssearch.Utils.fromEntries(zgssearch.Utils.objectEntries(t).slice(s,s+25))),this.projectsResObj.workspaceId=this.getWorkspaceId();var o,i=zgssearch.getCurrentValue("projects",this.getService());for(o in"all"!=i&&"0"!=i&&(a=zgssearch.getFilterInfo(this.getService(),"projects","data"),this.projectsResObj.currContextFilter=a[r]?a[r][i]:zgssearch.getFilterInfo("asana","projects","dispname")),t){var n={};n.field1=t[o].name||"Untitled",n.field2=t[o].a_name||t[o].a_email||"Unassigned",n.field3=t[o].due_on,n.time=t[o].created_at,n.timeTitle=t[o].updated_time,n.index=s,n.userPhotoObj={},n.userPhotoObj.isSpan=!0,n.userPhotoObj.class="zgs18_gsTaskicon",n.iconHolderClass="zgs19_gsUniIconHolder";var l=this.moduleResultId?this.getModuleResId():this.getWorkspaceId()+"Results_";n.id="zgs20_gs"+l+s,this.setAdditionalInfo(t[o],n),this.setMaxWidthOfElements(n),e.push(n),s++}this.projectsResObj.results=e},this.setAdditionalInfo=function(e,s){var t,a,r=e.memberships;0<r.length&&(a=r[0].project,s.projId=a.gid,s.contextualFilter=a.name,s.noFilter=!1,s.contextualLabel="Project",s.gsFilter="asanaProjects",s.moreProj=null,1<r.length&&(s.gsFilter="moreAsanaProjects",s.moreProj="+"+(r.length-1)),t=zgssearch.getCurrentValue("accounts",this.getService()),e="0"==(e=zgssearch.getCurrentValue(zgssearch.WS,this.getService()))?"all":e,"all"!=(a="0"==(a=zgssearch.getCurrentValue("projects",this.getService()))?"all":a)&&(s.projId=a,r=zgssearch.getFilterInfo(this.getService(),"projects","data"),s.contextualFilter=r[e]?r[e][a]:zgssearch.getFilterInfo("asana","projects","dispname"),s.gsFilter="",s.moreProj=null),("all"==e||0==t||"all"==zgssearch.getSearchType()&&"asanaProjects"==s.gsFilter)&&(s.noFilter=!0,s.gsFilter=""))},this.getWsHeader=function(){var e={id:this.getModuleResId(),serviceName:this.getService(),accId:this.getAccountId(),wsId:this.getWorkspaceId(),wsName:this.getWorkspaceName()};return this.constructHeader(e)},this.constructHeader=function(e){return _jQueryGS("<div>",{id:e.id,class:"zgs19_gsServiceTopbandNew zgs19_gsBorderBox"}).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandWidgetNew zgs19_gsOverflow zgs19_gsfl",service:e.serviceName,workspace_id:e.wsId,style:"max-width:30%;"}).text("Workspace : ")).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandMultiWidget zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl",service:e.serviceName,workspace_id:e.wsId,acc_id:e.accId,gs:"service_multi_mod",value:e.wsName,gstitle:e.wsName,style:"max-width:60%;"}).text(e.wsName))},this.calloutParams=function(e){var s=this.getAccountId(),t=zgssearch.getAppIdForCloudApps(s);return"action=getAsanaTaskCallout&service_name=asana&connector_id="+s+"&gid="+(e.gid||e.id)+"&story_limit=3&attach_limit=3&app_id="+t},this.setServiceSpecificCalloutProp=function(){var e=this.getCalloutResponse(),s=zgssearch.getCurrentResObj()||{},e=e.task_info||{};this.calloutObj.field1=s.name||e.name||"Untitled",this.calloutObj.field2=s.a_name||s.a_email,this.calloutObj.field3=s.due_on||e.due_on,this.calloutObj.projectUrl=e.open_link,this.calloutObj.calloutId=this.getCalloutHolder(),this.calloutObj.actions_list=this.getCalloutActionsList(),this.calloutObj.task_details=this.setCalloutTaskDetails()},this.setCalloutTaskDetails=function(){var e,s=[],t=this.getCalloutResponse().task_info||{},a=this.getResultObj(),r=t.memberships||{};if((r=0==r.length?a.memberships:r)&&1<r.length){for(var o=[],i=0;i<r.length;i++)o.push(r[i].project.name);var n=o.join(", ")}else n=_jQueryGS.isEmptyObject(r)||r.length<=0?"-":r[0].project.name;for(e in this.calloutTaskDetails){var l={};t.hasOwnProperty(e)||a.hasOwnProperty(e)||r&&r.hasOwnProperty(e)?l.field_value="completed"==e?a[e]?zgssearch.getI18NMsg("gs.search.calendar.callout.completed"):zgssearch.getI18NMsg("gs.asana.incompleteTasks"):t[e]||a[e]||"-":l.field_value="project"==e?n:"-",l.field_label=this.calloutTaskDetails[e],s.push(l)}return s},this.getCalloutActionsList=function(){var e=[],s={gs:"calloutActionOptions",gs_label:"open"};return s.i18n_value=zgssearch.I18N.getValue("common.open"),e.push(s),(s={gs:"calloutActionOptions",gs_label:"copyLink"}).i18n_value=zgssearch.I18N.getValue("gs.search.callout.copylink"),e.push(s),!zgssearch.isDashboardEnabled||zgssearch.isDashboardViewOpened()||zgssearch.isCardViewOpened()||((s={gs:"calloutActionOptions",gs_label:"savePreview"}).i18n_value=zgssearch.I18N.getValue("gs.search.callout.savePreviewCard"),e.push(s)),e},this.getAttachments=function(){var s,e,t;"none"==_jQueryGS("#zgs20_gsMoreAttachmentsSet").css("display")?(_jQueryGS("#zgs20_gsMoreAttachmentsSet").css("display","block"),_jQueryGS("#zgs20_gsMoreAsanaAttachments").remove(),_jQueryGS("#zgs20_gsLessAsanaAttachment").css("display","block")):(e=(s=this).getAccountId(),t=zgssearch.getAppIdForCloudApps(e),e="action=getAsanaAttachments&service_name=asana&connector_id="+e+"&gid="+((e=this.getResultObj()).gid||e.id)+"&limit=10&app_id="+t,(t=this.getAttachmentCursor())&&(e+="&cursor="+t),(t={}).url=zgssearch.connectorCallOutURL,t.type="GET",t.dataType="text",t.data=e,t.success=function(e){e=zgssearch.jsonParse(e).response;e.cursor?s.setAttachmentCursor(e.cursor):(s.noMoreAttachments=!0,s.setAttachmentCursor(null));e=e.Attachments;s.constructAttachmentsDOM(e)},zgssearch.network.uri(t))},this.renderCalloutDetails=function(){var e,s=this.getCalloutResponse();s.stories&&((e=s.stories).cursor&&this.setStoriesCursor(e.cursor),0==e.s_array.length&&(this.noStories=!0)),s.Attachments&&((s=s.Attachments).cursor&&this.setAttachmentCursor(s.cursor),0<s.Attachments.length?((zgssearch.isCardViewOpened()||zgssearch.isDashboardViewOpened()?_jQueryGS("#"+this.getCardObj().calloutId+" #zgs20_gsAsanaAttachmentsDetails"):_jQueryGS("#zgs20_gsAsanaAttachmentsDetails")).removeClass("zgs19_gsDisplayNone"),this.constructAttachmentsDOM(s.Attachments,0)):this.noAttach=!0),0<e.s_array.length&&((zgssearch.isCardViewOpened()||zgssearch.isDashboardViewOpened()?_jQueryGS("#"+this.getCardObj().calloutId+" #zgs20_gsAsanaStoriesDetails"):_jQueryGS("#zgs20_gsAsanaStoriesDetails")).removeClass("zgs19_gsDisplayNone"),this.storyStartSet=0,this.constructStoriesDOM(e.s_array))},this.getStories=function(){var s,e,t,a=_jQueryGS("#zgs20_gsMoreStoriesSet").css("display");0<_jQueryGS("#zgs20_gsMoreAsanaStories").length&&_jQueryGS("#zgs20_gsMoreAsanaStories").remove(),"none"==a?(_jQueryGS("#zgs20_gsMoreStoriesSet").removeClass("zgs19_gsDisplayNone"),_jQueryGS("#zgs20_gsLessAsanaStories").removeClass("zgs19_gsDisplayNone")):(t=(s=this).getStoriesCursor()||"",e=this.getAccountId(),a=zgssearch.getAppIdForCloudApps(e),a="action=getAsanaStories&service_name=asana&connector_id="+e+"&gid="+((e=this.getResultObj()).gid||e.id)+"&limit=10&app_id="+a,t&&(a+="&cursor="+t),(t={}).url=zgssearch.connectorCallOutURL,t.type="GET",t.dataType="text",t.data=a,t.success=function(e){e=zgssearch.jsonParse(e).response;e.cursor?s.setStoriesCursor(e.cursor):(s.setStoriesCursor(null),s.noMoreStories=!0);e=e.stories;s.constructStoriesDOM(e)},zgssearch.network.uri(t))},this.setStoriesCursor=function(e){this.storierCursor=e},this.getStoriesCursor=function(){return this.storierCursor||""},this.setAttachmentCursor=function(e){this.attachmentCursor=e},this.getAttachmentCursor=function(){return this.attachmentCursor||""},this.constructStoriesDOM=function(e){var s=zgssearch.getTargetElem(this.getCalloutHolder());zgssearch.setGSTagElems(s);var t=0==this.storyStartSet?s.initialStoriesSet:s.moreStoriesSet;if(0<e.length){for(var a=0;a<e.length;a++){this.setAuthorDetails(e[a]);var r="",o=e[a].author_id,i="",n=_jQueryGS("<div>",{class:"zgs19_gshighlight zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl zgs19_gsPdRt3Px",gs:"authorStory",aId:o}).text(e[a].author);e[a].is_comment||(r=n,i="zgs19_gsPdngLf0Px");var l=e[a].photo_url||"",g="author_set"+this.storyStartSet+"_"+a,o=_jQueryGS.isEmptyObject(zgssearch.zohoSecurity)?e[a].text:zgssearch.zohoSecurity.HTMLPurifier().sanitize(e[a].text),n=_jQueryGS("<span>",{class:"zgs19_gsAsanaStory zgs19_gsfl"}).append(o).find("a").attr("target","_blank").end(),o=_jQueryGS("<img>",{gs:"gsStoryAuthorPhoto",id:g,class:"zgs19_gsFetchImgLoader zgs19_gsAttendeesFetchImgLoader",src:zgssearch.gsspacer});_jQueryGS(t).append(_jQueryGS("<div>",{class:"zgs19_gsAsanaStoryHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsAsanaStoryLeftPanel zgs19_gsfl"}).append(o)).append(_jQueryGS("<div>",{class:"zgs19_gsAsanaStoryRightPanel zgs19_gsOverflow zgs19_gsfl"}).append(r).append(_jQueryGS("<label>",{class:"zgs19_gsAsanaStoryDate zgs19_gsOverflow "+i}).append(e[a].created_at)).append(_jQueryGS("<label>",{class:"zgs19_gsAsanaStoryContent zgs19_gsOverflowWrap"}).append(n)))),zgssearch.renderPhoto(g,l,"zgs19_gsUserPhoto","zgs19_gsResultsUniIcons zgs19_gsResNoUserPhoto",o)}this.getStoriesCursor()&&(this.storyStartSet++,this.noAttach?(this.noAttach=!1,zgssearch.projectMgmtCalloutObj.getStories()):_jQueryGS("#zgs20_gsAsanaStoriesDetails").append(_jQueryGS("<div>",{id:"zgs20_gsMoreAsanaStories",class:"zgs19_gsLinkElem zgs19_gshighlight zgs19_gsOverflow",gs:"moreStories"}).text("Show more"))),this.noMoreStories&&_jQueryGS("#zgs20_gsAsanaStoriesDetails").append(_jQueryGS("<div>",{id:"zgs20_gsLessAsanaStories",class:"zgs19_gsLinkElem zgs19_gshighlight zgs19_gsOverflow",gs:"hideStories"}).text("Show less"))}else _jQueryGS(s.stories).append("No stories yet")},this.constructAttachmentsDOM=function(e,s){var t=zgssearch.getTargetElem(this.getCalloutHolder());zgssearch.setGSTagElems(t);var a=this.getService();0<_jQueryGS("#zgs20_gsMoreAsanaAttachments").length&&_jQueryGS("#zgs20_gsMoreAsanaAttachments").remove();var r=0==s?t.initialAttachmentsSet:t.moreAttachmentsSet;if(0<e.length){for(var o,i=0;i<e.length;i++)_jQueryGS(r).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachFooter zgs19_gsAddToWDHoverSec"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachImage"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons "+e[i].file_img,gs:"resultMenuItem"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachName zgs19_gsOverflow zgs19_gsTp5Px"}).append(_jQueryGS("<span>",{class:"zgs19_gsCalloutAttachTitle zgs19_gsCalloutTitleLink",service:a,aId:e[i].gid,gs:"attachtitle",gstitle:e[i].name,istip:!0}).text(e[i].name)))),zgssearch.addToWDEnabled()&&(o=_jQueryGS(r).find(".zgs19_gsCalloutAttachFooter")[i],_jQueryGS(o).append(_jQueryGS("<span>",{class:"zgs19_addToWd zgs19_gsDisplayNone",service:a,aId:e[i].gid,gs:"calloutActionOptions",value:"addToWD",aName:e[i].name}).text(zgssearch.getI18NMsg("gs.search.addToWd"))));this.getAttachmentCursor()&&(this.noStories?(this.noStories=!1,zgssearch.projectMgmtCalloutObj.getAttachments()):_jQueryGS("#zgs20_gsAsanaAttachmentsDetails").append(_jQueryGS("<div>",{id:"zgs20_gsMoreAsanaAttachments",class:"zgs19_gsLinkElem zgs19_gshighlight zgs19_gsOverflow",gs:"moreAttachments"}).text(zgssearch.getI18NMsg("gs.asana.showMore")))),this.noMoreAttachments&&_jQueryGS("#zgs20_gsAsanaAttachmentsDetails").append(_jQueryGS("<div>",{id:"zgs20_gsLessAsanaAttachments",class:"zgs19_gsLinkElem zgs19_gshighlight zgs19_gsOverflow",gs:"hideAttach"}).text(zgssearch.getI18NMsg("gs.asana.showLess")))}else _jQueryGS(t.attachHolder).append("No attachments")},this.downloadAttachment=function(e){e={connectorId:(new zgssearch.dashboardSearchActions).createActionType(e).getCurrAccId()||zgssearch.projectMgmtCalloutObj.accId,attachName:_jQueryGS(e).text(),attachId:_jQueryGS(e).attr("aId"),service:zgssearch.GSConstant.ASANA};zgssearch.network.download_file(zgssearch.connectors.constructZSYNCDownloadURL(e,this.getResultObj()))},this.addToWD=function(e,s,t){e={connectorId:(new zgssearch.dashboardSearchActions).createActionType(e).getCurrAccId(),attachName:_jQueryGS(e).attr("aName"),attachId:_jQueryGS(e).attr("aId"),service:zgssearch.GSConstant.ASANA};e.folderId=t,zgssearch.connectors.addFileToWD(e,s)},this.setCalloutEleSize=function(){var e=zgssearch.getTargetElem(this.getCalloutHolder()),s=_jQueryGS(e.header).height(),t=_jQueryGS(e.taskDesc).height(),t=_jQueryGS("#zgs20_gsProjectsCallout").height()-(s+t);t-=_jQueryGS(e.contPartHolder).outerHeight(!0)-_jQueryGS(e.contPartHolder).height(),zgssearch.isMobViewport()&&(t-=_jQueryGS("#zgs20_gsSearchResultLeft").height());t=(t-((_jQueryGS("#zgs20_gsStTitle").height()||0)+(_jQueryGS("#zgs20_gsAttTitle").height()||0)+(_jQueryGS("#zgs20_gsMoreAsanaStories").height()||0)+(_jQueryGS("#zgs20_gsMoreAsanaAttachments").height()||0)))/2;_jQueryGS(e.stories).css("max-height",t+"px"),_jQueryGS(e.attachHolder).css("max-height",t+"px")},this.setAuthorDetails=function(e){this.storyAuthorDetails[e.authorId]||(this.storyAuthorDetails[e.author_id]=e)},this.getAuthorDetails=function(e){return this.storyAuthorDetails[e]},this.getStoryAuthorDetails=function(e){var s=_jQueryGS(e).attr("aId"),s=this.getAuthorDetails(s);s&&zgssearch.contextMenuActionsPopUp(e,s)},this.getMoreProjectsDetails=function(e){zgssearch.appendFilterIcon(e,zgssearch.GSConstant.ASANA);var s=_jQueryGS(e).attr("acc_id"),t=_jQueryGS(e).attr("workspace_id"),a=_jQueryGS(e).closest(".zgs19_gsSearchResultTable"),r=_jQueryGS(a).attr("index"),o=zgssearch.getResultObject(zgssearch.GSConstant.ASANA,r,s,t).memberships,a=zgssearch.getCurrentValue("accounts",this.getService()),r="0"==(r=zgssearch.getCurrentValue(zgssearch.WS,this.getService()))?"all":r,i="asanaProjects";"all"!=currWs&&0!=a&&"all"!=zgssearch.getSearchType()||(i=""),_jQueryGS("#zgs20_gsResultFilterDropDown").remove(),_jQueryGS(e).addClass("zgs19_gsMoreContextualFilter"),_jQueryGS(e).parent().parent().append(_jQueryGS("<div>",{id:"zgs20_gsResultFilterDropDown",class:"zgs19_gsContextualFilterDropdown   zgs19_gsProjectsFilterDD"}));for(var n=0;n<o.length;n++){var l=o[n].project;_jQueryGS("#zgs20_gsResultFilterDropDown").append(_jQueryGS("<div>",{gs:i,acc_id:s,workspace_id:t,pid:l.gid}).text(l.name))}},this.hideMoreSectionResults=function(e){_jQueryGS("#"+("zgs20_gsMore"+e+"Set")).css("display","none"),_jQueryGS("#zgs20_gsLessAsana"+e).css("display","none"),_jQueryGS("#zgs20_gsAsana"+e+"Details").append(_jQueryGS("<div>",{id:"zgs20_gsMoreAsana"+e,class:"zgs19_gsLinkElem zgs19_gshighlight zgs19_gsOverflow",gs:"more"+e}).text("Show more"))},this.setMaxWidthOfElements=function(e){var s,t=40,a=35;t||(a+=t),!e.field3&&t&&(a+=s=Math.round(7.5),t+=s),e.field2_style="zgs19_gsMxWid"+a+"Per",e.filter_style="zgs19_gsMxWid"+t+"Per"},this.getPreviewCardParams=function(e){var s=zgssearch.getResultAccountId()||"";return{entity_id:e.gid,connector_id:s,app_id:zgssearch.getAppIdForCloudApps(s,zgssearch.GSConstant.ASANA),open_link:e.response.task_info.open_link||""}}},zgssearch.PROJECTS=function(){this.calloutURL="",this.serviceImgData=[],this.getServiceImgData=function(){return this.serviceImgData},this.formatResults=function(){this.projectsResObj.currContextFilter=this.projectsResObj.currField5Filter="";var e,s,t=this.getCardObj().type,a="askZia"===zgssearch.selectedLeftPanelDivision;"Card"==t||a||(n=zgssearch.getCurrentValue(GSClientConstants.Common.modules,this.getService()),(e=zgssearch.getCurrentValue(zgssearch.gsprojectsutils.projects,this.getService()))&&"0"!=e&&(s=zgssearch.getFilterInfo(zgssearch.GSConstant.PROJECTS,"modules","data"),this.projectsResObj.currContextFilter=s[e]?s[e][n]:""),this.projectsResObj.currField5Filter=zgssearch.getCurrentValue(zgssearch.gsprojectsutils.projects,this.getService()));var r,o=this.getOffset(),i=this.getSearchResults(),n=this.limit,l=[];for(r in i=zgssearch.Utils.fromEntries(zgssearch.Utils.objectEntries(i).slice(o,n))){var g=i[r],c={},d="Card"==t?this.getCardObj().cardId:"gs_"+this.getAccountId()+this.getService()+"Results";c.id="zgs20_"+d+"_"+o,c.field1=g.title,c.field1_label=zgssearch.getI18NMsg("common.title"),c.field5=g.project_name,c.row3=!0,c.field5_label=zgssearch.getI18NMsg("gs.search.service_projects_projectName"),c.field2_style="zgs19_gsMxWid35Per";var p=zgssearch.getCurrentValue(GSClientConstants.Common.modules,this.getService());"Card"!=t&&g.mod_id===p||(c.contextualFilter=g.moduleName),c.fieldIconTitle=g.moduleName,c.gsFilter="Card"!==t?"projectsModule":"",c.contextualLabel=c.fieldIconLabel=zgssearch.getI18NMsg("gs.search.multi.module"),c.filter_style="zgs19_gsWid23Per",c.iconHolderClass="zgs19_gsUniIconHolder",this.projectsResObj.timeLabel=zgssearch.getI18NMsg("gs.modifiedOn"),c.timeTitle=g.updated_time;d=new this["mod_"+g.mod_id](this);d.setModFields(c,g),c.row3Wid=c.field6?"zgs19_gsWid75Per":"zgs19_gsWid100Per";p=!d.hasOwnProperty("constructOwnerImg");c.userPhotoObj={id:""},p?(c.userPhotoObj.isSpan=p,c.userPhotoObj.class=c.resIcon):(c.userPhotoObj=d.constructOwnerImg(g),c.userPhotoObj&&(c.userPhotoObj.gs="resultPhotoImg",c.userPhotoObj.id="zgs20_gsResultUserImg",(u={}).id=c.id,c.userPhotoObj.url===zgssearch.gsspacer&&(u.no_photo=!0),u.img_url=c.userPhotoObj.url,this.serviceImgData.push(u)));var u=g.owner;"object"==typeof u&&1<Object.keys(u).length&&(c.gsFilterField2="moreProjOwners",c.moreRecField2="+"+(Object.keys(u).length-1));u=zgssearch.getFilterInfo(zgssearch.GSConstant.PROJECTS,zgssearch.gsprojectsutils.projects,"alldata");c.noFilter=!1,c.noProjFilter=!!u&&1==Object.keys(u[this.getAccountId()]).length,c.field5_gsAttr=c.noProjFilter||"Card"===t||a?"":"projectsFilter",c.time=g.updated_time,c.projId=g.project_id,c.modId=g.mod_id,c.index=o,c.field5Filter=g.project_id,c.recordUrl=this.getCalloutURL(g),c.row3Style="zgs19_gsWidInherit",c.field5_class="zgs19_gsMxWid90Per",c.field4&&(c.row3Style="zgs19_gsWid55Per zgs19_gsMxWid70Per",c.field5_class=""),o++,l.push(c)}this.projectsResObj.results=l},this.setServiceSpecificCalloutProp=function(){var e=this.getResultObj()||zgssearch.getCurrentResObj(),s=e.task_id||e.bug_id||"";s&&(this.calloutObj.field1_id=s),this.calloutObj.field1=e.title||"Untitled",e.url=this.calloutObj.projectUrl=this.getCalloutURL(e),this.calloutObj.actions_list=this.getCalloutActionsList();e=this.cardObj;this.calloutObj.calloutHolderId=!e||e.type!==zgssearch.dbCrdCalloutType&&e.type!==zgssearch.crdPagecalloutType?"zgs20_gsProjectsPreviewHolder":"zgs20_gs_"+e.calloutId+"PreviewHolder",this.calloutObj.calloutId=this.getCalloutHolder(),this.calloutObj.loadericonId="zgs20_gsProjectsLoader",this.calloutObj.loadericonClass="zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader"},this.getCalloutActionsList=function(){var e=[],s={gs:"calloutActionOptions",gs_label:"open"};return s.i18n_value=zgssearch.I18N.getValue("common.open"),e.push(s),(s={gs:"calloutActionOptions",gs_label:"copyLink"}).i18n_value=zgssearch.I18N.getValue("gs.search.callout.copylink"),e.push(s),!zgssearch.isDashboardEnabled||zgssearch.isDashboardViewOpened()||zgssearch.isCardViewOpened()||((s={gs:"calloutActionOptions",gs_label:"savePreview"}).i18n_value=zgssearch.I18N.getValue("gs.search.callout.savePreviewCard"),e.push(s)),e},this.getCalloutURL=function(e){var s,t,a,r,o,i,n=this.getAccountId(),l=e.project_id,g=e.id||e[zgssearch.entity_id],c="",d=e.mod_id||e[zgssearch.module_id];switch(d){case"3":s="milestones";break;case"5":s="tasks",c=e.task_list_id;break;case"6":s="issues";break;case"7":s="forum";break;case"9":s="events";break;default:this.calloutObj&&(this.calloutObj.nonIframeModule=!0)}this.calloutObj&&(zgssearch.isExtension||zgssearch.isIE)&&(this.calloutObj.nonIframeModule=!0),this.calloutObj&&(this.calloutObj.nonIframeModule?this.setCalloutMetaDetails(e):(this.iframeURL=zgssearch.GSConstant.GS_PROJECTS_URL+"/portal/"+n+"/widgets.do?project_id="+l+"&to_view="+s+"&entity_id="+g+"&"+zgssearch.originParam,window.location.hostname!=zgssearch.GSConstant.searchdomainURL&&(this.iframeURL+=","+zgssearch.httpstxt+"://"+zgssearch.GSConstant.searchdomainURL),o=getComputedStyle(document.body),t="theme",zgssearch.GSConstant.isNightModeEnabled?(t="dark_theme",r="34,36,39"):(a=o.getPropertyValue("--zs-primarySelectedBGLightColor").trim())&&(r=(a=zgssearch.includes("rgba",a)||zgssearch.includes("rgb",a)?zgssearch.rgbaToRgb(a):zgssearch.hexToRgb(a)).r+","+a.g+","+a.b),((i=(o=o.getPropertyValue("--zs-primaryThemeIconColor").trim())?(o=zgssearch.hexToRgb(o)).r+","+o.g+","+o.b:i)||r)&&(this.iframeURL+="&"+t+"="+encodeURIComponent(JSON.stringify({zpPrimary:i,zpPrimaryHover:r})))));d=new this["mod_"+d](this);return this.calloutURL=zgssearch.GSConstant.GS_PROJECTS_URL+"/"+d.getCalloutURL(n,l,g,c),this.calloutURL},this.renderCalloutDetails=function(){var e,s=new zgssearch.ZSPreview;this.calloutObj.nonIframeModule?e=s.createPreviewObj():((e=s.createPreviewObj(zgssearch.IFRAME)).setIframeUrl(this.iframeURL),e.setIframeClassName("zgs19_Border0px zgs19_gsDocsIframeTag zgs19_gsIframeBgColor"),e.setIframeId("callout_iframe_"+(new Date).getTime()),e.setSandbox("allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-presentation\tallow-same-origin allow-scripts")),e.setCardObj(this.cardObj),e.setPreviewHolder("projectspreviewHolder"),e.setCalloutHolder(this.calloutObj.calloutHolderId),e.setParentId(this.calloutObj.calloutHolderId),e.setLoaderIconId("zgs20_gsProjectsLoader"),e.renderPreview()},this.setCalloutMetaDetails=function(e){var s,t=e.owner||e.milestone;"object"==typeof t&&(t=(s=t)[0].name,1<(s=Object.keys(s).length)&&(this.calloutObj.moreRecOwner=" +"+s-1,a=zgssearch.getCurrentSelectedElem(),this.calloutObj.accId=_jQueryGS(a).attr("acc_id")||"",this.calloutObj.index=_jQueryGS(a).attr("index")||"")),this.calloutObj.owner=t,this.calloutObj.time=e.updated_time,this.calloutObj.projectName=e.project_name,this.calloutObj.module=e.moduleName;var a=new this["mod_"+e.mod_id](this);this.calloutObj.postedBy=a.getLabel(),this.calloutObj.gsFilterField2="moreProjOwners";t=!a.hasOwnProperty("constructOwnerImg");this.calloutObj.userPhotoObj={},t?(this.calloutObj.userPhotoObj.isSpan=t,this.calloutObj.userPhotoObj.class=a.getIcon(),this.calloutObj.calloutIconHolderClass="zgs19_gsChatIconHolder"):this.calloutObj.userPhotoObj=a.constructOwnerImg(e)},this.constructPhotoObj=function(e){var s={id:"zgs20_gsDocsCalloutUserImg"};s.url=zgssearch.gsspacer,s.class="zgs19_gsFetchLoader",s.isGroup=!1,s.isSpan=!1;var t=e.zuid,e=zgssearch.getUserStatus(t);return this.hasOwnProperty("calloutObj")&&(this.calloutObj.calloutIconHolderClass="zgs19_gsChatIconHolder"),"-1"!==t&&void 0!==t&&(e=e.name||"",s.class="zgs19_gsCalloutUserImg",s.url=zgssearch.getThumbPhotoURL(t),this.hasOwnProperty("calloutObj")&&(this.calloutObj.calloutIconHolderClass="zgs19_gsChatIconHolder "+e)),s},this.setCalloutEleSize=function(){var e=zgssearch.getTargetElem(this.getCalloutHolder());zgssearch.setGSTagElems(e);var s=0,t=_jQueryGS(e.header).height();"none"!=_jQueryGS(e.metaInfo).css("display")&&(s=_jQueryGS(e.metaInfo).height()||0);s=_jQueryGS("#"+this.getCalloutHolder()).height()-(t+s);zgssearch.isMobViewport()&&(s-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(e.projectscalloutFooter).css("height",s+"px")},this.mod_3=function(e){this.setModFields=function(e,s){e.field2=s.owner?s.owner[0].name:"",e.field2Class="zgs19_gsMxWid30Per",e.field4=s.due_date,e.field4Title=s.due_date,e.field4Icon="zgs18_gsProjDueDate zgs19_gsProjDueDate",e.field4Label=zgssearch.getI18NMsg("gs.search.filter.dueDate"),e.resIcon="zgs18_gsProjMilestoneIcon",e.footer_tip=this.getLabel()},this.getCalloutURL=function(e,s,t){return"portal/"+e+"#milestone/"+s+"/"+t},this.getLabel=function(){return zgssearch.getI18NMsg("gs.search.service_projects_assignee")},this.getIcon=function(){return"zgs18_gsProjMilestoneIcon"}},this.mod_4=function(e){this.setModFields=function(e,s){e.field2=s.milestone,e.field2Class="zgs19_gsPdRt10Px",e.field2_icon=s.hasOwnProperty("milestone")&&s.milestone?"zgs18_gsProjResMilestoneIcon":"",e.resIcon="zgs18_gsProjTasklistIcon",e.footer_tip=this.getLabel(),e.row3=!1},this.getCalloutURL=function(e,s,t){return"portal/"+e+"#tasklistdetail/"+s+"/"+t},this.getIcon=function(){return"zgs18_gsProjTasklistIcon"},this.getLabel=function(){return zgssearch.getI18NMsg("gs.search.service_projects_milestone")}},this.mod_5=function(e){this.setModFields=function(e,s){e.field2=s.owner?s.owner[0].name:"",e.field3_1=s.status,e.field3_1_title=zgssearch.getI18NMsg("common.status")+": ",e.field3_1_style="zgs19_gsProjectStatusVal",e.field4=s.due_date,e.field4Title=s.due_date,e.field4Icon="zgs18_gsProjDueDate zgs19_gsProjDueDate",e.field4Label=zgssearch.getI18NMsg("gs.search.filter.dueDate"),e.field1_preLabel=zgssearch.getI18NMsg("gs.search.service_projects_taskId"),e.field1_pre=s.task_id,e.field1_label=zgssearch.getI18NMsg("gs.search.service_projects_taskTitle"),e.resIcon="zgs18_gsProjTaskIcon",e.footer_tip=this.getLabel(),e.field6=s.priority,e.field6Label=zgssearch.getI18NMsg("gs.search.service_projects_priority"),s.is_recurrence&&(e.fieldTitleIconClass="zgs18_gsRecurrenceIcon zgs19_gsRecurrenceIcon zgs19_gsPdRt6Px",e.fieldTitleIconTitle=zgssearch.getI18NMsg("gs.search.service_projects_recurringTask"))},this.getCalloutURL=function(e,s,t,a){return"portal/"+e+"#taskdetail/"+s+"/"+a+"/"+t},this.getLabel=function(){return zgssearch.getI18NMsg("gs.search.service_projects_assignee")},this.getIcon=function(){return"zgs18_gsProjTaskIcon"}},this.mod_6=function(e){this.setModFields=function(e,s){e.field2=s.owner?s.owner[0].name:"",e.field3_1=s.status,e.field3_1_title=zgssearch.getI18NMsg("common.status")+": ",e.field3_1_style="zgs19_gsProjectStatusVal",e.field4=s.due_date,e.field4Title=s.due_date,e.field4Icon="zgs18_gsProjDueDate zgs19_gsProjDueDate",e.field4Label=zgssearch.getI18NMsg("gs.search.filter.dueDate"),e.field1_preLabel=zgssearch.getI18NMsg("gs.search.service_projects_bugId"),e.field1_pre=s.bug_id,e.field1_label=zgssearch.getI18NMsg("gs.search.service_projects_bugTitle"),e.resIcon="zgs18_gsProjBugIcon",e.footer_tip=this.getLabel(),e.field6=s.severity,e.field6Label=zgssearch.getI18NMsg("gs.search.service_projects_severity")},this.getCalloutURL=function(e,s,t){return"portal/"+e+"#buginfo/"+s+"/"+t},this.getLabel=function(){return zgssearch.getI18NMsg("gs.search.service_projects_assignee")},this.getIcon=function(){return"zgs18_gsProjBugIcon"}},this.mod_7=function(s){this.setModFields=function(e,s){e.field2=s.owner,e.field4=s.category,e.field4Icon="zgs18_gsProjCategoryIcon zgs19_gsProjCategory",e.field4Label=zgssearch.getI18NMsg("common.category"),e.field4Title=s.category,e.footer_tip=this.getLabel(),this.fieldIconTitle=this.fieldIconLabel=""},this.getCalloutURL=function(e,s,t){return"portal/"+e+"#forums/"+s+"/"+t},this.constructOwnerImg=function(e){return s.constructPhotoObj(e)},this.getLabel=function(){return zgssearch.getI18NMsg("gs.search.service_projects_postedBy")}},this.mod_9=function(a){this.setModFields=function(e,s){e.field2_icon=s.scheduled_time?"zgs18_gsDateIcon":"",e.field2=s.scheduled_time,e.footer_tip=zgssearch.getI18NMsg("gs.search.service_projects_scheduledTime"),e.field4=e.field4Title=s.owner,e.field4Label=zgssearch.getI18NMsg("gs.search.service_projects_host"),e.field4Class="zgs19_gsMxWid40Per",e.field2_style="zgs19_gsMxWid80Per ",e.filter_style="zgs19_gsWid20Per",e.iconHolderClass="zgs19_gsCalcIconHolder"},this.getCalloutURL=function(e,s,t){return"portal/"+e+"#myworkcalendar/events/"+t},this.constructOwnerImg=function(e){var s=a.constructPhotoObj(e),t=e.scheduled_time;return t&&(t=(e=t.split(" "))[1].split(","),s.element='<div class="zgs19_gsCalcDateHolder" >'+t[0]+'</div><div class="zgs19_gsCalcMonthHolder">'+e[0]+"</div>"),s},this.getLabel=function(){return zgssearch.getI18NMsg("gs.search.service_projects_postedBy")},this.getTimeDetails=function(){return{title:zgssearch.getI18NMsg("gs.search.service_projects_scheduledTime"),timeKey:"scheduled_time"}}},this.getPreviewCardParams=function(e){let s={entity_id:e.id,account_id:this.getAccountId(),project_id:e.project_id,module:e.mod_id};return e.hasOwnProperty("task_list_id")&&(s.task_list_id=e.task_list_id),s},this.getMoreOwners=function(e){var s,t=zgssearch.GSConstant.PROJECTS,a=_jQueryGS(e).attr("accountId"),r=_jQueryGS(e).attr("index"),o=t+r,i=(new zgssearch.dashboardSearchActions).createActionType(e).getResultObject(t)||{},n=(i.hasOwnProperty(t)&&!_jQueryGS.isEmptyObject(i[t])?i[t][o]:zgssearch.getResultObject(zgssearch.GSConstant.PROJECTS,r,a)).owner;for(s in _jQueryGS("#zgs20_gsResultFilterDropDown").remove(),_jQueryGS(e).addClass("zgs19_gsMoreContextualFilter"),_jQueryGS(e).parent().parent().append(_jQueryGS("<div>",{id:"zgs20_gsResultFilterDropDown",class:"zgs20_gsResDDList zgs19_gsPdng4Px"})),_jQueryGS("#zgs20_gsResultFilterDropDown").append(_jQueryGS("<div>",{class:"zgs19_gsAssigneeTitle"}).text(zgssearch.getI18NMsg("gs.search.service_projects_assignee"))),n){var l,g=n[s],c=_jQueryGS("<img>",{id:"zgs20_gsAssigneeList_"+s,class:"zgs19_gsFetchImgLoader zgs19_gsAssigneesFetchImgLoader zgs19_gsfl",src:zgssearch.gsspacer}),d=g.zuid||"";""!==d&&"-1"!==d?(l=zgssearch.getThumbPhotoURL(d),d=_jQueryGS("<span>",{class:"zgs18_gsNoUserIcon zgs19_gsfl"}),zgssearch.renderPhoto("",l,"zgs19_gsAssigneeImg zgs19_gsfl","",c,d)):c=_jQueryGS("<span>",{class:"zgs18_gsNoUserIcon zgs19_gsfl"}),_jQueryGS("#zgs20_gsResultFilterDropDown").append(_jQueryGS("<div>",{class:"zgs19_gsAssigneeDDList"}).append(c).append(_jQueryGS("<span>",{class:"zgs19_gsfl zgs19_gsPdngTp3Px zgs19_gsPdLt6Px"}).text(g.name))),document.getElementById("zgs20_gsResultFilterDropDown").scrollIntoViewIfNeeded(!0)}}},zgssearch.notesTemplateFactory=function(){this.createCurServiceInstance=function(e){var s;return(s=e.service===zgssearch.GSConstant.EVERNOTE?new evernote:s).service=e.service,s.accId=e.accountId||"",s.offset=-1<e.offset?e.offset:"",s.parentId=e.parentId||"",s.setResponseObj=function(e){this.responseObj=e},s.evrObj={},s.calloutObj={},s.parentElem=e.parentElem||"",s.cardObj=e.cardObj||"",s.cardId=e.cardId||"",s.getAccId=function(){return this.accId},s.getService=function(){return this.service},s.getOffsetValue=function(){return this.offset},s.getevrObj=function(){return this.evrObj},s.getParentId=function(){return this.parentId},s.getResponseObj=function(){return this.responseObj},s.setCalloutHolder=function(e){this.calloutHolder=e},s.getCalloutHolder=function(){return this.calloutHolder||"zgs20_gsEvernoteCallout"},s.setPreviewParentId=function(e){this.previewId=e},s.getPreviewParentId=function(){return this.previewId},s.setCommonResultProperties=function(e){var s=this.getOffsetValue(),t={};t.index=s,t.service=this.getService(),t.author=e.author,t.CONNECTOR_ID=e.CONNECTOR_ID,t.tagId=e.id,t.name=e.name,t.nameTitle=zgssearch.getI18NMsg("gs.r.nb.notes");var a=zgssearch.getFilterInfo(this.getService(),"modules","data")[this.accId];a.hasOwnProperty(e.nbId)||(zgssearch.notesTemplateInstance.newNotebookDataObj=zgssearch.hasOwnProperty("notesTemplateInstance")&&zgssearch.notesTemplateInstance.hasOwnProperty("newNotebookDataObj")&&zgssearch.notesTemplateInstance.newNotebookDataObj||{},zgssearch.notesTemplateInstance.newNotebookDataObj[e.nbId]=[e.nbName],a[e.nbId]=e.nbName,zgssearch.getWidgetResponseData(this.getService()).aD[zgssearch.getCurrentValue("accounts",zgssearch.GSConstant.EVERNOTE)].modules[0][e.nbId]=e.nbName),t.nbId=e.nbId,t.nbName=e.nbName,t.created=e.created,t.url=e.openUrl,t.dateTypeTxt=zgssearch.getI18NMsg("gs.search.sevice_docs_lastModifiedTime"),t.iconTxt=zgssearch.getCapitalizedLtr(e.name),t.updated=e.updated,t.footer_tip=zgssearch.getI18NMsg("common.author"),t.gsAttr=this.cardObj?this.cardObj.gsattr:"searchResultTable";e="zgs20_gs"+this.getService()+"Results_"+s;return this.cardObj?e="zgs20_"+this.cardObj.cardId+"_"+s:zgssearch.multiPageEnabled&&(e="zgs20_gs"+this.accId+"Results_"+s),t.id=e,t},s.renderResults=function(){var e=this.getResponseObj(),s=zgssearch.getCurrentValue("accounts",zgssearch.GSConstant.EVERNOTE),t="";t=0!=s?zgssearch.getFilterInfo(zgssearch.GSConstant.EVERNOTE,"modules","data")[s]:zgssearch.getFilterInfo(this.getService(),"modules","dispname"),this.evrObj={serviceName:this.getService(),accId:this.getAccId(),curNotebook:t},this.evrObj.results=[],this.evrObj.results=this.formatResults(e),this.appendResults()},s.appendResults=function(){var e,s,t,a=this.getService();zgssearch.isHandlebarLoaded()?(s=zgssearch.Handlebar_Template.getResultsTemplateName(this.getService()),e=search_handlebars.templates[s],t=this.getParentId(),s=this.parentElem||_jQueryGS("#"+t),t=this.getevrObj(),this.evrObj.type=this.cardObj?this.cardObj.type:"Search",1<this.getOffsetValue()?s.append(e(t)):s.html(e(t))):(null!=(a=(new zgssearch.ResourceFactory).createInstance(a,!0))&&a.load(),this.appendResults())},s.commonCalloutParams=function(e){var s={};s.serviceName=this.getService(),s.CONNECTOR_ID=e.CONNECTOR_ID,s.nbId=e.nbId},s.getPreviewCrdParams=function(e){return this.getCrdParams(e)},s.setCommonCalloutProperties=function(e,s){var t=zgssearch.getCurrentSelectedElem()||{},a=this.getService();this.calloutObj.service=a,this.calloutObj.url=zgssearch.fetchCalloutUrl(a,e),this.calloutObj.labelAttr=_jQueryGS(t.resultTitle).attr("gslabel")||"",this.calloutObj.curCalloutObj=s,this.calloutObj.calloutId=s?s.calloutId:"zgs20_gsEvernoteCallout",this.calloutObj.calloutHolderId=!s||s.type!==zgssearch.dbCrdCalloutType&&s.type!==zgssearch.crdPagecalloutType?"zgs20_gsEvernotePreviewHolder":"zgs20_gs_"+s.calloutId+"PreviewHolder",this.setCalloutHolder(this.calloutObj.calloutId),this.setPreviewParentId(this.calloutObj.calloutHolderId)},s.constructCalloutResponse=function(e,s,t){var a=e.response||s.response,t=t.searchObj;this.setCommonCalloutProperties(s,t),this.setServiceSpecificCalloutInfo(s),this.calloutObj.calloutPrevUrl=a.hasOwnProperty("url")?a.url:"";var a=t?t.parentElem:"#zgs20_gsSearchResultRight",r=s.hasOwnProperty("entity_id")&&!s.hasOwnProperty("action"),o=[];for(let e=0;e<this.calloutObj.actions_list.length;e++){var i=this.calloutObj.actions_list[e],n=i.gs_label;r&&"savePreview"===n||o.push(i)}this.calloutObj.actions_list=o,this.renderCalloutView(e,s,a,t)},s.renderCalloutView=function(e,s,t,a){var r=zgssearch.Handlebar_Template.getCalloutTemplateName(this.getService()),r=search_handlebars.templates[r];_jQueryGS(t).html(r(this.calloutObj));r=zgssearch.getFourDotLoader("zgs20_gsNotesTemplateCalloutLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsConnectorprevLoader");_jQueryGS("#"+a.calloutId).append(r);a=new zgssearch.ZSPreview,r=this.getPreviewParentId(),a=a.createPreviewObj(zgssearch.IFRAME);this.calloutObj.calloutPrevUrl&&(a.setIframeUrl(this.calloutObj.calloutPrevUrl),a.setIframeClassName("zgs19_Border0px zgs19_gsDocsIframeTag zgs19_gsIframeBgColor zgs19_gsVisbHdn"),a.setIframeId("callout_iframe_"+(new Date).getTime())),a.setCardObj(this.cardObj),a.setPreviewHolder("evernotepreviewHolder"),a.setCalloutHolder(this.getCalloutHolder()),a.setParentId(r),a.setLoaderIconId("zgs20_gsNotesTemplateCalloutLoader"),a.renderPreview(),zgssearch.calloutVisitRequest();a=zgssearch.getTargetElem(this.getCalloutHolder());zgssearch.setGSTagElems(a),this.calloutObj.curCalloutObj.iconDisplay||(_jQueryGS(a.maxpreview).css("display","none"),_jQueryGS(a.actionPipe).css("display","none")),_jQueryGS(a.minpreview).css("display","none"),_jQueryGS(a.calloutFooter).scrollTop(0),_jQueryGS(a.calloutFooter).scrollLeft(0),this.setCalloutEleSize()},s.setServiceEleSize=function(e,s){this.setCalloutEleSize(),_jQueryGS("#"+e).css("height",s+"px")},s.setCalloutEleSize=function(){var e=zgssearch.getTargetElem(this.getCalloutHolder());zgssearch.setGSTagElems(e);var s=0,t=_jQueryGS(e.header).height();"none"!=_jQueryGS(e.metaInfo).css("display")&&(s=_jQueryGS(e.metaInfo).height());s=_jQueryGS("#"+this.getCalloutHolder()).height()-(t+s);s-=_jQueryGS(e.calloutFooter).outerHeight(!0)-_jQueryGS(e.calloutFooter).height(),zgssearch.isMobViewport()&&(s-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(e.calloutFooter).css("height",s+"px")},s.calloutErrorMsg=function(e,s){zgssearch.getCurrentSelectedElem()&&(zgssearch.hideCalloutLoader(s),e="ERROR"===e?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.connector.status.callout.errortext"),zgssearch.calloutErrorPage(s,e))},s}};var evernote=function(){this.formatResults=function(e){var t=this,a=[];return e&&e.forEach(function(e){var s=t.setCommonResultProperties(e);s.accId=e.CONNECTOR_ID,s.accId=e.CONNECTOR_ID,s.gsfilter="evernoteNotebooks",("0"!=zgssearch.getCurrentValue("modules",zgssearch.GSConstant.EVERNOTE)&&"all"!==zgssearch.getSearchType()||""!=t.cardObj&&"Card"==t.cardObj.type)&&(s.noFilter=!0,s.gsfilter=""),a.push(s),t.offset++}),a},this.getCrdParams=function(e){var s=e.accId||zgssearch.getResultAccountId();return{entity_id:e.id,app_id:zgssearch.getAppIdForCloudApps(s),connector_id:s,notebook_id:e.nbId}},this.callOutParams=function(e){var s=zgssearch.getCurrentSelectedElem(),t=this.accId||s&&s.getAttribute&&s.getAttribute("acc_id")||e.connector_id||"",a=zgssearch.getAppIdForCloudApps(t)||e.app_id||"",s=window.location.protocol+"//"+window.location.host;return"action=getEvernotePreviewUrl&service_name="+zgssearch.GSConstant.EVERNOTE+"&connector_id="+t+"&note_id="+e.id+"&app_id="+a+"&domain_url="+s+"&isWDEnabled="+zgssearch.addToWDEnabled()},this.getCalloutActionsList=function(){var e=[],s={gs:"calloutActionOptions",gs_label:"open"};return s.i18n_value=zgssearch.I18N.getValue("common.open"),e.push(s),(s={gs:"calloutActionOptions",gs_label:"copyLink"}).i18n_value=zgssearch.I18N.getValue("gs.search.callout.copylink"),e.push(s),(s={gs:"calloutActionOptions",gs_label:"savePreview"}).i18n_value=zgssearch.I18N.getValue("gs.search.callout.savePreviewCard"),e.push(s),e},this.setServiceSpecificCalloutInfo=function(e){this.calloutObj.author=e.author,this.calloutObj.created=e.created,this.calloutObj.nbName=e.nbName,this.calloutObj.nbName=e.nbName,this.calloutObj.title=e.name,this.calloutObj.updated=e.updated,this.calloutObj.tags=e.tags,this.calloutObj.actions_list=this.getCalloutActionsList(),this.calloutObj.iconTxt=zgssearch.getCapitalizedLtr(e.name),this.calloutObj[zgssearch.commonTemplateConstants.time]=e.display_time,this.calloutObj.cursorClass="zgs19_gsCurPointer"},this.downloadEvernoteAttachment=function(e){var s=e.connector_id||"",t=zgssearch.getAppIdForCloudApps(s,zgssearch.GSConstant.EVERNOTE),a={};a.connector_id=s,a.service_name=zgssearch.GSConstant.EVERNOTE,a.action="getENNoteAttachDownloadUrl",a.note_id=e.hasOwnProperty("note_id")?e.note_id:"",a.res_hash=e.hasOwnProperty("res_hash")?e.res_hash:"",a.app_id=t,a.attach_name=e.hasOwnProperty("attach_name")?e.attach_name:"";t=zgssearch.GSConstant.ud_download_server_url,e=zgssearch.GSConstant.ud_service_name,e=t+"?event-id="+("search_download_"+(new Date).getTime())+"&x-cli-msg="+JSON.stringify(a)+"&x-service="+e;zgssearch.network.download_file(e)},this.addToWD=function(e,s,t,a){var r={};r.service=zgssearch.GSConstant.EVERNOTE,r.attachId=s,r.folderId=t,r.resHash=a,r.connectorId=e.accId||"",zgssearch.connectors.addFileToWD(r,e)},this.evernoteImgBlobPostMsgCallback=function(e,s){var t={action_type:"evernoteImgResp",imgBlob:e,id:s.key},e=s.origin;s.target.postMessage(t,e)}};!function(S,p){var n=p.document,b=p._jQueryGS,y=S.getGSConstantObj()||{};S.callOutURL="/zgssearch/gsCallOutData",S.connectorCallOutURL="/zgssearch/exconnector/getCalloutData",S.clickPositionURL="/zgssearch/gsClickPosition",S.attachmentURL="/zgssearch/gsAttachments",S.curCalloutCount=S.curCalloutCount||0,S.getCurrentResponseObj=S.getCurrentResponseObj||{},S.httpReqForCallout=new Array,S.regNull=new RegExp("^null$","i"),S.isMaxCalloutOpen=!1,S.calloutSearchType="",S.searchCalloutObj=S.searchCalloutObj||{},S.xmlhttpCalloutReq=S.xmlhttpCalloutReq||"",S.convertToKBMB=function(e){var s=Math.round(e/1024),t=Math.round(s/1024);return 0<t?t+" MB":0<s?s+" KB":e+" Bytes"},S.moveToViewPort=function(e,s){var t=s[0].offsetTop,a=e.height(),s=e.scrollTop();s<t&&t<s+a||e.scrollTop(t-a/2)},S.calloutLoaderIcon=function(e){var s=e.type,t=!s||s!==S.dbCrdCalloutType&&s!==S.crdPagecalloutType?"zgs20_gscoutLoadHolder":e.calloutId+"_Loader";b("#zgs20_gscoutLoadHolder").remove();s=S.getFourDotLoader("zgs20_gsCalloutLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsCalloutLoader");b(e.parentElem).find("#"+t).length<=0&&b(e.parentElem).append(b("<div>",{id:t,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone zgs19_gsZIndex101"}).append(s))},S.calloutErrorPage=function(e,s){var t=e.type,t=!t||t!==S.dbCrdCalloutType&&t!==S.crdPagecalloutType?"zgs20_gsCalloutErrorPage":e.calloutId+"_ErrorPage";b("#zgs20_gsCalloutErrorPage").remove(),b(e.parentElem).append(b("<div>",{id:t,class:"zgs19_gsCalloutErrorMsg"}).text(s))},S.showCalloutLoader=function(e){var s=e?e.type:"",e=!s||s!==S.dbCrdCalloutType&&s!==S.crdPagecalloutType?"zgs20_gscoutLoadHolder":e.calloutId+"_Loader";b("#"+e).css("display","block")},S.hideCalloutLoader=function(e){var s=(e=e||S.searchCalloutObj).type,e=!s||s!==S.dbCrdCalloutType&&s!==S.crdPagecalloutType?"zgs20_gscoutLoadHolder":e.calloutId+"_Loader";b("#"+e).css("display","none")},S.hideCalloutHolder=function(){b(".zgs19_gsSearchResultRight").find(".zgs19_gsServiceCalloutHolder").css("display","none"),b("#zgs20_gsCalloutErrorPage").css("display","none")},S.getCurCalloutCount=function(){return S.curCalloutCount=S.curCalloutCount<500?S.curCalloutCount+1:1,S.curCalloutCount},S.getResultAccountId=function(){return S.getCurSelectedEleAttr("acc_id")},S.getCurrentResObj=function(){if(a=S.getCurrentSelectedElem()){var e=(a=b(a)).attr("acc_id"),s=a.attr("index"),t=a.attr("service"),a=t===S.GSConstant.CAMPAIGNS?a.attr("acc_id"):a.attr("module_name")||a.attr("workspace_id");return S.getResultObject(t,s,e,a)}return{}},S.loadCallout=function(e){var s;S.isDashboardViewOpened()?(s=S.getParentNode(e,"cardResults"))&&S.gscardsresult.loadCalloutforCard(s):S.isCardViewOpened()?(s=S.getParentNode(e,"cardPageResults"))&&S.gscards.loadCalloutforCard(s):(e=S.getParentNode(e,"searchResultTable"))&&e!==S.curSelectedEle&&(S.handleCalloutForMobileView(),S.highlightRes(e.id,""))},S.getCalloutData=function(g,c,d){var e=!(!d||!d.hasOwnProperty("cardCalloutType")||"preview"!=d.cardCalloutType);S.Utils.debounce(function(){if(S.isPreviewOpenedInComponent||!(!S.isDashboardViewOpened()&&!S.isCardViewOpened()&&S.isSearchViewTabOpened()&&!S.isMobViewport())||1===b(S.curSelectedEle).length&&b(S.curSelectedEle).is(":visible")){var e=b(g).attr("service")||c.serviceName,s=S.getCurCalloutCount(),t=S.mappedServiceList[e].callout,a=d?d.type:"search";"search"!==a||S.isPreviewOpenedInComponent?a!==S.dbCrdCalloutType&&a!==S.crdPagecalloutType||!S.hasOwnProperty("cardObjForCurrentSelectedElem")||(S.cardObjForCurrentSelectedElem[d.cardId]={resultObj:c,calloutRespObj:""}):(b("#zgs20_gsDocsPreviewHolder").empty(),b("#zgs20_gsDocsPreviewHolder").css("visibility","hidden"),b("#zgs20_gsMailActionHolder").empty().hide(),S.hideCalloutHolder()),d.service=e,d.calloutMaximised="true"==b(d.parentElem).attr("maximised")&&d.iconDisplay,S.setCalloutSearchType(e);var r,o={searchObj:d,curCalloutCount:s},i=S.getCurrentSelectedElem();switch(e){case y.MAILS:case y.STREAMS:case y.CRM:case y.WIKI:case y.BOOKS:case y.INVOICE:case y.INVENTORY:case y.CAMPAIGNS:case y.O365MAIL:case y.CALENDAR:case y.PEOPLE:case y.BIGIN:case y.WORKDRIVE:case y.GMAIL:case y.ZENDESK:S[t].createCalloutTemplate(s,d),S.handleBeforeSentCase(d),S.calloutAjaxHandler(t,c,s,o);break;case y.CONNECT:case y.LEARN:S[t].createCalloutTemplate(s,d),S.handleBeforeSentCase(d),S[t].calloutResponse({},c,i,o);break;case y.CREATOR:S[t].createCalloutTemplate(s,d),S.handleBeforeSentCase(d),c.hasOwnProperty("isE")&&"false"==c.isE?S[t].calloutResponse({},c,i,o):S.calloutAjaxHandler(t,c,s,o);break;case y.SLACK:S[t].createCalloutTemplate(s,d),S.handleBeforeSentCase(d),c.hasOwnProperty("conid")||"2"!=c.result_type?S.calloutAjaxHandler(t,c,s,o):S[t].calloutResponse({},c,i,o);break;case y.REPORTS:case y.ORGCONTACTS:case y.PERSONALCONTACTS:case y.NOTEBOOK:case y.SALESIQ:S[t].createCalloutTemplate(s,d),S[t].calloutResponse(c,i,o);break;case y.DROPBOX:case y.GOOGLEDRIVE:case y.BOX:case y.ONEDRIVE:c.hasOwnProperty("is_preview")&&0==c.is_preview?(r=new S.FileMgmtFactory,(l={}).service=e,o.searchObj.cardId&&(l.cardObj=o.searchObj),r.createFileMgmtService(l).constructCalloutResponse({},c,o)):(S.handleBeforeSentCase(d),S.calloutAjaxHandler(t,c,s,o));break;case y.SALESFORCE:case y.ASANA:case y.EVERNOTE:S.handleBeforeSentCase(d),S.calloutAjaxHandler(t,c,s,o);break;case y.WEBSITE:var n=c.aId;S[t].createCalloutTemplate(s,d),n&&(S.isIE||S.isExtension||p.hasOwnProperty("zmList")||y.hasOwnProperty("ziaOrigin")&&y.ziaOrigin===y.MAILS||"search"!==d.type)?(S.handleBeforeSentCase(d),S.calloutAjaxHandler(t,c,s,o)):S[t].calloutResponse({},c,i,o);break;case y.SUPPORT:c.module_id;S[t].createCalloutTemplate(s,d),S.handleBeforeSentCase(d),S.calloutAjaxHandler(t,c,s,o);break;case y.CHAT:S.hasWMSTranscript?(S[t].createCalloutTemplate(s),S[t].calloutResponse({},c,i)):(S[t].createCalloutTemplate(s),S.handleBeforeSentCase(d),S.calloutAjaxHandler(t,c,s));break;case y.CLIQ:S.gscliq.clearChatPreview(),S[t].createCalloutTemplate(s,d),S[t].calloutResponse({},c,i,o);break;case y.ORGRESOURCES:!c.hasOwnProperty("cpt")||"5"!==c.cpt&&"8"!==c.cpt?S[t].createCalloutTemplate(s,d):"5"!==c.cpt&&"8"!==c.cpt||S.getConTemp("zgs20_gsConnectorCallout",s,d),"2"===c.cpt?(S.handleBeforeSentCase(d),S.calloutAjaxHandler(t,c,s)):S[t].calloutResponse({},c,i,o);break;case y.PROJECTS:var l=new S.ZSProjectMgmtFactory,n={};n.service_name=e,d.cardId&&(n.cardObj=d),n.acc_id=c.accId||S.getResultAccountId(),n.results=c,n.resultObj=c,S.projectMgmtCalloutObj=l.createProjectMgmtInstance(n),S.projectMgmtCalloutObj.calloutResponse()}S.postCalloutRenderingActions(d)}},300,"calloutCallsHandler",e)},S.postCalloutRenderingActions=function(e){var s,t,a=e.hasOwnProperty("calloutId")?e.calloutId:"";a&&(t=(s=b("#"+a)).find(".zgs19_gsMobDisableFields"),a=S.isDashboardScopeActive()||S.isCardScopeActive(),e.calloutMaximised?(s.find(".zgs18_gsIframeMaximize").css("display","none"),s.find(".zgs18_gsIframeMinimize").css("display","block"),a&&S.showCalloutPrevNavigationOptions(t,!0),S.manageNavOptionsVisibilityForCallout(t)):a&&S.hideCalloutPrevNavigationOptions(t))},S.getCurSelectedEleAttr=function(e){var s=S.getCurrentSelectedElem();return b(s).attr(e)||""},S.handleBeforeSentCase=function(e){S.calloutLoaderIcon(e),S.showCalloutLoader(e)},S.calloutAjaxHandler=function(e,s,t,a){var r=!(!a.hasOwnProperty("searchObj")||"preview"!=a.searchObj.cardCalloutType);S.Utils.debounce(function(){S.curCalloutCount==t&&S.calloutAjaxRequest(e,s,t,a)},300,"calloutReq",r)},S.calloutVisitRequest=function(){var e,s,t,a,r=S.getCurrentSelectedElem();r&&(e=b(".zgs19_gsSearchResultTable").index(r)+1,s=S.getSearchType()===y.ALL,t=S.getCurSelectedEleAttr("service"),a=parseInt(S.getCurSelectedEleAttr("index"))+1,r=b("#zgs20_gsServicePanelList"+t),r=b(".zgs19_gsServiceMenu").index(r)+1,S.uri(S.POST,S.clickPositionURL,"cpos="+e+"&iap="+s+"&cser="+t+"&rpos="+a+"&spos="+r,{},function(){}))},S.calloutAjaxRequest=function(g,c,e,s,t){var d,a,r,p,o,i,n=t||S.getCalloutSearchType();n===S.GSConstant.SALESFORCE?((o={}).service_name=n,o.acc_id=S.getResultAccountId(),s.searchObj.cardId&&(o.cardObj=s.searchObj),r=new S.ZSCRMFactory,a=(d=r.createCRM(o)).calloutParams()):-1<S.SERVICES_STORAGE.indexOf(n)?(t=new S.FileMgmtFactory,(r={}).service=n,s.searchObj.cardId&&(r.cardObj=s.searchObj),a=(p=t.createFileMgmtService(r)).calloutParams(c)):-1<S.SERVICES_PROJECT.indexOf(n)?(i=new S.ZSProjectMgmtFactory,(o={}).service_name=n,s.searchObj.cardId&&(i.cardObj=s.searchObj),o.acc_id=S.getResultAccountId()||c.accId,o.resultObj=c,S.projectMgmtCalloutObj=i.createProjectMgmtInstance(o),a=S.projectMgmtCalloutObj.calloutParams(c),i=S.getFourDotLoader("zgs20_gsProjectsCalloutLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsConnectorprevLoader"),b("#zgs20_gsSearchResultRight").empty().append(i)):a=-1<S.SERVICES_NOTES.indexOf(n)?(o=new S.notesTemplateFactory,(i={}).service=n,i.accountId=S.getResultAccountId()||c.accId,s.searchObj.cardId&&(i.cardObj=s.searchObj),S.notesTemplateInstance=o.createCurServiceInstance(i),S.notesTemplateInstance.callOutParams(c)):S[g].calloutParams(c,s);s=s||{curCalloutCount:e},e=-1<S.getEnabledCloudApps().indexOf(n)?S.connectorCallOutURL:S.callOutURL;S.isPreviewOpenedInComponent&&(S.ZSNetwork.abortOngoingCalloutCalls(),s.isCalloutReq=!0),!S.isArrayContain(n,S.handlebarDependentService)||S.isHandlebarLoaded()||null!=(n=(new S.ResourceFactory).createInstance(n,!0))&&n.load(),S.uri(S.GET,e,a,s,function(e,s,t){var a,r,o,i,n,l;S.isPreviewOpenedInComponent||!(!S.isDashboardViewOpened()&&!S.isCardViewOpened()&&S.isSearchViewTabOpened()&&!S.isMobViewport())||1===b(S.curSelectedEle).length&&b(S.curSelectedEle).is(":visible")?(r=(a=t.args||{}).curCalloutCount,o=S.curCalloutCount,!(i=a.searchObj||{})&&b.isEmptyObject(i)&&(l=S.getSearchCalloutObj(n),a.searchObj=l),n=i.hasOwnProperty("service")?i.service:S.getCalloutSearchType(),t=i.hasOwnProperty("type")?i.type:"search",l=i.hasOwnProperty("curSelectedEle")?i.curSelectedEle:S.getCurrentSelectedElem(),o!=r&&t!==S.dbCrdCalloutType&&t!==S.crdPagecalloutType||("error"!=s||a.updateRecord?(t=S.jsonParse(e),e=Object.assign({},c,t),(new S.dashboardSearchActions).createActionType().setCurrentResponseObj(e,i?.cardId),n===S.GSConstant.SALESFORCE?(d.cardObj=a.searchObj,d.setCurrentResObj(),d.calloutResponse(t,a)):-1<S.SERVICES_STORAGE.indexOf(n)?p.constructCalloutResponse(t,c,a):n===S.GSConstant.PEOPLE?S[g].calloutResponse(t,l,a):-1<S.SERVICES_PROJECT.indexOf(n)?(S.projectMgmtCalloutObj.setCalloutResponse(t.response),S.projectMgmtCalloutObj.parent=a.searchObj.parentElem,S.projectMgmtCalloutObj.calloutResponse(a)):-1<S.SERVICES_NOTES.indexOf(n)?S.notesTemplateInstance.constructCalloutResponse(t,c,a):S[g].calloutResponse(t,c,l,a)):"error"==s&&(s=a.searchObj,S.hideCalloutLoader(s),(-1<S.SERVICES_STORAGE.indexOf(n)?p:-1<S.SERVICES_NOTES.indexOf(n)?S.notesTemplateInstance:S[g]).calloutErrorMsg("ERROR",s)),S.postCalloutRenderingActions(a.searchObj))):b("#zgs20_gsSearchResultRight").empty()})},S.renderCalloutUserPhoto=function(t,e,a){S.network.imageRenderer.renderImage(e,null,function(e){handleCalloutUserPhotoError=function(e){S.renderCalloutNoUserPhoto(e.getAttribute("gs"),e.getAttribute("group")),S.removeEle(e)};var s=b("<img>",{class:"zgs19_gsDisplayNone",gs:t,group:a})[0];e?b(s).attr("src",e).off().on({load:function(){var e=S.getTargetElem(this.getAttribute("gs"));e&&(b(e).attr("src",this.src),b(e).removeClass("zgs19_gsFetchLoader zgs19_gsFetchImgLoader zgs19_gsResultsUniIcons zgs19_gsFetchImgLoaderMar zgs19_gsCalloutNoUserImg").addClass("zgs19_gsCalloutUserImg")),S.removeEle(this)},error:function(){handleCalloutUserPhotoError(this)}},!0):this.handleCalloutUserPhotoError(s)})},S.renderBigCalloutUserPhoto=function(e,s){try{var t=b("<img>",{class:"zgs19_gsDisplayNone",gs:e,src:s})[0];b(t).off().on({load:function(){var e=S.getTargetElem(this.getAttribute("gs"));e&&(b(e).attr("src",this.src),b(e).removeClass("zgs19_gsFetchImgLoader zgs19_gsDocsFetchImgLoader").addClass("zgs19_gsDocsCalloutImgNew")),S.removeEle(this)},error:function(){var e=this.getAttribute("gs"),e=S.getTargetElem(e);e&&(b(e).attr("src",S.gsspacer),b(e).removeClass("zgs19_gsFetchImgLoader zgs19_gsDocsFetchImgLoader zgs19_gsCalloutUserImg").addClass("zgs19_gsDocsCalloutImgNew zgs19_gsResultsUniIcons zgs19_gsDocsCalloutNoPhotoNew")),S.removeEle(this)}},!0)}catch(e){S.throwClientError("Unable to load callout photo.",e)}},S.renderCalloutNoUserPhoto=function(e,s){e=S.getTargetElem(e);e&&(e.setAttribute("src",S.gsspacer),"true"==s?b(e).removeClass("zgs19_gsFetchLoader zgs19_gsCalloutUserImg").addClass("zgs19_gsResultsUniIcons zgs19_gsChatGroupIcon zgs19_gsCalloutGroupMarg"):b(e).removeClass("zgs19_gsFetchLoader zgs19_gsCalloutUserImg").addClass("zgs19_gsResultsUniIcons zgs19_gsCalloutNoUserImg"))},S.getFileImageClass=function(e){e=e.replace(/^.*\./,"");return"ai"==e||"jpg"==e||"bmp"==e||"png"==e||"gif"==e||"psd"==e||"jpeg"==e||"ttf"==e||"svg"==e?"image":"3g2"==e||"3gp"==e||"3gpp"==e||"avi"==e||"flv"==e||"m4v"==e||"mkv"==e||"mov"==e||"mp4"==e||"mpeg"==e||"mpg"==e||"ogv"==e||"vob"==e||"webm"==e||"webmv"==e||"wmv"==e||"vcf"==e||"vlc"==e||"fla"==e||"swf"==e?"video":"m4a"==e||"mp3"==e||"oga"==e||"ogg"==e||"wav"==e||"webma"==e?"music":"doc"==e||"docm"==e||"docx"==e||"dot"==e||"dotm"==e||"dotx"==e||"ds"==e||"sxw"==e||"odt"==e||"rtf"==e||"tex"==e?"word":"csv"==e||"ods"==e||"sxc"==e||"tsv"==e||"xls"==e||"xlsm"==e||"xlsx"==e?"xl":"odp"==e||"pps"==e||"ppsx"==e||"ppt"==e||"pptx"==e||"sxi"==e?"power":"pdf"==e?"pdf":"html"==e||"htm"==e||"xml"==e||"jsp"==e||"jspf"==e||"php"==e||"js"==e||"css"==e||"sql"==e?"html":"zip"==e?"zip":"txt"==e?"txt":"undefinedtype"},S.removeIDAndClassAttr=function(e,s){y.MAILS!=s&&b(e).children().each(function(){this.removeAttribute("id"),this.removeAttribute("class"),S.removeIDAndClassAttr(this)})},S.preventTableStyles=function(e){b(e).find("table").each(function(){var e={},s=b(this).attr("border");"none"==b(this).css("border-style")&&(e["border-color"]="gray",e["border-style"]="solid",e["border-width"]=(s||0)+"px");var t=b(this).attr("cellspacing"),s=b(this).css("border-spacing");(s=t||s&&"0px"!=s&&"0px 0px"!=s?"0px"==s||"0px 0px"==s?t+"px":s:"2px")&&(e["border-spacing"]=s),b(this).css(e),b(this).find("tbody, th, tr, td").each(function(){"none"==b(this).css("border-style")&&b(this).css(e)});var r=b(this).attr("cellpadding"),o=["padding-top","padding-right","padding-bottom","padding-left"];b(this).find("td").each(function(){for(var e=o.length,s=0;s<e;s++){var t=o[s],a=b(this).css(t),a=r||a&&"0px"!=a&&"0px 0px"!=a?"0px"==a||"0px 0px"==a?r+"px":a:"2px";b(this).css(t,a)}})});var r=["valign","bgcolor","align"],o=["vertical-align","background-color","margin"];b(e).find("table, tbody, th, tr, td").each(function(){for(var e=r.length,s=0;s<e;s++){var t=r[s],a=b(this).attr(t);a&&("align"==t&&(a="left"==a?"auto 0":"center"==a?"0 auto":"0 0 0 auto"),b(this).css(o[s],a))}})},S.preventStylesFromParentDomain=function(e,s){S.removeIDAndClassAttr(e,s),S.updateCalloutTooltip(e)},S.getURLHostName=function(e){var s=n.createElement("a");return s.href=e,s.hostname},S.getURLOrginName=function(e){var s=n.createElement("a");return s.href=e,s.origin},S.getURLWithoutProtocol=function(e){var s=n.createElement("a");return s.href=e,s.href.replace("http://","")},S.getURLPathName=function(e){var s=n.createElement("a");s.href=e;s=s.pathname;return"/"===s.charAt(0)?s.substring(1,s.length):s},S.updateCalloutTooltip=function(e){b(e).find("*[title]").each(function(){var e=b(this).attr("title");e&&(b(this).attr("gstitle",e),b(this).removeAttr("title"))})},S.renderContactsEmailId=function(e,s,t,a){a&&""!==a&&""!==a.trim()&&"-"!==a&&(b(e.lineicon).css("display","block"),b(s).append(b("<div>",{class:"zgs19_gsCalloutDocsUserInfo"}).append(b("<div>",{class:"zgs19_gsCalloutDocsLabel zgs19_gsOverflow"}).append(b("<span>").text(t))).append(b("<div>",{class:"zgs19_gsWidth100 zgs19_gsCalloutFieldsMultiline"}).append(b("<a>",{class:"zgs19_gsEmailElem zgs19_gsLinkElem zgs19_gsOverflowWrap zgs19_gsfl",rel:"noopener noreferrer",href:"mailto:"+a,target:"_blank",istip:!0,gstitle:a}).text(a)).append(b("<span>",{class:"zgs18_gsCopyLink zgs19_gsCopyMailId zgs19_gsDisplayNone",gstitle:S.getI18NMsg("gs.search.callout.copyMailId"),gs:"copyMailId"})))))},S.renderContactsInfo=function(e,s,t,a){a&&null!==a&&""!==a&&""!==a.trim()&&(b(e.lineicon).css("display","block"),b(s).append(b("<div>",{class:"zgs19_gsCalloutDocsUserInfo"}).append(b("<div>",{class:"zgs19_gsCalloutDocsLabel zgs19_gsOverflow"}).append(b("<span>").text(t))).append(b("<div>",{class:"zgs19_gsWidth100"}).append(b("<div>",{class:"zgs19_gsCalloutDocsAuthor zgs19_gsOverflowWrap zgs19_gsfl",gstitle:a}).text(a)))))},S.renderActionableElems=function(e,s,t,a,r,o){a&&null!==a&&""!==a&&""!==a.trim()&&(b(e.lineicon).css("display","block"),b(s).append(b("<div>",{class:"zgs19_gsCalloutDocsUserInfo"}).append(b("<div>",{class:"zgs19_gsCalloutDocsLabel zgs19_gsOverflow"}).append(b("<span>").text(t))).append(b("<div>",{class:"zgs19_gsWidth100"}).append(b("<div>",{class:"zgs19_gsLinkElem zgs19_gsCalloutReportingTo zgs19_gsOverflowWrap zgs19_gsfl",gs:o,gstitle:r,value:a}).text(r)))))},S.renderURL=function(e,s,t,a){a&&null!==a&&""!==a&&""!==a.trim()&&(b(e.lineicon).css("display","block"),b(s).append(b("<div>",{class:"zgs19_gsCalloutDocsUserInfo"}).append(b("<div>",{class:"zgs19_gsCalloutDocsLabel zgs19_gsOverflow"}).append(b("<span>").text(t))).append(b("<div>",{class:"zgs19_gsWidth100"}).append(b("<a>",{class:"zgs19_gsCalloutDocsAuthor zgs19_gsOverflowWrap zgs19_gsfl",gstitle:a,target:"_blank",href:a,rel:"noopener noreferrer"}).text(a)))))},S.renderInstantORWebInfo=function(e,s,t,a,r){r&&""!==r&&(b(e.lineicon).show(),a=b("<div>",{class:"zgs19_gsCalloutDocsUserInfo"}).append(b("<div>",{class:"zgs19_gsCalloutDocsLabel zgs19_gsOverflow"}).append(b("<span>").text(a))),"url"===t?((t=r[0]).indexOf(S.httptxt+"://")<0&&t.indexOf(S.httpstxt+"://")<0&&(t=S.httptxt+"://"+t),a.append(b("<div>",{class:"zgs19_gsWidth100"}).append(b("<a>",{class:"zgs19_gsEmailElem zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl",gs:"contactsurl",href:t,url:t,istip:!0,gstitle:r[0]}).text(r[0])))):a.append(b("<div>",{class:"zgs19_gsWidth100"}).append(b("<div>",{class:"zgs19_gsCalloutDocsAuthor zgs19_gsOverflow zgs19_gsfl",gstitle:r[0]}).text(r[0]))),b(s).append(a))},S.closeIconCallout=function(){b("#zgs20_gsSearchResultRight").css("display","none"),b("#zgs20_gsSearchResultMiddle").css({width:"100%",display:"block"}),S.changeBGClass(S.curSelectedEle,"zgs19_gsSelectedElem","zgs19_gsUnSelectedElem"),S.curSelectedEle=""},S.minCalloutPreview=function(e,s,t){S.minCalloutPreviewChange(t);t=S.mappedServiceList[e].callout,t=(t=e===S.GSConstant.SALESFORCE?"gscrm":t)?S[t].getCalloutHolder():"";t||(e==S.GSConstant.ASANA?t=S.projectMgmtCalloutObj.getCalloutHolder():e==S.GSConstant.EVERNOTE?t=S.notesTemplateInstance.getCalloutHolder():e==S.GSConstant.PROJECTS&&(t=(new S.ZSProjectMgmtFactory).createProjectMgmtInstance({service_name:e}).getCalloutHolder()));t=S.getTargetElem(t);t&&(S.setGSTagElems(t),b(t.maxpreview).css("display","block"),b(t.minpreview).css("display","none"))},S.openCalloutPreview=function(e){let s=new S.dashboardSearchActions,t=s.createActionType(e);var a=t.getServiceName()||e.getAttribute("service");let r=t.getSearchDBCalloutObj();var o=r.hasOwnProperty("calloutId")&&r.calloutId?n.getElementById(r.calloutId):"",i=t.getCurrentResultObj(),e={searchObj:S.searchCalloutObj};y.WORKDRIVE==a?S.gsworkdrive.renderWorkDrivePreview(o,i):y.ORGRESOURCES==a?"3"==i.cpt?S.gsconnector.renderLinkDetails(o,i):S.gsconnector.renderConnectorPreview(o,i,e):S.isArrayContain(a,S.FINANCE_SUITE_SERVICES)?S.gsbooks.setBooksCalloutEleSize(o):y.SUPPORT==a?S.gssupport.setSupportCalloutEleSize(o):y.CRM==a&&(e="dashboardCard"===r.type,a=!!r.hasOwnProperty("cardCalloutType")&&"cardCalloutType"===r.cardCalloutType,S.gscrm.setCrmCalloutEleSize(o,a,e))},S.callbackForMinAndMaxPrev=function(e){var s=S.mappedServiceList[e].callout,s=S[s].getCalloutHolder(),s=S.getTargetElem(s);S.isArrayContain(e,S.FINANCE_SUITE_SERVICES)&&S.gsbooks.setBooksCalloutEleSize(s)},S.setScrollTopLeft=function(e){b(e).scrollTop(0),b(e).scrollLeft(0)},S.getNewTabTip=function(e){var s=S.getI18NMsg("common.new_tab"),t=S.getMappedServiceList();return t.hasOwnProperty(e)&&(e=t[e]||{},s=S.getI18NMsg("gs.search.link.openin")+" "+e.displayName+" "+S.getI18NMsg("gs.search.link.app")),s},S.addMenuContent=function(e,s,t,a,r){var o=s.zuid,i=s.isGrp,n="",l="",g="",c="",d="",p="",u=-1,h=b(e).text(),_=b(e).attr("gs"),m="zgs20_gsChatWithUser";switch(t){case y.PEOPLE:p=s.mailid,g=h;break;case y.PERSONALCONTACTS:p=s.email,g=s.full_name;break;case y.MAILS:"receiver"===_?(p=S.gsmails.toAddr,o=S.gsmails.toZuid,g=S.gsmails.toName,i=S.gsmails.isGroup):"sender"===_&&(g=s.sender,p=s.from_address);break;case y.CLIQ:g=s.title,p=a.oem,o=a.owner;break;case y.CONNECT:case y.LEARN:g=s.author,p=s.em;break;case y.SUPPORT:g=s.CONTACTNAME||s.ACCOUNTNAME,p=s.EMAIL||S.gssupport.email,o=S.gssupport.zuid,i=S.gssupport.isGroup,"3"!==s.module_id&&"4"!==s.module_id||(p=s.EMAIL,o=s.zuid,i=s.isGrp);break;case y.WIKI:g=s.dN,p=s.em;break;case y.REPORTS:o=s.mZUID,"Me"===(p=s.mBy)?(g=S.GSConstant.cun,p=S.GSConstant.cue,o=S.GSConstant.cuz):g=s.auth;break;case y.CREATOR:g=s.auth,p=s.em;break;case y.BOOKS:"contacts"===s.modules?(g=h,p=s.email):"recurring_invoices"===s.modules&&(g=h,p=S.gsbooks.email,o=S.gsbooks.zuid,i=S.gsbooks.isGroup);break;case y.INVOICE:case y.INVENTORY:"contacts"===s.modules?(g=h,p=s.email):"recurring_invoices"===s.modules&&(g=h,p=S.gsbooks.Email,o=S.gsbooks.zuid);break;case y.CAMPAIGNS:var z=S.getResultAccountId();"2"===z?(g=s.title,p=s.c_mail):"3"===z&&(g=s.oNam,p=s.em);break;case y.WORKDRIVE:g=s.author,p=s.em;break;case y.ORGRESOURCES:z=s.cpt||"";z&&"5"==z&&(g=s.cnt||"",p=s.emid||"");break;case y.NOTEBOOK:g=S.GSConstant.cun,p=S.GSConstant.cue,o=S.GSConstant.cuz;break;case y.ASANA:r&&(p=r.email);break;case y.O365MAIL:case y.GMAIL:let e=h.match(/<([^>]+)>/g);g=h.replace(/<[^>]+>/g,"").trim(),p=e?e[0].slice(1,-1):h}var v=""!==g&&g?g:h;let f="";""!==p&&p&&"null"!==p?(l=p,f=b("<span>",{class:"zgs18_gsCopyLink zgs19_gsCopyMailId",gstitle:S.getI18NMsg("gs.search.callout.copyMailId"),gs:"copyMailId"}),t!=y.ASANA&&t!=y.GMAIL&&t!=y.O365MAIL&&(d=b("<div>",{id:"zgs20_gssendmail",class:"zgs19_gsAction zgs19_gsCurPointer",gsa:"mc-cm_sendMail_"+t,gs:"contextMenuAction",action:"sendMail",email:l}).text(S.getI18NMsg("gs.search.callout.send_mail_action")))):(l=v,t==y.ASANA&&(l=S.getFourDotLoader("zgs20_gsAsanaStoryAuthorLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18"))),!o||-1==o||""===o||i&&"false"!=i?n=l:(o!=S.GSConstant.cuz&&(c=b("<div>",{id:"zgs20_gsChatAction",class:"zgs19_gsAction zgs19_gsCurPointer",gsa:"mc-cm_chatWithUser_"+t,gs:"contextMenuAction",action:"chatWithUser",chatid:o}).text(S.getI18NMsg("gs.search.result.chat.callout.continueChat"))),n=v,u=o);e="";t!=y.ASANA&&(e=b("<div>",{id:"zgs20_gsMenuSearchFor",class:"zgs19_gsAction zgs19_gsCurPointer",gsa:"mc-cm_searchUser_"+t,gs:"contextMenuAction",action:"searchUser",query:n,value:u,eId:l}).text(S.getI18NMsg("gs.search.service_search_for")+" ").append(b("<span>").text('"'+n+'"')));u="",n=S.isArrayContain(t,S.getEnabledCloudApps());S.isDashboardEnabled&&y.onTheFlyDashboard&&!n&&l&&S.emailRegexPattern.test(l)&&(u=b("<div>",{class:"zgs19_gsAction zgs19_gsCurPointer zgs19_onTheFlyContextOption",gs:"onTheFlyDB",email:l}).text(S.I18N.getValue("gs.dashboard.dashboard_for",[l])));var C,u=b("<div>",{id:"zgs20_gsMenuPopUp",class:"zgs19_gsMenuPopUp zgs19_gsDisplayNone"}).append(b("<div>",{class:"zgs19_gsSenderAbout"}).append(b("<div>",{class:"zgs19_gsSenderInnerAbout"}).append(b("<div>",{class:"zgs19_gsSenderPhoto"}).append(b("<div>",{class:"zgs19_gsPhotoHolder"}).append(b("<img>",{id:m,class:"zgs19_gsFetchLoader",src:S.gsspacer,gs:"userPhoto"})))).append(b("<div>",{class:"zgs19_gsSenderDetails"}).append(b("<div>",{class:"zgs19_gsSenderName"}).append(b("<span>",{gs:"cmusername"}).text(v))).append(b("<div>",{class:"zgs19_gsSenderEmail"}).append(b("<span>",{id:"zgs20_gsSenderMailAddress",class:"zgs19_gsOverflow"}).text(l)).append(f))))).append(b("<div>",{class:"zgs19_gsSeparator"})).append(d).append(c).append(e).append(u);b("#zgs20_gsSearchResultRight").append(u),t===y.PEOPLE?(C=s.photo)?(-1!=C.indexOf("/file?")?C+=S.nps:C=C.replace("/api/viewEmployeePhoto?","/viewPhoto?"),S.renderCalloutUserPhoto(m,C)):S.renderCalloutNoUserPhoto(m):t===y.ZENDESK?(C=s.photo||s.requester_image_url,(C=S.replaceHTMLEntity(C))?S.renderCalloutUserPhoto(m,C):S.renderCalloutNoUserPhoto(m)):-1!==o&&"-1"!==o&&void 0!==o?S.renderCalloutUserPhoto(m,S.getThumbPhotoURL(o)):t==S.GSConstant.ASANA?(b("#zgs20_gsMenuPopUp").addClass("zgs19_gsAsanaAuthorPopUp zgs19_gsLf30Px"),r&&r.photo_url?S.renderCalloutUserPhoto(m,r.photo_url):S.renderCalloutNoUserPhoto(m)):S.renderCalloutNoUserPhoto(m)},S.checkIsInputNumber=function(e){var s=String.fromCharCode(e.which);/[0-9]/.test(s)||e.preventDefault()},S.convertDurationText=function(e){var s=e/S.HOURS_IN_MILLIS,e=(e-=(s=Math.floor(s))*S.HOURS_IN_MILLIS)/S.MINUTE_IN_MILLIS;return[s,e=Math.floor(e)]},S.replSplChars=function(e){return e=(e=(e=e.replace(/\\/g,"\\\\")).replace(/"/g,'\\"')).replace(/\n/g,"\\n")},S.getSearchCalloutObj=function(e){e={type:"search",parentElem:"#zgs20_gsSearchResultRight",calloutId:e?S.mappedServiceList[e].id:"",iconDisplay:!0};return S.searchCalloutObj=e},S.savePreviewNeeded=function(e){return"savePreview"!=e}}(zgssearch,window);GSConstant=zgssearch.getGSConstantObj()||{};function ZSHandlebarsResource(){this.load=function(s){if(!zgssearch.isHandlebarLoaded()&&!zgssearch.HbLoadTrig){zgssearch.HbLoadTrig=!0,zgssearch.GSConstant.handlebarsUrl="js/handlebars.js";let e=this;zgssearch.network.loadSRIJSFile(zgssearch.GSConstant.handlebarsUrl,function(){e.handleBarsNoConflict(s)})}},this.handleBarsNoConflict=function(e){zgssearch.HbLoadTrig=!1,window.search_handlebars=Handlebars.noConflict(),e&&e()}}function ZSSlackResource(){this.load=function(){void 0===zgssearch.slackformat&&zgssearch.network.loadSRICSSFile("css/gsemoji.css",function(){zgssearch.network.loadSRIJSFile("js/slack.js")})}}zgssearch.ZSPreview=function(){this.createPreviewObj=function(e){var s;switch(e){case zgssearch.IFRAME:s=new zgssearch.ZSIframe;break;case zgssearch.ZIP:s=new zgssearch.ZSZip;break;case zgssearch.FILE:case zgssearch.FOLDER:default:s=new zgssearch.ZSPreviewUnavailable}return s.setService=function(e){this.service=e},s.getService=function(){return this.service},s.setParentId=function(e){this.parentId=e},s.setPreviewType=function(e){this.previewType=e},s.setPreviewHolder=function(e){this.previewHolder=e},s.setCalloutHolder=function(e){this.calloutHolder=e},s.setIframeUrl=function(e){this.iframeUrl=e},s.setSandbox=function(e){this.sandbox=e},s.setLoaderIconId=function(e){this.loaderIconId=e},s.setIframeClassName=function(e){this.iframeClass=e},s.setIframeAttr=function(e){this.iframeProp=e},s.setIframeId=function(e){this.iframeId=e},s.getIframeUrl=function(){return this.iframeUrl},s.getParentId=function(){return this.parentId},s.getPreviewType=function(){return this.previewType},s.getParamsObj=function(){return this.paramsObj},s.getCalloutHolder=function(){return this.calloutHolder},s.getPreviewHolder=function(){return this.previewHolder},s.getLoaderIconId=function(){return this.loaderIconId},s.getIframeClassName=function(){return this.iframeClass},s.getIframeAttr=function(){return this.iframeProp},s.getIframeId=function(){return this.iframeId},s.setCardObj=function(e){this.cardObj=e},s.getCurrentResObj=function(){var e="",s="",t=this.cardObj;return t&&(s=t.cardId,e=t.type),zgssearch.Utils.getResultObjectofType(e,s)},s.constructParamsObj=function(e,s,t){this.paramsObj={service:t||zgssearch.getCurSelectedEleAttr("service")||GSConstant.ORGRESOURCES,txt:e||zgssearch.getI18NMsg("gs.search.sevice_docs_previewfolerr"),btnTxt:s||zgssearch.getI18NMsg("gs.search.result.website.callout.open_page")}},s.hideLoader=function(){var e=this.getLoaderIconId(),e=document.getElementById(e);e&&void 0!==e&&(zgssearch.isIE?_jQueryGS(e).css("display","none"):e.remove())},s.renderErrorMsg=function(e){var s=zgssearch.getTargetElem(this.getCalloutHolder()),t=this.getCurrentResObj(),e=e||this.getParamsObj();this.hideLoader(),this.constructErrorDOMContent(e),zgssearch.setGSTagElems(s),t.url||t.webUrl||t.openUrl||_jQueryGS(s.tabPage).css("display","none")},s.constructErrorDOMContent=function(e){var s=this.getParentId(),t=_jQueryGS("<div>",{class:"zgs19_gsPreviewTxt",gs:"connPageTxt"}).append(_jQueryGS("<span>").text(e.txt));e.btnTxt&&(_jQueryGS("#"+s).addClass("zgs19_gsDocsPreviewHolderBtn"),t.append(_jQueryGS("<div>",{class:"zgs19_gsTabOpenBtnNew zgs19_gsOverflow",gs:"tabPage",service:e.service}).append(_jQueryGS("<div>",{class:"zgs19_gsMgRt5Px"}).text(e.btnTxt)).append(_jQueryGS("<div>",{class:"zgs19_gsfl zgs19_gsMxWid200Px"})))),_jQueryGS("#"+s).html(t)},s.setPreviewType(e),s.isiframe_loading_completed=!1,s}},zgssearch.ZSIframe=function(){var s=this;this.renderPreview=function(){var e;this.getIframeUrl()?(e=this.constructDOMContent(),zgssearch.isIE?setTimeout(function(){s.handleIframeOnLoad()},15e3):(_jQueryGS(e).on({load:function(){s.handleIframeOnLoad()},error:function(){s.handlePreviewUnavailability()}}),setTimeout(function(){s.isiframe_loading_completed||s.handlePreviewUnavailability()},3e4))):this.previewErrorInfo()},this.constructDOMContent=function(){var e=this.getIframeAttr()||{};e.id=this.getIframeId()||"",e.frameBorder=0,e.style||(e.style={}),e.className=this.getIframeClassName(),e.allow="fullscreen",e.src=this.getIframeUrl();var s=document.createElement("iframe");if(e)for(var t in e)if(e.hasOwnProperty(t))if("style"!=t)s[t]=e[t];else for(var a in e[t])s[t][a]=e[t][a];var r=this.getParentId();return _jQueryGS("#"+r).html(s),s},this.handleIframeOnLoad=function(){this.hideLoader();var e=_jQueryGS("#"+this.getParentId());e.css("display","block"),e.find("iframe").removeClass("zgs19_gsVisbHdn");e=document.getElementById(this.getIframeId());e&&(e.contentDocument||e.contentWindow)&&(this.isiframe_loading_completed=!0)},this.previewErrorInfo=function(){var e=zgssearch.getTargetElem(this.getCalloutHolder());this.hideLoader();var s=zgssearch.getI18NMsg("gs.search.sevice_docs_previewfolerr");_jQueryGS(e[this.getPreviewHolder()]).append(_jQueryGS("<div>",{class:"zgs19_gsDocsPreviewError",gstitle:s}).text(s)),_jQueryGS(e.calloutFooter).removeClass("zgs19_gsOverflowHidden")},this.handlePreviewUnavailability=function(){var e,s=document.getElementById(this.getIframeId());null!=s&&(e=this.getService()||zgssearch.getCurSelectedEleAttr("service"),s=zgssearch.I18N.getValue("gs.common.error"),e=zgssearch.mappedServiceList[e].displayName,e=zgssearch.I18N.getValue("gs.callout.preview.open.title",[e]),this.constructParamsObj(s,e),this.renderErrorMsg(this.getParamsObj()))}},zgssearch.ZSZip=function(){this.renderPreview=function(){this.hideLoader();var e=zgssearch.getTargetElem(this.getCalloutHolder()),e=_jQueryGS(e[this.getPreviewHolder()]);this.constructDOMContent(e)},this.constructDOMContent=function(e){var s=this.getCurrentResObj(),t=this.getService()||zgssearch.getCurSelectedEleAttr("service"),a=_jQueryGS(e).attr("id");"zgs20_gsDocsPreviewHolder"==a&&_jQueryGS("#"+a).addClass("zgs19_gsDocsPreviewHolderBtn");a=s.url||s.webUrl,t=_jQueryGS("<div>",{id:"zip_file_preview",gs:"zipType",class:"zgs19_gstac zgs19_gsHgt300Px"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultsUniIcons zgs19_gsZipCalloutIcon",src:zgssearch.gsspacer})).append(_jQueryGS("<div>",{class:"zgs19_gsFileTypeName"}).text(s.name)).append(_jQueryGS("<div>",{class:"zgs19_gsInLineFlex"}).append(_jQueryGS("<a>",{class:"zgs19_gsFileTypeOpen",target:"_blank",rel:"noopener noreferrer",href:a}).append(zgssearch.I18N.getValue("gs.callout.preview.open.title",[zgssearch.mappedServiceList[t].displayName]))).append(_jQueryGS("<div>",{class:"zgs19_gsFileTypeDownload",gs:"docsdownload",target:"_blank",rel:"noopener noreferrer",service:t}).append(zgssearch.I18N.getValue("gs.search.result.document.download"))));e.html(t),this.cardObj&&_jQueryGS("#zip_file_preview").css("padding-top","65px")}},zgssearch.ZSPreviewUnavailable=function(){this.renderPreview=function(){this.constructErrorParams(),this.renderErrorMsg()},this.constructErrorParams=function(){var e,s=this.getPreviewType();s==zgssearch.FILE?e=zgssearch.getI18NMsg("gs.search.sevice_docs_previewerrfilesize"):s==zgssearch.FOLDER&&(e=zgssearch.getI18NMsg("gs.search.sevice_docs_previewfolerr"));var t=this.cardObj?this.cardObj.service:this.getService()||zgssearch.getCurSelectedEleAttr("service"),s=zgssearch.I18N.getValue("gs.callout.preview.open.title",[zgssearch.mappedServiceList[t].displayName]);this.constructParamsObj(e,s,t)}},function(f,e){var C,r=e.document,S=e._jQueryGS,b=f.getGSConstantObj()||{};f.gsmails=(C=void 0,(C=f.gsmails||{}).ext_img=C.ext_img||{},C.actionList=[{open:"common.open"},{reply:"common.reply"},{replyall:"gs.search.result.mail.replyall"},{fwdi:"common.forward"},{unread:"gs.search.sevice_mail_maskAsUnRead"},{flag:"gs.callout.Flag_As"},{copyLink:"gs.search.callout.copylink"},{savePreview:"gs.search.callout.savePreviewCard"}],C.calloutHolder="",C.flagDetails=[{displayName:f.getI18NMsg("gs.action.flag_info"),id:1,class:"zgs19_gs5DA4F3Col"},{displayName:f.getI18NMsg("gs.action.flag_important"),id:2,class:"zgs19_gsFF4E67Col"},{displayName:f.getI18NMsg("gs.action.flag_follow_up"),id:3,class:"zgs19_gs19D697Col"}],C.setCalloutHolder=function(e){C.calloutHolder=e},C.getCalloutHolder=function(){return C.calloutHolder},C.calloutParams=function(e){return"searchType="+(e.serviceName||f.getCurSelectedEleAttr("service"))+"&msgId="+e.message_id+"&accId="+e.account_id+"&accType="+e.accType},C.createCalloutTemplate=function(e,s){var t,a,r,o,i,n,l=s.calloutId,g=S("#"+l).length;C.setCalloutHolder(l),g<=0&&(t=f.getI18NMsg("gs.search.sevice_prevmax"),a=f.getI18NMsg("gs.search.sevice_prevmin"),r=f.getI18NMsg("common.reply"),o=f.getI18NMsg("gs.search.sevice_mail_ext_img_tip"),i=f.getI18NMsg("gs.search.sevice_mail_ext_img_text"),n=f.getI18NMsg("gs.search.sevice_mail_shrinked_tip"),g=f.getI18NMsg("gs.search.sevice_mail_shrinked_text"),n=S("<div>",{id:l,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(S("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(S("<span>",{class:"zgs18_gsAttachIcon zgs19_gsCalloutAttachmentIcon zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",service:b.MAILS,gs:"moveToAttachArea"})).append(S("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(S("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:b.MAILS,target:"_blank",rel:"noopener noreferrer"}))).append(S("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:f.getNewTabTip(b.MAILS),service:b.MAILS})).append(S("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(S("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(S("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:b.MAILS})).append(S("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(S("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(S("<div>",{id:"zgs20_gsCalloutReplyAction",class:"zgs18_gsCalloutReplyAction zgs19_gsCurPointer zgs19_gsfr",gs:"calloutActionOptions",value:"reply",gstitle:r,service:b.MAILS})).append(S("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:t,gs:"maxpreview",service:b.MAILS})).append(S("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:a,gs:"minpreview",service:b.MAILS}))))).append(S("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(S("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(S("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(S("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(S("<img>",{class:"zgs19_gsFetchLoader",src:f.gsspacer,gs:"authorPhoto"})))).append(S("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(S("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(S("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(S("<span>",{gs:"slabel"}))).append(S("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid55Per"}).append(S("<span>",{class:"zgs19_gsCurPointer",gs:"sender",istip:!0}))).append(S("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(S("<span>",{gs:"date"})))).append(S("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(S("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid5Per"}).append(S("<span>",{gs:"rlabel"}))).append(S("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid45Per",gs:"toaddress"}).append(S("<span>",{class:"zgs19_gsCurPointer",gs:"receiver",istip:!0}))).append(S("<div>",{id:"zgs20_gsCalloutDDList1",class:"zgs19_gsCalloutUserToLink zgs19_gsCurPointer zgs19_gsfl zgs19_gsMxWid20Per",gs:"tolink"})).append(S("<span>",{class:"zgs18_gsFlagIcon zgs19_gsMailFlag zgs19_gsfl zgs19_gsDisplayNone",gs:"calloutflagAction"})).append(S("<div>",{class:"zgs19_gsCalloutUserFolder zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid25Per"}).append(S("<span>",{gs:"rfolder"}))))))).append(S("<div>",{id:"zgs20_gsMailCalloutFooter",class:"zgs19_gsCalloutFooter zgs19_gsCalloutPopUp zgs19_gsMailCalloutFooter",gs:"calloutFooter"}).append(S("<div>",{id:"zgs20_gsMailCalloutExtImg",class:"zgs19_gsMailCalloutExtImg zgs19_gsOverflow zgs19_gsDisplayNone",gs:"ext_img"}).append(S("<a>",{class:"zgs19_gsCurPointer",gs:"ext_img_text",gstitle:i}).text(i)).append(S("<span>",{class:"zgs19_gsMailCalloutExtTip",gstitle:o}).text(o))).append(S("<div>",{class:"zgs19_gsCalloutContentInfo",gs:"content"})).append(S("<div>",{id:"zgs20_gsMailCalloutshrinked",class:"zgs19_gsMailCalloutExtImg zgs19_gsOverflow zgs19_gsDisplayNone",gs:"shrinked"}).append(S("<a>",{class:"zgs19_gsCurPointer",gs:"calloutActionOptions",value:"open",service:b.MAILS,gstitle:g}).text(g)).append(S("<span>",{class:"zgs19_gsMailCalloutExtTip",gstitle:n}).text(n))).append(S("<div>",{id:"zgs20_gsMailCalloutAttachInfo",class:"zgs19_gsCalloutAttachInfo zgs19_gsDisplayNone",gs:"attachHolder"}))),S(s.parentElem).append(n),f.attachDoubleClickPopUpEvent()),S("#"+l).attr("ccount",e)},C.setMailCalloutEleSize=function(e){var s,t;e&&(s=S(e.header).height(),t=S(e.metaInfo).height(),t=S(e).height()-(s+t),f.isMobViewport()&&(t-=f.getLHSServicePaneHeight()),S(e.calloutFooter).css("height",t+"px"))},C.calloutResponse=function(e,s,t,a){var r=a.searchObj,o=f.getTargetElem(r.calloutId);if(e&&o){f.setGSTagElems(o),f.setGSTagElems(t),"search"!=r.type&&(S(o.sender).removeClass("zgs19_gsCurPointer"),S(o.receiver).removeClass("zgs19_gsCurPointer"),r.cardId&&(f.cardObjForCurrentSelectedElem[r.cardId]=f.cardObjForCurrentSelectedElem[r.cardId]||{},f.cardObjForCurrentSelectedElem[r.cardId].calloutRespObj=e));var i=S(o).attr("ccount");S(o.ctitle).attr("href",f.fetchCalloutUrl(b.MAILS,s,"",e));var n=(n=s.subject||e.subject||"")||"("+f.getI18NMsg("gs.search.result.mail.subject")+")",a=S(o.ctitle);a.text(n).attr("gstitle",n),a.removeClass("zgs19_gsFtWeightBold"),t&&(l=S(t.resultTitle).attr("gslabel")||"",a.attr("gslabel",l));n=s.zuid;S(o.authorPhoto).attr("src",f.gsspacer),S(o.authorPhoto).attr("class","zgs19_gsFetchLoader");var l="zgs20_gsMailsCalloutUserImg"+i;S(o.authorPhoto).attr("id",l);i=f.getUserStatus(n);S(o.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),"-1"!==n&&void 0!==n?(g=i.name||"",S(o.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+g),g=f.getThumbPhotoURL(n),f.renderCalloutUserPhoto(l,g)):f.renderCalloutNoUserPhoto(l);var n=e.display_time||s.display_time||"",g=e.sentTime||n,l=f.getI18NMsg("common.from",!0);S(o.slabel).empty().text(l).attr("gstitle",l),S(o.sender).empty().text(e.from).attr("gstitle",e.from),S(o.date).empty().text(n).attr("gstitle",g).attr("gslabel",f.getI18NMsg("common.time"));l=s.folder_name||"",n=C.fillToAddress(e.to,e.cc,e.bcc),g=C.splitEmailId(n?n.value:""),n=n?n.label:"";S(o.rlabel).empty().text(n).attr("gstitle",n),S(o.receiver).empty().text(g).attr("gstitle",g),S(o.rfolder).empty().text(l).attr("gstitle",l).attr("gslabel",f.getI18NMsg("gs.search.result.document.folder")),S(o.tolink).hide().empty(),S("#zgs20_gsDropdownToList").remove(),S(o.toaddress).css("maxWidth","60%");l=C.getTotalEmailAccountCount(e.to,e.cc,e.bcc)-1;if(0<l&&(S(o.toaddress).css("maxWidth","50%"),v=C.getTotalEmailCount(l),S(o.tolink).append(S("<div>",{class:"zgs19_gsOverflow",gstitle:v}).text(v)).show(),C.loadToOthersList(o,e.to,e.cc,e.bcc)),C.toAddr=e.toAddr,C.toZuid=e.toZuid,C.toName=e.toName,C.isGroup=e.isGrp,S(o.content).empty().append(e.content),C.loadImagesWithDomain(o.content),f.preventStylesFromParentDomain(o.content,b.MAILS),C.ext_img={},S(o.ext_img).hide(),e.hasOwnProperty("ext_img")&&(S(o.ext_img).show(),C.ext_img=e.ext_img),S(o.shrinked).hide(),"true"==e.shrinked&&S(o.shrinked).show(),S(o.moveToAttachArea).hide(),S(o.attachHolder).hide(),S(o.attachHolder).empty(),"1"===s.has_attachment||e.hasOwnProperty("attach_info")&&0<e.attach_info.length){var c=e.attach_info||[],d=c.length;if(0<d){var p=d+" "+f.getI18NMsg("gs.search.result.mail.callout.attachments");S(o.attachHolder).append(S("<div>",{class:"zgs19_gsCalloutAttachHeader"}).append(S("<span>",{gstitle:p}).text(p)));for(var u=0;u<d;u++){var h=c[u],_=f.replaceHTMLEntity(h.n),m="zgs19_"+f.getFileImageClass(_),z=f.getDocResTT(m);S(o.attachHolder).append(S("<div>",{class:"zgs19_gsCalloutAttachFooter"}).append(S("<div>",{class:"zgs19_gsCalloutAttachImage"}).append(S("<span>",{class:"zgs19_gsResultsUniIcons "+m,gstitle:z,gs:"resultMenuItem"}))).append(S("<div>",{class:"zgs19_gsCalloutAttachName zgs19_gsOverflow"}).append(S("<span>",{class:"zgs19_gsCalloutAttachTitle zgs19_gsCalloutTitleLink",service:b.MAILS,aId:h.i,gs:"attachtitle",gstitle:_,istip:!0}).text(_))).append(S("<div>",{class:"zgs19_gsCalloutAttachSize zgs19_gsOverflow"}).append(S("<span>").text(f.convertToKBMB(h.s)))))}S(o.moveToAttachArea).show(),S(o.attachHolder).show()}}var v=S(o).find(".zgs19_gsMailFlag");s.hasOwnProperty("flag_info")&&s.flag_info&&"0"!=s.flag_info?(S(v).removeClass("zgs19_gs5DA4F3Col zgs19_gsFF4E67Col zgs19_gs19D697Col"),p=C.flagDetails[Number.parseInt(s.flag_info)-1],S(v).addClass(p.class),S(v).attr("gslabel",f.getI18NMsg("gs.callout.Flag_As")),S(v).attr("gstitle",p.displayName),S(v).css("display","block")):S(v).css("display","none");v=f.isPreviewCard(r);r.iconDisplay&&!f.isPreviewOpenedInComponent&&(S(o.maxpreview).show(),S(o.minpreview).hide()),a.attr("servImg",s.servImg),a.attr("isBold",s.isBold),(f.getCurrentSelectedElem()||f.hasOwnProperty("pccomponent")||v)&&(f.hideCalloutLoader(r),S(o).show(),"true"===s.isBold&&C.toggleMailStatus(t,s,"markAsRead",r)),S(o.calloutFooter).scrollTop(0),S(o.calloutFooter).scrollLeft(0);t=!1;S("#zgs20_gsCalloutReplyAction").show(),"DRAFTS"!==e.message_type&&"TEMPLATES"!==e.message_type||f.isPreviewOpenedInComponent||(t=!0,S("#zgs20_gsCalloutReplyAction").hide()),(!f.isPreviewOpenedInComponent||f.hasOwnProperty("pccomponent")&&f.pccomponent.isActionsEnabled)&&C.addCalloutActionList(o,t,s,r),C.setMailCalloutEleSize(o),f.calloutVisitRequest()}else C.calloutErrorMsg("",r)},C.addCalloutActionList=function(e,s,t,a){S(e.calloutActionHolder).css("display","block");var r=t.folder_name||"",o=e.getElementsByClassName("zgs19_gsCalloutActionList");S(o).empty().remove(),S(e.calloutActionHolder).append(S("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var o=e.getElementsByClassName("zgs19_gsCalloutActionList"),i=C.actionList,n=i.length,l=0;l<n;l++){var g,c,d=i[l];for(g in d)s&&"open"!==g&&"copyLink"!==g||"Sent"==r&&"unread"==g||f.savePreviewNeeded(g)&&(c=f.isPreviewCard(a),("unread"==g||"flag"==g)&&c||(c=f.getI18NMsg(d[g]),c="flag"==g?S("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox zgs19_gs"+g+"action",gs:"callout"+g+"Action",service:b.MAILS,gstitle:c}).append(S("<span>",{class:"zgs19_gsMgRt5Px"}).text(c)).append(S("<span>",{class:"zgs18_gsarrowright zgs19_gsfr zgs19_gsMgLfAuto zgs19_gsFontSize13Px zgs19_gsMgTop4Px"})):S("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:g,service:b.MAILS}).text(c),S(o).append(c)))}f.Utils.constructSaveBookmarkInCallout(o,b.MAILS)},C.toggleMailStatus=function(e,s,t,a,r){var o,i,n,l;(e||f.isPreviewOpenedInComponent)&&(o=s.message_id,i=s.account_id,n=s.accType,l=s.semailId,l="action=markAsReadUnread&msgId="+o+"&accId="+i+"&accType="+n+"&emailid="+encodeURIComponent(l)+"&oper="+t,f.uri(f.POST,f.updateActionsURL,l,{curRe:e,resObj:s,oper:t,emailId:"emailId",accountId:i,msgId:o,calloutObj:a,target:r},function(e,s,t){t=t.args||{};C.responseFromServicesAction(e,t.curRe,t.resObj,t.oper,t.calloutObj,t.target)}))},C.responseFromServicesAction=function(e,s,t,a,r,o){var i,n,l,g,c;e&&"null"!==e&&(s=s||{},"SUCCESS"==((g=f.jsonParse(e))&&g.response||"")&&(l="",l=o?f.getNodeByAttr(o,"class","zgs19_gsServiceCalloutHolder"):(n=r.calloutId,f.getTargetElem(n)),f.setGSTagElems(l),e=(e=(i=S(l.ctitle)).attr("servImg"))?parseInt(e):"",n=(g=f.getMailImageStatus(e)).servImg,t.servImg=n,l=g.image,e=g.toBeImage,g=g.toBeTitle,S(s.resultMenuItem).attr("gstitle",g),g="","markAsRead"===a?(g="false",S(s.resultTitle).removeClass("zgs19_gsFtWeightBold").addClass("zgs19_gsFtWeightNormal"),i.removeClass("zgs19_gsFtWeightBold").addClass("zgs19_gsFtWeightNormal"),S(s.resultMenuItem).removeClass(l).addClass(e),o&&(c=f.getI18NMsg("gs.search.sevice_mail_maskAsUnRead"),S(o).attr("value","unread").attr("gstitle",c).text(c)),f.isPreviewOpenedInComponent&&r.hasOwnProperty("callbackFn")&&r.callbackFn&&r.callbackFn()):"markAsUnread"===a&&(g="true",S(s.resultTitle).removeClass("zgs19_gsFtWeightNormal").addClass("zgs19_gsFtWeightBold"),i.removeClass("zgs19_gsFtWeightNormal").addClass("zgs19_gsFtWeightBold"),S(s.resultMenuItem).removeClass(l).addClass(e),o&&(c=f.getI18NMsg("gs.search.sevice_mail_maskAsRead"),S(o).attr("value","read").attr("gstitle",c).text(c))),i.attr("servImg",n),i.attr("isBold",g),t.isBold=g,t=r.hasOwnProperty("type")?r.type:"search",(r=f.Utils.getResultObjectofType(t,r.cardId)).isBold=g,r.servImg=n))},C.downloadAttachment=function(e){var s=S(e).text(),t=S(e).attr("aId"),a=f.isPreviewOpenedInComponent?f.pcResObj:"",r=(a=a||(new f.dashboardSearchActions).createActionType(e).getCurrentResponseObj()).accType,o=a[f.account_id],a=a[f.entity_id],s="searchType="+S(e).attr("service")+"&msgId="+a+"&atIndex="+t+"&accId="+o+"&accType="+r+"&atName="+encodeURIComponent(s),s=f.attachmentURL+"?"+s;f.network.download_file(s)},C.fillToAddress=function(e,s,t){e=C.getFirstEmailId(e);if(null!==e)return{label:f.getI18NMsg("common.to",!0),value:e};s=C.getFirstEmailId(s);if(null!==s)return{label:f.getI18NMsg("gs.search.result.mail.cc"),value:s};t=C.getFirstEmailId(t);return null===t?{label:"",value:""}:{label:f.getI18NMsg("gs.search.result.mail.bcc"),value:t}},C.getFirstEmailId=function(e){return null==e||""===e?null:e.split(",")[0]},C.splitEmailId=function(e){var s=r.createElement("div");s.innerHTML=e;var t="";return t=""!==(e=s.textContent)?(-1!==(s=(e=e.trim()).lastIndexOf("<"))?t=e.substring(s+1,e.length):e).trim().replace("<","").replace(">","").trim():t},C.getTotalEmailAccountCount=function(e,s,t){e=C.getArrayOfElements(e),s=C.getArrayOfElements(s),t=C.getArrayOfElements(t);return e.length+s.length+t.length},C.getArrayOfElements=function(e){if(null==e||""===e)return[];e=e.split(",");return 0<e.length?e:[]},C.getTotalEmailCount=function(e){var s=f.getI18NMsg("gs.search.result.mail.menu.others");return"+"+e+" "+(s=1===e?f.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.other",!0):s)},C.moveToViewPort=function(){f.moveToViewPort("zgs20_gsMailsCalloutFooArea","zgs20_gsMailsCalloutAttachInfo")},C.displayCallout=function(){f.hideCalloutLoader(),S("#"+C.getCalloutHolder()).show()},C.loadToOthersList=function(e,s,t,a){S(e.metaInfo).append(S("<div>",{id:"zgs20_gsDropdownToList",class:"zgs19_gsDropdownToList zgs19_gsDisplayNone",gs:"toDDList"})),C.renderToOthersList(s,f.getI18NMsg("common.to")),C.renderToOthersList(t,f.getI18NMsg("gs.search.result.mail.callout.cc")),C.renderToOthersList(a,f.getI18NMsg("gs.search.result.mail.callout.bcc"))},C.renderToOthersList=function(e,s){if(e){var t=e.split(",");if(0<t.length){for(var a=S("<div>",{class:"zgs19_gsDropdownToListEmailHolder zgs19_gsfl"}),r=t.length,o=0;o<r;o++){var i=o+1===t.length?"":",",n=C.splitEmailId(t[o]);a.append(S("<div>",{class:"zgs19_gsDropdownToListEmailIds zgs19_gsOverflow"}).append(S("<span>",{gstitle:n}).text(n+i)))}S("#zgs20_gsDropdownToList").append(S("<div>",{class:"zgs19_gsDropdownToListHolder"}).append(S("<div>",{class:"zgs19_gsDropdownToListLabel zgs19_gsfl"}).append(S("<span>",{gstitle:s}).text(s))).append(S("<div>",{class:"zgs19_gsSemicolon zgs19_gsfl"}).append(S("<span>").text(":"))).append(a))}}},C.calloutErrorMsg=function(e,s){f.getCurrentSelectedElem()&&(f.hideCalloutLoader(s),e="ERROR"===e?f.getI18NMsg("gs.search.error.generic_error_messege"):f.getI18NMsg("gs.search.result.mail.status.callout.errortext"),f.calloutErrorPage(s,e))},C.mailReplyActionHandler=function(e,s,t,a){var r="/zm/comp.do?accId="+e+"&msgId="+s+"&originalMode="+t+"&"+f.originParam;f.gscomponent.isActionHandlerEnabledInSuiteApp?f.gscomponent.actionHandler(b.MAILS,"zmUtil.invokeComposer",[{from:"zia",accId:e,msgId:s,mode:t,type:"t"}]):(r=b.GS_MAIL_URL+r,C.loadMailCalloutIframe(r,a))},C.loadMailCalloutIframe=function(e,s){var t,a;f.isExtension?f.openInNewTab(e):(a=f.searchCalloutObj,f.handleBeforeSentCase(a),a="#zgs20_gsSearchResultRight",f.isCardViewOpened()?a="#zgs20_gsCrdPrevCallout":f.isDashboardViewOpened()&&(a=S(s).closest(".zgs19_gsCrdCallout")[0]),((s=S(a).find("#zgs20_gsMailActionHolder")).length<=0||"#zgs20_gsSearchResultRight"==a)&&(s=S("<div>",{id:"zgs20_gsMailActionHolder",class:"zgs19_gsMailActionHolder zgs19_gsServiceCalloutHolder"}),"#zgs20_gsSearchResultRight"==a&&S(a).find(".zgs19_gsMailActionHolder").remove(),S(a).append(s)),t=S("#zgs20_gsDBCardsContent").scrollTop(),(a=r.createElement("iframe")).id="zgs20_gsMailActionFrame",a.className="zgs19_gsMailActionFrame",a.src=e,f.Utils.addSandboxToEle(a),a.onload=function(){setTimeout(function(){f.hideCalloutLoader()},500),setTimeout(function(){S("#zgs20_gsDBCardsContent").scrollTop(t)},3e3)},s.empty().append(a).show())},C.loadExtImg=function(){for(var e=C.ext_img||{},s=e.externalURL||[],t=e.externalLink||[],a=0,r=0;a<s.length&&r<t.length;a++,r++){var o=s[a],i=t[a];S("#"+C.getCalloutHolder()).find("#"+i).attr("src",o)}S("#zgs20_gsMailCalloutExtImg").hide()},C.loadImagesWithDomain=function(e){var s=b.GS_MAIL_URL;S(e).find("img").each(function(){var e=S(this).attr("src");e&&0==e.indexOf("/mail/ImageDisplay?")&&S(this).attr("src",s+e)})},C.setServiceEleSize=function(e,s,t){t=t||f.getTargetElem(C.getCalloutHolder()),f.setGSTagElems(t),C.setMailCalloutEleSize(t),e&&S("#"+e).css("height",s+"px")},C.getPreviewCrdParams=function(){var e=f.getCurrentResObj();return{entity_id:e.message_id,account_id:e.account_id,account_type:e.accType,module:b.MAILS}},C.renderFlagPopUp=function(s,t){if(0==S(".zgs19_gsFlagPopUpElement").length){var a=S("<div>",{class:"zgs19_gsFlagPopUpElement"}),r=C.flagDetails,o=r.length;for(let s=0;s<o;s++){let e;t.flag_info==r[s].id&&(e=S("<span>",{class:"zgs18_TickIcon zgs19_gsFlagSelected"}));var i=S("<div>",{class:"zgs19_gsFlagsList",id:"zgs19_gsFlag_"+r[s].id,gs:"flagChangeAction",flagId:r[s].id}).append(S("<span>",{class:"zgs19_gsFlagIcon zgs18_gsFlagIcon "+r[s].class})).append(S("<span>",{class:"zg19_gsFlagName"}).text(r[s].displayName)).append(e);S(a).append(i)}S(s).closest(".zgs19_gsCalloutAction").append(a);var n=S(s).closest("#zgs20_gsCalloutActionList");let e;f.isDashboardOpened&&(e=S(n).closest(".zgs19_gsInrCard")),f.setElementPosition(s,n,e,a)}},C.changeFlagAction=function(e,s,t,a,r){var o=S(e).attr("flagId"),i={callback:function(){C.changeMailFlagAction(e,o,r)}};f.apiCallForActions(f.POST,f.API.SERVICE_ACTIONS+a,{action:"addflag",entityId:s,accountId:t,actionObject:{flagID:o}},i)},C.changeMailFlagAction=function(e,s,t){let a;var r=!(t.flag_info==s);S(".zgs19_gsMailFlag").removeClass("zgs19_gs5DA4F3Col zgs19_gsFF4E67Col zgs19_gs19D697Col"),S(".zgs19_gsFlagSelected").remove();var o=t.flag_info;let i="";r?(t.flag_info=s,a="gs.search.flag_added",S(".zgs19_gsMailFlag").css("display","block"),r=C.flagDetails[Number.parseInt(s)-1],S(".zgs19_gsMailFlag").addClass(r.class),S(".zgs19_gsMailFlag").attr("gstitle",r.displayName),i=r.displayName,S("#zgs19_gsFlag_"+s).append(S("<span>",{class:"zgs18_TickIcon zgs19_gsFlagSelected"}))):(t.flag_info="0",a="gs.search.flag_Cleared",i=C.flagDetails[Number.parseInt(o)-1]?.displayName,S(".zgs19_gsMailFlag").css("display","none")),f.showbannertip({ty:1,msg:i+" - "+f.getI18NMsg(a)})},C)}(zgssearch,window),function(w,e){var D,n=e.document,E=e._jQueryGS,T=w.getGSConstantObj()||{};w.gsstreams=(D=void 0,(D=w.gsstreams||{}).ext_img=D.ext_img||{},D.actionList=[{open:"common.open"},{watch:"gs.search.sevice_streams_watch"},{copyLink:"gs.search.callout.copylink"},{savePreview:"gs.search.callout.savePreviewCard"}],D.calloutHolder="",D.setCalloutHolder=function(e){D.calloutHolder=e},D.getCalloutHolder=function(){return D.calloutHolder},D.getCalloutHolder=function(){return D.calloutHolder},D.calloutParams=function(e){return"searchType="+(e.serviceName||w.getCurSelectedEleAttr("service"))+"&actionType="+("true"===e.isOwner?"viewSelfData":"viewGroupEntity")+"&entityId="+e.id+"&groupId="+e.gId+"&entityType="+e.entityType},D.createCalloutTemplate=function(e,s){var t,a=s.calloutId,r=E("#"+a).length;D.setCalloutHolder(a),r<=0&&(t=w.getI18NMsg("gs.search.sevice_prevmax"),r=w.getI18NMsg("gs.search.sevice_prevmin"),r=E("<div>",{id:a,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(E("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(E("<span>",{class:"zgs18_gsAttachIcon zgs19_gsCalloutAttachmentIcon zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",service:T.STREAMS,gs:"moveToAttachArea"})).append(E("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(E("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:T.STREAMS,target:"_blank",rel:"noopener noreferrer"}))).append(E("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:w.getNewTabTip(T.STREAMS),service:T.STREAMS})).append(E("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(E("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(E("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:T.STREAMS})).append(E("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(E("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(E("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:t,gs:"maxpreview",service:T.STREAMS})).append(E("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:r,gs:"minpreview",service:T.STREAMS}))))).append(E("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(E("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(E("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(E("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(E("<img>",{class:"zgs19_gsFetchLoader",src:w.gsspacer,gs:"authorPhoto"})))).append(E("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(E("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(E("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid20Per zgs19_gsCurPointer"}).append(E("<span>",{gs:"sender"}))).append(E("<div>",{class:"zgs19_gsCalloutUserLabel1 zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(E("<span>",{gs:"haslabel"}))).append(E("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid55Per"}).append(E("<span>",{gs:"entityTitle",gslabel:w.getI18NMsg("gs.search.filter.entity_type"),istip:!0}))).append(E("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(E("<span>",{gs:"date"})))).append(E("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(E("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid5Per"}).append(E("<span>",{gs:"rlabel"}))).append(E("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid45Per",gs:"toaddress"}).append(E("<span>",{class:"zgs19_gsfl zgs18_gsSharedIcon zgs19_streamsGroupSharedIcon"})).append(E("<span>",{gslabel:w.getI18NMsg("gs.search.calendar.callout.groupName"),gs:"receiver",istip:!0}))).append(E("<div>",{id:"zgs20_gsCalloutDDList1",class:"zgs19_gsCalloutUserToLink zgs19_gsCurPointer zgs19_gsfl zgs19_gsMxWid20Per",gs:"tolink"})).append(E("<div>",{class:"zgs19_gsCalloutUserFolder zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid25Per"}).append(E("<span>",{gs:"rfolder"}))))))).append(E("<div>",{class:"zgs19_gsCalloutPopUp zgs19_gsMailCalloutFooter",gs:"calloutFooter"}).append(E("<div>",{class:"zgs19_gsCalloutContentInfo"}).append(E("<div>",{gs:"content"}))).append(E("<div>",{id:"zgs20_gsMailCalloutAttachInfo",class:"zgs19_gsCalloutAttachInfo zgs19_gsDisplayNone",gs:"attachHolder"})).append(E("<div>",{class:"zgs19_gsCalloutTimelineInfo zgs19_timelineHeaderNaviShow zgs19_gsDisplayNone",gs:"timelineHolder"}).append(E("<div>",{class:"zgs19_gsCalloutTimelineHeader zgs19_gsCalloutActionHeader zgs19_gsCurPointer zgs19_timeline zgs19_gsInine",gs:"timeline"}).text(w.getI18NMsg("gs.search.sevice_streams_timeline")).append(E("<span>",{class:"zgs18_gsTimelineDDIcon"}))).append(E("<div>",{class:"zgs19_gsCalloutTimelineHeader zgs19_gsDisplayNone ",gs:"timelinecontent"})).append(E("<div>",{class:"zgs19_gsDisplayNone zgs19_gsCalloutActionHeader zgs19_gsCurPointer",service:T.STREAMS,gs:"streamsmoretimeline"}).text(w.getI18NMsg("gs.search.sevice_viewall_streams_timeline")))).append(E("<div>",{class:"zgs19_gsCalloutCommentInfo zgs19_gsDisplayNone",gs:"commentHolder"}).append(E("<div>",{class:"zgs19_gsCalloutActionHeader zgs19_gsCalloutUserLabel zgs19_gsMSCalloutUserLabel"}).text(w.getI18NMsg("gs.search.sevice_streams_comments"))).append(E("<div>",{class:"zgs19_gsCalloutTimelineHeader",gs:"ptpcommentcontent"})).append(E("<div>",{class:"zgs19_gsCalloutTimelineHeader",gs:"commentcontent"})).append(E("<span>",{class:"zgs19_gsCalloutActionHeader zgs19_gsCalloutActionHeaderSC zgs19_gsCurPointer",service:T.STREAMS,gs:"streamsmorecomment"}).text(w.getI18NMsg("gs.search.sevice_viewall_streams_comments"))))).append(E("<div>",{class:"zgs19_gsDisplayNone",gs:"streamBtnCont"}).append(E("<div>",{class:"zgs19_gsTabOpenBtn",gs:"streamsPage",service:T.STREAMS}))),E(s.parentElem).append(r),w.attachDoubleClickPopUpEvent()),E("#"+a).attr("ccount",e)},D.setStreamsCalloutEleSize=function(e){var s,t;e&&(s=E(e.header).height(),t=E(e.metaInfo).height(),t=E(e).height()-(s+t),w.isMobViewport()&&(t-=w.getLHSServicePaneHeight()),E(e.calloutFooter).css("height",t+"px"))},D.calloutResponse=function(e,s,t,a){var r,o,i,n,l,g,c,d,p,u,h=a.searchObj,_=w.getTargetElem(h.calloutId);e&&_?(w.setGSTagElems(_),w.setGSTagElems(t),d=E(_).attr("ccount"),E(_.ctitle).attr("href",w.fetchCalloutUrl(T.STREAMS,s,"",e)),l=s.entityType||e.entityType||"",i=w.entityTypeTitleMap[l],c=(c=s.title||e.title||"")||i.notitle,E(_.ctitle).text(c).attr("gstitle",c),E(_.ctitle).removeClass("zgs19_gsFtWeightBold"),t&&(r=E(t.resultTitle).attr("gslabel")||"",E(_.ctitle).attr("gslabel",r)),n=s.zuid,E(_.authorPhoto).attr("src",w.gsspacer),E(_.authorPhoto).attr("class","zgs19_gsFetchLoader"),a="zgs20_gsMailsCalloutUserImg"+d,E(_.authorPhoto).attr("id",a),r=w.getUserStatus(n),E(_.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),"-1"!==n&&void 0!==n?(o=r.name||"",E(_.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+o),o=w.getThumbPhotoURL(n),w.renderCalloutUserPhoto(a,o)):w.renderCalloutNoUserPhoto(a),n=s.time||e.time||"",o=s.name||e.name||"",a=i.hasText+" ",i=i.title,E(_.sender).empty().text(o).attr("gstitle",o),E(_.haslabel).empty().text(a).attr("gstitle",a),E(_.entityTitle).empty().text(i).attr("gstitle",i),E(_.date).empty().text(n).attr("gstitle",n).attr("gslabel",w.getI18NMsg("common.time")),E(_.content).empty(),E(_.content).removeClass("zgs19_gsCalloutNBContent"),e&&null!=e?(n=(a=s.gN||e.gN||"")?"zgs19_gsDisplayBlock":"zgs19_gsDisplayNone",E(_.rlabel).empty(),E(_.receiver).empty(),E(_.toaddress).removeClass("zgs19_gsDisplayBlock").removeClass("zgs19_gsDisplayNone").addClass(n),a&&(g=w.getI18NMsg("gs.search.service_people.status.in",!0),E(_.rlabel).text(g).attr("gstitle",g),E(_.receiver).text(a).attr("gstitle",a)),E(_.rfolder).empty().text(i).attr("gstitle",i).attr("gslabel",w.getI18NMsg("gs.search.filter.entity_type")),E(_.tolink).hide().empty(),E("#zgs20_gsDropdownToList").remove(),E(_.toaddress).css("maxWidth","60%"),0<(g=D.getTotalEmailAccountCount(e.to,e.cc,e.bcc)-1)&&(E(_.toaddress).css("maxWidth","50%"),p=D.getTotalEmailCount(g),E(_.tolink).append(E("<div>",{class:"zgs19_gsOverflow",gstitle:p}).text(p)).show(),D.loadToOthersList(_,e.to,e.cc,e.bcc)),D.toAddr=e.toAddr,D.toZuid=e.toZuid,D.toName=e.toName,D.isGroup=e.isGrp,E(_).find(".zgs19_gsMailCalloutFooter").children().css("display","none"),E(_.calloutFooter).css("display","block"),a=e.summary,l=s.entityType||"",E(_.content).css("background-color","unset"),E(_).find(".zgs19_gsCalloutContentInfo").removeClass("zgs19_gsFilterRevert"),E(_).find(".zgs19_gsCalloutContentInfo").css("display","block"),"10"===l&&e.hasOwnProperty("linkData")?(g=(u=e.linkData).link||"",u=u.linkImg||"",D.obtainBookmarkTemplate(_,g,u,a,c)):"4"===l&&e.hasOwnProperty("eventData")?D.obtainEventDetails(_,e.eventData):("2"===l&&(E(_).find(".zgs19_gsCalloutContentInfo").addClass("zgs19_gsFilterRevert"),e.hasOwnProperty("colorHex")&&(E(_.content).addClass("zgs19_gsCalloutNBContent"),E(_.content).css("background-color",e.colorHex))),E(_.content).append(a),D.loadImagesWithDomain(_.content),w.preventStylesFromParentDomain(_.content,T.STREAMS)),E(_.moveToAttachArea).hide(),E(_.attachHolder).hide(),E(_.attachHolder).empty(),u=e.privateToPostCtotal||0,c=e.privateToPost||[],E(_.ptpcommentcontent).empty(),D.privateToPostCommentArr={},0<u&&0<c.length&&(d="zgs19_ptp"+d,E(_.ptpcommentcontent).append(E("<label>",{class:"zgs19_gsStreamsPrivateComment zgs19_gsOverflow zgs19_gsCurPointer zgs19_gsfr",pcId:d,gs:"showprivatetopostcomments",gstitle:w.getI18NMsg("gs.search.service_connect.callout.showprivateCommentsLink")}).text(w.getI18NMsg("gs.search.service_connect.callout.showprivateCommentsLink"))).append(E("<div>",{class:"zgs19_gsConnChatTitle zgs19_gsOverflow zgs19_gsPdLt50Px zgs19_gsDisplayNone",id:d})),D.privateToPostCommentArr[d]=e.privateToPost),p=e.ctotal||0,e=e.cmnt||[],E(_.commentcontent).empty(),D.privateCommentArr={},0<p&&0<e.length?(E(_.commentcontent).css("display","block"),D.renderStreamsCommentDetails(_,e)):E(_.commentcontent).css("display","none"),0<p||0<u?E(_.commentHolder).css("display","block"):E(_.commentHolder).css("display","none"),w.gsstreams.obtainedTimeline=!1,w.gsstreams.isTimelinesShown=!1,E(_.timelinecontent).empty(),E(E(_.timelineHolder).children(".zgs19_timeline")[0]).attr("gs","timeline"),u=w.isPreviewCard(h),h.iconDisplay&&!w.isPreviewOpenedInComponent&&(E(_.maxpreview).show(),E(_.minpreview).hide()),(w.getCurrentSelectedElem()||w.hasOwnProperty("pccomponent")||u)&&(w.hideCalloutLoader(h),E(_).show(),"true"===s.isB&&D.toggleStreamsStatus(t,s,"markAsRead",h.calloutId)),E(_.calloutFooter).scrollTop(0),E(_.calloutFooter).scrollLeft(0),(!w.isPreviewOpenedInComponent||w.hasOwnProperty("pccomponent")&&w.pccomponent.isActionsEnabled)&&D.addCalloutActionList(_,s,h),0===e.length&&""==a.trim()&&"10"!==l&&D.obtainOpenBtn(_,i)):D.obtainOpenBtn(_,i),D.setStreamsCalloutEleSize(_),w.calloutVisitRequest()):D.calloutErrorMsg("",h)},D.obtainOpenBtn=function(e,s){E(e.calloutFooter).css("display","none");s=w.getI18NMsg("common.open_this")+" "+s;E(e.streamsPage).empty().text(s),E(e).find(".zgs19_gsCalloutContentInfo").css("display","none"),E(e.streamBtnCont).css("display","block"),w.setGSTagElems(e),D.setPreviewBtnPosition(e)},D.setPreviewBtnPosition=function(e){var s=(E(e.calloutFooter).outerHeight(!0)-(E(e.streamBtnCont).height()+20))/2;E(e.streamBtnCont).css("margin",s+"px auto")},D.obtainBookmarkTemplate=function(e,s,t,a,r){var o="zgs20_streams_bookmark";D.bookmarkTemplate||(D.bookmarkTemplate=E("<template>",{id:o}).append(E("<div>",{class:"zgs19_gsBookmarkOuter"}).append(E("<div>",{class:"zgs19_gsDisplayNone",gs:"gsBMLinkImg"})).append(E("<div>",{class:"zgs19_gsBMSummary"}).append(E("<div>",{class:"zgs19_gsBMLink zgs19_gsLinkUnderline zgs19_gsOverflow"}).append(E("<span>",{class:"zgs19_gsBMLink zgs19_gsLinkUnderline zgs19_gsCurPointer zgs19_gsOverflow",gstitle:"",bm_link:"",gs:"streams_bm_link"}).text(r))).append(E("<div>",{class:"zgs19_gsBMLinkSumm",gs:"summary"})))),E("#zgs20_globalsearch").append(D.bookmarkTemplate),E("#"+o).css("display","none"));var i=D.bookmarkTemplate[0].querySelector(".zgs19_gsBookmarkOuter"),i=E(n.importNode(i,!0));w.setGSTagElems(i),E(e.content).append(i),E(i.streams_bm_link).attr("gstitle",s),E(i.streams_bm_link).attr("bm_link",s),E(i.streams_bm_link).text(r),""!==t&&(E(i.gsBMLinkImg)[0].style.backgroundImage='url("'+t+'")',E(i.gsBMLinkImg).removeClass("zgs19_gsDisplayNone").addClass("zgs19_gsBMLinkImg"),E(i.gsBMLinkImg).attr("bm_link",s)),E(i.summary).append(a),E("#"+o).css("display","none")},D.addCalloutActionList=function(e,s,t){var a=e.getElementsByClassName("zgs19_gsCalloutActionList");E(a).empty().remove(),E(e.calloutActionHolder).append(E("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var r=s.w,o=D.actionList,i=o.length,n=0;n<i;n++){var l=o[n];for(c in l){var g=w.getI18NMsg(l[c]);if("watch"==c){if(w.isPreviewCard(t))continue;var g="true"===r?w.getI18NMsg("gs.search.sevice_streams_unwatch"):w.getI18NMsg("gs.search.sevice_streams_watch"),c="true"===r?"unwatch":"watch",d=s.entityType||"",d=w.entityTypeTitleMap[d].title;g+=" "+w.getI18NMsg("gs.search.filter.this")+" "+d}w.savePreviewNeeded(c)&&E(a).append(E("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:c,service:T.STREAMS,gstitle:g}).text(g))}}w.Utils.constructSaveBookmarkInCallout(a,T.STREAMS)},D.toggleWatchStatus=function(e,s,t,a,r){var o,i,n,l;e&&(o=s.account_id,i=s.gId,n=s.id||s[w.entity_id],l=s.entityType,w.uri(w.POST,w.updateActionsURL,"action=watchstatus&groupId="+i+"&entityId="+n+"&entityType="+l+"&actionType="+t,{curRe:e,resObj:s,oper:t,emailId:"emailId",accountId:o,calloutId:a,target:r},function(e,s,t){t=t.args||{};D.responseFromServicesAction(e,t.curRe,t.resObj,t.oper,t.calloutId,t.target)}))},D.toggleStreamsStatus=function(e,s,t,a,r){var o,i,n,l;e&&(o=s.account_id,i=s.gId,n=s.id||s[w.entity_id],l=s.entityType,w.uri(w.POST,w.updateActionsURL,"action=streamsMarkAsRead&groupId="+i+"&entityId="+n+"&entityType="+l+"&actionType="+t,{curRe:e,resObj:s,oper:t,emailId:"emailId",accountId:o,calloutId:a,target:r},function(e,s,t){t=t.args||{};D.responseFromServicesAction(e,t.curRe,t.resObj,t.oper,t.calloutId,t.target)}))},D.responseFromServicesAction=function(e,s,t,a,r,o){var i;!e||"null"===e||"SUCCESS"==((e=w.jsonParse(e))&&e.response||"")&&(e="",e=o?w.getNodeByAttr(o,"class","zgs19_gsServiceCalloutHolder"):w.getTargetElem(r),w.setGSTagElems(e),r=t.entityType||"",r=w.entityTypeTitleMap[r].title,"markAsRead"===a?(t.isB="false",E(s.resultTitle).removeClass("zgs19_gsFtWeightBold").addClass("zgs19_gsFtWeightNormal"),E(e.ctitle).removeClass("zgs19_gsFtWeightBold").addClass("zgs19_gsFtWeightNormal")):"watch"===a?o&&(i=w.getI18NMsg("gs.search.sevice_streams_unwatch"),i+=" "+w.getI18NMsg("gs.search.filter.this")+" "+r,E(o).attr("value","unwatch").attr("gstitle",i).text(i),w.showbannertip({ty:1,msg:i}),w.showbannertip({ty:1,msg:w.getI18NMsg("gs.search.sevice_streams_watch_status")})):"unwatch"===a&&o&&(i=w.getI18NMsg("gs.search.sevice_streams_watch"),i+=" "+w.getI18NMsg("gs.search.filter.this")+" "+r,E(o).attr("value","watch").attr("gstitle",i).text(i),w.showbannertip({ty:1,msg:w.getI18NMsg("gs.search.sevice_streams_unwatch_status")})))},D.obtainEventDetails=function(e,s){},D.downloadAttachment=function(e){var s=E(e).text(),t=E(e).attr("aId"),a=w.getCurrentResObj(),r=a.account_id,a=a.id||a[w.entity_id],s="searchType="+E(e).attr("service")+"&msgId="+a+"&atIndex="+t+"&accId="+r+"&accType=1&atName="+encodeURIComponent(s),s=w.attachmentURL+"?"+s;w.network.download_file(s)},D.fillToAddress=function(e,s,t){e=D.getFirstEmailId(e);if(null!==e)return{label:w.getI18NMsg("common.to",!0),value:e};s=D.getFirstEmailId(s);if(null!==s)return{label:w.getI18NMsg("gs.search.result.mail.cc"),value:s};t=D.getFirstEmailId(t);return null===t?{label:"",value:""}:{label:w.getI18NMsg("gs.search.result.mail.bcc"),value:t}},D.getFirstEmailId=function(e){return null==e||""===e?null:e.split(",")[0]},D.splitEmailId=function(e){var s=n.createElement("div");s.innerHTML=e;var t="";return t=""!==(e=s.textContent)?(-1!==(s=(e=e.trim()).lastIndexOf("<"))?t=e.substring(s+1,e.length):e).trim().replace("<","").replace(">","").trim():t},D.getTotalEmailAccountCount=function(e,s,t){e=D.getArrayOfElements(e),s=D.getArrayOfElements(s),t=D.getArrayOfElements(t);return e.length+s.length+t.length},D.getArrayOfElements=function(e){if(null==e||""===e)return[];e=e.split(",");return 0<e.length?e:[]},D.getTotalEmailCount=function(e){var s=w.getI18NMsg("gs.search.result.mail.menu.others");return"+"+e+" "+(s=1===e?w.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.other",!0):s)},D.moveToViewPort=function(){w.moveToViewPort("zgs20_gsMailsCalloutFooArea","zgs20_gsMailsCalloutAttachInfo")},D.displayCallout=function(){w.hideCalloutLoader(),E("#"+D.getCalloutHolder()).show()},D.loadToOthersList=function(e,s,t,a){E(e.metaInfo).append(E("<div>",{id:"zgs20_gsDropdownToList",class:"zgs19_gsDropdownToList zgs19_gsDisplayNone",gs:"toDDList"})),D.renderToOthersList(s,w.getI18NMsg("common.to")),D.renderToOthersList(t,w.getI18NMsg("gs.search.result.mail.callout.cc")),D.renderToOthersList(a,w.getI18NMsg("gs.search.result.mail.callout.bcc"))},D.renderToOthersList=function(e,s){if(e){var t=e.split(",");if(0<t.length){for(var a=E("<div>",{class:"zgs19_gsDropdownToListEmailHolder zgs19_gsfl"}),r=t.length,o=0;o<r;o++){var i=o+1===t.length?"":",",n=D.splitEmailId(t[o]);a.append(E("<div>",{class:"zgs19_gsDropdownToListEmailIds zgs19_gsOverflow"}).append(E("<span>",{gstitle:n}).text(n+i)))}E("#zgs20_gsDropdownToList").append(E("<div>",{class:"zgs19_gsDropdownToListHolder"}).append(E("<div>",{class:"zgs19_gsDropdownToListLabel zgs19_gsfl"}).append(E("<span>",{gstitle:s}).text(s))).append(E("<div>",{class:"zgs19_gsSemicolon zgs19_gsfl"}).append(E("<span>").text(":"))).append(a))}}},D.calloutErrorMsg=function(e,s){w.getCurrentSelectedElem()&&(w.hideCalloutLoader(s),e="ERROR"===e?w.getI18NMsg("gs.search.error.generic_error_messege"):w.getI18NMsg("gs.search.result.mail.status.callout.errortext"),w.calloutErrorPage(s,e))},D.loadMailCalloutIframe=function(e,s){var t;w.isExtension?w.openInNewTab(e):(t=w.searchCalloutObj,w.handleBeforeSentCase(t),t=w.gsdbhome.isDashboardOpened?E(s).closest(".zgs19_gsServiceCalloutHolder"):"#zgs20_gsSearchResultRight",((s=E(t).find("#zgs20_gsMailActionHolder")).length<=0||"#zgs20_gsSearchResultRight"==t)&&(s=E("<div>",{id:"zgs20_gsMailActionHolder",class:"zgs19_gsMailActionHolder zgs19_gsServiceCalloutHolder"}),"#zgs20_gsSearchResultRight"==t&&E(t).find(".zgs19_gsMailActionHolder").remove(),E(t).append(s)),(t=n.createElement("iframe")).id="zgs20_gsMailActionFrame",t.className="zgs19_gsMailActionFrame",t.src=e,t.onload=function(){setTimeout(function(){w.hideCalloutLoader()},500)},s.empty().append(t).show())},D.loadImagesWithDomain=function(e){var s=T.GS_MAIL_URL;E(e).find("img").each(function(){var e=E(this).attr("src");e&&(0!=e.indexOf("/mail/ImageDisplay?")&&0!=e.indexOf("/zm/FileDownload?")||E(this).attr("src",s+e))})},D.toggleTimeline=function(e){e=e.parentElement,w.setGSTagElems(e),w.gsstreams.isTimelinesShown?(w.gsstreams.isTimelinesShown=!1,E(e.timelinecontent).hide(),E(e).removeClass("zgs19_timelineHeaderNaviHide").addClass("zgs19_timelineHeaderNaviShow")):(w.gsstreams.isTimelinesShown=!0,E(e.timelinecontent).show(),E(e).removeClass("zgs19_timelineHeaderNaviShow").addClass("zgs19_timelineHeaderNaviHide"))},D.renderStreamsCommentDetails=function(e,s){for(var t=E(e).attr("ccount"),a=s.length,r=0;r<a;r++){var o,i,n=s[r],l="zgs20_gsStreamsComment"+r+t,g="zgs20_gsStreamsCommentContent"+r+t,c="zgs20_gsStreamsCommentAttachmentHolder"+r+t,d=n.by||"",p=n.name||"",u=T.cuz||"",h=u==d?w.getI18NMsg("common.me"):h,_=n.replyToZuid||"";p=_?(P=n.replyToDisplayName||"",o=w.getI18NMsg("common.replied_to"),i=w.getI18NMsg("common.you"),O=w.getI18NMsg("common.your"),(u==d?i:p)+" "+o+" "+(u==_?O:P+"'s ")+" "+w.getI18NMsg("common.comment")):u==d?w.getI18NMsg("common.me"):p;var m="";if(n.hasOwnProperty("attachments"))for(var z=n.attachments,v=z.length,f=v+" "+w.getI18NMsg("gs.search.result.mail.callout.attachments"),m=E("<div>",{class:"zgs19_gsCalloutAttachHeader zgs19_gsfl"}).append(E("<span>",{gstitle:f}).text(f)),C=0;C<v;C++){var S=z[C],b=w.replaceHTMLEntity(S.n),y="zgs19_"+w.getFileImageClass(b),I=w.getDocResTT(y);E(m).append(E("<div>",{class:"zgs19_gsCalloutAttachFooter"}).append(E("<div>",{class:"zgs19_gsCalloutAttachImage"}).append(E("<span>",{class:"zgs19_gsResultsUniIcons "+y,gstitle:I,gs:"resultMenuItem"}))).append(E("<div>",{class:"zgs19_gsCalloutAttachName zgs19_gsOverflow"}).append(E("<span>",{class:"zgs19_gsCalloutAttachTitle zgs19_gsCalloutTitleLink1",service:T.STREAMS,aId:S.i,gs:"attachtitle1",gstitle:b,istip:!0}).text(b))).append(E("<div>",{class:"zgs19_gsCalloutAttachSize zgs19_gsOverflow"}).append(E("<span>").text(w.convertToKBMB(S.s)))))}var _=l+"Holder",O=l+"_private",P="",u="",f="zgs19_gsMxWid80Per";n.hasOwnProperty("private")&&(D.privateCommentArr[O]=n.private,P=E("<label>",{class:"zgs19_gsStreamsPrivateComment zgs19_gsOverflow zgs19_gsCurPointer zgs19_gsfr",pcId:O,gs:"showprivatecomments",gstitle:w.getI18NMsg("gs.search.service_connect.callout.showprivateCommentsLink")}).text(w.getI18NMsg("gs.search.service_connect.callout.showprivateCommentsLink")),u=E("<div>",{class:"zgs19_gsConnChatTitle zgs19_gsOverflow zgs19_gsDisplayNone",id:O}),f="zgs19_gsMxWid76Per"),E(e.commentcontent).append(E("<div>",{class:"zgs19_gsConnectCommentHolder",id:_}).append(E("<div>",{class:"zgs19_gsConnectCommentLeftPanel zgs19_gsfl"}).append(E("<img>",{src:w.gsspacer,gs:"gsUserPhoto",id:l,class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl"}))).append(E("<div>",{class:"zgs19_gsStreamsCommentRightPanel zgs19_gsOverflow zgs19_gsfl"}).append(E("<div>",{class:"zgs19_gsWid100Per zgs19_gsOverflow zgs19_gsfl",gstitle:p,istip:!0}).append(E("<div>",{class:"zgs19_gsConnectCommentTitle zgs19_gsConnectCommentGuest zgs19_gsOverflow zgs19_gsfl "+f,gstitle:p,istip:!0}).text(p)).append(E("<label>",{class:"zgs19_gsConnectCommentDate zgs19_gsOverflow"}).append(n.time)).append(P)).append(E("<div>",{class:"zgs19_gsWid100Per zgs19_gsOverflow zgs19_gsfl"}).append(E("<label>",{class:"zgs19_gsConnectCommentContent zgs19_gsOverflowWrap",id:g}).append(n.text)).append(m).append(E("<div>",{id:l+"_chat",class:"zgs19_gsConnChatHolder"})).append(E("<label>",{class:"zgs19_gsConnectCommentAttach zgs19_gsOverflow",id:c}).append(m))).append(u).append(E("<div>",{class:"zgs19_gsHRLine90Per"})))),D.loadImagesWithDomain("#"+g),n.hasOwnProperty("chatletTitle")&&(c=n.chid,u=n.chatletTitle,n=w.getI18NMsg("gs.search.result.chat.viewtranscript_dialog.continue"),E("#"+l+"_chat").append(E("<div>",{class:"zgs19_gsConnChatTitle zgs19_gsOverflow",gstitle:u}).text(u)).append(E("<div>",{class:"zgs19_gsConnChatCount zgs19_gsCurPointer zgs19_gsOverflow",gs:"connectcontinuechat",chatid:c}).text(n))),w.preventStylesFromParentDomain("#"+g);d=w.getThumbPhotoURL(d);w.updateUserPhoto(l+"Holder",d)}},D.hidePrivateToPostComments=function(e){var s=E(e).attr("pcId");E(e).attr("gs","showprivatetopostcomments"),E(e).attr("gstitle",w.getI18NMsg("gs.search.service_connect.callout.showprivateCommentsLink")),E(e).empty().text(w.getI18NMsg("gs.search.service_connect.callout.showprivateCommentsLink")),E("#"+s).css("display","none")},D.showPrivateToPostComments=function(e){var s=E(e).attr("pcId");E(e).attr("gs","hideprivatetopostcomments"),E(e).attr("gstitle",w.getI18NMsg("gs.search.service_connect.callout.hideprivateCommentsLink")),E(e).empty().text(w.getI18NMsg("gs.search.service_connect.callout.hideprivateCommentsLink"));var t=D.privateToPostCommentArr[s],a=t.length;if(0==E("#"+s).children().length)for(var r=0;r<a;r++){var o=t[r],i=T.cuz||"",n=o.i,l=i==n?w.getI18NMsg("common.me"):o.n,g=s+"_Img",c=a-1===r?"":E("<div>",{class:"zgs19_gsHRLine"}),i=w.gssecurity.textDecoder(o.txt);E("#"+s).append(E("<div>",{class:"zgs19_gsStreamsPrivateComment",id:s+r+"privateHolder"}).append(E("<div>",{class:"zgs19_gsConnectCommentLeftPanel zgs19_gsfl"}).append(E("<img>",{src:w.gsspacer,gs:"gsUserPhoto",id:g,class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl"}))).append(E("<div>",{class:"zgs19_gsStreamsCommentRightPanel zgs19_gsOverflow zgs19_gsfl"}).append(E("<div>",{class:"zgs19_gsWid100Per zgs19_gsOverflow zgs19_gsfl",gstitle:l,istip:!0}).append(E("<div>",{class:"zgs19_gsConnectCommentTitle zgs19_gsConnectCommentGuest zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid78Per",gstitle:l,istip:!0}).text(l)).append(E("<label>",{class:"zgs19_gsConnectCommentDate zgs19_gsOverflow"}).append(o.pct))).append(E("<div>",{class:"zgs19_gsWid100Per zgs19_gsOverflow zgs19_gsfl"}).append(E("<label>",{class:"zgs19_gsConnectCommentContent zgs19_gsOverflowWrap"}).text(i))).append(c)));n=w.getThumbPhotoURL(n);w.updateUserPhoto(s+r+"privateHolder",n)}E("#"+s).css("display","block")},D.hidePrivateComments=function(e){var s=E(e).attr("pcId");E(e).attr("gs","showprivatecomments"),E(e).attr("gstitle",w.getI18NMsg("gs.search.service_connect.callout.showprivateCommentsLink")),E(e).empty().text(w.getI18NMsg("gs.search.service_connect.callout.showprivateCommentsLink")),E("#"+s).css("display","none")},D.showPrivateComments=function(e){var s=E(e).attr("pcId");E(e).attr("gs","hideprivatecomments"),E(e).attr("gstitle",w.getI18NMsg("gs.search.service_connect.callout.hideprivateCommentsLink")),E(e).empty().text(w.getI18NMsg("gs.search.service_connect.callout.hideprivateCommentsLink"));var t=D.privateCommentArr[s],a=t.length;if(0==E("#"+s).children().length){E("#"+s).append(E("<div>",{class:"zgs19_gsHRDottodLine"}));for(var r=0;r<a;r++){var o=t[r],i=T.cuz||"",n=o.i,l=i==n?w.getI18NMsg("common.me"):o.n,g=s+"_Img",c=a-1===r?"":E("<div>",{class:"zgs19_gsHRLine"}),i=w.gssecurity.textDecoder(o.txt);E("#"+s).append(E("<div>",{class:"zgs19_gsStreamsPrivateComment",id:s+r+"privateHolder"}).append(E("<div>",{class:"zgs19_gsConnectCommentLeftPanel zgs19_gsfl"}).append(E("<img>",{src:w.gsspacer,gs:"gsUserPhoto",id:g,class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl"}))).append(E("<div>",{class:"zgs19_gsStreamsCommentRightPanel zgs19_gsOverflow zgs19_gsfl"}).append(E("<div>",{class:"zgs19_gsWid100Per zgs19_gsOverflow zgs19_gsfl",gstitle:l,istip:!0}).append(E("<div>",{class:"zgs19_gsConnectCommentTitle zgs19_gsConnectCommentGuest zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid78Per",gstitle:l,istip:!0}).text(l)).append(E("<label>",{class:"zgs19_gsConnectCommentDate zgs19_gsOverflow"}).append(o.pct))).append(E("<div>",{class:"zgs19_gsWid100Per zgs19_gsOverflow zgs19_gsfl"}).append(E("<label>",{class:"zgs19_gsConnectCommentContent zgs19_gsOverflowWrap"}).text(i))))).append(c);n=w.getThumbPhotoURL(n);w.updateUserPhoto(s+r+"privateHolder",n)}}E("#"+s).css("display","block")},D.setServiceEleSize=function(e,s,t){t=t||w.getTargetElem(D.getCalloutHolder()),w.setGSTagElems(t),D.setStreamsCalloutEleSize(t),E("#"+e).css("height",s+"px")},D.getPreviewCrdParams=function(){var e=w.getCurrentResObj();return{entity_id:e.id,account_id:e.gId,actionType:"true"===e.isOwner?"viewSelfData":"viewGroupEntity",entityType:e.entityType,module:T.STREAMS}},D)}(zgssearch,window),function(z){var v,f=window._jQueryGS,l=z.getGSConstantObj()||{},p=z.gscomponent||{};z.gscrm=(v=void 0,(v=z.gscrm||{}).actionList=[{open:"common.open"},{edit:"common.edit"},{copyLink:"gs.search.callout.copylink"},{savePreview:"gs.search.callout.savePreviewCard"}],v.crmImpFieldsData=v.crmImpFieldsData||{},v.crmOwnerData={},v.notesNoTitle=" --- No Title --- ",v.calloutParams=function(e){var s=e.id||e[z.entity_id],t=v.getMod(e),a=e.serviceName||e.service||z.getCurSelectedEleAttr("service"),r=a==z.GSConstant.CRM?"crmMod":a==z.GSConstant.BIGIN?"module":"",e=e.accId||e[z.account_id]||z.getResultAccountId();return"searchType="+a+"&entityId="+s+"&"+r+"="+v.getCrmModuleQueryName(t)+"&orgId="+e},v.getCalloutHolder=function(){return"zgs20_gsCRMCallout"},v.getCrmModuleQueryName=function(e){var s=z.getCalloutSearchType(),s=z.getFilterInfo(s,"modules","current");return s.hasOwnProperty(e)?s[e]:e},v.createCalloutTemplate=function(e,s,t){var t=t||z.getCalloutSearchType(),a=s.calloutId,r=f("#"+a).length,o=z.getI18NMsg("gs.search.sevice_prevmax"),i=z.getI18NMsg("gs.search.sevice_prevmin"),n=z.getI18NMsg("common.edit");r<=0&&(t=f("<div>",{id:a,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(f("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(f("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(f("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:t,target:"_blank",rel:"noopener noreferrer"}))).append(f("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:z.getNewTabTip(t),service:t})).append(f("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(f("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(f("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:l.CRM})).append(f("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(f("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(f("<div>",{class:"zgs18_gsEditIcon zgs19_gsCalloutCRMEditIcon zgs19_gsCurPointer zgs19_gsfr",gs:"calloutActionOptions",value:"edit",gstitle:n,service:t})).append(f("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:o,gs:"maxpreview",service:t})).append(f("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:i,gs:"minpreview",service:t}))))).append(f("<div>",{class:"zgs19_gsCalloutFooter zgs19_gsSuiteCalloutFooter",gs:"calloutFooter"}).append(f("<div>",{id:"zgs20_gsCrmImpInnerContent",class:"zgs19_gsCalloutFooter zgs19_gsSalesSuiteCalloutData",gs:"calloutData"}).append(f("<div>",{class:"zgs19_gsSuiteCalloutHeaderInfo",gs:"businesscardData"}).append(f("<div>",{class:"zgs19_gsCalloutSuiteInfo",gs:"impData"}))).append(f("<div>",{class:" zgs19_gscontPartSuiteHolderParent zgs19_gsCalloutPopUp zgs19_gsfl",gs:"contPartHolder"}).append(f("<div>",{class:"zgs19_gscontPartHolder"}).append(f("<div>",{class:"zgs19_gsOverflowHidden",gs:"crmcontent"})))))),f(s.parentElem).append(t),z.attachDoubleClickPopUpEvent()),f("#"+a).attr("ccount",e)},v.setCrmCalloutEleSize=function(e,s,t){e&&(!z.isMaxCalloutOpen||s||t?f(e.calloutFooter).removeClass("zgs19_gsSuiteMaxView"):f(e.calloutFooter).addClass("zgs19_gsSuiteMaxView"),t=0<(t=f(e.calloutFooter).width()-f(e.calloutData).outerWidth())?t/2:0,f(e.calloutData).css("margin","auto "+t+"px"),f(e.contPartHolder).css("minHeight",f(e.calloutFooter).outerHeight(!0)-f(e.businesscardData).outerHeight(!0)-80+"px"))},v.calloutResponse=function(e,s,t,a){var r,o,i,n,l,g=s.serviceName||s.service||z.getCalloutSearchType(),c=a.searchObj,d=z.getTargetElem(c.calloutId);z.setGSTagElems(d),z.setGSTagElems(t),a=a||{},g!=z.GSConstant.BIGIN&&a.updateRecord&&!e&&(v.crmImpFieldsData.Owner=a.owner,v.crmImpFieldsData.editable=!1,e=v.crmImpFieldsData),f(d.actionPipe).css("display","none"),f(d.maxpreview).css("display","none"),f(d.minpreview).css("display","none"),e?(l=v.getMod(s),n=e[z.account_id],r=s.mandatoryCol||z[g+"MandName"][n][g+"_"+l],o=s.extraFields||z[g+"DispObj"][n][g+"_"+l],i=s.apiNames,n=s[r],i&&!f.isEmptyObject(i)&&(n=o[Object.keys(i).find(e=>i[e]===r)]),t=f(t.resultTitle).attr("gslabel")||"",f(d.ctitle).attr("gslabel",t),v.generateCallOut(l,s,e,c,g),f(d.ctitle).attr("href",z.fetchCalloutUrl(g,s,"",e)),"Events"==l?n=s.Event_Title||o.Title:"Notes"==l&&(n=n||v.notesNoTitle),n=z.checkUndefined(n),f(d.ctitle).empty().text(n).attr("gstitle",n),f(d.actionPipe).css("display","block"),f(d.actionlist).css("display","block"),f(d.ctitle).addClass("zgs19_gsCalloutTitleLink"),"Notes"===l&&(f(d.actionPipe).css("display","none"),f(d.actionlist).css("display","none")),(n=z.isPreviewCard(c))||(z.isMaxCalloutOpen?f(d.minpreview).css("display","block"):c.iconDisplay&&f(d.maxpreview).css("display","block")),g!=f(d.ctitle).attr("service")&&f(d).find("*").attr("service",g),f(d.calloutActionOptions).css("display","none"),f(d).find(".zgs19_gsCalloutCRMEditIcon").css("display","none"),"Notes"!==l&&e.editable&&(f(d.calloutActionOptions).css("display","block"),f(d).find(".zgs19_gsCalloutCRMEditIcon").css("display","block")),(z.getCurrentSelectedElem()||n)&&(z.hideCalloutLoader(c),f(d).css("display","block")),f(d.contPartHolder).scrollTop(0),f(d.contPartHolder).scrollLeft(0),"Notes"!==l&&v.addCalloutActionList(d,e.editable,g),l="dashboardCard"===c.type,g=!!c.hasOwnProperty("cardCalloutType")&&"cardCalloutType"===c.cardCalloutType,v.setCrmCalloutEleSize(d,g,l),z.calloutVisitRequest()):(l="",a.updateRecord&&(f(d).css("display","none"),l="ownerUpdate"),v.calloutErrorMsg(l,c))},v.generateCallOut=function(e,s,t,a,r){var o={},i=a.calloutId,n=z.getTargetElem(i);z.setGSTagElems(n);var l=s.accId||s[z.account_id]||z.getResultAccountId();if(f(n.crmcontent).removeClass("zgs19_gsPdLt10Px"),"null"!==s&&null!==s){var g,i=s.extraFields||z[r+"DispObj"][l][r+"_"+e],l=g=s.mandatoryCol||z[r+"MandName"][l][r+"_"+e],c=s.apiNames,i=i[l=c&&0<c.length?Object.keys(c).find(e=>c[e]===g):l];if(void 0!==t&&"null"!==t&&null!==t){var d,l=z.jsonParse(t),p=l.extraFields,u=l.dt;for(d in(v.crmImpFieldsData=l).hasOwnProperty("impFields")&&(a.type===z.dbCrdCalloutType||a.type===z.crdPagecalloutType?v.crmOwnerData[a.cardId]=l.Owner&&l.Owner||{}:(t=l.Owner&&l.Owner||{},v.crmOwnerData="object"!=typeof t?{name:t}:t),v.crmApiNamesData=l.apiNames&&l.apiNames||{},v.renderImportantFieldDetails(z.minPrevPane,n,a)),p.hasOwnProperty(i)&&delete p[i],p)o[d]=p[d]}}f(n.crmcontent).empty();var h,_=f(n.crmcontent);for(h in o){var m=o[h];""!==m&&(m=v.renderCrmModuleDetails(e,h,m,u,s,r),_=_.append(m))}f(n.crmcontent).is(":empty")&&f(n.crmcontent).addClass("zgs19_gsPdLt10Px").append(z.getI18NMsg("common.error.no_additional_info"))},v.addCalloutActionList=function(e,s,t){var a=e.getElementsByClassName("zgs19_gsCalloutActionList");f(a).empty().remove(),f(e.calloutActionHolder).append(f("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var a=e.getElementsByClassName("zgs19_gsCalloutActionList"),r=v.actionList,o=r.length,i=0;i<o;i++){var n,l,g=r[i];for(n in g)("edit"!=n||s)&&z.savePreviewNeeded(n)&&(l=z.getI18NMsg(g[n]),f(a).append(f("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:n,service:t,gstitle:l}).text(l)))}z.Utils.constructSaveBookmarkInCallout(a,t)},v.renderCrmModuleDetails=function(e,s,t,a,r,o){var i="";let n="",l="";var g;return"email"===a[s]?(i=f("<a>",{class:"zgs19_gsEmailElem zgs19_gsLinkElem zgs19_gsOverflowWrap zgs19_gsfl",rel:"noopener noreferrer",href:"mailto:"+t,target:"_blank",gstitle:t,istip:!0}).text(t),n=" zgs19_gsEmailParentElem",l=f("<span>",{class:"zgs18_gsCopyLink zgs19_gsCopyMailId zgs19_gsDisplayNone",gstitle:z.getI18NMsg("gs.search.callout.copyMailId"),gs:"copyMailId"}),v.isOnTheFlyIconNeeded(r.account_id)&&f("<span>",{class:"zgs18_gsDashboardIcon zgs19_gsDashboardIcon zgs19_gsDisplayNone",gstitle:z.I18N.getValue("gs.dashboard.dashboard_for",[t]),gs:"onTheFlyDB",email:t})):i="Notes"===e&&s===v.crmImpFieldsData.related_to?(o===z.GSConstant.BIGIN?g=z.gscrm.openBiginResult(r):o===z.GSConstant.CRM&&(g=z.crmRecordOpen(r)),f("<a>",{class:"zgs19_gsEmailElem zgs19_gsLinkElem zgs19_gsOverflowWrap zgs19_gsfl",rel:"noopener noreferrer",href:g,target:"_blank",gstitle:t,istip:!0}).text(t)):f("<div>",{class:"zgs19_gsCalloutDocsAuthor zgs19_gsWordBreakImp zgs19_gsWid100Per zgs19_gsOverflow1 zgs19_gsfl",gstitle:t,istip:!0}).text(t),f("<div>",{class:"zgs19_gsSuiteParent"}).append(f("<div>",{class:"zgs19_gsSuiteLabel zgs19_gsfl zgs19_gsOverflow1 zgs19_gsWordBreakImp",gstitle:s}).text(s)).append(f("<div>",{class:"zgs19_gsSuiteValue zgs19_gsfl "+n}).append(i,l))},v.getCRMApiType=function(e,s,t){let a="";var r=s.type==z.dbCrdCalloutType||s.type==z.crdPagecalloutType?z.cardObjForCurrentSelectedElem[s.cardId].resultObj:t,t=v.getMod(r),r=v.crmApiNamesData;return"Notes"!=t&&"Owner"==r[e]&&v.crmImpFieldsData.editable&&(s=s.service,a=s+"OwnerChange"),a},v.isOwnerField=function(e){return"Owner"==v.crmApiNamesData[e]},v.getCRMEditableField=function(e,s,t){var a="";return"crmOwnerChange"!=e&&"biginOwnerChange"!=e||(a=f("<div>",{class:"zgs19_gsModuleFilterElemIcon zgs18_gsModuleFilterDownIcon zgs19_gsBorderBox zgs19_gsInLine"})),f("<div>",{class:"zgs19_gsEditFieldsNameHolder zgs19_gsEditFieldsUline zgs19_gsCalloutDocsAuthor zgs19_gsDDBTrans zgs19_gsCurPointer zgs19_gsfl",field:s,gs:"CalloutEditFields",datatype:e}).append(f("<div>",{class:"zgs19_gsOverflow zgs19_gsMxWid90Per zgs19_gsInLine zgs19_gsfl",gstitle:t}).text(t)).append(a)},v.renderImportantFieldChild=function(e,s,t,a,r){var o="";if(""===s)o=f("<div>",{class:"zgs19_gsSuiteValue zgs19_gsOverflow zgs19_gsfl",gstitle:s}).html("&mdash;");else{r=v.getCRMApiType(e,a,r);if(s=v.isOwnerField(e)?(a.type===z.dbCrdCalloutType||a.type===z.crdPagecalloutType?v.crmOwnerData[a.cardId]:v.crmOwnerData).name:s,r)o=v.getCRMEditableField(r,e,s);else if("email"===t[e]){let e="";v.isOnTheFlyIconNeeded(a.curSelectedEle&&f(a.curSelectedEle).attr("acc_id"))&&(e=f("<span>",{class:"zgs18_gsDashboardIcon zgs19_gsDashboardIcon zgs19_gsDisplayNone",gstitle:z.I18N.getValue("gs.dashboard.dashboard_for",[s]),gs:"onTheFlyDB",email:s})),o=f("<div>",{class:"zgs19_gsSuiteValue zgs19_gsEmailParentElem zgs19_gsOverflow zgs19_gsfl"}).append(f("<a>",{class:"zgs19_gsEmailElem zgs19_gsLinkElem zgs19_gsOverflowWrap zgs19_gsfl",rel:"noopener noreferrer",href:"mailto:"+s,target:"_blank",gstitle:s,istip:!0}).text(s)).append(f("<span>",{class:"zgs18_gsCopyLink zgs19_gsCopyMailId zgs19_gsDisplayNone",gstitle:z.getI18NMsg("gs.search.callout.copyMailId"),gs:"copyMailId"})).append(e)}else o="website"===t[e]?(t=s,/^(?:f|ht)tps?\:\/\//.test(s)||(t=z.httpstxt+"://"+s),f("<div>",{class:"zgs19_gsSuiteValue zgs19_gsOverflow zgs19_gsfl"}).append(f("<a>",{class:"zgs19_gsLinkElem zgs19_gsOverflowWrap zgs19_gsfl",rel:"noopener noreferrer",href:t,target:"_blank",gstitle:s,istip:!0}).text(s))):f("<div>",{class:"zgs19_gsSuiteValue zgs19_gsOverflow zgs19_gsfl"}).append(f("<span>",{class:"zgs19_gsfl",gstitle:s,istip:!0}).text(s))}e=f("<span>",{istip:!0,gstitle:e}).text(e);return f("<div>",{class:"zgs19_gsSuiteParent"}).append(f("<div>",{class:"zgs19_gsSuiteLabel zgs19_gsfl zgs19_gsOverflow1 zgs19_gsWordBreakImp"}).append(e)).append(o)},v.renderImportantFieldDetails=function(e,s,t){z.setGSTagElems(s);var a=v.crmImpFieldsData,r=a.impFields,o=a.dt,a=25*f(".zgs19_gsSearchResultRight").width()/100,i=0!==p.UIType?a:125,n=0!==p.UIType?a:150;f(s.impData).empty();var l,g=f(s.impData),c=z.getCurrentResObj();for(l in r){var d=r[l],d=v.renderImportantFieldChild(l,d,o,t,c);v.isOwnerField(l)?g.prepend(d):g.append(d);d=z.getWidthOfText(l,n),i=i<d?d:i}e=100*(e-i-30)/e+"%";f(g).find(".zgs19_gsEditFieldsNameHolder").css("max-width",e)},v.calloutErrorMsg=function(e,s){z.getCurrentSelectedElem()&&(z.hideCalloutLoader(s),e="ERROR"===e?"gs.search.error.generic_error_messege":"ownerUpdate"===e?"gs.search.result.bigin.status.recordupdate.errortext":"gs.search.result."+s.service+".status.callout.errortext",e=z.getI18NMsg(e),z.calloutErrorPage(s,e))},v.editRecord=function(e){var s,t,a;e===z.GSConstant.BIGIN?v.EditBiginRecord():e===z.GSConstant.CRM&&(t=z.gsaction.currSearchType&&!f.isEmptyObject(z.gsaction.currSearchType)?z.gsaction.currSearchType.getCurrentResultObj():(a=z.getCurSelectedEleAttr("index"),e=z.getCurSelectedEleAttr("service"),z.getResultObject(e,a)),s=v.getMod(t),e=z.getFilterInfo(l.CRM,"modules","crm_modules"),a=z.gsaction.currSearchType.getCurrAccId(),s="Events"!=s?e[a][s+"_url"]:s,t=t.id||t[z.entity_id],a=z.crmOrgInfo.getDomain(a),z.openInNewTab(l.GS_CRM_URL+"/crm/"+a+"/tab/"+s+"/"+t+"/edit"))},v.setServiceEleSize=function(e,s,t){t=t||z.getTargetElem("zgs20_gsCRMCallout"),z.setGSTagElems(t),v.setCrmCalloutEleSize(t),e&&f("#"+e).css("height",s+"px")},v.openBiginResult=function(e,s){var t=v.getMod(e),a=e.id||e[z.entity_id];z.getFilterInfo(l.BIGIN,"modules","data");if("Notes"===t){var r,o=z.gscrm.crmImpFieldsData.related_record;for(r in o)a=o[r],t=r}return(s=s||z.getResultAccountId())?l.GS_BIGIN_URL+"/"+l.BIGIN+"/Home#/"+t+"/"+a+"?orgId="+s:null},v.EditBiginRecord=function(){var e=z.GSConstant.BIGIN;a=z.gsaction.currSearchType&&!f.isEmptyObject(z.gsaction.currSearchType)?z.gsaction.currSearchType.getCurrentResultObj():(t=z.getCurSelectedEleAttr("index"),z.getResultObject(e,t));var s=z.gsaction.currSearchType.getCurrAccId(),t=v.getMod(a),a=a.id||a[z.entity_id];z.openInNewTab(l.GS_BIGIN_URL+"/"+e+"/Home#/"+t+"/"+a+"?orgId="+s+"&recordaction=edit")},v.getPreviewCrdParams=function(){var e={},s=z.getCurrentResObj();return e.entity_id=s.id,e.account_id=s.accId||z.getResultAccountId(),e[z.module_id]=v.getMod(s),e},v.getMod=function(e={}){return e.mod||e.module},v.isOnTheFlyIconNeeded=function(s){if(z.isDashboardEnabled&&l.onTheFlyDashboard&&!z.isCardViewOpened()&&!z.isDashboardViewOpened()&&!z.isMobViewport()&&s){let e=z.getFilterObj(l.CRM);if(e){var t=e.hasOwnProperty("accounts")?e.accounts.mdefault:"";return s&&t&&s===t}}return!1},v)}(zgssearch),function(a){var r=window._jQueryGS;a.pc={},a.getCalloutForResult=function(e){var s={};return s.metaDetailObj=e,a.GSConstant.cloud_app_id=e.hasOwnProperty("appId")?e.appId:-1,a.pc.containerMap=a.pc.containerMap||{},s.constructPreviewComponent=function(){var e=this.metaDetailObj.serviceName,s=a.mappedServiceList[e].id;this.isPreviewOpenedInComponent()&&(t="zgs20_pcSearch",a.pcResObj=this.metaDetailObj,r("#"+this.metaDetailObj.parent),r("#"+t).length<=0&&r("#"+this.metaDetailObj.parent).append(r("<div>",{id:t,class:"zgs19_pcglobalsearch"})));var t={type:this.metaDetailObj.calloutPgtype||"search",parentElem:this.isPreviewOpenedInComponent()?t:this.metaDetailObj.parent||this.metaDetailObj.parentElem,calloutId:this.metaDetailObj.calloutId||this.metaDetailObj.parent+"_"+s,iconDisplay:null==this.metaDetailObj.iconDisplay||this.metaDetailObj.iconDisplay,cardId:this.metaDetailObj.cardId||"",cardCalloutType:this.metaDetailObj.cardCalloutType||"",callbackFn:this.metaDetailObj.callbackFn||""};a.pc.containerMap[this.metaDetailObj.parent]={service:e};s=t.parentElem;"object"!=typeof t.parentElem&&s.split("#").length<=1&&(t.parentElem="#"+s),this.metaDetailObj.hasOwnProperty("height")&&r(t.parentElem).css("height",this.metaDetailObj.height),this.metaDetailObj.hasOwnProperty("width")&&r(t.parentElem).css("width",this.metaDetailObj.width),a.hasOwnProperty("pccomponent")&&a.pccomponent&&this.isPreviewOpenedInComponent()&&(a.pcResObj.calloutId=t.calloutId,a.pcViewport=("object"!=typeof t.parentElem?r(t.parentElem):t.parentElem)[0],this.bindClickEvent());s=this.metaDetailObj.accId;a.iterResultObjData(e,s,this.metaDetailObj),this.isPreviewOpenedInComponent()?a.loadServiceComponent(e):a.preLoadComponentForServices(),r(t.parentElem).css("display","block"),a.getCalloutData("",this.metaDetailObj,t)},s.isPreviewOpenedInComponent=function(){return a.isPreviewOpenedInComponent&&this.metaDetailObj&&"search"!=this.metaDetailObj.calloutPgtype},s.bindClickEvent=function(){a.pcViewport.removeEventListener("click",a.pcClickEvent,!0),a.pcViewport.addEventListener("click",a.pcClickEvent,!0)},s}}(zgssearch),zgssearch.res_services=[zgssearch.GSConstant.SALESFORCE,zgssearch.GSConstant.SLACK,zgssearch.GSConstant.BOX,zgssearch.GSConstant.DROPBOX,zgssearch.GSConstant.GOOGLEDRIVE,zgssearch.GSConstant.ASANA,zgssearch.GSConstant.PROJECTS],zgssearch.isHandlebarLoaded=function(){return!("undefined"==typeof search_handlebars||!(!zgssearch.isBuildChanged||zgssearch.GSConstant.handlebarsUrl&&zgssearch.includes(zgssearch.GSConstant.BUILD_DATE,zgssearch.GSConstant.handlebarsUrl)))},zgssearch.ResourceFactory=function(){var a;this.createInstance=function(e,s){if(s=s||!1,!zgssearch.isPreviewOpenedInComponent){var t=(zgssearch.isDashboardEnabled?zgssearch.getConstAllServList():zgssearch.getServiceList("serviceList"))||[];if(!zgssearch.isArrayContain(e,t)&&!s)return null}switch(e){case zgssearch.GSConstant.SLACK:a=new ZSSlackResource;break;case zgssearch.GSConstant.SALESFORCE:case zgssearch.GSConstant.DROPBOX:case zgssearch.GSConstant.GOOGLEDRIVE:case zgssearch.GSConstant.BOX:case zgssearch.GSConstant.ONEDRIVE:case zgssearch.GSConstant.ASANA:case zgssearch.GSConstant.PROJECTS:case zgssearch.GSConstant.EVERNOTE:a=new ZSHandlebarsResource}return a}},function(_){var l,m=window._jQueryGS,z=_.getGSConstantObj()||{};_.gsconnect=(l=void 0,(l=_.gsconnect||{}).actionList=[{open:"common.open",copyLink:"gs.search.callout.copylink"},{savePreview:"gs.search.callout.savePreviewCard"}],l.getCalloutHolder=function(){return"zgs20_gsConnectCallout"},l.calloutParams=function(e){var s=e.accId||_.getResultAccountId();return"searchType="+(e.serviceName||_.getCurSelectedEleAttr("service"))+"&streamId="+e.id+"&networkId="+_.pulseNetworkId[s]+"&ctype=FEEDS"},l.createCalloutTemplate=function(e,s){var t,a,r,o=s.calloutId;m("#"+o).length<=0&&(t=_.getI18NMsg("gs.search.sevice_prevmax"),a=_.getI18NMsg("gs.search.sevice_prevmin"),r=_.getFourDotLoader("zgs20_gsConnectPrevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader"),r=m("<div>",{id:o,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(m("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(m("<span>",{class:"zgs18_gsAttachIcon zgs19_gsCalloutAttachmentIcon zgs19_gsfl zgs19_gsDisplayNone",service:z.CONNECT,gs:"attachArea"})).append(m("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(m("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:z.CONNECT,target:"_blank",rel:"noopener noreferrer"}))).append(m("<span>",{class:"zgs19_gsfl zgs19_callout_ptype zgs19_gsDisplayNone",gs:"ptype"})).append(m("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:_.getNewTabTip(z.CONNECT),service:z.CONNECT})).append(m("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(m("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(m("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:z.CONNECT})).append(m("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(m("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(m("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:t,gs:"maxpreview",service:z.CONNECT})).append(m("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:a,gs:"minpreview",service:z.CONNECT}))))).append(m("<div>",{id:"zgs20_gsConnectCalloutFooter zgs19_gsw100h100",class:"zgs19_gsCalloutFooter zgs19_gsCalloutPopUp",gs:"calloutFooter"}).append(m("<div>",{class:"zgs19_gsHW100per",id:"zgs20_gsConnectIframeHolder",gs:"oembedcontent"}).append(m("<div>",{class:"zgs19_gsOverflowHidden zgs19_gsDisplayNone zgs19_gsw100h100",id:"zgs20_gsConnectPreviewLoader"}).append(r))).append(m("<div>",{class:"zgs19_gsBtnCalloutContentInfo",gs:"contentHolder"}))),m(s.parentElem).append(r),_.attachDoubleClickPopUpEvent()),m("#"+o).attr("ccount",e)},l.setConnectCalloutEleSize=function(e){var s;e&&(s=m(e.header).height(),s=m(e).height()-s,_.isMobViewport()&&(s-=_.getLHSServicePaneHeight()),m(e.calloutFooter).css("height",s+"px"))},l.showContentLoader=function(e){m(e).find("#zgs20_gsConnectPreviewLoader").css("display","block")},l.hideContentLoader=function(e){m(e).find("#zgs20_gsConnectPreviewLoader").css("display","none")},l.openInConnectBtn=function(e){m(e.contentHolder).css("display","block"),m(e.contentHolder).addClass("zgs19_gsHght100Per"),m(e.contentHolder).empty().append(m("<div>",{class:"zgs19_gsDocsPreviewHolder zgs19_gsDocsPreviewHolderBtn",id:"zgs20_gsConnectpreviewHolder",gs:"previewHolder"})),_.setGSTagElems(e),m(e).find("#zgs20_gsConnectPreviewLoader").hide(),m(e.previewHolder).append(m("<div>",{class:"zgs19_gsTabOpenBtnNew zgs19_gsOverflow",gs:"tabPage",service:z.CONNECT}).append(m("<div>",{class:"zgs19_gsMgRt5Px"}).text(_.getI18NMsg("gs.search.result.connect.open_in_app"))).append(m("<div>",{class:"zgs19_gsfl zgs19_gsMxWid200Px"}))),m(e.previewHolder).show()},l.calloutResponse=function(e,s,t,a){var a=a.searchObj,r=_.getTargetElem(a.calloutId);_.setGSTagElems(r),_.setGSTagElems(t);m(r).attr("ccount");m(r.ctitle).attr("href",_.fetchCalloutUrl(z.CONNECT,s,"",e));e=s.hasOwnProperty("title")?s.title.trim():"";ctitle=_.replaceHTMLEntity(e)||_.getI18NMsg("gs.search.service_connect.callout.noTitle"),m(r.ctitle).empty().text(ctitle).attr("gstitle",ctitle),t&&(o=m(t.resultTitle).attr("gslabel")||"",m(r.ctitle).attr("gslabel",o)),m(r.attachArea).css("display","none"),"true"===s.hasAttach&&m(r.attachArea).css("display","block"),m(r.contentHolder).css("display","none"),m(r.contentHolder).removeClass("zgs19_gsHght100Per"),m(r.oembedcontent).css("display","none");var e=s.type||"",t=_.getPosttypeCls(e),o=t.class;m(r.ptype).css("display","none"),m(r.ptype).removeClass(),o&&(m(r.ptype).attr("gstitle",t.title),m(r.ptype).attr("gslabel",_.getI18NMsg("common.posttype")),m(r.ptype).addClass("zgs19_gsfl "+o),m(r.ptype).css("display","block")),_.isArrayContain(e,_.EXCLUDED_CONNECT_POSTTYPE)?l.openInConnectBtn(r):(m(r.oembedcontent).css("display","block"),l.showContentLoader(r),i=_.GSConstant.isNightModeEnabled?"&nightmode=true":"&nightmode=false",i=s.url+"?oembedpreview=true&"+_.originParam+i+"&zia=true",l.renderConnectPreview(i,r,a));var i=_.isPreviewCard(a);a.iconDisplay&&!i&&(m(r.maxpreview).css("display","block"),m(r.minpreview).css("display","none"),m(r.actionPipe).css("display","block")),i?m(r.sender).removeClass("zgs19_gsCurPointer"):m(r.sender).addClass("zgs19_gsCurPointer"),(_.getCurrentSelectedElem()||_.hasOwnProperty("pccomponent")&&_.pccomponent||i)&&(_.hideCalloutLoader(a),m(r).css("display","block"),m(r.loadericon).show()),setTimeout(function(){m(r.calloutFooter).scrollTop(0),m(r.calloutFooter).scrollLeft(0)},0),l.addCalloutActionList(r),l.setConnectCalloutEleSize(r),_.calloutVisitRequest()},l.renderConnectPreview=function(e,s,t){if(_.isExtension)l.openInConnectBtn(s),m(s.oembedcontent).hide();else{var a=_.getCurrentSelectedElem();l.currCalloutCount=(a||t).id;try{m(s).find("#zgs20_gsConnectIframe").remove();var r=document.createElement("iframe");r.src=e,r.id="zgs20_gsConnectIframe",r.gs="connectCalloutData",r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen","true"),r.setAttribute("sandbox","allow-same-origin allow-scripts allow-popups"),m(s.oembedcontent).append(r),r.onload=function(e){l.hideContentLoader(s),setTimeout(function(){var e=(e=_.getCurrentSelectedElem())?e.id:"";(_.hasOwnProperty("pccomponent")&&_.pccomponent||l.currCalloutCount===e||l.prevCrdCalloutId)&&(e="",e=(_.isDashboardViewOpened()?m("#"+s.id):m(s)).find("#zgs20_gsConnectIframe"),_.calloutVisitRequest(),_.setScrollTopLeft(e),m(e).css("display","block"))},100,e)},r.onerror=function(){l.calloutErrorMsg("",t)}}catch(e){_.throwClientError("Error while loading Connect Page",e),l.calloutErrorMsg("",t)}}},l.generateConnectCalloutImage=function(s){"use strict";return function(){var e=_.getTargetElem(this.getAttribute("gs"));e&&(m(e).removeClass("zgs19_gsFetchImgLoader zgs19_gsConnectLinkImgLoader").addClass("zgs19_gsConnectLinkImgPhoto"),e.src=s?this.src:_.gsspacer,_.removeEle(this))}},l.showMoreCategories=function(e){var s=m(e).attr("acc_id"),t=m(e).attr("childId");m("#"+t).remove();var a=m("<div>",{class:"zgs19_gsOverflow zgs19_gsfl",gs:"blogCategoryList",id:t});m(e).parent().append(a);a=_.getTargetElem(e);_.setGSTagElems(a);a=m(e).attr("categArr");l.renderBlogCategories(e,s,t,a)},l.renderBlogCategories=function(e,s,t,a){var r=m("#"+t);m(r).empty(),a=_.jsonParse(a);m(r).width();for(var o,i=a.length,n=m(e).attr("canAppendGsAttr"),l="zgs20_gsBlogCategoryResList"===t?1:2,g="zgs20_gsBlogCategoryResList"===t&&"true"===n?"zgs19_gsForumCategory zgs19_gsCurPointer":"",n=_.hasOwnProperty("getFilterInfo")?_.getFilterInfo(z.CONNECT,"categories","dispname"):"",c=(_.replaceHTMLEntity(n),l);c<i;c++){var d,p,u,h=a[c];h.hasOwnProperty("name")&&(d=h.bgColor,p=h.id,u=h.name,u=_.replaceHTMLEntity(u),h=g.replace("zgs19_gsCurPointer","zgs19_gsCurDefaultImp"),u=m("<div>",{class:"zgs19_gsBlogCategoryListchNew zgs19_gsBorderBox zgs19_gsOverflow "+h,gslabel:"",gsmodule:"forums",gs:"",cid:p,acc_id:s,gstitle:u,istip:!0}).text(u),m(r).append(u),u.css("color","#"+d))}"zgs20_gsBlogCategoryResList"===t&&(o=0,l=_.getNodeByAttr(e,"gs","categories"),m(l).children("div.zgs19_gsForumCategory").each(function(){o+=m(this).innerWidth()}),m(r).css("width",o+30+"px")),"zgs20_gsBlogCategoryDetList"!==t||0<(t=m(e).position().left-m(r).width()+30)&&m(r).css("left",t+"px"),r.show(),r.scrollTop(0),r.scrollLeft(0),_.currConnectCategoryWid=e,m(e).attr("gs","hideMoreCategories")},l.hideMoreCategories=function(e){var s;!e||(s=m(e).attr("childId"))&&(m(e).attr("gs","showMoreBlogCategory"),m("#"+s).empty().hide())},l.addCalloutActionList=function(e){var s=e.getElementsByClassName("zgs19_gsCalloutActionList");m(s).empty().remove(),m(e.calloutActionHolder).append(m("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var s=e.getElementsByClassName("zgs19_gsCalloutActionList"),t=l.actionList,a=t.length,r=0;r<a;r++){var o,i,n=t[r];for(o in n)_.savePreviewNeeded(o)&&(i=_.getI18NMsg(n[o]),m(s).append(m("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:o,service:z.CONNECT,gstitle:i}).text(i)))}_.Utils.constructSaveBookmarkInCallout(s,z.CONNECT)},l.calloutErrorMsg=function(e,s){_.getCurrentSelectedElem()&&(_.hideCalloutLoader(s),e="ERROR"===e?_.getI18NMsg("gs.search.error.generic_error_messege"):_.getI18NMsg("gs.search.service_connect.callout.errortext"),_.calloutErrorPage(s,e))},l.setServiceEleSize=function(e,s,t){t=t||_.getTargetElem("zgs20_gsConnectCallout"),_.setGSTagElems(t),l.setConnectCalloutEleSize(t),e&&m("#"+e).css("height",s+"px")},l.getPreviewCrdParams=function(){var e=_.getCurrentResObj(),s=e.accId||_.getResultAccountId();return{entity_id:e.id,network_id:_.pulseNetworkId[s],account_id:s,module:e.m,url:encodeURI(e.url)}},l)}(zgssearch),function(v){var f,C=window._jQueryGS,S=v.getGSConstantObj()||{},b=v.gscomponent||{};v.gscontacts=(f=void 0,(f=v.gscontacts||{}).user_availability=f.user_availability||{throshold:"120000",limit:500,zuidList:[],userObj:{}},f.actionList=[{open:"common.open",sendMail:"gs.search.callout.send_mail_action",pcontinue:"gs.search.result.chat.callout.continueChat",audio:"gs.search.result.chat.callout.audiochat",video:"gs.search.result.chat.callout.videochat",copyLink:"gs.search.callout.copylink",savePreview:"gs.search.callout.savePreviewCard"}],f.calloutParams=function(e){return"searchType="+(e.serviceName||v.getCurSelectedEleAttr("service"))+"&erecno="+e.pkid},f.createCalloutTemplate=function(e,s){v.getConTemp("",e,s)},f.setContactsCalloutEleSize=function(e){var s,t,a;e&&(a=C(e.header).height(),t=C(e.iconHeight).height(),s=e.getAttribute("id"),a=C("#"+s).height()-(a+t),v.isMobViewport()&&(a-=v.getLHSServicePaneHeight()),C(e.contPartHolder).css("height",a+"px"),t=C(e.calloutIconHolder).outerWidth()+30,a=C(e).width(),C(e.contactsMetaInfo).css("width",a-t))},f.calloutResponse=function(e,s,t){var a,r,o,i,n,l,g,c,d,p,u,h,_=e.serviceName||e.service||C(s).attr("service")||"",m=t.searchObj,z=v.getTargetElem(m.calloutId);v.setGSTagElems(z),v.setGSTagElems(s),C(z.actionlist).attr("gsa",_),_!==S.PEOPLE?(C(z.lineicon).hide(),C(z.actionlist).hide(),C(z.contactsDesgInfo).hide(),C(z.contactsCalloutData).empty(),a="",r=!1,o=v.getI18NMsg("common.mobile"),u=v.getI18NMsg("common.phone"),i=v.getI18NMsg("common.email"),C(z.ctitle).attr("service",_),C(z.ctitle).removeClass("zgs19_gsCalloutTitleLink"),n=e.zuid,l="",c=(d=v.getUserStatus(n,"big")).name,d.status,g=S.cuz,t="zgs19_gsDocsCalloutIconHolderNew zgs19_gsfl "+c,C(z.calloutIconHolder).attr("class",t),(d=C(z).find(".zgs19_gswmschat")).css("display","none"),d.attr("chatid",n),c="zgs20_gsContactsCalloutUserImg"+C(z).attr("ccount"),C(z.calloutIconHolder).empty().append(C("<img>",{id:c,class:"zgs19_gsFetchImgLoader zgs19_gsDocsFetchImgLoader",src:v.gsspacer})),C(z.clink).css("display","none"),t=e.full_name||"",C(z.ctitle).empty().text(t).attr("gstitle",t),C(z.ctitle).removeAttr("href"),"personal"===e.type?(p=e.photo+"?API=true",d=C("#"+c),v.network.imageRenderer.renderImage(p,{img_elem:d,class_name:"zgs19_gsDocsCalloutImgNew",errorClass:"zgs19_gsDocsCalloutImgNew zgs19_gsResultsUniIcons zgs19_gsDocsCalloutNoPhotoNew"},null)):"-1"!==n&&void 0!==n?(p=v.getThumbPhotoURL(n),v.renderBigCalloutUserPhoto(c,p)):C("#"+c).removeClass("zgs19_gsFetchImgLoader zgs19_gsDocsFetchImgLoader zgs19_gsCalloutUserImg").addClass("zgs19_gsDocsCalloutImgNew zgs19_gsResultsUniIcons zgs19_gsDocsCalloutNoPhotoNew"),C(z.contactsNameInfo).empty().append(C("<div>",{class:"zgs19_gsContactsNameElem zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground"}).append(C("<span>",{class:"zgs19_gsCurPointer",gs:"owner",gslabel:v.getI18NMsg("gs.search.service_people.name"),gstitle:t,istip:!0}).text(t))),a=e.email||"",v.renderContactsEmailId(z,z.contactsCalloutData,i,a),v.renderContactsInfo(z,z.contactsCalloutData,o,e.mobile||""),v.renderContactsInfo(z,z.contactsCalloutData,u,e.phone||""),"true"===e.mDet&&(r=!0),f.contactsMoreInfo(e)&&(r=!0),(u="null"!=a&&""!=a&&null!=a)&&n!=g&&0<=parseInt(e.status)&&(l=n,C(z.gswmschat).show(),v.hasAudioSupport()&&C(z.gswmsaudio).show(),v.hasVideoSupport()&&C(z.gswmsvideo).show()),f.addCalloutActionList(z,_,a,l),u&&(C(z.sendMail).css("display","block"),C(z.sendMail).attr("email",a)),r&&(h=v.getI18NMsg("gs.search.result.contact.viewprofile_dialog.more"),C(z.contactsCalloutData).append(C("<div>",{id:"zgs20_gsContactsMoreOption",class:"zgs19_gsContactsMoreOption",gs:"contactsMoreHolder"}).append(C("<span>",{class:"zgs19_gsContactsMoreOptionElem zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfr",service:_,gs:"contactsMore"}).text(h))),1===b.UIType&&C("[gs=contactsMore]").click()),h=v.isPreviewCard(m),(v.getCurrentSelectedElem()||v.hasOwnProperty("pccomponent")&&v.pccomponent||h)&&(v.hideCalloutLoader(m),C(z).css("display","block")),C(z.contPartHolder).scrollTop(0),C(z.contPartHolder).scrollLeft(0),f.setContactsCalloutEleSize(z),v.calloutVisitRequest()):e&&!C.isEmptyObject(e)?(h=(h=(h=e.empFname||"")+" "+e.empLname||"").trim(),z=(z=(e.reportFname||"")+" "+(e.reportLname||"")).trim(),e.name=v.replaceHTMLEntity(h),e.rname=v.replaceHTMLEntity(z),v.renderRes(e,s,m,{name:"name",email:"mailid",deptname:"deptname",desgname:"desgname",mobile:"mobile",empid:"empid",extn:"extn",location:"location",rName:"rname",phone:"phone",zuid:"zuid",mDet:"mDet",status:"status",deptmail:"deptmail",photo:"photo",reportingto:"reportingto"})):f.calloutErrorMsg("",m)},f.addCalloutActionList=function(e,s,t,a){var r=e.getElementsByClassName("zgs19_gsCalloutActionList");C(r).empty().remove(),C(e.calloutActionHolder).append(C("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var r=e.getElementsByClassName("zgs19_gsCalloutActionList"),o=f.actionList,i=o.length,n=0;n<i;n++){var l,g=o[n];for(l in g){var c=v.getI18NMsg(g[l]);"open"==l&&S.PEOPLE!=s||"copyLink"==l&&S.PEOPLE!=s||"sendMail"==l&&!t||"pcontinue"==l&&!a||("audio"!=l&&"video"!=l||a&&v.hasAudioSupport()&&v.hasVideoSupport())&&v.savePreviewNeeded(l)&&(C(e.actionlist).css("display","block"),C(r).append(C("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:l,email:t,chatid:a,service:s,gstitle:c}).text(c)))}}v.Utils.constructSaveBookmarkInCallout(r,s)},f.contactsMoreInfo=function(e){var s=!1,t=e.web_url,a=e.email_ids,r=e.instant_ids,e=e.email||"";return a&&(a=v.jsonParse(a),f.objContainsEmailIds(a,e)&&(s=!0)),r&&"{}"!==r&&(r=v.jsonParse(r),f.objContainsInstMsg(r)&&(s=!0)),t&&"{}"!==t&&(t=v.jsonParse(t),f.objContainsWebUrl(t)&&(s=!0)),s},f.objContainsEmailIds=function(e,s){s=e.indexOf(s);return-1<s&&e.splice(s,1),!!(e&&0<e.length)},f.objContainsInstMsg=function(e){var s=!!e.Google,t=!!e.Yahoo,a=!!e.Skype,r=!!e.AOL,o=!!e.Msn,i=!!e.ICQ,n=!!e.Jabber,e=!!e.Other||!!e[""];return s||t||a||r||o||i||n||e},f.objContainsWebUrl=function(e){var s=!!e["Blog URL"],t=!!e["Amazon URL"],a=!!e["Company Web Address"],r=!!e["Delicious URL"],o=!!e["LinkedIn URL"],i=!!e["Personal Web Address"],n=!!e["Flickr URL"],e=!!e.Others||!!e[""];return s||t||a||r||o||i||n||e},f.getContactsMoreInfo=function(e,s){var t=e.type,a=e.contact_id,s=(new v.dashboardSearchActions).createActionType(s).getSearchDBCalloutObj(),s=v.getTargetElem(s.calloutId);v.setGSTagElems(s);a="action=fetchContactDetails&contactType="+t+"&contactId="+a;C(s.contactsMoreHolder).empty().append(C("<span>",{class:"zgs19_gsFetchImgLoader zgs19_gsContactsMoreFetchImg zgs19_gsfr"})),v.uri(v.GET,v.fetchActionsURL,a,{curObj:e,menuEl:s},function(e,s,t){var a=t.args||{},t=a.menuEl;C(t.contactsMoreHolder).remove(),f.contactsMoreInfo(a.curObj)&&f.renderMoreInfo(t,a.curObj),e&&(""!==(e=(a=v.jsonParse(e)).homeAddr||"")&&f.renderEmailORAddrInfo(t,"address",e,v.getI18NMsg("gs.search.result.contact.viewprofile_dialog.home_address")),""!==(a=a.workAddr||"")&&f.renderEmailORAddrInfo(t,"address",a,v.getI18NMsg("gs.search.result.contact.viewprofile_dialog.work_address")))})},f.renderMoreInfo=function(e,s){var t=s.web_url,a=s.email_ids,r=s.instant_ids,s=s.email||"";C(e.lineicon).show(),a&&(a=v.jsonParse(a),f.objContainsEmailIds(a,s)&&f.renderEmailORAddrInfo(e,"email",a,v.getI18NMsg("common.secondary_email"))),r&&"{}"!==r&&(r=v.jsonParse(r),f.objContainsInstMsg(r)&&f.renderInstantMsgInfo(e,r)),t&&"{}"!==t&&(t=v.jsonParse(t),f.objContainsWebUrl(t)&&f.renderWebUrlInfo(e,t))},f.renderEmailORAddrInfo=function(e,s,t,a){if(0<t.length){for(var r=C("<div>",{class:"zgs19_gsCalloutDocsUserInfo"}).append(C("<div>",{class:"zgs19_gsCalloutDocsLabel zgs19_gsOverflow"}).append(C("<span>").text(a))),o=t.length,i=0;i<o;i++){var n=t[i],l=i+1===t.length?"":",";"address"===s?r.append(C("<div>",{class:"zgs19_gsWidth100"}).append(C("<div>",{class:"zgs19_gsCalloutDocsAuthor zgs19_gsOverflowWrap zgs19_gsfl"}).append(C("<span>",{gstitle:n,istip:!0}).text(n+l)))):"email"===s&&r.append(C("<div>",{class:"zgs19_gsEmailParentElem zgs19_gsWidth100"}).append(C("<a>",{class:"zgs19_gsEmailElem zgs19_gsLinkElem zgs19_gsOverflowWrap zgs19_gsfl",rel:"noopener noreferrer",href:"mailto:"+n,target:"_blank",gstitle:n,istip:!0}).text(n+l)).append(C("<span>",{class:"zgs18_gsCopyLink zgs19_gsCopyMailId zgs19_gsDisplayNone",gstitle:v.getI18NMsg("gs.search.callout.copyMailId"),gs:"copyMailId"})))}C(e.lineicon).show(),C(e.contactsCalloutData).append(r)}},f.renderInstantMsgInfo=function(e,s){var t=s.Google||"",a=s.Yahoo||"",r=s.Skype||"",o=s.AOL||"",i=s.Msn||"",n=s.ICQ||"",l=s.Jabber||"",s=s.Other||s[""]||"";v.renderInstantORWebInfo(e,e.contactsCalloutData,"instant",v.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.google"),t),v.renderInstantORWebInfo(e,e.contactsCalloutData,"instant",v.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.yahoo"),a),v.renderInstantORWebInfo(e,e.contactsCalloutData,"instant",v.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.skype"),r),v.renderInstantORWebInfo(e,e.contactsCalloutData,"instant",v.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.aol"),o),v.renderInstantORWebInfo(e,e.contactsCalloutData,"instant",v.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.msn"),i),v.renderInstantORWebInfo(e,e.contactsCalloutData,"instant",v.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.icq"),n),v.renderInstantORWebInfo(e,e.contactsCalloutData,"instant",v.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.jabber"),l),v.renderInstantORWebInfo(e,e.contactsCalloutData,"instant",v.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.other"),s)},f.renderWebUrlInfo=function(e,s){var t=s["Personal Web Address"]||"",a=s["Company Web Address"]||"",r=s["Blog URL"]||"",o=s["LinkedIn URL"]||"",i=s.FACEBOOK_web||"",n=s.TWITTER_web||"",l=s["Amazon URL"]||"",g=s["Flickr URL"]||"",s=s["Delicious URL"]||"";v.renderInstantORWebInfo(e,e.contactsCalloutData,"url",v.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.personal_webaddress"),t),v.renderInstantORWebInfo(e,e.contactsCalloutData,"url",v.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.company_webaddress"),a),v.renderInstantORWebInfo(e,e.contactsCalloutData,"url",v.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.blogurl"),r),v.renderInstantORWebInfo(e,e.contactsCalloutData,"url",v.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.linkedinurl"),o),v.renderInstantORWebInfo(e,e.contactsCalloutData,"url",v.getI18NMsg("gs.search.result.FacebookURL"),i),v.renderInstantORWebInfo(e,e.contactsCalloutData,"url",v.getI18NMsg("gs.search.result.TwitterURL"),n),v.renderInstantORWebInfo(e,e.contactsCalloutData,"url",v.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.amazonurl"),l),v.renderInstantORWebInfo(e,e.contactsCalloutData,"url",v.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.flickrurl"),g),v.renderInstantORWebInfo(e,e.contactsCalloutData,"url",v.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.deliciousurl"),s)},f.fetchUserAvailability=function(e,s){e=e.zuid||"";e&&(f.isUserStatusCached(e,s)?f.renderUserAvailability(e,f.user_availability.userObj[e].response,s):v.uri(v.GET,v.fetchActionsURL,"action=fetchUserAvailability&zuid="+e,{argZuid:e,calloutObj:s},function(e,s,t){try{var a=t.args||{},r=a.argZuid,o=v.jsonParse(e);o.hasOwnProperty("status")&&(f.user_availability.zuidList.push(r),f.user_availability.userObj[r]={response:o,time:(new Date).getTime()},f.renderUserAvailability(r,o,a.calloutObj))}catch(e){v.throwClientError("Error while fetch user availability",e)}}))},f.isUserStatusCached=function(e,s){var t=f.user_availability||{},a=t.userObj||{},r=t.zuidList||[],o=t.throshold;if(t.limit<=Object.keys(a).length&&(delete a[r[0]],r.splice(0,1)),a.hasOwnProperty(e)){var i=a[e],t=i.time;if((new Date).getTime()-t<o)return f.renderUserAvailability(e,i.response,s),!0;delete a[e];e=r.indexOf(e);-1!==e&&r.splice(e,1)}return!1},f.renderUserAvailability=function(e,s,t){var a=(t&&(t.type==v.dbCrdCalloutType||t.type==v.crdPagecalloutType)?v.cardObjForCurrentSelectedElem[t.cardId].calloutRespObj:v.getCurrentResObj()).zuid||"";if(a==e&&s.hasOwnProperty("status")){let e=C(t.parentElem).find("[gsa='peopleStatus']");e.removeClass("zgs19_gsDisplayNone").addClass("zgs19_gsOverflow").text(s.status),e.css("border","1px solid "+s.status_clr),e.css("color",s.status_clr)}},f.setServiceEleSize=function(e,s,t){t=t||v.getTargetElem("zgs20_gsContactsCallout");v.setGSTagElems(t),f.setContactsCalloutEleSize(t),e&&C("#"+e).css("height",s+"px")},f.calloutErrorMsg=function(e,s){var t=v.isPreviewCard(s);(v.getCurrentSelectedElem()||t)&&(v.hideCalloutLoader(s),e="ERROR"===e?v.getI18NMsg("gs.search.error.generic_error_messege"):v.getI18NMsg("gs.search.result.contact.status.callout.errortext"),v.calloutErrorPage(s,e))},f.getPreviewCrdParams=function(){var e=v.getCurrentResObj();return{account_id:e.accId||v.getResultAccountId(),entity_id:(C(v.getCurrentSelectedElem()).attr("service")||e.serviceName)==v.GSConstant.PEOPLE?e.pkid:e.contact_id}},f)}(zgssearch),function(N){var L=window._jQueryGS,R=N.getGSConstantObj()||{};N.gscomponent;N.contactTemp=(N.getConTemp=function(e,s,t){var a,r,o,i,n,l,g,c,d=t.calloutId;"search"===t.type&&L("#zgs20_gsConnectorCallout").remove(),L("#"+d).length<=0&&(a=N.getI18NMsg("gs.search.sevice_mail_sendMail"),r=N.getI18NMsg("gs.search.result.chat.callout.continueChat"),o=N.getI18NMsg("gs.search.result.chat.callout.audiochat"),c=N.getI18NMsg("gs.search.result.chat.callout.videochat"),i=N.getI18NMsg("common.new_tab"),n=N.getI18NMsg("gs.connector.open.cliq.channel"),l=N.getI18NMsg("gs.connector.desk.send.mail"),g=N.getI18NMsg("gs.connector.open.connect.group"),c=L("<div>",{id:d,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(L("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(L("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(L("<a>",{gs:"ctitle",istip:!0,target:"_blank",rel:"noopener noreferrer"}))).append(L("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:i,istip:!0})).append(L("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(L("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(L("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsDisplayNone zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist"})))).append(L("<div>",{class:"zgs19_gsCalloutFooter",gs:"calloutFooter"}).append(L("<div>",{class:"zgs19_gsCalloutIconInfo zgs19_gsContactsCalloutIconInfo zgs19_gsCalloutIconBG zgs19_gsContactsCalloutIconHeight",gs:"iconHeight"}).append(L("<div>",{class:"zgs19_gsDocsCalloutIconHolderNew zgs19_gsfl",gs:"calloutIconHolder"})).append(L("<div>",{class:"zgs19_gsContactsCalloutMetaInfo zgs19_gsfl zgs19_gsContactsCalloutMetaInfoMargin",gs:"contactsMetaInfo"}).append(L("<div>",{class:"zgs19_gsContactsMetaChild",gs:"contactsNameInfo"})).append(L("<div>",{class:"zgs19_gsContactsMetaChild",gs:"contactsDesgInfo"})).append(L("<div>",{class:"zgs19_gsContactsMetaChild",gs:"contactsActionInfo"}).append(L("<div>",{class:"zgs19_gswmschat zgs18_gsComposeMail zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"sendMail",gstitle:a})).append(L("<div>",{class:"zgs19_gswmschat zgs18_gsContinueChat zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"cliqchannel",gstitle:n})).append(L("<div>",{class:"zgs19_gswmschat zgs18_gsDeskIcon zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"deskmail",gstitle:l})).append(L("<div>",{class:"zgs19_gswmschat zgs18_gsComposeMail zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"connectgroup",gstitle:g})).append(L("<div>",{class:"zgs19_gswmschat zgs18_gsContinueChat zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"gswmschat",gstitle:r})).append(L("<div>",{class:"zgs19_gswmschat zgs18_gsAudioChat zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"gswmsaudio",gstitle:o})).append(L("<div>",{class:"zgs19_gswmschat zgs18_gsVideoChat zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"gswmsvideo",gstitle:c}))))).append(L("<div>",{class:"zgs19_gscontPartHolderParent zgs19_gsCalloutPopUp zgs19_gsWP100",gs:"contPartHolder"}).append(L("<div>",{class:"zgs19_gscontPartHolder"}).append(L("<div>",{class:"zgs19_gsCalloutDocsLeftPanel zgs19_gsfl"}).append(L("<span>",{class:"zgs18_gsCalloutlineIcon zgs19_gsfl zgs19_gsDisplayNone",gs:"lineicon"}))).append(L("<div>",{class:"zgs19_gsCalloutDocsRightPanel zgs19_gsfl",gs:"contactsCalloutData"}))))),L(t.parentElem).append(c),N.attachDoubleClickPopUpEvent()),L("#"+d).attr("ccount",s)},void(N.renderRes=function(s,e,t,a){var r="",o=s.serviceName||s.service||L(e).attr("service"),i=N.getTargetElem(t.calloutId);N.setGSTagElems(i),N.setGSTagElems(e),L(i.lineicon).css("display","none"),L(i.actionlist).css("display","none"),L(i).find(".zgs19_gswmschat").css("display","none"),L(i.contactsDesgInfo).css("display","none"),L(i.contactsCalloutData).empty();var n=s[a.name]||"";L(i.ctitle).addClass("zgs19_gsCalloutTitleLink"),L(i.ctitle).empty().text(n).attr("gstitle",n),o==R.PEOPLE?(L(i.clink).attr("service",o),L(i.clink).css("display","block"),L(i.ctitle).attr("service",o),L(i.ctitle).attr("href",N.fetchCalloutUrl(R.PEOPLE,s))):o==R.ORGRESOURCES&&"5"===s.cpt&&s.hasOwnProperty("url")&&s.url?(L(i.clink).attr("service",o),L(i.clink).css("display","block"),L(i.ctitle).attr("service",o),L(i.ctitle).attr("href",s.url)):(L(i.ctitle).attr("service",o),L(i.ctitle).removeClass("zgs19_gsCalloutTitleLink"),L(i.clink).css("display","none"),L(i.ctitle).removeAttr("href"));var l=s.zuid||"";L(i).find(".zgs19_gswmschat").attr("chatid",l);var g="zgs20_gsContactsCalloutUserImg"+L(i).attr("ccount");"8"===s.cpt?L(i.calloutIconHolder).empty().append(L("<span>",{id:g})):L(i.calloutIconHolder).empty().append(L("<img>",{id:g,class:"zgs19_gsFetchImgLoader zgs19_gsDocsFetchImgLoader",src:N.gsspacer}));var c=s[a.photo]||"";"8"===s.cpt?L("#"+g).removeClass("zgs19_gsFetchImgLoader zgs19_gsDocsFetchImgLoader zgs19_gsCalloutUserImg").addClass("zgs19_gsResultsUniIcons zgs19_gsGRDeptIconStyle zgs19_gsGRDeptIcon"):c?(c=-1!==c.indexOf("/file?")?c+N.nps:c.replace("/api/viewEmployeePhoto?","/viewPhoto?"),O=L("#"+g),N.network.imageRenderer.renderImage(c,{img_elem:O,class_name:"zgs19_gsDocsCalloutImgNew",errorClass:"zgs19_gsDocsCalloutImgNew zgs19_gsResultsUniIcons zgs19_gsDocsCalloutNoPhotoNew"},null)):L("#"+g).removeClass("zgs19_gsFetchImgLoader zgs19_gsDocsFetchImgLoader zgs19_gsCalloutUserImg").addClass("zgs19_gsDocsCalloutImgNew zgs19_gsResultsUniIcons zgs19_gsDocsCalloutNoPhotoNew");var d=s[a.deptname]||"",p=s[a.desgname]||"",u=p?"":"zgs19_gsMgLf10Px",h="",_="";p&&d&&(_=L("<span>",{class:"zgs19_gsContactsPipeElem zgs19_gsOverflow zgs19_gsfl"}).text("|")),(p||d)&&L(i.contactsDesgInfo).css("display","block"),d&&(h=L("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactDeptImg zgs19_gsfl zgs19_gsMgTop4Px "+u}));var m="",z="",z=s.hasOwnProperty("cpt")?"zgs19_gsContactsDesgElem":(m="peopledept","zgs19_gsLinkElem zgs19_gsContactsTeamElem");L(i.contactsNameInfo).empty().append(L("<div>",{class:"zgs19_gsContactsNameElem zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground"}).append(L("<span>",{class:"zgs19_gsCurPointer",gs:"owner",gslabel:N.getI18NMsg("gs.search.service_people.name"),gstitle:n,istip:!0}).text(n))).append(L("<div>",{id:"zgs20_gsPeopleStatus_"+l,gsa:"peopleStatus",class:"zgs19_gsContactsStatusElem zgs19_gsOverflow zgs19_gsfl zgs19_gsDisplayNone"})),"8"===s.cpt?("none"!==(b=s.deptmail||"")&&""!==b.trim()||(b=N.getI18NMsg("common.not_available")),L(i.contactsDesgInfo).empty().append(L("<span>",{class:" zgs19_gsOverflow  zgs19_gsfl zgs19_gsMgLf10Px "+z,gs:"dept_email",gslabel:"email",gstitle:b,istip:!0}).text(b))):L(i.contactsDesgInfo).empty().append(L("<span>",{class:"zgs19_gsContactsDesgElem zgs19_gsOverflow zgs19_gsfl",gsa:"peopleDesignation",gstitle:p,istip:!0}).text(p)).append(_).append(h).append(L("<span>",{class:" zgs19_gsOverflow  zgs19_gsfl zgs19_gsMgLf5Px "+z,gs:m,gslabel:N.getI18NMsg("gs.search.result.support.department"),gstitle:d,istip:!0}).text(d));var v=s[a.extn]||"",f=s[a.empid]||"",C=s[a.email]||"";"8"===s.cpt&&(C=s.deptmail||"");var S=s[a.location]||"",b=s[a.deptmail]||"",y=s[a.mobile]||"",I=(I=s[a.summ]||"")&&N.gssecurity.textDecoder(I),e=s.suppmail||"",c=N.getI18NMsg("common.mobile"),O=N.getI18NMsg("common.phone"),g=N.getI18NMsg("common.email"),u=s[a.mobile]?c:O,n=N.getI18NMsg("gs.search.service_people.extn"),p=N.getI18NMsg("gs.search.service_people.empid"),_=N.getI18NMsg("gs.search.service_people.teamemail"),h=N.getI18NMsg("gs.search.service_people.seatinglocation"),z=N.getI18NMsg("common.description"),m=N.getI18NMsg("gs.search.service_connector.telphno"),d=N.getI18NMsg("common.address"),c=N.getI18NMsg("gs.search.service_people.reportingto"),O=N.getI18NMsg("common.not_available");"8"!==s.cpt||N.Utils.isValidDepartmentInfo(C)?N.renderContactsEmailId(i,i.contactsCalloutData,g,C):N.renderContactsInfo(i,i.contactsCalloutData,N.getI18NMsg("gs.connector.team.email"),O),N.renderContactsInfo(i,i.contactsCalloutData,n,v),N.renderContactsInfo(i,i.contactsCalloutData,u,y),N.renderContactsInfo(i,i.contactsCalloutData,p,f),N.renderContactsInfo(i,i.contactsCalloutData,h,S),N.renderContactsEmailId(i,i.contactsCalloutData,_,b);b=s[a.reportingto]||{};if(L.isEmptyObject(b)||(a=b.hasOwnProperty("empLName")?b.empLName:"",a=b.empName+" "+a,b=b.erecNo,N.renderActionableElems(i,i.contactsCalloutData,c,b,a,"people_reportingto")),"8"!==s.cpt&&N.renderContactsInfo(i,i.contactsCalloutData,z,I),o===R.ORGRESOURCES){var P,w=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.?)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i"),D=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(s.hasOwnProperty("ctno")&&s.ctno&&N.renderContactsInfo(i,i.contactsCalloutData,m,s.ctno),s.hasOwnProperty("cloc")&&s.cloc&&N.renderContactsInfo(i,i.contactsCalloutData,d,s.cloc),"5"===s.cpt){let e=["contact_name","cpt","cnt","cntn","oid","dept","cn","ctno","cloc","emid","url","ct","cdt","cnextn","email","cid"];for(field of Object.keys(s))-1==e.indexOf(field)&&(P=s[field],fieldName=N.Utils.convertToTitleCase(field),w.test(P)?N.renderURL(i,i.contactsCalloutData,fieldName,P):D.test(P)?N.renderContactsEmailId(i,i.contactsCalloutData,fieldName,P):N.renderContactsInfo(i,i.contactsCalloutData,fieldName,P))}}"8"===s.cpt&&(E=(E=s.cliqchannel||"-").trim(),N.Utils.isValidDepartmentInfo(E)?N.renderURL(i,i.contactsCalloutData,N.getI18NMsg("gs.connector.cliq.channel"),E):N.renderContactsInfo(i,i.contactsCalloutData,N.getI18NMsg("gs.connector.cliq.channel"),E),T=(T=s.suppmail||"-").trim(),N.Utils.isValidDepartmentInfo(T)?N.renderContactsEmailId(i,i.contactsCalloutData,N.getI18NMsg("gs.connector.support.email"),T):N.renderContactsInfo(i,i.contactsCalloutData,N.getI18NMsg("gs.connector.support.email"),T),A=s.avayaextn||"-",N.renderContactsInfo(i,i.contactsCalloutData,N.getI18NMsg("gs.connector.support.extn"),A),M=(M=s.connectgrp||"-").trim(),N.Utils.isValidDepartmentInfo(M)?N.renderURL(i,i.contactsCalloutData,N.getI18NMsg("gs.connector.connect.group"),M):N.renderContactsInfo(i,i.contactsCalloutData,N.getI18NMsg("gs.connector.connect.group"),M),T=s.jobdesc||"-",N.renderContactsInfo(i,i.contactsCalloutData,N.getI18NMsg("gs.connector.job.desc"),T),A=s.otherres||"-",N.renderContactsInfo(i,i.contactsCalloutData,N.getI18NMsg("gs.connector.other.data"),A),M=s.summ||"-",N.renderContactsInfo(i,i.contactsCalloutData,N.getI18NMsg("common.description"),M));var E,l=s.zuid,r="",T=N.getUserStatus(l,"big"),A=(T.name,T.status),M=R.cuz,T="null"!==C&&""!==C&&null!=C&&"-"!==C&&"none"!==C;T&&l!=M&&o==R.PEOPLE&&(M=s.issameorg||"",!isNaN(A)&&l&&"-1"!=l&&(A=parseInt(A),("true"==M||0<=A)&&(r=l,L(i.gswmschat).show(),N.hasAudioSupport()&&L(i.gswmsaudio).show(),N.hasVideoSupport()&&L(i.gswmsvideo).show()))),N.gscontacts.addCalloutActionList(i,o,C,r),T&&(L(i.sendMail).css("display","block"),L(i.sendMail).attr("email",C)),"8"===s.cpt&&(L(i.contactsDesgInfo).css("display","block"),F="none",N.Utils.isValidDepartmentInfo(C)&&(L(i.sendMail).attr("email",C),F="block"),L(i.sendMail).css("display",F),F="none",E=s.cliqchannel||"",N.Utils.isValidDepartmentInfo(E)&&(L(i.cliqchannel).attr("cliq_channel_url",E),F="block"),L(i.cliqchannel).css("display",F),F="none",e=s.suppmail||"",N.Utils.isValidDepartmentInfo(e)&&(L(i.deskmail).attr("email",e),F="block"),L(i.deskmail).css("display",F));var F=N.isPreviewCard(t);(N.getCurrentSelectedElem()||F)&&(N.hideCalloutLoader(t),L(i).css("display","block")),o===R.PEOPLE&&(t.type!==N.dbCrdCalloutType&&t.type!==N.crdPagecalloutType||(o=t.cardId,N.cardObjForCurrentSelectedElem[o]||(N.cardObjForCurrentSelectedElem[o]={}),N.cardObjForCurrentSelectedElem[o].calloutRespObj=s),N.gscontacts.fetchUserAvailability(s,t)),setTimeout(function(){L(i.contPartHolder).scrollTop(0),L(i.contPartHolder).scrollLeft(0)},0),(N.isPreviewOpenedInComponent||N.hasOwnProperty("pccomponent")&&!N.pccomponent.isActionsEnabled)&&L(i.contactsActionInfo).css("display","none"),N.gscontacts.setContactsCalloutEleSize(i),N.calloutVisitRequest()}))}(zgssearch),function(O){var P,w=window._jQueryGS,D=O.getGSConstantObj()||{};O.gssupport=(P=void 0,(P=O.gssupport||{}).actionList=[{open:"common.open"},{copyLink:"gs.search.callout.copylink"},{savePreview:"gs.search.callout.savePreviewCard"}],P.email="",P.zuid="",P.getCalloutHolder=function(){return"zgs20_gsSupportCallout"},P.calloutParams=function(e,s){var t=e.doc_id||e[O.entity_id],a=e.module_id||e[O.module_id],s="searchType="+(e.serviceName||O.getCurSelectedEleAttr("service"))+"&id="+t+"&module="+a+"&portalId="+(e.accId||e[O.account_id]||(s&&(s.updateRecord||s.updateDueDate)?O.gsaction.currSearchType.getCurrAccId():O.getResultAccountId()));return e.hasOwnProperty("ATTACHMENT_NAMES")&&(s+="&hasAttach=true"),s},P.openSupportResult=function(e,s,t){var a=e.module_id||t[O.module_id],a=P.getUrlModuleName(a),e=e.doc_id||t[O.entity_id],t=O.getFilterInfo(D.SUPPORT,"accounts","data"),s=t.hasOwnProperty(s)?t[s]:"";return D.GS_SUPPORT_URL+"/support/"+encodeURIComponent(s)+"/ShowHomePage.do#"+a+"/dv/"+e},P.createCalloutTemplate=function(e,s){var t,a,r=s.calloutId;w("#"+r).length<=0&&(t=O.getI18NMsg("gs.search.sevice_prevmax"),a=O.getI18NMsg("gs.search.sevice_prevmin"),a=w("<div>",{id:r,class:"zgs19_gsServiceCalloutHolder zgs19_gsDeskCallout zgs19_gsDisplayNone"}).append(w("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(w("<span>",{class:"zgs18_gsAttachIcon zgs19_gsCalloutAttachmentIcon zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",service:D.SUPPORT,gs:"moveToAttachArea"})).append(w("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(w("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:D.SUPPORT,target:"_blank",rel:"noopener noreferrer"}))).append(w("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:O.getNewTabTip(D.SUPPORT),service:D.SUPPORT})).append(w("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(w("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(w("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:D.SUPPORT})).append(w("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(w("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(w("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:t,gs:"maxpreview",service:D.SUPPORT})).append(w("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:a,gs:"minpreview",service:D.SUPPORT}))))).append(w("<div>",{class:"zgs19_gsCalloutFooter zgs19_gsSupportTemplate1",gs:"footer1"}).append(w("<div>",{id:"zgs20_gsCalloutMetaInfo",class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo1"}).append(w("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(w("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(w("<div>",{class:"zgs19_gsChatIconHolder"}).append(w("<img>",{class:"zgs19_gsResultsUniIcons zgs19_gsCalloutNoUserImg",src:O.gsspacer})))).append(w("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(w("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(w("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(w("<span>",{gs:"slabel"}))).append(w("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid50Per"}).append(w("<span>",{class:"zgs19_gsCurPointer",gs:"sender",istip:!0}))).append(w("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid30Per"}).append(w("<span>",{gs:"date"})))).append(w("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(w("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(w("<span>",{gs:"rlabel"}))).append(w("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsEditFieldsNameHolder zgs19_gsDDBTrans zgs19_gsCurPointer zgs19_gsfl zgs19_gsMxWid50Per zgs19_gsOverflow",gs:"CalloutEditFields"}).append(w("<span>",{class:"zgs19_gsOverflow zgs19_gsInLine zgs19_gsMxWid90Per",gs:"receiverTxt",istip:!0})).append(w("<div>",{class:"zgs19_gsModuleFilterElemIcon zgs18_gsModuleFilterDownIcon zgs19_gsBorderBox zgs19_gsInLine",gs:"CalloutEditFields_icon"}))).append(w("<div>",{class:"zgs19_gsCalloutDiskStatusNew zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid30Per",gs:"rfolderHolder"}).append(w("<span>",{class:"zgs19_gsDeskStatusIcon zgs19_gsResultsUniIcons zgs19_gsfl"})).append(w("<span>",{gs:"rfolder",istip:!0})))).append(w("<div>",{class:"zgs19_gsCalloutUserHeader",gs:"ticket_third_row"}).append(w("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid18Per"}).append(w("<span>",{gs:"duelabel"}))).append(w("<div>",{id:"zgs20_gsTicketDueDate",class:"zgs19_directionltr zgs19_gsDeskTicketArrowElem zgs19_gsCalloutUserValue zgs19_gsEditFieldsNameHolder zgs19_gsDDBTrans zgs19_gsEditFieldsUline zgs19_gsCurPointer zgs19_gsfl zgs19_gsMxWid45Per zgs19_gsOverflow",datatype:"dueDateChange",gs:"ticketAction"}).append(w("<span>",{class:"zgs19_gsOverflow zgs19_gsInLine zgs19_gsMxWid90Per",gs:"duevalue"})).append(w("<div>",{class:"zgs19_gsModuleFilterElemIcon zgs18_gsModuleFilterDownIcon zgs19_gsBorderBox zgs19_gsInLine zgs19_gsVisibleHidden",gs:"ticketDuedate_icon"}))).append(w("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid15Per"}).append(w("<span>",{gs:"statuslabel"}))).append(w("<div>",{id:"zgs20_gsTicketStatus",class:"zgs19_gsDeskTicketArrowElem zgs19_gsCalloutUserValue zgs19_gsEditFieldsNameHolder zgs19_gsDDBTrans zgs19_gsfl zgs19_gsMxWidImpPer22 zgs19_gsFlex",datatype:"statusChange",gs:"ticketAction"}).append(w("<span>",{class:"zgs19_gsTicketStatusTxt zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid80Per",gs:"statusvalue",istip:!0})).append(w("<div>",{class:"zgs19_gsModuleFilterElemIcon zgs18_gsModuleFilterDownIcon zgs19_gsBorderBox zgs19_gsInLine zgs19_gsVisibleHidden",gs:"ticketStatus_icon"}))))))).append(w("<div>",{id:"zgs20_gsDeskCalloutFooter",class:"zgs19_gsCalloutFooterHolder zgs19_gsCalloutPopUp zgs19_gsSupportCalloutFooter",gs:"supportcalloutFooter1"}).append(w("<div>",{class:"zgs19_gsCalloutContentInfo",gs:"contentHolder"})).append(w("<div>",{id:"zgs20_gsDeskCalloutAttachInfo",class:"zgs19_gsCalloutAttachInfo zgs19_gsDisplayNone",gs:"attachHolder"})))).append(w("<div>",{class:"zgs19_gsDeskTemplateCallout zgs19_gsOvfwYAuto",gs:"footer2"}).append(w("<div>",{id:"zgs20_gsCalloutMetaInfo",class:"zgs19_gsCalloutMetaInfo zgs19_gsCalloutUserMetaInfo",gs:"metaInfo2"}).append(w("<div>",{class:"zgs19_gsCalloutMetaHolder zgs19_gsHgt280Px"}).append(w("<div>",{class:"zgs19_gsCalloutUserCalloutInfoHolder"}).append(w("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(w("<div>",{class:"zgs19_userImagePlaceHolder",gs:"namePlaceHolder"}))).append(w("<div>",{class:"zgs19_gsCalloutUserNameAndMailInfo"}).append(w("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsUserBackground zgs19_gsOverflow zgs19_gsfl",gs:"userNameInDesk"})).append(w("<div>",{class:"zgs19_fieldsSeparator zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl"}).text("|")).append(w("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsUserBackground zgs19_gsOverflow zgs19_gsfl ",gs:"userMailIdInDesk"}))).append(w("<div>",{class:"zgs19_gsSupportUserRoleAndOrgInfo"}).append(w("<span>",{class:"zgs19_gsCalloutUserStatus zgs19_trapezoidShape",gs:"userStatus"})).append(w("<div>",{class:"zgs19_fieldsSeparator zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsDisplayNone",gs:"phone"}))).append(w("<div>",{class:"zgs19_gsSupportMailAction zgs19_gswmschat zgs19_gsCurPointer zgs19_gsfl",gs:"sendMailOuterEle",gstitle:O.getI18NMsg("gs.search.sevice_mail_sendMail")}).append(w("<div>",{class:"zgs18_gsMailUnReadIcon",gs:"sendMail"})))))).append(w("<div>",{class:"zgs19_gsCalloutFooter zgs19_gsCalloutTemplateFooter",gs:"supportcalloutFooter2"}).append(w("<div>",{class:"zgs19_gsInteractionsParent zgs19_gsSupportTemplate1Parent",gs:"supportcalloutFooter2Data"})))),w(s.parentElem).append(a),O.attachDoubleClickPopUpEvent(),P.addEventsForCalloutAction()),w("#"+r).attr("ccount",e)},P.addEventsForCalloutAction=function(){w(".zgs19_gsDeskTicketArrowElem").off().on({mouseenter:function(){"Open"===O.getCurrentResObj().statusType?w(this).find(".zgs18_gsModuleFilterDownIcon").css("visibility","visible"):w(this).find(".zgs18_gsModuleFilterDownIcon").css("visibility","hidden")},mouseleave:function(){w(this).find(".zgs18_gsModuleFilterDownIcon").css("visibility","hidden")}})},P.setSupportCalloutEleSize=function(e){var s,t,a,r;e&&(s=w(e.footer1).is(":visible")?"supportcalloutFooter1":"supportcalloutFooter2",t=w(e.footer1).is(":visible")?"footer1":"footer2",a=w(e.header).height(),r=(w(e.footer1).is(":visible")?w(e.metaInfo1):w(e.metaInfo2)).height(),r=w(e).height()-(a+r),O.isMobViewport()&&(r-=O.getLHSServicePaneHeight()),w(e[t]).css("height",w(e).height()-a+"px"),w(e.footer2).is(":visible")?P.handleLayoutModuleSize(e):w(e[s]).css("height",r+"px"))},P.handleLayoutModuleSize=function(e){w(e.metaInfo2).css("maxWidth","unset"),w(e.supportcalloutFooter2).css("maxWidth","unset"),w(e.supportcalloutFooter2Data).css("height","unset"),w(e.metaInfo2).css("maxWidth",Math.min(900,w(e.supportcalloutFooter2).width())+"px"),w(e.supportcalloutFooter2).css("maxWidth",Math.min(900,w(e.supportcalloutFooter2).width())+"px"),w(e.footer2).outerHeight()<400?w(e.footer2).css("overflow-y","auto"):w(e.footer2).css("overflow-y","");var s=w(e.footer2).outerHeight(),t=w(e.metaInfo2).outerHeight(),a=w(e.supportcalloutFooter2Data).outerHeight(),t=s-(t+a),a=(w(e.metaInfo2).outerHeight(),0<t?a+t-60:a);w(e.supportcalloutFooter2Data).css("height",a+"px")},P.calloutResponse=function(a,r,e,o){var s=o.searchObj,i=O.getTargetElem(s.calloutId);O.setGSTagElems(i),O.setGSTagElems(e);var n=r.module_id||r.module;a=a||{},!(o=o||{}).updateRecord||a&&!a.hasOwnProperty("error")||(P.calloutRespData.assigneeId="Unassigned"==o.owner.id?"null":o.owner.id,a=P.calloutRespData),P.calloutRespData=a;w(i).attr("ccount");var t=r.webUrl||O.fetchCalloutUrlByAccId(D.SUPPORT,a,a[O.account_id])||(r.hasOwnProperty("result")?r.result.webUrl:"");if(w(i.ctitle).attr("href",t),e&&(c=w(e.resultTitle).attr("gslabel")||"",w(i.ctitle).attr("gslabel",c)),w(i.clink).css("display","block"),w(i.footer1).css("display","none"),w(i.footer2).css("display","none"),w(i.attachHolder).css("display","none"),w(i.attachHolder).empty(),w(i.moveToAttachArea).css("display","none"),w(i.CalloutEditFields_icon).addClass("zgs19_gsVisibleHidden"),w(i.CalloutEditFields).attr("datatype",""),w(i.CalloutEditFields).removeClass("zgs19_gsEditFieldsUline zgs19_gsCurPointer"),w("#zgs20_gsTicketStatus").attr("datatype",""),w("#zgs20_gsTicketStatus").removeClass("zgs19_gsEditFieldsUline zgs19_gsCurPointer"),w(i.ticketStatus_icon).removeClass("zgs19_gsModuleFilterElemIcon"),a&&a.hasOwnProperty("result")){if("1"==n||"2"==n){w(i.footer1).css("display","block"),w(i.rfolderHolder).css("display","block"),w(i.ticket_third_row).css("display","none"),w(i.actionlist).css("display","block"),w(i.contentHolder).empty(),w(i.metaInfo1).css("minHeight",70),w(i.metaInfo1).css("maxHeight",95);var l="",g=a.result;P.email=g.Email||"",P.zuid=g.zuid||"",P.isGroup=g.isGrp;var c,d,p=g.Status||"";if("1"===n?(l=(r.CUSTOMCASENUMBER||r.CASENUMBER)+" - "+r.support_title,w(i.ctitle).empty().text(l).attr("gstitle",l),d=O.getI18NMsg("common.from",!0),t=g.Email&&"null"!=g.Email?g.Email:r.CONTACTNAME,w(i.slabel).empty().text(d).attr("gstitle",d),w(i.sender).empty().text(t).attr("gstitle",t),w(i.date).empty().text(r.display_time).attr("gstitle",r.display_time).attr("gslabel",O.getI18NMsg("gs.search.result.creator.createdDate")),e=g["Case Owner"],c=O.getI18NMsg("gs.search.result.support.callout.assignto"),t=O.getI18NMsg("gs.search.result.support.callout.Notassigned"),t="null"==a.assigneeId?t:e,w(i.rlabel).empty().text(c).attr("gstitle",c),w(i.receiverTxt).empty().text(t).attr("gstitle",t),w(i.rfolder).empty().text(p).attr("gstitle",p),c=e="",w(i.rfolderHolder).css("display","none"),w(i.ticket_third_row).css("display","flex"),"Closed"==(a.statusType||"")?(c=O.getI18NMsg("gs.search.result.support.callout.closedtime"),e=a.disp_closeTime||"",w(i).find("#zgs20_gsTicketDueDate").attr("datatype",""),w(i).find("#zgs20_gsTicketDueDate").removeClass("zgs19_gsEditFieldsUline zgs19_gsCurPointer"),w(i.ticketDuedate_icon).removeClass("zgs19_gsModuleFilterElemIcon")):(w(i).find("#zgs20_gsTicketDueDate").attr("datatype","dueDateChange"),w(i).find("#zgs20_gsTicketDueDate").addClass("zgs19_gsEditFieldsUline zgs19_gsCurPointer"),w(i.ticketDuedate_icon).addClass("zgs19_gsModuleFilterElemIcon"),c=O.getI18NMsg("gs.search.result.support.callout.duedate"),e=(e=a.disp_dueDate||"")&&"null"!=e?e:O.getI18NMsg("gs.search.result.support.callout.noduedate"),t=(t=a.key_dueDate||"")&&"null"!=t?t:void 0,w(i.duevalue).attr("duedate",t)),w(i.duelabel).empty().text(c).attr("gstitle",c),w(i.duevalue).empty().text(e).attr("gstitle",e),w(i.statuslabel).empty().text("status").attr("gstitle","status"),w(i.statusvalue).empty().text(p).attr("gstitle",p),(e=g.Description||"")&&"null"!=e&&(w(i.contentHolder).append(e),O.preventStylesFromParentDomain(w(i.contentHolder)),P.loadDeskImagesWithDomain(i.contentHolder)),(!O.isPreviewOpenedInComponent||O.hasOwnProperty("pccomponent")&&O.pccomponent.isActionsEnabled)&&(P.addChangeOwnerOption(i,a,r),O.loadDatePicker(),P.addChangeStatusOption(i,r),P.addEventForDeskArrow(i))):(l=r.support_title||r.title||"",w(i.ctitle).empty().text(l).attr("gstitle",l),l=g["Created By"]||"-",d=O.getI18NMsg("gs.search.sevice_docs_createdBy",!0),w(i.slabel).empty().text(d).attr("gstitle",d),w(i.sender).empty().text(l).attr("gstitle",l),w(i.date).empty().text(r.display_time).attr("gstitle",r.display_time).attr("gslabel",O.getI18NMsg("gs.search.result.creator.createdDate")),d=r.TOPIC_NAME||"",l=O.getI18NMsg("gs.search.service_people.status.in",!0),w(i.rlabel).empty().text(l).attr("gstitle",l),w(i.receiverTxt).empty().text(d).attr("gstitle",d),w(i.rfolder).empty().text(p).attr("gstitle",p),"null"!==g.Answer&&(w(i.contentHolder).append(g.Answer),O.preventStylesFromParentDomain(w(i.contentHolder)),P.loadDeskImagesWithDomain(i.contentHolder))),a.hasOwnProperty("attach")){var u=a.attach||[],h=a.threadId||"",_=u.length;if(0<_){var m=_+" "+O.getI18NMsg("gs.search.result.mail.callout.attachments");w(i.attachHolder).append(w("<div>",{class:"zgs19_gsCalloutAttachHeader"}).append(w("<span>",{gstitle:m}).text(m)));for(var z=0;z<_;z++){var v=u[z],f=O.replaceHTMLEntity(v.name),C="zgs19_"+O.getFileImageClass(f),S=O.getDocResTT(C);w(i.attachHolder).append(w("<div>",{class:"zgs19_gsCalloutAttachFooter"}).append(w("<div>",{class:"zgs19_gsCalloutAttachImage"}).append(w("<span>",{class:"zgs19_gsResultsUniIcons "+C,gstitle:S,gs:"resultMenuItem"}))).append(w("<div>",{class:"zgs19_gsCalloutAttachName zgs19_gsOverflow"}).append(w("<span>",{class:"zgs19_gsCalloutAttachTitle zgs19_gsCalloutTitleLink",service:D.SUPPORT,downloadUrl:v.downloadUrl||"",tId:h,aId:v.id||v.resourceId,gs:"attachtitle",gstitle:f,istip:!0}).text(f))).append(w("<div>",{class:"zgs19_gsCalloutAttachSize zgs19_gsOverflow"}).append(w("<span>").text(O.convertToKBMB(v.size)))))}w(i.moveToAttachArea).css("display","block"),w(i.attachHolder).css("display","block")}}s.iconDisplay&&(O.isMaxCalloutOpen?(w(i.minpreview).show(),w(i.maxpreview).hide()):(w(i.maxpreview).show(),w(i.minpreview).hide()),w(i.actionPipe).css("display","block"));p={},g=s.hasOwnProperty("type")?s.type:"search";o.updateRecord||o.updateDueDate?p=O.gsaction.currSearchType.getCurrentResultObj():O.hasOwnProperty("pccomponent")?p=r:g!==O.dbCrdCalloutType&&g!==O.crdPagecalloutType&&(p=O.Utils.getResultObjectofType(g,s.cardId));m=a[O.entity_id]||r.doc_id;p.doc_id!=m&&g!==O.dbCrdCalloutType&&g!==O.crdPagecalloutType||(O.hideCalloutLoader(s),w(i).css("display","block")),w(i.supportcalloutFooter1).scrollTop(0),w(i.supportcalloutFooter1).scrollLeft(0),P.addCalloutActionList(i)}else if("3"==n||"4"==n){w(i.supportCalloutData).empty(),w(i.footer2).css("display","block"),w(i.metaInfo2).css("display","block");let s=a.result,e=s.name||"";w(i.ctitle).empty().text(e).attr("gstitle",e);let t=w(i.namePlaceHolder);o=e.substring(0,2).toUpperCase();t.empty().text(o),w(i.userNameInDesk).empty().text(e),w(i.userNameInDesk).attr("gstitle",e),w(i.userNameInDesk).attr("gslabel",O.getI18NMsg("common.title")),s.email&&""!=s.email?(w(i.userMailIdInDesk).show(),y=s.email||"-",w(i).find(".zgs19_gsCalloutUserNameAndMailInfo .zgs19_fieldsSeparator").show(),w(i.userMailIdInDesk).empty().text(y),w(i.userMailIdInDesk).attr("gslabel",O.getI18NMsg("common.email")),w(i.userMailIdInDesk).attr("gstitle",y)):(w(i.userMailIdInDesk).hide(),w(i).find(".zgs19_gsCalloutUserNameAndMailInfo .zgs19_fieldsSeparator").hide()),w(i.userCalloutOrg).empty(),s.hasOwnProperty("phone")?(w(i.phone).css("display","block"),I=s.phone,w(i.phone).empty().append(w("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactMobileImg zgs19_gsfl"})),w(i.phone).removeClass("zgs19_gsDisplayNone"),w(i.phone).text(I),w(i.phone).attr("gstitle",I),w(i.phone).attr("gslabel",O.getI18NMsg("common.phone"))):w(i.phone).css("display","none");var b=s.email;if(b&&""!=b&&(w(i.sendMail).attr("email",b),w(i.sendMailOuterEle).attr("email",b),w(i.sendMailOuterEle).attr("gs","sendMail"),w(i.sendMail).attr("gstitle",O.getI18NMsg("gs.search.sevice_mail_sendMail"))),s.hasOwnProperty("type")){w(i.userStatus).css("display","block");let e=O.getI18NMsg("common.paiduser");"Prospect"==s.type&&(e=O.getI18NMsg("common.prospect")),w(i.userStatus).text(e),w(i.userStatus).attr("gstitle",O.getI18NMsg("gs.search.zendesk_userStatus"))}else w(i.userStatus).css("display","none");w(i.supportcalloutFooter2Data).empty();var r=s.secondaryEmail||"",p=s.mobile||"",m=s.address||"",g=s.twitter||"",n=s.facebook||"",a=s.fax||"",o=(s.country,s.website||""),y=s.Description||"",I=s.industry||"",b=s.disp_modifiedTime||"";w(i.supportcalloutFooter2Data).append(P.renderFieldDetails("secondaryEmail",O.getI18NMsg("common.secondary_email"),r)),w(i.supportcalloutFooter2Data).append(P.renderFieldDetails("mobile",O.getI18NMsg("common.mobile"),p)),w(i.supportcalloutFooter2Data).append(P.renderFieldDetails("address",O.getI18NMsg("common.address"),m)),w(i.supportcalloutFooter2Data).append(P.renderFieldDetails("twitter",O.getI18NMsg("gs.search.result.TwitterURL"),g)),w(i.supportcalloutFooter2Data).append(P.renderFieldDetails("url",O.getI18NMsg("gs.search.result.FacebookURL"),n)),w(i.supportcalloutFooter2Data).append(P.renderFieldDetails("fax",O.getI18NMsg("common.fax"),a)),w(i.supportcalloutFooter2Data).append(P.renderFieldDetails("url",O.getI18NMsg("common.website"),o)),w(i.supportcalloutFooter2Data).append(P.renderFieldDetails("industry",O.getI18NMsg("common.industry"),I)),w(i.supportcalloutFooter2Data).append(P.renderFieldDetails("description",O.getI18NMsg("common.description"),y)),w(i.supportcalloutFooter2Data).append(P.renderFieldDetails("disp_modifiedTime",O.getI18NMsg("gs.search.modfied_time"),b)),w(i.supportcalloutFooter2Data).is(":empty")&&w(i.supportcalloutFooter2Data).append(O.getI18NMsg("common.error.no_additional_info")),w(i.supportCalloutData).scrollTop(0),w(i.supportCalloutData).scrollLeft(0),P.addCalloutActionList(i)}}else P.calloutErrorMsg("",s);s.iconDisplay&&(w(i.maxpreview).css("display","block"),w(i.minpreview).css("display","none"),w(i.actionPipe).css("display","block"));b=O.isPreviewCard(s);(O.getCurrentSelectedElem()||O.hasOwnProperty("pccomponent")&&O.pccomponent||b)&&(O.hideCalloutLoader(s),w(i).css("display","block")),P.setSupportCalloutEleSize(i),O.calloutVisitRequest()},P.renderFieldDetails=function(s,t,a){if(""!==a&&"null"!==a){let e="";return e="email"===s?w("<a>",{class:"zgs19_gsEmailElem zgs19_gsLinkElem zgs19_gsOverflowWrap zgs19_gsfl",rel:"noopener noreferrer",href:"mailto:"+a,target:"_blank",gstitle:a,istip:!0}).text(a):"url"===s?(a.indexOf(O.httptxt+"://")<0&&a.indexOf(O.httpstxt+"://")<0&&(a=O.httptxt+"://"+a),w("<a>",{class:"zgs19_gsEmailElem zgs19_gsLinkElem zgs19_gsSuiteValue zgs19_gsOverflow zgs19_gsfl",href:a,url:a,gs:"deskWebsite",istip:!0,gstitle:a}).text(a)):w("<div>",{class:"zgs19_gsSuiteValue zgs19_gsfl",gstitle:a}).text(a),w("<div>",{class:"zgs19_gsSuiteParent"}).append(w("<div>",{class:"zgs19_gsOverflow zgs19_gsSuiteLabel zgs19_gsWid25PerImp zgs19_gsfl",gstitle:t}).text(t)).append(e)}},P.createDateTimepicker=function(e){var s=w(e).find(".zgs19_gsInLine")[0],t=s?w(s).attr("duedate"):"";0===w("#zgs20_gsCustomDateTimePickerElem").length&&O.loadDatePicker(O.createNewCustomDateTimePicker.bind(null,"zgs20_gsDateTimePickerElem","dd-MM-yyyy hh:mm tt"));s={};s.callback=P.updateDatePicker,s.currentDueDate=t,s.value=t,O.handleNewCustomDatePicker(e,"customdatetime",s)},P.updateDatePicker=function(e){var s;e.fromUI&&((s=""+e.valueString)!==(""+e.options.currentDueDate||"")&&O.gssupportaction.updateDeskDueDate(D.SUPPORT,s),O.hideDatePicker())},P.addCalloutActionList=function(e){var s=e.getElementsByClassName("zgs19_gsCalloutActionList");w(s).empty().remove(),w(e.calloutActionHolder).append(w("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var s=e.getElementsByClassName("zgs19_gsCalloutActionList"),t=P.actionList,a=t.length,r=0;r<a;r++){var o,i=t[r];for(o in i){var n=O.getI18NMsg(i[o]);O.savePreviewNeeded(o)&&w(s).append(w("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:o,service:D.SUPPORT,gstitle:n}).text(n))}}O.Utils.constructSaveBookmarkInCallout(s,D.SUPPORT)},P.addChangeStatusOption=function(e,s){var t=O.getResultAccountId()||s.accId||s[O.account_id],s=O.getFilterInfo(D.SUPPORT,"modules","unusedModData");s.hasOwnProperty(t)&&1==(s[t]["1_et"]||!1)&&(w("#zgs20_gsTicketStatus").attr("datatype","statusChange"),w("#zgs20_gsTicketStatus").addClass("zgs19_gsEditFieldsUline zgs19_gsCurPointer"),w(e.ticketStatus_icon).addClass("zgs19_gsModuleFilterElemIcon"))},P.addChangeOwnerOption=function(e,s,t){var a=s.assigneeId||"null",s=O.getResultAccountId()||t.accId||t[O.account_id],t=O.getFilterInfo(D.SUPPORT,"modules","unusedModData");t.hasOwnProperty(s)&&(s=(t=t[s])["1_co"]||!1,t=t["1_uco"]||!1,1!=s&&(1!=t||null!=a&&"null"!=a)||(P.assigneeId=a||"",w(e.CalloutEditFields_icon).removeClass("zgs19_gsVisibleHidden"),w(e.CalloutEditFields).attr("datatype","deskOwnerChange"),w(e.CalloutEditFields).addClass("zgs19_gsEditFieldsUline zgs19_gsCurPointer")))},P.addEventForDeskArrow=function(e){w(e.ticketAction).off().on({mousemove:function(){w(this).find(".zgs19_gsModuleFilterElemIcon").removeClass("zgs19_gsVisibleHidden")},mouseleave:function(){var e=w(this).attr("datatype"),s=w("#zgs20_gsEditFieldsHolder").attr("datatype");O.isDatePickerDisplay&&(s=w("#zgs20_gsDateTimePickerElem").attr("datatype")),(O.isEditFieldsDisplay||O.isDatePickerDisplay)&&e==s||w(this).find(".zgs19_gsModuleFilterElemIcon").addClass("zgs19_gsVisibleHidden")}})},P.isAgentsExists=function(){var e=O.getResultAccountId(),s=O.getFilterInfo(D.SUPPORT,"departments","current"),s=O.gssupportaction.getSupportContactsObj(e,s);return 0<Object.keys(s).length},P.getUrlModuleName=function(e){switch(e){case"1":return"Cases";case"2":return"Solutions";case"3":return"Contacts";case"4":return"Accounts"}},P.getModuleName=function(e,s){var t=O.getFilterInfo(D.SUPPORT,"modules","data");if(t.hasOwnProperty(s)){s=t[s];if(s.hasOwnProperty(e))return s[e]}return""},P.moveToViewPort=function(){O.moveToViewPort("zgs20_gsSupportCalloutFooter","zgs20_gsSupportCalloutAttachInfo")},P.downloadAttachment=function(e){var s,t,a,r,o,i=w(e).attr("downloadUrl");i||(o=w(e).text(),s=w(e).attr("aId"),t=w(e).attr("tId"),a=(r=O.getCurrentResObj()).doc_id||r[O.entity_id],r=r[O.account_id]||O.getResultAccountId(),o="searchType="+w(e).attr("service")+"&id="+a+"&portalId="+r+"&threadId="+t+"&attachId="+s+"&atName="+encodeURIComponent(o),i=O.attachmentURL+"?"+o),O.network.download_file(i)},P.loadDeskImagesWithDomain=function(e){w(e).find("img").each(function(){var e=w(this).attr("src");e&&(-1!=e.indexOf("/ImageDisplayZSupportAPI?")?(e=e.replace("/ImageDisplayZSupportAPI?","/ImageDisplayZSupport?"),w(this).attr("src",e)):-1==e.indexOf("/supportapi")&&-1==e.indexOf("/supportapi/api/v1/threads")||w(this).attr("src",O.GSConstant.GS_SUPPORT_URL+e))}),w(e).find("a").each(function(){var e,s=w(this).attr("href");s&&(0!=s.indexOf("http")&&0!=s.indexOf("mailto:")&&(e=0==s.indexOf("/")?"":"/",w(this).attr("href",O.httpstxt+"://"+D.GS_SUPPORT_URL+e+s)),w(this).removeAttr("onclick"),w(this).attr("target","_blank"),w(this).attr("rel","noopener noreferrer"))})},P.calloutErrorMsg=function(e,s){var t=O.isPreviewCard(s);(O.getCurrentSelectedElem()||t)&&(O.hideCalloutLoader(s),e="ERROR"===e?O.getI18NMsg("gs.search.error.generic_error_messege"):O.getI18NMsg("gs.search.result.support.status.callout.errortext"),O.calloutErrorPage(s,e))},P.setServiceEleSize=function(e,s,t){t=t||O.getTargetElem("zgs20_gsSupportCallout");O.setGSTagElems(t),P.setSupportCalloutEleSize(t),e&&w("#"+e).css("height",s+"px")},P.getPreviewCrdParams=function(){var e=O.getCurrentResObj(),s=e.accId||O.getResultAccountId(),t=e.module_id,s={entity_id:e.doc_id,account_id:s};return 1!=t&&2!=t||e.hasOwnProperty("ATTACHMENT_NAMES")&&(s.hasAttach=!0),s[O.module_id]=t,s},P)}(zgssearch),function(He){var Ge,We=window._jQueryGS,l=He.getGSConstantObj()||{};He.gsbooks=(Ge=void 0,(Ge=He.gsbooks||{}).actionList=[{open:"common.open"},{copyLink:"gs.search.callout.copylink"},{savePreview:"gs.search.callout.savePreviewCard"}],Ge.email="",Ge.zuid="",Ge.isGroup="",Ge.getCalloutHolder=function(){return"zgs20_gsBooksCallout"},Ge.calloutParams=function(e){var s=e.modules,t=e.accId||He.getResultAccountId();return"searchType="+(e.serviceName||He.getCurSelectedEleAttr("service"))+"&id="+e.id+"&module="+s+"&orgId="+t+"&requiredfields=html_string,status,comments,customer_name,recurrence_name,name"},Ge.createCalloutTemplate=function(e,s){var t,a,r=s.calloutId;We("#"+r).length<=0&&(t=He.getI18NMsg("gs.search.sevice_prevmax"),a=He.getI18NMsg("gs.search.sevice_prevmin"),a=We("<div>",{id:r,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(We("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(We("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(We("<a>",{class:"zgs19_gsCalloutTitleLink zgs19_gsCFS",gs:"ctitle",istip:!0,target:"_blank",rel:"noopener noreferrer"}))).append(We("<span>",{class:"zgs18_gsNTab zgs19_gsCFS zgs19_gsCurPointer zgs19_gsfl",gs:"clink"})).append(We("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(We("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(We("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist"})).append(We("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(We("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(We("<div>",{class:"zgs19_gsCFS zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:t,gs:"maxpreview"})).append(We("<div>",{class:"zgs19_gsCFS zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:a,gs:"minpreview"}))))).append(We("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(We("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(We("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(We("<div>",{class:"zgs19_gsChatIconHolder"}).append(We("<img>",{class:"zgs19_gsResultsUniIcons zgs19_gsCalloutNoUserImg",src:He.gsspacer,gs:"authorPhoto"})))).append(We("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(We("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(We("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid70Per"}).append(We("<span>",{class:"zgs19_gsCurPointer",istip:!0,gs:"cname"})))).append(We("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(We("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid70Per"}).append(We("<span>",{istip:!0,gs:"cemailId"}))))))).append(We("<div>",{class:"zgs19_gsBooksCalloutFooter zgs19_gsBorderBox zgs19_gsCalloutPopUp",gs:"calloutFooter"}).append(We("<div>",{class:"zgs19_gsBooksCalloutContentInfo zgs19_gsBorderBox",gs:"content"})).append(We("<div>",{class:"zgs19_gsBooksCalloutMoreInfo zgs19_gsBorderBox",gs:"moreInfo"})).append(We("<div>",{class:"zgs19_gsBooksCalloutComments zgs19_gsBorderBox",gs:"comments"}))),We(s.parentElem).append(a),He.attachDoubleClickPopUpEvent()),We("#"+r).attr("ccount",e)},Ge.setBooksCalloutEleSize=function(e,s,t){var a,r;e&&(r=0,"none"!=We(e.metaInfo).css("display")&&(r=We(e.metaInfo).height()),a=We(e.header).height(),r=We(e).height()-(a+r),He.isMobViewport()&&(r-=He.getLHSServicePaneHeight()),We(e.calloutFooter).css("height",r+"px"),!s&&t?(We(e.content).addClass("zgs19_gsBooksCalloutDashboardContentInfo"),We(e.comments).addClass("zgs19_gsBooksCalloutDashboardContentInfo")):(We(e.content).removeClass("zgs19_gsBooksCalloutDashboardContentInfo"),We(e.comments).removeClass("zgs19_gsBooksCalloutDashboardContentInfo")),t=We(e.content).outerWidth(),t=-1<(t=(We(e.calloutFooter).outerWidth()-t)/2)?t:10,We(e.calloutFooter).css({padding:"10px "+t+"px"}))},Ge.calloutResponse=function(e,s,t,a){var r=a.searchObj,o=He.isPreviewCard(r),i=He.getTargetElem(r.calloutId);He.setGSTagElems(i),He.setGSTagElems(t);var n=e||{},l=e[He.module_id]||"",g=Object.keys(n).length,c=s.serviceName||We(t).attr("service");if(We(i.actionlist).attr("gsa",c),0<g){We(i.metaInfo).hide(),We(i.content).empty(),We(i.statusMap).remove(),We(i.moreInfo).empty().hide(),We(i.content).removeClass("zgs19_gsBooksCalloutContentPrev");var d=e[He.account_id]||We(t).attr("acc_id");We(i.ctitle).attr("href",He.fetchCalloutUrlByAccId(c,s,d,e));var p=e.name||e.custName||e.rName||"";if(We(i.ctitle).text(p).attr("gstitle",p),We(i.clink).attr("gstitle",He.getNewTabTip(c)),We(i).find(".zgs19_gsCFS").attr("service",c),t&&(_=We(t.resultTitle).attr("gslabel")||"",We(i.ctitle).attr("gslabel",_)),Ge.email=n.email||"",Ge.zuid=n.zuid||"",Ge.isGroup=n.isGrp,n.hasOwnProperty("html_string")){(Ie=n.status||s.status||"")&&(fe=Ge.getBooksPrevStatus(Ie),We(i.content).append(We("<div>",{class:"zgs19_gsBooksCalloutStatusMap zgs19_gsBorderBox",gs:"statusMap"}).append(We("<div>",{class:"zgs19_gsBorderBox zgs19_gsBooksCalloutStatus_"+fe}).text(Ie)))),We(i).find(".zgs19_FinanceIframe").remove();var u="zgs19_FinanceIframe"+(r.hasOwnProperty("cardNum")?r.cardNum:"search"),h=document.createElement("iframe");h.src="",h.srcdoc=n.html_string,h.id=u,h.className="zgs19_FinanceIframe zgs19_gsw100h100",h.gs="financeCalloutData",h.setAttribute("frameborder","0"),He.Utils.addSandboxToEle(h),h.onload=function(){setTimeout(function(){var e=He.getCurrentSelectedElem();(He.hasOwnProperty("pccomponent")&&He.pccomponent||Ge.currCalloutCount===e.id)&&(He.setScrollTopLeft(We("#"+u)),We(u).css("display","block")),We("#"+u).css("height",We("#"+u).contents().height()+10+"px")},100)},We(i.content).append(h),We(i.content).show()}else if("contacts"==l||"recurring_invoices"==l){var _,m="",z="",v="",f="",a="",g="--",d="--",C="--";"contacts"==l?(_=(t=Ge.getPrimaryContactPerson(n)).first_name||"",h=t.last_name||"",z=t.email||"",m=_.trim()+" "+h.trim(),v=He.getI18NMsg("gs.search.service_books.unusedCredit"),f=He.getI18NMsg("gs.search.service_books.outstanding"),a=He.getI18NMsg("gs.search.service_books.paymentdue"),g=n.credits||"--",d=n.outstanding||"--",C=n.payTerms||"--"):"recurring_invoices"==l&&(m=s.cname||e.cname||"",v=He.getI18NMsg("gs.search.service_books.invoiceamount"),f=He.getI18NMsg("gs.search.service_books.nextinvoicedate"),a=He.getI18NMsg("gs.search.service_books.recurringperiod"),g=n.total||"--",d=n.nextInvoice||"--",C=n.frequency||"--"),m=He.isQueryValid(m)?m:p,We(i.cname).empty().attr("gstitle",m).text(m),We(i.cemailId).empty().attr("gstitle",z).text(z),We(i.metaInfo).show(),We(i.content).append(We("<div>",{class:"zgs19_gsBooks_col_md_111 zgs19_gsBorderBox"}).append(We("<ul>",{class:"zgs19_gsBooks_list_unstyled zgs19_gsBorderBox"}).append(We("<li>",{class:"zgs19_gsBooks_col_md_4 zgs19_gsBorderBox zgs19_gsOverflow"}).append(We("<h6>",{class:"zgs19_gsBooks_text_key zgs19_gsBorderBox zgs19_gsOverflow"}).text(v)).append(We("<div>",{class:"zgs19_gsBooks_text_value zgs19_gsBorderBox zgs19_gsOverflow"}).text(g))).append(We("<li>",{class:"zgs19_gsBooks_col_md_4 zgs19_gsBorderBox zgs19_gsOverflow"}).append(We("<h6>",{class:"zgs19_gsBooks_text_key zgs19_gsBooks_text_overdue_key zgs19_gsBorderBox zgs19_gsOverflow"}).text(f)).append(We("<div>",{class:"zgs19_gsBooks_text_value zgs19_gsBorderBox zgs19_gsOverflow"}).text(d))).append(We("<li>",{class:"zgs19_gsBooks_col_md_4 zgs19_gsBorderBox zgs19_gsOverflow"}).append(We("<h6>",{class:"zgs19_gsBooks_text_key zgs19_gsBorderBox zgs19_gsOverflow"}).text(a)).append(We("<div>",{class:"zgs19_gsBooks_text_value zgs19_gsBorderBox zgs19_gsOverflow"}).text(C)))));g=n.billAddr||{},f=g.attention?g.attention+" ":"";f+=g.address?g.address+", ":"",f+=g.street2?g.street2+" ":"",f+=g.city?g.city+", ":"",f+=g.state?g.state+" ":"",f+=g.country?g.country+" ":"",f+=g.zip?"- "+g.zip:"";d=n.shipAddr||{},a=d.attention?d.attention+" ":"";a+=d.address?d.address+", ":"",a+=d.street2?d.street2+" ":"",a+=d.city?d.city+", ":"",a+=d.state?d.state+" ":"",a+=d.country?d.country+" ":"",a+=d.zip?"- "+d.zip:"";f=f||He.getI18NMsg("gs.search.service_books.nobilladdr"),a=a||He.getI18NMsg("gs.search.service_books.noshipaddr"),g=He.getI18NMsg("gs.search.service_books.billaddr"),d=He.getI18NMsg("gs.search.service_books.shipaddr");if(We(i.content).append(We("<div>",{class:"zgs19_gsBooks_col_md_222 zgs19_gsBorderBox"}).append(We("<ul>",{class:"zgs19_gsBooks_list_unstyled zgs19_gsBorderBox"}).append(We("<li>",{class:"zgs19_gsBooks_col_md_4 zgs19_gsBorderBox"}).append(We("<h6>",{class:"zgs19_gsBorderBox"}).text(g)).append(We("<div>",{class:"zgs19_gsBooks_text_value zgs19_gsBorderBox"}).text(f))).append(We("<li>",{class:"zgs19_gsBooks_col_md_4 zgs19_gsBorderBox"}).append(We("<h6>",{class:"zgs19_gsBorderBox"}).text(d)).append(We("<div>",{class:"zgs19_gsBooks_text_value zgs19_gsBorderBox"}).text(a))))),"contacts"==l){var S=n.contPerson||[],b=n.priContId||"",y=S.length||0;We(i.content).append(We("<div>",{class:"zgs19_gsBooks_col_md_333 zgs19_gsBorderBox"}).append(We("<ul>",{class:"zgs19_gsBooks_list_unstyled zgs19_gsBorderBox"}).append(We("<li>",{class:"zgs19_gsBooks_col_md_4 zgs19_gsBorderBox"}).append(We("<h6>",{class:"zgs19_gsBorderBox"}).text("Contact Persons")).append(We("<div>",{class:"zgs19_gsBooks_text_value zgs19_gsBorderBox",id:"zgs20_gsBooksContPerHolder"})))));for(var I=!1,O=0;O<y;O++){var P,w,D=S[O];b!=(D.contact_person_id||"")&&(I=!0,P=D.email||"",w=D.first_name||"",D=D.last_name||"",D=w.trim()+" "+D.trim(),We("#zgs20_gsBooksContPerHolder").append(We("<div>",{class:"zgs19_gsWid100Per zgs19_gsBorderBox zgs19_gsfl"}).append(We("<span>",{class:"zgs19_gsBooks_col333_row_1 zgs19_gsBorderBox zgs19_gsOverflow"}).text(D)).append(We("<a>",{class:"zgs19_gsBooks_col333_row_2 zgs19_gsBorderBox zgs19_gsOverflow",rel:"noopener noreferrer",href:"mailto:"+P,target:"_blank",istip:!0,gstitle:P}).text(P))))}I||(L=He.getI18NMsg("gs.search.service_books.nocontact"),We("#zgs20_gsBooksContPerHolder").text(L));var E=n.notes||"-",T=n.website||"-",d=n.currCode||"-",A=n.langCode||"-",M=He.getI18NMsg("gs.search.service_books.otherdetails"),a=He.getI18NMsg("gs.search.service_books.currency"),F=He.getI18NMsg("common.website"),N=He.getI18NMsg("gs.search.service_books.language"),L=He.getI18NMsg("common.notes");We(i.content).append(We("<div>",{class:"zgs19_gsBooks_col_md_444 zgs19_gsBorderBox"}).append(We("<h6>",{class:"zgs19_gsBorderBox zgs19_gsOverflow"}).text(M)).append(We("<div>",{class:"zgs19_gsBooks_text_value zgs19_gsBorderBox zgs19_gsOverflow",id:"zgs20_gsBooksOtherHolder"}))),We("#zgs20_gsBooksOtherHolder").append(We("<div>",{class:"zgs19_gsWid100Per zgs19_gsBorderBox zgs19_gsfl"}).append(We("<span>",{class:"zgs19_gsBooks444_row1_col1 zgs19_gsBorderBox zgs19_gsOverflow"}).text(a)).append(We("<span>",{class:"zgs19_gsBooks444_row1_col2 zgs19_gsBorderBox zgs19_gsOverflow"}).text(d))),We("#zgs20_gsBooksOtherHolder").append(We("<div>",{class:"zgs19_gsWid100Per zgs19_gsBorderBox zgs19_gsfl"}).append(We("<span>",{class:"zgs19_gsBooks444_row1_col1 zgs19_gsBorderBox zgs19_gsOverflow"}).text(F)).append(We("<span>",{class:"zgs19_gsBooks444_row1_col2 zgs19_gsBorderBox zgs19_gsOverflow"}).text(T))),We("#zgs20_gsBooksOtherHolder").append(We("<div>",{class:"zgs19_gsWid100Per zgs19_gsBorderBox zgs19_gsfl"}).append(We("<span>",{class:"zgs19_gsBooks444_row1_col1 zgs19_gsBorderBox zgs19_gsOverflow"}).text(N)).append(We("<span>",{class:"zgs19_gsBooks444_row1_col2 zgs19_gsBorderBox zgs19_gsOverflow"}).text(A))),We("#zgs20_gsBooksOtherHolder").append(We("<div>",{class:"zgs19_gsWid100Per zgs19_gsBorderBox zgs19_gsfl"}).append(We("<span>",{class:"zgs19_gsBooks444_row1_col1 zgs19_gsBorderBox zgs19_gsOverflow"}).text(L)).append(We("<span>",{class:"zgs19_gsBooks444_row1_col2 zgs19_gsBorderBox zgs19_gsOverflow"}).text(E)))}else"recurring_invoices"==l&&(ne=n.startDate||"-",ue=n.childInvoice||"-",ce=(ce=n.endDate||"")||He.getI18NMsg("gs.search.service_books.neverexpries"),M=He.getI18NMsg("gs.search.service_books.otherdetails"),ie=He.getI18NMsg("gs.search.service_books.startdate"),le=He.getI18NMsg("common.enddate"),de=He.getI18NMsg("gs.search.service_books.payterm"),pe=He.getI18NMsg("gs.search.service_books.manualInv"),We(i.content).append(We("<div>",{class:"zgs19_gsBooks_col_md_444 zgs19_gsBorderBox"}).append(We("<h6>",{class:"zgs19_gsBorderBox zgs19_gsOverflow"}).text(M)).append(We("<div>",{class:"zgs19_gsBooks_text_value zgs19_gsBorderBox zgs19_gsOverflow",id:"zgs20_gsBooksOtherHolder"}))),We("#zgs20_gsBooksOtherHolder").append(We("<div>",{class:"zgs19_gsWid100Per zgs19_gsBorderBox zgs19_gsfl"}).append(We("<span>",{class:"zgs19_gsBooks444_row1_col1 zgs19_gsBorderBox zgs19_gsOverflow"}).text(ie)).append(We("<span>",{class:"zgs19_gsBooks444_row1_col2 zgs19_gsBorderBox zgs19_gsOverflow"}).text(ne+":"))),We("#zgs20_gsBooksOtherHolder").append(We("<div>",{class:"zgs19_gsWid100Per zgs19_gsBorderBox zgs19_gsfl"}).append(We("<span>",{class:"zgs19_gsBooks444_row1_col1 zgs19_gsBorderBox zgs19_gsOverflow"}).text(le+":")).append(We("<span>",{class:"zgs19_gsBooks444_row1_col2 zgs19_gsBorderBox zgs19_gsOverflow"}).text(ce))),We("#zgs20_gsBooksOtherHolder").append(We("<div>",{class:"zgs19_gsWid100Per zgs19_gsBorderBox zgs19_gsfl"}).append(We("<span>",{class:"zgs19_gsBooks444_row1_col1 zgs19_gsBorderBox zgs19_gsOverflow"}).text(de+":")).append(We("<span>",{class:"zgs19_gsBooks444_row1_col2 zgs19_gsBorderBox zgs19_gsOverflow"}).text(C))),We("#zgs20_gsBooksOtherHolder").append(We("<div>",{class:"zgs19_gsWid100Per zgs19_gsBorderBox zgs19_gsfl"}).append(We("<span>",{class:"zgs19_gsBooks444_row1_col1 zgs19_gsBorderBox zgs19_gsOverflow"}).text(pe+":")).append(We("<span>",{class:"zgs19_gsBooks444_row1_col2 zgs19_gsBorderBox zgs19_gsOverflow"}).text(ue))))}else if("invoices"==l||"estimates"==l||"creditnotes"==l){var R=We("<div>",{class:"zgs19_gsInvParentTempl zgs19_gsBorderBox"}),x=We("<div>",{class:"zgs19_gsInvHeaderTempl zgs19_gsBorderBox"}),k=We("<div>",{class:"zgs19_gsInvBodyTempl zgs19_gsBorderBox"}),U=We("<div>",{class:"zgs19_gsInvFooterTempl zgs19_gsBorderBox"}),j=We("<table>",{class:"zgs19_gsInvTemplChild1 zgs19_gsBorderBox",width:"100%"}),B=We("<table>",{class:"zgs19_gsInvTemplChild2 zgs19_gsBorderBox",width:"100%"}),H=We("<table>",{class:"zgs19_gsInvTemplChild3 zgs19_gsBorderBox",width:"100%",cellpadding:"0",cellspacing:"0",border:"0"}),G=We("<div>",{class:"zgs19_gsInvTemplChild4 zgs19_gsBorderBox"}),W=We("<div>",{class:"zgs19_gsInvTemplChild5 zgs19_gsBorderBox zgs19_gsDisplayNone"}),F="",T="",V="",N="";"invoices"==l?(F=He.getI18NMsg("gs.search.service_books.invoice"),N=He.getI18NMsg("gs.search.service_books.balancedue"),T=n.invoiceNo||"",V=n.balance||""):"estimates"==l?(F=He.getI18NMsg("gs.search.service_books.estimate"),T=n.estimateNo||""):"creditnotes"==l&&(F=He.getI18NMsg("gs.search.service_books.creditnote"),N=He.getI18NMsg("gs.search.service_books.creditremain"),T=n.creditnoteNo||"",V=n.balance||"");A="",T=T?"# "+T:"";V&&(A=We("<div>",{class:"zgs19_gsInvT1R1_DueAmt zgs19_gsBorderBox"}).append(We("<span>",{class:"zgs19_gsInvT1R1_DueAmtLab zgs19_gsBorderBox"}).text(N)).append(We("<span>",{class:"zgs19_gsInvT1R1_DueAmtVal zgs19_gsBorderBox"}).text(V))),j.append(We("<tbody>").append(We("<tr>").append(We("<td>",{class:"zgs19_gsInvT1L1 zgs19_gsBorderBox"})).append(We("<td>",{class:"zgs19_gsInvT1R1 zgs19_gsBorderBox"}).append(We("<span>",{class:"zgs19_gsInvT1R1_InvLabel zgs19_gsBorderBox"}).text(F)).append(We("<span>",{class:"zgs19_gsInvT1R1_InvId zgs19_gsBorderBox"}).text(T)).append(A))));var Q=[];"invoices"==l?(Q.push({key:He.getI18NMsg("gs.search.service_books.invoicedate")+" :",value:n.date}),Q.push({key:He.getI18NMsg("gs.search.service_books.term")+" :",value:n.payTerm}),Q.push({key:He.getI18NMsg("gs.search.filter.dueDate")+" :",value:n.dueDate})):"estimates"==l?(Q.push({key:He.getI18NMsg("gs.search.service_books.estimatedate")+" :",value:n.date}),Q.push({key:He.getI18NMsg("gs.search.service_books.expirydate")+" :",value:n.expiry}),Q.push({key:He.getI18NMsg("gs.search.service_books.ref")+"# :",value:n.refNo}),Q.push({key:He.getI18NMsg("gs.search.service_books.lookup")+" :",value:Ge.getLookUpValue(n,"lookup")})):"creditnotes"==l&&(Q.push({key:He.getI18NMsg("gs.search.service_books.creditdate")+" :",value:n.date}),Q.push({key:He.getI18NMsg("gs.search.service_books.ref")+"# :",value:n.refNo}));for(var q=We("<tbody>"),Z=Q.length,K=0;K<Z;K++){var Y=Q[K];Y.value&&q.append(We("<tr>").append(We("<td>",{class:"zgs19_gsInvT1R2_td1"}).append(We("<span>",{class:"zgs19_gsInvT1R2_span"}).text(Y.key))).append(We("<td>",{class:"zgs19_gsInvT1R2_td2"}).append(We("<span>",{class:"zgs19_gsInvT1R2_span"}).text(Y.value))))}var q=We("<table>",{class:"zgs19_gsInvT1R2_table",width:"100%"}).append(q),E=n.custName||"",J=He.getI18NMsg("gs.search.service_books.billto");B.append(We("<tbody>").append(We("<tr>").append(We("<td>",{class:"zgs19_gsInvT1L2 zgs19_gsBorderBox"}).append(We("<div>",{class:"zgs19_gsBorderBox"}).append(We("<label>",{class:"zgs19_gsInvT1L2_BillLab zgs19_gsBorderBox"}).text(J)).append(We("<span>",{class:"zgs19_gsInvT1L2_CusName zgs19_gsBorderBox"}).text(E)))).append(We("<td>",{class:"zgs19_gsInvT1R2 zgs19_gsBorderBox"}).append(q))));for(var X=We("<tbody>"),$=n.lineItems||[],ee=$.length,O=0;O<ee;O++){var se=$[O],te=se.name||"",ae=se.description||"",re=se.quantity||"",oe=se.rate_formatted||"",se=se.item_total_formatted||"";X.append(We("<tr>").append(We("<td>",{class:"zgs19_gsInvT1L3_td6 zgs19_gsBorderBox"}).text(O+1)).append(We("<td>",{class:"zgs19_gsInvT1L3_td7 zgs19_gsBorderBox"}).append(We("<div>",{class:"zgs19_gsOverflowWrap"}).text(te)).append(We("<div>",{class:"zgs19_gsConnectLinkDesc zgs19_gsOverflowWrap"}).text(ae))).append(We("<td>",{class:"zgs19_gsInvT1L3_td8 zgs19_gsBorderBox"}).text(re)).append(We("<td>",{class:"zgs19_gsInvT1L3_td9 zgs19_gsBorderBox"}).text(oe)).append(We("<td>",{class:"zgs19_gsInvT1L3_td10 zgs19_gsBorderBox"}).text(se)))}var M=He.getI18NMsg("gs.search.service_books.items"),ie=He.getI18NMsg("gs.search.service_books.qty"),ne=He.getI18NMsg("gs.search.service_books.rate"),le=He.getI18NMsg("gs.search.service_books.amount");H.append(We("<thead>").append(We("<tr>").append(We("<td>",{class:"zgs19_gsInvT1L3_td1 zgs19_gsBorderBox"}).text("#")).append(We("<td>",{class:"zgs19_gsInvT1L3_td2 zgs19_gsBorderBox"}).text(M)).append(We("<td>",{class:"zgs19_gsInvT1L3_td3 zgs19_gsBorderBox"}).text(ie)).append(We("<td>",{class:"zgs19_gsInvT1L3_td4 zgs19_gsBorderBox"}).text(ne)).append(We("<td>",{class:"zgs19_gsInvT1L3_td5 zgs19_gsBorderBox"}).text(le)))).append(X);var ge=n.taxes||[],ce=n.total||"",de=n.discPer||"",C=n.discAmt||"",pe=n.subTotal||"",ue=n.paymentMade||"",F=n.adjAmt||"",T=n.creditsAmt||"",he=We("<tbody>"),A=He.getI18NMsg("gs.search.service_books.total"),E=He.getI18NMsg("gs.search.service_books.subtotal"),M=He.getI18NMsg("gs.search.service_books.discount"),ie=He.getI18NMsg("gs.search.service_books.paymentmade"),ne=He.getI18NMsg("gs.search.service_books.adjAmt"),le=He.getI18NMsg("gs.search.service_books.creditsAmt");pe&&he.append(We("<tr>",{class:"zgs19_gsInvT1R4_tr3 zgs19_gsBorderBox"}).append(We("<td>",{class:"zgs19_gsInvT1R4_td5 zgs19_gsBorderBox"}).text(E)).append(We("<td>",{class:"zgs19_gsInvT1R4_td6 zgs19_gsBorderBox"}).text(pe))),C&&he.append(We("<tr>",{class:"zgs19_gsInvT1R4_tr3 zgs19_gsBorderBox"}).append(We("<td>",{class:"zgs19_gsInvT1R4_td5 zgs19_gsBorderBox"}).text(M+" ("+de+")")).append(We("<td>",{class:"zgs19_gsInvT1R4_td6 zgs19_gsBorderBox"}).text("(-) "+C))),F&&he.append(We("<tr>",{class:"zgs19_gsInvT1R4_tr3 zgs19_gsBorderBox"}).append(We("<td>",{class:"zgs19_gsInvT1R4_td5 zgs19_gsBorderBox"}).text(ne)).append(We("<td>",{class:"zgs19_gsInvT1R4_td6 zgs19_gsBorderBox"}).text(F)));var _e=ge.length||0;if(0<_e)for(var me=0;me<_e;me++){var ze=ge[me];ze.tax_name&&ze.tax_amount_formatted&&he.append(We("<tr>",{class:"zgs19_gsInvT1R4_tr3 zgs19_gsBorderBox"}).append(We("<td>",{class:"zgs19_gsInvT1R4_td5 zgs19_gsBorderBox"}).text(ze.tax_name)).append(We("<td>",{class:"zgs19_gsInvT1R4_td6 zgs19_gsBorderBox"}).text(ze.tax_amount_formatted)))}ce&&he.append(We("<tr>",{class:"zgs19_gsInvT1R4_tr3 zgs19_gsBorderBox"}).append(We("<td>",{class:"zgs19_gsInvT1R4_td5 zgs19_gsBorderBox"}).text(A)).append(We("<td>",{class:"zgs19_gsInvT1R4_td6 zgs19_gsBorderBox"}).text(ce))),ue&&he.append(We("<tr>",{class:"zgs19_gsInvT1R4_tr3 zgs19_gsBorderBox"}).append(We("<td>",{class:"zgs19_gsInvT1R4_td5 zgs19_gsBorderBox"}).text(ie)).append(We("<td>",{class:"zgs19_gsInvT1R4_td6 zgs19_gsBorderBox"}).text("(-) "+ue))),T&&he.append(We("<tr>",{class:"zgs19_gsInvT1R4_tr3 zgs19_gsBorderBox"}).append(We("<td>",{class:"zgs19_gsInvT1R4_td5 zgs19_gsBorderBox"}).text(le)).append(We("<td>",{class:"zgs19_gsInvT1R4_td6 zgs19_gsBorderBox"}).text("(-) "+T))),V&&he.append(We("<tr>",{class:"zgs19_gsInvT1R4_tr3 zgs19_gsBorderBox"}).append(We("<td>",{class:"zgs19_gsInvT1R4_td5 zgs19_gsBorderBox"}).text(N)).append(We("<td>",{class:"zgs19_gsInvT1R4_td6 zgs19_gsBorderBox"}).text(V))),G.append(We("<div>",{class:"zgs19_gsInvT1L4 zgs19_gsBorderBox"})).append(We("<div>",{class:"zgs19_gsInvT1R4 zgs19_gsBorderBox"}).append(We("<table>",{class:"zgs19_gsInvT1R4_table zgs19_gsBorderBox",cellpadding:"0",cellspacing:"0",border:"0",width:"100%"}).append(he))).append(We("<div>",{class:"zgs19_gsClearBoth"})),n.notes&&(L=He.getI18NMsg("common.notes"),We(W).removeClass("zgs19_gsDisplayNone"),W.append(We("<label>",{class:"zgs19_gsInvT1L5 zgs19_gsBorderBox"}).text(L)).append(We("<p>",{class:"zgs19_gsInvTR5 zgs19_gsBorderBox"}).text(n.notes))),k.append(j).append(B).append(H).append(G).append(W),R.append(x).append(k).append(U),We(i.content).append(R),We(i.content).addClass("zgs19_gsBooksCalloutContentPrev"),We(i.content).show(),(Ie=n.status||s.status||"")&&(fe=Ge.getBooksPrevStatus(Ie),We(i.content).append(We("<div>",{class:"zgs19_gsBooksCalloutStatusMap zgs19_gsBorderBox",gs:"statusMap"}).append(We("<div>",{class:"zgs19_gsBorderBox zgs19_gsBooksCalloutStatus_"+fe}).text(Ie))))}else if("customerpayments"==l){var V=We("<div>",{class:"zgs19_gsPayParentTempl zgs19_gsBorderBox"}),L=We("<div>",{class:"zgs19_gsInvHeaderTempl zgs19_gsBorderBox"}),j=We("<div>",{class:"zgs19_gsInvBodyTempl zgs19_gsBorderBox"}),B=We("<div>",{class:"zgs19_gsInvFooterTempl zgs19_gsBorderBox"}),H=We("<div>",{class:"zgs19_gsPayTemplChild1 zgs19_gsBorderBox"}),ve=We("<div>",{class:"zgs19_gsPayTemplChild2 zgs19_gsBorderBox"}),G=We("<div>",{class:"zgs19_gsPayTemplChild3 zgs19_gsBorderBox"}),W=We("<div>",{class:"zgs19_gsClearBoth"}),x=We("<div>",{class:"zgs19_gsPayTemplChild5 zgs19_gsBorderBox"}),k=We("<div>",{class:"zgs19_gsPayTemplChild6 zgs19_gsBorderBox"}),U=We("<div>",{class:"zgs19_gsPageBreak zgs19_gsBorderBox"}),R=We("<div>",{class:"zgs19_gsPayTemplChild8 zgs19_gsBorderBox"}),s=He.getI18NMsg("gs.search.service_books.payrecript"),fe=He.getI18NMsg("gs.search.service_books.amtreceived"),J=He.getI18NMsg("gs.search.service_books.billto");H.append(We("<span>",{class:"zgs19_gsPayT1_header"}).text(s));var Ce=[];Ce.push({key:He.getI18NMsg("gs.search.service_books.paymentdate"),value:n.date}),Ce.push({key:He.getI18NMsg("gs.search.service_books.refno"),value:n.refNo}),Ce.push({key:He.getI18NMsg("gs.search.service_books.paymentmode"),value:n.payMode});for(var Se=Ce.length,be=0;be<Se;be++){var ye=Ce[be];ye.value&&ve.append(We("<div>",{class:"zgs19_gsPayT1R2_div zgs19_gsBorderBox"}).append(We("<div>",{class:"zgs19_gsPayT1R2_div1 zgs19_gsBorderBox"}).text(ye.key)).append(We("<div>",{class:"zgs19_gsPayT1R2_div2 zgs19_gsBorderBox"}).text(ye.value)).append(We("<div>",{class:"zgs19_gsClearBoth"})))}var Ie=n.amount||"-";G.append(We("<span>",{class:"zgs19_gsPayT1R3_key zgs19_gsBorderBox"}).text(fe)).append(We("<span>",{class:"zgs19_gsPayT1R3_value zgs19_gsBorderBox"}).text(Ie)).append(We("<div>",{class:"zgs19_gsClearBoth"}));s=n.custName||"-";x.append(We("<table>",{class:"zgs19_gsWid100Per"}).append(We("<tbody>").append(We("<tr>").append(We("<td>").append(We("<div>").append(We("<p>",{class:"zgs19_gsPayT1R5_key zgs19_gsBorderBox"}).text(J)).append(We("<span>",{class:"zgs19_gsPayT1R5_value zgs19_gsBorderBox"}).text(s)))))));var Oe=n.invoices||[],Pe=Oe.length;if(0<Pe){for(var we=We("<tbody>"),De=0;De<Pe;De++){var Ee=Oe[De],Te=Ee.invoice_number||"",Ae=Ee.date_formatted||"",Me=Ee.total_formatted||"",Ee=Ee.amount_applied_formatted||"";we.append(We("<tr>").append(We("<td>",{class:"zgs19_gsPayT8L3_td5 zgs19_gsBorderBox"}).text(Te)).append(We("<td>",{class:"zgs19_gsPayT8L3_td5 zgs19_gsBorderBox"}).text(Ae)).append(We("<td>",{class:"zgs19_gsPayT8L3_td5 zgs19_gsBorderBox"}).text(Me)).append(We("<td>",{class:"zgs19_gsPayT8L3_td5 zgs19_gsBorderBox"}).text(Ee)))}var fe=He.getI18NMsg("gs.search.service_books.invoiceno"),J=He.getI18NMsg("gs.search.service_books.invoicedate"),s=He.getI18NMsg("gs.search.service_books.invoiceamount"),Fe=He.getI18NMsg("gs.search.service_books.paymentamt");R.append(We("<h4>",{class:"zgs19_gsInvT8_hr zgs19_gsBorderBox"}).text("Payment for")).append(We("<table>",{class:"zgs19_gsInvT8_label zgs19_gsBorderBox",cellpadding:"0",cellspacing:"0",border:"0",width:"100%"}).append(We("<thead>").append(We("<tr>").append(We("<td>",{class:"zgs19_gsPayT8L3_td1 zgs19_gsBorderBox"}).text(fe)).append(We("<td>",{class:"zgs19_gsPayT8L3_td2 zgs19_gsBorderBox"}).text(J)).append(We("<td>",{class:"zgs19_gsPayT8L3_td3 zgs19_gsBorderBox"}).text(s)).append(We("<td>",{class:"zgs19_gsPayT8L3_td4 zgs19_gsBorderBox"}).text(Fe)))).append(we))}else{Fe=He.getI18NMsg("gs.search.service_books.overpayment");R.append(We("<div>",{class:"zgs19_gsPageBreak zgs19_gsBorderBox"}).append(We("<div>",{class:"zgs19_gsWid100Per zgs19_gsBorderBox zgs19_gsfl"}).append(We("<table>",{class:"zgs19_gsWid100Per zgs19_gsBorderBox"}).append(We("<tbody>").append(We("<tr>").append(We("<td>").append(We("<div>",{class:"zgs19_gsPayT9R1 zgs19_gsBorderBox"}).text(Fe)).append(We("<div>",{class:"zgs19_gsPayT9R2 zgs19_gsBorderBox"}).text(Ie))))))))}j.append(H).append(ve).append(G).append(W).append(x).append(k).append(U).append(R),V.append(L).append(j).append(B),We(i.content).append(V),We(i.content).addClass("zgs19_gsBooksCalloutContentPrev"),We(i.content).show()}We(i.comments).empty().hide();var Ne=n.comments||[],Le=Ne.length||0;if(0<Le){for(var Re=We("<div>",{class:"zgs19_gsBooksComments_Header zgs19_gsBorderBox",id:"zgs20_gsBooksCommentsHolder"}),O=0;O<Le;O++){var xe=Ne[O],ke=xe.commented_by||"",Ue=xe.description||"",je=xe.date_formatted||"",Be=He.getI18NMsg("gs.search.service_books.by"),Be=Ue.trim()+" "+Be+" "+ke;"customerpayments"==l&&(Ue=He.getI18NMsg("gs.search.service_books.paymentreceived"));ke=xe.operation_type||"",xe=xe.transaction_type||"";xe&&ke&&(Ue=xe.trim()+" "+ke.trim()),Re.append(We("<div>").append(We("<div>",{class:"zgs18_gsBooksComments_Pa1 zgs18_gsCalloutUniIcons zgs19_gsBorderBox"}).append(We("<div>",{class:"zgs19_gsBooksComments_Ch1 zgs19_gsBorderBox"}).append(We("<span>",{class:"zgs19_gsBooksComments_Ch1R1 zgs19_gsBorderBox"}).text(je))).append(We("<div>",{class:"zgs19_gsBooksComments_Ch2 zgs19_gsBorderBox"}).append(We("<span>",{class:"zgs19_gsBooksComments_Ch2R1 zgs19_gsBorderBox"}))).append(We("<div>",{class:"zgs19_gsBooksComments_Ch3 zgs19_gsBorderBox"}).append(We("<div>",{class:"zgs19_gsBooksComments_Ch3R1 zgs19_gsBorderBox"})).append(We("<div>",{class:"zgs19_gsBooksComments_Ch3R2 zgs19_gsBorderBox zgs19_gsOverflow"}).text(Ue)).append(We("<div>",{class:"zgs19_gsBooksComments_Ch3R3 zgs19_gsBorderBox"}).text(Be)))))}n=He.getI18NMsg("gs.search.service_books.commentshistory");"customerpayments"==l?n=He.getI18NMsg("gs.search.service_books.paymenthistory"):"recurring_invoices"==l&&(n=He.getI18NMsg("gs.search.service_books.childinvoices")),We(i.comments).append(We("<div>",{class:"zgs19_gsBooks_col_md_444 zgs19_gsBorderBox"}).append(We("<h6>",{class:"zgs19_gsBorderBox zgs19_gsOverflow"}).text(n)).append(Re)),We(i.comments).show()}r.iconDisplay&&(We(i.minpreview).css("display","none"),We(i.maxpreview).css("display","block"),We(i.actionPipe).css("display","block")),(He.getCurrentSelectedElem()||He.hasOwnProperty("pccomponent")&&He.pccomponent||o)&&(He.hideCalloutLoader(r),We(i).show()),We(i.calloutFooter).scrollTop(0),We(i.calloutFooter).scrollLeft(0)}else Ge.calloutErrorMsg("",r);o="dashboardCard"===r.type,r=!!r.hasOwnProperty("cardCalloutType")&&"cardCalloutType"===r.cardCalloutType;Ge.addCalloutActionList(i,c),Ge.setBooksCalloutEleSize(i,r,o),He.calloutVisitRequest()},Ge.getPrimaryContactPerson=function(e){for(var s=e.priContId||"",t=e.contPerson||[],a=t.length,r=0;r<a;r++){var o=t[r]||{};if(s==(o.contact_person_id||""))return o}return{}},Ge.getLookUpValue=function(e,s){for(var t=e.customFields||[],a=t.length,r=0;r<a;r++){var o=t[r]||{};if(s==(o.data_type||""))return o.value_formatted}},Ge.getBooksPrevStatus=function(e){var s=e.toLowerCase();switch(s){case"open":case"accepted":case"success":case"overdue":case"draft":case"error":case"void":case"pending":case"approved":case"paid":return s;default:return"default"}},Ge.getFinanceSuiteProductDomainURL=function(e){var s="";switch(e){case l.BOOKS:s=l.GS_BOOKS_URL;break;case l.INVOICE:s=l.GS_INVOICE_URL;break;case l.INVENTORY:s=l.GS_INVENTORY_URL}return s},Ge.openBooksResult=function(e,s,t,a={}){var r="",o="",i=t.id||a[He.entity_id],n=t.modules||a[He.module_id]||"";return o="items"==n?l.INVENTORY+"/items":"estimates"==n?"quotes":"customerpayments"==n?"paymentsreceived":"recurring_invoices"==n?"recurringinvoices":"contacts"===n&&"vendor"===(t.contact_type||a.contactType)?"vendors":n,r=i&&o?Ge.getFinanceSuiteProductDomainURL(e)+"/app/"+s+"#/"+o+"/"+i:r},Ge.addCalloutActionList=function(e,s){var t=e.getElementsByClassName("zgs19_gsCalloutActionList");We(t).empty().remove(),We(e.calloutActionHolder).append(We("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var t=e.getElementsByClassName("zgs19_gsCalloutActionList"),a=Ge.actionList,r=a.length,o=0;o<r;o++){var i,n,l=a[o];for(i in l)He.savePreviewNeeded(i)&&(n=He.getI18NMsg(l[i]),We(t).append(We("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:i,service:s,gstitle:n}).text(n)))}He.Utils.constructSaveBookmarkInCallout(t,s)},Ge.calloutErrorMsg=function(e,s){if(He.getCurrentSelectedElem()||He.hasOwnProperty("pccomponent")&&He.pccomponent){He.hideCalloutLoader(s);var t="";switch(He.searchType){case l.BOOKS:t=He.getI18NMsg("gs.search.result.books.status.callout.errortext");break;case l.INVOICE:t=He.getI18NMsg("gs.search.result.invoice.status.callout.errortext");break;case l.INVENTORY:t=He.getI18NMsg("gs.search.result.inventory.status.callout.errortext")}e="ERROR"===e?He.getI18NMsg("gs.search.error.generic_error_messege"):t;He.calloutErrorPage(s,e)}},Ge.setServiceEleSize=function(e,s,t){t=t||He.getTargetElem("zgs20_gsBooksCallout"),He.setGSTagElems(t),Ge.setBooksCalloutEleSize(t),e&&We("#"+e).css("height",s+"px")},Ge.getPreviewCrdParams=function(){var e=He.getCurrentResObj();return{module:e.modules,account_id:e.accId||He.getResultAccountId(),entity_id:e.id,requiredfields:"html_string,status,comments,customer_name,recurrence_name,name"}},Ge)}(zgssearch),function(p){var u,h=window._jQueryGS,_=p.getGSConstantObj()||{};p.gscalendar=(u=void 0,(u=p.gscalendar||{}).actionList=[{open:"common.open",sendMail:"gs.search.callout.send_mail_action",pcontinue:"gs.search.result.chat.callout.continueChat",audio:"gs.search.result.chat.callout.audiochat",video:"gs.search.result.chat.callout.videochat",copyLink:"gs.search.callout.copylink",savePreview:"gs.search.callout.savePreviewCard"}],u.startTimeMillis=0,u.endTimeMillis=0,u.currentTimeMillis=0,u.todayInMills=0,u.attendeesListObj=u.attendeesListObj||{},p.eventHostZUID=p.eventHostZUID||"",u.supportedDispField=["Duration","Description","Your_Role","Url","Category","Status","Ticket_Subject","Priority"],u.weekOrder=["MO","TU","WE","TH","FR","SA","SU"],u.weekVsDisplayName={MO:"monday",TU:"tuesday",WE:"wednesday",TH:"thursday",FR:"friday",SA:"saturday",SU:"sunday"},u.monthOrder=["january","february","march","april","may","june","july","august","september","october","november","december"],u.countVsWord={1:"first",2:"second",3:"third",4:"fourth",5:"fifth","-1":"last"},u.freqVsDisplayName={DAILY:["weekday","days"],WEEKLY:["week","weeks"],MONTHLY:["month","months"],YEARLY:["year","years"]},u.getCalloutHolder=function(){return"zgs20_gsCalendarCallout"},u.calloutParams=function(e){var s=e.sId,t="searchType="+(e.serviceName||p.getCurSelectedEleAttr("service"))+"&sId="+s+"&eventId="+(e.eId||e[p.entity_id]);switch(s){case"4":t+="&calendarId="+e.cId,e.hasOwnProperty("recId")&&(t+="&recurrenceId="+e.recId);break;case"8":case"9":case"31":t+="&account_id="+e.zsoid}return t},u.createCalloutTemplate=function(e,s){var t,a,r=s.calloutId;h("#"+r).length<=0&&(u.composeMailTitle=p.getI18NMsg("gs.search.sevice_mail_sendMail"),u.continueChat=p.getI18NMsg("gs.search.result.chat.callout.continueChat"),u.audioCall=p.getI18NMsg("gs.search.result.chat.callout.audiochat"),u.videoCall=p.getI18NMsg("gs.search.result.chat.callout.videochat"),t=p.getI18NMsg("gs.search.sevice_prevmax"),a=p.getI18NMsg("gs.search.sevice_prevmin"),a=h("<div>",{id:r,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(h("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(h("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(h("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:_.CALENDAR,target:"_blank",rel:"noopener noreferrer"}))).append(h("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:p.getI18NMsg("gs.search.callout.open_tab"),service:_.CALENDAR})).append(h("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(h("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(h("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:_.CALENDAR})).append(h("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(h("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(h("<span>",{id:"zgs20_gsCalendarEdit",class:"zgs18_gsEditIcon zgs19_gsCalloutCRMEditIcon zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gs:"calendarActions",actionType:"editEvent",gstitle:p.getI18NMsg("gs.search.calendar.callout.editEvent")})).append(h("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:t,gs:"maxpreview",service:_.CALENDAR})).append(h("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:a,gs:"minpreview",service:_.CALENDAR}))))).append(h("<div>",{class:"zgs19_gsCalloutFooter",gs:"calloutFooter"}).append(h("<div>",{class:"zgs19_gsCalloutIconInfo zgs19_gsCalendarCalloutIconHeight zgs19_gsHgt140Px",gs:"iconHeight"}).append(h("<div>",{class:"zgs19_gsDocsCalloutIconHolderNew zgs19_gsCalendarCalloutIconHolderNew zgs19_gsfl",gs:"calloutIconHolder"})).append(h("<div>",{class:"zgs19_gsEventDurationCalcInfo",gs:"eventStatus"}).append(h("<span>",{class:"zgs19_gsEventDurMsgTxt zgs19_gsOverflow"}).append(h("<span>",{class:"zgs19_gsDurationInfo",gs:"calculateDuration"})))).append(h("<div>",{class:"zgs19_gsCalendarCalloutMetaInfo zgs19_gsfl",gs:"calendarMetaInfo"}).append(h("<div>",{class:"zgs19_gsContactsMetaChild zgs19_gsMgLf20Px"}).append(h("<span>",{id:"zgs20_gsStartDateTxt",class:"zgs19_gsEventDateTxt",gs:"eventStartDate"})).append(h("<span>",{id:"zgs20_gsStartTimeTxt",class:"zgs19_gsEventTimeTxt",gs:"eventStartTime"})).append(h("<span>",{class:"zgs19_gsHyphenTxt",gs:"hyphenTxt"}).text("-")).append(h("<span>",{id:"zgs20_endDateTxt",class:"zgs19_gsEventDateTxt",gs:"eventEndDate"})).append(h("<span>",{id:"zgs20_endTimeTxt",class:"zgs19_gsEventTimeTxt",gs:"eventEndTime"}))).append(h("<div>",{id:"zgs20_gsRecurringEventDetails",class:"zgs19_gsRecurringEvents zgs19_gsContactsMetaChild zgs19_gsMgLf20Px zgs19_gsDisplayNone",gs:"recurringEventParent"}).append(h("<span>",{class:"zgs18_gsRecurrenceIcon zgs19_gsfl",gstitle:p.getI18NMsg("gs.search.calendar.results.recurringevent")})).append(h("<span>",{id:"zgs20_gsRecurringEvery",class:"zgs19_gsRecurringEventTxt zgs19_gsOverflow zgs19_gsfl",gs:"recurringEvery"}).text(p.getI18NMsg("gs.search.calendar.callout.every"))).append(h("<span>",{id:"zgs20_gsRecurringInterval",class:"zgs19_gsRecurringEventTxt zgs19_gsOverflow zgs19_gsfl",gs:"recurringInterval"})).append(h("<span>",{id:"zgs20_gsRecurringFreq",class:"zgs19_gsRecurringEventTxt zgs19_gsOverflow zgs19_gsfl",gs:"recurringFreq"})).append(h("<span>",{id:"zgs20_gsRecurringOn",class:"zgs19_gsRecurringEventTxt zgs19_gsOverflow zgs19_gsfl",gs:"recurringOn"})).append(h("<span>",{id:"zgs20_gsRecurringEnds",class:"zgs19_gsRecurringEventTxt zgs19_gsOverflow zgs19_gsfl",gs:"recurringEnds"}))).append(h("<div>",{class:"zgs19_gsContactsMetaChild zgs19_gsMgLf20Px zgs19_gsfl"}).append(h("<span>",{id:"zgs20_gsEventHostByTxt",class:"zgs19_eventHostByTxt zgs19_gsfl"}).text(p.getI18NMsg("gs.search.service_books.by"))).append(h("<span>",{id:"zgs20_gsHostTxt",class:"zgs19_gsEventHostTxt zgs19_gsOverflow zgs19_gsfl",gs:"eventHostInfo"})).append(h("<span>",{class:"zgs19_gsInTxt zgs19_gsfl"}).text(p.getI18NMsg("gs.search.service_people.status.in",!0))).append(h("<span>",{id:"zgs20_gsEventServiceTxt",class:"zgs19_gsEventServiceTxt  zgs19_gsOverflow zgs19_gsfl",gs:"eventService"}))).append(h("<div>",{class:"zgs19_gsContactsMetaChild zgs19_gsMgLf10Px",gs:"contactsActionInfo"}).append(h("<div>",{class:"zgs19_gscalcwmschat zgs18_gsComposeMail zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"sendMail",gstitle:u.composeMailTitle})).append(h("<div>",{class:"zgs19_gscalcwmschat zgs18_gsContinueChat zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"gswmschat",gstitle:u.continueChat})).append(h("<div>",{class:"zgs19_gscalcwmschat zgs18_gsAudioChat zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"gswmsaudio",gstitle:u.audioCall})).append(h("<div>",{class:"zgs19_gscalcwmschat zgs18_gsVideoChat zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"gswmsvideo",gstitle:u.videoCall}))))).append(h("<div>",{class:"zgs19_gscontPartHolder",gs:"contPartHolder"}).append(h("<div>",{class:"zgs19_gsCalloutCRMLeftPanel zgs19_gsfl"}).append(h("<span>",{class:"zgs18_gsCalloutlineIcon zgs19_gsMgTop20pxLeft30px zgs19_gsfl zgs19_gsDisplayNone",gs:"lineicon"}))).append(h("<div>",{id:"zgs20_gsCalloutCalendarRightPanel",class:"zgs19_gsCalloutCRMRightPanel zgs19_gsCalloutPopUp zgs19_gsfl",gs:"eventDetails"})))),h(s.parentElem).append(a),p.attachDoubleClickPopUpEvent()),p.getTargetElem(r).setAttribute("ccount",e)},u.setCalendarCalloutEleSize=function(e){var s,t;e&&(t=h(e.header).height(),s=h(e.iconHeight).height(),t=h(e).height()-(t+s),t-=h(e.contPartHolder).outerHeight(!0)-h(e.contPartHolder).height(),p.isMobViewport()&&(t-=p.getLHSServicePaneHeight()),h(e.contPartHolder).css("height",t+"px"),s=h(e.calloutIconHolder).outerWidth()+30,t=h("#zgs20_gsSearchResultRight").width(),h(e.contactsMetaInfo).css("width",t-s))},u.calloutResponse=function(e,s,t,a){a=a.searchObj;a.type!==p.dbCrdCalloutType&&a.type!==p.crdPagecalloutType||(o=a.cardId,p.cardObjForCurrentSelectedElem[o]||(p.cardObjForCurrentSelectedElem[o]={}),p.cardObjForCurrentSelectedElem[o].calloutRespObj=e);var r=p.getTargetElem(a.calloutId);if(p.setGSTagElems(r),p.setGSTagElems(t),h(r.lineicon).css("display","none"),h(r.actionlist).css("display","none"),h(r.attendeeStatus).remove(),h(r.calculateDuration).empty(),e){var o=h(r).attr("ccount");h(r.ctitle).attr("href",p.fetchCalloutUrl(_.CALENDAR,s,"",e)),h(r.actionlist).css("display","block");t=e.Title||p.getI18NMsg("gs.search.service_connect.callout.noTitle");h(r.ctitle).attr("gslabel",p.getI18NMsg("common.eventtitle")),h(r.ctitle).empty().text(t).attr("gstitle",t);s="zgs20_gsCalendarCalloutUserImg"+o;h(r.calloutIconHolder).html("").append(h("<img>",{id:s,class:"zgs19_gsFetchImgLoader zgs19_gsCalendarFetchImgLoader",src:p.gsspacer}));t=e.zuid||"";""!==(p.eventHostZUID=t)&&"-1"!==t?(i=p.getThumbPhotoURL(t),n=h("#"+s),p.network.imageRenderer.renderImage(i,{img_elem:n,class_name:"zgs19_gsCalendarCalloutImgNew",errorClass:"zgs19_gsCalendarCalloutImgNew zgs19_gsResultsUniIcons zgs19_gsCalendarCalloutNoPhotoNew"},null)):h("#"+s).removeClass("zgs19_gsFetchImgLoader zgs19_gsCalendarFetchImgLoader zgs19_gsCalloutUserImg").addClass("zgs19_gsCalendarCalloutImgNew zgs19_gsResultsUniIcons zgs19_gsCalendarCalloutNoPhotoNew"),clearInterval(p.calendarInterval),u.startTimeMillis=e.STM||"",u.endTimeMillis=e.ETM||"",u.currentTimeMillis=e.CTM||"",u.todayInMills=e.TTM||"",u.colorElem=h(r.eventStatus),u.statusElem=h(r.calculateDuration),u.eventStatusCheck();var o=e.SDT||"",i=e.EDT||"",n=e.timezone||"",s=p.getI18NMsg("gs.search.service_people.status.in",!0),o=u.getEventDateValues(o,i);p.getTargetElem("zgs20_gsStartDateTxt").setAttribute("gslabel",p.getI18NMsg("gs.search.service_books.startdate"));i=h(r.eventStartDate);i.attr("gstitle",o[0]+" "+s+" "+n),i.text(o[0]);i=h(r.eventStartTime);""!=o[1]&&(p.getTargetElem("zgs20_gsStartTimeTxt").setAttribute("gslabel",p.getI18NMsg("gs.search.calendar.callout.startTime")),i.attr("gstitle",o[1]+" "+s+" "+n)),i.text(o[1]);i=h(r.eventEndDate);""!=o[2]&&(p.getTargetElem("zgs20_endDateTxt").setAttribute("gslabel",p.getI18NMsg("common.enddate")),i.attr("gstitle",o[2]+" "+s+" "+n)),i.text(o[2]);i=h(r.eventEndTime);""!=o[3]&&(p.getTargetElem("zgs20_endTimeTxt").setAttribute("gslabel",p.getI18NMsg("gs.search.calendar.callout.endTime")),i.attr("gstitle",o[3]+" "+s+" "+n)),i.text(o[3]),e.allDay&&""==o[2]?h(".zgs19_gsHyphenTxt").text(""):h(".zgs19_gsHyphenTxt").text("-");s=e.Host||e.Host_Email||"",n=h(r.eventHostInfo);n.attr("gslabel",p.getI18NMsg("gs.search.calendar.results.host")),n.attr("gstitle",s),n.text(s);i=r.eventService,o=p.getCalendarServiceName(e.sId);i.setAttribute("gslabel",p.getI18NMsg("gs.search.calendar.callout.eventFrom")),i.setAttribute("gstitle",o),i.innerHTML=o,h(r).find(".zgs19_gscalcwmschat").attr("chatid",t);n=e.Host_Email||"",s="",i=p.getUserStatus(t,"big").status;u.curloggeduser=_.cuz;o="null"!==n&&""!==n&&null!=n&&"-"!==n&&"none"!==n;h(r.sendMail).css("display","none"),h(r.gswmschat).css("display","none"),h(r.gswmsaudio).css("display","none"),h(r.gswmsvideo).css("display","none"),o&&!p.isPreviewOpenedInComponent&&(h(r.sendMail).css("display","block"),h(r.sendMail).attr("email",n),t&&"-1"!=t&&t!=u.curloggeduser&&(i=parseInt(i),(e.issameorg||""||0<=i)&&(s=t,h(r.gswmschat).css("display","block"),p.hasAudioSupport()&&h(r.gswmsaudio).css("display","block"),p.hasVideoSupport()&&h(r.gswmsvideo).css("display","block")))),u.addCalloutActionList(r,n,s,t);n=a.iconDisplay,s=h(r).find("#zgs20_gsCalendarEdit");s.css("display","none"),!!e.hasOwnProperty("hasEditPermission")&&e.hasEditPermission?s.css("display","block"):n||h(r.actionPipe).css("display","none"),e.hasOwnProperty("userStatus")&&!p.isPreviewOpenedInComponent?u.renderUserStatus(r,t,e.userStatus.status):h(r.iconHeight).removeClass("zgs19_gsHgt140Px"),n&&(h(r.minpreview).css("display","none"),h(r.maxpreview).css("display","block"));n=p.isPreviewCard(a);if((p.getCurrentSelectedElem()||p.hasOwnProperty("pccomponent")&&p.pccomponent||n)&&(p.hideCalloutLoader(a),h(r).css("display","block")),u.generateCallOut(r,e),0<h(r).find(".zgs19_gsCalloutDocsLabel").length?h(r.lineicon).css("display","block"):h(r.lineicon).css("display","none"),e.hasOwnProperty("rrule")){h(r.recurringEventParent).removeClass("zgs19_gsDisplayNone"),e.hasOwnProperty("userStatus")?h(r.iconHeight).removeClass("zgs19_gsHgt140Px").addClass("zgs19_gsHgt170Px"):h(r.iconHeight).removeClass("zgs19_gsHgt170Px").addClass("zgs19_gsHgt140Px");var l,g,n=e.rrule,c=u.getRuleObject(n),e=c.FREQ||"",d=c.INTERVAL||"",n="",n=1<d?(h(r.recurringInterval).text(d).removeClass("zgs19_gsDisplayNone"),u.freqVsDisplayName[e][1]):(h(r.recurringInterval).addClass("zgs19_gsDisplayNone"),u.freqVsDisplayName[e][0]);switch(h(r.recurringFreq).text(p.getI18NMsg("common.date."+n)),e){case"DAILY":1!=d||c.hasOwnProperty("BYDAY")||h(r.recurringFreq).text("1 "+p.getI18NMsg("common.date.day")),h(r.recurringOn).addClass("zgs19_gsDisplayNone");break;case"WEEKLY":u.renderByDayRecurringEvent(r,c);break;case"MONTHLY":u.renderMonthlyRecurringEvent(r,c);break;case"YEARLY":u.renderYearlyRecurringEvent(r,c)}c.hasOwnProperty("COUNT")?(l=" "+p.getI18NMsg("common.for")+" ",g=c.COUNT+" "+p.getI18NMsg("gs.search.calendar.callout.times"),u.updateRecurringEventDetails(r.recurringEnds,l,g)):c.hasOwnProperty("UNTIL")?(l=" "+p.getI18NMsg("gs.search.calendar.callout.until")+" ",g=u.getUntilDateString(c.UNTIL),u.updateRecurringEventDetails(r.recurringEnds,l,g)):h(r.recurringEnds).addClass("zgs19_gsDisplayNone")}else h(r.recurringEventParent).addClass("zgs19_gsDisplayNone"),h(r.iconHeight).removeClass("zgs19_gsHgt170Px");u.setCalendarCalloutEleSize(r),p.calloutVisitRequest()}else u.calloutErrorMsg("",a)},u.renderUserStatus=function(e,s,t){h(e.iconHeight).addClass("zgs19_gsHgt140Px");var a=h("<div>",{class:"zgs19_gsAttendeeStatus zgs19_gsOverflow zgs19_gsAttendeeStatusAccepted zgs19_gsCurPointer",gs:"calendarActions",actionType:"updateStatus",datatype:"yes",gstitle:p.getI18NMsg("gs.search.calendar.callout.yes"),text:p.getI18NMsg("gs.search.calendar.callout.yes")}),r=h("<div>",{class:"zgs19_gsAttendeeStatus zgs19_gsOverflow zgs19_gsAttendeeStatusRejected zgs19_gsCurPointer",gs:"calendarActions",actionType:"updateStatus",datatype:"no",gstitle:p.getI18NMsg("common.no"),text:p.getI18NMsg("common.no")}),o=h("<div>",{class:"zgs19_gsAttendeeStatus zgs19_gsOverflow zgs19_gsAttendeeStatusMaybe zgs19_gsCurPointer",gs:"calendarActions",actionType:"updateStatus",datatype:"maybe",gstitle:p.getI18NMsg("gs.search.calendar.callout.maybe"),text:p.getI18NMsg("gs.search.calendar.callout.maybe")}),i=h("<div>",{class:"zgs19_gsContactsMetaChild zgs19_gsCalcMetaChild zgs19_gsMgLf20Px zgs19_gsfl",gs:"attendeeStatus"}).append(h("<div>",{class:"zgs19_gsAttendeeStatusMsg zgs19_gsOverflow",gstitle:p.getI18NMsg("gs.search.calendar.callout.attendeeStatusMsg")}).text(p.getI18NMsg("gs.search.calendar.callout.attendeeStatusMsg"))).append(a).append(r).append(o);switch(h(e.calendarMetaInfo).append(i),u.currentTimeMillis>=u.startTimeMillis&&h(i).addClass("zgs19_gsHideEleme"),t){case 0:a.removeAttr("gs"),a.addClass("zgs19_gsSatusUpdateAccepted");break;case 1:r.removeAttr("gs"),r.addClass("zgs19_gsSatusUpdateRejected");break;case 2:o.removeAttr("gs"),o.addClass("zgs19_gsSatusUpdateMaybe")}},u.eventStatusCheck=function(){var e=u.startTimeMillis-u.currentTimeMillis,s="",t="";u.todayInMills<=u.startTimeMillis&&u.startTimeMillis<u.todayInMills+p.DAY_IN_MILLIS&&u.calcDurationTime(e),u.endTimeMillis-p.SECOND_IN_MILLIS<=u.currentTimeMillis?(s="zgs19_gsUpcomingBgColor zgs19_gsTodayBgColor zgs19_gsTomorrowBgColor",t="zgs19_gsCompletedBgColor",u.statusElem.empty().addClass("zgs19_gs606060Col").text(p.getI18NMsg("gs.search.calendar.callout.completed")),u.statusElem.attr("gstitle",p.getI18NMsg("gs.search.calendar.callout.completed"))):u.startTimeMillis<=u.currentTimeMillis&&u.currentTimeMillis<u.endTimeMillis?(s="zgs19_gsUpcomingBgColor zgs19_gsTomorrowBgColor zgs19_gsCompletedBgColor",t="zgs19_gsTodayBgColor",u.statusElem.empty().removeClass("zgs19_gs606060Col").text(p.getI18NMsg("gs.search.calendar.callout.started")),u.statusElem.attr("gstitle",p.getI18NMsg("gs.search.calendar.callout.started"))):u.todayInMills+p.DAY_IN_MILLIS<=u.startTimeMillis&&u.startTimeMillis<u.todayInMills+2*p.DAY_IN_MILLIS?(s="zgs19_gsUpcomingBgColor zgs19_gsTodayBgColor zgs19_gsCompletedBgColor",t="zgs19_gsTomorrowBgColor",u.statusElem.empty().removeClass("zgs19_gs606060Col").text(p.getI18NMsg("gs.search.filter.tomorrow")),u.statusElem.attr("gstitle",p.getI18NMsg("gs.search.filter.tomorrow"))):u.todayInMills+2*p.DAY_IN_MILLIS<=u.startTimeMillis&&(s="zgs19_gsTodayBgColor zgs19_gsTomorrowBgColor zgs19_gsCompletedBgColor",t="zgs19_gsUpcomingBgColor",u.statusElem.empty().removeClass("zgs19_gs606060Col").text(p.getI18NMsg("gs.search.calendar.callout.upcoming")),u.statusElem.attr("gstitle",p.getI18NMsg("gs.search.calendar.callout.upcoming"))),u.colorElem.removeClass(s).addClass(t)},u.calcDurationTime=function(e){u.displayTimeTxt(e),p.calendarInterval=setInterval(function(){u.currentTimeMillis<u.endTimeMillis&&(clearInterval(p.calendarInterval),u.eventStatusCheck()),u.currentTimeMillis+=p.SECOND_IN_MILLIS},p.SECOND_IN_MILLIS)},u.displayTimeTxt=function(e){var s="",t=(e%=p.DAY_IN_MILLIS)%p.HOURS_IN_MILLIS,a=(e-t)/p.HOURS_IN_MILLIS;0<a&&(s+=String(a).padStart(2,"0")+":");a=((e=t)-(t=e%p.MINUTE_IN_MILLIS))/p.MINUTE_IN_MILLIS;0<=a&&(s+=String(a).padStart(2,"0")+":");t=((e=t)-(t=e%p.SECOND_IN_MILLIS))/p.SECOND_IN_MILLIS;0<=t&&(s+=String(t).padStart(2,"0")),u.colorElem.removeClass("zgs19_gsUpcomingBgColor zgs19_gsTomorrowBgColor zgs19_gsCompletedBgColor").addClass("zgs19_gsTodayBgColor"),u.statusElem.empty().removeClass("zgs19_gs606060Col").text(s)},u.generateCallOut=function(e,s){h(e.eventDetails).empty();var t,a,r=h(e.eventDetails);for(a in s.hasOwnProperty("Attendees")&&(u.previousAttendeesId="",u.isFisrtTime=!1,u.isPopUpAlreadyGenerated={},h(".zgs19_gsAttendeesListMenuPopUp").remove(),h(".zgs19_gsAttendeeMenuPopUp").remove(),p.isDashboardViewOpened()||p.isCardViewOpened()?(t=(p.isDashboardViewOpened()?h(e).closest(".zgs19_gsCard"):h(e).closest("#zgs20_gsCrdPrevBdy")).attr("cardId"),u.attendeesListObj[t]=s.Attendees):u.attendeesListObj=s.Attendees,u.statusMsg=[p.getI18NMsg("gs.search.calendar.callout.yes"),p.getI18NMsg("common.no"),p.getI18NMsg("gs.search.calendar.callout.maybe"),p.getI18NMsg("gs.search.calendar.callout.notResponding")],u.statusCode=["zgs18_gsInvitationAccepted","zgs18_gsInvitationCancelled","zgs18_gsInvitationMaybe","zgs18_gsInvitationNotResponsed"],r=r.append(u.addAttendeesList(t))),s.hasOwnProperty("Location")&&(r=r.append(u.renderCalendarModuleDetails("Location",s.Location))),s){var o=s[a];""!==o&&"Host_Email"==a||"Last_Modified_By"==a||"Contact_Email"==a?(a=a.replace(/_/g," "),p.renderContactsEmailId(e,r,a,o)):""!==o&&p.includes(a,u.supportedDispField)&&(o=u.renderCalendarModuleDetails(a,o),r=r.append(o))}},u.renderCalendarModuleDetails=function(e,s){return e=e.replace(/_/g," "),h("<div>",{class:"zgs19_gsCalloutDocsUserInfo"}).append(h("<div>",{class:"zgs19_gsCalloutDocsLabel zgs19_gsOverflow"}).text(e)).append(h("<div>",{class:"zgs19_gsWidth100"}).append(h("<div>",{class:"zgs19_gsCalloutDocsAuthor zgs19_gsOverflow1 zgs19_gsMxWidImpPer90 zgs19_gsfl",istip:!0}).text(s)))},u.addAttendeesList=function(e){var s=e?u.attendeesListObj[e]:u.attendeesListObj,e=s.length,t=h("<div>",{class:"zgs19_gsWidth100"});if(p.isPreviewOpenedInComponent)t=h("<div>",{class:"zgs19_gsCalloutDocsAuthor zgs19_gsOverflow1 zgs19_gsMxWidImpPer90 zgs19_gsfl"}).text(e);else{for(var a,r=5<e?5:e,o=0;o<r;o++)a=s[o],t=t.append(u.renderAttendeesImg(o,a,!1));5<e&&(e="+"+(e-=5),e=h("<div>",{id:"zgs20_gsAttendeesList",class:"zgs19_gsAttendeesCount zgs19_attendeesBG zgs19_gsfl",gs:"attendeesListPopup"}).text(e),t=t.append(e))}return h("<div>",{class:"zgs19_gsCalloutDocsUserInfo"}).append(h("<div>",{class:"zgs19_gsCalloutDocsLabel zgs19_gsOverflow"}).text(p.getI18NMsg("gs.search.calendar.callout.attendees"))).append(t)},u.renderAttendeesImg=function(e,s,t){var a=h("<img>",{id:e,class:"zgs19_gsFetchImgLoader zgs19_gsAttendeesFetchImgLoader",src:p.gsspacer});s.hasOwnProperty("grpName")&&(a=h("<span>",{id:e,class:"zgs19_gsFetchImgLoader zgs19_gsAttendeesFetchImgLoader"}));var r=h("<div>").append(a);h(r).attr("gslabel",p.getI18NMsg("common.status"));var o,i,n="",l="";return s.hasOwnProperty("grpName")?(n=p.getI18NMsg("gs.search.calendar.callout.groupName"),l=s.grpName,h(r).attr("class","zgs19_gsGroupOfAttendees zgs19_gsfl"),a.removeClass("zgs19_gsFetchImgLoader zgs19_gsAttendeesFetchImgLoader").addClass("zgs19_gsAttendeesImg zgs18_gsGroupOfAttendeesIcon")):(i=s.zuid||"",o=s.status,h(r).attr("class",u.statusCode[o]+" zgs19_gsfl"),h(r).attr("gstitle",u.statusMsg[o]),""!==i&&"-1"!==i?(n=p.getI18NMsg("gs.search.service_people.name"),l=s.name,i=p.getThumbPhotoURL(i),p.renderPhoto("",i,"zgs19_gsAttendeesImg","zgs19_gsAttendeesNoUserImg zgs19_gsAttendeesImg zgs19_gsResultsUniIcons",a)):(n=p.getI18NMsg("gs.search.calendar.callout.mailId"),l=s.email,a.removeClass("zgs19_gsFetchImgLoader zgs19_gsAttendeesFetchImgLoader").addClass("zgs19_gsAttendeesNoUserImg zgs19_gsAttendeesImg zgs19_gsResultsUniIcons"))),e<5&&!t&&(h(r).addClass("zgs19_gsAttendeePopup"),h(a).attr("gs","attendeeMenuPopUp"),h(a).attr("gslabel",n),h(a).attr("gstitle",l)),r},u.attendeeMenuActionsPopUp=function(e){var s=new p.dashboardSearchActions;u.currSearchType=s.createActionType(e),u.currSearchType.currCard?u.attendeeMenuActionsForCard(e):(s=e.getAttribute("id"),p.isAttendeeMenuPopUp&&u.previousAttendeesId==s?(h("#zgs20_gsAttendeeMenuPopUp"+s).css("display","none"),p.isAttendeeMenuPopUp=!1,u.previousAttendeesId=""):(h("#zgs20_gsAttendeeMenuPopUp"+u.previousAttendeesId).css("display","none"),u.isPopUpAlreadyGenerated[s]||u.renderAttendeeMenu(e,s),h("#zgs20_gsAttendeeMenuPopUp"+s).css("display","block"),u.previousAttendeesId=s,p.isAttendeeMenuPopUp=!0))},u.attendeeMenuActionsForCard=function(e){var s=e.getAttribute("id");u.previousAttendeesId!=s||u.previousAttendeeActionCard!=u.currSearchType.getCurrentCardId()?(h(".zgs19_gsAttendeeMenuPopUp").css("display","none"),!h.isEmptyObject(u.isPopUpAlreadyGenerated)&&u.isPopUpAlreadyGenerated[u.currSearchType.getCurrentCardId()]&&u.isPopUpAlreadyGenerated[u.currSearchType.getCurrentCardId()][s]?(h(u.currSearchType.currCard).find("#zgs20_gsAttendeeMenuPopUp"+s).css("display","block"),u.setAttendeeMenuPos(e,s)):u.renderAttendeeMenu(e,s),u.previousAttendeesId=s,u.previousAttendeeActionCard=u.currSearchType.getCurrentCardId(),p.isAttendeeMenuPopUp=!0):(h("#zgs20_gsAttendeeMenuPopUp"+s).css("display","none"),u.previousAttendeesId="",p.isAttendeeMenuPopUp=!1)},u.renderAttendeeMenu=function(e,s){var t,a=h("<div>",{id:"zgs20_gsAttendeeMenuPopUp"+s,class:"zgs19_gsAttendeeMenuPopUp zgs19_gsDisplayNone"});u.currSearchType.currCard?(t=u.currSearchType.getCurrentCardId(),r=u.attendeesListObj[t][s],h(u.currSearchType.currCard).find("#zgs20_gsAttendeeMenuPopUp"+s),u.isPopUpAlreadyGenerated[t]||(u.isPopUpAlreadyGenerated[t]={}),u.isPopUpAlreadyGenerated[t][s]=!0):(r=u.attendeesListObj[s],h("#zgs20_gsAttendeeMenuPopUp"+s)),u.addMoreAttendeeDetails(a,s,r);var r=u.currSearchType.getCalloutParent();h(r).append(a),u.setAttendeeMenuPos(e,s),u.isPopUpAlreadyGenerated[s]=!0},u.setAttendeeMenuPos=function(e,s){var t=u.currSearchType.getCalloutParent(),a=p.gscomponent.isRTLEnabled?"right":"left",e=h(e).get(0).getBoundingClientRect(),t=h(t).get(0).getBoundingClientRect(),a=p.gscomponent.isRTLEnabled?t[a]-e[a]:e[a]-t[a],e=e.top-t.top+e.height+10,s=u.currSearchType.getTargetElem("#zgs20_gsAttendeeMenuPopUp"+s);h(s).css({"inset-inline-start":Math.floor(a-20),"inset-block-start":e})},u.attendeesListMenuActionsPopUp=function(e){var s=new p.dashboardSearchActions;u.currSearchType=s.createActionType(e),!p.isAttendeesListOpened||p.isDashboardViewOpened()?(h(".zgs19_gsAttendeesListMenuPopUp").css("display","none"),s=u.currSearchType.getTargetElem("#zgs20_gsAttendeesListMenuPopUp"),(u.isFisrtTime||!p.isDashboardViewOpened())&&s&&"none"===h(s).css("display")||u.renderAttendeesList(e),u.setAttendeesListPos(e),h(s).css("display","block"),p.isAttendeesListOpened=!0):(h(".zgs19_gsAttendeesListMenuPopUp").css("display","none"),p.isAttendeesListOpened=!1,u.previousAttendeesId="")},u.renderAttendeesList=function(e){var s=new p.dashboardSearchActions;u.currSearchType=s.createActionType(e);for(var t=u.currSearchType.currCard?u.attendeesListObj[u.currSearchType.getCurrentCardId()]:u.attendeesListObj,s=h("<div>",{id:"zgs20_gsAttendeesListMenuPopUp",class:"zgs19_gsAttendeesListMenuPopUp zgs19_gsDisplayNone"}),a=h("<div>",{class:"zgs19_gssAttendeesList"}),r=t.length,o=5;o<r;o++)u.addMoreAttendeeDetails(a,o,t[o]);s.append(a);e=u.currSearchType.getCalloutParent();h(e).append(s),p.jqueryMouseEvent(),h(u.currSearchType.getTargetElem(".zgs19_gsAttendeeActionsHover")).addClass("zgs19_gsVisbHdn"),u.isFisrtTime=!0},u.setAttendeesListPos=function(e){h(e).closest(".zgs19_gsAttendeesCount").width();var s=u.currSearchType.getCalloutParent(),t=338-h(u.currSearchType.getTargetElem("#zgs20_gsAttendeesListMenuPopUp")).outerWidth()/2-9,a=h(e).height(),s=h(s).get(0).getBoundingClientRect(),a=h(e).get(0).getBoundingClientRect().top-s.top+a+10;h(u.currSearchType.getTargetElem(".zgs19_gsAttendeesListMenuPopUp")).css({"inset-inline-start":Math.floor(t),"inset-block-start":a})},u.addMoreAttendeeDetails=function(e,s,t){var a=t.name||t.email||t.grpName,r="zgs19_gsAteendeeInfo",o="",i="zgs19_gsAttendeeDetails",n=p.getI18NMsg("gs.search.service_people.name"),l="zgs19_gsAttendeeActionsHover";(s=parseInt(s))<5&&(i="zgs19_gsAttendeesInfoOuter",l=r=""),t.grpName&&(n=p.getI18NMsg("gs.search.calendar.callout.groupName"),o=" zgs19_gsGroupName");l=h("<div>",{id:s,class:"zgs19_gsSenderAbout zgs19_gsfl "+r}).append(h("<div>",{class:"zgs19_gsSenderInnerAbout"}).append(h("<div>",{class:"zgs19_gsAttendeesPhoto"}).append(u.renderAttendeesImg(s,t,!0))).append(h("<div>",{class:i+o}).append(h("<div>",{class:"zgs19_gsAttendeesName zgs19_gsfl zgs19_gsOverflow"}).append(h("<span>",{gs:"cmusername",gslabel:n,gstitle:a}).text(a))).append(h("<div>",{class:"zgs19_gsContactsMetaChild zgs19_gsAttendeeActions zgs19_gsfl "+l,gs:"attendeesActionInfo"}))));u.enableAttendeesWmsService(l,t),e.append(l)},u.enableAttendeesWmsService=function(e,s){var t=s.zuid||"",a=s.email,r=h(e).find(".zgs19_gsAttendeeActions"),e=p.getUserStatus(t,"big").status;"null"!==a&&""!==a&&null!=a&&"-"!==a&&"none"!==a&&(r.append(h("<span>",{class:"zgs19_gsAttendeewmschat zgs18_gsComposeMail zgs19_gsCurPointer zgs19_gsfl",gs:"sendMail",email:a,gstitle:u.composeMailTitle})),t!=u.curloggeduser&&t&&"-1"!=t&&(e=parseInt(e),(s.issameorg||""||0<=e)&&(r.append(h("<span>",{class:"zgs19_gsAttendeewmschat zgs18_gsContinueChat zgs19_gsCurPointer zgs19_gsfl",gs:"gswmschat",chatid:t,gstitle:u.continueChat})),p.hasAudioSupport()&&r.append(h("<span>",{class:"zgs19_gsAttendeewmschat zgs18_gsAudioChat zgs19_gsCurPointer zgs19_gsfl",gs:"attendeegswmsaudio",zuid:t,gstitle:u.audioCall})),p.hasVideoSupport()&&r.append(h("<span>",{class:"zgs19_gsAttendeewmschat zgs18_gsVideoChat zgs19_gsCurPointer zgs19_gsfl",gs:"attendeegswmsvideo",zuid:t,gstitle:u.videoCall})))))},u.addCalloutActionList=function(e,s,t,a){var r=e.getElementsByClassName("zgs19_gsCalloutActionList");h(r).empty().remove(),h(e.calloutActionHolder).append(h("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var r=e.getElementsByClassName("zgs19_gsCalloutActionList"),o=u.actionList,i=o.length,n=0;n<i;n++){var l,g,c=o[n];for(l in c)p.savePreviewNeeded(l)&&("sendMail"==l&&!s||"sendMail"==l&&a==_.cuz||"pcontinue"==l&&!t||!("audio"!=l&&"video"!=l||t&&p.hasAudioSupport()&&p.hasVideoSupport())||(g=p.getI18NMsg(c[l]),h(r).append(h("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:l,email:s,chatid:t,service:_.CALENDAR,gstitle:g}).text(g))))}p.Utils.constructSaveBookmarkInCallout(r,_.CALENDAR)},u.openCalendarResult=function(e,s){s=s||{};var t=e.sId||s.sId||"",a=e.eId||s[p.entity_id],r=e.orgId||s[p.account_id],o=e.spn||s.spn;switch(t){case"4":return e.eventUrl||s.eventUrl||"";case"8":return _.GS_CRM_URL+"/"+_.CRM+"/"+(e.domain_name||s.domain_name)+"/EntityInfo.do?module=Events&id="+a;case"9":return _.GS_SUPPORT_URL+"/"+_.SUPPORT+"/"+encodeURIComponent(o)+"/ShowHomePage.do#Events/dv/"+a;case"31":return _.GS_BIGIN_URL+"/"+_.BIGIN+"/Home#/events/"+a+"?orgId="+r}},u.getEventDateValues=function(e,s){e=e.split("-"),s=s.split("-");return u.checkStartAndEndDatesAreSame(e[0],s[0])&&(s[0]=""),e[1]=null==e[1]?"":e[1],s[1]=null==s[1]?"":s[1],[e[0],e[1],s[0],s[1]]},u.checkStartAndEndDatesAreSame=function(e,s){return e===s},u.calloutErrorMsg=function(e,s){(p.getCurrentSelectedElem()||p.hasOwnProperty("pccomponent")&&p.pccomponent)&&(p.hideCalloutLoader(s),e="ERROR"===e?p.getI18NMsg("gs.search.error.generic_error_messege"):p.getI18NMsg("gs.search.service_calednar.callout.errortext"),p.calloutErrorPage(s,e))},u.setServiceEleSize=function(e,s,t){t=t||p.getTargetElem("zgs20_gsCalendarCallout"),p.setGSTagElems(t),u.setCalendarCalloutEleSize(t),e&&h("#"+e).css("height",s+"px")},u.getPreviewCrdParams=function(){var e=p.getCurrentResObj(),s={sId:e.sId,entity_id:e.eId};switch(s.sId){case"4":s.cId=e.cId,e.hasOwnProperty("recId")&&(s.recurrenceId=e.recId),s.eventUrl=encodeURI(e.eventUrl);break;case"8":s.domain_name=encodeURIComponent(e.domain_name),s.account_id=e.zsoid;break;case"9":s.spn=encodeURIComponent(e.spn),s.account_id=e.zsoid;break;case"31":s.account_id=e.zsoid}return s},u.getRuleObject=function(e){for(var s=e.split(";"),t=s.length,a={},r=0;r<t;r++){var o=s[r].split("=");a[o[0]]=o[1]}return a},u.renderMonthlyRecurringEvent=function(e,s){s.hasOwnProperty("BYMONTHDAY")?u.renderByMonthdayRecurringEvent(e,s):s.hasOwnProperty("BYDAY")&&u.renderByDayRecurringEvent(e,s)},u.renderYearlyRecurringEvent=function(e,s){var t;s.hasOwnProperty("BYMONTH")&&(t=p.getI18NMsg("common.date."+u.monthOrder[s.BYMONTH-1]),s.hasOwnProperty("BYMONTHDAY")?(h(e.recurringFreq).text(t),u.renderByMonthdayRecurringEvent(e,s)):s.hasOwnProperty("BYDAY")&&(u.renderByDayRecurringEvent(e,s),s=h("<span>",{class:"zgs19_gsRecurringShortTxt"}).text(" "+p.getI18NMsg("gs.search.calendar.callout.of")+" "),t=h("<span>",{gstitle:t}).text(t),h(e.recurringOn).append(s).append(t).removeClass("zgs19_gsDisplayNone")))},u.renderByMonthdayRecurringEvent=function(e,s){var t=s.BYMONTHDAY;t&&(s=p.getI18NMsg("gs.search.calendar.callout.on")+" ",t=p.getI18NMsg("common.date.day")+" "+t,u.updateRecurringEventDetails(e.recurringOn,s,t))},u.renderByDayRecurringEvent=function(e,s){var t=(s.BYDAY||"").split(","),a=u.getMultiDayString(t)||"",t=s.BYSETPOS||"",s=t?p.getI18NMsg("common.date."+u.countVsWord[t])+" ":"";a&&(t=p.getI18NMsg("gs.search.calendar.callout.on")+" ",u.updateRecurringEventDetails(e.recurringOn,t,s+a))},u.getMultiDayString=function(e){var s="",t=e.length;e.sort(function(e,s){return u.weekOrder.indexOf(e)-u.weekOrder.indexOf(s)});for(var s=p.getI18NMsg("common.date."+u.weekVsDisplayName[e[0]]),a=1;a<t;a++)s+=", "+p.getI18NMsg("common.date."+u.weekVsDisplayName[e[a]]);return s},u.updateRecurringEventDetails=function(e,s,t){var a=h("<span>",{class:"zgs19_gsRecurringShortTxt"}).text(s),r=document.createTextNode(t);h(e).empty().append(a).append(r).attr("gstitle",s+t).removeClass("zgs19_gsDisplayNone")},u.getUntilDateString=function(e){var s=e.slice(0,4),t=e.slice(4,6)-1,e=e.slice(6,8);return new Date(Date.UTC(s,t,e)).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric",hour12:!0})||""},u)}(zgssearch),function(_){var m,z=window._jQueryGS,v=_.getGSConstantObj()||{};_.gscliq=(m=void 0,(m=_.gscliq||{}).catchedPreview=m.catchedPreview||[],m.actionList=[{open:"common.open"},{continue:"gs.search.result.chat.viewtranscript_dialog.continue"},{copyLink:"gs.search.callout.copylink"},{savePreview:"gs.search.callout.savePreviewCard"}],m.getCalloutHolder=function(){return"zgs20_gsCliqCallout"},m.createCalloutTemplate=function(e,s){var t,a,r,o=s.calloutId;z("#"+o).length<=0&&(t=_.getI18NMsg("gs.search.sevice_prevmax"),r=_.getI18NMsg("gs.search.sevice_prevmin"),a=_.getI18NMsg("gs.search.result.chat.viewtranscript_dialog.continue"),r=z("<div>",{id:o,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(z("<div>",{class:"zgs19_gsw100h100",gs:"cliqTranscript"}).append(z("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(z("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(z("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:v.CLIQ,target:"_blank",rel:"noopener noreferrer"}))).append(z("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:_.getNewTabTip(v.CLIQ),service:v.CLIQ})).append(z("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(z("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(z("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:v.CLIQ})).append(z("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(z("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(z("<div>",{class:"zgs18_gsContinueChat zgs19_gsCurPointer zgs19_gsfr",gstitle:a,gs:"continuechat",service:v.CLIQ})).append(z("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:t,gs:"maxpreview",service:v.CLIQ})).append(z("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:r,gs:"minpreview",service:v.CLIQ}))))).append(z("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder zgs19_gsZIndex0",gs:"metaInfo"}).append(z("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(z("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(z("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(z("<img>",{class:"zgs19_gsFetchLoader",src:_.gsspacer,gs:"authorPhoto"})))).append(z("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(z("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(z("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid55Per",gs:"userBgColor"}).append(z("<span>",{class:"zgs19_gsCurPointer",gs:"owner",istip:!0}))).append(z("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(z("<span>",{gs:"date"})))).append(z("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(z("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid70Per"}).append(z("<span>",{gs:"partCount"}))))))).append(z("<div>",{class:"zgs19_gsWMSCalloutFooter zgs19_gsCalloutPopUp zgs19_gsBorderBox",gs:"calloutFooter"}))).append(z("<div>",{class:"zgs19_gsDisplayNone",gs:"cliqIEContent"}).append(z("<div>",{class:"zgs19_gsCalloutErrorMsg",gs:"cliqPageTxt"}).text(_.getI18NMsg("gs.e.common.iesupportmsg")))).append(z("<div>",{class:"zgs19_gsChatPreview zgs19_gsBorderBox zgs19_gsDisplayNone",id:"zgs20_gsChatPreview",gs:"cliqPreview"})),z(s.parentElem).append(r),_.attachDoubleClickPopUpEvent()),z("#"+o).attr("ccount",e)},m.setCliqCalloutEleSize=function(e){var s,t,a;e&&(s=z(e.header).height(),a=z(e.metaInfo).height(),a=(t=z(e).height())-(s+a),_.isMobViewport()&&(a-=_.getLHSServicePaneHeight()),_.hasWMSTranscript&&(z(e.calloutFooter).css("height",a+"px"),z(e.cliqPreview).css("height",t-s+"px")))},m.calloutResponse=function(e,s,t,a){var r,o,i,n,l,g,c,d=a.searchObj,p=a.searchObj.type,u=d.calloutId,h=_.getTargetElem(u);h&&(m.registerCliqPreviewTemplate(h,s),_.setGSTagElems(h),_.setGSTagElems(t),z("#zgs20_gsChatPreview").hide(),z("#zgs20_gsCqC2Outer").remove(),z(h).find(".zgs18_gsContinueChat").removeClass("zgs19_gsHideEleme"),_.isIE?(z(h.cliqIEContent).css("display","block"),z(h.cliqTranscript).css("display","none")):(z(h.cliqIEContent).css("display","none"),z(h.cliqTranscript).css("display","block"),o=_.chidVsMeta||{},(r=_.isPreviewCard(d))&&(o=s.chidVsMeta||{}),a=s.cid||"",u=o.hasOwnProperty(a)?o[a]:"",o=s.title||_.replaceHTMLEntity(u.title)||"",z(h.owner).empty().text(o).attr("gstitle",o).attr("gslabel",_.getI18NMsg("common.title")),z(h.ctitle).empty().text(o).attr("gstitle",o).attr("href",_.fetchCalloutUrl(v.CLIQ,s)),t&&(l=z(t.resultTitle).attr("gslabel")||"",z(h.ctitle).attr("gslabel",l)),a=s.dT||"-",z(h.date).empty().text(a).attr("gstitle",a).attr("gslabel",_.getI18NMsg("gs.search.result.lastReplied")),o=u.pcount||"",z(h.partCount).empty(),o&&2<o&&(i=o+" "+_.getI18NMsg("gs.search.result.chat.callout.participants"),z(h.partCount).text(i).attr("gstitle",o).attr("gslabel",_.getI18NMsg("gs.search.filter.cliq.participantsCount"))),t=s.ctt||"",l=u.owner||s.owner||"",a=u.groupid||"",i=s.clt||"",u="",z(h.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),z(h.authorPhoto).attr("class","zgs19_gsFetchLoader").attr("src",_.gsspacer),z(h.owner).removeClass("zgs19_gsCurPointer"),z(h.userBgColor).removeClass("zgs19_gsUserBackground"),2<o||a||i||"8"==t||"9"==t||"11"==t?(n="zgs19_gsChatGroupIcon",u=_.getI18NMsg("gs.search.filter.cliq.groupchat"),"8"==t?"1"==i?(u=_.getI18NMsg("gs.search.filter.cliq.orgchannel"),n="zgs19_gsCliqOCI"):"2"==i?(u=_.getI18NMsg("gs.search.filter.cliq.teamchannel"),n="zgs19_gsCliqTCI"):"3"==i?(u=_.getI18NMsg("gs.search.filter.cliq.perschannel"),n="zgs19_gsCliqPCI"):"4"==i&&(u=_.getI18NMsg("gs.search.filter.cliq.extchannel"),n="zgs19_gsCliqECI"):"9"==t&&(u=_.getI18NMsg("gs.search.filter.cliq.bot"),n="zgs19_gsCliqBCI"),z(h.authorPhoto).attr("class","zgs19_gsResultsUniIcons zgs19_gsCqCOImg "+n)):l&&"-1"!==l?(g="zgs20_gsChatCalloutUserImg"+(c=z(h).attr("ccount")),z(h.authorPhoto).attr("id",g),n=_.getUserStatus(l).name||"",z(h.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+n),l=_.getThumbPhotoURL(l),_.renderCalloutUserPhoto(g,l),z(h.owner).addClass("zgs19_gsCurPointer"),z(h.userBgColor).addClass("zgs19_gsUserBackground")):(g="zgs20_gsChatCalloutUserImg"+(c=z(h).attr("ccount")),z(h.authorPhoto).attr("id",g),_.loadCalloutNoPhotoImg(g)),z(h.authorPhoto).attr("gstitle",u),m.setCliqCalloutEleSize(h),z(h.calloutFooter).empty().show(),_.isExtension||_.isEmbedDashboardEnabled?(z(h).show(),z(h.previewHolder).show(),z(h.calloutFooter).removeClass("zgs19_gsWMSCalloutFooter").addClass("zgs19_gsCliqBtnOuter"),u={gs:"cliqApp",service:v.CLIQ,previewHolder:"calloutFooter",content:_.getI18NMsg("gs.search.result.cliq.callout.open_in_app")},_.obtainAppOpenBtn(h,u)):(m.checkForRenderTranscript(s,h),_.hasOwnProperty("gscomponent")&&1==_.gscomponent.UIType&&_.GSConstant.isContinueChatEnabled&&((p==_.dbCrdCalloutType||p===_.crdPagecalloutType)&&_.isDashboardViewOpened()&&_.gscardinDb.isCardMaximised||_.isCardPageOpened&&_.gscards.isCardPreviewPageOpened()||"search"==p)&&m.addContinueHTMLElem(h.calloutFooter)),d.iconDisplay&&(z(h.maxpreview).show(),z(h.minpreview).hide())),(_.getCurrentSelectedElem()||_.hasOwnProperty("pccomponent")&&_.pccomponent||r)&&(_.hideCalloutLoader(d),z(h).show()),c=z(h).attr("ccount"),_.curCalloutCount==c&&setTimeout(function(){z("#zgs20_gsCqC2").css("margin-block-start","0px")},500),m.addCalloutActionList(h),_.calloutVisitRequest(),z(h.calloutFooter).scrollLeft(0),z(h.calloutFooter).scrollTop(z(h.calloutFooter)[0].scrollHeight))},m.clearChatPreview=function(e){_.gscliq.clearPreviewList(),z(e).find("#zgs20_gsChatPreview").empty().hide()},m.isWMSBARCSSLoaded=m.isWMSBARCSSLoaded||!1,_.isCssFileloadedCheckCalled||(_.isCssFileloadedCheckCalled=!0,m.isWMSBARCSSLoaded=!!_.isCliqDomain||_.isCssFileloadedCheck("wmsbar.css"),_.hasWMSTranscript=!!_.hasWMSTranscript&&m.isWMSBARCSSLoaded),m.showBtn=function(e){z(e).show(),z(e.previewHolder).show(),z(e.calloutFooter).removeClass("zgs19_gsWMSCalloutFooter").addClass("zgs19_gsCliqBtnOuter");var s={gs:"cliqApp",service:v.CLIQ,previewHolder:"calloutFooter",content:_.getI18NMsg("gs.search.result.cliq.callout.open_in_app")};_.obtainAppOpenBtn(e,s)},m.checkForRenderTranscript=function(e,s){var t,a;_.hasWMSTranscript?m.renderCliqTranscript(e,s):m.isWMSBARCSSLoaded?(t=(new Date).getTime(),a=setInterval(function(){m.updateWMSTranscript(),3e4<(new Date).getTime()-t&&(clearInterval(a),m.showBtn(s)),_.hasWMSTranscript&&(clearInterval(a),m.renderCliqTranscript(e,s))},500)):m.showBtn(s)},m.updateWMSTranscript=function(){_.hasWMSTranscript||(_.hasWebMessanger=_.hasWebMessanger||"undefined"!=typeof WebMessanger&&!_.isUBIDomain(),_.hasWMSTranscript=!(!_.hasWebMessanger||_.isUBIDomain())&&void 0!==WebMessanger.renderTranscript)},m.renderCliqTranscript=function(e,s){z(s.calloutFooter).removeClass("zgs19_gsCliqBtnOuter").addClass("zgs19_gsWMSCalloutFooter");var t=e.sid||"",a=e.msg||e.muid||e.fn||e.fc?e.mT:"";WebMessanger.renderTranscript(s.calloutFooter,e.cid,a,t)},m.getContinueHTMLElem=function(){var e=_.getI18NMsg("gs.search.filter.cliq.continue");return z("<div>",{id:"zgs20_gsCqC2Outer",class:"zgs19_gsCqC1 zgs19_gsBorderBox zgs19_gsOverflow"}).append(z("<div>",{id:"zgs20_gsCqC2",class:"zgs19_gsCqC2 zgs19_gsBorderBox",gs:"continuechat",service:v.CLIQ}).text(e))},m.addContinueHTMLElem=function(e){var s=m.getContinueHTMLElem();z(e).append(s)},m.addCalloutActionList=function(e){var s=e.getElementsByClassName("zgs19_gsCalloutActionList");z(s).empty().remove(),z(e.calloutActionHolder).append(z("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var s=e.getElementsByClassName("zgs19_gsCalloutActionList"),t=m.actionList,a=t.length,r=0;r<a;r++){var o,i,n=t[r];for(o in n)_.savePreviewNeeded(o)&&(i=_.getI18NMsg(n[o]),z(s).append(z("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:o,service:v.CLIQ,gstitle:i}).text(i)))}_.Utils.constructSaveBookmarkInCallout(s,v.CLIQ)},m.setServiceEleSize=function(e,s,t){t=t||_.getTargetElem("zgs20_gsCliqCallout");_.setGSTagElems(t),m.setCliqCalloutEleSize(t),e&&z("#"+e).css("height",s+"px")},m.setPreviewList=function(e){_.isArrayContain(e,m.catchedPreview)||m.catchedPreview.push(e)},m.getPreviewList=function(){return m.catchedPreview||[]},m.clearPreviewList=function(){if("undefined"!=typeof WmsUIImpl)try{for(var e=m.getPreviewList();0<e.length;){var s=e.pop();WmsUIImpl.closeChatWindow(s)}}catch(e){_.throwClientError("Unable to close chat from WMS which is opened via Zia search. ",e)}m.catchedPreview=[]},m.registerCliqPreviewTemplate=function(l,n){var e="undefined"!=typeof WmsUIImpl;_.GSConstant.isContinueChatEnabled&&e&&(WmsUIImpl.getChatWindowContainer=function(e,s,t,a,r){_.gsaction.currSearchType=(new _.dashboardSearchActions).createActionType(),_.gsaction.currSearchType.hasOwnProperty("setCardFromCallout")&&_.gsaction.currSearchType.setCardFromCallout(l);var o=_.gsaction.currSearchType?_.gsaction.currSearchType.getServiceName():{},i=_.gsaction.currSearchType.getCurrentResultObj(),n=m.getPreviewList();if(v.CLIQ==o&&((_.isDashboardViewOpened()?z(l.MobDisableFields):z(l).find(".zgs18_gsContinueChat")).removeClass("zgs19_gsHideEleme"),i&&i.cid==e&&_.isArrayContain(e,n)))return z(l).find(".zgs19_gsChatPreview")[0]},WmsUIImpl.handleChatWindowClose=function(e,s,t,a){_.gsaction.currSearchType=(new _.dashboardSearchActions).createActionType(),_.gsaction.currSearchType.hasOwnProperty("setCardFromCallout")&&_.gsaction.currSearchType.setCardFromCallout(l);var r=_.gsaction.currSearchType?_.gsaction.currSearchType.getServiceName():{},o=_.gsaction.currSearchType.getCurrentResultObj(),i=m.getPreviewList();v.CLIQ==r&&o&&o.cid==s&&_.isArrayContain(s,i)&&(a&&_.gscliq.clearChatPreview(l),(_.isDashboardViewOpened()?z(l.MobDisableFields):z(l).find(".zgs18_gsContinueChat")).removeClass("zgs19_gsHideEleme"))},WmsUIImpl.getChatWindowOptions=function(e,s,t,a,r,o){var i=m.getPreviewList();if(n&&n.cid==e&&_.isArrayContain(e,i))return{minimize:"disable"}})},m.getPreviewCrdParams=function(){var e=_.getCurrentResObj(),s={entity_id:e.cid,mT:e.mT};return e.sid&&(s.sid=e.sid),s},m)}(zgssearch),function(p,e){var u,r=e.document,h=e._jQueryGS,_=p.getGSConstantObj()||{};p.gsworkdrive=(u=void 0,(u=p.gsworkdrive||{}).actionList=[{open:"common.open"},{download:"gs.search.result.document.download"},{properties:"gs.search.result.workdrive.callout.properties"},{favourites:"gs.search.add_to_favourite"},{copyLink:"gs.search.callout.copylink"},{savePreview:"gs.search.callout.savePreviewCard"},{label:"gs.action.label"},{shareInWD:"common.share"}],u.getCalloutHolder=function(){return"zgs20_gsWorkDriveCallout"},u.calloutParams=function(e){return"searchType="+(e.serviceName||p.getCurSelectedEleAttr("service"))+"&id="+e.dId},u.createCalloutTemplate=function(e,s){var t,a,r,o,i,n=s.calloutId;h("#"+n).length<=0&&(t=p.getI18NMsg("gs.search.sevice_prevmax"),a=p.getI18NMsg("gs.search.sevice_prevmin"),r=p.getI18NMsg("gs.search.result.document.download"),o=p.getI18NMsg("common.new_tab"),i=p.getFourDotLoader("zgs20_gsWorkDrivePrevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader zgs19_gsDisplayNone"),i=h("<div>",{id:n,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(h("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(h("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(h("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:_.WORKDRIVE,target:"_blank",rel:"noopener noreferrer"}))).append(h("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:o,service:_.WORKDRIVE})).append(h("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(h("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(h("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:_.WORKDRIVE})).append(h("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(h("<div>",{class:"zgs18_gsWDShareIcon zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:p.getI18NMsg("common.share"),gs:"shareInWD"})).append(h("<div>",{class:"zgs18_gsCalloutDownloadIcon zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:r,gs:"workdrivedownload"})).append(h("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(h("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:t,gs:"maxpreview",service:_.WORKDRIVE})).append(h("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:a,gs:"minpreview",service:_.WORKDRIVE}))))).append(h("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(h("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(h("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(h("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(h("<img>",{class:"zgs19_gsFetchLoader",src:p.gsspacer,gs:"authorPhoto"})))).append(h("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(h("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(h("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(h("<span>",{gs:"startedBy"}))).append(h("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsUserBackground zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid55Per"}).append(h("<span>",{class:"zgs19_gsCurPointer",gs:"owner",istip:!0}))).append(h("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(h("<span>",{gs:"date"}))))))).append(h("<div>",{class:"zgs19_gsDocsCalloutFooter zgs19_gsWorkdriveCalloutFooter zgs19_gsDocsCalloutNoPadding zgs19_gsOverflowHidden",gs:"calloutFooter"}).append(i).append(h("<div>",{id:"zgs20_gsDocsPreviewHolder",class:"zgs19_gsDocsPreviewHolder",gs:"docspreviewHolder"}))),h(s.parentElem).append(i)),h("#"+n).attr("ccount",e)},u.setWorkDriveCalloutEleSize=function(e){var s,t;e&&(s=0<h(e.header).length?40:0,t=0<h(e.metaInfo).length?70:0,t=h(e).height()-(s+t),p.isMobViewport()&&(t-=p.getLHSServicePaneHeight()),h(e.calloutFooter).css("height",t+"px"),t=h(e).width(),h(e.calloutFooter).css("width",t+"px"))},u.calloutResponse=function(e,s,t,a){var r,o,i=!(!p.isExtension||!p.thirdPartyCookieDisabled),n=a.searchObj,l=p.getTargetElem(n.calloutId);l&&(p.setGSTagElems(l),p.setGSTagElems(t),h(l.shareInWD).css("display","none"),r=h(l).attr("ccount"),h(l.ctitle).attr("href",p.fetchCalloutUrl(_.WORKDRIVE,s,"",e)),a=s.dN||"",h(l.ctitle).empty().text(a).attr("gstitle",a),t=s.zuid,h(l.authorPhoto).attr("src",p.gsspacer),h(l.authorPhoto).attr("class","zgs19_gsFetchLoader"),a="zgs20_gsDocsCalloutUserImg"+r,h(l.authorPhoto).attr("id",a),r=p.getUserStatus(t),h(l.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),"-1"!==t&&void 0!==t?(o=r.name||"",h(l.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+o),o=p.getThumbPhotoURL(t),p.renderCalloutUserPhoto(a,o)):p.renderCalloutNoUserPhoto(a),o=s.shared?p.getI18NMsg("common.shared_by"):p.getI18NMsg("common.owned_by"),h(l.startedBy).empty().text(o).attr("gstitle",o),h(l.owner).empty().text(s.auth).attr("gstitle",s.auth),h(l.date).empty().text(s.time).attr("gstitle",s.time),h(l.workdrivedownload).hide(),i||u.renderWorkDrivePreview(l,s),a=n.iconDisplay,"true"!==s.isF?e.canDownload&&(h(l.workdrivedownload).show(),h(l.ctitle).attr("gslabel",p.getI18NMsg("gs.search.result.document.documentName"))):(h(l.ctitle).attr("gslabel",p.getI18NMsg("gs.search.result.document.folderName")),a||h(l.actionPipe).hide()),o=h(l).find(".zgs19_gsCalloutMetaLeft"),u.addLabelList(e.fileInfo.labels,o),a&&(h(l.maxpreview).show(),h(l.minpreview).hide()),a=p.isPreviewCard(n),(p.getCurrentSelectedElem()||p.hasOwnProperty("pccomponent")&&p.pccomponent||a)&&(p.hideCalloutLoader(n),h(l).show()),h(l.calloutFooter).scrollTop(0),h(l.calloutFooter).scrollLeft(0),u.addCalloutActionList(l,s,e),e.canShare&&0!=p.gscomponent.UIType&&!p.isExtension&&h(l.shareInWD).css("display","block"),i&&(h(l.docspreviewHolder).empty().show(),h(l.docspreviewHolder).css("visibility","visible"),i={gs:"workDriveApp",service:_.WORKDRIVE,previewHolder:"docspreviewHolder",content:p.getI18NMsg("gs.search.result.workdrive.callout.open_in_app")},p.obtainAppOpenBtn(l,i)))},u.addLabelList=function(t,e){var a=t.length;if(h(e).find(".zgs19_gsCallOutLabelsElement").remove(),0<a){var r=h("<div>",{class:"zgs19_gsCallOutLabelsElement"});let s=3;s>=a&&(s=a);for(let e=0;e<s;e++){var o=h("<div>",{class:"zgs19_gsCallOutLabels",labelId:t[e].id}).append(h("<span>",{class:"zgs19_gsCallOutLabelsIcon zgs18_gsLabelIcon",style:"color:#"+t[e].color})).append(h("<span>",{class:"zgs19_gsCallOutLabelName zgs19_gsOverflow",gstitle:t[e].name}).text(t[e].name));h(r).append(o)}a>s&&(a=h("<div>",{class:"zgs19_gsMoreLabels",gs:"moreLabel"}).text("+"+(a-s)),h(r).append(a)),h(e).append(r)}},u.renderMoreLabelPopUp=function(e,s,t){var a=h("<div>",{class:"zgs19_gsMoreLabelsPopUp",gs:"moreLabels"});for(let e=3;e<s.length;e++){var r=s[e].name||s[e],r=h("<div>",{class:"zgs19_gsCallOutLabels",labelId:s[e].id,gs:"moreLabels"}).append(h("<span>",{class:"zgs19_gsCallOutLabelsIcon zgs18_gsLabelIcon",style:"color:#"+s[e].color})).append(h("<span>",{class:"zgs19_gsCallOutLabelName zgs19_gsOverflow",gstitle:r}).text(r));h(a).append(r)}t=h(e).closest(t);h(t).append(a);e=Math.floor(h(e).offset().left-h(e).closest(".zgs19_gsCalloutMetaLeft").offset().left);h(a).css("left",e+"px")},u.addCalloutActionList=function(e,s,t){var a=e.getElementsByClassName("zgs19_gsCalloutActionList");h(a).empty().remove(),h(e.calloutActionHolder).append(h("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var a=e.getElementsByClassName("zgs19_gsCalloutActionList"),r=u.actionList,o=r.length,i=0;i<o;i++){var n,l=r[i];for(n in l){var g=p.getI18NMsg(l[n]);if("download"==n){var c=s.isF,d=_.downloadServer;if(!t.canDownload||!d&&"null"===d||"true"===c)continue}if(("shareInWD"!=n||t.canShare&&!p.isExtension)&&p.savePreviewNeeded(n)){if("label"==n){let e=p.serviceActionDetails?.workdrive?.labels?.[s.zsoid];if(e&&(0==e.length||0==e.filter(e=>3!==e.type).length))continue}"favourites"==n&&(g=t.isFav?p.getI18NMsg("gs.search.remove_from_favourite"):p.getI18NMsg("gs.search.add_to_favourite")),g="label"==n?h("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox zgs19_gs"+n+"action",gs:"callout"+n+"Action",service:_.WORKDRIVE}).append(h("<span>",{class:"zgs19_gsMgRt5Px"}).text(g)).append(h("<span>",{class:"zgs18_gsarrowright zgs19_gsfr zgs19_gsMgLfAuto zgs19_gsFontSize13Px zgs19_gsMgTop4Px"})):h("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:n,service:_.WORKDRIVE}).text(g),h(a).append(g)}}}p.Utils.constructSaveBookmarkInCallout(a,_.WORKDRIVE)},u.openWorkDriveResult=function(e){var s=e.dId||e[p.entity_id],t=p.GSConstant.GS_WORKDRIVE_URL+"/preview/"+s,e=p.GSConstant.hasOwnProperty("SUPPORTED_THEME")?p.getTheme():"";t+="?theme=";s="white";try{("zsNavyMode"===e||"zsNightMode"===e||void 0!==localStorage&&1==localStorage.isNightModeEnabled)&&(s="grey")}catch(e){}return(t+=s)+"&"+p.originParam},u.downloadWorkDriveDocument=function(e){e=e.dURL||e.data.dURL;p.network.download_file(e)},u.renderWorkDrivePreview=function(e,s){u.setWorkDriveCalloutEleSize(e);var t=u.openWorkDriveResult(s);h(e.calloutFooter).addClass("zgs19_gsOverflowHidden");var a,s="";p.isIE?s=h("<div>",{class:"zgs19_gsCalloutErrorMsg",gstitle:a}).text(p.getI18NMsg("gs.e.common.iesupportmsg")):t&&"null"!==t?(h(e.loadericon).show(),h(e.docspreviewHolder).empty(),(s=r.createElement("iframe")).src=t,s.className="zgs19_Border0px zgs19_gsDocsIframeTag",s.setAttribute("frameborder","0"),s.setAttribute("allowfullscreen","true"),s.onload=function(){p.calloutVisitRequest(),setTimeout(function(){h(e.calloutFooter).removeClass("zgs19_gsOverflowHidden"),h(e.loadericon).hide()},500)}):(a=p.getI18NMsg("gs.search.sevice_docs_previewfolerr"),h(e.calloutLoader).hide(),s=h("<div>",{class:"zgs19_gsDocsPreviewError",gstitle:a}).text(a),h(e.docspreviewHolder).append(s),h(e.calloutFooter).removeClass("zgs19_gsOverflowHidden"),h(e.docspreviewHolder).css("visibility","visible")),h(e.docspreviewHolder).append(s),h(e.docspreviewHolder).css("visibility","visible")},u.setServiceEleSize=function(e,s,t){t=t||p.getTargetElem("zgs20_gsWorkDriveCallout"),p.setGSTagElems(t),u.setWorkDriveCalloutEleSize(t),e&&h("#"+e).css("height",s+"px")},u.getPreviewCard=function(e){u.constructPreviewForCrd(e);var s=p.getTargetElem(e.calloutId);p.setGSTagElems(s),u.renderWorkDrivePreview(s,e)},u.constructPreviewForCrd=function(e){var s;h("#"+e.calloutId).length<=0&&(s=p.getFourDotLoader("zgs20_gsWorkDrivePrevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader zgs19_gsDisplayNone"),s=h("<div>",{id:e.calloutId,class:"zgs19_gsServiceCalloutHolder"}).append(h("<div>",{class:"zgs19_gsDocsCalloutFooter zgs19_gsDocsCalloutNoPadding zgs19_gsOverflowHidden",gs:"calloutFooter"}).append(s).append(h("<div>",{id:"zgs20_gsDocsPreviewHolder",class:"zgs19_gsDocsPreviewHolder",gs:"docspreviewHolder"}))),h(e.parentElem).append(s))},u.calloutErrorMsg=function(e,s){(p.getCurrentSelectedElem()||p.hasOwnProperty("pccomponent")&&p.pccomponent)&&(p.hideCalloutLoader(s),e="ERROR"===e?p.getI18NMsg("gs.search.error.generic_error_messege"):p.getI18NMsg("gs.search.result.website.status.callout.errortext"),p.calloutErrorPage(s,e))},u.showFileProperty=function(e,s=0){var t=e.dN,a=e.fileInfo,r=e.imgIcon+" zgs19_gsResultsUniIcons",o=a.formattedCreatedTime?" "+u.getPrepositionForTime(e.createdTimeMS)+" "+a.formattedCreatedTime:"",i=a.formattedModifiedTime?" "+u.getPrepositionForTime(e.modifiedTimeMS)+" "+a.formattedModifiedTime:"",t=p.actionHeaderElement(t,r,!0),r=h("<div>",{class:"zgs19_gsFilePropertyElem"}),i={"gs.search.result.workdrive.callout.Type":p.capitalizeFirstLetter(e.fT),"gs.search.sevice_docs_createdBy":a.createdBy+o,"gs.common.Modified_by":a.modifiedBy+i};p.gsworkdrive.constructPropertyElement(i,r),h(r).append(h("<div>",{class:"zgs19_gsPropertyEleme"}).append(h("<span>",{class:"zgs19_gsPropertyTitle"}).text(p.getI18NMsg("gs.search.result.workdrive.callout.permalink"))).append(h("<div>",{class:"zgs19_gsFlex"}).append(h("<a>",{class:"zgs19_gsPropertyResult zgs19_gsPropertyLink zgs19_gsOverflow",target:"_blank",rel:"noopener noreferrer",href:a.permalink}).text(a.permalink)).append(h("<span>",{class:"zgs18_gsCopyLink zgs19_gsWDCopyIcon",gs:"copyWDLink"})))),h("#zgs20_gsOverlayDialog").append(h("<div>",{class:"zgs19_gsBoxCentre"}).append(h("<div>",{class:"zgs19_gsActionsPopUp"}).append(t).append(r))),h("#zgs20_gsOverlayDialog").css("display","block")},u.constructPropertyElement=function(e,s){for(var t in e)h(s).append(h("<div>",{class:"zgs19_gsPropertyEleme"}).append(h("<span>",{class:"zgs19_gsPropertyTitle"}).text(p.getI18NMsg(t))).append(h("<span>",{class:"zgs19_gsPropertyResult zgs19_gsOverflow"}).text(e[t])))},u.getPrepositionForTime=function(e){return(new Date).toLocaleDateString()==new Date(e).toLocaleDateString()?p.getI18NMsg("common.at"):p.getI18NMsg("gs.search.calendar.callout.on")},u.getPreviewCrdParams=function(){var e=p.getCurrentResObj();return{account_id:e.accId||p.getResultAccountId(),entity_id:e.dId}},u)}(zgssearch,window),function(l,n){var g,r=n.document,c=n._jQueryGS,d=l.getGSConstantObj()||{};l.gswebsite=(g=void 0,(g=l.gswebsite||{}).actionList=[{open:"common.open",copyLink:"gs.search.callout.copylink",savePreview:"gs.search.callout.savePreviewCard"}],g.appInitKBContainerId="zgs20_gsASAPKBContent",g.getCalloutHolder=function(){return"zgs20_gsWebsiteCallout"},g.calloutParams=function(e){return"searchType="+(e.serviceName||l.getCurSelectedEleAttr("service"))+"&aId="+e.aId+"&portalId="+(e.pId||d.pId)},g.createCalloutTemplate=function(e,s){var t,a,r,o=s.calloutId;c("#"+o).length<=0&&(t=l.getI18NMsg("gs.search.sevice_prevmax"),a=l.getI18NMsg("gs.search.sevice_prevmin"),r=l.getFourDotLoader("zgs20_gsWebsitePrevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader"),r=c("<div>",{id:o,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(c("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(c("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(c("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:d.WEBSITE,target:"_blank",rel:"noopener noreferrer"}))).append(c("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",service:d.WEBSITE})).append(c("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(c("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(c("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:d.WEBSITE})).append(c("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(c("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(c("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:t,gs:"maxpreview",service:d.WEBSITE})).append(c("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:a,gs:"minpreview",service:d.WEBSITE}))))).append(c("<div>",{class:"zgs19_gsNoMetaCalloutFooter",id:"zgs20_gsWebsitepreviewHolder",gs:"content"}).append(c("<div>",{class:"zgs19_gsOverflowHidden zgs19_gsDisplayNone zgs19_gsw100h100",id:"zgs20_gsWebsitePreviewLoader"}).append(r)).append(c("<div>",{class:"zgs19_gsDisplayNone zgs19_gsw100h100",id:g.appInitKBContainerId})).append(c("<div>",{class:"zgs19_gsDisplayNone zgs19_gsVerticalScroll zgs19_gsKBContent",id:"zgs20_gsKBContent"})).append(c("<div>",{class:"zgs19_gsDisplayNone",id:"zgs20_gsBtnContent"}).append(c("<div>",{class:"zgs19_gsPreviewTxt",gs:"websitePageTxt"}).text(l.getI18NMsg("gs.search.result.website.callout.open_preview_page")).append(c("<div>",{class:"zgs19_gsTabOpenBtn",gs:"websitePage",service:d.WEBSITE}).text(l.getI18NMsg("gs.search.result.website.callout.open_page")))))),c(s.parentElem).append(r),l.attachDoubleClickPopUpEvent()),c("#"+o).attr("ccount",e)},g.openKBArticle=function(e,s,t){g.ZohoHCAsap.kbArticles.view({articleId:e,locale:t}),c("#"+g.appInitKBContainerId).css("display","block"),l.calloutVisitRequest(),g.hideContentLoader(s)},g.renderKBArticle=function(e,s,t){var a,r;g.ZohoHCAsap?g.openKBArticle(e,s,t):(a=l.httpstxt+"://"+d.ASAP_URL+"/portal/api/web/inapp/"+d.ASAP_SEARCH_INAPPID+"?orgId="+d.ASAP_ORGID,(r=new asapAppInstanceCreator(a,g.appInitKBContainerId,function(){g.ZohoHCAsap=r.getAsapClientApis(),g.isASAPLoaded=!0,g.openKBArticle(e,s,t)})).init(g.appInitKBContainerId))},g.isASAPLoaded=!1,g.loadASAPComponent=function(e,s,t){g.isASAPLoaded?g.renderKBArticle(e,s,t):l.network.loadSRIJSFile("js/helpASAP.js",g.renderKBArticle.bind(this,e,s,t))},g.showContentLoader=function(e){c(e).find("#zgs20_gsWebsitePreviewLoader").css("display","block")},g.hideContentLoader=function(e){c(e).find("#zgs20_gsWebsitePreviewLoader").css("display","none")},g.getKBContent=function(e,s){!(e=e||{})||""!==(e=e.answer||"")&&(g.loadCssAndObtainContent(e,s),g.loadDeskImagesWithDomain(s),c("#"+s.id+" #zgs20_gsKBContent").css("display","block"),g.hideContentLoader(s),l.calloutVisitRequest(),l.setScrollTopLeft(c("#"+s.id+" #zgs20_gsKBContent")))},g.calloutResponse=function(e,s,t,a){var r=a.searchObj,o=l.getTargetElem(r.calloutId);l.setGSTagElems(o),l.setGSTagElems(t);a=s.t||"";c(o.ctitle).html("").text(a).attr("gstitle",a),c(o.ctitle).attr("href",l.fetchCalloutUrl(d.WEBSITE,s,"",e)),t&&(i=c(t.resultTitle).attr("gslabel")||"",c(o.ctitle).attr("gslabel",i)),g.addCalloutActionList(o);a=l.isPreviewCard(r);r.iconDisplay&&(c(o.maxpreview).css("display","block"),c(o.minpreview).css("display","none"),c(o.actionPipe).css("display","block")),c(o).find("#zgs20_gsWebsitepreviewHolder").children().css("display","none"),(l.getCurrentSelectedElem()||l.hasOwnProperty("pccomponent")&&l.pccomponent||a)&&(l.hideCalloutLoader(r),c(o).css("display","block")),g.showContentLoader(o);var t=!1,i=s.aId||"",a=s.lang||"en";i?l.isIE||l.isExtension||n.hasOwnProperty("zmList")||d.hasOwnProperty("ziaOrigin")&&d.ziaOrigin===d.MAILS||"search"!==r.type?g.getKBContent(e,o):g.loadASAPComponent(i,o,a):0===s.cO?g.obtainPageOpenBtn(o):(i=(e=s.pk_id)+"?zgs=1",d.rD&&(i=l.httpstxt+"://"+d.rD+s.p+"?zgs=1"),c(o).find("#zgs20_gsWebsitepreviewHolder").removeClass("zgs19_gsWebsiteVP"),a=l.getCurrentSelectedElem(),g.currCalloutCount=(a||r).id,c(o).find("#zgs20_gsWebsiteVideoframe").remove(),s.tURL?(t=!0,c(o).find("#zgs20_gsWebsitepreviewHolder").addClass("zgs19_gsWebsiteVP"),a=c("<span>",{class:"zgs19_gsVideotime zgs19_gsVideotimeOuter zgs18_gsHPVideotime"}),a=l.obtainLineIconPaths("zgs18_gsHPVideotime",a,!0),videoEle=c("<div>",{class:"zgs19_resVideo"}).append(c("<a>",{href:e,target:"_blank"}).append(c("<img>",{src:s.tURL,class:"zgs19_gsHW100per zgs19_gsfl"})).append(a)),c(o.content).append(c("<div>",{id:"zgs20_gsWebsiteVideoframe",class:"zgs19_gsWebsiteVPOuter"})),c(o).find("#zgs20_gsWebsiteVideoframe").append(videoEle),a="",a=(l.isDashboardViewOpened()?c("#"+o.id):c(o)).find("#zgs20_gsWebsiteVideoframe"),l.calloutVisitRequest(),l.setScrollTopLeft(a),g.hideContentLoader(o),c(a).css("display","block"),g.setVideoPreviewPosition()):g.renderWebsitePagePreview(i,o,r));t=t?l.getI18NMsg("gs.search.callout.open_video_tab"):l.getNewTabTip(d.WEBSITE);c(o.clink).attr("gstitle",t)},g.loadCssAndObtainContent=function(e,s){var t;l.isExtension||(t=l.httpstxt+"://"+d.website_cssStaticServer+"/support/v1/css/zohohc-kb-article-theme.min.css",c('link[href="'+t+'"]')[0]||l.network.loadCSSFile(t)),c("#"+s.id+" #zgs20_gsKBContent").html("").append(e)},g.loadDeskImagesWithDomain=function(e){var s=c("#"+e.id+" #zgs20_gsKBContent").find("img"),t=s.length;if(0<t)for(var a=0;a<t;a++){var r=s[a],o=c(r).attr("src");o&&((o=-1!=o.indexOf("/ImageDisplayZSupportAPI?")?o.replace("/ImageDisplayZSupportAPI?","/ImageDisplayZSupport?"):o).startsWith("//")&&(o="https:"+o),c(r).attr("src",o))}},g.addCalloutActionList=function(e){var s=e.getElementsByClassName("zgs19_gsCalloutActionList");c(s).empty().remove(),c(e.calloutActionHolder).append(c("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var s=e.getElementsByClassName("zgs19_gsCalloutActionList"),t=g.actionList,a=t.length,r=0;r<a;r++){var o,i=t[r];for(o in i){var n=l.getI18NMsg(i[o]);l.savePreviewNeeded(o)&&c(s).append(c("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:o,service:d.WEBSITE,gstitle:n}).text(n))}}l.Utils.constructSaveBookmarkInCallout(s,d.WEBSITE)},g.obtainPageOpenBtn=function(e){c("#zgs20_gsBtnContent").css("display","block"),g.hideContentLoader(e),l.setGSTagElems(e),g.setPreviewBtnPosition(e)},g.setPreviewBtnPosition=function(e){var s=(c(e.content).height()-(c(e.websitePageTxt).height()+20))/2;c(e.websitePageTxt).css("margin",s+"px auto")},g.setVideoPreviewPosition=function(){var e=(c("#zgs20_gsWebsitepreviewHolder").height()-(c("#zgs20_gsWebsiteIframe").outerHeight(!0)+20))/2;c("#zgs20_gsWebsiteIframe").css("margin-block-start",e+"px")},g.renderWebsitePagePreview=function(e,t,a){try{c(t).find("#zgs20_gsWebsiteIframe").remove();var s=r.createElement("iframe");s.src=e,s.id="zgs20_gsWebsiteIframe",s.gs="websiteCalloutData",s.setAttribute("frameborder","0"),s.setAttribute("allowfullscreen","true"),l.Utils.addSandboxToEle(s),c(t.content).append(s),s.onload=function(e){setTimeout(function(){var e=l.isPreviewCard(a),s=(s=l.getCurrentSelectedElem())?s.id:"";(l.hasOwnProperty("pccomponent")&&l.pccomponent||g.currCalloutCount===s||e)&&(e="",e=(l.isDashboardViewOpened()?c("#"+t.id):c(t)).find("#zgs20_gsWebsiteIframe"),l.calloutVisitRequest(),l.setScrollTopLeft(e),g.hideContentLoader(t),c(e).css("display","block"))},100,e)},s.onerror=function(){g.calloutErrorMsg("",a)}}catch(e){l.throwClientError("Error while loading Website Page",e),g.calloutErrorMsg("",a)}},g.calloutErrorMsg=function(e,s){(l.getCurrentSelectedElem()||l.hasOwnProperty("pccomponent")&&l.pccomponent)&&(l.hideCalloutLoader(s),e="ERROR"===e?l.getI18NMsg("gs.search.error.generic_error_messege"):l.getI18NMsg("gs.search.result.website.status.callout.errortext"),l.calloutErrorPage(s,e))},g.setServiceEleSize=function(e,s,t){t=t||l.getTargetElem("zgs20_gsWebsiteCallout");l.setGSTagElems(t),g.setPreviewBtnPosition(t),g.setVideoPreviewPosition(),e&&c("#"+e).css("height",s+"px")},g.getPreviewCrdParams=function(){var e=l.getCurrentResObj(),s={entity_id:e.pk_id,portalId:e.pId||d.pId};return e.aId&&(s.aId=e.aId),e.aId&&(s.module="deskkb"),s},g)}(zgssearch,window),function(v,e){var f,d=e.document,C=e._jQueryGS,S=v.getGSConstantObj()||{};v.gscreator=(f=void 0,(f=v.gscreator||{}).actionList=[{open:"common.open",copyLink:"gs.search.callout.copylink",savePreview:"gs.search.callout.savePreviewCard"}],f.appsHeaderList={formList:"gs.search.result.creator.form",viewList:"gs.search.result.creator.view",pageList:"gs.search.result.creator.page"},f.getCalloutHolder=function(){return"zgs20_gsCreatorCallout"},f.calloutParams=function(e){return"searchType="+(e.serviceName||v.getCurSelectedEleAttr("service"))+"&appLinkName="+e.lN+"&appOwnerName="+encodeURIComponent(e.sN)},f.createCalloutTemplate=function(e,s){var t,a,r,o=s.calloutId;C("#"+o).length<=0&&(t=v.getI18NMsg("gs.search.sevice_prevmax"),a=v.getI18NMsg("gs.search.sevice_prevmin"),r=v.getFourDotLoader("zgs20_gsCreatorPrevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader zgs19_gsDisplayNone"),r=C("<div>",{id:o,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(C("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(C("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(C("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:S.CREATOR,target:"_blank",rel:"noopener noreferrer"}))).append(C("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:v.getNewTabTip(S.CREATOR),service:S.CREATOR})).append(C("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(C("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(C("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:S.CREATOR})).append(C("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(C("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(C("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:t,gs:"maxpreview",service:S.CREATOR})).append(C("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:a,gs:"minpreview",service:S.CREATOR}))))).append(C("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(C("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(C("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(C("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(C("<img>",{id:"zgs20_gsDocsCalloutUserImg",class:"zgs19_gsFetchLoader",src:v.gsspacer,gs:"authorPhoto"})))).append(C("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(C("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(C("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(C("<span>",{gs:"startedBy"}))).append(C("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid55Per"}).append(C("<span>",{class:"zgs19_gsCurPointer",gs:"owner",istip:!0}))).append(C("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per zgs19_directionltr"}).append(C("<span>",{gs:"date"}))))))).append(C("<div>",{class:"zgs19_gsCreatorCalloutFooter zgs19_gsOverflowHidden",id:"zgs20_gsCreatorCalloutFooter",gs:"calloutFooter"}).append(r).append(C("<div>",{class:"zgs19_gsDocsPreviewHolder",id:"zgs20_gsCreatorpreviewHolder",gs:"previewHolder"})).append(C("<div>",{class:"zgs19_gsDisplayNone",id:"zgs20_gsDisableBtnContent",gs:"content"}).append(C("<div>",{class:"zgs19_gsPreviewTxt",gs:"creatorPageTxt"}).append(C("<span>").text(v.getI18NMsg("gs.search.result.creator.disabled_app_info")).append(C("<div>",{class:"zgs19_gsTabOpenBtn zgs19_gsWid200px",gs:"creatorApp",service:S.CREATOR}).text(v.getI18NMsg("gs.search.result.creator.open_in_app"))))))),C(s.parentElem).append(r)),C("#"+o).attr("ccount",e)},f.setCreatorCalloutEleSize=function(e){var s,t;e&&(s=C(e.header).height(),t=C(e.metaInfo).height(),t=C(e).height()-(s+t),t-=C(e.calloutFooter).outerHeight(!0)-C(e.calloutFooter).height(),v.isMobViewport()&&(t-=v.getLHSServicePaneHeight()),C(e.calloutFooter).css("height",t+"px"))},f.calloutResponse=function(e,s,t,a){var r=a.searchObj,o=v.getTargetElem(r.calloutId);v.setGSTagElems(o),v.setGSTagElems(t);a=s.aN||"";C(o.ctitle).empty().text(a).attr("gstitle",a),C(o.ctitle).attr("href",v.fetchCalloutUrl(S.CREATOR,s,"",e)),t&&(i=C(t.resultTitle).attr("gslabel")||"",C(o.ctitle).attr("gslabel",i));var a=s.zuid,t="zgs20_gsDocsCalloutUserImg"+C(o).attr("ccount"),i=C(o.authorPhoto);i.attr("src",v.gsspacer),i.attr("class","zgs19_gsFetchLoader"),i.attr("id",t);i=v.getUserStatus(a);C(o.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),"-1"!==a&&void 0!==a?(n=i.name||"",C(o.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+n),n=v.getThumbPhotoURL(a),v.renderCalloutUserPhoto(t,n)):v.renderCalloutNoUserPhoto(t);var a=s.auth,n=void 0!==s.time?s.time:"",t=1==s.cg?v.getI18NMsg("gs.search.sevice_docs_createdBy",!0):v.getI18NMsg("common.shared_by");C(o.startedBy).empty().text(t).attr("gstitle",t),C(o.owner).empty().text(a).attr("gstitle",a),C(o.date).empty().text(n).attr("gstitle",n).attr("gslabel",v.getI18NMsg("gs.search.result.creator.createdDate")),r.iconDisplay&&(C(o.maxpreview).css("display","block"),C(o.minpreview).css("display","none"),C(o.actionPipe).css("display","block")),(v.getCurrentSelectedElem()||v.isPreviewCard(r))&&(v.hideCalloutLoader(r),C(o).show()),C(o.calloutFooter).scrollTop(0),C(o.calloutFooter).scrollLeft(0),f.addCalloutActionList(o),C(o.previewHolder).empty().show(),C("#zgs20_gsDisableBtnContent").css("display","none"),f.setCreatorCalloutEleSize(o),C(o).find("#zgs20_gsCreatorpreviewHolder").children().css("display","none"),e&&!C.isEmptyObject(e)?(C(o.previewHolder).removeClass("zgs19_gsFlex"),f.renderCreatorPreview(e,o,r,s)):null==e?(C(o.previewHolder).show(),C(o.loadericon).hide(),C(o).find("#zgs20_gsCreatorpreviewHolder").css("display","none"),e={gs:"creatorApp",service:S.CREATOR,previewHolder:"calloutFooter",content:v.getI18NMsg("gs.search.result.creator.callout.access_this_application")},v.obtainAppOpenBtn(o,e)):(C(o.previewHolder).hide(),C(o).find("#zgs20_gsCreatorpreviewHolder").css("display","none !important"),C(o.previewHolder).addClass("zgs19_gsFlex"),f.obtainDisablePageOpenBtn(o))},f.addCalloutActionList=function(e){var s=e.getElementsByClassName("zgs19_gsCalloutActionList");C(s).empty().remove(),C(e.calloutActionHolder).append(C("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var s=e.getElementsByClassName("zgs19_gsCalloutActionList"),t=f.actionList,a=t.length,r=0;r<a;r++){var o,i,n=t[r];for(o in n)v.savePreviewNeeded(o)&&(i=v.getI18NMsg(n[o]),C(s).append(C("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:o,service:S.CREATOR,gstitle:i}).text(i)))}v.Utils.constructSaveBookmarkInCallout(s,S.CREATOR)},f.openCreatorResult=function(e){var s=e.sN||decodeURIComponent(e.appOwnerName),t=e.lN||e.appLinkName,t=S.GS_APPCREATOR_URL+"/"+s+"/"+t;return e.aURL||t},f.obtainDisablePageOpenBtn=function(e){C("#zgs20_gsDisableBtnContent").css("display","block"),f.setPreviewBtnPosition(e)},f.setPreviewBtnPosition=function(e){var s=((C(e.calloutFooter).height()||0)-(C(e.creatorPageTxt).height()+20))/2;C(e.creatorPageTxt).css("margin",s+"px auto")},f.openFormOrView=function(e){let s=C(e)[0];f.loadCreatorFormView(s.getAttribute("value"),e.getAttribute("fkey"))},f.getFormOrViewOpenUrl=function(e,s,t){let a="";switch(s){case"formList":a="form-embed";break;case"viewList":a="view-embed";break;case"pageList":a="page-embed"}s=(t=t||v.getCurrentResObj()).sN,t=t.lN;return S.GS_APPCREATOR_URL+"/"+s+"/"+t+"/"+a+"/"+e+"?"+v.originParam},f.renderCreatorPreview=function(e,s,t,a){if(e&&"null"!==e){var r=!1,o=v.jsonParse(e);C("#zgs20_gsCreatorPrevLoader").show();var i=C(s.previewHolder).width()/2;v.removeEle(C("#zgs20_gsFormViewsFilterDataHolder")[0]),C(s.previewHolder).append(C("<div>",{class:"zgs19_gsCreatorListHolder zgs19_gsVisible",id:"zgs20_gsFormViewsFilterDataHolder",gs:"creatorListHolder"}));var n,l,g,c,d,p=i-22,u=v.gFilterData[v.GSConstant.CREATOR],h={},_="",m="",z=Object.keys(o).length;for(n in f.appsHeaderList)o.hasOwnProperty(n)&&(d=(l=o[n])[0][n.replace("List","")+"Count"],delete l[0],0<d&&(r=!0,g=v.getI18NMsg(f.appsHeaderList[n]),d=a.aN+" "+g,v.setFiltersDetails(h={},"type",n),v.setFiltersDetails(h,"data",l),v.setFiltersDetails(h,"title",d),v.setFiltersDetails(h,"current",""),d="zgs19_gsModuleFilterSerNameSelect",""===_&&(1<z?(c=l[1],d="",v.currCreatorFilterHeaderSelectedEleId="#zgs20_gs"+n):c=l[1],_=c.componentname,m=n,v.setFiltersDetails(h,"current",_)),C("#zgs20_gsFormViewsFilterDataHolder").append(C("<div>",{id:"zgs20_gsModuleFilterElem_"+n,class:"zgs19_gsModuleFilterElemHolder zgs19_gsModuleFilterNameHolderNew zgs19_gsBorderBox zgs19_gsCurPointer zgs19_gsfl",fkey:n,gs:"mFilterWidget",service:S.CREATOR,style:"max-width:"+i+"px;"}).append(C("<div>",{id:"zgs20_gs"+n,gsa:S.CREATOR+"_"+n,class:"zgs19_gsModuleFilterSerNameNew zgs19_tc2fa6ea zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl "+d,gstitle:g,style:"max-width: "+p+"px; "}).text(g)).append(C("<div>",{class:"zgs19_gsModuleFilterElemIcon zgs18_gsModuleFilterDownIcon zgs19_gsBorderBox zgs19_gsfl zgs19_gsModuleFilterElemIcon zgs19_gsVisibleHidden"}))),v.setFiltersDetails(u,n,h)));v.setFilterObj(S.CREATOR,u),v.addEventFormsViewsFilterElem(),C(s.calloutFooter).addClass("zgs19_gsOverflowHidden"),t&&!t.obtainAppOpenBtn&&r?f.loadCreatorFormView(_,m,s,t,a):(v.removeEle(C("#zgs20_gsFormViewsFilterDataHolder")[0]),C(s.previewHolder).show(),C(s.loadericon).hide(),C("#zgs20_gsCreatorpreviewHolder").css("display","block"),e={gs:"creatorApp",service:S.CREATOR,previewHolder:"calloutFooter",content:v.getI18NMsg("gs.search.result.creator.callout.access_this_application")},v.obtainAppOpenBtn(s,e))}else f.calloutErrorMsg("",t)},f.loadCreatorFormView=function(e,s,t,a,r){if(v.isExtension){C(t.creatorpreviewHolder).empty().show(),C(t.loadericon).hide(),C("#zgs20_gsFormViewsFilterDataHolder").remove();var o={gs:"creatorApp",service:S.CREATOR,previewHolder:"calloutFooter",content:v.getI18NMsg("gs.search.result.creator.callout.open_in_app")};v.obtainAppOpenBtn(t,o)}else{r=f.getFormOrViewOpenUrl(e,s,r),t=C(t?t.previewHolder:"#zgs20_gsCreatorpreviewHolder");try{v.removeEle(C("#zgs20_gsCreatorIframe")[0]),v.removeEle(C("#zgs20_gsCreatorIframePrevLoader")[0]);var i=v.getFourDotLoader("zgs20_gsCreatorIframePrevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader");t.append(i),C("#zgs20_gsCreatorIframePrevLoader").css("padding-top",C("#zgs20_gsCreatorPrevLoader").css("padding-top"));var n=d.createElement("iframe");n.src=r,n.id="zgs20_gsCreatorIframe",n.className="zgs19_Border0px zgs19_gsHW100per zgs19_gsVisibleHidden",n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen","true"),v.Utils.addSandboxToEle(n),n.onload=function(){v.calloutVisitRequest(),setTimeout(function(){C("#zgs20_gsCreatorIframePrevLoader").hide(),C("#zgs20_gsCreatorIframe").css("visibility","visible")},100)},t.append(n);var l=C("#zgs20_gsCreatorCalloutFooter").height(),g=C("#zgs20_gsFormViewsFilterDataHolder").outerHeight(!0)||0,c=l-g;C("#zgs20_gsCreatorIframe").css("inset-block-start",g),C("#zgs20_gsCreatorIframe").css("height",c+"px"),C("#zgs20_gsCreatorPrevLoader").hide(),C("#zgs20_gsCreatorpreviewHolder").css("display","block")}catch(e){v.throwClientError("Error while loading Creator's Form data",e),f.calloutErrorMsg("",a)}}},f.calloutErrorMsg=function(e,s){v.getCurrentSelectedElem()&&(v.hideCalloutLoader(s),C("#zgs20_gsCreatorpreviewHolder").css("display","block"),e="ERROR"===e?v.getI18NMsg("gs.search.error.generic_error_messege"):v.getI18NMsg("gs.search.result.creator.status.callout.errortext"),v.calloutErrorPage(s,e))},f.setServiceEleSize=function(e,s){var t=v.getTargetElem("zgs20_gsCreatorCallout");v.setGSTagElems(t),f.setCreatorCalloutEleSize(t),C("#"+e).css("height",s+"px")},f.getPreviewCrdParams=function(){var e=v.getCurrentResObj();return{appLinkName:e.lN,appOwnerName:encodeURIComponent(e.sN),entity_id:e.aId}},f)}(zgssearch,window),function(g){var c,d=window._jQueryGS,p=g.getGSConstantObj()||{};g.gswiki=(c=void 0,(c=g.gswiki||{}).actionList=[{open:"common.open"},{download:"gs.search.result.document.download"},{copyLink:"gs.search.callout.copylink"},{savePreview:"gs.search.callout.savePreviewCard"}],c.getCalloutHolder=function(){return"zgs20_gsWikiCallout"},c.calloutParams=function(e){var s=e.doc_id,t=e.ty,a=e.wId,r=e.wcId;return"searchType="+(e.serviceName||g.getCurSelectedEleAttr("service"))+"&docId="+s+"&wikiId="+a+"&wikiCatId="+r+"&type="+t},c.createCalloutTemplate=function(e,s){var t,a,r,o=s.calloutId;d("#"+o).length<=0&&(t=g.getI18NMsg("gs.search.sevice_prevmax"),a=g.getI18NMsg("gs.search.sevice_prevmin"),r=g.getI18NMsg("gs.search.service_people.status.in",!0),r=d("<div>",{id:o,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(d("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(d("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(d("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:p.WIKI,target:"_blank",rel:"noopener noreferrer"}))).append(d("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:g.getNewTabTip(p.WIKI),service:p.WIKI})).append(d("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(d("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(d("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:p.WIKI})).append(d("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(d("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(d("<div>",{class:"zgs18_gsCalloutDownloadIcon zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gs:"wikidownload"})).append(d("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:t,gs:"maxpreview",service:p.WIKI})).append(d("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:a,gs:"minpreview",service:p.WIKI}))))).append(d("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(d("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(d("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(d("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(d("<img>",{class:"zgs19_gsFetchLoader",src:g.gsspacer,gs:"authorPhoto"})))).append(d("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(d("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(d("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(d("<span>",{gs:"slabel"}))).append(d("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid55Per"}).append(d("<span>",{class:"zgs19_gsCurPointer",gs:"sender",istip:!0}))).append(d("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(d("<span>",{gs:"date"})))).append(d("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(d("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(d("<span>",{class:"zgs19_gsResIntxt zgs19_gsOverflow zgs19_gsfl",gs:"rlabel",gstitle:r}).text(r))).append(d("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid70Per",gs:"toaddress"}).append(d("<span>",{gs:"receiver",istip:!0}))))))).append(d("<div>",{class:"zgs19_gsCalloutFooter zgs19_gsWikiCalloutFooter zgs19_gsCalloutPopUp",gs:"calloutFooter"}).append(d("<div>",{class:"zgs19_gsCalloutContentInfo",gs:"content"}))),d(s.parentElem).append(r),g.attachDoubleClickPopUpEvent()),d("#"+o).attr("ccount",e)},c.setWikiCalloutEleSize=function(e){var s,t;e&&(s=d(e.header).height(),t=d(e.metaInfo).height(),t=d(e).height()-(s+t),g.isMobViewport()&&(t-=g.getLHSServicePaneHeight()),d(e.calloutFooter).css("height",t+"px"))},c.calloutResponse=function(e,s,t,a){var r=a.searchObj,o=g.getTargetElem(r.calloutId);g.setGSTagElems(o),g.setGSTagElems(t);var i=d(o).attr("ccount");d(o.ctitle).attr("href",g.fetchCalloutUrl(p.WIKI,s,"",e)),t&&(l=d(t.resultTitle).attr("gslabel")||"",d(o.ctitle).attr("gslabel",l));var n=s.zuid||"",a=s.dN||"",t=g.replaceHTMLEntity(s.title)||"",l=s.dT||"";d(o.ctitle).text(t).attr("gstitle",t),d(o.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),d(o.authorPhoto).attr("src",g.gsspacer),d(o.authorPhoto).attr("class","zgs19_gsFetchLoader");t="zgs20_gsWikiCalloutUserImg"+i;d(o.authorPhoto).attr("id",t),n&&"-1"!==n?(i=g.getUserStatus(n).name||"",d(o.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+i),n=g.getThumbPhotoURL(n),g.renderCalloutUserPhoto(t,n)):g.renderCalloutNoUserPhoto(t);t=g.getI18NMsg("gs.search.sevice_docs_createdBy",!0);d(o.slabel).empty().text(t).attr("gstitle",t),d(o.sender).empty().text(a).attr("gstitle",a),d(o.date).empty().text(l).attr("gstitle",l).attr("gslabel",g.getI18NMsg("gs.search.sevice_docs_lastModifiedTime")),d(o.rlabel).css("display","none"),d(o.receiver).css("display","none"),d(o.content).empty(),null!=e&&e&&(e.hasOwnProperty("wsName")&&(l=e.wsName||"",d(o.receiver).empty().text(l).attr("gstitle",l).attr("gslabel",g.getI18NMsg("gs.search.multi.database")),d(o.rlabel).css("display","block"),d(o.receiver).css("display","block")),0==s.ty&&e.hasOwnProperty("actualContent")&&(d(o.content).append(e.actualContent),s.domainAdded||c.checkWikiDataAndAddDomain(o.content,s,e),g.preventStylesFromParentDomain(o.content))),d(o.wikidownload).css("display","none"),1==s.ty&&d(o.wikidownload).css("display","block"),r.iconDisplay&&(d(o.maxpreview).css("display","block"),d(o.minpreview).css("display","none"),d(o.actionPipe).css("display","block"));e=g.isPreviewCard(r);(g.getCurrentSelectedElem()||e)&&(g.hideCalloutLoader(r),d(o).css("display","block")),d(o.calloutFooter).scrollTop(0),d(o.calloutFooter).scrollLeft(0),c.addCalloutActionList(o,s),c.setWikiCalloutEleSize(o),g.calloutVisitRequest()},c.addCalloutActionList=function(e,s){var t=e.getElementsByClassName("zgs19_gsCalloutActionList");d(t).empty().remove(),d(e.calloutActionHolder).append(d("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var t=e.getElementsByClassName("zgs19_gsCalloutActionList"),a=c.actionList,r=a.length,o=0;o<r;o++){var i,n=a[o];for(i in n){var l=g.getI18NMsg(n[i]);"download"===i&&1!=s.ty||!g.savePreviewNeeded(i)||d(t).append(d("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:i,service:p.WIKI,gstitle:l}).text(l))}}g.Utils.constructSaveBookmarkInCallout(t,p.WIKI)},c.downloadWikiDocument=function(e){e=c.openWikiResult(e,!0);g.network.download_file(e)},c.openWikiResult=function(e,s,t){var a=e.doc_id||t[g.entity_id],r=e.wId||t[g.account_id],o=e.ty,i=e.pId,t=e.title,e=e.wcId;if(void 0!==r&&""!==r&&"null"!==r&&e){i=p.GS_WIKI_URL+"/searchurl?docId="+a+"&catId="+e+"&wikiId="+r+"&parentId="+i+"&type="+o;return!s&&t&&"1"==o&&g.Utils.endsWithAny(t,[".xls",".xlsx",".ods","sxc",".doc",".docx",".sxw",".odt",".rtf",".odp",".pps",".ppt"])&&(i+="&m=edit"),i}},c.checkWikiDataAndAddDomain=function(e,s,t){var t=s.accId||t[g.account_id]||g.getResultAccountId(),a=c.getTruncatedSchemaURL(),r=s.wikiname||g.getFilterData(p.WIKI,"accounts","data",t);d(e).find("img").each(function(){var e="";(e=this.getAttribute("src")&&""!=this.getAttribute("src")?this.getAttribute("src"):e)&&0===e.indexOf("/")&&g.network.imageRenderer.renderImage(g.httpstxt+"://"+r+"."+a+e,null,function(e){d(this).attr("src",e)})}),d(e).find("a").each(function(){var e,s=this.getAttribute("href");s&&(0!=s.indexOf("http")&&0!=s.indexOf("mailto:")&&0!=s.indexOf("#")&&(e=0==s.indexOf("/")?"":"/",d(this).attr("href",g.httpstxt+"://"+r+"."+a+e+s)),this.removeAttribute("onclick"),this.setAttribute("target","_blank"),this.setAttribute("rel","noopener noreferrer"))})},c.getTruncatedSchemaURL=function(){var e=p.GS_WIKI_URL;if(e.indexOf(g.httpstxt+"://")<=0)return e=e.substring(e.indexOf(g.httpstxt+"://")+8,e.length)},c.calloutErrorMsg=function(e,s){var t=g.isPreviewCard(s);(g.getCurrentSelectedElem()||g.hasOwnProperty("pccomponent")&&g.pccomponent||t)&&(g.hideCalloutLoader(s),e="ERROR"===e?g.getI18NMsg("gs.search.error.generic_error_messege"):g.getI18NMsg("gs.search.result.wiki.status.callout.errortext"),g.calloutErrorPage(s,e))},c.setServiceEleSize=function(e,s,t){t=t||g.getTargetElem("zgs20_gsWikiCallout");g.setGSTagElems(t),c.setWikiCalloutEleSize(t),e&&d("#"+e).css("height",s+"px")},c.getPreviewCrdParams=function(){var e=g.getCurrentResObj(),s=e.accId||g.getResultAccountId();return{entity_id:e.doc_id,wikiCatId:e.wcId,type:e.ty,account_id:s,url:encodeURI(g.gswiki.openWikiResult(e,!1))}},c)}(zgssearch),function(b){var y,I=window._jQueryGS,e=b.getGSConstantObj()||{};b.gslearn=(y=void 0,(y=b.gslearn||{}).service=e.LEARN,y.actionList=[{open:"common.open",copyLink:"gs.search.callout.copylink"},{savePreview:"gs.search.callout.savePreviewCard"}],y.getCalloutHolder=function(){return"zgs20_gsLearnCallout"},y.createCalloutTemplate=function(e,s){var t,a,r,o,i,n=s.calloutId;I("#"+n).length<=0&&(t=b.getI18NMsg("gs.search.sevice_prevmax"),a=b.getI18NMsg("gs.search.sevice_prevmin"),i=b.getFourDotLoader("zgs20_gsLearnPrevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader"),r=I("<span>",{gs:"sharedIcon",class:"zgs18_learnSharedToHub zgs19_learnSharedTo zgs19_gsfl zgs19_gsDisplayNone",gstitle:b.getI18NMsg("gs.search.learn.manualsharedToHub")}),o=I("<div>",{gs:"modName",isCaps:!0,class:"zgs19_gsMxWid20Per zgs19_gsTextCaps zgs19_gsfr zgs19_gsOverflow zgs19_gsLearnCalloutFooterTxt"}),i=I("<div>",{id:n,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(I("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(I("<span>",{class:"zgs18_gsAttachIcon zgs19_gsCalloutAttachmentIcon zgs19_gsfl zgs19_gsDisplayNone",service:y.service,gs:"attachIcon"})).append(I("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(I("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:y.service,target:"_blank",rel:"noopener noreferrer"}))).append(r).append(I("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:b.getNewTabTip(y.service),service:y.service})).append(I("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(I("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(I("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:y.service})).append(I("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(I("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(I("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:t,gs:"maxpreview",service:y.service})).append(I("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:a,gs:"minpreview",service:y.service}))))).append(I("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(I("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(I("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(I("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(I("<img>",{id:"zgs20_gsDocsCalloutUserImg",class:"zgs19_gsFetchLoader",src:b.gsspacer,gs:"authorPhoto"})))).append(I("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(I("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(I("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(I("<span>",{gs:"ownedBy"}).text(b.getI18NMsg("gs.search.sevice_docs_createdBy",!0)))).append(I("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid55Per"}).append(I("<span>",{class:"zgs19_gsCurPointer",gs:"owner",istip:!0}))).append(I("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per zgs19_directionltr"}).append(I("<span>",{gs:"date"})))).append(I("<div>",{class:"zgs19_gsCalloutUserHeader zgs19_gsLearnCalloutFooterTxt zgs19_gsWid78PerImp",gs:"info"})).append(o)))).append(I("<div>",{class:"zgs19_gsPosRel zgs19_gsw100h100 zgs19_gsOverflowHidden",gs:"calloutFooter"}).append(i).append(I("<div>",{class:"zgs19_gsDocsPreviewHolder",id:"zgs20_gsLearnIframeHolder",gs:"previewHolder"})).append(I("<div>",{class:"zgs19_gsDocsPreviewHolder zgs19_gsDisplayNone",id:"zgs20_gsLearnpreviewHolder",gs:"contentHolder"}).append(I("<div>",{class:"zgs19_gsTabOpenBtnNew zgs19_gsOverflow",gs:"tabPage",service:y.service}).append(I("<div>",{class:"zgs19_gsMgRt5Px",gstitle:b.getNewTabTip(y.service)}).text(b.getI18NMsg("gs.search.result.learn.open_in_app"))).append(I("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:b.getNewTabTip(y.service),service:y.service}))))),I(s.parentElem).append(i),b.attachDoubleClickPopUpEvent()),I("#"+n).attr("ccount",e)},y.setLearnCalloutEleSize=function(s){if(s){var t=I(s.header).height(),a=I(s.metaInfo).height();let e=I(s).height()-(t+a);b.isMobViewport()&&(e-=b.getLHSServicePaneHeight()),I(s.calloutFooter).css("height",e+"px")}},y.showContentLoader=function(e){I(e).find("#zgs20_gsLearnPrevLoader").css("display","block")},y.hideContentLoader=function(e){I(e).find("#zgs20_gsLearnPrevLoader").css("display","none")},y.openInLearnBtn=function(e){I(e.contentHolder).css("display","block"),I(e.contentHolder).addClass("zgs19_gsHght100Per zgs19_gsDocsPreviewHolderBtn"),y.hideContentLoader(e)},y.calloutResponse=function(e,s,t,a){a=a.searchObj;let r=b.getTargetElem(a.calloutId);b.setGSTagElems(r),b.setGSTagElems(t),I(r.ctitle).attr("href",b.fetchCalloutUrl(y.service,s,"",e));let o="zgs19_gsMxWid75Per";I(r.sharedIcon).css("display","none"),s.hasOwnProperty("isP")&&"true"==s.isP&&(o="zgs19_gsCalMW30Pxof75",I(r.sharedIcon).css("display","block"));e=s.hasOwnProperty("title")?s.title.trim():"";ctitle=b.replaceHTMLEntity(e)||b.getI18NMsg("gs.search.service_connect.callout.noTitle"),I(r.ctitle).empty().text(ctitle).attr("gstitle",ctitle),I(r.ctitle).addClass(o),t&&(n=I(t.resultTitle).attr("gslabel")||"",I(r.ctitle).attr("gslabel",n));e=s.zuid,t="zgs20_gsDocsCalloutUserImg"+I(r).attr("ccount");let i=I(r.authorPhoto);i.attr("src",b.gsspacer),i.attr("class","zgs19_gsFetchLoader"),i.attr("id",t);var n=b.getUserStatus(e);I(r.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),"-1"!==e&&void 0!==e?(z=n.name||"",I(r.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+z),z=b.getThumbPhotoURL(e),b.renderCalloutUserPhoto(t,z)):b.renderCalloutNoUserPhoto(t);let l="",g="",c="",d="",p="",u="",h="",_=s.hasOwnProperty("atname"),m=(I("<span>",{class:"zgs19_gsOverflow zgs19_gsCurDefault"}).text(b.getI18NMsg("gs.search.service_books.by")),"zgs19_gsMxWid95Per");var z=s.hasOwnProperty("mD")&&s.hasOwnProperty("sD"),t=s.hasOwnProperty("mD")&&s.hasOwnProperty("sD")||s.hasOwnProperty("mD")&&_;if(m=t?"zgs19_gsMxWid45Per":m,m=z&&_?"zgs19_gsMxWid28Per":m,z&&(p=I("<div>",{class:"zgs19_gsfl zgs18_gsarrowright zgs19_gslearnArrow zgs19_gsFontSize10Px"})),s.hasOwnProperty("mD")){let e=b.jsonParse(s.mD);var v=e.name;e.hasOwnProperty("isPublic")&&"true"===e.isPublic&&(m="zgs19_gsMxWid32Per"==m?"zgs19_gsCalMW30Pxof32":"zgs19_gsMxWid95Per"==m?"zgs19_gsCalMW30Pxof95":"zgs19_gsCalMW30Pxof34",h=I("<span>",{class:"zgs19_gsfl zgs18_learnSharedToHub zgs19_learnSharedTo",gstitle:b.getI18NMsg("gs.search.learn.manualsharedToHub")}));var v=I("<div>",{gslabel:b.getI18NMsg("gs.search.learn.manualname"),gstitle:v,class:"zgs19_gsMxWid100Per zgs19_gsfl zgs19_gsOverflow"}).text(v);l=I("<div>",{class:m+" zgs19_gsfl zgs19_gsOverflow"}).append(v)}s.hasOwnProperty("sD")&&(v=b.jsonParse(s.sD).name,g=I("<div>",{gslabel:b.getI18NMsg("gs.search.learn.spacename"),gstitle:v,class:m+" zgs19_gsfl zgs19_gsOverflow"}).text(v)),_&&(b.jsonParse(s.sD),f=s.atname,c=I("<div>",{gslabel:b.getI18NMsg("gs.search.learn.articlename"),gstitle:f,class:m+" zgs19_gsfl zgs19_gsOverflow"}).text(f),u=I("<div>",{class:"zgs19_gsfl zgs18_gsarrowright zgs19_gslearnArrow zgs19_gsFontSize10Px"}));var f=s.m||"",f=b.gslearnutil.modVsDisplayName[f];I(r.modName).empty().text(f).attr("gstitle",f),g||l||c||(C=b.getFilterData(y.service,"accounts","data",b.getFilterInfo(y.service,"accounts","current")),S=I("<div>",{gslabel:b.getI18NMsg("common.hub"),gstitle:C,class:"zgs19_gsfl zgs19_gsOverflow zgs19_gsMxWid100Per"}).text(C),d=I("<div>",{class:"zgs19_gsfl zgs19_gsOverflow zgs19_gsMxWid95Per"}).append(S));var C=s.author,S=void 0!==s.time?s.time:"";I(r.owner).empty().text(C).attr("gstitle",C),I(r.date).empty().text(S).attr("gstitle",S).attr("gslabel",b.getI18NMsg("gs.search.result.creator.createdDate"));S=I("<span>",{class:"zgs19_gsResIntxt zgs19_gsOverflow zgs19_gsfl zgs19_gsPdngLf0Px",gstitle:b.getI18NMsg("gs.search.service_people.status.in",!0)}).text(b.getI18NMsg("gs.search.service_people.status.in",!0));I(r.info).empty().append(S).append(g).append(p).append(l).append(h).append(u).append(c).append(d).append(d),I(r.attachIcon).css("display","none"),"true"===s.hasAttach&&I(r.attachIcon).css("display","block"),y.showContentLoader(r),I(r.contentHolder).css("display","none"),I(r.contentHolder).removeClass("zgs19_gsHght100Per zgs19_gsDocsPreviewHolderBtn");b.GSConstant.isNightModeEnabled;S=y.openLearnResult(s,!0),s=s.m||"";y.renderLearnPreview(S,r,a,"ARTICLE"!==s&&"ATTACHMENT"!==s);s=b.isPreviewCard(a);a.iconDisplay&&!s&&(I(r.maxpreview).css("display","block"),I(r.minpreview).css("display","none"),I(r.actionPipe).css("display","block")),s?I(r.sender).removeClass("zgs19_gsCurPointer"):I(r.sender).addClass("zgs19_gsCurPointer"),(b.getCurrentSelectedElem()||b.hasOwnProperty("pccomponent")&&b.pccomponent||s)&&(b.hideCalloutLoader(a),I(r).css("display","block")),setTimeout(function(){I(r.calloutFooter).scrollTop(0),I(r.calloutFooter).scrollLeft(0)},0),y.addCalloutActionList(r),y.setLearnCalloutEleSize(r),b.calloutVisitRequest()},y.renderLearnPreview=function(s,t,a,e){if(b.isExtension||e)I(t.previewHolder).css("display","none"),y.openInLearnBtn(t);else{I(t.previewHolder).css("display","block");e=b.getCurrentSelectedElem();y.currCalloutCount=(e||a).id;try{I(t).find("#zgs20_gsLearnIframe").remove();let e=document.createElement("iframe");e.src=s,e.id="zgs20_gsLearnIframe",e.gs="learnCalloutData",e.className="zgs19_Border0px zgs19_gsHW100per",e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen","true"),b.Utils.addSandboxToEle(e),e.onload=function(e){setTimeout(function(){let e=b.getCurrentSelectedElem();if(e=e?e.id:"",y.hideContentLoader(t),b.hasOwnProperty("pccomponent")&&b.pccomponent||y.currCalloutCount===e||y.prevCrdCalloutId){let e="";e=(b.isDashboardViewOpened()?I("#"+t.id):I(t)).find("#zgs20_gsLearnIframe"),b.calloutVisitRequest(),b.setScrollTopLeft(e),I(e).css("display","block")}},100,e)},e.onerror=function(){y.calloutErrorMsg("",a)},I(t.previewHolder).append(e)}catch(e){b.throwClientError("Error while loading Learn Page",e),y.calloutErrorMsg("",a)}}},y.addCalloutActionList=function(e){var s=e.getElementsByClassName("zgs19_gsCalloutActionList");I(s).empty().remove(),I(e.calloutActionHolder).append(I("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));var s=e.getElementsByClassName("zgs19_gsCalloutActionList"),t=y.actionList,a=t.length;for(let e=0;e<a;e++){var r,o,i=t[e];for(r in i)b.savePreviewNeeded(r)&&(o=b.getI18NMsg(i[r]),I(s).append(I("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:r,service:y.service}).text(o)))}b.Utils.constructSaveBookmarkInCallout(s,y.service)},y.openLearnResult=function(e,s,t){var a=e.account_id||b.getResultAccountId()||t;let r=e.sD?b.jsonParse(e.sD).url:"",o=e.mD?b.jsonParse(e.mD).url:"";var i=e.m;let n=e.recordurl||"";var l=e.aturl||"";r=r?"/team/"+r:"",o=o?"/manual/"+o:"MANUAL"===i?"/manual/"+n:"";t=s?"?"+b.originParam:"",e=l?"/article/"+l+(s?"/preview"+t:"/preview?")+"#attachment_"+e.id:"";return n=n&&"MANUAL"!==i?"/article/"+n+"/preview"+t:l?e:"",b.GSConstant.GS_LEARN_URL+"/portal/"+b.learnSoidVsHubURL[a]+r+o+n},y.calloutErrorMsg=function(e,s){b.getCurrentSelectedElem()&&(b.hideCalloutLoader(s),e="ERROR"===e?b.getI18NMsg("gs.search.error.generic_error_messege"):b.getI18NMsg("gs.search.service_learn.callout.errortext"),b.calloutErrorPage(s,e))},y.setServiceEleSize=function(e,s,t){t=t||b.getTargetElem("zgs20_gsLearnCallout"),b.setGSTagElems(t),y.setLearnCalloutEleSize(t),e&&I("#"+e).css("height",s+"px")},y.getPreviewCrdParams=function(){var e=b.getCurrentResObj(),s=e.accId||b.getResultAccountId();return{entity_id:e.id,account_id:s,module:e.m,url:encodeURI(b.gslearn.openLearnResult(e,!1,s))}},y)}(zgssearch),function(c,e){var i=e.document,d=e._jQueryGS,p=c.getGSConstantObj()||{};c.gsnotebook=function(l){(l=c.gsnotebook||{}).actionList=[{open:"common.open",copyLink:"gs.search.callout.copylink",savePreview:"gs.search.callout.savePreviewCard"}];var g=c.gsnotebookresults||{};return l.getCalloutHolder=function(){return"zgs20_gsNoteBookCallout"},l.createCalloutTemplate=function(e,s){var t,a,r,o=s.calloutId;d("#"+o).length<=0&&(t=c.getI18NMsg("gs.search.sevice_prevmax"),a=c.getI18NMsg("gs.search.sevice_prevmin"),r=c.getFourDotLoader("zgs20_gsNoteBookPrevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader"),r=d("<div>",{id:o,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(d("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(d("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(d("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:p.NOTEBOOK,target:"_blank",rel:"noopener noreferrer"}))).append(d("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:c.getNewTabTip(p.NOTEBOOK),service:p.NOTEBOOK})).append(d("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(d("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(d("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:p.NOTEBOOK})).append(d("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(d("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(d("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:t,gs:"maxpreview",service:p.NOTEBOOK})).append(d("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:a,gs:"minpreview",service:p.NOTEBOOK}))))).append(d("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(d("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(d("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(d("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(d("<img>",{class:"zgs19_gsFetchLoader",src:c.gsspacer,gs:"authorPhoto"})))).append(d("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(d("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(d("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(d("<span>",{gs:"startedBy"}))).append(d("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid55Per"}).append(d("<span>",{class:"zgs19_gsCurPointer",gs:"owner",istip:!0}))).append(d("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(d("<span>",{gs:"date"})))).append(d("<div>",{class:"zgs19_gsCalloutUserHeader",gs:"nbNField"}).append(d("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl"}).append(d("<span>",{class:"zgs19_gsConnectMetaIn zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid25Px"}).text(c.getI18NMsg("gs.search.service_people.status.in",!0)))).append(d("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid310Px"}).append(d("<span>",{gs:"nbN"}))))))).append(d("<div>",{class:"zgs19_gsw100h100 zgs19_gsMetaCalloutFooter zgs19_gsOverflowHidden",id:"zgs20_gsNoteBookPreviewHolder",gs:"previewHolder"}).append(d("<div>",{class:"zgs19_gsOverflowHidden zgs19_gsDisplayNone zgs19_gsw100h100",id:"zgs20_gsNotebookPreviewLoader",gs:"previewLoader"}).append(r)).append(d("<div>",{class:"zgs19_gsDisplayNone",id:"zgs20_gsNotebookBtnContent",gs:"notebookBtnCont"}).append(d("<div>",{class:"zgs19_gsPreviewTxt",gs:"notebookPageTxt"}).text(c.getI18NMsg("gs.search.result.website.callout.open_preview_page")).append(d("<div>",{class:"zgs19_gsTabOpenBtn",gs:"notebookPage",service:p.NOTEBOOK}).text(c.getI18NMsg("gs.search.result.website.callout.open_page")))))).append(d("<div>",{class:"zgs19_gsDisplayNone",gs:"notebookIEContent"}).append(d("<div>",{class:"zgs19_gsCalloutErrorMsg"}).text(c.getI18NMsg("gs.e.common.iesupportmsg")))),d(s.parentElem).append(r),c.attachDoubleClickPopUpEvent()),d("#"+o).attr("ccount",e)},l.showContentLoader=function(e){d(e.previewLoader).css("display","block")},l.hideContentLoader=function(e){d(e.previewLoader).css("display","none")},l.calloutResponse=function(e,s,t){var a,r,o,i=t.searchObj,n=c.getTargetElem(i.calloutId);c.setGSTagElems(n),c.setGSTagElems(s),c.gsnotebookresults.unSupportedBrowser?(d("#zgs20_gsNoteBookCallout").children().css("display","none"),d(n).css("display","block"),d(n.notebookIEContent).css("display","block")):(g.nbClient.process(e),t=g.nbClient.getTitle()||e.name||c.getI18NMsg("gs.r.nb.untitled"),d(n.ctitle).text(t).attr("gstitle",t),d(n.ctitle).attr("href",c.fetchCalloutUrl(p.NOTEBOOK,e)),s&&(a=d(s.resultTitle).attr("gslabel")||"",d(n.ctitle).attr("gslabel",a)),t="zgs20_gsDocsCalloutUserImg"+d(n).attr("ccount"),(s=d(n.authorPhoto)).attr("src",c.gsspacer),s.attr("class","zgs19_gsFetchLoader"),s.attr("id",t),d(n.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),a=e.hasOwnProperty("owner_zuid")?e.owner_zuid:c.GSConstant.cun,s=c.getThumbPhotoURL(a),"-1"!==a&&void 0!==a?(r=c.getUserStatus(a).name||"",d(n.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+r),c.renderCalloutUserPhoto(t,s)):c.renderCalloutNoUserPhoto(t),r=c.GSConstant.cun,s=g.nbClient.getDate()||e.time,t=e.hasOwnProperty("owner_zuid")?c.getI18NMsg("common.shared_by"):c.getI18NMsg("common.owned_by"),d(n.startedBy).html("").text(t).attr("gstitle",t),d(n.owner).html("").text(r).attr("gstitle",r),d(n.date).html("").text(s).attr("gslabel",c.getI18NMsg("gs.search.sevice_docs_lastModifiedTime")).attr("gstitle",s),l.setPreviewBtnPosition(n),l.addCalloutActionList(n),i.iconDisplay&&(d(n.maxpreview).css("display","block"),d(n.minpreview).css("display","none"),d(n.actionPipe).css("display","block")),d(n.previewHolder).children().css("display","none"),(s=c.isPreviewCard(i))?d(n.owner).removeClass("zgs19_gsCurPointer"):d(n.owner).addClass("zgs19_gsCurPointer"),(c.getCurrentSelectedElem()||c.hasOwnProperty("pccomponent")&&c.pccomponent||s)&&(c.hideCalloutLoader(i),d(n).css("display","block")),l.showContentLoader(n),s=e.notecard_id,d(n.nbNField).css("display","none"),!s||""!==(o=e.nbN)&&(d(n.nbN).text(o).attr("gstitle",o),d(n.nbNField).css("display","block")),g.nbClient.isNewTabLoad()?l.obtainOpenBtn(n):(o=g.nbClient.getUrl(),l.renderNoteBookPreview(o,n,i)))},l.addCalloutActionList=function(e){var s=e.getElementsByClassName("zgs19_gsCalloutActionList");d(s).empty().remove(),d(e.calloutActionHolder).append(d("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var s=e.getElementsByClassName("zgs19_gsCalloutActionList"),t=l.actionList,a=t.length,r=0;r<a;r++){var o,i=t[r];for(o in i){var n=c.getI18NMsg(i[o]);c.savePreviewNeeded(o)&&d(s).append(d("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:o,service:p.NOTEBOOK,gstitle:n}).text(n))}}c.Utils.constructSaveBookmarkInCallout(s,p.NOTEBOOK)},l.getNotebookResultURL=function(e){var s=e.module,t=e.notecard_id||("notes"==s?e[c.entity_id]:""),s=e.notebook_id||("notebooks"==s?e[c.entity_id]:""),e=p.GS_NOTEBOOK_URL+"/app/index.html#/notebooks/"+s+"/notecards";return t?e+"/"+t:s?e:void 0},l.obtainOpenBtn=function(e){d(e.notebookBtnCont).css("display","block"),l.hideContentLoader(e),c.setGSTagElems(e),l.setPreviewBtnPosition(e)},l.setPreviewBtnPosition=function(e){var s=(d(e.previewHolder).height()-(d(e.notebookPageTxt).height()+20))/2;d(e.notebookPageTxt).css("margin",s+"px auto")},l.renderNoteBookPreview=function(e,s,t){if(c.isExtension){d(s.previewHolder).show(),l.hideContentLoader(s);var a={gs:"notebookApp",service:p.NOTEBOOK,previewHolder:"previewHolder",content:c.getI18NMsg("gs.search.result.notebook.callout.open_in_app")};c.obtainAppOpenBtn(s,a)}else{a=c.getCurrentSelectedElem();l.currCalloutCount=a.id;try{d(s).find(".zgs19_gsNoteBookIframe").remove();var r=i.createElement("iframe");r.src=e;var o="zgs20_gsNbIframe_"+(t.hasOwnProperty("cardNum")?t.cardNum:"search");r.id=o,r.className="zgs19_gsNoteBookIframe zgs19_gsw100h100",r.gs="notebookCalloutData",c.Utils.addSandboxToEle(r),r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen","true"),r.onload=function(){setTimeout(function(){var e=c.getCurrentSelectedElem();(c.hasOwnProperty("pccomponent")&&c.pccomponent||l.currCalloutCount===e.id)&&(c.calloutVisitRequest(),c.setScrollTopLeft(d("#"+o)),l.hideContentLoader(s),d(o).css("display","block"))},100)},r.onerror=function(){l.calloutErrorMsg("",t)},d(s.previewHolder).append(r)}catch(e){c.throwClientError("Error while loading Notebook Page",e),l.calloutErrorMsg("",t)}}},l.calloutErrorMsg=function(e,s){c.getCurrentSelectedElem()&&(c.hideCalloutLoader(s),e="ERROR"===e?c.getI18NMsg("gs.search.error.generic_error_messege"):c.getI18NMsg("gs.search.result.website.status.callout.errortext"),c.calloutErrorPage(s,e))},l.setServiceEleSize=function(e,s,t){t=t||c.getTargetElem("zgs20_gsNoteBookCallout");c.setGSTagElems(t),l.setPreviewBtnPosition(t),e&&d("#"+e).css("height",s+"px")},l.getPreviewCrdParams=function(){var e=c.getCurrentResObj(),s={entity_id:e.notecard_id||e.notebook_id,module:e.notecard_id?"notes":"notebooks"};return e.notecard_id&&(s.notebook_id=e.notebook_id),s},l}(void 0)}(zgssearch,window),function(f,e){var C,S=e.document,b=e._jQueryGS,y=f.getGSConstantObj()||{};f.gscampaign=(C=void 0,(C=f.gscampaign||{}).actionList=[{open:"common.open"},{copyLink:"gs.search.callout.copylink"},{savePreview:"gs.search.callout.savePreviewCard"}],C.getCalloutHolder=function(){return"zgs20_gsCampaignCallout"},C.calloutParams=function(e){var s=e.accId||f.getResultAccountId(),t=e.serviceName||f.getCurSelectedEleAttr("service");switch(s){case"1":var a=e.cty,r=e.cky,o=e.accId||f.getResultAccountId();return"searchType="+t+"&campaigntype="+a+"&campaignkey="+r+"&module=Campaigns&version="+(f.campaigns_version[o]||"");case"2":o=e.c_mail;return"searchType="+t+"&emailid="+encodeURIComponent(o)+"&module=Contacts";case"3":return"searchType="+t+"&listKey="+e.lKey+"&module=Lists"}return""},C.createCalloutTemplate=function(e,s){var t,a,r=s.calloutId;b("#"+r).length<=0&&(t=f.getI18NMsg("gs.search.sevice_prevmax"),a=f.getI18NMsg("gs.search.sevice_prevmin"),a=b("<div>",{id:r,class:"zgs19_gsServiceCalloutHolder"}).append(b("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(b("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(b("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:y.CAMPAIGNS,target:"_blank",rel:"noopener noreferrer"}))).append(b("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:f.getNewTabTip(y.CAMPAIGNS),service:y.CAMPAIGNS})).append(b("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(b("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(b("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:y.CAMPAIGNS})).append(b("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(b("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(b("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:t,gs:"maxpreview",service:y.CAMPAIGNS})).append(b("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:a,gs:"minpreview",service:y.CAMPAIGNS}))))).append(b("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(b("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(b("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(b("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(b("<span>",{class:"zgs19_gsResultsUniIcons",gs:"authorPhoto"})))).append(b("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(b("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(b("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl  zgs19_gsUserBackground zgs19_gsMxWid55Per",gs:"userBgColor"}).append(b("<span>",{class:"zgs19_gsCurPointer",gs:"owner",istip:!0}))).append(b("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per zgs19_directionltr"}).append(b("<span>",{gs:"date"})))).append(b("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(b("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per",gs:"receiverLabel"}).append(b("<span>",{class:"zgs19_gsConnectMetaIn zgs19_gsOverflow zgs19_gsfl",gs:"receiverin"}))).append(b("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsCurPointer zgs19_gsMxWid75Per",gs:"receiver"})))))).append(b("<div>",{class:"zgs19_gsCalloutFooter zgs19_gsOverflowHidden zgs19_gsCalloutPopUp",gs:"calloutFooter"}).append(b("<div>",{class:"zgs19_gscontPartHolder",gs:"calloutContentHolder"}).append(b("<div>",{class:"zgs19_gsCalloutDocsLeftPanel zgs19_gsfl"}).append(b("<span>",{class:"zgs18_gsCalloutlineIcon zgs19_gsfl zgs19_gsDisplayNone",gs:"lineicon"}))).append(b("<div>",{class:"zgs19_gsCalloutDocsRightPanel zgs19_gsfl",gs:"contactsCalloutData"}))).append(b("<div>",{class:"zgs19_gsDocsPreviewHolder zgs19_gsPdfAtDark zgs19_gsDisplayNone",gs:"campaignpreviewHolder"}))),b(s.parentElem).append(a),f.attachDoubleClickPopUpEvent()),b("#"+r).attr("ccount",e)},C.setCampaignsCalloutEleSize=function(e){var s,t;e&&(s=b(e.header).height(),t=b(e.metaInfo).height(),t=b(e).height()-s-t,t-=b(e.calloutFooter).outerHeight(!0)-b(e.calloutFooter).height(),f.isMobViewport()&&(t-=f.getLHSServicePaneHeight()),b(e.calloutFooter).css("height",t+"px"))},C.calloutResponse=function(e,s,t,a){var r=a.searchObj,o=f.getTargetElem(r.calloutId);if(f.setGSTagElems(o),e&&null!=e){var i=e.title||"";b(o.ctitle).empty().text(i).attr("gstitle",i);var n=s.accId||e[f.module_id]||b(t).attr("acc_id"),a=f.fetchCalloutUrlByAccId(y.CAMPAIGNS,s,n,e);b(o.ctitle).attr("href",a),t&&(l=b(t.resultTitle).attr("gslabel")||"",b(o.ctitle).attr("gslabel",l));t=s.cct||s.ct||s.mD||"";b(o.date).empty().text(t).attr("gstitle",t),b(o.receiverLabel).show(),b(o.contactsCalloutData).empty(),b(o.campaignpreviewHolder).empty(),b(o.calloutFooter).removeClass("zgs19_gsCalloutPopUp"),b(o.owner).removeClass("zgs19_gsCurPointer"),b(o.userBgColor).removeClass("zgs19_gsUserBackground"),b(o.receiver).removeClass("zgs19_gsCurPointer"),b(o.receiver).removeClass("zgs19_gsUserBackground"),b(o.calloutFooter).removeClass("zgs19_gsOverflowHidden").addClass("zgs19_gsVerticalScroll");var l=e.campaign_preview||s.cpr||"",t=n;if("1"==t){var g,n=e.campaign_status||s.cst||"",c=f.getI18NMsg("common.status");b(o.receiver).empty().text(n).attr("gstitle",n),b(o.receiverin).empty().text(c.toLowerCase()).attr("gstitle",c.toLowerCase()),b(o.authorPhoto).attr("class","").addClass("zgs18_gsCampIcon zgs19_gsCampaignsCOImg"),i=e.ES||e.AES||e.BES||s.title||"",b(o.owner).empty().text(i).attr("gstitle",i),l&&"null"!=l?f.isExtension?(b(o.campaignpreviewHolder).empty().show(),b(o.loadericon).hide(),b(o).show(),n={gs:"campaignApp",service:y.CAMPAIGNS,previewHolder:"campaignpreviewHolder",content:f.getI18NMsg("gs.search.result.campaigns.callout.open_in_app")},f.obtainAppOpenBtn(o,n)):((g=S.createElement("iframe")).src=C.formatCampaignPrevURL(l),g.setAttribute("frameborder","0"),g.setAttribute("allowfullscreen","true"),g.className="zgs19_Border0px zgs19_gsDocsIframeTag",f.Utils.addSandboxToEle(g),g.onload=function(){setTimeout(function(){b(o.campaignpreviewHolder).css("visibility","visible")},500)}):(b(o.calloutFooter).removeClass("zgs19_gsVerticalScroll"),l=f.getI18NMsg("gs.search.campaign.callout.nocontent"),b(o.campaignpreviewHolder).append(b("<div>",{class:"zgs19_gsDocsPreviewError",gstitle:l}).text(l)),b(o.campaignpreviewHolder).css("visibility","visible")),b(o.calloutContentHolder).hide(),b(o.campaignpreviewHolder).append(g).show()}else{if(b(o.calloutContentHolder).show(),b(o.campaignpreviewHolder).hide(),b(o.owner).empty().text(i).attr("gstitle",i),b(o.calloutFooter).addClass("zgs19_gsCalloutPopUp"),"2"==t){var d=s.c_mail||e.CE||"";b(o.receiverin).empty(),b(o.receiverLabel).hide(),b(o.receiver).empty().text(d).attr("gstitle",d),b(o.authorPhoto).attr("class","").addClass("zgs18_gsCampContIcon zgs19_gsCampaignsCOImg"),e.CE=e.CE&&"null"!=e.CE?e.CE:d;var p=["CE","SE"],u=["WE","FH","LH","TH"],h={NO:"common.notes",CI:"gs.search.campaign.callout.city",ST:"gs.search.campaign.callout.state",PH:"common.phone",MO:"common.mobile",CO:"gs.search.campaign.callout.country",AD:"common.address",ZC:"gs.search.campaign.callout.zipcode",WE:"common.website",JT:"gs.search.campaign.callout.job",CN:"gs.search.campaign.callout.company",CE:"gs.search.campaign.callout.email",CS:"gs.search.campaign.callout.campaignscore",TH:"gs.search.campaign.callout.twitter",FH:"gs.search.campaign.callout.facebook",LH:"gs.search.campaign.callout.linkedin",SE:"common.secondary_email"};for(_ in e)h.hasOwnProperty(_)&&e[_]&&"null"!=e[_]&&(m=(m=e[_]||"").replace(/\n|\r/g," "),z=f.getI18NMsg(h[_]),-1!=p.indexOf(_)?f.renderContactsEmailId(o,o.contactsCalloutData,z,m):-1!=u.indexOf(_)?f.renderInstantORWebInfo(o,o.contactsCalloutData,"url",z,m.split()):f.renderContactsInfo(o,o.contactsCalloutData,z,m));"search"==r.type&&b(o.owner).addClass("zgs19_gsCurPointer"),b(o.userBgColor).addClass("zgs19_gsUserBackground")}else if("3"==t){d=s.oNam||"",c=f.getI18NMsg("gs.search.sevice_docs_createdBy",!0);b(o.receiver).empty().text(d).attr("gstitle",d),b(o.receiverin).empty().text(c).attr("gstitle",c),b(o.authorPhoto).attr("class","").addClass("zgs18_gsCampListIcon zgs19_gsCampaignsCOImg"),b(o.receiver).addClass("zgs19_gsUserBackground zgs19_gsCurPointer");var _,m,z,v=e.CS||{};for(_ in h={no_of_active:"common.contact",no_of_unsub:"gs.search.campaign.callout.unsubscribes",sent_count:"gs.search.service_campaigns",no_of_bounce:"gs.search.campaign.callout.bounces"})v.hasOwnProperty(_)&&"null"!=v[_]&&(m=""+(v[_]||"0"),z=f.getI18NMsg(h[_]),f.renderContactsInfo(o,o.contactsCalloutData,z,m))}0<b(o).find(".zgs19_gsCalloutDocsUserInfo").length?b(o.lineicon).show():b(o.lineicon).hide()}r.iconDisplay&&(b(o.maxpreview).css("display","block"),b(o.minpreview).css("display","none"),b(o.actionPipe).css("display","block")),f.getCurrentSelectedElem()&&(f.hideCalloutLoader(r),b(o).show()),b(o.calloutFooter).scrollTop(0),b(o.calloutFooter).scrollLeft(0)}else C.calloutErrorMsg("",r);C.addCalloutActionList(o),C.setCampaignsCalloutEleSize(o),f.calloutVisitRequest()},C.addCalloutActionList=function(e){var s=e.getElementsByClassName("zgs19_gsCalloutActionList");b(s).empty().remove(),b(e.calloutActionHolder).append(b("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var s=e.getElementsByClassName("zgs19_gsCalloutActionList"),t=C.actionList,a=t.length,r=0;r<a;r++){var o,i=t[r];for(o in i){var n=f.getI18NMsg(i[o]);f.savePreviewNeeded(o)&&b(s).append(b("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:o,service:y.CAMPAIGNS,gstitle:n}).text(n))}}f.Utils.constructSaveBookmarkInCallout(s,y.CAMPAIGNS)},C.formatCampaignPrevURL=function(e){var s,t;return-1<(e=0!=(e=0==e.indexOf(".")?e.substr(1):e).indexOf("http")?f.httpstxt+"://"+e:e).indexOf(".localzoho.")&&(s=f.getURLHostName(e),t=f.getURLHostName(y.GS_CAMPAIGN_URL),e=e.replace(s,t)),e+"&"+f.originParam},C.calloutErrorMsg=function(e,s){f.getCurrentSelectedElem()&&(f.hideCalloutLoader(s),e="ERROR"===e?f.getI18NMsg("gs.search.error.generic_error_messege"):f.getI18NMsg("gs.search.campaign.callout.errortext"),f.calloutErrorPage(s,e))},C.openCampaignsResult=function(e,s,t){var a=y.GS_CAMPAIGN_URL+"/home.do?";switch(s=s||t[f.module_id]){case"1":case"Campaigns":a+="campaignkey="+(e.cky||t.cky||e[f.entity_id]);break;case"2":case"Contacts":a+="contactid="+(e.cid||t.cid);break;case"3":case"Lists":a+="listkey="+(e.lKey||t.lKey||e[f.entity_id])}return a},C.setServiceEleSize=function(e,s){var t=f.getTargetElem("zgs20_gsCampaignCallout");f.setGSTagElems(t),C.setCampaignsCalloutEleSize(t),b("#"+e).css("height",s+"px")},C.getPreviewCrdParams=function(){var e=f.getCurrentResObj(),s=e.accId||f.getResultAccountId(),t={module:s};switch(s){case"1":var a=e.accId||f.getResultAccountId();t.cty=e.cty,t[f.entity_id]=e.cky,t.version=f.campaigns_version[a]||"",t[f.module_id]="Campaigns";break;case"2":t[f.entity_id]=encodeURIComponent(e.c_mail),t[f.module_id]="Contacts",t.cid=e.cid;break;case"3":t[f.entity_id]=e.lKey,t[f.module_id]="Lists"}return t},C)}(zgssearch,window),function(g,t){var c,o=t.document,d=t._jQueryGS,p=g.getGSConstantObj()||{};g.gso365mail=(c=void 0,(c=g.gso365mail||{}).curcalloutObj=c.curcalloutObj||{},c.actionList=[{open:"common.open"},{unread:"gs.search.sevice_mail_maskAsUnRead"},{copyLink:"gs.search.callout.copylink"},{savePreview:"gs.search.callout.savePreviewCard"}],c.getCalloutHolder=function(){return"zgs20_gsOutlookcallout"},c.calloutParams=function(e){var s=g.getCurrentSelectedElem()||{},s=s&&s.getAttribute&&s.getAttribute("acc_id")||e.connector_id||"";return"action=getO365MailOneTimeURL&service_name=o365mail&connector_id="+s+"&msgId="+(e.id||"")+"&domName="+(t.location.protocol+"//"+t.location.host)+"&app_id="+(g.getAppIdForCloudApps(s)||e.app_id||"")+"&isWDEnabled="+g.addToWDEnabled()},c.createCalloutTemplate=function(e,s){var t,a,r,o,i,n,l=s.calloutId;d("#"+l).length<=0&&(t=g.getI18NMsg("gs.search.sevice_prevmax"),a=g.getI18NMsg("gs.search.sevice_prevmin"),r=g.getI18NMsg("gs.search.sevice_mail_ext_img_tip"),o=g.getI18NMsg("gs.search.sevice_mail_ext_img_text"),n=g.getI18NMsg("gs.search.sevice_mail_shrinked_tip"),i=g.getI18NMsg("gs.search.sevice_mail_shrinked_text"),n=d("<div>",{id:l,class:"zgs19_gsServiceCalloutHolder"}).append(d("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(d("<span>",{class:"zgs18_gsAttachIcon zgs19_gsCalloutAttachmentIcon zgs19_gsfl zgs19_gsDisplayNone",service:p.O365MAIL,gs:"attachIcon"})).append(d("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(d("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:p.O365MAIL,target:"_blank",rel:"noopener noreferrer"}))).append(d("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:g.getNewTabTip(p.O365MAIL),service:p.O365MAIL})).append(d("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(d("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(d("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:p.O365MAIL})).append(d("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(d("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(d("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:t,gs:"maxpreview",service:p.O365MAIL})).append(d("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:a,gs:"minpreview",service:p.O365MAIL}))))).append(d("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(d("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(d("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(d("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(d("<img>",{class:"zgs19_gsFetchLoader",src:g.gsspacer,gs:"authorPhoto"})))).append(d("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(d("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(d("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(d("<span>",{gs:"slabel"}))).append(d("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid55Per"}).append(d("<span>",{class:"zgs19_gsCurPointer",gs:"sender",istip:!0}))).append(d("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(d("<span>",{gs:"date"})))).append(d("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(d("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid5Per"}).append(d("<span>",{gs:"rlabel"}))).append(d("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid45Per",gs:"toaddress"}).append(d("<span>",{class:"zgs19_gsCurPointer",gs:"receiver",istip:!0}))).append(d("<div>",{id:"zgs20_gsCalloutDDList1",class:"zgs19_gsCalloutUserToLink zgs19_gsCurPointer zgs19_gsfl zgs19_gsMxWid20Per",gs:"tolink"})).append(d("<div>",{class:"zgs19_gsCalloutUserFolder zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid25Per"}).append(d("<span>",{gs:"rfolder"}))))))).append(d("<div>",{id:"zgs20_gsMailsCalloutFooArea",class:"zgs19_gsCalloutFooter zgs19_gsCalloutPopUp zgs19_gso365mailCalloutFooter zgs19_gsHt88Per",gs:"calloutFooter"}).append(d("<div>",{id:"zgs20_gsMailCalloutExtImg",class:"zgs19_gsMailCalloutExtImg zgs19_gsOverflow zgs19_gsDisplayNone",gs:"ext_img"}).append(d("<a>",{class:"zgs19_gsCurPointer",gs:"ext_img_text",gstitle:o}).text(o)).append(d("<span>",{class:"zgs19_gsMailCalloutExtTip",gstitle:r}).text(r))).append(d("<div>",{class:"zgs19_gsCalloutContentInfo",gs:"content"})).append(d("<div>",{id:"zgs20_gsMailCalloutshrinked",class:"zgs19_gsMailCalloutExtImg zgs19_gsOverflow zgs19_gsDisplayNone",gs:"shrinked"}).append(d("<a>",{class:"zgs19_gsCurPointer",gs:"calloutActionOptions",value:"open",service:p.O365MAIL,gstitle:i}).text(i)).append(d("<span>",{class:"zgs19_gsMailCalloutExtTip",gstitle:n}).text(n))).append(d("<div>",{id:"zgs20_gsMailsCalloutAttachInfo",class:"zgs19_gsCalloutAttachInfo zgs19_gsDisplayNone",gs:"attachHolder"}))),d(s.parentElem).append(n),g.attachDoubleClickPopUpEvent()),d("#"+l).attr("ccount",e)},c.setO365MailCalloutEleSize=function(e){var s,t;e&&(s=d(e.header).height(),t=d(e.metaInfo).height(),t=d(e).height()-(s+t),g.isMobViewport()&&(t-=g.getLHSServicePaneHeight()),d(e.calloutFooter).css("height",t+"px"))},c.calloutResponse=function(e,s,t={},a){var r=s.subject||g.getI18NMsg("gs.search.result.mail.subject"),o=a.searchObj;c.curcalloutObj=o;var i=g.getTargetElem(o.calloutId);g.setGSTagElems(i),g.setGSTagElems(t);var n=d(i).attr("ccount");d(i.ctitle).attr("href",g.fetchCalloutUrl(p.O365MAIL,s,"",e));a=d(t.resultTitle).attr("gslabel")||"";d(i.ctitle).attr("gslabel",a),d(i.ctitle).text(r),d(i.attachIcon).css("display","none"),s.hasAttachments&&d(i.attachIcon).css("display","block");n="zgs20_gsO365MailCalloutUserImg"+n;d(i.authorPhoto).attr("id",n),g.renderCalloutNoUserPhoto(n);n=s.sender_mail||s.sender_name||"-na-";d(i.slabel).text(g.getI18NMsg("common.from")),d(i.sender).text(n);n=s.toRecipients[0]||"",n=n.hasOwnProperty("emailAddress")?n.emailAddress:"",n=n.hasOwnProperty("address")?n.address:n.hasOwnProperty("name")?n.name:"-na-";d(i.rlabel).text(g.getI18NMsg("common.to")).attr("gstitle",g.getI18NMsg("common.to")),d(i.receiver).text(n).attr("gstitle",n),d(i.tolink).hide().empty(),d("#zgs20_gsDropdownToList").remove(),d(i.toaddress).css("maxWidth","60%");n=s.bccRecipients.length+s.ccRecipients.length+s.toRecipients.length-1;0<n&&(d(i.toaddress).css("maxWidth","50%"),l=g.gsmails.getTotalEmailCount(n),d(i.tolink).append(d("<div>",{class:"zgs19_gsOverflow",gstitle:l}).text(l)).show(),c.loadToOthersList(i,s.toRecipients,s.ccRecipients,s.bccRecipients));var l=s.date||"";d(i.date).text(l);l=s.folderName||"";d(i.rfolder).text(l).attr("gstitle",l);l=e.response,e=l.url;(l.hasOwnProperty("status")&&"success"==l.status||l.hasOwnProperty("url"))&&c.renderIframePreview(s,i,e,o.cardId),(g.getCurrentSelectedElem()||g.isPreviewOpenedInComponent)&&(d(i).show(),!1===s.isRead&&c.toggleMailStatus("read",t,s,o.calloutId)),o.iconDisplay&&(d(i.maxpreview).css("display","block"),d(i.minpreview).css("display","none"),d(i.actionPipe).css("display","block")),d(i.calloutFooter).scrollTop(0),d(i.calloutFooter).scrollLeft(0);s=s.hasOwnProperty("entity_id")&&!s.hasOwnProperty("action");c.addCalloutActionList(i,s),c.setO365MailCalloutEleSize(i),g.calloutVisitRequest()},c.loadToOthersList=function(e,s,t,a){d(e.metaInfo).append(d("<div>",{id:"zgs20_gsDropdownToList",class:"zgs19_gsDropdownToList zgs19_gsDisplayNone",gs:"toDDList"})),c.renderToOthersList(s,g.getI18NMsg("common.to")),c.renderToOthersList(t,g.getI18NMsg("gs.search.result.mail.callout.cc")),c.renderToOthersList(a,g.getI18NMsg("gs.search.result.mail.callout.bcc"))},c.renderToOthersList=function(e,s){if(e&&0<e.length){for(var t=d("<div>",{class:"zgs19_gsDropdownToListEmailHolder zgs19_gsfl"}),a=e.length,r=0;r<a;r++){var o=r+1===e.length?"":",",i=e[r],i=(i.emailAddress.address||i.emailAddress.name,e[r].hasOwnProperty("emailAddress")?e[r].emailAddress:""),n=i.hasOwnProperty("address")?i.address:i.hasOwnProperty("name")?i.name:"";t.append(d("<div>",{class:"zgs19_gsDropdownToListEmailIds zgs19_gsOverflow"}).append(d("<span>",{gstitle:n}).text(n+o)))}d("#zgs20_gsDropdownToList").append(d("<div>",{class:"zgs19_gsDropdownToListHolder"}).append(d("<div>",{class:"zgs19_gsDropdownToListLabel zgs19_gsfl"}).append(d("<span>",{gstitle:s}).text(s))).append(d("<div>",{class:"zgs19_gsSemicolon zgs19_gsfl"}).append(d("<span>").text(":"))).append(t))}},c.renderIframePreview=function(e,t,s,a){var r=o.createElement("iframe");r.id="zgs20_o365MailIframePrev";s=s+"&"+g.originParam;r.src=s||"",r.sandbox="allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-presentation allow-same-origin allow-scripts",r.className="zgs19_Border0px zgs19_gsDocsIframeTag zgs19_gsIframeBgColor",r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen","true"),r.setAttribute("cardId",a),r.onload=function(){var e="#"+d(t).attr("id")+" #zgs20_o365MailIframePrev",s={action_type:"setIframeId",iframeId:e,type:c.curcalloutObj.type,pageThemeAndDir:g.pcPageDirAndTheme()};d(e).get(0).contentWindow.postMessage(s,g.GSConstant.cloud_preview_domain),setTimeout(function(e){g.hideCalloutLoader(e)},500,c.curcalloutObj)},d(t.calloutFooter).empty().append(r)},c.downloadAttachment=function(e,s,t,a){var r=(s=s&&0<Object.keys(s).length?s:g.getCurrentResObj()).id||t||"",s=a||"",t=g.getAppIdForCloudApps(s,g.GSConstant.O365MAIL),a={};a.connector_id=s,a.service_name="o365mail",a.action="getO365UDAttachmentUrl",a.isExAttachment=!0,a.msgId=r,a.attachmentId=e,a.app_id=t;e=g.GSConstant.ud_download_server_url,t=g.GSConstant.ud_service_name,t=e+"?event-id="+("search_download_"+(new Date).getTime())+"&x-cli-msg="+JSON.stringify(a)+"&x-service="+t;g.network.download_file(t)},c.addToWD=function(e,s,t){var a={};a.service=g.GSConstant.O365MAIL,a.attachId=s,a.folderId=t,a.connectorId=e.accId||"",g.connectors.addFileToWD(a,e)},c.setServiceEleSize=function(e,s,t){t=t||g.getTargetElem("zgs20_gsOutlookcallout"),g.setGSTagElems(t),c.setO365MailCalloutEleSize(t),d("#"+e).css("height",s+"px")},c.addCalloutActionList=function(e,s){var t=e.getElementsByClassName("zgs19_gsCalloutActionList");d(t).empty().remove(),d(e.calloutActionHolder).append(d("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var t=e.getElementsByClassName("zgs19_gsCalloutActionList"),a=c.actionList,r=a.length,o=0;o<r;o++){var i,n,l=a[o];for(i in l)!g.savePreviewNeeded(i)||s&&"unread"==i||(n=g.getI18NMsg(l[i]),d(t).append(d("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:i,service:p.O365MAIL,gstitle:n}).text(n)))}g.Utils.constructSaveBookmarkInCallout(t,p.O365MAIL)},c.toggleMailStatus=function(a,r,o,i,n){var e,s,t,l;r&&(e=g.getCurrentSelectedElem().getAttribute("acc_id")||"",s=o.id,t=!0,"read"==a?t=!0:"unread"==a&&(t=!1),l=g.getAppIdForCloudApps(e),g.uri(g.POST,"/zgssearch/exconnector/getCalloutData","action=updateReadStatus&service_name=o365mail&connector_id="+e+"&msgId="+s+"&isRead="+t+"&app_id="+l,{curRe:r,resObj:o,action:a,accountId:e,msgId:s,calloutId:i,target:n},function(e,s,t){c.markAsReadOrUnreadAction(e,a,r,o,i,n)}))},c.markAsReadOrUnreadAction=function(e,s,t,a,r,o){var i,n,l;!e||"null"===e||"success"==((n=g.jsonParse(e))&&n.response||"").status&&t&&(i="",i=o?g.getNodeByAttr(o,"class","zgs19_gsServiceCalloutHolder"):g.getTargetElem(r),e=l="","read"==s?l=g.getMailImageStatus(0):"unread"==s&&(l=g.getMailImageStatus(1)),n=l.image,r=l.toBeImage,l=l.toBeTitle,d(t.resultMenuItem).attr("gstitle",l),"read"==s?(a.isRead=!0,d(t.resultTitle).removeClass("zgs19_gsFtWeightBold").addClass("zgs19_gsFtWeightNormal"),e=g.getI18NMsg("gs.search.sevice_mail_maskAsUnRead"),d(i.ctitle).removeClass("zgs19_gsFtWeightBold").addClass("zgs19_gsFtWeightNormal"),d(t.resultMenuItem).removeClass(n).addClass(r),o&&d(o).attr("value","unread").attr("gstitle",e).text(e)):"unread"==s&&(a.isRead=!1,d(t.resultTitle).removeClass("zgs19_gsFtWeightNormal").addClass("zgs19_gsFtWeightBold"),e=g.getI18NMsg("gs.search.sevice_mail_maskAsRead"),d(i.ctitle).removeClass("zgs19_gsFtWeightNormal").addClass("zgs19_gsFtWeightBold"),d(t.resultMenuItem).removeClass(n).addClass(r),o&&d(o).attr("value","read").attr("gstitle",e).text(e)))},c.calloutErrorMsg=function(e,s){var t;g.getCurrentSelectedElem()&&(g.hideCalloutLoader(s,t),t="ERROR"===e?g.getI18NMsg("gs.search.error.generic_error_messege"):g.getI18NMsg("gs.search.result.mail.status.callout.errortext"),g.calloutErrorPage(s,t))},c.getPreviewCrdParams=function(){var e=g.getCurrentResObj(),s=e.accId||g.getResultAccountId();return{entity_id:e.id,app_id:g.getAppIdForCloudApps(s),connector_id:s}},c)}(zgssearch,window),function(A,e){var M,F=e.document,N=e._jQueryGS,v=A.getGSConstantObj()||{};A.gsslack=(M=void 0,(M=A.gsslack||{}).actionList=[{open:"common.open"},{continue:"gs.search.result.chat.viewtranscript_dialog.continue"},{copyLink:"gs.search.callout.copylink"}],M.getCalloutHolder=function(){return"zgs20_gsSlackCallout"},M.calloutParams=function(e,s){var t=A.getCurrentSelectedElem(),t=e.CONNECTOR_ID||e.accId||t.getAttribute("acc_id");return"action=getSlackCallout&channel="+(e.conid||e.id||"")+"&service_name=slack&connector_id="+t+"&time="+(e.slacktm||"")+"&r_type="+(e.result_type||"")+"&islist="+M.getIfListView(s.searchObj)+"&app_id="+A.getAppIdForCloudApps(t)},M.getIfListView=function(e){return A.isDashboardViewOpened()?(e=e.cardId,e=A.gscardinDb.getOriginalCardId(e),!A.gscardinDb.getFilterVal(A.gsdbUtils.cardIdsVsObject[e].cardconfig,"zs_query")[0]):A.isPreviewOpenedInComponent||A.isListViewSearch()},M.createCalloutTemplate=function(e,s){var t,a,r,o=s.calloutId;N("#"+o).length<=0&&(t=A.getI18NMsg("gs.search.sevice_prevmax"),a=A.getI18NMsg("gs.search.sevice_prevmin"),r=A.GSConstant.SLACK.substring(0,1).toUpperCase()+A.GSConstant.SLACK.substring(1),r=A.I18N.getValue("gs.con.continue.chat.title",[r]),r=N("<div>",{id:o,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(N("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(N("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(N("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",service:v.SLACK,target:"_blank",rel:"noopener noreferrer"}))).append(N("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",service:v.SLACK})).append(N("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(N("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(N("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:v.SLACK})).append(N("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(N("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(N("<div>",{class:"zgs18_gsContinueChat zgs19_gsCurPointer zgs19_gsfr zgs19_gsOverflow",gstitle:r,gs:"slackcontinuechat",service:v.SLACK})).append(N("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:t,gs:"maxpreview",service:v.SLACK})).append(N("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:a,gs:"minpreview",service:v.SLACK}))))).append(N("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(N("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(N("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(N("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(N("<img>",{class:"zgs19_gsFetchLoader",src:A.gsspacer,gs:"authorPhoto"})).append(N("<span>",{class:"zgs19_gsFetchLoader",gs:"authorPhotoSpan"})))).append(N("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(N("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(N("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid55Per"}).append(N("<span>",{gs:"author"}))).append(N("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(N("<span>",{gs:"date"})))).append(N("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(N("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid70Per"}).append(N("<span>",{gs:"partCount"}))))))).append(N("<div>",{gs:"calloutFooter",class:"zgs19_gsPadBotLeft10"}).append(N("<div>",{id:"zgs20_gsSlackPreviewHolder",class:"zgs19_gsSlkPreviewHolder zgs19_gsOvfwYAuto",gs:"slackpreviewHolder"}))).append(N("<div>",{class:"zgs19_gsCqC1 zgs19_gsBorderBox zgs19_gsOverflow"}).append(N("<div>",{id:"zgs20_gsCqC2",class:"zgs19_gsCqC2 zgs19_gsBorderBox zgs19_gsOverflow",gstitle:r,gs:"slackcontinuechat",service:v.SLACK}).text(r))),N(s.parentElem).append(r)),N("#"+o).attr("ccount",e)},M.setSlackCalloutEleSize=function(e){var s,t,a;e&&(s=N(e.header).height(),t=N(e.metaInfo).height(),a=N(e.slackcontinuechat).height()+40,a=N(e).height()-(s+t+a),A.isMobViewport()&&(a-=A.getLHSServicePaneHeight()),N(e.calloutFooter).css("height",a+"px"),a=A.getCurrentResObj().result_type||"",N("#zgs20_gsCqC2").parent().removeClass("zgs19_gsDisplayNone"),2==a&&N("#zgs20_gsCqC2").parent().addClass("zgs19_gsDisplayNone"))},M.calloutResponse=function(e,s,t={},a){var r="",o="",i=0,n=a.searchObj,l=A.getTargetElem(n.calloutId);A.setGSTagElems(l),A.setGSTagElems(t);var g=s.result_type||"",c=s.title||"";e&&(o=e.response||{});var d=s.module_id||o.module_id||"",p=s.p_uname||s.cname||s.cby||"";3!=g&&2!=g||(p=s.h_uname||p),N(l.author).empty().text(p).attr("gstitle",p).attr("gslabel",A.getI18NMsg("common.title")),N(l.ctitle).empty().text(c).attr("gstitle",c).attr("href",A.fetchCalloutUrl(v.SLACK,s,"",e));var u=N(t.resultTitle).attr("gslabel")||"";N(l.ctitle).attr("gslabel",u),N(l.clink).attr("gstitle",A.getNewTabTip(v.SLACK));var h=s.time||"-";N(l.date).empty().text(h).attr("gstitle",h).attr("gslabel",A.getI18NMsg("gs.search.result.lastReplied"));p=s.mcount||"",c=s.cby||"";N(l.partCount).empty();t="",u="",h="";"1"!=d&&"5"!=d&&(h=p&&2<p?(t=p+" "+A.getI18NMsg("gs.search.result.chat.callout.participants"),u=A.getI18NMsg("gs.search.filter.cliq.participantsCount"),p):c?(t=c,u=A.getI18NMsg("gs.search.sevice_docs_createdBy"),c):(t=s.module_name||o.module_name||"",u=A.getI18NMsg("Module"),t)),N(l.partCount).text(t).attr("class","zgs19_gsCatTxt").attr("gstitle",h).attr("gslabel",u),N(l.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),1!=d&&5!=d&&s.hasOwnProperty("conid")?2!=d&&3!=d&&4!=d||(u="",r=(s.hasOwnProperty("is_priv")&&s.is_priv?s.is_priv:"")?"zgs18_gsSlackPrivateChannel":"zgs18_gsSlackPublicChannel",3==d?u=A.getI18NMsg("gs.search.filter.cliq.channel"):2!=d&&4!=d||(u=A.getI18NMsg("gs.search.result.slack.callout.group")),N(l.authorPhotoSpan).show(),N(l.authorPhotoSpan).attr("class","zgs19_gsSlackCOImg "+r),N(l.authorPhotoSpan).attr("gstitle",u),N(l.authorPhoto).hide()):(N(l.authorPhoto).show(),N(l.authorPhoto).attr("class","zgs19_gsFetchLoader").attr("src",A.gsspacer),m="zgs20_gsChatCalloutUserImg"+(z=N(l).attr("ccount")),N(l.authorPhoto).attr("id",m),m=s.photo||o.photo,N(l.authorPhoto).removeClass("zgs19_gsFetchLoader").addClass("zgs19_gsCalloutUserImg"),N(l.authorPhoto).attr("src",m),N(l.authorPhotoSpan).hide());var _,m=s.link=s.link||"javascript:;";s.hasOwnProperty("conid")||"2"!=g?e?("success"==(o.status||"failed").toLowerCase()?(o=(e=o.messages||"").length,N(l.slackpreviewHolder).empty(),0==o&&"2"!=g&&(o={service:v.SLACK,previewHolder:"slackpreviewHolder",text:A.I18N.getValue("gs.con.slack.create.conv"),btnTxt:""},A.Utils.obtainPageOpenBtn(l,s,o)),A.gsslack.getMSGDOM(l,e,n),"2"==g&&(_=N("<div>",{class:"zgs19_gstac zgs19_gsHgt300Px",gs:"slackFileTy"}).append(N("<div>",{class:"zgs19_gsResultsUniIcons zgs19_gsFileCalloutIcon",src:A.gsspacer})).append(N("<div>",{class:"zgs19_gsFileTypeName"}).text(s.title)).append(N("<div>",{class:"zgs19_gsFileTypeSize"}).append(N("<span>").append("size - ")).append(N("<span>").append(s.size))).append(N("<div>",{class:"zgs19_gsInLineFlex"}).append(N("<a>",{class:"zgs19_gsFileTypeOpen",gs:"slackopen",target:"_blank",rel:"noopener noreferrer",href:m}).append(A.I18N.getValue("common.open")))),N(l.slackpreviewHolder).append(_),A.setGSTagElems(l),i=((N(l.calloutFooter).height()||0)-N(l.slackFileTy).height())/2)):A.gsslack.setErrorResponse(l,s),N(l.slackpreviewHolder).css("margin",i+"px auto")):A.gsslack.setEmptyResponse(l,s):(_=N("<div>",{class:"zgs19_gstac zgs19_gsHgt300Px",gs:"slackFileTy"}).append(N("<div>",{class:"zgs19_gsResultsUniIcons zgs19_gsFileCalloutIcon",src:A.gsspacer})).append(N("<div>",{class:"zgs19_gsFileTypeName"}).text(s.title)).append(N("<div>",{class:"zgs19_gsFileTypeSize"}).append(N("<span>").append("size - ")).append(N("<span>").append(s.size))).append(N("<div>",{class:"zgs19_gsInLineFlex"}).append(N("<a>",{class:"zgs19_gsFileTypeOpen",gs:"slackopen",target:"_blank",rel:"noopener noreferrer",href:m}).append(A.I18N.getValue("common.open")))),N(l.slackpreviewHolder).empty(),N(l.slackpreviewHolder).append(_),A.setGSTagElems(l),i=((N(l.calloutFooter).height()||0)-N(l.slackFileTy).height())/2,N(l.slackpreviewHolder).css("margin",i+"px auto")),n.iconDisplay&&(N(l.maxpreview).css("display","block"),N(l.minpreview).css("display","none")),(A.getCurrentSelectedElem()||A.isPreviewOpenedInComponent)&&(A.hideCalloutLoader(n),N(l).show());var z=a.curCalloutCount;A.curCalloutCount==z&&setTimeout(function(){N(".zgs19_gsCqC2").css("margin-block-start","0px")},500),M.addCalloutActionList(l,s),M.setSlackCalloutEleSize(l),A.calloutVisitRequest(),N(l.slackpreviewHolder).scrollLeft(0),N(l.slackpreviewHolder).scrollTop(0)},M.getMSGDOM=function(e,s,t){for(var a=A.getCurrentResObj(),r=s.length,o=!1,i=M.getIfListView(t),n=0;n<r;n++){var l=s[n],g="",c="",d="",p="",u="",h="",_="",m="",z="",v=l.date||"",f=l.time||"",C=l.result_type||"",S=s[n-1]||"",b=0<n?S.date:"",y=0<n?S.h_uname:"";2!=S.result_type&&3!=S.result_type&&4!=S.result_type||(y=S.files[0].h_uname||"");var I=n<r-1?s[n+1].time:"",O=l.is_high||!1,P=!1,w=0<(_=l.files||"").length?_[0]:{},o=!!O,D="",_=l.h_uname||"";(_=2==C||3==C||4==C?w.h_uname||"":_)&&(d=(l.hasOwnProperty("is_cu")&&1==l.is_cu||w.hasOwnProperty("is_cu")&&1==w.is_cu)&&_?(P=!0,c=h="zgs19_gsMsgTxtBack",u="zgs19_gsMsgFileAlnRht",N("<div>",{class:g="zgs19_gsSlkCuser"}).append(N("<span>").append(A.getI18NMsg("common.you")))):(g="zgs19_gsSlkuser",u="zgs19_gsMsgFileAlnLft",h="zgs19_gsMsgBc",w=l.photo||a.photo||"https://contacts.zoho.com/file?ID=645626233&t=user&height=50&width=50&exp=360000",N("<div>").append(N("<img>",{class:"zgs19_gsMsgUserPhoto",src:w})).append(N("<div>",{class:"zgs19_gsGrpChatUserName"}).append(F.createTextNode(_)))),O&&(D="zgs20_gsBlink")),_&&y==_&&(d=""),(v&&0==n||b!=v)&&(S=N("<div>",{gs:"date",class:"zgs19_gsMsgDate"}).append(N("<span>",{class:"zgs19_gsMsgDateVal"}).append(v)),N(e.slackpreviewHolder).append(S)),f&&I==f&&(f="");var E=l.hasOwnProperty("txt")&&l.txt?l.txt:"";switch(""!==E&&(E=A.emoji.renderEmojis(E)),C){case 1:p=N("<div>",{class:g}).append(N("<div>",{class:"zgs19_gsMsg zgs19_gsMsgTxt "+c,id:D}).append(E));break;case 2:case 3:case 4:case 6:var T,p=M.attachmentRendering(u,h,D,l);4!=C&&6!=C||(T=P?"zgs19_gsMgRt20Px zgs19_gsInvT1R2_span zgs19_gsfl;":"",6==C?m=N("<div>",{class:"zgs19_gsMsgFileCmt zgs19_gsMgTop15Px "+T}).append(E):4==C&&(z=N("<div>",{class:"zgs19_gsMsgFileCmt "+T}).append(E)));break;case 5:p=M.renderAppNotification(g,c,D,l)}f=N("<div>",{gs:"msg",class:"zgs19_gsSlkMsg"}).append(d).append(m).append(p).append(z).append(N("<div>",{class:"zgs19_gsFloatClear zgs19_gsSlkuser zgs19_gsSlkTime "+g}).append(f));N(e.slackpreviewHolder).append(f),(o||i&&n==r-1)&&M.scrollToMatchedMsg(e,O)}},M.attachmentRendering=function(e,s,t,a){for(var r=a.files||"",o=a.result_type||"",a="",i=N("<div>",{class:"zgs19_gsSetCatDivsn zgs19_gsFloatClear",style:a=6!=o?"margin-top:15px;":a}),n=0;n<r.length;n++){var l=r[n],g=l.name||"",c=l.size||"",d=l.link||"javascript:;";(l.hasOwnProperty("is_cu")?l.is_cu:"")&&i.css("justify-content","flex-end");var p=l.servImg||"zgs19_writer",l="",l=N("<div>",{class:"zgs19_gsMsgFileType "+e+" "+s}).append(N("<div>").append(N("<div>",{class:"zgs19_gsFlex zgs19_gsPdng4Px",id:t}).append(N("<div>",{class:"zgs19_gsMsgFileIcon"}).append(N("<span>",{class:"zgs19_gsResultsUniIcons "+p}))).append(N("<div>",{class:"zgs19_gsSlackFileContentDiv"}).append(N("<div>",{class:"zgs19_gsMsgFileCon"}).append(F.createTextNode(g))).append(N("<div>",{class:"zgs19_gsMsgFileSize"}).append(c))).append(N("<div>",{class:"zgs19_gsMsgFileActions"}).append(N("<a>",{class:"zgs19_gsResultsUniIcons zgs19_gsOpenFile zgs19_gsCurPointer zgs19_gsfr",gs:"slackopen",target:"_blank",rel:"noopener noreferrer",href:d})))));i.append(l)}return i},M.renderAppNotification=function(e,s,t,a){for(var r=a.attachments||[],o=N("<div>"),i=0;i<r.length;i++){var n=r[i],l=n.user||"",g=n.txt||"";""!==g&&(g=A.emoji.renderEmojis(g));var c=a.app_name||l||"",n=A.getCapitalizedLtr(c),d=N("<div>",{class:e}).append(N("<div>").append(N("<div>",{class:"zgs19_gsSlackAppNotificationIconOuter"}).append(N("<span>",{class:"zgs19_gsfl zgs19_gsSlackAppNotificationIconInner"}).append(n))).append(N("<div>",{class:"zgs19_gsSlackAppNotificationName"}).append(c))).append(N("<div>",{class:"zgs19_gsMsg zgs19_gsMsgTxt "+s,id:t}).append(N("<div>",{class:"zgs19_gsFontWeight600"}).append(l)).append(N("<div>").append(g)));o.append(d)}return o},M.txthighBlink=function(e){A.setGSTagElems(e),N(e).find("#zgs20_gsBlink").css("background-color","#b6b5b5").animate({"background-color":"#b6b5b5"},2e3,function(){N(e).find("#zgs20_gsBlink").removeClass("zgs19_gsMsgTxtHighBack").addClass("zgs19_gsMsgTxt"),N(e).find("#zgs20_gsBlink").css("background-color","")})},M.scrollToMatchedMsg=function(a,r){setTimeout(function(){var e,s,t;r?(e=N(a.calloutFooter).height(),0<N(a).find("#zgs20_gsBlink").length&&(s=N(a).find("#zgs20_gsBlink").position().top,t=N(a).find("#zgs20_gsBlink").outerHeight(),e<s&&N(a).find("#zgs20_gsSlackPreviewHolder").animate({scrollTop:s+t},1e3),r&&M.txthighBlink(a))):(t=a.getElementsByClassName("zgs19_gsSlkMsg")[a.getElementsByClassName("zgs19_gsSlkMsg").length-1].offsetTop,N(a).find("#zgs20_gsSlackPreviewHolder").animate({scrollTop:t},1e3))},1e3)},M.setErrorResponse=function(e,s){var t={service:v.SLACK,previewHolder:"slackpreviewHolder",text:A.I18N.getValue("gs.search.error.msg"),btnTxt:""};A.Utils.obtainPageOpenBtn(e,s,t)},M.setEmptyResponse=function(e,s){var t={service:v.SLACK,previewHolder:"slackpreviewHolder",text:A.I18N.getValue("gs.con.slack.create.conv")};A.Utils.obtainPageOpenBtn(e,s,t)},M.getContinueHTMLElem=function(){var e=A.GSConstant.SLACK.substring(0,1).toUpperCase()+A.GSConstant.SLACK.substring(1),e=A.I18N.getValue("gs.con.continue.chat.title",[e]);return N("<div>",{class:"zgs19_gsCqC1 zgs19_gsBorderBox zgs19_gsOverflow"}).append(N("<div>",{id:"zgs20_gsCqC2",class:"zgs19_gsCqC2 zgs19_gsBorderBox zgs19_gsOverflow",gstitle:e,gs:"slackcontinuechat",service:A.GSConstant.SLACK}).text(e))},M.calloutErrorMsg=function(e,s){A.getCurrentSelectedElem()&&(A.hideCalloutLoader(s),e="ERROR"===e?A.getI18NMsg("gs.search.error.generic_error_messege"):A.getI18NMsg("gs.search.result.connector.status.callout.errortext"),A.calloutErrorPage(s,e))},M.addCalloutActionList=function(e,s){var t=e.getElementsByClassName("zgs19_gsCalloutActionList");N(t).empty().remove(),N(e.calloutActionHolder).append(N("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var t=e.getElementsByClassName("zgs19_gsCalloutActionList"),a=M.actionList,r=a.length,o=0;o<r;o++){var i,n=a[o];for(i in n){var l=A.getI18NMsg(n[i]);"continue"==i&&"2"==s.result_type||"open"==i&&"2"!=s.result_type||N(t).append(N("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:i,service:v.SLACK,gstitle:l}).text(l))}}},M.setServiceEleSize=function(e,s){var t=A.getTargetElem("zgs20_gsSlackCallout");A.setGSTagElems(t),M.setSlackCalloutEleSize(t),N("#"+e).css("height",s+"px")},M)}(zgssearch,window),function(p,t){var u,o=t.document,h=t._jQueryGS,g=p.getGSConstantObj()||{};p.gsgmail=(u=void 0,(u=p.gsgmail||{}).curcalloutObj=u.curcalloutObj||{},u.actionList=[{open:"common.open"},{unread:"gs.search.sevice_mail_maskAsUnRead"},{copyLink:"gs.search.callout.copylink"},{savePreview:"gs.search.callout.savePreviewCard"}],u.getCalloutHolder=function(){return"zgs20_gsGmailCallout"},u.calloutParams=function(e){var s=p.getCurrentSelectedElem(),s=s&&s.getAttribute&&s.getAttribute("acc_id")||e.connector_id||"";return"action=getGMailOneTimeURLCallout&service_name=gmail&connector_id="+s+"&msgId="+(e.id||"")+"&domName="+(t.location.protocol+"//"+t.location.host)+"&app_id="+(p.getAppIdForCloudApps(s)||e.app_id||"")+"&isWDEnabled="+p.addToWDEnabled()},u.createCalloutTemplate=function(e,s){var t,a,r,o,i,n,l=s.calloutId;h("#"+l).length<=0&&(t=p.getI18NMsg("gs.search.sevice_prevmax"),a=p.getI18NMsg("gs.search.sevice_prevmin"),r=p.getI18NMsg("gs.search.sevice_mail_ext_img_tip"),o=p.getI18NMsg("gs.search.sevice_mail_ext_img_text"),n=p.getI18NMsg("gs.search.sevice_mail_shrinked_tip"),i=p.getI18NMsg("gs.search.sevice_mail_shrinked_text"),n=h("<div>",{id:l,class:"zgs19_gsServiceCalloutHolder"}).append(h("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(h("<span>",{class:"zgs18_gsAttachIcon zgs19_gsCalloutAttachmentIcon zgs19_gsfl zgs19_gsDisplayNone",service:g.GMAIL,gs:"attachIcon"})).append(h("<span>",{id:"zgs20_gmailAttachIcon",class:"zgs18_gsAttachIcon zgs19_gsCalloutAttachmentIcon zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",service:g.GMAIL,gs:"moveToGmailAttachArea"})).append(h("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(h("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:g.GMAIL,target:"_blank",rel:"noopener noreferrer"}))).append(h("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:p.getNewTabTip(g.GMAIL),service:g.GMAIL})).append(h("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(h("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(h("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:g.GMAIL})).append(h("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(h("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(h("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:t,gs:"maxpreview",service:g.GMAIL})).append(h("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:a,gs:"minpreview",service:g.GMAIL}))))).append(h("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(h("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(h("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(h("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(h("<img>",{class:"zgs19_gsFetchLoader",src:p.gsspacer,gs:"authorPhoto"})))).append(h("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(h("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(h("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(h("<span>",{gs:"slabel"}))).append(h("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid60Per"}).append(h("<span>",{class:"zgs19_gsCurPointer",gs:"sender",istip:!0}))).append(h("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(h("<span>",{gs:"date"})))).append(h("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(h("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(h("<span>",{gs:"rlabel"}))).append(h("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid60Per",gs:"toaddress"}).append(h("<span>",{class:"zgs19_gsCurPointer",gs:"receiver",istip:!0}))).append(h("<div>",{id:"zgs20_gsCalloutDDList1",class:"zgs19_gsCalloutUserToLink zgs19_gsCurPointer zgs19_gsfl zgs19_gsMxWid20Per",gs:"tolink"}))).append(h("<div>",{id:"zgs20_gsCalloutUserLabelHeader",class:"zgs19_gsCalloutUserHeader"}).append(h("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl",gs:"labelList"})))))).append(h("<div>",{id:"zgs20_gsMailsCalloutFooArea",class:"zgs19_gsCalloutFooter zgs19_gsCalloutPopUp zgs19_gsgmailCalloutFooter zgs19_gsHt88Per",gs:"calloutFooter"}).append(h("<div>",{id:"zgs20_gsMailCalloutExtImg",class:"zgs19_gsMailCalloutExtImg zgs19_gsOverflow zgs19_gsDisplayNone",gs:"ext_img"}).append(h("<a>",{class:"zgs19_gsCurPointer",gs:"ext_img_text",gstitle:o}).text(o)).append(h("<span>",{class:"zgs19_gsMailCalloutExtTip",gstitle:r}).text(r))).append(h("<div>",{class:"zgs19_gsCalloutContentInfo",gs:"content"})).append(h("<div>",{id:"zgs20_gsMailCalloutshrinked",class:"zgs19_gsMailCalloutExtImg zgs19_gsOverflow zgs19_gsDisplayNone",gs:"shrinked"}).append(h("<a>",{class:"zgs19_gsCurPointer",gs:"calloutActionOptions",value:"open",service:g.GMAIL,gstitle:i}).text(i)).append(h("<span>",{class:"zgs19_gsMailCalloutExtTip",gstitle:n}).text(n))).append(h("<div>",{id:"zgs20_gsMailsCalloutAttachInfo",class:"zgs19_gsCalloutAttachInfo zgs19_gsDisplayNone",gs:"attachHolder"}))),h(s.parentElem).append(n),p.attachDoubleClickPopUpEvent()),h("#"+l).attr("ccount",e)},u.setGmailCalloutEleSize=function(e){var s,t;e&&(s=h(e.header).height(),t=h(e.metaInfo).height(),t=h(e).height()-(s+t),p.isMobViewport()&&(t-=p.getLHSServicePaneHeight()),h(e.calloutFooter).css("height",t+"px"))},u.calloutResponse=function(e,s,t,a){var r=s.Subject||p.getI18NMsg("gs.search.result.mail.subject"),o=a.searchObj;u.curcalloutObj=o;var i=p.getTargetElem(o.calloutId);p.setGSTagElems(i),p.setGSTagElems(t);h(t).attr("acc_id");h(i.ctitle).attr("href",p.fetchCalloutUrl(g.GMAIL,s));a=h(t.resultTitle).attr("gslabel")||"";h(i.ctitle).attr("gslabel",a),h(i.ctitle).text(r);r="zgs20_gsgmailCalloutUserImg"+h(i).attr("ccount");h(i.authorPhoto).attr("id",r),p.renderCalloutNoUserPhoto(r);var n=h.find(".zgs19_gsCalloutUserHeader");for(let e=0;e<n.length;e++)h(n[e]).css("display","block");r=s.From||"";r?(h(i.slabel).text(p.getI18NMsg("common.from")).attr("gstitle",p.getI18NMsg("common.from")),h(i.sender).text(r).attr("gstitle",r)):h(h("#"+i.id+" .zgs19_gsCalloutUserHeader")[0]).css("display","none");r=s.To||"";r?(h(i.rlabel).text(p.getI18NMsg("common.to")).attr("gstitle",p.getI18NMsg("common.to")),h(i.receiver).text(r).attr("gstitle",r)):h(h("#"+i.id+" .zgs19_gsCalloutUserHeader")[1]).css("display","none"),h(i.tolink).hide().empty(),h("#zgs20_gsDropdownToList").remove();r=s.Date||"";h(i.date).text(r),h(i.date).attr("gstitle",s.unformattedDate),h(i.labelList).find(".zgs19_labelsList")&&h(i.labelList).children().remove(".zgs19_labelsList");r=p.getSearchType(),p.getCurrentValue("label",r),p.getFilterInfo(g.GMAIL,"labels","data"),r=h("<div>",{id:"zgs20_calloutGmailLabelList",class:"zgs19_labelsList"}).append(h("<span>",{class:"zgs18_gmailLabelIcon"}));h(i.labelList).append(r);r=e.response,e=r.url;(r.hasOwnProperty("status")&&"success"==r.status||r.hasOwnProperty("url"))&&u.renderIframePreview(s,i,e,o.cardId),p.getCurrentSelectedElem()&&(h(i).show(),!1===s.isRead&&u.toggleMailStatus("read",t,s,o)),o.iconDisplay&&(h(i.maxpreview).css("display","block"),h(i.minpreview).css("display","none"),h(i.actionPipe).css("display","block")),h(i.calloutFooter).scrollTop(0),h(i.calloutFooter).scrollLeft(0);t=s.hasOwnProperty("entity_id")&&!s.hasOwnProperty("action");u.addCalloutActionList(i,t),u.setGmailCalloutEleSize(i),p.calloutVisitRequest(),u.addLabelsToCalloutMeta(s.labelIds,o.calloutId)},u.addLabelsToCalloutMeta=function(s,t,a){var e;"addUnreadLabel"==a&&(-1!==(e=s.findIndex(e=>"Unread"===e.id))?(e=s.splice(e,1)[0],s.unshift(e)):s.unshift({id:"Unread",name:"Unread"}));let r=h("#"+t+" #zgs20_gsCalloutUserLabelHeader");r.find(".zgs19_gsShowHiddenLabelCount").remove(),r.find("#zgs20_gsGmailLabelsDropDownContainer").remove();var o,i=h(r.get(0)).outerWidth(!0);for(let e=0;e<s.length;e++)if(l=i-h(r.get(0)).find(".zgs19_gsCalloutUserValue").outerWidth(!0),o=s[e],"skipUnreadLabel"!=a||"Unread"!=o.id){if(l<.4*i){var n=s.slice(e),l=p.Template.getGmailHiddenLabelsDiv(n,"",!1),n=h("<span>",{class:"zgs19_gsShowHiddenLabelCount",gstitle:p.I18N.getValue("gs.search.result.mail.allLabels"),gs:"gmailLabelDropdown"}).text("+"+n.length);h(r.get(0)).find(".zgs19_gsCalloutUserValue").append(n).append(l);break}o=h("<div>",{class:"zgs19_labelItem",labelId:o.id,gstitle:p.getI18NMsg("common.labels").replace("s","")+": "+o.name}).text(o.name),h("#"+t+" #zgs20_calloutGmailLabelList").append(o)}},u.loadToOthersList=function(e,s,t,a){h(e.metaInfo).append(h("<div>",{id:"zgs20_gsDropdownToList",class:"zgs19_gsDropdownToList zgs19_gsDisplayNone",gs:"toDDList"})),u.renderToOthersList(s,p.getI18NMsg("common.to")),u.renderToOthersList(t,p.getI18NMsg("gs.search.result.mail.callout.cc")),u.renderToOthersList(a,p.getI18NMsg("gs.search.result.mail.callout.bcc"))},u.renderToOthersList=function(e,s){if(e&&0<e.length){for(var t=h("<div>",{class:"zgs19_gsDropdownToListEmailHolder zgs19_gsfl"}),a=e.length,r=0;r<a;r++){var o=r+1===e.length?"":",",i=e[r],i=(i.emailAddress.address||i.emailAddress.name,e[r].hasOwnProperty("emailAddress")?e[r].emailAddress:""),n=i.hasOwnProperty("address")?i.address:i.hasOwnProperty("name")?i.name:"";t.append(h("<div>",{class:"zgs19_gsDropdownToListEmailIds zgs19_gsOverflow"}).append(h("<span>",{gstitle:n}).text(n+o)))}h("#zgs20_gsDropdownToList").append(h("<div>",{class:"zgs19_gsDropdownToListHolder"}).append(h("<div>",{class:"zgs19_gsDropdownToListLabel zgs19_gsfl"}).append(h("<span>",{gstitle:s}).text(s))).append(h("<div>",{class:"zgs19_gsSemicolon zgs19_gsfl"}).append(h("<span>").text(":"))).append(t))}},u.renderIframePreview=function(e,t,s,a){var r=o.createElement("iframe");r.id="zgs20_gmailIframePrev";s=s+"&"+p.originParam;r.src=s,r.className="zgs19_Border0px zgs19_gsDocsIframeTag zgs19_gsIframeBgColor",r.setAttribute("cardId",a),r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen","true"),r.setAttribute("sandbox","allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-presentation allow-same-origin allow-scripts"),r.onload=function(){var e="#"+h(t).attr("id")+" #zgs20_gmailIframePrev",s={action_type:"setIframeId",iframeId:e,type:u.curcalloutObj.type,pageThemeAndDir:p.pcPageDirAndTheme()};h(e).get(0).contentWindow.postMessage(s,p.GSConstant.cloud_preview_domain)},h(t.calloutFooter).empty().append(r)},u.downloadAttachment=function(e,s,t,a,r){var o=p.getCurrentResObj().id||a||"",i=r||"",a=p.getAppIdForCloudApps(i,p.GSConstant.GMAIL),r={};r.connector_id=i,r.service_name="gmail",r.action="getGMailUDAttachmentUrl",r.isExAttachment=!0,r.msgId=o,r.mimeType=t,r.fileName=encodeURIComponent(encodeURIComponent(s)),r.attId=e,r.app_id=a;e=p.GSConstant.ud_download_server_url,a=p.GSConstant.ud_service_name,a=e+"?event-id="+("search_download_"+(new Date).getTime())+"&x-cli-msg="+encodeURIComponent(JSON.stringify(r))+"&x-service="+a;p.network.download_file(a)},u.addToWD=function(e,s,t,a){var r={};r.service=p.GSConstant.GMAIL,r.attachmentId=s,r.folderId=t,r.msgId=a.messageId,r.isExAttachment=a.isExAttachment,r.mimeType=a.mimeType,r.fileName=encodeURIComponent(a.fileName),r.connectorId=e.accId||"",p.connectors.addFileToWD(r,e)},u.setServiceEleSize=function(e,s,t){t=t||p.getTargetElem("zgs20_gsGmailcallout"),p.setGSTagElems(t),u.setGmailCalloutEleSize(t),h("#"+e).css("height",s+"px")},u.addCalloutActionList=function(e,s){var t=e.getElementsByClassName("zgs19_gsCalloutActionList");h(t).empty().remove(),h(e.calloutActionHolder).append(h("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var t=e.getElementsByClassName("zgs19_gsCalloutActionList"),a=u.actionList,r=a.length,o=0;o<r;o++){var i,n,l=a[o];for(i in l)s&&"unread"==i||p.savePreviewNeeded(i)&&(n=p.getI18NMsg(l[i]),h(t).append(h("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:i,service:g.GMAIL,gstitle:n}).text(n)))}p.Utils.constructSaveBookmarkInCallout(t,g.GMAIL)},u.toggleMailStatus=function(a,r,o,i,n){var e,s,t,l;r&&(e=p.getCurrentSelectedElem().getAttribute("acc_id")||"",s=o.id,t=!0,"read"==a?t=!0:"unread"==a&&(t=!1),l=p.getAppIdForCloudApps(e),p.uri(p.POST,"/zgssearch/exconnector/getCalloutData","action=updateReadStatus&service_name=gmail&connector_id="+e+"&msgId="+s+"&isRead="+t+"&app_id="+l,{curRe:r,resObj:o,action:a,accountId:e,msgId:s,calloutObj:i,target:n},function(e,s,t){u.markAsReadOrUnreadAction(e,a,r,o,i,n)}))},u.getPreviewCrdParams=function(){var e=p.getCurrentResObj(),s=e.accId||p.getResultAccountId();return{entity_id:e.id,app_id:p.getAppIdForCloudApps(s),connector_id:s}},u.markAsReadOrUnreadAction=function(e,s,o,i,n,l){if(e&&"null"!==e){var g=p.jsonParse(e),c=g&&g.response||"";if("success"==c.status&&o){let r=n.calloutId;var d="";if(null!=(d=l?p.getNodeByAttr(l,"class","zgs19_gsServiceCalloutHolder"):p.getTargetElem(r))){e="",g="";"read"==s?e=p.getMailImageStatus(0):"unread"==s&&(e=p.getMailImageStatus(1));c=e.image,n=e.toBeImage,e=e.toBeTitle;h(o.resultMenuItem).attr("gstitle",e);let a=h(o).attr("acc_id");if("read"==s){i.isRead=!0,h(o.resultTitle).removeClass("zgs19_gsFtWeightBold").addClass("zgs19_gsFtWeightNormal"),g=p.getI18NMsg("gs.search.sevice_mail_maskAsUnRead"),h(d.ctitle).removeClass("zgs19_gsFtWeightBold").addClass("zgs19_gsFtWeightNormal"),h(o.resultMenuItem).removeClass(c).addClass(n),l&&h(l).attr("value","unread").attr("gstitle",g).text(g);let e=h(o).find('[labelid="Unread"]'),s=h("#"+r+" #zgs20_calloutGmailLabelList").find('[labelid="Unread"]'),t="cardPageResults"==h(o).attr("gs");e.addClass("zgs19_disableAndRemove"),s.addClass("zgs19_disableAndRemove"),setTimeout(function(){e.parents("#temp2Span").children().remove(),s.parents("#zgs20_calloutGmailLabelList").children().remove(),h("#"+r+" #zgs20_calloutGmailLabelList").children().remove(),p.gsgmailresults.pushLabelsToSpace(h(o),a,!0,t,"skipUnreadLabel"),u.addLabelsToCalloutMeta(i.labelIds,r,"skipUnreadLabel"),h(".zgs19_hvr_underline").off().on({mouseenter:function(){p.appendFilterIcon(this)},mouseleave:function(){p.removeFilterIcon(this)}})},3e3)}else"unread"==s&&(i.isRead=!1,h(o.resultTitle).removeClass("zgs19_gsFtWeightNormal").addClass("zgs19_gsFtWeightBold"),g=p.getI18NMsg("gs.search.sevice_mail_maskAsRead"),h(d.ctitle).removeClass("zgs19_gsFtWeightNormal").addClass("zgs19_gsFtWeightBold"),h(o.resultMenuItem).removeClass(c).addClass(n),l&&h(l).attr("value","read").attr("gstitle",g).text(g),g="cardPageResults"==h(o).attr("gs"),h(o).find(".zgs19_gsGmailFromAndLabelDetails #temp2Span").children().remove(),h("#"+r+" #zgs20_calloutGmailLabelList").children().remove(),u.addLabelsToCalloutMeta(i.labelIds,r,"addUnreadLabel"),p.gsgmailresults.pushLabelsToSpace(h(o),a,!0,g,"addUnreadLabel"),h(".zgs19_hvr_underline").off().on({mouseenter:function(){p.appendFilterIcon(this)},mouseleave:function(){p.removeFilterIcon(this)}}))}}}},u.calloutErrorMsg=function(e,s){var t;p.getCurrentSelectedElem()&&(p.hideCalloutLoader(s,t),t="ERROR"===e?p.getI18NMsg("gs.search.error.generic_error_messege"):p.getI18NMsg("gs.search.result.mail.status.callout.errortext"),p.calloutErrorPage(s,t))},u)}(zgssearch,window),function(_,o){var m,r=o.document,z=o._jQueryGS,v=_.getGSConstantObj()||{};_.gszendesk=(m=void 0,(m=_.gszendesk||{}).curCalloutObj=m.curCalloutObj||{},m.actionList=[{open:"common.open"},{copyLink:"gs.search.callout.copylink"},{savePreview:"gs.search.callout.savePreviewCard"}],m.getCalloutHolder=function(){return"zgs20_gszendeskCallout"},m.calloutParams=function(e){var s=_.getCurrentSelectedElem().getAttribute("acc_id")||"",t=e.id||"",a=o.location.protocol+"//"+o.location.host,r=_.getAppIdForCloudApps(s);return"ticket"===e.result_type?(returnURL="action=getOneTimeZendeskURLCallout&service_name=zendesk&connector_id="+s+"&ticketId="+t+"&domName="+a+"&app_id="+r+"&isWDEnabled="+_.addToWDEnabled()+"&external_url="+e.external_url,returnURL):"user"===e.result_type?"action=getZendeskUserInteractions&service_name=zendesk&app_id="+r+"&connector_id="+s+"&user_id="+e.id:void 0},m.createCalloutTemplate=function(e,s){var t,a,r=s.calloutId;z("#"+r).length<=0&&(t=_.getI18NMsg("gs.search.sevice_prevmax"),a=_.getI18NMsg("gs.search.sevice_prevmin"),a=z("<div>",{id:r,class:"zgs19_gsServiceCalloutHolder zgs19_gsZendeskCallout zgs19_gsDisplayNone"}).append(z("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(z("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(z("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:v.ZENDESK,target:"_blank",rel:"noopener noreferrer"}))).append(z("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:_.getNewTabTip(v.ZENDESK),service:v.ZENDESK})).append(z("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(z("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(z("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:v.ZENDESK})).append(z("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(z("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(z("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:t,gs:"maxpreview",service:v.ZENDESK})).append(z("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:a,gs:"minpreview",service:v.ZENDESK}))))).append(z("<div>",{id:"zgs20_gsZendeskCalloutTicketMetaInfo",class:"zgs19_gsCalloutMetaInfo",gs:"ticketModuleMetaInfo"}).append(z("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(z("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(z("<div>",{class:"zgs19_gsChatIconHolder",gs:"requesterImagePlaceHolder"}))).append(z("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(z("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(z("<div>",{class:""}).append(z("<span>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).text(_.getI18NMsg("gs.search.zendesk_from"))).append(z("<span>",{gs:"fromUserInZendesk",class:"zgs19_gsUserBackground zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl"}))).append(z("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(z("<span>",{gs:"date"})))).append(z("<div>",{class:"zgs19_gsCalloutUserHeader",gs:"headerRow2"})).append(z("<div>",{class:"zgs19_gsCalloutUserHeader",gs:"headerRow3"}))))).append(z("<div>",{id:"zgs20_gsZendeskCalloutUserMetaInfo",class:"zgs19_gsCalloutMetaInfo zgs19_gsCalloutUserMetaInfo",gs:"userModuleMetaInfo"}).append(z("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(z("<div>",{class:"zgs19_gsCalloutUserCalloutInfoHolder"}).append(z("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(z("<div>",{class:"zgs19_userImagePlaceHolder",gs:"userImagePlaceHolder"}))).append(z("<div>",{class:"zgs19_gsCalloutUserNameAndMailInfo"}).append(z("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsUserBackground zgs19_gsOverflow zgs19_gsfl",gs:"userNameInZendesk"})).append(z("<div>",{class:"zgs19_fieldsSeparator zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl"}).text("|")).append(z("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsUserBackground zgs19_gsOverflow zgs19_gsfl ",gs:"userMailIdInZendesk"}))).append(z("<div>",{class:"zgs19_gsZendeskUserRoleAndOrgInfo"}).append(z("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl",gs:"userCalloutRole"})).append(z("<div>",{class:"zgs19_fieldsSeparator zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsDisplayNone",gs:"separator"}).text(_.getI18NMsg("gs.search.service_people.status.in"))).append(z("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl",gs:"userCalloutOrg"}))).append(z("<div>",{class:"zgs19_gsZendeskMailAction zgs19_gswmschat zgs19_gsCurPointer zgs19_gsfl",gs:"sendMailOuterEle",gstitle:_.getI18NMsg("gs.search.sevice_mail_sendMail")}).append(z("<div>",{class:"zgs18_gsMailUnReadIcon",gs:"sendMail"}))).append(z("<span>",{class:"zgs19_gsCalloutUserStatus zgs19_trapezoidShape",gs:"userStatus"}))))).append(z("<div>",{class:"zgs19_gsCalloutFooter zgs19_gsCalloutTemplateFooter",gs:"calloutFooter"}).append(z("<div>",{class:""}))),z(s.parentElem).append(a),_.attachDoubleClickPopUpEvent()),z("#"+r).attr("ccount",e)},m.setzendeskCalloutEleSize=function(e){var s,t,a;e&&(s=z(e.header).outerHeight(),t="none"!=z(e.userModuleMetaInfo).css("display")?Math.max(260,z(e.userModuleMetaInfo).height()):0,a="none"!=z(e.ticketModuleMetaInfo).css("display")?z(e.ticketModuleMetaInfo).height():0,a=Math.max(t,a),a=z(e).height()-(s+a)-7,_.isMobViewport()&&(a-=_.getLHSServicePaneHeight()),z(e.calloutFooter).css("height",a+"px"),m.handleUserModuleSize(e))},m.calloutResponse=function(n,t,e,s){var a=s.searchObj;m.curCalloutObj=a;var l=_.getTargetElem(a.calloutId);_.setGSTagElems(l),_.setGSTagElems(e);var r=t.result_type;s=s||{},n=n||{},m.calloutRespData=n;z(l).attr("ccount");z(l).attr("resultType",r);var o=t.external_url||"";z(l.ctitle).attr("href",o),z(l.clink).attr("gstitle",_.getNewTabTip(v.ZENDESK)),z(l.clink).css("display","block"),z(l.ticketModuleMetaInfo).css("display","none"),z(l.userModuleMetaInfo).css("display","none");var i=t.organization_name,g=z(l.calloutFooter);if(g.empty(),g.removeClass("zgs19_gsTicketTemplateFooter"),"ticket"==r){z(l.ticketModuleMetaInfo).css("display","block"),z(l.ticketModuleMetaInfo).css("minHeight",95),z(l.ticketModuleMetaInfo).css("maxHeight",95),(p=z(l.requesterImagePlaceHolder)).empty(),t.hasOwnProperty("requester_image_url")?(d="zgs20_zendeskCalloutImage_"+z(l).attr("ccount"),p.removeClass("zgs18_gsZendeskUserNoImg zgs19_zendeskCalloutNoUserImage"),p.append(z("<img>",{id:d,src:_.gsspacer,class:"zgs19_gsFetchImgLoader zgs19_zendeskCalloutUserImage zgs19_gsCalloutUserImg",gs:"userImage"})),_.renderCalloutUserPhoto(d,_.replaceHTMLEntity(t.requester_image_url))):p.addClass("zgs18_gsZendeskUserNoImg zgs19_zendeskCalloutNoUserImage");var c=t.subject||"";c=_.replaceHTMLEntity(t.subject);o=z("<div>");o.append(z("<span>",{class:"zgs19_zendeskCalloutTicketID zgs19_gsfl"}).text("#"+t.id)),o.append(z("<span>",{gslabel:"Subject",gstitle:c}).text(c)),o.addClass("zgs19_gsOverflow zgs19_zendeskCalloutTitle"),z(l.ctitle).empty().append(o),z(l.fromUserInZendesk).empty().text(t.requester_name||"-"),z(l.fromUserInZendesk).attr("gslabel",_.getI18NMsg("gs.search.zendesk_requester")),z(l.fromUserInZendesk).attr("gstitle",t.requester_name||"-"),z(l.date).empty().text(t.updated_at||""),z(l.date).attr("gslabel",_.getI18NMsg("gs.search.sevice_docs_lastModifiedTime")),z(l.date).attr("gstitle",t.updated_at||"");let e=!0;var d=z(l.headerRow2);d.find(".zgs19_zendeskCalloutColumn1").remove(),d.find(".zgs19_zendeskCalloutColumn2").remove(),d.find(".zgs19_zendeskCalloutColumn3").remove(),i&&(d.append(z("<div>",{class:"zgs19_zendeskCalloutColumn1 zgs19_gsOverflow zgs19_gsfl "}).append(z("<span>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl"}).text(_.getI18NMsg("gs.search.zendesk_in"))).append(z("<span>",{gs:"orgName",gstitle:i,gslabel:_.getI18NMsg("gs.search.multi.organization"),class:"zgs19_gsMxWid85Per zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl"}).text(i))),e=!1);o=t.assignee_name;o&&(d.append(z("<div>",{class:"zgs19_zendeskCalloutColumn2 zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid60Per "}).append(z("<span>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid50Per"}).text(_.getI18NMsg("gs.search.zendesk_assignedToInCalloutMeta"))).append(z("<span>",{gs:"assignee_name",gstitle:o,gslabel:_.getI18NMsg("gs.search.service_projects_assignee"),class:" zgs19_gsMxWid60Per zgs19_gsMxWid70Per zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl"}).text(o))),e=!1);o=_.getI18NMsg("gs.search.zendesk_ticketModule");d.append(z("<div>",{class:"zgs19_zendeskCalloutColumn3 zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(z("<span>",{gs:"module",gslabel:_.getI18NMsg("gs.search.multi.module"),gstitle:o}).text(o)));o=z(l.headerRow3);o.find(".zgs19_zendeskCalloutColumn1").remove(),o.find(".zgs19_zendeskCalloutColumn2").remove(),e&&(o=d);d=t.priority;d&&o.append(z("<div>",{class:"zgs19_zendeskCalloutColumn1 zgs19_gsOverflow zgs19_gsfl "}).append(z("<span>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl"}).text(_.getI18NMsg("gs.search.zendesk_priorityInCallout"))).append(z("<span>",{gs:"priority",gslabel:_.getI18NMsg("gs.search.zendesk_ticketPriority"),gstitle:t.priority,class:"zgs19_gsMxWid45Per zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl"}).text(d)));d=t.custom_status||t.status;d&&o.append(z("<div>",{class:"zgs19_zendeskCalloutColumn2 zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid60Per"}).append(z("<span>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid50Per "}).text(_.getI18NMsg("gs.search.zendesk_statusInCallout"))).append(z("<span>",{gs:"status",gslabel:_.getI18NMsg("gs.search.zendesk_ticketStatus"),gstitle:d,class:"zgs19_gsCalloutUserValue zgs19_gsMxWid70Per zgs19_gsOverflow zgs19_gsfl"}).text(d)));d=a.hasOwnProperty("type")?a.type:"search";s.updateRecord||s.updateDueDate?_.gsaction.currSearchType.getCurrentResultObj():_.hasOwnProperty("pccomponent")?0:d!==_.dbCrdCalloutType&&d!==_.crdPagecalloutType&&_.Utils.getResultObjectofType(d,a.cardId),((n=n.hasOwnProperty("response")?n.response:n).hasOwnProperty("status")&&"success"==n.status||n.url)&&(g.addClass("zgs19_gsTicketTemplateFooter"),m.renderIframePreview(t,l,n.url)),z(l.calloutFooter).scrollTop(0),z(l.calloutFooter).scrollLeft(0),m.addCalloutActionList(l)}else if("user"==r){z(l.maxpreview).css("display","none"),z(l.actionPipe).css("display","none"),z(l.lineicon).css("display","none"),z(l.userModuleMetaInfo).css("display","block");var p,c=t.name||"";if(z(l.ctitle).empty().text(c).attr("gstitle",c),(p=z(l.userImagePlaceHolder)).empty(),t.hasOwnProperty("photo")){var u="zgs20_zendeskCalloutImage_"+z(l).attr("ccount");p.append(z("<img>",{id:u,src:_.gsspacer,class:"zgs19_gsFetchImgLoader zgs19_zendeskCalloutUserImage zgs19_gsCalloutUserImg",gs:"userImage"})),_.renderBigCalloutUserPhoto(u,_.replaceHTMLEntity(t.photo))}else{var h="";splitStr=t.name.split(" ");for(let e=0;e<Math.min(2,splitStr.length);e++)h+=splitStr[e][0].toUpperCase();p.text(h)}u=t.role||"-",e=z(e).attr("acc_id");if(!_.isPreviewCard(a)&&e&&(u=_.gszendeskresults.getZendeskUserRole(e,u)),z(l.userNameInZendesk).empty().text(t.name||""),z(l.userNameInZendesk).attr("gslabel",_.getI18NMsg("common.userName")),z(l.userNameInZendesk).attr("gstitle",t.name||""),t.email&&""!=t.email?(z(l.userMailIdInZendesk).show(),z(l).find(".zgs19_gsCalloutUserNameAndMailInfo .zgs19_fieldsSeparator").show(),z(l.userMailIdInZendesk).empty().text(t.email||"-"),z(l.userMailIdInZendesk).attr("gslabel",_.getI18NMsg("common.email")),z(l.userMailIdInZendesk).attr("gstitle",t.email||"-")):(z(l.userMailIdInZendesk).hide(),z(l).find(".zgs19_gsCalloutUserNameAndMailInfo .zgs19_fieldsSeparator").hide()),z(l.userCalloutRole).empty().text(u),z(l.userCalloutRole).attr("gslabel",_.getI18NMsg("gs.search.zendesk_userRole")),z(l.userCalloutRole).attr("gstitle",u),z(l.userCalloutOrg).empty(),i?(z(l.separator).removeClass("zgs19_gsDisplayNone"),z(l.userCalloutOrg).text(i),z(l.userCalloutOrg).attr("gslabel",_.getI18NMsg("gs.search.multi.organization")),z(l.userCalloutOrg).attr("gstitle",i)):z(l.separator).addClass("zgs19_gsDisplayNone"),t.hasOwnProperty("active")){let e=_.getI18NMsg("gs.search.zendesk_inactiveUser"),s="zgs19_gsInactiveUserTag";t.active&&(e=_.getI18NMsg("gs.search.zendesk_activeUser"),s="zgs19_gsActiveUserTag"),z(l.userStatus).text(e),z(l.userStatus).addClass(s),z(l.userStatus).attr("gstitle",_.getI18NMsg("gs.search.zendesk_userStatus"))}t.email&&""!=t.email&&(z(l.sendMail).attr("email",t.email),z(l.sendMailOuterEle).attr("email",t.email),z(l.sendMailOuterEle).attr("gs","sendMail"),z(l.sendMail).attr("gstitle",_.getI18NMsg("gs.search.sevice_mail_sendMail")));u=function(){var a=(n=n.hasOwnProperty("response")?n.response:n).interactions||[],r=z("<div>",{class:"zgs19_zendeskInteractionsTickets"}),e=a.length,s=z(l.calloutFooter).find(".zgs19_gsInteractionsParent").outerHeight()-50,o=Math.max(1,Math.min(Math.round(s/100),10));for(let t=0;t<e&&t<10;t++){var i=a[t];let e=_.replaceHTMLEntity(i.subject);e&&""==e.trim()&&(e=_.getI18NMsg("gs.search.zendesk_noSubject"));let s="";t>=o&&(s="zgs19_hideInteractionTicket");i=z("<div>",{class:"zgs19_zendeskInteractionsTicket "+s}).append(z("<div>",{class:"zgs19_zendeskInteractionsTicketCol1"}).append(z("<div>",{class:"zgs18_gsZendeskTicket zgs19_gsZendeskTicketInResultsView",gslabel:_.getI18NMsg("gs.search.zendesk_ticket"),gstitle:i.id})),z("<div>",{class:"zgs19_zendeskInteractionsTicketCol2"}).append(z("<div>",{class:"zgs19_zendeskInteractionsTicketRow1"}).append(z("<a>",{class:"zgs19_zendeskInteractionsSubject",gstitle:_.getI18NMsg("gs.search.zendesk_openInZendeskApp"),href:i.external_url,target:"_blank",rel:"noopener noreferrer"}).append(z("<span>",{class:"zgs19_zendeskInteractionsId"}).text("#"+i.id)).append(z("<div>",{class:"zgs19_gsOverflow",gslabel:_.getI18NMsg("common.subject"),gstitle:e}).text(e)).append(z("<span>",{class:"zgs18_gsNTab"})),z("<div>",{class:"zgs19_zendeskInteractionsDate",gstitle:_.getI18NMsg("gs.search.sevice_docs_lastModifiedTime")}).text(i.updated_at)),z("<div>",{class:"zgs19_zendeskInteractionsTicketRow2"}).append(z("<div>",{class:"zgs19_zendeskInteractionsStatusLabel"}).text(_.getI18NMsg("gs.search.zendesk_statusInCallout")),z("<div>",{class:"zgs19_zendeskInteractionsStatusValue",gslabel:_.getI18NMsg("gs.search.zendesk_ticketStatus"),gstitle:i.custom_status||i.status||"-"}).text(i.custom_status||i.status||"-"))));r.append(i)}let t="";0==e?t=z("<div>",{class:"zgs19_zendeskNoInteractions"}).text(_.getI18NMsg("gs.search.zendesk_noInteractions")):o<e&&(r.append(z("<div>",{class:"zgs19_zendeskViewMoreInteractions",gs:"zendeskViewMoreInteractions"}).text(_.getI18NMsg("gs.search.zendesk_viewMore"))),10<=e&&r.append(z("<div>",{id:"zgs20_zendeskViewAllInteractions",class:"zgs19_gsDisplayNone"}).append(z("<a>",{istip:!0,href:z(l.ctitle).attr("href"),service:v.ZENDESK,target:"_blank",rel:"noopener noreferrer"}).text(_.getI18NMsg("gs.search.zendesk_showAllInZendesk"))).append(z("<a>",{class:"zgs18_gsNTab",href:z(l.ctitle).attr("href"),istip:!0,service:v.ZENDESK,target:"_blank",rel:"noopener noreferrer"})))),g.find(".zgs19_gsInteractionsParent").append(t).append(r)};g.append(z("<div>",{class:"zgs19_gsInteractionsParent"}).append(z("<div>",{class:"zgs19_zendeskInteractionsTitle"}).text(_.getI18NMsg("gs.search.zendesk_interactions")))),z(l.zendeskCalloutData).scrollTop(0),z(l.zendeskCalloutData).scrollLeft(0),m.addCalloutActionList(l),_.hideCalloutLoader(a)}a.iconDisplay&&(z(l.maxpreview).css("display","block"),z(l.actionPipe).css("display","block")),m.setzendeskCalloutEleSize(l);a=_.isPreviewCard(a);(_.getCurrentSelectedElem()||_.hasOwnProperty("pccomponent")&&_.pccomponent||a)&&z(l).css("display","block"),m.handleUserModuleSize(l),u&&u(),_.calloutVisitRequest()},m.getPreviewCrdParams=function(){var e=_.getCurrentResObj(),s=e.accId||_.getResultAccountId();return{entity_id:e.id,app_id:_.getAppIdForCloudApps(s),connector_id:s,result_type:e.result_type,external_url:e.external_url}},m.renderIframePreview=function(e,t,s){var a=r.createElement("iframe");a.id="zgs20_zendeskIframePrev";s=s+"&"+_.originParam;a.src=s,a.className="zgs19_Border0px zgs19_gsDocsIframeTag zgs19_gsIframeBgColor",a.setAttribute("frameborder","0"),a.onload=function(){var e="#"+z(t).attr("id")+" #zgs20_zendeskIframePrev",s={action_type:"setIframeId",iframeId:e,type:m.curCalloutObj.type,pageThemeAndDir:_.pcPageDirAndTheme()};z(e).get(0).contentWindow.postMessage(s,_.GSConstant.cloud_preview_domain)};s=z("<div>",{class:"zgs19_cloudServiceIframeLoader zgs19_gsHght100Per"}).append(_.getFourDotLoader("","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_iframeLoaderIcon"));a.setAttribute("sandbox","allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-presentation allow-same-origin allow-scripts"),z(t.calloutFooter).empty().append(a).append(s)},m.addToWD=function(e,s,t,a){var r={};r.service=_.GSConstant.ZENDESK,r.contentURL=encodeURIComponent(s),r.folderId=t,r.fileName=encodeURIComponent(a.fileName),r.connectorId=e.accId||"",_.connectors.addFileToWD(r,e)},m.setServiceEleSize=function(e,s,t){t=t||_.getTargetElem("zgs20_gszendeskcallout"),_.setGSTagElems(t),m.setzendeskCalloutEleSize(t),z("#"+e).css("height",s+"px")},m.addCalloutActionList=function(e){var s=e.getElementsByClassName("zgs19_gsCalloutActionList");z(s).empty().remove(),z(e.calloutActionHolder).append(z("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var s=e.getElementsByClassName("zgs19_gsCalloutActionList"),t=m.actionList,a=t.length,r=0;r<a;r++){var o,i=t[r];for(o in i){var n=_.getI18NMsg(i[o]);_.savePreviewNeeded(o)&&z(s).append(z("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:o,service:v.ZENDESK,gstitle:n}).text(n))}}_.Utils.constructSaveBookmarkInCallout(s,v.ZENDESK)},m.calloutErrorMsg=function(e,s){var t;_.getCurrentSelectedElem()&&(_.hideCalloutLoader(s,t),t="ERROR"===e?_.getI18NMsg("gs.search.error.generic_error_messege"):_.getI18NMsg("gs.search.result.mail.status.callout.errortext"),_.calloutErrorPage(s,t))},m.downloadAttachment=function(e){_.network.download_file(e)},m.handleUserModuleSize=function(e){"user"==z(e).attr("resultType")||"user"==z(e).find(".zgs19_gsZendeskCallout").attr("resultType")?(z(e.userModuleMetaInfo).css("maxWidth","unset"),z(e.calloutFooter).css("maxWidth","unset"),z(e.userModuleMetaInfo).css("maxWidth",Math.min(900,z(e.calloutFooter).width())+"px"),z(e.calloutFooter).css("maxWidth",Math.min(900,z(e.calloutFooter).width())+"px"),z(e).outerHeight()<400?z(e).css("overflow-y","auto"):z(e).css("overflow-y","")):(z(e.ticketModuleMetaInfo).css("maxWidth","unset"),z(e.calloutFooter).css("maxWidth","unset"))},m)}(zgssearch,window),function(n,i){let r=i.document,l=i._jQueryGS,g=n.getGSConstantObj()||{};var c;n.gssalesiqcallout=(c=void 0,(c=n.gssalesiqcallout||{}).actionList=[{open:"common.open"},{copyLink:"gs.search.callout.copylink"},{savePreview:"gs.search.callout.savePreviewCard"}],c.getCalloutHolder=function(){return"zgs20_gsSalesIQCallout"},c.createCalloutTemplate=function(e,s){var t,a,r,o,i=s.calloutId;l("#"+i).length<=0&&(t=n.getI18NMsg("gs.search.sevice_prevmax"),a=n.getI18NMsg("gs.search.sevice_prevmin"),r=n.getI18NMsg("common.new_tab"),o=n.getFourDotLoader("zgs20_gssalesiqcalloutPrevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader zgs19_gsDisplayNone"),o=l("<div>",{id:i,class:"zgs19_gsServiceCalloutHolder zgs19_gsSalesIQCalloutHolder zgs19_gsDisplayNone"}).append(l("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(l("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(l("<a>",{class:"zgs19_gsCalloutTitleLink zgs19_gsOverflow zgs19_gsfl",gs:"ctitle",istip:!0,service:g.SALESIQ,target:"_blank",rel:"noopener noreferrer"}))).append(l("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:r,service:g.SALESIQ})).append(l("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(l("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(l("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:g.SALESIQ})).append(l("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(l("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(l("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:t,gs:"maxpreview",service:g.SALESIQ})).append(l("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:a,gs:"minpreview",service:g.SALESIQ}))))).append(l("<div>",{class:"zgs19_gsSalesIQCalloutFooter zgs19_gsOverflowHidden",gs:"calloutFooter"}).append(o).append(l("<div>",{id:"zgs20_gsSalesIQPreviewHolder",class:"zgs19_gsDocsPreviewHolder",gs:"salesiqpreviewholder"}))),l(s.parentElem).append(o)),l("#"+i).attr("ccount",e)},c.setSalesIQCalloutEleSize=function(e){var s=0<l(e.header).length?40:0;let t=l(e).height()-s;n.isMobViewport()&&(t-=n.getLHSServicePaneHeight()),l(e.calloutFooter).css("height",t+"px")},c.calloutResponse=function(t,a,r){var o=r.searchObj,r=n.getTargetElem(o.calloutId);if(r){n.setGSTagElems(r),n.setGSTagElems(a),l(r.actionPipe).hide(),l(r.maxpreview).hide(),l(r.minpreview).hide();a=l(a.resultTitle).attr("gslabel")||"";l(r.ctitle).attr("gslabel",a);a=t.moduleId;let s=n.gssalesiqutils.modClassObj[a];if(s){let e=new s(-1,t);a=e.getTitle()||n.getI18NMsg("gs.search.service_connect.callout.noTitle");l(r.ctitle).empty().text(a).attr("gstitle",e.getTitle(!0)).removeClass("zgs19_gsMxWid90Per"),l(r.ctitle).siblings(".zgs19_gsSIQVisitorIdData").remove();a=e.getTitleDetails(!0);a&&(l(r.ctitle).parent().append(a),l(r.ctitle).attr("gslabel",n.getI18NMsg("gs.salesiq.visitor_name_and_id"))),l(r.ctitle).attr("href",n.fetchCalloutUrl(g.SALESIQ,t,"")),c.renderSalesIQPreview(r,t,e);t=n.isPreviewCard(o);t||(n.isMaxCalloutOpen?l(r.minpreview).show():o.iconDisplay&&l(r.maxpreview).show()),(n.getCurrentSelectedElem()||n.hasOwnProperty("pccomponent")&&n.pccomponent||t)&&(n.hideCalloutLoader(o),l(r).show()),a?(n.setGSTagElems(r),a=l(r.visitorid).width(),l(r.ctitle).css("max-width","calc(100% - "+a+"px)")):l(r.ctitle).css("max-width","none"),l(r.calloutFooter).scrollTop(0),l(r.calloutFooter).scrollLeft(0),n.calloutVisitRequest()}}},c.addCalloutActionList=function(e){var s=e.getElementsByClassName("zgs19_gsCalloutActionList");l(s).empty().remove(),l(e.calloutActionHolder).append(l("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));var s=e.getElementsByClassName("zgs19_gsCalloutActionList"),t=c.actionList,a=t.length;for(let e=0;e<a;e++){var r,o=t[e];for(r in o){var i=n.getI18NMsg(o[r]);"embedPreview"==r&&(n.isDashboardViewOpened()||n.isCardViewOpened())||l(s).append(l("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:r,service:g.SALESIQ}).text(i))}}},c.getUrl=function(a,r,o){var e=a.moduleId||a[n.module_id];if(r=r||a.accId||a.account_id||n.getResultAccountId(),n.gssalesiqutils.portalVsApiName[r]){let t=n.gssalesiqutils.modClassObj[e];if(t){let e=new t(-1,a,r),s=e.getIframeUrl();return o&&(s+="?"+n.originParam,i.location.hostname!=n.GSConstant.searchdomainURL&&(s+=","+n.httpstxt+"://"+n.GSConstant.searchdomainURL)),s}}},c.renderSalesIQPreview=function(e,s,t){c.setSalesIQCalloutEleSize(e);t=c.getUrl(s,"",!0,t);l(e.calloutFooter).addClass("zgs19_gsOverflowHidden");let a="";t&&"null"!==t?(l(e.loadericon).show(),l(e.salesiqpreviewholder).empty(),a=r.createElement("iframe"),a.src=t,a.className="zgs19_Border0px zgs19_gsSalesIQIframeTag",a.setAttribute("frameborder","0"),a.setAttribute("allowfullscreen","true"),a.onload=function(){n.calloutVisitRequest(),l(e.calloutFooter).removeClass("zgs19_gsOverflowHidden"),l(e.loadericon).hide(),c.setThemeModeForPreview()}):(t=n.getI18NMsg("gs.search.sevice_docs_previewfolerr"),l(e.calloutLoader).hide(),a=l("<div>",{class:"zgs19_gsDocsPreviewError",gstitle:t}).text(t),l(e.calloutFooter).removeClass("zgs19_gsOverflowHidden")),l(e.salesiqpreviewholder).append(a),l(e.salesiqpreviewholder).css("visibility","visible"),c.addCalloutActionList(e)},c.setThemeModeForPreview=function(){var e=r.getElementsByClassName("zgs19_gsSalesIQIframeTag")[0];let s={MODE:"THEME_CHANGE_HANDLER"};if(s.data=s.data||{},n.GSConstant.isNightModeEnabled?s.data.mode="dark":s.data.mode="light",!l.isEmptyObject(s)){const t=e.contentWindow;t.postMessage(s,e.src)}},c.setServiceEleSize=function(e,s,t){t=t||n.getTargetElem("zgs20_gsSalesIQCallout"),n.setGSTagElems(t),c.setSalesIQCalloutEleSize(t),e&&l("#"+e).css("height",s+"px")},c.getPreviewCard=function(e){var s=n.getTargetElem(e.calloutId);n.setGSTagElems(s),c.renderSalesIQPreview(s,e)},c.getPreviewCrdParams=function(){let e={};var s=n.getCurrentResObj();return e.entity_id=s.id,e.account_id=s.accId||n.getResultAccountId(),e[n.module_id]=s.moduleId,e},c)}(zgssearch,window),function(e,i){var o,n=i.document;e.gssecurity=(o=void 0,(o=e.gssecurity||{}).textDecoder=function(e){var a=i.document,r=!1,o=!1;"function"!=typeof i.HTMLTemplateElement||(t=a.createElement("template")).content&&t.content.ownerDocument&&(a=t.content.ownerDocument);function s(e){var s;if(r){try{e=i.encodeURI(e)}catch(e){}var t=new i.XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(null),s=t.response}if(o)try{s=(new i.DOMParser).parseFromString(e,"text/html")}catch(e){}return s&&s.documentElement||((t=(s=a.implementation.createHTMLDocument("")).body).parentNode.removeChild(t.parentNode.firstElementChild),t.outerHTML=e),a.getElementsByTagName.call(s,"body")[0]}var t=a.implementation&&void 0!==a.implementation.createHTMLDocument&&9!==a.documentMode;t&&function(){var e=s('<svg><g onload="this.parentNode.remove()"></g></svg>');e.querySelector("svg")||(r=!0);try{(e=s('<svg><p><style><img src="</style><img src=x onerror=alert(1)//">')).querySelector("svg img")&&(o=!0)}catch(e){}}();t=s("<textarea class='toDecode'></textarea>").getElementsByClassName("toDecode")[0];return t.innerHTML=e,t.value},o.createTextNode=function(e){var s=n.createDocumentFragment();return s.appendChild(n.createTextNode(e||"")),s},o.createFontNode=function(e,s){var t=n.createElement("FONT");if(s)for(var a in s)t.setAttribute(a,s[a]);var r=o.createTextNode(e),e=n.createDocumentFragment();return e.appendChild(r),t.appendChild(e),t},o.getHighlightTextNode=function(e,s,t,a){var r=n.createDocumentFragment();return e&&(e=o.createTextNode(e),r.appendChild(e)),s&&(a=o.createFontNode(s,a),r.appendChild(a)),t&&(t=o.createTextNode(t),r.appendChild(t)),r},o)}(zgssearch,window),function(e){e=(e.gscomponent||{}).onZSReady;e&&e()}(zgssearch,window);
