function addPopoverEvent(t){document.addEventListener("click",(function(t){if(LytePopup._stopPropagation)LytePopup._sourceComp.setData("ltPropStopClick",!1);else{for(var e=t.target;!$L(e).hasClass("popoverWrapper")&&"LYTE-POPOVER-FREEZE"!=e.tagName&&"LYTE-DROP-BOX"!=e.tagName&&"HTML"!=e.tagName;)if(!(e=e.parentElement))return;if("HTML"==e.tagName||"LYTE-POPOVER-FREEZE"==e.tagName)for(var o=LytePopup.components.length-1;o>=0;o--){var i=!1;if((s=$L(LytePopup.components[o].childComp).find("lyte-dropdown"))[0])for(var l=0;l<s.length;l++)s[l]&&s[l].getData("ltPropIsOpen")&&(i=!0);if("LYTE-POPOVER"==LytePopup.components[o].$node.tagName&&"visible"==LytePopup.components[o].childComp.style.visibility&&!i){var a=LytePopup.components[o].$node;if(a&&a.component.getData("visible")&&a.component.getData("ltPropCloseOnBodyClick")&&!a.component.getData("dragRunning")&&(!$L(t.target).closest("lyte-input")[0]||!a.component.getData("ltPropIgnoreInput"))){a.component.setData("visible",!1),a.ltProp("show",!1);break}}}else if(e.classList.contains("popoverWrapper")&&LytePopup.components.length>1&&"LYTE-POPOVER"==LytePopup.components[LytePopup.components.length-1].$node.tagName){var s,r=LytePopup.components[LytePopup.components.length-1];i=!1;if((s=$L(r.childComp).find("lyte-dropdown"))[0])for(o=0;o<s.length;o++)s[o]&&s[o].getData("ltPropIsOpen")&&(i=!0);!r.childComp.contains(e)&&r.getData("visible")&&r.getData("ltPropCloseOnBodyClick")&&(r.setData("visible",!1),r.$node.ltProp("show",!1))}}}),!0),window.addEventListener("scroll",(function(t){if($L(t.target).closest(".lytePopover")[0]&&t.preventDefault(),LytePopup.makingVisible)LytePopup.makingVisible=!1;else for(var e,o=LytePopup.components.length-1;o>=0;o--)if(LytePopup.components[o].$node&&"LYTE-POPOVER"==LytePopup.components[o].$node.nodeName&&"visible"==LytePopup.components[o].childComp.style.visibility){if(e=LytePopup.components[o].childComp,LytePopup.components[o].data.ltPropCloseOnScroll&&!$L(t.target).closest(".popoverWrapper")[0])return LytePopup.components[o].event=t,void LytePopup.components[o].setData("ltPropShow",!1);if(e&&e._callee.component.$node.ltProp("scrollable")&&LytePopup.components[o].callOnScroll(t)){var i=e.querySelector(".lytePopover");if(!i)return;for(;"LYTE-WORMHOLE"!=i.tagName;)i=i.parentElement;for(var l=t.target;"LYTE-WORMHOLE"!=l.tagName&&"HTML"!=l.tagName&&"#document"!=l.nodeName;)l=l.parentElement;if("LYTE-WORMHOLE"==l.tagName&&l.isEqualNode(i))return;if(i._callee.component.computeOffsetImpl(),i._callee.component.getData("ltPropForceScroll"))continue;var a=document.querySelector(i._callee.ltProp("originElem"));i._callee.ltProp("hostElement")&&(a=document.querySelector(i._callee.ltProp("hostElement")).shadowRoot.querySelector(i._callee.ltProp("originElem")));var s=t.target,r=a.getBoundingClientRect(),n=i._callee.ltProp("boundary"),d=i.querySelector(".lytePopover"),p=i._callee.getData("ltPropWindowSpacing")||{};if(p.top||(p.top=0),p.bottom||(p.bottom=0),p.right||(p.right=0),p.left||(p.left=0),0===Object.keys(n).length&&n.constructor===Object||(n.top&&d.getBoundingClientRect().top<parseFloat(n.top)||n.bottom&&d.getBoundingClientRect().bottom>parseFloat(n.bottom)||n.left&&d.getBoundingClientRect().left<parseFloat(n.left)||n.right&&d.getBoundingClientRect().right>parseFloat(n.right))&&i._callee.ltProp("show",!1),s.contains(a)){var h=i.querySelector("#lytePopoverArrow");if(h&&h.classList.contains("lytePopoverArrowBottom")&&r.top+r.height/2>window.innerHeight&&i._callee.ltProp("show",!1),h&&(h.classList.contains("lytePopoverArrowLeft")||h.classList.contains("lytePopoverArrowRight"))&&(h.getBoundingClientRect().bottom>=i.querySelector(".lytePopover").getBoundingClientRect().bottom||h.getBoundingClientRect().top<=i.querySelector(".lytePopover").getBoundingClientRect().top)&&i._callee.ltProp("show",!1),"#document"==s.nodeName){var c=Math.max(document.documentElement.clientHeight,window.innerHeight||0),f=Math.max(document.documentElement.clientWidth,window.innerWidth||0);(r.top<p.top||r.bottom+3>=c-p.bottom)&&i._callee.ltProp("show",!1),(r.left<p.left||r.right+3>=f-p.right)&&i._callee.ltProp("show",!1)}else{var m=s.getBoundingClientRect();(m.top+p.top>r.top||m.top+m.height-p.bottom<r.top+r.height)&&i._callee.ltProp("show",!1),(m.left+p.left>r.left||m.left+m.width-p.right<r.left+r.width)&&i._callee.ltProp("show",!1)}}}}}),!0),window.addEventListener("resize",(function(t){LytePopup._lytePopoverRTId&&(clearTimeout(LytePopup._lytePopoverRTId),LytePopup._lytePopoverRTId=!1);for(var e=LytePopup.components.length-1;e>=0;e--)LytePopup.components[e].$node.component;LytePopup._lytePopoverRTId=setTimeout((function(){for(var e=LytePopup.components.length-1;e>=0;e--)LytePopup.components[e].$node&&"LYTE-POPOVER"==LytePopup.components[e].$node.nodeName&&"visible"==LytePopup.components[e].childComp.style.visibility&&LytePopup.components[e].childComp.querySelector(".lytePopover")&&(LytePopup.components[e].$node.component.setData("resize",!0),LytePopup.components[e].$node.component.updateScrollHandling(t));LytePopup._lytePopoverRTId=!1}),100)}),!0)}if(Lyte.Component.register("lyte-wormhole",{_template:'<template tag-name="lyte-wormhole"> <lyte-yield yield-name="lyte-content"></lyte-yield> </template>',_dynamicNodes:[{type:"insertYield",position:[1]}],_observedAttributes:["ltPropQuery","ltPropAppendOnCreation","ltPropAppend","ltPropShow","ltPropFocusOnClose","stackMap"],data:function(){return{ltPropQuery:Lyte.attr("string"),ltPropAppendOnCreation:Lyte.attr("boolean",{default:!0}),ltPropAppend:Lyte.attr("boolean",{default:!1}),ltPropShow:Lyte.attr("boolean",{default:!1}),ltPropFocusOnClose:Lyte.attr("boolean",{default:!1}),stackMap:Lyte.attr("object",{default:{"LYTE-MODAL":"modalStack","LYTE-BETA-MODAL":"betaModalStack","LYTE-BETA-POPOVER":"betaPopoverStack","LYTE-POPOVER":"popoverStack","LYTE-MESSAGEBOX":"messageboxStack","LYTE-ALERT":"alertStack","LYTE-COLORBOX":"colorboxStack"}})}},didDestroy:function(){var t=this.createUtilObj(this);this.handleRemovalFromStack(t),this.parent=null,_lyteUiUtils&&_lyteUiUtils.popupStack&&_lyteUiUtils.popupStack.globalStack&&_lyteUiUtils.popupStack.globalStack.length<=0&&(_lyteUiUtils.popupStack=null)},initFunc:function(){_lyteUiUtils.popupStack||(_lyteUiUtils.popupStack={globalStack:[],modalStack:[],betaModalStack:[],betaPopoverStack:[],popoverStack:[],alertStack:[],messageboxStack:[],colorboxStack:[]});var t=this.createUtilObj(this);this.$node.getData("ltPropShow")?this.handleInsertionIntoStack(t):this.handleRemovalFromStack(t)}.observes("ltPropQuery","ltPropShow").on("init"),didConnectFunc:function(){this.getData("ltPropAppendOnCreation")&&this.$node.ltProp("append",!0)}.observes("ltPropQuery").on("didConnect"),appendObserver:function(){this.getData("ltPropAppend")?this.appendContent():this.bringContentBack()}.observes("ltPropAppend"),appendContent:function(){var t=this.data.ltPropQuery?document.querySelector(this.data.ltPropQuery):document.body;t?this.getMethods("onBeforeAppend")&&0==this.executeMethod("onBeforeAppend",this.$node,t)||(this.parent=this.$node.parentElement,_lyteUiUtils.appendChild(t,this.$node),this.appended=!0,this.getMethods("onAppend")&&this.executeMethod("onAppend",this.$node,t)):console.error("Provide valid outlet to append")},bringContentBack:function(){_lyteUiUtils.appendChild(this.parent,this.$node)},createUtilObj:function(t){var e={};return t.parent?e.parentElement=t.parent:e.parentElement=t.$node.parentElement,e.focusedElement=document.activeElement,e.childElement=t.$node,e},popUtilObj:function(t,e,o){t&&_lyteUiUtils&&_lyteUiUtils.popupStack&&_lyteUiUtils.popupStack[e]&&_lyteUiUtils.popupStack[e].length>=1&&_lyteUiUtils.popupStack[e].forEach(function(o,i){o.parentElement!=t.parentElement||Lyte.arrayUtils(_lyteUiUtils.popupStack[e],"removeAt",i,1)}.bind(o))},handleInsertionIntoStack:function(t){if(t&&t.parentElement&&t.parentElement.tagName){var e=t.parentElement.tagName,o=this.getData("stackMap")[e];Lyte.arrayUtils(_lyteUiUtils.popupStack.globalStack,"push",t),o&&Lyte.arrayUtils(_lyteUiUtils.popupStack[o],"push",t)}},handleRemovalFromStack:function(t){if(_lyteUiUtils&&_lyteUiUtils.popupStack&&_lyteUiUtils.popupStack.globalStack&&t&&t.parentElement&&t.parentElement.tagName){var e,o=t.parentElement.tagName,i=this.getData("stackMap")[o];if(_lyteUiUtils.popupStack.globalStack.length>=1){i&&this.popUtilObj(t,i,this);var l,a=!0;_lyteUiUtils.popupStack.globalStack.forEach(function(e,o){if(e.parentElement==t.parentElement)return o<_lyteUiUtils.popupStack.globalStack.length-1&&(a=!1,_lyteUiUtils.popupStack.globalStack[o+1].focusedElement=_lyteUiUtils.popupStack.globalStack[o].focusedElement),void(l=Lyte.arrayUtils(_lyteUiUtils.popupStack.globalStack,"removeAt",o,1))}.bind(this)),l&&l[0]&&(e=l[0].focusedElement),a&&e&&this.getData("ltPropFocusOnClose")&&e.focus()}}}}),function(){if("undefined"!=typeof $L){function t(t,e){var o=t._searchPluginData;return e=o.dynamicScope?o.dynamicScope(t):e,o.checkFromParent&&(e=t.parentNode),e}function e(t){if(!([37,13,38,39,40,91,27,16,18].indexOf(t.keyCode)>-1)){var e=this._searchPluginData.searchDelay;clearTimeout(this.timeout),clearTimeout(this._iptime),null==e?i.call(this,t):this.timeout=setTimeout(i.bind(this),e,t)}}function o(t){clearTimeout(this._iptime),this._iptime=setTimeout(i.bind(this),250,t)}function i(t){var e=this;t=t||{};var o=this._searchPluginData,i=r.call(this,t),s=i[0],p=i[1],c=i[2],f=i[3],m=o.caseSensitive,u=o.minLength?o.minLength:0,y=o.method?o.method:"contains",g=t.keyCode||t.which,v=l(m,"LYTE-INPUT"==e.tagName?e.querySelector("input,textarea").value:e.value,o.trim),P=[],b=o.component,x=[],L=o.hiddenSelector;if(o.diacritic&&(v=_lyteUiUtils.convert_diacritics(v)),v.length>=u||8==g||46==g){if(v.length)for(var _=0;_<s.length;_++){a(y,v,w=l(m,s[_].trim()))?P.push(c[_]):x.push(c[_])}else P=Array.apply(Array,c);if(o.onSearch&&0==o.onSearch(P,t,v))return;for(_=0;_<s.length;_++){var w=l(m,s[_].trim());v=v;h.call(this,p[_],a(y,v,w),v)}if(/tree|accordion/.test(b))"accordion"==b?$L.fastdom.measure(n.bind(this,P,x,v)):"tree"==b&&$L.fastdom.measure(d.bind(this,P,x,v));else for(_=0;_<f.length;_++)f[_].querySelectorAll(o.target||o.search).length==f[_].querySelectorAll(".lyteSearchHidden"+(L?","+L:"")).length?f[_].classList.add("lyteSearchHidden"):f[_].classList.remove("lyteSearchHidden")}}function l(t,e,o){return t||(e=e.toLowerCase()),o&&(e=e.trim()),e}function a(t,e,o){var i;switch(t){case"contains":i=o.indexOf(e)>=0;break;case"startsWith":i=0==o.indexOf(e);break;case"endsWith":var l=o.lastIndexOf(e);-1!=l&&(i=l+e.length==o.length)}return i}function s(t){for(var e=[],o=[],i=0;i<t.childElementCount;i++){for(;t.children[i].childElementCount;){returnedVal=s(t.children[i]),e=e.concat(returnedVal[0]),o=o.concat(returnedVal[1]);break}t.children[i].childElementCount||(e.push(t.children[i].textContent),o.push(t.children[i]))}return[e,o]}function r(){var e=this._searchPluginData,o=t(this,"string"==typeof e.scope?document.querySelector(e.scope):e.scope),i=[],l=[],a=[],r=[];if(!o)return[i,l,a,r];if(e.search){a=o.querySelectorAll(e.search.trim());for(var n=e.target?e.target:e.search,d=0;d<a.length;d++){var p=a[d].textContent;e.diacritic&&(p=_lyteUiUtils.convert_diacritics(p)),i.push(p)}l=o.querySelectorAll(n)}else{var h=s(o);i=h[0],a=(l=h[1]).slice()}return e.related&&(e.target||e.scope)&&(r=o.querySelectorAll(e.related)),[i,l,a,r]}function n(e,o,i){for(var l=$L(t(this,this._searchPluginData.scope))[0],a=0;a<e.length;a++){for(var s=$L(e[a]).closest("lyte-accordion-item",l),r=0;r<o.length;r++){var n=$L(o[r]).closest("lyte-accordion-item",l);s[0]!=n[0]||(Lyte.arrayUtils(o,"removeAt",r),r--)}if(e[a+1]){n=$L(e[a+1]).closest("lyte-accordion-item",l);s[0]==n[0]&&(Lyte.arrayUtils(e,"removeAt",a+1),a--)}}$L.fastdom.mutate((function(){for(var t=l.ltProp("exclusive")?e.length-1:0;t<e.length;t++){var a=!1;a=!(r=$L(e[t]).closest("lyte-accordion-item")).hasClass("lyteAccordionActive"),i||(a=!a),a&&r.click()}for(var s=0;s<o.length;s++){var r;(r=$L(o[s]).closest("lyte-accordion-item")).hasClass("lyteAccordionActive")&&r.click()}}))}function d(e,o,i,l){for(var a=$L(t(this,this._searchPluginData.scope))[0],s=0;s<e.length;s++){var r=$L(e[s]).closest(".lyteTreeBodyDiv");for(j=0;j<o.length;j++){var n=$L(o[j]).closest(".lyteTreeBodyDiv");(r[0].contains(n[0])||n[0].contains(r[0]))&&(n.addClass("lyteSearchHidden"),Lyte.arrayUtils(o,"removeAt",j),j--)}}for(s=0;s<e.length;s++)p(e[s],a),i.length&&a.ltProp("stateAttr",$L(e[s]).closest("lyte-tree-body").attr("data-value"));if(i.length)for(s=0;s<o.length;s++)$L(o[s]).closest(".lyteTreeBodyDiv").addClass("lyteSearchHidden");else!function(t){for(var e=t.length-1;e>=0;e--){var o=t.eq(e);o.hasClass("lyteIconOpened")&&setTimeout(o.click.bind(o),20)}}($L("lyte-yield:not(.noChildClass) lyte-tree-icon",a))}function p(t,e){var o=$L(t).closest(".lyteSearchHidden",e);o.length&&(o.removeClass("lyteSearchHidden"),p(t,e))}function h(t,e,o){var i=this._searchPluginData.component;if(e){if("dropdown"==i){var l=$L(t).closest("lyte-drop-box")[0];l&&l.classList.contains("lyteDropdownHidden")&&(l.origindd?l.origindd.toggle():$L(l).closest("lyte-dropdown").get(0).toggle())}t.classList.remove("lyteSearchHidden")}else if("tree"!=i){if(t.classList.contains("lyteSearchHidden"))return;t.classList.add("lyteSearchHidden")}}$L.prototype.search=function(t){if((t=t||{}).scope){var l=this[0];return l._searchPluginData=t,t.hasOwnProperty("searchDelay")||(t.searchDelay=100),"accordion"==t.component?t.related="lyte-accordion-item":"tree"==t.component&&(t.related=".lyteTreeBodyDiv lyte-yield:not(.noChildClass) lyte-tree-icon"),l.setValueForSearch=l.setValue=function(t){var e=this;t=null!=t?t:"","LYTE-INPUT"==e.tagName?e.ltProp({value:t}):e.value=t;var o=new Event("keyup");o.which=o.keyCode=8,e.dispatchEvent(o)},l.addEventListener("keyup",e),l.addEventListener("input",o),l.reset=i.bind(l),this}console.error("scope is not given")},$L.prototype.removeSearch=function(){for(var i=0;i<this.length;i++){var l,a,s,r=this[i];r._searchPluginData&&(delete r.reset,l=r._searchPluginData.scope,a=r._searchPluginData.target||r._searchPluginData.search,s=r._searchPluginData.related,l&&((l=$L(t(r,l))).find(a).removeClass("lyteSearchHidden"),s&&l.find(s).removeClass("lyteSearchHidden"),delete r._searchPluginData,delete r.setValueForSearch,delete r.setValue,r.removeEventListener("input",o),r.removeEventListener("keyup",e)))}return this}}}(),Lyte.Component.register("lyte-alert",{_template:'<template tag-name="lyte-alert" role="alert"> <template is="if" value="{{ltPropShowCopy}}"><template case="true"> <lyte-wormhole on-before-append="{{method(&quot;beforeWormholeAppend&quot;)}}" lt-prop-show="{{ltPropShow}}" lt-prop-focus-on-close="{{ltPropFocusOnClose}}"> <template is="registerYield" yield-name="lyte-content"> <div class="alertWrapper {{ltPropWrapperClass}} lytePopupZI"> <div class="{{lyteUiConcatAlertClass(ltPropContentAlign,\'alertPopup\')}}" aria-live="polite"> <template is="if" value="{{ltPropShowCloseButton}}"><template case="true"> <span class="lyte-svg alertClose" onclick="{{action(\'closeAlert\')}}" tabindex="0"></span> </template></template> <template is="if" value="{{ltPropYield}}"><template case="true"> <lyte-yield yield-name="alert"></lyte-yield> </template><template case="false"> <template is="if" value="{{expHandlers(lyteUiIfEquals(ltPropHeading,\'\'),\'!\')}}"><template case="true"> <div class="alertHeader"> <span class="dBlock">{{ltPropHeading}}</span> </div> </template></template> <div class="alertContent"> <template is="if" value="{{expHandlers(lyteUiIfEquals(ltPropType,\'\'),\'!\')}}"><template case="true"> <div class="alertContentMiddle"> <span class="{{lyteUiConcatTypeClass(ltPropType,\'AlertIcon\',\'lyteStatusIcon\')}}"></span> </div> </template></template> <div class="alertContentMiddle"> <template is="if" value="{{expHandlers(lyteUiIfEquals(ltPropPrimaryMessage,\'\'),\'!\')}}"><template case="true"> <div> <span class="alertPrimaryMsg">{{ltPropPrimaryMessage}}</span> </div> </template></template> <template is="if" value="{{expHandlers(lyteUiIfEquals(ltPropSecondaryMessage,\'\'),\'!\')}}"><template case="true"> <div> <span class="alertSecondaryMsg">{{ltPropSecondaryMessage}}</span> </div> </template></template> </div> <div class="clearFloat"></div> </div> </template></template> <template is="if" value="{{nonYieldFooter}}"><template case="true"> <template is="if" value="{{expHandlers(lyteUiIsEmptyArray(ltPropButtons),\'!\')}}"><template case="true"> <div class="{{lyteUiConcat(\'alertFooter \',ltPropButtonPosition)}}"> <template is="for" items="{{ltPropButtons}}" item="item" index="index"> <template is="if" value="{{lyteUiIfEquals(item.type,\'accept\')}}"><template case="true"> <lyte-button class="lyteAlertBtn" onclick="{{action(\'accept\',item.text)}}"> <template is="registerYield" yield-name="text">{{item.text}}</template> </lyte-button> </template></template><template is="if" value="{{lyteUiIfEquals(item.type,\'reject\')}}"><template case="true"> <lyte-button class="lyteAlertBtn" onclick="{{action(\'reject\',item.text)}}"> <template is="registerYield" yield-name="text">{{item.text}}</template> </lyte-button> </template></template> </template> </div> </template></template> </template></template> </div> <div class="{{lyteUiAddShowClass(ltPropShowCopy,\'\',\'alertFreezeLayer\')}}"></div> </div> </template> </lyte-wormhole> </template></template> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"attr",position:[1,1,3]},{type:"if",position:[1,1,3],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,0]}]}},default:{}},{type:"attr",position:[3,1]},{type:"if",position:[3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]}]}},default:{}},{type:"attr",position:[3,3,1]},{type:"if",position:[3,3,1],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,0]}]}},default:{}},{type:"attr",position:[3,3,3]},{type:"if",position:[3,3,3],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,0]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,1,5]},{type:"if",position:[1,1,5],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"text",position:[0]}]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[2]},{type:"if",position:[2],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"text",position:[0]}]},{type:"componentDynamic",position:[1]}]}},default:{}}]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,3]}]},{type:"componentDynamic",position:[1]}]}},default:{}}],_observedAttributes:["ltPropType","ltPropShow","ltPropWrapperClass","ltPropAllowMultiple","ltPropHeading","ltPropPrimaryMessage","ltPropSecondaryMessage","ltPropTop","ltPropButtons","ltPropButtonPosition","ltPropShowCloseButton","ltPropCloseOnEscape","ltPropDimmer","ltPropYield","ltPropAnimation","ltPropContentAlign","ltPropAria","ltPropAriaAttributes","ltPropPreventFocus","ltPropFocusOnClose","nonYieldFooter","triggerShow","escClicked"],data:function(){return{ltPropType:Lyte.attr("string",{default:""}),ltPropShow:Lyte.attr("boolean",{default:!1}),ltPropWrapperClass:Lyte.attr("string",{default:""}),ltPropAllowMultiple:Lyte.attr("boolean",{default:!1}),ltPropHeading:Lyte.attr("string",{default:""}),ltPropPrimaryMessage:Lyte.attr("string",{default:""}),ltPropSecondaryMessage:Lyte.attr("string",{default:""}),ltPropTop:Lyte.attr("string",{default:"40px"}),ltPropButtons:Lyte.attr("array",{default:[]}),ltPropButtonPosition:Lyte.attr("string",{default:"right"}),ltPropShowCloseButton:Lyte.attr("boolean",{default:!0}),ltPropCloseOnEscape:Lyte.attr("boolean",{default:!0}),ltPropDimmer:Lyte.attr("object",{default:{color:"black",opacity:"0.4"}}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropAnimation:Lyte.attr("string",{default:"slideDown"}),ltPropContentAlign:Lyte.attr("string",{default:"left"}),ltPropAria:Lyte.attr("boolean",{default:!1}),ltPropAriaAttributes:Lyte.attr("object",{default:{},watch:!0}),ltPropPreventFocus:Lyte.attr("boolean",{default:!1}),ltPropFocusOnClose:Lyte.attr("boolean",{default:!1}),nonYieldFooter:Lyte.attr("boolean",{default:!0}),triggerShow:Lyte.attr("number",{default:0}),escClicked:Lyte.attr("object",{default:{}})}},didConnect:function(){this.$node.ltProp("show")&&this.setData("triggerShow",this.getData("triggerShow")+1)},addAriaValues:function(){if(this.getData("ltPropAria")){var t=this.getData("ltPropAriaAttributes")||{};if("aria-labelledby"in t){var e=this.getAlertWidget("header");e&&e.classList.add(t["aria-labelledby"])}if("aria-describedby"in t){var o=this.getAlertWidget("content");o&&o.classList.add(t["aria-describedby"])}_lyteUiUtils.setAttribute(this.getAlertWidget(),t,{});var i=this.getAlertWidget("close");i&&i.setAttribute("aria-label",t["close-label"]||"Close icon at top right position")}},getAlertWidget:function(t){return"header"===t?this.getData("ltPropYield")?this.childComp.querySelector("lyte-alert-header"):this.childComp.querySelector(".alertHeader"):"content"===t?this.getData("ltPropYield")?this.childComp.querySelector("lyte-alert-content"):this.childComp.querySelector(".alertContentMiddle"):"close"===t?this.childComp.querySelector(".alertClose"):this.childComp.querySelector(".alertPopup")},showToggled:function(){var t=!0;if(this.$node.ltProp("show")||(_lyteUiUtils.dispatchEvent("lyteAlertBeforeClose",this.actualModalDiv),this.getMethods("onBeforeClose")&&(t=this.executeMethod("onBeforeClose",this,this.getData("escClicked")))),!1!==t)if(this.$node.ltProp("show")){this.closeTId&&(clearTimeout(this.closeTId),delete this.closeTId),this.sId&&(clearTimeout(this.sId),delete this.sId,this.setData("ltPropShowCopy",!1),delete this.sId,delete this.actualModalDiv,delete this.childComp);var e=this;this.openTId=setTimeout((function(){delete e.openTId,document.body.classList.add("bodyWrapper"),e.showAlert()}),0)}else{this.openTId&&(clearTimeout(this.openTId),delete this.openTId),this.showTId&&(clearTimeout(this.showTId),delete this.showTId);e=this;this.closeTId=setTimeout((function(){delete e.closeTId,e.closeAlert()}),0)}else this.setData("ltPropShow",!0)}.observes("ltPropShow","triggerShow"),printId:function(){console.log("this.openTId ---\x3e "+this.openTId),console.log("this.showTId ---\x3e "+this.showTId),console.log("this.closeTId ---\x3e "+this.closeTId),console.log("this.sId ---\x3e "+this.sId)},closeAlertFn:function(){this.getMethods("onClose")&&(this.executeMethod("onClose",this,this.getData("escClicked")),this.setData("escClicked",{}))},showAlert:function(){var t=this;if(this.showTId=setTimeout((function(){if(delete t.showTId,t.actualModalDiv){if(_lyteUiUtils.dispatchEvent("lyteAlertBeforeOpened",t.actualModalDiv),LytePopup.bindTransitionEnd(t.actualModalDiv),"center"==t.getData("ltPropTop")){var e=Math.max(document.documentElement.clientHeight,window.innerHeight||0);t.actualModalDiv.style.top=(e-t.actualModalDiv.getBoundingClientRect().height)/2+"px"}else t.actualModalDiv.style.top=t.getData("ltPropTop");"zoomIn"==t.getData("ltPropAnimation")&&t.actualModalDiv.classList.add("alertOpened"),t.$node.classList.add("lyteAlertOpened"),t.getMethods("onShow")&&t.executeMethod("onShow",t),setTimeout((function(){_lyteUiUtils.dispatchEvent("lyteAlertOpened",t.actualModalDiv)}),310)}else t.getData("ltPropShow")&&t.setData("ltPropShow",!1)}),100),this.setData("ltPropShowCopy",!0),this.addAriaValues(),"slideDown"==this.getData("ltPropAnimation")?this.actualModalDiv.classList.add("lyteAlertSlideDown"):"zoomIn"==this.getData("ltPropAnimation")&&this.actualModalDiv.classList.add("lyteAlertZoomIn"),this.getData("ltPropButtons")&&this.getData("nonYieldFooter")){for(var e,o=this.getData("ltPropButtons"),i=0;i<o.length;i++){e=this.actualModalDiv.querySelectorAll(".lyteAlertBtn")[i];for(var l=Object.keys(o[i]),a=0;a<l.length;a++)"text"!==l[a]&&e.ltProp(l[a],o[i][l[a]])}e=null}LytePopup.addPopup(this);var s=this.childComp.querySelector(".alertFreezeLayer").style;s.background=this.getData("ltPropDimmer").color,this.addedFreezeDetails||(s.opacity=this.getData("ltPropDimmer").opacity)},closeAlert:function(){if(this.childComp&&this.actualModalDiv){this.addedFreezeDetails&&(LytePopup.hideOrShowFreeze("close",this),delete this.addedFreezeDetails),"slideDown"==this.getData("ltPropAnimation")&&(this.actualModalDiv.style.top="-"+(this.actualModalDiv.getBoundingClientRect().height+this.actualModalDiv.getBoundingClientRect().top+40)+"px");var t=1e3*parseFloat(document.defaultView.getComputedStyle(this.actualModalDiv).getPropertyValue("transition-duration"));"zoomIn"==this.getData("ltPropAnimation")&&this.actualModalDiv.classList.remove("alertOpened");var e=this;this.sId=setTimeout((function(){e.setData("ltPropShowCopy",!1),delete e.sId,delete e.actualModalDiv,delete e.childComp,LytePopup.checkAndRemoveWrapper()}),t-100),this.closeAlertFn(),LytePopup.closePopup(this),this.addedFreezeDetails&&(this.childComp.querySelector(".alertFreezeLayer").style.opacity=0,this.childComp.querySelector(".alertFreezeLayer").style.visibility="")}else LytePopup.closePopup(this);this.$node.classList.remove("lyteAlertOpened")},didDestroy:function(){this.event&&delete this.event,this.$node.classList.remove("lyteAlertOpened"),this.openTId&&(clearTimeout(this.openTId),delete this.openTId),this.showTId&&(clearTimeout(this.showTId),delete this.showTId),this.closeTId&&(clearTimeout(this.closeTId),delete this.closeTId),this.sId&&(clearTimeout(this.sId),delete this.sId),this.childComp&&(this.addedFreezeDetails&&(LytePopup.hideOrShowFreeze("close",this),delete this.addedFreezeDetails),LytePopup.closePopup(this),this.childComp.remove(),delete this.actualModalDiv,delete this.childComp,LytePopup.checkAndRemoveWrapper())},actions:{closeAlert:function(){this.$node.ltProp("show",!1)},accept:function(t){var e=!0;this.getMethods("onAccept")&&(e=null==(e=this.executeMethod("onAccept",t,this))||e),e&&this.$node.ltProp("show",!1)},reject:function(t){var e=!0;this.getMethods("onReject")&&(e=null==(e=this.executeMethod("onReject",t,this))||e),e&&this.$node.ltProp("show",!1)}},methods:{beforeWormholeAppend:function(t){this.childComp=t,this.actualModalDiv=this.childComp.querySelector(".alertPopup"),this.getData("ltPropYield")&&t.querySelector("lyte-alert-footer")?this.setData("nonYieldFooter",!1):this.setData("nonYieldFooter",!0),this.getData("nonYieldFooter")&&0==this.getData("ltPropButtons").length&&("confirm"==this.getData("ltPropType")?this.setData("ltPropButtons",[{type:"accept",text:"Ok"},{type:"reject",text:"Cancel"}]):this.setData("ltPropButtons",[{type:"accept",text:"Ok"}]))}}}),function(){function t(t,e,o,i,l){$L(t).animate(e,function(t,e,o,i){var l=$L.extend({},t),a=l[o?"onAfter":"onAfterFirst"];return a&&(l.complete=function(t){a.call(i,e,l)}),l}(o,i,l,t))}function e(e,o,i,l,a,s,r,n){var d="x"===r?"Left":"Top",p=$L(o),h=a.queue,c="scroll"+d,f=d.toLowerCase(),m=e.dom?e[d]+p[c]():e[f],u=_lyteUiUtils.isNegativeScroll();i[c]=Math.abs(m),u&&i.scrollLeft>=0&&(i.scrollLeft=-1*i.scrollLeft),h?t(o,i,a,s,n===l-1):l-1===n&&t(o,i,a,s,!0)}function o(t,o,i,l){var a=l.axis.split(""),s={},r=a.length,n=l.queue;n&&(l.duration/=2),a.forEach((function(a,d){n&&(s={}),e.call(this,t,o,s,r,l,i,a,d)}))}function i(t,e,o){var i=$L(t),l=t.document,a=o.toLowerCase(),s=(l||{}).documentElement,r=$L(s);return e?r[a]()-t["inner"+o]:t["scroll"+o]-i[a]()}function l(t,e,o){var l,a,s,r,n=t,d=$L.isWindow(e);switch(typeof t){case"number":case"string":l=(/([0-9]*)%/g.exec(t)||[])[1],n={top:l?.01*l*i(e,d,"Height"):parseFloat(t),left:l?.01*l*i(e,d,"Width"):parseFloat(t),dom:!1};break;case"object":t.nodeType||t instanceof $L&&(t=t.get(0))?(a=$L(t),n={},r=t.getBoundingClientRect(),s=$L.isWindow(t)?{top:0,left:0}:e.getBoundingClientRect(),["Left","Top"].forEach((function(t){!function(t,e,o,i,l,a){var s,r=e.margin,n=t.toLowerCase();s=r?parseInt(i.css("margin"+t),10)+parseInt(i.css("border"+t+"Width"),10):0,o[t]=l[n]-a[n]-s}(t,o,n,a,r,s)})),n.dom=!0):n.dom=!1}return function(t,e){var o;e="object"==typeof e?e:{left:e,top:e};for(o in t)t[o]=t[o]+(e[o.toLowerCase()]||0)}(n,o.offset),n}$L.prototype.scrollTo=function(t,e,i){var a;"function"==typeof i&&(i={onAfter:i}),"object"==typeof e&&((i||{}).onAfter&&(e.onAfter=i.onAfter),e=(i=e).duration),i||(i={}),i=$L.extend({},$L.scrollTo.defaults,i),this.each((function(){var e,s,r,n;s=(e=this).rAFscrollLeft,r=e.rAFscrollTop,n=!0,window.cancelAnimationFrame(s),window.cancelAnimationFrame(r),$L.animate.tryDequeue(e,void 0,n),(a=l(t,this,i))&&o(a,this,t,i)}))},$L.scrollTo=function(){$L(window).scrollTo()},$L.scrollTo.defaults={axis:"xy",duration:0},$L.each(["scrollLeft","scrollTop"],(function(t,e){$L.Tween.propHooks[e]={get:function(t){return t[e]()},set:function(t,o,i){var l=Math.round(o),a=t[e](),s="_old"+e;i.interrupt&&i[s]&&i[s]!==a&&(t.stop(!1,!1),i._stopped=!0),i[s]=l,t[e](l)}}}))}(),Lyte.Component.register("lyte-popover",{_template:'<template tag-name="lyte-popover"> <template is="if" value="{{ltPropBindToBody}}"><template case="true"> <lyte-wormhole case="true" style="{{if(ltPropShowCopy,\'visibility:visible\',\'visibility:hidden\')}}" on-before-append="{{method(&quot;beforeWormholeAppend&quot;)}}" lt-prop-focus-on-close="{{ltPropFocusOnClose}}" lt-prop-show="{{ltPropShowWormhole}}"> <template is="registerYield" yield-name="lyte-content"> <div class="popoverWrapper {{ltPropWrapperClass}} lytePopupZI {{if(ltPropFreeze,\'\',\'noFreeze\')}}"> <div class="{{if(ifEquals(ltPropAnimation,\'zoom\'),\'lytePopover lyteZoom\',\'lytePopover\')}}"> <template is="if" value="{{ifEquals(ltPropType,&quot;callout&quot;)}}"><template case="true"> <span id="lytePopoverArrow" class="lytePopoverArrowIcon"></span> </template></template> <template is="if" value="{{ltPropShowCloseButton}}"> <template case="true"><span class="lytePopoverClose" onclick="{{action(\'close\')}}" tabindex="0"></span></template> </template> <lyte-yield yield-name="popover"></lyte-yield> </div> <template is="if" value="{{ltPropFreeze}}"> <template case="true"><lyte-popover-freeze></lyte-popover-freeze></template> </template> </div> </template> </lyte-wormhole> </template></template> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"if",args:["ltPropShowCopy","'visibility:visible'","'visibility:hidden'"]}}}},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[]}},default:{}},{type:"attr",position:[1,1,3]},{type:"if",position:[1,1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[0]}]}},default:{}},{type:"insertYield",position:[1,1,5]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"componentDynamic",position:[0]}]}},default:{}}]},{type:"componentDynamic",position:[1]}]}},default:{}}],_observedAttributes:["ltPropShow","ltPropType","ltPropFreeze","ltPropShowCloseButton","ltPropCloseOnEscape","ltPropOriginElem","ltPropPosition","ltPropPlacement","ltPropDimmer","ltPropDraggable","ltPropAllowMultiple","ltPropScrollable","ltPropMaxHeight","ltPropMaxWidth","ltPropWidth","ltPropHeight","ltPropWrapperClass","ltPropBoundary","ltPropCloseOnBodyClick","ltPropDuration","ltPropOffset","ltPropOffsetFromTarget","ltPropBindToBody","ltPropHeaderPadding","ltPropContentPadding","ltPropFooterPadding","ltPropAnimation","ltPropWindowSpacing","ltPropForceScroll","ltPropAutoAlign","ltPropAria","ltPropAriaAttributes","ltPropPreventFocus","ltPropStopClick","ltPropIgnoreBoundary","ltPropMargin","ltPropCloseOnScroll","ltPropAllowContainment","ltPropIgnoreInput","ltPropFocusOnClose","ltPropShowWormhole","ltPropHostElement","buttons","ltPropShowCopy","visible","timeOutId","classTobeAdded","keys","first","arrowHidden","arrowEle","returnedFalse","transformOrigin","windowSpacing","lyteUnbound","prevOffsetVal","calculateHW","checkAria","prevRect","margin","modalElemWidth","modalElemHeight","dragRunning"],data:function(){return{ltPropShow:Lyte.attr("boolean",{default:!1}),ltPropType:Lyte.attr("string",{default:"callout"}),ltPropFreeze:Lyte.attr("boolean",{default:!0}),ltPropShowCloseButton:Lyte.attr("boolean",{default:!0}),ltPropCloseOnEscape:Lyte.attr("boolean",{default:!0}),ltPropOriginElem:Lyte.attr("string",{default:""}),ltPropPosition:Lyte.attr("string",{default:"bottom"}),ltPropPlacement:Lyte.attr("string",{default:""}),ltPropDimmer:Lyte.attr("object",{default:{}}),ltPropDraggable:Lyte.attr("boolean",{default:!1}),ltPropAllowMultiple:Lyte.attr("boolean",{default:!1}),ltPropScrollable:Lyte.attr("boolean",{default:!1}),ltPropMaxHeight:Lyte.attr("string",{default:""}),ltPropMaxWidth:Lyte.attr("string",{default:""}),ltPropWidth:Lyte.attr("string",{default:""}),ltPropHeight:Lyte.attr("string",{default:"auto"}),ltPropWrapperClass:Lyte.attr("string",{default:""}),ltPropBoundary:Lyte.attr("object",{default:{}}),ltPropCloseOnBodyClick:Lyte.attr("boolean",{default:!0}),ltPropDuration:Lyte.attr("number",{default:400}),ltPropOffset:Lyte.attr("object",{default:{}}),ltPropOffsetFromTarget:Lyte.attr("object",{default:{}}),ltPropBindToBody:Lyte.attr("boolean",{default:!1}),ltPropHeaderPadding:Lyte.attr("string",{default:""}),ltPropContentPadding:Lyte.attr("string",{default:""}),ltPropFooterPadding:Lyte.attr("string",{default:""}),ltPropAnimation:Lyte.attr("string",{default:"fade"}),ltPropWindowSpacing:Lyte.attr("object"),ltPropForceScroll:Lyte.attr("boolean",{default:!1}),ltPropAutoAlign:Lyte.attr("boolean",{default:!1}),ltPropAria:Lyte.attr("boolean",{default:!1}),ltPropAriaAttributes:Lyte.attr("object",{default:{}}),ltPropPreventFocus:Lyte.attr("boolean",{default:!1}),ltPropStopClick:Lyte.attr("boolean",{default:!1}),ltPropIgnoreBoundary:Lyte.attr("boolean",{default:!1}),ltPropMargin:Lyte.attr("object"),ltPropCloseOnScroll:Lyte.attr("boolean",{default:!1}),ltPropAllowContainment:Lyte.attr("boolean",{default:!1}),ltPropIgnoreInput:Lyte.attr("boolean",{default:!1}),ltPropFocusOnClose:Lyte.attr("boolean",{default:!1}),ltPropShowWormhole:Lyte.attr("boolean",{default:!1}),ltPropHostElement:Lyte.attr("string",{default:""}),buttons:Lyte.attr("array",{default:[{type:"accept",text:"Ok"}]}),ltPropShowCopy:Lyte.attr("boolean",{default:!1}),visible:Lyte.attr("boolean",{default:!0}),timeOutId:Lyte.attr("number"),classTobeAdded:Lyte.attr("string"),keys:Lyte.attr("object",{default:{37:1,38:1,39:1,40:1}}),first:Lyte.attr("boolean",{default:!0}),arrowHidden:Lyte.attr("boolean",{default:!1}),arrowEle:Lyte.attr("object"),returnedFalse:Lyte.attr("boolean",{default:!1}),transformOrigin:Lyte.attr("string"),windowSpacing:Lyte.attr("object"),lyteUnbound:Lyte.attr("boolean",{default:!1}),prevOffsetVal:Lyte.attr("object"),calculateHW:Lyte.attr("boolean",{default:!1}),checkAria:Lyte.attr("number",{default:0}),prevRect:Lyte.attr("object",{default:void 0}),margin:Lyte.attr("object"),modalElemWidth:Lyte.attr("string",{default:""}),modalElemHeight:Lyte.attr("string",{default:""}),dragRunning:Lyte.attr("boolean",{default:!1})}},computeSpacing:function(){var t=Object.assign({},this.getData("ltPropWindowSpacing"));t.left||(t.left=30),t.right||(t.right=30),t.top||(t.top=30),t.bottom||(t.bottom=30),this.setData("windowSpacing",Object.assign({},t));var e=Object.assign({},this.getData("ltPropMargin"));e.left||(e.left=0),e.right||(e.right=0),e.top||(e.top=0),e.bottom||(e.bottom=0),this.setData("margin",Object.assign({},e))}.observes("ltPropWindowSpacing","ltPropMargin").on("init"),addDragHandler:function(){var t=this.actualModalDiv.querySelector("lyte-popover-header");t?(t.parentEle=this,this.$node.ltProp("draggable")?(t.addEventListener("mousedown",this.handleMove,!0),t.addEventListener("touchstart",this.handleMove,!0),t.classList.add("lytePopoverHeaderDraggable")):(t.removeEventListener("mousedown",this.handleMove,!0),t.removeEventListener("touchstart",this.handleMove,!0),t.classList.remove("lytePopoverHeaderDraggable"))):(console.warn("This popover is not draggable because it has no header"),this.$node.ltProp("draggable",!1))},handleMove:function(t){var e=t.currentTarget.parentEle.actualModalDiv;LytePopup.node=e,$L(t.target).addClass("lytePopoverDragRunning"),"mousedown"==t.type?(LytePopup.xPos=t.clientX-this.getBoundingClientRect().left,LytePopup.yPos=t.clientY-this.getBoundingClientRect().top):"touchstart"==t.type&&(LytePopup.xPos=t.touches[0].clientX-this.getBoundingClientRect().left,LytePopup.yPos=t.touches[0].clientY-this.getBoundingClientRect().top);e.getBoundingClientRect();e.style.transitionDuration="0s";var o=e.parentElement.querySelector("#lytePopoverArrow");o&&(this.parentEle.setData("arrowHidden",!0),this.parentEle.setData("arrowEle",o),o.style.display="none"),"mousedown"==t.type?(document.addEventListener("mousemove",t.currentTarget.parentEle.handleDrag,!0),document.addEventListener("mouseup",t.currentTarget.parentEle.stopDrag,!0)):"touchstart"==t.type&&(document.body.addEventListener("touchmove",t.currentTarget.parentEle.handleDrag,!0),document.body.addEventListener("touchend",t.currentTarget.parentEle.stopDrag,!0))},handleDrag:function(t){var e=LytePopup.node,o=$L(e).closest("lyte-wormhole")[0]._callee;o.setData("dragRunning",!0);var i=0,l=0;"mousemove"==t.type?(i=t.clientX-e.offsetParent.getBoundingClientRect().left-LytePopup.xPos,l=t.clientY-e.offsetParent.getBoundingClientRect().top-LytePopup.yPos):"touchmove"==t.type&&(i=t.touches[0].clientX-e.offsetParent.getBoundingClientRect().left-LytePopup.xPos,l=t.touches[0].clientY-e.offsetParent.getBoundingClientRect().top-LytePopup.yPos),o.getData("ltPropAllowContainment")?(i+e.getBoundingClientRect().width<=window.innerWidth&&i>=0?e.style.left=i+"px":e.style.left=i<0?"0px":window.innerWidth-e.getBoundingClientRect().width+"px",l+e.getBoundingClientRect().height<=window.innerHeight&&l>=0?e.style.top=l+"px":e.style.top=l<0?"0px":window.innerHeight-e.getBoundingClientRect().height+"px"):(e.style.left=i+"px",e.style.top=l+"px"),window.getSelection().removeAllRanges()},stopDrag:function(t){var e=t.target;$L(e).hasClass("lytePopoverDragRunning")||(e=$L(".lytePopoverDragRunning")[0]);for(var o=LytePopup.node,i=$L(o).closest("lyte-wormhole")[0]._callee;e&&e!==document;){if(e.parentEle){"mouseup"==t.type?(document.removeEventListener("mousemove",e.parentEle.handleDrag,!0),document.removeEventListener("mouseup",e.parentEle.stopDrag,!0),i.setData("dragRunning",!1),$L(".lytePopoverDragRunning").removeClass("lytePopoverDragRunning")):"touchend"==t.type&&(this.removeEventListener("touchmove",e.parentEle.handleDrag,!0),this.removeEventListener("touchend",e.parentEle.stopDrag,!0),$L(".lytePopoverDragRunning").removeClass("lytePopoverDragRunning"));break}e=e.parentElement?e.parentElement:document}},showToggled:function(){var t=t||window.event;if(this.getData("returnedFalse"))this.setData("returnedFalse",!1);else if(this.$node.ltProp("show")&&!this.$node.ltProp("showCopy")){if(this.tIdBeforeClose&&(clearTimeout(this.tIdBeforeClose),delete this.tIdBeforeClose),this.tIdBeforeShow&&(clearTimeout(this.tIdBeforeShow),delete this.tIdBeforeShow),_lyteUiUtils.getRTL()&&this.getData("ltPropPlacement")&&this.setRTLPosition(),this.$node.ltProp("bindToBody",!0),this.$node.ltProp("freeze")){var e=this.childComp.querySelector("lyte-popover-freeze").style,o=this.getData("ltPropDimmer");$L.isEmptyObject(o)?e.opacity="":(e.background=o.color,this.addedFreezeDetails||(e.opacity=o.opacity))}if(null==this.getData("ltPropDuration"))this.onBeforeShowHandling(t);else{var i=this;this.tIdBeforeShow=setTimeout((function(){delete i.tIdBeforeShow,i.onBeforeShowHandling(t)}),0)}this.setData("ltPropShowWormhole",!0),_lyteUiUtils.dispatchEvent("lytePopoverBeforeOpen",this.actualModalDiv)}else if(this.setData("ltPropShowWormhole",!1),this.clearFastdomBatch(),this.tIdBeforeShow&&(clearTimeout(this.tIdBeforeShow),delete this.tIdBeforeShow),this.tIdBeforeClose&&(clearTimeout(this.tIdBeforeClose),delete this.tIdBeforeClose),this.$node.ltProp("showCopy"))if(null==this.getData("ltPropDuration"))this.onBeforeCloseHandling(t),this.getData("ltPropBindToBody")||this.removeDOMReferences();else{i=this;this.tIdBeforeClose=setTimeout((function(){delete i.tIdBeforeClose,i.onBeforeCloseHandling(t)}),0)}else this.getData("ltPropBindToBody")||this.removeDOMReferences()}.observes("ltPropShow").on("didConnect"),setRTLPosition:function(){var t=this.getData("ltPropPlacement").trim().split(" ");if(t.length>1){for(var e="",o=0;o<t.length;o++)e+=this.getRTLPosition(t[o])+" ";this.setData("ltPropPlacement",e.trim())}else this.setData("ltPropPlacement",this.getRTLPosition(t[0]))},getRTLPosition:function(t){return"bottomLeft"==t?"bottomRight":"bottomRight"==t?"bottomLeft":"topLeft"==t?"topRight":"topRight"==t?"topLeft":"left"==t?"right":"right"==t?"left":t},clearFastdomBatch:function(){this.fastdomfn1&&($L.fastdom.clear(this.fastdomfn1),delete this.fastdomfn1),this.fastdomfn2&&($L.fastdom.clear(this.fastdomfn2),delete this.fastdomfn2),this.fastdomfn3&&($L.fastdom.clear(this.fastdomfn3),delete this.fastdomfn3),this.fastdomfn4&&($L.fastdom.clear(this.fastdomfn4),delete this.fastdomfn4),this.fastdomfn5&&($L.fastdom.clear(this.fastdomfn5),delete this.fastdomfn5),this.fastdomfn6&&($L.fastdom.clear(this.fastdomfn6),delete this.fastdomfn6),this.fastdomfn7&&($L.fastdom.clear(this.fastdomfn7),delete this.fastdomfn7),this.initCompute&&(clearTimeout(this.initCompute),delete this.initCompute)},changeShow:function(){this.getData("ltPropBindToBody")||(this.clearFastdomBatch(),this.tIdBeforeShow&&(clearTimeout(this.tIdBeforeShow),delete this.tIdBeforeShow),this.tIdBeforeClose&&(clearTimeout(this.tIdBeforeClose),delete this.tIdBeforeClose),this.getData("ltPropFreeze")&&this.addedFreezeDetails&&(LytePopup.hideOrShowFreeze("close",this,!0),delete this.addedFreezeDetails),this.getData("ltPropShow")?this.setData("ltPropShow",!1):(this.setData("ltPropShowCopy",!1),LytePopup.closePopup(this),this.setData("visible",!1),this.removeDOMReferences()))}.observes("ltPropBindToBody"),removeDOMReferences:function(){this.childComp&&delete this.childComp,this.actualModalDiv&&delete this.actualModalDiv},addAriaValues:function(t){if(this.getData("ltPropAria")){var e=this.getData("ltPropAriaAttributes")||{};_lyteUiUtils.setAttribute(this.actualModalDiv,e,t?t.oldValue:{});var o=this.actualModalDiv.querySelector(".lytePopoverClose");o&&o.setAttribute("aria-label",e["close-label"]||"Close icon at top right position")}}.observes("ltPropAriaAttributes","ltPropAriaAttributes.{}","checkAria"),callOnResize:function(t){this.getMethods("onResize")&&this.executeMethod("onResize",t,this);var e=this.getData("ltPropOriginElem")?document.querySelector(this.$node.ltProp("originElem")).getBoundingClientRect():null;if(""!==this.getData("ltPropHostElement")&&(e=document.querySelector(this.$node.ltProp("hostElement")).shadowRoot.querySelector(this.getData("ltPropOriginElem")).getBoundingClientRect()),e){var o=Math.max(document.documentElement.clientHeight,window.innerHeight||0),i=Math.max(document.documentElement.clientWidth,window.innerWidth||0);!this.getData("ltPropForceScroll")&&(e.bottom>o||e.right>i||e.left<0||e.top<0)&&this.$node.ltProp("show",!1)}},callOnScroll:function(t){var e;return this.getMethods("onScroll")&&(e=this.executeMethod("onScroll",t,this)),null==e||e},updateScrollHandling:function(t){!this.$node.ltProp("freeze")&&this.$node.ltProp("forceScroll")&&this.$node.ltProp("scrollable",!0);var e,o,i=this.actualModalDiv,l=i.querySelector("lyte-popover-content");this.getData("resize")&&this.getData("ltPropAutoAlign")&&this.$node.mutobserver&&this.$node.mutobserver.disconnect(),i.style.maxWidth="",i.style.maxHeight="",i.style.height=this.$node.ltProp("height")?this.$node.ltProp("height"):"auto",i.style.width=this.$node.ltProp("width")?this.$node.ltProp("width"):"auto",this.getData("resize")&&(i.style.width=this.getData("modalElemWidth")+"px",i.style.height=this.getData("modalElemHeight")+"px"),this.fastdomfn1=$L.fastdom.measure((function(){delete this.fastdomfn1;var a=i.getBoundingClientRect(),s=i.parentElement.getBoundingClientRect(),r=getComputedStyle(i),n=(r.borderTopWidth?parseFloat(r.borderTopWidth):0)+(r.borderBottomWidth?parseFloat(r.borderBottomWidth):0),d=this.getData("windowSpacing"),p=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-(d.top+d.bottom);this.fastdomfn2=$L.fastdom.mutate((function(){if(delete this.fastdomfn2,this.$node.ltProp("maxWidth")&&(a.width,-1!=this.$node.ltProp("maxWidth").indexOf("%")?parseFloat(this.$node.ltProp("maxWidth"))/100*s.width:parseFloat(this.$node.ltProp("maxWidth")),i.style.maxWidth=this.$node.ltProp("maxWidth"),l?l.style.overflowX="auto":i.style.overflowX="auto"),this.$node.ltProp("maxHeight")){this.childComp.querySelector(".popoverWrapper").classList.add("scrollable"),this.setData("calculateHW",!0),e=a.height-n;var r=-1!=this.$node.ltProp("maxHeight").indexOf("%")?parseFloat(this.$node.ltProp("maxHeight"))/100*s.height:parseFloat(this.$node.ltProp("maxHeight"));i.style.maxHeight=this.$node.ltProp("maxHeight"),o=r-n,l||(i.style.overflowY="auto")}else e=a.height-n,!this.$node.ltProp("height")||-1==this.$node.ltProp("height").indexOf("px")&&-1==this.$node.ltProp("height").indexOf("em")?o=p-20:(o=e,this.setData("calculateHW",!0));if(this.getData("calculateHW")&&l){var d=this.actualModalDiv.querySelector("lyte-popover-header"),h=this.actualModalDiv.querySelector("lyte-popover-footer"),c=0,f=0;this.fastdomfn3=$L.fastdom.measure((function(){delete this.fastdomfn3,d&&(this.$node.ltProp("maxWidth")&&(d.style.overflowX="auto"),c=d.offsetHeight),h&&(this.$node.ltProp("maxWidth")&&(h.style.overflowX="auto"),f=h.offsetHeight),this.fastdomfn4=$L.fastdom.mutate((function(){delete this.fastdomfn4;var e=o-(c+f);l.style.maxHeight=(e>0?e:50)+"px",l.style.overflowY="auto",this.getData("resize")&&this.computeOffsetImpl(t),i=null,l=null,d=null,h=null}),this)}),this)}else this.childComp.querySelector(".popoverWrapper").classList.remove("scrollable"),this.getData("resize")&&this.computeOffsetImpl(t),i=null,l=null}),this)}),this)},scrollHandling:function(){this.getData("ltPropShow")&&this.updateScrollHandling()}.observes("ltPropWidth","ltPropMaxWidth","ltPropHeight","ltPropMaxHeight"),addMutationObserver:function(){if(this.getData("ltPropAutoAlign")){var t,e,o=this.$node,i=this.actualModalDiv;this.setData("prevOffsetVal",{height:this.actualModalDiv.offsetHeight,width:this.actualModalDiv.offsetWidth}),o.mutobserver=new MutationObserver(function(e){if(this.getData("ltPropAutoAlign")){for(var o=this.actualModalDiv,i=this.getData("prevOffsetVal"),l=o.offsetWidth,a=o.offsetHeight,s=0;s<e.length;s++)if(!("attributes"!==e[s].type&&"childList"!=e[s].type&&"subtree"!=e[s].type||i.width==l&&i.height==a)){t=!0,this.setData("prevOffsetVal",{height:a,width:l});break}t&&(t=!1,this.computeOffsetImpl(null,!0))}}.bind(this)),e={attributes:!0,childList:!0,subtree:!0},o.mutobserver.observe(i,e)}},computeOffsetImpl:function(t,e){this.event=t;var o="",i="",l=this.actualModalDiv;$L.fastdom.measure((function(){if(this.$node.ltProp("showCopy")){if(""==this.$node.ltProp("originElem")&&Lyte.Component.registeredHelpers.lyteUiIsEmptyObject(this.$node.ltProp("offset")))return console.error("Please provide values for either ltPropOriginElem or ltPropOffset to open the popover at proper position."),void this.setData("ltPropShow",!1);var a=this.$node.ltProp("originElem")?document.querySelector(this.$node.ltProp("originElem")):null;if(!a&&Lyte.Component.registeredHelpers.lyteUiIsEmptyObject(this.$node.ltProp("offset"))&&!(a=$L(this.getData("ltPropHostElement"))[0].shadowRoot.querySelector(this.getData("ltPropOriginElem"))))return console.error("The origin element is either not present or may be removed. Kindly check."),void this.setData("ltPropShow",!1);var s,r=l.getBoundingClientRect(),n={top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:l.offsetWidth,height:l.offsetHeight},d=l.parentElement.getBoundingClientRect(),p=Object.assign({},this.getData("windowSpacing")),h=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-p.bottom,c=Math.max(document.documentElement.clientWidth,window.innerWidth||0)-p.right;if(Lyte.Component.registeredHelpers.lyteUiIsEmptyObject(this.$node.ltProp("offset"))){var f=a.getBoundingClientRect();s={top:f.top,right:f.right,bottom:f.bottom,left:f.left,width:f.width,height:f.height}}else s={width:parseInt(this.$node.ltProp("offset").width)||0,height:parseInt(this.$node.ltProp("offset").height)||0,top:parseInt(this.$node.ltProp("offset").top),left:parseInt(this.$node.ltProp("offset").left),bottom:(C=this,T=parseInt(C.$node.ltProp("offset").bottom),void 0!==T&&NaN!==T||void 0!==(T=parseInt(C.$node.ltProp("offset").top)+parseInt(C.$node.ltProp("offset").height))&&NaN!==T?T:0),right:function(t){var e=parseInt(t.$node.ltProp("offset").right);return void 0!==e&&NaN!==e||void 0!==(e=parseInt(t.$node.ltProp("offset").left)+parseInt(t.$node.ltProp("offset").width))&&NaN!==e?e:0}(this)};var m,u=s,y={},g={},v=this.$node.ltProp("positionNew"),P=!0,b=0,x=0;do{if(this.$node.ltProp("placement"))if(1==(m=this.$node.ltProp("placement").trim().split(" ")).length)switch(P=!0,y=this.positionPopover(this.$node.ltProp("placement"),u,n),v=this.$node.ltProp("placement")){case"bottom":case"top":y.offsetLeft+n.width>c&&(y.offsetLeft=Math.max(p.left,c-n.width)),y.offsetLeft<p.left&&(y.offsetLeft=p.left);break;case"left":case"right":y.offsetTop+n.height>h&&(y.offsetTop=Math.max(p.top,h-n.height)),y.offsetTop<p.top&&(y.offsetTop=p.top)}else if(x<m.length)switch(v=m[x],P=!0,g=y=this.positionPopover(v,u,n),v){case"bottom":if(h<g.offsetTop+n.height||h-(g.offsetTop+n.height)<p.bottom){x++,P=!1;break}g.offsetLeft-n.width<p.left&&(y.offsetLeft=u.left,P=!0),c<y.offsetLeft+n.width&&(y.offsetLeft=c-n.width-10,P=!0);break;case"bottomLeft":if(h<g.offsetTop+n.height||h-(g.offsetTop+n.height)<p.bottom){x++,P=!1;break}g.offsetLeft-n.width<p.left&&(y.offsetLeft=u.left,P=!0),c<g.offsetLeft+n.width&&(y.offsetLeft=c-n.width-10,P=!0);break;case"bottomRight":if(h<g.offsetTop+n.height||h-(g.offsetTop+n.height)<p.bottom){x++,P=!1;break}g.offsetLeft<p.left&&(y.offsetLeft=u.left,P=!0),c<g.offsetLeft+n.width&&(y.offsetLeft=c-n.width-10,P=!0);break;case"top":if(g.offsetTop<p.top){x++,P=!1;break}g.offsetLeft-n.width<p.left&&(y.offsetLeft=u.left,P=!0),c<y.offsetLeft+n.width&&(y.offsetLeft=c-n.width-10,P=!0);break;case"topLeft":case"topRight":if(g.offsetTop<p.top){x++,P=!1;break}g.offsetLeft-n.width<p.left&&(y.offsetLeft=u.left,P=!0),c<g.offsetLeft+n.width&&(y.offsetLeft=c-n.width-10,P=!0);break;case"left":if(g.offsetTop<p.top){x++,P=!1;break}if(g.offsetLeft<p.left){x++,P=!1,o=u.left+u.width+9,i=u.top;break}g.offsetTop-n.height<p.top&&(y.offsetTop=u.top),h<y.offsetTop+n.height&&(y.offsetTop=h-n.height);break;case"leftCenter":case"leftBottom":if(g.offsetTop<p.top){x++,P=!1;break}if(g.offsetLeft<p.left){x++,P=!1;break}if(h<y.offsetTop+n.height){x++,P=!1;break}break;case"right":if(g.offsetTop<p.top){x++,P=!1;break}if(c<g.offsetLeft+n.width){x++,P=!1,y.offsetLeft=u.left-n.width-9,y.offsetTop=u.top;break}g.offsetTop-n.height<p.top&&(y.offsetTop=u.top),h<y.offsetTop+n.height&&(y.offsetTop=h-n.height);break;case"rightCenter":case"rightBottom":if(g.offsetTop<p.top){x++,P=!1;break}if(c<g.offsetLeft+n.width){x++,P=!1;break}if(h<y.offsetTop+n.height){x++,P=!1;break}}else P=!0;else{switch(b++,P=!0,g=y=this.positionPopover(v,u,n),v){case"bottom":if(h<g.offsetTop+n.height||h-(g.offsetTop+n.height)<p.bottom){v="top",P=!1;break}g.offsetLeft-n.width<p.left&&(y.offsetLeft=u.left+(this.getData("ltPropOffsetFromTarget").left||0),y.offsetLeft<0&&(y.offsetLeft=p.left),P=!0),c<y.offsetLeft+n.width&&(y.offsetLeft=c-n.width-("box"==this.getData("ltPropType")?0:9),P=!0);break;case"bottomLeft":if(h<g.offsetTop+n.height||h-(g.offsetTop+n.height)<p.bottom){v="top",P=!1;break}g.offsetLeft-n.width<p.left&&(y.offsetLeft=u.left,P=!0),c<g.offsetLeft+n.width&&(y.offsetLeft=c-n.width-("box"==this.getData("ltPropType")?0:9),P=!0);break;case"bottomRight":if(h<g.offsetTop+n.height||h-(g.offsetTop+n.height)<p.bottom){v="top",P=!1;break}g.offsetLeft<p.left&&(y.offsetLeft=u.left,P=!0),c<g.offsetLeft+n.width&&(y.offsetLeft=c-n.width-("box"==this.getData("ltPropType")?0:9),P=!0);break;case"top":if(g.offsetTop<p.top){v=_lyteUiUtils.getRTL()?"left":"right",P=!1;break}g.offsetLeft-n.width<p.left&&(y.offsetLeft=u.left,P=!0),c<y.offsetLeft+n.width&&(y.offsetLeft=c-n.width-("box"==this.getData("ltPropType")?0:9),P=!0);break;case"topLeft":if(g.offsetTop<p.top){v="right",P=!1;break}g.offsetLeft-n.width<p.left&&(y.offsetLeft=u.left,P=!0),c<g.offsetLeft+n.width&&(y.offsetLeft=c-n.width-("box"==this.getData("ltPropType")?0:9),P=!0);break;case"topRight":if(g.offsetTop<p.top){v="left",P=!1;break}g.offsetLeft-n.width<p.left&&(y.offsetLeft=u.left,P=!0),c<g.offsetLeft+n.width&&(y.offsetLeft=c-n.width-("box"==this.getData("ltPropType")?0:9),P=!0);break;case"left":if(g.offsetTop<p.top){v="bottom",P=!1;break}g.offsetLeft<p.left&&(v="right",y.offsetLeft=u.left+u.width+("box"==this.getData("ltPropType")?0:9),y.offsetTop=u.top),g.offsetTop-n.height<p.top&&(y.offsetTop=u.top),h<y.offsetTop+n.height&&(y.offsetTop=Math.max(p.top,h-n.height));break;case"right":if(g.offsetTop<p.top){v="bottom",P=!1;break}c<g.offsetLeft+n.width&&(v="left",y.offsetLeft=u.left-n.width-("box"==this.getData("ltPropType")?0:9),y.offsetTop=u.top),g.offsetTop-n.height<p.top&&(y.offsetTop=u.top),h<y.offsetTop+n.height&&(y.offsetTop=Math.max(p.top,h-n.height))}this.getData("ltPropIgnoreBoundary")&&(P=!0)}}while(!P&&b<=8);if(this.getData("ltPropForceScroll")&&(-1!=v.indexOf("left")||-1!=v.indexOf("right")?u.height<=n.height?y.offsetTop>u.top?y.offsetTop=u.top:y.offsetTop+n.height<u.bottom&&(y.offsetTop=u.bottom-n.height):y.offsetTop<u.top?y.offsetTop=u.top:y.offsetTop+n.height>u.bottom&&(y.offsetTop=u.bottom-n.height):y.offsetLeft>u.left?y.offsetLeft=u.left:y.offsetLeft+n.width<u.right&&(y.offsetLeft=u.right-n.width)),o=y.offsetLeft,i=y.offsetTop,"callout"===this.$node.ltProp("type")){v.indexOf("bottom")>-1?(y.classTobeAdded="lytePopoverArrowTop",y.posClass="lytePopBottomToOrig"):v.indexOf("top")>-1?(y.classTobeAdded="lytePopoverArrowBottom",y.posClass="lytePopTopToOrig"):v.indexOf("left")>-1?(y.classTobeAdded="lytePopoverArrowRight",y.posClass="lytePopLeftToOrig"):v.indexOf("right")>-1&&(y.classTobeAdded="lytePopoverArrowLeft",y.posClass="lytePopRightToOrig");var L,_=l.querySelector("#lytePopoverArrow");_.classList.remove("lytePopoverArrowTop","lytePopoverArrowBottom","lytePopoverArrowRight","lytePopoverArrowLeft"),_.classList.add(y.classTobeAdded),l.parentElement.classList.contains(y.posClass)||(l.parentElement.classList.remove("lytePopBottomToOrig","lytePopTopToOrig","lytePopLeftToOrig","lytePopRightToOrig"),l.parentElement.classList.add(y.posClass)),$L.fastdom.measure((function(){L={height:_.offsetHeight,width:_.offsetWidth}})),$L.fastdom.mutate((function(){var t=Math.floor(Math.sqrt(L.height*L.height+L.width*L.width)-2);if("lytePopoverArrowTop"===y.classTobeAdded||"lytePopoverArrowBottom"===y.classTobeAdded){var e=Math.abs(o-(u.left+(u.width-t)/2));if(_.style.left=e+"px",_.style.top="",e<13&&s.width<=t+22)e+=a=13-e,_.style.left=e+"px",o-=a;else if(n.width-(e+t)<13&&s.width<=t+22){e-=a=13-(n.width-(e+t)),_.style.left=e+"px",o+=a}e>n.width-2*t&&(e=n.width-2*t,_.style.left=e+"px"),"lytePopoverArrowTop"===y.classTobeAdded&&this.setData("transformOrigin",Math.round(e)+"px top"),"lytePopoverArrowBottom"===y.classTobeAdded&&this.setData("transformOrigin",Math.round(e)+"px bottom")}else{var l=Math.abs(i-(u.top+(u.height-t)/2));if(_.style.left="",_.style.top=l+"px",l<13&&s.height<=t+22)l+=a=13-l,_.style.top=l+"px",i-=a;else if(n.height-(l+t)<13&&s.height<=t+22){var a;l-=a=13-(n.height-(l+t)),_.style.top=l+"px",i+=a}"lytePopoverArrowLeft"===y.classTobeAdded&&this.setData("transformOrigin","left "+Math.round(l)+"px"),"lytePopoverArrowRight"===y.classTobeAdded&&this.setData("transformOrigin","right "+Math.round(l)+"px")}}),this)}else if(v.indexOf("bottom")>-1?y.posClass="lytePopBottomToOrig":v.indexOf("top")>-1?y.posClass="lytePopTopToOrig":"left"===v?y.posClass="lytePopLeftToOrig":"right"===v&&(y.posClass="lytePopRightToOrig"),l.parentElement.classList.contains(y.posClass)||(l.parentElement.classList.remove("lytePopBottomToOrig","lytePopTopToOrig","lytePopLeftToOrig","lytePopRightToOrig"),l.parentElement.classList.add(y.posClass)),"lytePopBottomToOrig"==y.posClass||"lytePopTopToOrig"==y.posClass){var w=Math.abs(o-(u.left+u.width/2));"lytePopBottomToOrig"==y.posClass&&this.setData("transformOrigin",Math.round(w)+"px top"),"lytePopTopToOrig"==y.posClass&&this.setData("transformOrigin",Math.round(w)+"px bottom")}else{var D=Math.abs(i-(u.top+u.height/2));"lytePopRightToOrig"===y.posClass&&this.setData("transformOrigin","left "+Math.round(D)+"px"),"lytePopLeftToOrig"===y.posClass&&this.setData("transformOrigin","right "+Math.round(D)+"px")}this.setData("classTobeAdded",y.classTobeAdded),this.$node.ltProp("positionNew",v),$L.fastdom.mutate((function(){if(o-=d.left?d.left:0,i-=d.top?d.top:0,l.style.left=o+"px",l.style.top=i+"px",this.getData("first"))LytePopup.bindTransitionEnd(this.actualModalDiv),this.callOnShow(),this.setOpacityAndVisibility(),this.setData("first",!1),$L.fastdom.mutate((function(){this.addMutationObserver()}),this);else if(this.getData("resize"))this.callOnResize(t),this.setData("resize",!1),l.style.height=this.$node.ltProp("height")?this.$node.ltProp("height"):"auto",l.style.width=this.$node.ltProp("width")?this.$node.ltProp("width"):"auto",$L.fastdom.mutate((function(){this.addMutationObserver()}),this);else if(e){var a=this.getData("prevRect");a&&(a.left!=o||a.top!=i)&&this.getMethods("onPositionChange")&&this.executeMethod("onPositionChange",this)}this.setData("prevRect",{left:o,top:i})}),this)}var C,T}),this),this.$node.ltProp("freeze")&&document.body.classList.add("bodyWrapper");var a=this,s=function(){a.setData("modalElemWidth",a.actualModalDiv.offsetWidth),a.setData("modalElemHeigh",a.actualModalDiv.offsetHeight),a.actualModalDiv.removeEventListener("transitionend",s)};this.actualModalDiv.addEventListener("transitionend",s)},positionPopover:function(t,e,o){var i,l=0,a=0,s=this.getData("margin");switch(""==this.getData("ltPropOriginElem")&&(e.width=o.width),t){case"bottom":l=e.left-(o.width-e.width)/2,a=e.top+e.height+("box"==this.getData("ltPropType")?0:9)+s.top,i="lytePopoverArrowTop";break;case"bottomLeft":l=e.left,a=e.top+e.height+("box"==this.getData("ltPropType")?0:9)+s.top,i="lytePopoverArrowTop";break;case"bottomRight":l=e.left+e.width-o.width,a=e.top+e.height+("box"==this.getData("ltPropType")?0:9)+s.top,i="lytePopoverArrowTop";break;case"top":l=e.left-(o.width-e.width)/2,a=e.top-(o.height+("box"==this.getData("ltPropType")?0:9))-s.bottom,i="lytePopoverArrowBottom";break;case"topLeft":l=e.left,a=e.top-(o.height+("box"==this.getData("ltPropType")?0:9))-s.bottom,i="lytePopoverArrowBottom";break;case"topRight":l=e.left+e.width-o.width,a=e.top-(o.height+("box"==this.getData("ltPropType")?0:9))-s.bottom,i="lytePopoverArrowBottom";break;case"left":l=e.left-o.width-("box"==this.getData("ltPropType")?0:9)+s.left,a=e.top,i="lytePopoverArrowRight";break;case"leftCenter":l=e.left-o.width-("box"==this.getData("ltPropType")?0:9)+s.left,a=e.top+(e.height-o.height)/2,i="lytePopoverArrowRight";break;case"leftBottom":l=e.left-o.width-("box"==this.getData("ltPropType")?0:9)+s.left,a=e.bottom-o.height,i="lytePopoverArrowRight";break;case"right":l=e.left+e.width+("box"==this.getData("ltPropType")?0:9)-s.right,a=e.top,i="lytePopoverArrowLeft";break;case"rightCenter":l=e.left+e.width+("box"==this.getData("ltPropType")?0:9)-s.right,a=e.top+(e.height-o.height)/2,i="lytePopoverArrowLeft";break;case"rightBottom":l=e.left+e.width+("box"==this.getData("ltPropType")?0:9)-s.right,a=e.bottom-o.height,i="lytePopoverArrowLeft"}return{offsetLeft:l,offsetTop:a,classTobeAdded:i}},callOnShow:function(){this.$node.classList.add("lytePopoverOpened"),this.getMethods("onShow")&&this.executeMethod("onShow",this)},setOpacityAndVisibility:function(){if("zoom"===this.getData("ltPropAnimation")){this.actualModalDiv.style.transition="none",this.actualModalDiv.style.transform="scale(0)",this.actualModalDiv.classList.add("lytePopoverVisible");var t=this;setTimeout((function(){t.actualModalDiv.style.transition="",t.actualModalDiv.style.transitionDuration=parseFloat(t.getData("ltPropDuration"))/1e3+"s",LytePopup.makingVisible=!0,t.actualModalDiv.style.transformOrigin=t.getData("transformOrigin"),t.actualModalDiv.style.transform="scale(1)"}),50)}else this.actualModalDiv.style.transitionDuration=parseFloat(this.getData("ltPropDuration"))/1e3+"s",LytePopup.makingVisible=!0,this.actualModalDiv.classList.add("lytePopoverVisible")},computeOffset:function(){this.getData("ltPropShow")&&this.computeOffsetImpl()}.observes("ltPropOriginElem"),onBeforeCloseHandling:function(t){var e=!0,o=this.event;this.event&&delete this.event,this.getMethods("onBeforeClose")&&(e=this.executeMethod("onBeforeClose",o||t,this));var i=this;if(void 0===e||e)if(_lyteUiUtils.dispatchEvent("lytePopoverBeforeClose",this.actualModalDiv),delete this.$node.alignPopover,delete this.$node.calculateOffset,this.getData("ltPropFreeze")&&this.addedFreezeDetails&&(LytePopup.hideOrShowFreeze("close",this),delete this.addedFreezeDetails),this.getData("ltPropAutoAlign")&&this.$node.mutobserver&&(this.$node.mutobserver.disconnect(),delete this.$node.mutobserver),this.getData("arrowHidden")&&(this.getData("arrowEle").style.display="",this.setData("arrowHidden",!1),this.setData("arrowEle",null)),_lyteUiUtils.getRTL()&&this.getData("ltPropPlacement")&&this.setRTLPosition(),null==this.getData("ltPropDuration"))this.$node.ltProp({showCopy:!1,show:!1}),this.$node.classList.remove("lytePopoverOpened"),"zoom"==this.getData("ltPropAnimation")?this.actualModalDiv.style.transform="scale(0)":this.actualModalDiv.classList.remove("lytePopoverVisible"),LytePopup.closePopup(this),this.setData("visible",!1),this.$node.ltProp("freeze")&&this.childComp.querySelector("lyte-popover-freeze")&&(this.childComp.querySelector("lyte-popover-freeze").style.opacity=0,this.childComp.querySelector("lyte-popover-freeze").style.visibility=""),!this.getData("ltPropFreeze")&&document.body.classList.contains("lyteStopBodyScrolling")&&document.body.classList.remove("lyteStopBodyScrolling"),this.getMethods("onClose")&&(this.executeMethod("onClose",o||t,this),this.childComp&&this.setData("ltPropShowWormhole",!1)),LytePopup.checkAndRemoveWrapper(),setTimeout((function(){i.getData("visible")||($L(i.childComp).find(".lytePopover")[0]&&($L(i.childComp).find(".lytePopover")[0].style.left="",$L(i.childComp).find(".lytePopover")[0].style.top=""),i.childComp&&(i.childComp.classList.add("lytePopoverDispNone"),i.setData("ltPropShowWormhole",!1)))}),20);else{var l=parseInt(this.getData("ltPropDuration"));this.tIdClose=setTimeout((function(){i.tIdClose=!1,"zoom"==i.getData("ltPropAnimation")&&(i.actualModalDiv.classList.remove("lytePopoverVisible"),i.actualModalDiv.style.transform=""),i.$node.ltProp({showCopy:!1,show:!1}),i.$node.classList.remove("lytePopoverOpened"),i.getMethods("onClose")&&(i.executeMethod("onClose",o||t,i),i.childComp&&i.setData("ltPropShowWormhole",!1)),LytePopup.checkAndRemoveWrapper(),i.getData("ltPropBindToBody")||i.removeDOMReferences()}),l),this.actualModalDiv.style.transitionDuration=(0==l?0:l>300?l-200:100)/1e3+"s","zoom"==this.getData("ltPropAnimation")?this.actualModalDiv.style.transform="scale(0)":this.actualModalDiv.classList.remove("lytePopoverVisible"),LytePopup.closePopup(this),this.setData("visible",!1),setTimeout((function(){i.getData("visible")||($L(i.childComp).find(".lytePopover")[0]&&($L(i.childComp).find(".lytePopover")[0].style.left="",$L(i.childComp).find(".lytePopover")[0].style.top=""),i.childComp&&(i.childComp.classList.add("lytePopoverDispNone"),i.setData("ltPropShowWormhole",!1)))}),parseInt(i.getData("ltPropDuration"))+20),this.$node.ltProp("freeze")&&this.childComp.querySelector("lyte-popover-freeze")&&(this.childComp.querySelector("lyte-popover-freeze").style.opacity=0,this.childComp.querySelector("lyte-popover-freeze").style.visibility=""),!this.getData("ltPropFreeze")&&document.body.classList.contains("lyteStopBodyScrolling")&&document.body.classList.remove("lyteStopBodyScrolling")}else this.setData("returnedFalse",!0),this.getData("visible")||this.setData("visible",!0),this.$node.ltProp("show",!0),this.setData("ltPropShowWormhole",!0)},onBeforeShowHandling:function(){var t=!0;if(this.getMethods("onBeforeShow")&&(t=this.executeMethod("onBeforeShow",this)),void 0===t||t){if(this.childComp.classList.remove("lytePopoverDispNone"),this.setData("checkAria",this.getData("checkAria")+1),this.getData("ltPropDraggable")&&this.addDragHandler(),this.updateScrollHandling(),this.$node.ltProp("positionNew",this.$node.ltProp("position")),null==this.getData("ltPropDuration"))this.$node.ltProp("showCopy",!0),this.fastdomfn5=$L.fastdom.mutate((function(){delete this.fastdomfn5,this.fastdomfn6=$L.fastdom.measure((function(){delete this.fastdomfn6,this.fastdomfn7=$L.fastdom.mutate((function(){delete this.fastdomfn7,this.computeOffsetImpl()}),this)}),this)}),this);else{var e=this;this.initCompute=setTimeout((function(){delete e.initCompute,e.$node.ltProp("showCopy",!0),e.fastdomfn5=$L.fastdom.mutate((function(){delete e.fastdomfn5,e.fastdomfn6=$L.fastdom.measure((function(){delete e.fastdomfn6,e.fastdomfn7=$L.fastdom.mutate((function(){delete e.fastdomfn7,e.computeOffsetImpl()}),e)}),e)}),e)}),0)}this.getData("first")||this.setData("first",!0),$L.fastdom.measure((function(){var t=this.$node.ltProp("originElem")?LytePopup.getScrollParent(document.querySelector(this.$node.ltProp("originElem"))):null;""!==this.getData("ltPropHostElement")&&(t=this.$node.ltProp("originElem")?LytePopup.getScrollParent($L(this.getData("ltPropHostElement"))[0].shadowRoot.querySelector(this.getData("ltPropOriginElem"))):null),this.getData("ltPropFreeze")||t&&t.isEqualNode(document.body)||document.body.classList.add("lyteStopBodyScrolling")}),this),this.getData("visible")||this.setData("visible",!0),LytePopup.addPopup(this),this.$node.alignPopover=this.computeOffsetImpl.bind(this),this.$node.calculateOffset=this.updateScrollHandling.bind(this)}else this.$node.ltProp({showCopy:!1,show:!1})},didDestroy:function(){this.event&&delete this.event,this.setData("ltPropShowWormhole",!1),this.$node.classList.remove("lytePopoverOpened"),this.childComp&&(this.clearFastdomBatch(),this.getData("ltPropAutoAlign")&&this.$node.mutobserver&&(this.$node.mutobserver.disconnect(),delete this.$node.mutobserver),this.tIdBeforeClose&&(clearTimeout(this.tIdBeforeClose),this.tIdBeforeClose=!1),this.tIdClose&&(clearTimeout(this.tIdClose),this.tIdClose=!1),this.getData("ltPropFreeze")&&this.addedFreezeDetails&&(LytePopup.hideOrShowFreeze("close",this),delete this.addedFreezeDetails),LytePopup.closePopup(this),this.childComp.remove(),this.removeDOMReferences(),LytePopup.checkAndRemoveWrapper(),!this.getData("ltPropFreeze")&&document.body.classList.contains("lyteStopBodyScrolling")&&document.body.classList.remove("lyteStopBodyScrolling"))},actions:{close:function(){this.$node.ltProp("show",!1),this.setData("ltPropShowWormhole",!1)}},methods:{beforeWormholeAppend:function(t){if(this.childComp=t,this.$node.parentElement&&"LYTE-COLORPICKER"==this.$node.parentElement.tagName&&(this.$node.parentElement.component.childComp=this.childComp),this.childComp.querySelector("lyte-popover-header")&&(this.childComp.querySelector("lyte-popover-header").style.padding=this.getData("ltPropHeaderPadding")),this.childComp.querySelector("lyte-popover-content")&&(this.childComp.querySelector("lyte-popover-content").style.padding=this.getData("ltPropContentPadding")),this.childComp.querySelector("lyte-popover-footer")&&(this.childComp.querySelector("lyte-popover-footer").style.padding=this.getData("ltPropFooterPadding")),this.actualModalDiv=this.childComp.querySelector(".lytePopover"),this.childComp.querySelector("lyte-popover-header")&&this.getData("ltPropShowCloseButton")){var e=0,o=0;$L.fastdom.measure((function(){e=this.childComp.querySelector("lyte-popover-header").offsetHeight,o=this.childComp.querySelector(".lytePopoverClose").offsetHeight}),this),$L.fastdom.mutate((function(){this.childComp.querySelector(".lytePopoverClose").style.top=(e-o)/2+"px"}),this)}}},observeClickEvent:function(){LytePopup._stopPropagation=this.getData("ltPropStopClick"),LytePopup._stopPropagation?LytePopup._sourceComp=this:LytePopup._sourceComp&&delete LytePopup._sourceComp}.observes("ltPropStopClick")}),"complete"===document.readyState||"interactive"===document.readyState?addPopoverEvent():document.addEventListener("DOMContentLoaded",(function(t){addPopoverEvent(t)})),void 0===_lyteBetaPopover)var _lyteBetaPopover={};function addModalEvent(t){window.addEventListener("resize",(function(t){LytePopup._lyteModalRTId&&(clearTimeout(LytePopup._lyteModalRTId),LytePopup._lyteModalRTId=!1),LytePopup._lyteModalRTId=setTimeout((function(){for(var t=0;t<LytePopup.components.length;t++)if(LytePopup.components[t].$node&&"LYTE-MODAL"==LytePopup.components[t].$node.nodeName&&"visible"==LytePopup.components[t].childComp.style.visibility&&LytePopup.components[t].childComp.querySelector(".lyteModal"))if(LytePopup.components[t].$node.component.setData("resizeCalled",!0),""==LytePopup.components[t].getData("ltPropParentModalId")&&""!=LytePopup.components[t].getData("ltPropDependentModalId"))LytePopup.components[t].$node.component.updateScrollHandling();else if(""==LytePopup.components[t].getData("ltPropParentModalId")&&""==LytePopup.components[t].getData("ltPropDependentModalId")){if(t==LytePopup.components.length-1&&LytePopup.components[t].renderSidewise)continue;LytePopup.components[t].$node.component.updateScrollHandling()}LytePopup._lyteModalRTId=!1}),100)}),!0),document.addEventListener("click",(function(t){var e=t.target,o=!1;for(($L(t.target).closest(".lyteInputCalendar")[0]||$L(t.target).closest(".lyteCalendarView")[0])&&(o=!0);!$L(e).hasClass("modalWrapper")&&!$L(e).hasClass("popoverWrapper")&&"LYTE-MODAL-FREEZE"!=e.tagName&&"LYTE-DROP-BOX"!=e.tagName&&"HTML"!=e.tagName&&!o;)if(!(e=e.parentElement))return;if("HTML"==e.tagName||"LYTE-MODAL-FREEZE"==e.tagName){for(var i=LytePopup.components.length-1;i>=0;i--)if("LYTE-MODAL"==LytePopup.components[i].$node.tagName&&"visible"==LytePopup.components[i].childComp.style.visibility){var l=!0;if((a=LytePopup.components[i].$node).component.getData("ltPropAllowContainment")&&"HTML"===e.tagName&&(l=!1),a&&a.component.getData("ltPropOverlayClose")&&l){a.ltProp("show",!1);break}}}else if(e.classList.contains("modalWrapper")&&LytePopup.components.length>1&&"LYTE-MODAL"==LytePopup.components[LytePopup.components.length-1].$node.tagName){var a;l=!0;(a=LytePopup.components[LytePopup.components.length-1]).getData("ltPropAllowContainment")&&"HTML"===e.tagName&&(l=!1),!a.childComp.contains(e)&&"visible"==a.childComp.style.visibility&&a.getData("ltPropOverlayClose")&&l&&a.$node.ltProp("show",!1)}}),!0)}window.addEventListener("click",(function(t){if(LytePopup._stopPropagation)LytePopup._sourceComp.setData("ltPropStopClick",!1);else if(_lyteUiUtils.popupStack&&_lyteUiUtils.popupStack.globalStack&&_lyteUiUtils.popupStack.betaPopoverStack.length>0){var e=_lyteUiUtils.popupStack.globalStack[_lyteUiUtils.popupStack.globalStack.length-1];if(_lyteUiUtils.popupStack.globalStack[_lyteUiUtils.popupStack.globalStack.length-1].parentElement===_lyteUiUtils.popupStack.betaPopoverStack[_lyteUiUtils.popupStack.betaPopoverStack.length-1].parentElement||"LYTE-POPOVER"===_lyteUiUtils.popupStack.globalStack[_lyteUiUtils.popupStack.globalStack.length-1].parentElement.tagName)if("LYTE-BETA-POPOVER"===e.parentElement.tagName&&$L(e.parentElement).hasClass("lytePopoverOpened")&&"lytedropdownfreezelayer"!==$L(t.target).attr("id")&&"LYTE-DROP-ITEM"!==t.target.tagName){if($L(t.target).closest(".lytePopoverElement")[0])return;if(!e.parentElement.getData("ltPropCloseOnBodyClick"))return;e.parentElement.setData("ltPropShow",!1)}else{if(e=_lyteUiUtils.popupStack.betaPopoverStack[_lyteUiUtils.popupStack.betaPopoverStack.length-1],_lyteUiUtils.popupStack.betaPopoverStack[_lyteUiUtils.popupStack.betaPopoverStack.length-1]!==_lyteUiUtils.popupStack.globalStack[_lyteUiUtils.popupStack.globalStack.length-1]||!e.parentElement.getData("ltPropCloseOnBodyClick"))return;e.parentElement.setData("ltPropShow",!1)}}}),!0),window.addEventListener("resize",(function(t){if(_lyteUiUtils.popupStack&&_lyteUiUtils.popupStack.globalStack&&_lyteUiUtils.popupStack.betaPopoverStack.length>0)for(var e=0;e<_lyteUiUtils.popupStack.betaPopoverStack.length;e++){_lyteUiUtils.popupStack.betaPopoverStack[e].parentElement.component.setPopoverPosition()}}),!0),_lyteBetaPopover.scrollHandler=function(t){if(!$L(t.target).closest(".lytePopoverWrapper")[0]){if(_lyteUiUtils.targetAvailable&&_lyteUiUtils.targetAvailable.originElem){var e=$L(_lyteUiUtils.targetAvailable.originElem)[0];_lyteUiUtils.targetAvailable.closedOn&&("top"===_lyteUiUtils.targetAvailable.closedOn?_lyteUiUtils.targetAvailable.top&&e.getBoundingClientRect().top>=_lyteUiUtils.targetAvailable.top&&(_lyteUiUtils.targetAvailable.popover.setData("ltPropShow",!0),delete _lyteUiUtils.targetAvailable):"bottom"===_lyteUiUtils.targetAvailable.closedOn&&_lyteUiUtils.targetAvailable.bottom&&e.getBoundingClientRect().bottom<=_lyteUiUtils.targetAvailable.bottom&&(_lyteUiUtils.targetAvailable.popover.setData("ltPropShow",!0),delete _lyteUiUtils.targetAvailable))}if(_lyteUiUtils.popupStack&&_lyteUiUtils.popupStack.globalStack&&_lyteUiUtils.popupStack.betaPopoverStack.length>0)for(var o=0;o<_lyteUiUtils.popupStack.betaPopoverStack.length;o++){var i=_lyteUiUtils.popupStack.betaPopoverStack[o].parentElement;if(i){if(i.getData("ltPropCloseOnScroll"))return void i.setData("ltPropShow",!1);if(_lyteUiUtils.popupStack.betaPopoverStack[o].childElement&&i.getData("ltPropScrollable")&&i.component.setPopoverPosition(),!i.component.isPopoverInBoundary())return _lyteUiUtils.targetAvailable||(_lyteUiUtils.targetAvailable={}),_lyteUiUtils.targetAvailable.popover=i,i.getData("ltPropBoundary").top?_lyteUiUtils.targetAvailable.top=parseFloat(i.getData("ltPropBoundary").top):_lyteUiUtils.targetAvailable.top=0,i.getData("ltPropBoundary").bottom?_lyteUiUtils.targetAvailable.bottom=parseFloat(i.getData("ltPropBoundary").bottom):_lyteUiUtils.targetAvailable.bottom=window.innerHeight,_lyteUiUtils.targetAvailable.originElem=i.getData("ltPropOriginElem"),void i.setData("ltPropShow",!1);i.getData("ltPropForceScroll")||i.component.isOriginElemInViewport()}}}},window.addEventListener("scroll",(function(t){_lyteBetaPopover.scrollHandler(t)}),!0),window.addEventListener("wheel",(function(t){_lyteBetaPopover.scrollHandler(t)}),!0),Lyte.Component.register("lyte-beta-popover",{_template:'<template tag-name="lyte-beta-popover"> <template is="if" value="{{ltPropBindToBody}}"><template case="true"> <lyte-wormhole case="true" class="lytePopoverVisibilityHidden" on-before-append="{{method(&quot;beforeWormholeAppend&quot;)}}" lt-prop-focus-on-close="{{ltPropFocusOnClose}}" lt-prop-show="{{ltPropShowWormhole}}"> <template is="registerYield" yield-name="lyte-content"> <div class="popoverWrapper lytePopoverWrapper {{ltPropWrapperClass}} lytePopupZI"> <div class="lytePopoverElement {{if(ifEquals(ltPropAnimation,\'zoom\'),\'lytePopover lyteZoom\',\'lytePopover\')}}"> <template is="if" value="{{ifEquals(ltPropType,&quot;callout&quot;)}}"><template case="true"> <span id="lytePopoverArrow" class="lytePopoverArrowIcon"></span> </template></template> <template is="if" value="{{ltPropShowCloseButton}}"><template case="true"> <span case="true" class="lytePopoverClose" onclick="{{action(\'closePopover\')}}" tabindex="0"></span> </template></template> <lyte-yield yield-name="popover" class="lytePopoverYield"></lyte-yield> </div> <template is="if" value="{{ltPropFreeze}}"><template case="true"> <lyte-popover-freeze class="lytePopupFreezeLayer"></lyte-popover-freeze> </template></template> </div> </template> </lyte-wormhole> </template></template> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[]}},default:{}},{type:"attr",position:[1,1,3]},{type:"if",position:[1,1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"insertYield",position:[1,1,5]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"componentDynamic",position:[1]}]}},default:{}}]},{type:"componentDynamic",position:[1]}]}},default:{}}],_observedAttributes:["ltPropShow","ltPropType","ltPropFreeze","ltPropShowCloseButton","ltPropCloseOnEscape","ltPropOriginElem","ltPropPosition","ltPropPlacement","ltPropDimmer","ltPropDraggable","ltPropAllowMultiple","ltPropScrollable","ltPropMaxHeight","ltPropMaxWidth","ltPropWidth","ltPropHeight","ltPropWrapperClass","ltPropBoundary","ltPropCloseOnBodyClick","ltPropDuration","ltPropOffset","ltPropOffsetFromTarget","ltPropBindToBody","ltPropHeaderPadding","ltPropContentPadding","ltPropFooterPadding","ltPropAnimation","ltPropWindowSpacing","ltPropForceScroll","ltPropAutoAlign","ltPropPreventFocus","ltPropStopClick","ltPropIgnoreBoundary","ltPropMargin","ltPropCloseOnScroll","ltPropAllowContainment","ltPropIgnoreInput","ltPropFocusOnClose","ltPropAria","ltPropAriaAttributes","ltPropScaleFrom","ltPropShowWormhole","ltPropHostElement","ltPropReOpen","initialPopoverDim","initialMouseDown","initialComputedPopoverDim","prevOffsetVal","finalPlacement","popoverClosedOn"],data:function(){return{ltPropShow:Lyte.attr("boolean",{default:!1}),ltPropType:Lyte.attr("string",{default:"callout"}),ltPropFreeze:Lyte.attr("boolean",{default:!0}),ltPropShowCloseButton:Lyte.attr("boolean",{default:!0}),ltPropCloseOnEscape:Lyte.attr("boolean",{default:!0}),ltPropOriginElem:Lyte.attr("string",{default:""}),ltPropPosition:Lyte.attr("string",{default:"bottom"}),ltPropPlacement:Lyte.attr("string",{default:"rightCenter"}),ltPropDimmer:Lyte.attr("object",{default:{color:"black",opacity:"0.4"}}),ltPropDraggable:Lyte.attr("boolean",{default:!1}),ltPropAllowMultiple:Lyte.attr("boolean",{default:!1}),ltPropScrollable:Lyte.attr("boolean",{default:!1}),ltPropMaxHeight:Lyte.attr("string",{default:""}),ltPropMaxWidth:Lyte.attr("string",{default:""}),ltPropWidth:Lyte.attr("string",{default:""}),ltPropHeight:Lyte.attr("string",{default:""}),ltPropWrapperClass:Lyte.attr("string",{default:""}),ltPropBoundary:Lyte.attr("object",{default:{}}),ltPropCloseOnBodyClick:Lyte.attr("boolean",{default:!0}),ltPropDuration:Lyte.attr("string",{default:"400"}),ltPropOffset:Lyte.attr("object",{default:{}}),ltPropOffsetFromTarget:Lyte.attr("object",{default:{}}),ltPropBindToBody:Lyte.attr("boolean",{default:!1}),ltPropHeaderPadding:Lyte.attr("string",{default:""}),ltPropContentPadding:Lyte.attr("string",{default:""}),ltPropFooterPadding:Lyte.attr("string",{default:""}),ltPropAnimation:Lyte.attr("string",{default:"fade"}),ltPropWindowSpacing:Lyte.attr("object"),ltPropForceScroll:Lyte.attr("boolean",{default:!1}),ltPropAutoAlign:Lyte.attr("boolean",{default:!1}),ltPropPreventFocus:Lyte.attr("boolean",{default:!1}),ltPropStopClick:Lyte.attr("boolean",{default:!1}),ltPropIgnoreBoundary:Lyte.attr("boolean",{default:!1}),ltPropMargin:Lyte.attr("object",{default:{}}),ltPropCloseOnScroll:Lyte.attr("boolean",{default:!1}),ltPropAllowContainment:Lyte.attr("boolean",{default:!1}),ltPropIgnoreInput:Lyte.attr("boolean",{default:!1}),ltPropFocusOnClose:Lyte.attr("boolean",{default:!1}),ltPropAria:Lyte.attr("boolean",{default:!1}),ltPropAriaAttributes:Lyte.attr("object",{default:{}}),ltPropScaleFrom:Lyte.attr("number",{default:0}),ltPropShowWormhole:Lyte.attr("boolean",{default:!1}),ltPropHostElement:Lyte.attr("string",{default:""}),ltPropReOpen:Lyte.attr("string",{default:!1}),initialPopoverDim:Lyte.attr("object",{default:{top:0,left:0,right:0,bottom:0,width:0,height:0}}),initialMouseDown:Lyte.attr("object",{default:{clientX:0,clientY:0}}),initialComputedPopoverDim:Lyte.attr("object",{default:{left:0,top:0}}),prevOffsetVal:Lyte.attr("object",{default:{}}),finalPlacement:Lyte.attr("string",{default:"bottom"}),popoverClosedOn:Lyte.attr("string",{default:""})}},init:function(){_lyteUiUtils.lytePopoverKeyDown||(_lyteUiUtils.lytePopoverKeyDown=!0,document.addEventListener("keydown",(function(t){var e=[],o=[];_lyteUiUtils.popupStack&&_lyteUiUtils.popupStack.betaPopoverStack&&(e=_lyteUiUtils.popupStack.betaPopoverStack),_lyteUiUtils.popupStack&&_lyteUiUtils.popupStack.globalStack&&(o=_lyteUiUtils.popupStack.globalStack);var i=!1;"key"in t?(i="Escape"==t.key||"Esc"==t.key,isTabPressed="Tab"==t.key,isEnter="Enter"==t.key):(i=27==t.keyCode,isTabPressed=9==t.keyCode,isEnter=13==t.keyCode),i&&e&&e.length>0&&e[e.length-1].parentElement.getData("ltPropCloseOnEscape")&&o[o.length-1]===e[e.length-1]&&e[e.length-1].parentElement.setData("ltPropShow",!1)})))},actions:{closePopover:function(){this.setData("ltPropShow",!1)}},methods:{beforeWormholeAppend:function(t){this.childComp&&delete this.childComp,this.actualModalDiv&&delete this.actualModalDiv,this.childComp=t,this.actualModalDiv=$L(this.childComp).find(".lytePopoverElement")[0],this.getData("ltPropDraggable")&&$L(this.childComp).find("lyte-popover-header")[0]&&($L(this.childComp).find("lyte-popover-header")[0].style.cursor="move",$L(this.childComp).find("lyte-popover-header")[0].addEventListener("mousedown",this.mousedownFun))}},mousedownFun:function(t){$L(this).addClass("lytePopoverDragRunning");$L(this)[0].getBoundingClientRect();var e=$L(this).closest("lyte-wormhole")[0].component.parent.component;Lyte.objectUtils(e.getData("initialMouseDown"),"add","clientX",t.clientX),Lyte.objectUtils(e.getData("initialMouseDown"),"add","clientY",t.clientY);var o=e.actualModalDiv.getBoundingClientRect(),i=e.actualModalDiv.parentElement;$L(i).removeClass("lyteModalVerticalMiddleAlign lyteModalHorizontalCenterAlign lyteModalBottomAlign lyteModalRightAlign").addClass("lyteModalTopAlign lyteModalLeftAlign"),e.actualModalDiv.style.top=o.top+"px",e.actualModalDiv.style.left=o.left+"px",e.actualModalDiv.style.bottom="",e.actualModalDiv.style.right="",e.actualModalDiv.style.transition="none",Lyte.objectUtils(e.getData("initialComputedPopoverDim"),"add","left",parseFloat(getComputedStyle($L(e.actualModalDiv)[0]).left)),Lyte.objectUtils(e.getData("initialComputedPopoverDim"),"add","top",parseFloat(getComputedStyle($L(e.actualModalDiv)[0]).top)),window.addEventListener("mouseup",e.mouseupFun),window.addEventListener("mousemove",e.mousemoveFun)},mousemoveFun:function(t){var e=$L(".lytePopoverDragRunning"),o=$L(e).closest(".lytePopoverElement")[0],i=$L(e).closest("lyte-wormhole")[0].component.parent;i.setData("ltPropType","box"),o.style.left=i.getData("initialComputedPopoverDim").left-(i.getData("initialMouseDown").clientX-t.clientX)+"px",o.style.top=i.getData("initialComputedPopoverDim").top-(i.getData("initialMouseDown").clientY-t.clientY)+"px",i.getData("ltPropAllowContainment")&&(i.getData("initialComputedPopoverDim").left-(i.getData("initialMouseDown").clientX-t.clientX)<=0&&(o.style.left="0px"),i.getData("initialComputedPopoverDim").top-(i.getData("initialMouseDown").clientY-t.clientY)<=0&&(o.style.top="0px"),i.getData("initialComputedPopoverDim").left-(i.getData("initialMouseDown").clientX-t.clientX)+i.getData("initialPopoverDim").width>=window.innerWidth&&(o.style.left=window.innerWidth-i.getData("initialPopoverDim").width+"px"),i.getData("initialComputedPopoverDim").top-(i.getData("initialMouseDown").clientY-t.clientY)+i.getData("initialPopoverDim").height>=window.innerHeight&&(o.style.top=window.innerHeight-i.getData("initialPopoverDim").height+"px"))},mouseupFun:function(t){var e=$L(".lytePopoverDragRunning"),o=$L(".lytePopoverDragRunning").closest("lyte-wormhole")[0].component.parent.component;e.removeClass("lytePopoverDragRunning"),window.removeEventListener("mousemove",o.mousemoveFun),window.removeEventListener("mouseup",o.mouseupFun)},addMutationObserver:function(){if(this.getData("ltPropAutoAlign")){var t,e,o=this.$node,i=this.actualModalDiv;this.setData("prevOffsetVal",{height:this.actualModalDiv.offsetHeight,width:this.actualModalDiv.offsetWidth}),o.mutobserver=new MutationObserver(function(e){if(this.getData("ltPropAutoAlign")){for(var o=this.actualModalDiv,i=this.getData("prevOffsetVal"),l=o.offsetWidth,a=o.offsetHeight,s=0;s<e.length;s++)if(!("attributes"!==e[s].type&&"childList"!=e[s].type&&"subtree"!=e[s].type||i.width==l&&i.height==a)){t=!0,this.setData("prevOffsetVal",{height:a,width:l});break}t&&(t=!1,""!==this.getData("ltPropOriginElem")?this.setPopoverPosition():Lyte.Component.registeredHelpers.lyteUiIsEmptyObject(this.$node.ltProp("offset"))||this.setArrowPosition(this.getData("ltPropPlacement")))}}.bind(this)),e={attributes:!0,childList:!0,subtree:!0},o.mutobserver.observe(i,e)}},closePrevPopup:function(){if(_lyteUiUtils.popupStack&&_lyteUiUtils.popupStack.globalStack&&_lyteUiUtils.popupStack.globalStack.length>0){var t=_lyteUiUtils.popupStack.globalStack.length-1;_lyteUiUtils.popupStack.globalStack[t].parentElement.getData("ltPropAllowMultiple")||_lyteUiUtils.popupStack.globalStack[t].parentElement.setData("ltPropShow",!1)}},setPopoverWidth:function(){if(""!==this.getData("ltPropWidth")){var t=$L(this.childComp).find(".lytePopoverElement");t[0]&&(t[0].style.width=this.getData("ltPropWidth"))}},setPopoverHeight:function(){if(""!==this.getData("ltPropHeight")){var t=$L(this.childComp).find(".lytePopoverElement");t[0]&&(t[0].style.height=this.getData("ltPropHeight"))}},setPopoverMaxWidth:function(){""!==this.getData("ltPropMaxWidth")&&($L(this.childComp).find(".lytePopoverElement")[0].style.maxWidth=this.getData("ltPropMaxWidth"))},setPopoverMaxHeight:function(){""!==this.getData("ltPropMaxHeight")&&($L(this.childComp).find(".lytePopoverElement")[0].style.maxHeight=this.getData("ltPropMaxHeight"))},setPadding:function(){var t;""!==this.getData("ltPropHeaderPadding")&&((t=$L(this.childComp).find("lyte-popover-header")[0])&&(t.style.padding=this.getData("ltPropHeaderPadding")));""!==this.getData("ltPropContentPadding")&&((t=$L(this.childComp).find("lyte-popover-content")[0])&&(t.style.padding=this.getData("ltPropContentPadding")));""!==this.getData("ltPropFooterPadding")&&((t=$L(this.childComp).find("lyte-popover-footer")[0])&&(t.style.padding=this.getData("ltPropFooterPadding")))},setPopoverWithOffset:function(){var t=$L(this.childComp).find(".lytePopoverElement")[0],e=this.getData("ltPropOffset");t&&(e.left?t.style.left=e.left:e.right&&(t.style.right=e.right),e.top?t.style.top=e.top:e.bottom&&(t.style.bottom=e.bottom))},setPopoverPosition:function(){var t,e=$L(this.childComp).find(".lytePopoverElement");if(e[0])var o=e[0].getBoundingClientRect();if((t=""!==this.getData("ltPropHostElement")?document.querySelector(this.$node.ltProp("hostElement"))[0].shadowRoot.querySelector(this.getData("ltPropOriginElem")):$L(this.getData("ltPropOriginElem")))[0])var i=t[0].getBoundingClientRect();Lyte.Component.registeredHelpers.lyteUiIsEmptyObject(this.$node.ltProp("offset"))||(i=this.getOffsetOfOrigin());var l=10;"box"===this.getData("ltPropType")&&(l=0),this.getData("ltPropPlacement")||this.setData("ltPropPlacement","bottom");var a=this.getData("ltPropPlacement").split(" "),s=a[0],r=o.height,n=o.width;"zoom"===this.getData("ltPropAnimation")&&(r=e[0].offsetHeight,n=e[0].offsetWidth);var d=this.getActualPosition(n,r,i,a);switch(d){case"top":e[0].style.top="unset",e[0].style.right="unset",e[0].style.bottom=window.innerHeight-i.top+l+this.getPopoverMargin(s)+"px",e[0].style.left=this.setMidLeft();break;case"right":e[0].style.bottom="unset",e[0].style.right="unset",e[0].style.left=i.left+i.width+l+this.getPopoverMargin(s)+"px",e[0].style.top=i.top+"px";break;case"bottom":e[0].style.bottom="unset",e[0].style.right="unset",e[0].style.top=i.top+i.height+l+this.getPopoverMargin(s)+"px",e[0].style.left=this.setMidLeft();break;case"left":e[0].style.left="unset",e[0].style.bottom="unset",e[0].style.right=window.innerWidth-i.left+l+this.getPopoverMargin(s)+"px",e[0].style.top=i.top+"px";break;case"topLeft":e[0].style.right="unset",e[0].style.top="unset",e[0].style.bottom=window.innerHeight-i.top+l+this.getPopoverMargin(s)+"px",e[0].style.left=i.left+"px";break;case"topRight":e[0].style.right="unset",e[0].style.top="unset",e[0].style.bottom=window.innerHeight-i.top+l+this.getPopoverMargin(s)+"px",e[0].style.left=i.left-(n-i.width)+"px";break;case"bottomLeft":e[0].style.right="unset",e[0].style.bottom="unset",e[0].style.top=i.top+i.height+l+this.getPopoverMargin(s)+"px",e[0].style.left=i.left+"px";break;case"bottomRight":e[0].style.right="unset",e[0].style.bottom="unset",e[0].style.top=i.top+i.height+l+this.getPopoverMargin(s)+"px",e[0].style.left=i.left-(n-i.width)+"px";break;case"leftCenter":e[0].style.bottom="unset",e[0].style.left="unset",e[0].style.right=window.innerWidth-i.left+l+this.getPopoverMargin(s)+"px",e[0].style.top=this.setMidTop();break;case"leftBottom":e[0].style.bottom="unset",e[0].style.left="unset",e[0].style.right=window.innerWidth-i.left+l+this.getPopoverMargin(s)+"px",e[0].style.top=i.top-(e[0].offsetHeight-i.height)+"px";break;case"rightCenter":e[0].style.bottom="unset",e[0].style.right="unset",e[0].style.left=i.left+i.width+l+this.getPopoverMargin(s)+"px",e[0].style.top=this.setMidTop();break;case"rightBottom":e[0].style.bottom="unset",e[0].style.right="unset",e[0].style.left=i.left+i.width+l+this.getPopoverMargin(s)+"px",e[0].style.top=i.top-(e[0].offsetHeight-i.height)+"px"}var p="lytePopover"+s[0].toUpperCase()+s.substr(1);e[0].classList.add(p),this.setArrowPosition(d)},setArrowPosition:function(t){this.getData("ltPropAnimation");var e,o,i=$L(this.childComp).find(".lytePopoverArrowIcon"),l=$L(this.childComp).find(".lytePopoverElement");if(l[0]){var a=l[0].getBoundingClientRect();e=a.width,o=a.height}"zoom"===this.getData("ltPropAnimation")&&(o=l[0].offsetHeight,e=l[0].offsetWidth);var s=$L(this.getData("ltPropOriginElem"));if(s[0])var r=s[0].getBoundingClientRect();if(Lyte.Component.registeredHelpers.lyteUiIsEmptyObject(this.$node.ltProp("offset"))||(r=this.getOffsetOfOrigin()),i[0])switch(t){case"top":i[0].style.top="",i[0].style.bottom="-5px",i[0].style.left=this.setArrowMidLeft();break;case"right":i[0].style.right="",i[0].style.left="-5px",i[0].style.top=r.height/2-this.arrowHalfSize()+"px";break;case"bottom":i[0].style.bottom="",i[0].style.top="-5px",i[0].style.left=this.setArrowMidLeft();break;case"left":i[0].style.left="",i[0].style.right="-5px",i[0].style.top=r.height/2-this.arrowHalfSize()+"px";break;case"topLeft":i[0].style.bottom="-5px",i[0].style.top="",i[0].style.left=r.width/2-this.arrowHalfSize()+"px";break;case"topRight":i[0].style.bottom="-5px",i[0].style.top="",i[0].style.left=e-r.width/2-this.arrowHalfSize()+"px";break;case"bottomLeft":i[0].style.top="-5px",i[0].style.bottom="",i[0].style.left=r.width/2-this.arrowHalfSize()+"px";break;case"bottomRight":i[0].style.top="-5px",i[0].style.bottom="",i[0].style.left=e-r.width/2-this.arrowHalfSize()+"px";break;case"leftCenter":i[0].style.right="-5px",i[0].style.left="",i[0].style.top=this.setArrowMidTop();break;case"leftBottom":i[0].style.right="-5px",i[0].style.left="",i[0].style.top=o-r.height/2-this.arrowHalfSize()+"px";break;case"rightCenter":i[0].style.left="-5px",i[0].style.right="",i[0].style.top=this.setArrowMidTop();break;case"rightBottom":i[0].style.left="-5px",i[0].style.right="",i[0].style.top=o-r.height/2-this.arrowHalfSize()+"px"}},getActualPosition:function(t,e,o,i){var l=o.width,a=o.height;let s=window.innerWidth,r=window.innerHeight;return function(t,e,o,i){if(void 0!==i&&i.length>=0)for(let l of i)if(t[l][0]>=e&&t[l][1]>=o)return l;for(let i in t)if(t[i][0]>=e&&t[i][1]>=o)return i;return void 0!==i&&i.length>=0?i[0]:"topRight"}({topLeft:[s-o.left,o.top],top:function(){let i=0,a=o.top;i=l/2+o.left>=t/2&&s-o.left-l/2>=e/2?l/2+o.left+(s-o.left-l/2):Math.min(l/2+o.left,s-o.left-l/2);return[i,a]}(),topRight:[o.left+l,o.top],left:[o.left,r-o.top],leftCenter:function(){let t=o.left,i=0;i=a/2+o.top>=e/2&&r-o.top-a/2>=e/2?a/2+o.top+(r-o.top-a/2):Math.min(a/2+o.top,r-o.top-a/2);return[t,i]}(),leftBottom:[o.left,o.top+a],bottomLeft:[s-o.left,r-(a+o.top)],bottom:function(){let e=0,i=r-(a+o.top);e=l/2+o.left>=t/2&&s-o.left-l/2>=t/2?l/2+o.left+(s-o.left-l/2):Math.min(l/2+o.left,s-o.left-l/2);return[e,i]}(),bottomRight:[o.left+l,r-(a+o.top)],right:[s-(o.left+l),r-o.top],rightCenter:function(){let t=s-(o.left+l),i=0;i=o.top+a/2>=e/2&&r-o.top-a/2>=e/2?o.top+a/2+(r-o.top-a/2):Math.min(o.top+a/2,r-o.top-a/2);return[t,i]}(),rightBottom:[s-(o.left+l),o.top+a]},t,e,i)},getOffsetOfOrigin:function(){var t={};if(!Lyte.Component.registeredHelpers.lyteUiIsEmptyObject(this.$node.ltProp("offset"))){var e=this.getData("ltPropOffset");return e.left?t.left=parseFloat(e.left):e.right?t.right=parseFloat(e.right):t.left=0,e.right?t.right=parseFloat(e.right):e.left?t.left=parseFloat(e.left):t.right=0,e.bottom?t.bottom=parseFloat(e.bottom):e.top?t.top=parseFloat(e.top):t.bottom=0,e.top?t.top=parseFloat(e.top):e.bottom?t.bottom=parseFloat(e.bottom):t.bottom=0,e.width?t.width=parseFloat(e.width):t.width=1,e.height?t.height=parseFloat(e.height):t.height=1,t}},getTargetMidPoint:function(){var t=$L(this.getData("ltPropOriginElem")),e={midHeight:0,midWidth:0};if(t[0]){var o=t[0].getBoundingClientRect();e.midWidth=o.width/2+o.left,e.midHeight=o.height/2+o.top,e.halfWidth=o.width/2}else if(!Lyte.Component.registeredHelpers.lyteUiIsEmptyObject(this.$node.ltProp("offset"))){var i=this.getOffsetOfOrigin();e.midWidth=i.width/2+i.left,e.midHeight=i.height/2+i.top,e.halfWidth=i.width/2}return e},getPopoverMidPoint:function(){this.getData("ltPropAnimation");var t=$L(this.childComp).find(".lytePopoverElement"),e={midHeight:0,midWidth:0};if(t[0]){var o=t[0].getBoundingClientRect();e.midWidth=o.width/2,e.midHeight=o.height/2,"zoom"===this.getData("ltPropAnimation")&&(e.midHeight=t[0].offsetHeight/2,e.midWidth=t[0].offsetWidth/2)}return e},getArrowMindPoint:function(){var t=$L(this.childComp).find(".lytePopoverArrowIcon"),e={midHeight:0,midWidth:0};if(t[0]){var o=t[0].getBoundingClientRect();e.midWidth=o.width/2+o.left,e.midHeight=o.height/2+o.top}return e},getPopoverMargin:function(t){var e=0;switch(t){case"topLeft":case"topRight":case"top":this.getData("ltPropMargin")&&this.getData("ltPropMargin").bottom&&(e=this.getData("ltPropMargin").bottom);break;case"right":case"rightCenter":case"rightBottom":this.getData("ltPropMargin")&&this.getData("ltPropMargin").left&&(e=this.getData("ltPropMargin").left);break;case"bottomLeft":case"bottomRight":case"bottom":this.getData("ltPropMargin")&&this.getData("ltPropMargin").top&&(e=this.getData("ltPropMargin").top);break;case"leftCenter":case"leftBottom":case"left":this.getData("ltPropMargin")&&this.getData("ltPropMargin").right&&(e=this.getData("ltPropMargin").right)}return e},arrowHalfSize:function(){var t=$L(this.childComp).find(".lytePopoverArrowIcon");return"zoom"===this.getData("ltPropAnimation")?t[0].offsetWidth/2:t[0].getBoundingClientRect().width/2},setMidLeft:function(){return this.getTargetMidPoint().midWidth-this.getPopoverMidPoint().midWidth+"px"},setMidTop:function(){return this.getTargetMidPoint().midHeight-this.getPopoverMidPoint().midHeight+"px"},setArrowMidLeft:function(){return this.getPopoverMidPoint().midWidth-this.arrowHalfSize()+"px"},setArrowMidTop:function(){return this.getPopoverMidPoint().midHeight-this.arrowHalfSize()+"px"},setDimension:function(){var t=this.actualModalDiv.getBoundingClientRect();Lyte.objectUtils(this.getData("initialPopoverDim"),"add","top",t.top),Lyte.objectUtils(this.getData("initialPopoverDim"),"add","left",t.left),Lyte.objectUtils(this.getData("initialPopoverDim"),"add","right",t.right),Lyte.objectUtils(this.getData("initialPopoverDim"),"add","bottom",t.bottom),Lyte.objectUtils(this.getData("initialPopoverDim"),"add","width",t.width),Lyte.objectUtils(this.getData("initialPopoverDim"),"add","height",t.height)},unsetDimensions:function(){var t=$L(this.childComp).find(".lytePopoverWrapper"),e=t.find(".lytePopoverElement")[0];t.find("#lytePopoverArrow")[0]&&(t.find("#lytePopoverArrow")[0].style.left="",t.find("#lytePopoverArrow")[0].style.right="",t.find("#lytePopoverArrow")[0].style.bottom="",t.find("#lytePopoverArrow")[0].style.top=""),e&&(e.style.left="",e.style.right="",e.style.bottom="",e.style.top=""),this.setData("ltPropOffset",{})},isOriginElemInViewport:function(){if(this.childComp&&this.getData("ltPropOriginElem")){var t=$L(this.getData("ltPropOriginElem"))[0].getBoundingClientRect();(t.top<0||t.top+t.height>window.innerHeight)&&(this.getData("ltPropReOpen")&&(_lyteUiUtils.targetAvailable||(_lyteUiUtils.targetAvailable={},t.top<0?_lyteUiUtils.targetAvailable.closedOn="top":t.top+t.height>window.innerHeight&&(_lyteUiUtils.targetAvailable.closedOn="bottom"),_lyteUiUtils.targetAvailable.popover=this,this.getData("ltPropBoundary").top?_lyteUiUtils.targetAvailable.top=parseFloat(this.getData("ltPropBoundary").top):_lyteUiUtils.targetAvailable.top=0,this.getData("ltPropBoundary").bottom?_lyteUiUtils.targetAvailable.bottom=parseFloat(this.getData("ltPropBoundary").bottom):_lyteUiUtils.targetAvailable.bottom=window.innerHeight,_lyteUiUtils.targetAvailable.originElem=this.getData("ltPropOriginElem"))),this.setData("ltPropShow",!1)),(t.left<0||t.left+t.width>window.innerWidth)&&this.setData("ltPropShow",!1)}},isPopoverInBoundary:function(){var t=this.actualModalDiv.getBoundingClientRect();if(this.getData("ltPropBoundary")!=={}){var e=this.getData("ltPropBoundary");if(e.top&&t.top<parseFloat(e.top))return _lyteUiUtils.targetAvailable||(_lyteUiUtils.targetAvailable={}),_lyteUiUtils.targetAvailable.closedOn="top",!1;if(e.bottom&&t.top+t.height>parseFloat(e.bottom))return _lyteUiUtils.targetAvailable||(_lyteUiUtils.targetAvailable={}),_lyteUiUtils.targetAvailable.closedOn="bottom",!1;if(e.left&&t.left<parseFloat(e.left))return!1;if(e.right&&t.left+t.width>parseFloat(e.right))return!1}return!0},_closePopover:function(t){var e=_lyteUiUtils.popupStack.globalStack,o=$L(this.childComp).find(".lytePopoverWrapper"),i=o.find(".lytePopoverElement")[0],l=this.getData("ltPropAnimation");switch(_lyteUiUtils.targetAvailable&&delete _lyteUiUtils.targetAvailable,$L(this.childComp).find(".lytePopupFreezeLayer")[0]&&($L(this.childComp).find(".lytePopupFreezeLayer")[0].style.opacity=0),l){case"fade":o.removeClass("lytePopoverFadeAnimation");break;case"zoom":var a,s=i.getBoundingClientRect(),r=this.getTargetMidPoint(),n=s.x+s.width/2,d=s.y+s.height/2;a="translate("+-1*(n-r.midWidth)+"px, "+-1*(d-r.midHeight)+"px) scale(0)",i.style.transform=a,o.removeClass("lytePopoverZoomAnimation");break;case"pop":a="scale("+this.getData("ltPropScaleFrom")+")",i.style.transform=a,o.removeClass("lytePopoverPopAnimation")}var p=this;if(this.getData("ltPropFreeze")&&e&&e.length>1&&($L(this.childComp).find(".lytePopupFreezeLayer").addClass("lyteModalFreezeLayerHidden"),e&&e.length>1))for(var h=e.length-2;h>=0;h--){var c=$L(e[h].parentElement.component.childComp).find(".lytePopupFreezeLayer");c[0]&&(c.removeClass("lyteModalFreezeLayerHidden"),h=-1)}this.closePopoverTransition=setTimeout((function(){p.$node.mutobserver&&p.$node.mutobserver.disconnect(),p.unsetDimensions(),o.removeClass("lytePopoverShow").addClass("lytePopoverHide"),o.removeClass("lytePopoverZoom lytePopoverPop"),p.setData("ltPropShow",!1),i.style.transform="",i.classList.remove("lytePopoverLeft","lytePopoverLeftCenter","lytePopoverLeftBottom","lytePopoverTopLeft","lytePopoverTop","lytePopoverTopRight","lytePopoverRight","lytePopoverRightCenter","lytePopoverRightBottom","lytePopoverBottom","lytePopoverBottomLeft","lytePopoverBottomRight"),$L(p.$node).removeClass("lytePopoverOpened"),p.setData("ltPropShowWormhole",!1),p.getMethods("onClose")&&p.executeMethod("onClose",t,p,p.actualModalDiv)}),300)},_showPopover:function(t){var e=$L(this.getData("ltPropOriginElem"))[0],o=this.getData("ltPropAnimation"),i=parseInt(this.getData("ltPropDuration"));if(!this.getData("ltPropShow")&&this.actualModalDiv){var l=!0;return this.getMethods("onBeforeClose")&&(l=this.executeMethod("onBeforeClose",t,this,this.actualModalDiv)),void(!1!==l&&this._closePopover())}if(this.closePrevPopup(),this.getData("ltPropShow")){if(!e&&Lyte.Component.registeredHelpers.lyteUiIsEmptyObject(this.$node.ltProp("offset")))return console.error("Please provide values for either ltPropOriginElem or ltPropOffset to open the popover at proper position."),void this.setData("ltPropShow",!1);this.setData("ltPropBindToBody",!0),this.setData("ltPropShowWormhole",!0),this.childComp&&$L(this.childComp).removeClass("lytePopoverVisibilityHidden");var a=!0;if(this.getMethods("onBeforeShow")&&(a=this.executeMethod("onBeforeShow",this,this.actualModalDiv)),!1!==a){var s=$L(this.childComp).find(".lytePopoverWrapper");if(s.addClass("lytePopoverShow").removeClass("lytePopoverHide"),s[0].style.zIndex=_lyteUiUtils.getZIndex(),this.setPopoverWidth(),this.setPopoverHeight(),this.setPopoverMaxWidth(),this.setPopoverMaxHeight(),this.setPadding(),this.getData("ltPropFreeze")){var r=$L(this.childComp).find(".lytePopupFreezeLayer");r[0].style.opacity=this.getData("ltPropDimmer").opacity,r[0].style.background=this.getData("ltPropDimmer").color;var n=_lyteUiUtils.popupStack.globalStack;if(r.removeClass("lyteModalFreezeLayerHidden"),n&&n.length>1)for(var d=n.length-2;d>=0;d--){var p=$L(n[d].parentElement.component.childComp).find(".lytePopupFreezeLayer");p[0]&&(p.addClass("lyteModalFreezeLayerHidden"),d=-1)}}this.setPopoverPosition(),this.addMutationObserver();var h,c=s.find(".lytePopoverElement")[0];if("pop"===o||"zoom"===o){if("pop"===o)s.addClass("lytePopoverPop"),h="scale("+this.getData("ltPropScaleFrom")+")";else{var f=c.getBoundingClientRect(),m=f.x+f.width/2,u=f.y+f.height/2,y=this.getTargetMidPoint(),g=-1*(m-y.midWidth),v=-1*(u-y.midHeight);s.addClass("lytePopoverZoom"),h="translate("+g+"px, "+v+"px) scale(0)"}c.style.transition="none",c.style.transform=h}var P=this;setTimeout((function(){switch(P.getData("ltPropAnimation")){case"fade":s.addClass("lytePopoverFadeAnimation");break;case"zoom":c.style.transition="",c.style.transform="translate(0, 0) scale(1)",s.addClass("lytePopoverZoomAnimation");break;case"pop":c.style.transition="",c.style.transform="scale(1)",s.addClass("lytePopoverPopAnimation")}$L(P.$node).addClass("lytePopoverOpened")}),10),setTimeout((function(){P.getMethods("onShow")&&P.executeMethod("onShow",P,P.actualModalDiv),P.getData("ltPropPreventFocus")||$L(P.childComp).trapFocus(),P.setDimension()}),i)}else this.setData("ltPropShow",!1),this.setData("ltPropBindToBody",!1),this.setData("ltPropShowWormhole",!1)}}.observes("ltPropShow").on("didConnect"),_changeOriginElem:function(){this.actualModalDiv&&this.getData("ltPropShow")&&this.setPopoverPosition()}.observes("ltPropOriginElem"),_changePlacement:function(){if(this.actualModalDiv&&this.getData("ltPropShow")){this.unsetDimensions();var t=$L(this.childComp).find(".lytePopoverWrapper").find(".lytePopoverElement")[0];t.style.transform="",t.classList.remove("lytePopoverLeft","lytePopoverLeftCenter","lytePopoverLeftBottom","lytePopoverTopLeft","lytePopoverTop","lytePopoverTopRight","lytePopoverRight","lytePopoverRightCenter","lytePopoverRightBottom","lytePopoverBottom","lytePopoverBottomLeft","lytePopoverBottomRight"),this.setPopoverPosition()}}.observes("ltPropPlacement"),_dimmerChanges:function(){if(this.childComp&&this.getData("ltPropShow")&&$L(this.childComp).find(".lytePopupFreezeLayer")[0]){var t=$L(this.childComp).find(".lytePopupFreezeLayer");this.getData("ltPropDimmer").color?t[0].style.background=this.getData("ltPropDimmer").color:t[0].style.background=t[0].style.background,this.getData("ltPropDimmer").opacity?t[0].style.opacity=this.getData("ltPropDimmer").opacity:t[0].style.opacity=t[0].style.opacity}}.observes("ltPropDimmer"),_observeClickEvent:function(){_lyteBetaPopover._stopPropagation=this.getData("ltPropStopClick"),_lyteBetaPopover._stopPropagation?_lyteBetaPopover._sourceComp=this:_lyteBetaPopover._sourceComp&&delete _lyteBetaPopover._sourceComp}.observes("ltPropStopClick"),_popoverChanges:function(){var t=$L(this.childComp).find(".lytePopoverElement");if(t[0])t[0].getBoundingClientRect();var e=$L(this.getData("ltPropOriginElem"));if(e[0])e[0].getBoundingClientRect();this.popoverObserver.observe(t[0],{attributes:!0,childList:!0,subtree:!0})},_draggableFunction:function(){this.childComp&&this.getData("ltPropShow")&&(this.getData("ltPropDraggable")?($L(this.childComp).find("lyte-popover-header")[0].style.cursor="move",$L(this.childComp).find("lyte-popover-header")[0].addEventListener("mousedown",this.mousedownFun)):($L(this.childComp).find("lyte-popover-header")[0].style.cursor="",$L(this.childComp).find("lyte-popover-header")[0].removeEventListener("mousedown",this.mousedownFun)))},removeDOMReferences:function(){this.childComp&&delete this.childComp,this.actualModalDiv&&delete this.actualModalDiv},didDestroy:function(){this.setData("ltPropShowWormhole",!1),clearTimeout(this.closePopoverTransition),this.popoverObserver&&(this.popoverObserver.disconnect(),delete this.popoverObserver),_lyteUiUtils.targetAvailable&&delete _lyteUiUtils.targetAvailable,this.childComp&&(this.tIdBeforeClose&&(clearTimeout(this.tIdBeforeClose),this.tIdBeforeClose=!1),this.tIdClose&&(clearTimeout(this.tIdClose),this.tIdClose=!1),this.getData("ltPropFreeze")&&this.addedFreezeDetails&&(LytePopup.hideOrShowFreeze("close",this),delete this.addedFreezeDetails),this.childComp.remove(),!this.getData("ltPropFreeze")&&document.body.classList.contains("lyteStopBodyScrolling")&&document.body.classList.remove("lyteStopBodyScrolling"),this.removeDOMReferences())}}),$L&&($L.prototype.trapFocus=function(t){var e=!1;t&&t.preventDefault&&(e=t.preventDefault),_lyteUiUtils.trappingFocus&&$L("#"+_lyteUiUtils.focusParent)[0]&&($L(this[0]).data("trapFocusActiveIndex",0),document.removeEventListener("keydown",_lyteUiUtils.trapFocusFun),$L("#"+_lyteUiUtils.focusParent)[0].removeEventListener("keydown",_lyteUiUtils.trapFocusFun),_lyteUiUtils.trappingFocus=!1,_lyteUiUtils.focusParent="");var o=this[0];if(o){if("destroy"===t||"Destroy"===t)return $L(this[0]).data("trapFocusActiveIndex",0),document.removeEventListener("keydown",_lyteUiUtils.trapFocusFun),$L(o)[0].removeEventListener("keydown",_lyteUiUtils.trapFocusFun),_lyteUiUtils.trappingFocus=!1,_lyteUiUtils.focusParent="",void document.addEventListener("keydown",LytePopup.onEscape,!0);document.removeEventListener("keydown",LytePopup.onEscape,!0);var i='a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex]:not([tabindex="-1"]), *[contenteditable]',l=[];(l=$L(o).find(i).filter((function(t,e){return $L(e).is(":visible")&&-1!=e.tabIndex&&!e.disabled}))).length<1&&($L(this).attr("tabindex")||$L(this).attr("tabindex",0),l.push($L(this)[0])),l.indexOf(document.activeElement)<0&&($L(l[0]).hasClass("lyteModalClose")?l[1]&&l[1].focus():t&&t.focusTarget&&$L(t.focusTarget)[0]?l[l.indexOf($L(t.focusTarget)[0])].focus():l[0].focus()),e?($L(o).data("trapFocusActiveIndex",0),_lyteUiUtils.trapFocusFun=function(e){var l,a=$L(o).data("trapFocusActiveIndex");if(l=$L(o).find(i).filter((function(t,e){return $L(e).is(":visible")&&-1!=e.tabIndex&&!e.disabled})).toArray(),t&&t.attachItems)for(var s=t.attachItems.join(","),r=$L(s).toArray(),n=0;n<r.length;n++)l.push(r[n]);l.indexOf(document.activeElement)!==a&&(a=l.indexOf(document.activeElement)),e.shiftKey&&9==e.keyCode?((a-=1)<0&&(a=l.length-1),l[a].focus(),e.preventDefault(),$L(o).data("trapFocusActiveIndex",a)):9==e.keyCode&&((a+=1)>l.length-1&&(a=0),l[a].focus(),e.preventDefault(),$L(o).data("trapFocusActiveIndex",a))},document.addEventListener("keydown",_lyteUiUtils.trapFocusFun)):(_lyteUiUtils.trapFocusFun=function(t){var e;if(_lyteUiUtils.trappingFocus=!0,_lyteUiUtils.focusParent=$L(o).attr("id"),(e=$L(o).find(i).filter((function(t,e){return $L(e).is(":visible")&&-1!=e.tabIndex&&!e.disabled}))).length<1&&e.push($L(o)[0]),e.indexOf(document.activeElement)<0&&e[0].focus(),9===t.keyCode||16===t.keyCode){if(0==e.length)return;var l,a=document.activeElement;if(!o.contains(a)&&((l=$L(a).closest("lyte-drop-box")[0])&&(l=l.origindd),!o.contains(l)))return LytePopup.initializeFocus(o),void(t&&t.preventDefault());for(var s,r=e.length,n=0;n<e.length;n++)if(e[n]==a){s=n;break}t.shiftKey&&9==t.keyCode?0==s&&(e.get(r-1).focus(),t.preventDefault()):9==t.keyCode&&s==r-1&&(e.get(0).focus(),t.preventDefault())}},o.addEventListener("keydown",_lyteUiUtils.trapFocusFun))}}),Lyte.Component.register("lyte-modal",{_template:'<template tag-name="lyte-modal" role="dialog" aria-label="lyte modal"> <template is="if" value="{{expHandlers(ltPropBindToBody,\'&amp;&amp;\',expHandlers(ltPropReRenderModal,\'!\'))}}"><template case="true"> <lyte-wormhole case="true" style="{{if(ltPropShowCopy,\'visibility:visible\',\'visibility:hidden\')}}" class="{{if(ltPropRenderHidden,\'lyteModalDisplayNone\',\'\')}}" lt-prop-focus-on-close="{{ltPropFocusOnClose}}" on-before-append="{{method(&quot;beforeWormholeAppend&quot;)}}" lt-prop-show="{{ltPropShowWormhole}}"> <template is="registerYield" yield-name="lyte-content"> <div class="modalWrapper {{ltPropWrapperClass}} lytePopupZI"> <div class="lyteModal"> <template is="if" value="{{ltPropShowCloseButton}}"> <template case="true"><span class="lyteModalClose" onclick="{{action(\'close\')}}" tabindex="0" role="button"></span></template> </template> <lyte-yield yield-name="modal" class="lyteModalYield"></lyte-yield> </div> <template is="if" value="{{ltPropFreeze}}"> <template case="true"><lyte-modal-freeze></lyte-modal-freeze></template> </template> </div> </template> </lyte-wormhole> </template></template> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"if",args:["ltPropShowCopy","'visibility:visible'","'visibility:hidden'"]}}}},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]}]}},default:{}},{type:"insertYield",position:[1,1,3]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"componentDynamic",position:[0]}]}},default:{}}]},{type:"componentDynamic",position:[1]}]}},default:{}}],_observedAttributes:["ltPropShow","ltPropFreeze","ltPropShowCloseButton","ltPropCloseOnEscape","ltPropTransition","ltPropOffset","ltPropDimmer","ltPropDraggable","ltPropAllowMultiple","ltPropScrollable","ltPropMaxHeight","ltPropMaxWidth","ltPropWidth","ltPropHeight","ltPropWrapperClass","ltPropBindToBody","ltPropShowCopy","ltPropReRenderModal","ltPropOverlayClose","ltPropAria","ltPropAriaAttributes","ltPropPreventFocus","ltPropSetContentHeight","ltPropCloseDuration","ltPropOverlapModal","ltPropIgnoreInlineDirection","ltPropAllowContainment","ltPropFocusOnClose","ltPropPadding","ltPropIgnoreZindex","ltPropDependentModalId","ltPropParentModalId","ltPropShowWormhole","ltPropRenderHidden","first","resizeCalled","initializedPosition","prevHeight","returnedFalse","prevModalHeight","prevModalWidth","calculateHW","checkAria","beforeDragPosition","resetTriggered"],data:function(){return{ltPropShow:Lyte.attr("boolean",{default:!1}),ltPropFreeze:Lyte.attr("boolean",{default:!0}),ltPropShowCloseButton:Lyte.attr("boolean",{default:!0}),ltPropCloseOnEscape:Lyte.attr("boolean",{default:!0}),ltPropTransition:Lyte.attr("object",{default:{animation:"slideFromTop",duration:"0.5"}}),ltPropOffset:Lyte.attr("object",{default:{top:"center",left:"center"}}),ltPropDimmer:Lyte.attr("object"),ltPropDraggable:Lyte.attr("boolean",{default:!1}),ltPropAllowMultiple:Lyte.attr("boolean",{default:!1}),ltPropScrollable:Lyte.attr("boolean",{default:!1}),ltPropMaxHeight:Lyte.attr("string",{default:""}),ltPropMaxWidth:Lyte.attr("string",{default:""}),ltPropWidth:Lyte.attr("string",{default:""}),ltPropHeight:Lyte.attr("string",{default:"auto"}),ltPropWrapperClass:Lyte.attr("string",{default:""}),ltPropBindToBody:Lyte.attr("boolean",{default:!1}),ltPropShowCopy:Lyte.attr("boolean",{default:!1}),ltPropReRenderModal:Lyte.attr("boolean",{default:!1}),ltPropOverlayClose:Lyte.attr("boolean",{default:!1}),ltPropAria:Lyte.attr("boolean",{default:!1}),ltPropAriaAttributes:Lyte.attr("object",{default:{}}),ltPropPreventFocus:Lyte.attr("boolean",{default:!1}),ltPropSetContentHeight:Lyte.attr("boolean",{default:!1}),ltPropCloseDuration:Lyte.attr("number",{default:void 0}),ltPropOverlapModal:Lyte.attr("boolean",{default:!0}),ltPropIgnoreInlineDirection:Lyte.attr("boolean",{default:!1}),ltPropAllowContainment:Lyte.attr("boolean",{default:!1}),ltPropFocusOnClose:Lyte.attr("boolean",{default:!1}),ltPropPadding:Lyte.attr("string",{default:""}),ltPropIgnoreZindex:Lyte.attr("boolean",{default:!1}),ltPropDependentModalId:Lyte.attr("string",{default:""}),ltPropParentModalId:Lyte.attr("string",{default:""}),ltPropShowWormhole:Lyte.attr("boolean",{default:!1}),ltPropRenderHidden:Lyte.attr("boolean",{default:!1}),first:Lyte.attr("boolean",{default:!0}),resizeCalled:Lyte.attr("boolean",{default:!1}),initializedPosition:Lyte.attr("boolean",{default:!1}),prevHeight:Lyte.attr("number"),returnedFalse:Lyte.attr("boolean",{default:!1}),prevModalHeight:Lyte.attr("number"),prevModalWidth:Lyte.attr("number"),calculateHW:Lyte.attr("boolean",{default:!1}),checkAria:Lyte.attr("number",{default:0}),beforeDragPosition:Lyte.attr("object",{default:{xPos:0,yPos:0}}),resetTriggered:Lyte.attr("boolean",{default:!1})}},addDragHandler:function(){var t=this.actualModalDiv.querySelector("lyte-modal-header");this.$node.ltProp("draggable")&&$L(t).addClass("lyteModalDragRunning"),t?(t.parentEle=this,this.$node.ltProp("draggable")?(t.addEventListener("mousedown",this.handleMove,!0),t.addEventListener("touchstart",this.handleMove,!0),t.classList.add("lyteModalHeaderDraggable")):(t.removeEventListener("mousedown",this.handleMove,!0),t.removeEventListener("touchstart",this.handleMove,!0),t.classList.remove("lyteModalHeaderDraggable"))):(console.warn("This modal is not draggable because it has no header"),this.$node.ltProp("draggable",!1))},handleMove:function(t){if(2!==t.button){var e,o=$L(t.target).closest("lyte-wormhole")[0].component.parent.component,i=t.currentTarget.parentEle.actualModalDiv;LytePopup.node=i,"mousedown"==t.type&&(e={x:t.clientX,y:t.clientY}),"touchstart"==t.type&&(e={x:t.touches[0].clientX,y:t.touches[0].clientY}),"fadeIn"==t.currentTarget.parentEle.getData("ltPropTransition").animation?(LytePopup.xPos=e.x-this.getBoundingClientRect().left,LytePopup.yPos=e.y-this.getBoundingClientRect().top):(LytePopup.xPos=e.x,LytePopup.yPos=e.y);i.getBoundingClientRect();i.style.transitionDuration="0s",o.getMethods("onDragStart")&&o.executeMethod("onDragStart",o,o.childComp,t),"mousedown"==t.type&&(document.addEventListener("mousemove",t.currentTarget.parentEle.handleDrag,!0),document.addEventListener("mouseup",t.currentTarget.parentEle.stopDrag,!0)),"touchstart"==t.type&&(document.body.addEventListener("touchmove",t.currentTarget.parentEle.handleDrag,!0),document.body.addEventListener("touchend",t.currentTarget.parentEle.stopDrag,!0))}},handleDrag:function(t){var e=LytePopup.node,o=$L(e).closest("lyte-wormhole")[0]._callee,i=e.getBoundingClientRect(),l=getComputedStyle(e);if(LytePopup.node){var a,s=0,r=0;if("mousemove"==t.type&&(a={x:t.clientX,y:t.clientY}),"touchmove"==t.type&&(a={x:t.touches[0].clientX,y:t.touches[0].clientY}),"fadeIn"==LytePopup.node.closest("lyte-wormhole")._callee.component.getData("ltPropTransition").animation)s=a.x-LytePopup.xPos,r=a.y-LytePopup.yPos,o.getData("ltPropAllowContainment")?(s+e.getBoundingClientRect().width<=window.innerWidth&&s>=0?e.style.left=s+"px":e.style.left=s<0?"0px":window.innerWidth-e.getBoundingClientRect().width+"px",r+e.getBoundingClientRect().height<=window.innerHeight&&r>=0?e.style.top=r+"px":e.style.top=r<0?"0px":window.innerHeight-e.getBoundingClientRect().height+"px"):(e.style.left=s+"px",e.style.top=r+"px");else{var n=LytePopup.node.closest("lyte-wormhole")._callee.component.transform;"zoom"!=LytePopup.node.closest("lyte-wormhole")._callee.component.getData("ltPropTransition").animation||n||((n={}).x=0,n.y=0);var d=n.x+(a.x-LytePopup.xPos),p=n.y+(a.y-LytePopup.yPos);e.style.transform="translate("+d+"px, "+p+"px)",i=e.getBoundingClientRect(),o.getData("ltPropAllowContainment")&&(i.left+i.width>window.innerWidth&&i.left>=0?d=window.innerWidth-i.width-parseFloat(l.left):i.left<0&&(d=-parseFloat(l.left)),i.top+i.height>window.innerHeight&&i.top>=0?p=window.innerHeight-i.height-parseFloat(l.top):i.top<0&&(p=-parseFloat(l.top)),e.style.transform="translate("+d+"px, "+p+"px)")}window.getSelection().removeAllRanges()}},stopDrag:function(t){var e=t.target,o=$L(e).closest("lyte-wormhole")[0].component.parent.component;for($L(e).hasClass("lyteModalDragRunning")||(e=$L(".lyteModalDragRunning")[0]);e&&e!==document;){if(e.parentEle){"mouseup"==t.type&&(this.removeEventListener("mousemove",e.parentEle.handleDrag,!0),this.removeEventListener("mouseup",e.parentEle.stopDrag,!0)),"touchend"==t.type&&(this.removeEventListener("touchmove",e.parentEle.handleDrag,!0),this.removeEventListener("touchend",e.parentEle.stopDrag,!0));break}e=e.parentElement?e.parentElement:document}if(LytePopup.node){o=LytePopup.node.closest("lyte-wormhole")._callee.component;if(LytePopup.node.style.transitionDuration=o.getData("ltPropTransition").duration,"fadeIn"!=o.getData("ltPropTransition").animation){var i=new WebKitCSSMatrix(getComputedStyle(o.actualModalDiv).transform);o.transform={x:i.m41,y:i.m42}}LytePopup.node=null}o.getMethods("onDragEnd")&&o.executeMethod("onDragEnd",o,o.childComp,t)},showToggled:function(){var t=t||window.event;if(this.getData("returnedFalse"))this.setData("returnedFalse",!1);else if("auto"===this.getData("ltPropMaxHeight")&&this.setData("ltPropMaxHeight",""),"auto"===this.getData("ltPropMaxWidth")&&this.setData("ltPropMaxWidth",""),this.$node.ltProp("reRenderModal")&&(this.$node.ltProp("show")&&(this.$node.ltProp({showCopy:!1,show:!1}),LytePopup.closePopup(this),this.setData("first",!0),this.setData("initializedPosition",!1)),this.$node.ltProp("reRenderModal",!1)),this.timeOutId&&(delete this.timeOutId,this.closeModal(),LytePopup.closePopup(this)),this.$node.ltProp("show")&&!this.$node.ltProp("showCopy")){if(this.setData("ltPropRenderHidden",!1),$L(this.childComp).removeClass("lyteModalHidden"),_lyteUiUtils.getRTL()&&!this.getData("ltPropIgnoreInlineDirection")){"slideFromLeft"==this.getData("ltPropTransition").animation?this.getData("ltPropTransition").animation="slideFromRight":"slideFromRight"==this.getData("ltPropTransition").animation&&(this.getData("ltPropTransition").animation="slideFromLeft");var e=this.getData("ltPropOffset"),o={};for(key in e)"left"==key&&"center"!=e[key]?o.right=e[key]:"right"==key?o.left=e[key]:o[key]=e[key];this.setData("ltPropOffset",o)}if(-1!=LytePopup.components.indexOf(this)&&(LytePopup.closePopup(this),this.setData("first",!0),this.setData("initializedPosition",!1)),this.$node.ltProp("bindToBody",!0),_lyteUiUtils.dispatchEvent("lyteModalBeforeOpen",this.actualModalDiv),this.setData("ltPropShowWormhole",!0),""!==this.getData("ltPropPadding")){var i=$L(this.childComp).find(".lyteModalYield").eq(0);i.addClass("lyteModalYieldWithPadding"),i[0].style.padding=this.getData("ltPropPadding")}var l=this;this.beforeShowId=setTimeout((function(){delete l.beforeShowId,l.onBeforeShowHandling()}),0)}else if(this.setData("ltPropShowWormhole",!1),this.transitionEndTimeout&&(clearTimeout(this.transitionEndTimeout),delete this.transitionEndTimeout),this.clearFastdomBatch(),this.$node.ltProp("showCopy")){l=this;this.beforeCloseId=setTimeout((function(){delete l.beforeCloseId,l.onBeforeCloseHandling(t)}),0)}else-1!=LytePopup.components.indexOf(this)&&(LytePopup.closePopup(this),this.setData("first",!0),this.setData("initializedPosition",!1))}.observes("ltPropShow","ltPropReRenderModal").on("didConnect"),clearFastdomBatch:function(){this.fastdomfn1&&$L.fastdom.clear(this.fastdomfn1),this.fastdomfn2&&$L.fastdom.clear(this.fastdomfn2),this.fastdomfn3&&$L.fastdom.clear(this.fastdomfn3),this.fastdomfn4&&$L.fastdom.clear(this.fastdomfn4),this.fastdomfn5&&$L.fastdom.clear(this.fastdomfn5),this.fastdomfn6&&$L.fastdom.clear(this.fastdomfn6),this.fastdomfn7&&$L.fastdom.clear(this.fastdomfn7),this.fastdomfn8&&$L.fastdom.clear(this.fastdomfn8),this.beforeShowId&&clearTimeout(this.beforeShowId)},triggerDraggable:function(){this.addDragHandler()}.observes("ltPropDraggable"),changeBindToBody:function(){this.getData("ltPropBindToBody")||(this.getData("ltPropFreeze")&&this.addedFreezeDetails&&(LytePopup.hideOrShowFreeze("close",this,!0),delete this.addedFreezeDetails),LytePopup.closePopup(this),this.renderSidewise&&(delete this.renderSidewise,delete this.renderProps),this.actualModalDiv=null,this.childComp=null,this.getData("ltPropShow")?this.setData({ltPropShowCopy:!1,ltPropShow:!1}):this.getData("ltPropShowCopy")&&this.setData("ltPropShowCopy",!1),this.setData("first",!0),this.setData("initializedPosition",!1),this.$node.classList.remove("lyteModalOpened"),LytePopup.checkAndRemoveWrapper())}.observes("ltPropBindToBody"),addAriaValues:function(t){if(this.getData("ltPropAria")){var e=this.getData("ltPropAriaAttributes")||{};$L(this.actualModalDiv).attr("aria-modal",!0),$L(this.actualModalDiv).attr("aria-expanded",this.getData("ltPropShow")),_lyteUiUtils.setAttribute(this.actualModalDiv,e,t?t.oldValue:{});var o=this.actualModalDiv.querySelector(".lyteModalClose");o&&o.setAttribute("aria-label",e["close-label"]||"Close icon at top right position")}}.observes("ltPropAriaAttributes","ltPropAriaAttributes.{}","checkAria"),updateScrollHandling:function(){this.$node.ltProp("freeze")||this.setData("calculateHW",!0);var t,e,o,i=this.actualModalDiv,l=Math.max(document.documentElement.clientWidth,window.innerWidth||0),a=i.querySelector("lyte-modal-content");i.style.maxWidth="",i.style.maxHeight="",i.style.height=this.$node.ltProp("height")?this.$node.ltProp("height"):"auto",i.style.width=this.$node.ltProp("width")?this.getData("ltPropOverlapModal")||-1==this.$node.ltProp("width").indexOf("%")?this.$node.ltProp("width"):parseFloat(this.$node.ltProp("width"))/100*l+"px":"auto",this.fastdomfn2=$L.fastdom.measure((function(){delete this.fastdomfn2;var l=i.getBoundingClientRect(),s=i.parentElement.getBoundingClientRect(),r=getComputedStyle(i),n=(r.borderTopWidth?parseFloat(r.borderTopWidth):0)+(r.borderBottomWidth?parseFloat(r.borderBottomWidth):0),d=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-(this.getData("ltPropFreeze")?parseInt(getComputedStyle(i.parentElement).top):0);this.fastdomfn3=$L.fastdom.mutate((function(){if(delete this.fastdomfn3,this.$node.ltProp("maxWidth")?(o=-1!=this.$node.ltProp("maxWidth").indexOf("%")?parseFloat(this.$node.ltProp("maxWidth"))/100*s.width:parseFloat(this.$node.ltProp("maxWidth")),i.style.maxWidth=o+"px",i.style.overflowX="auto"):o=l.width,this.$node.ltProp("maxHeight")){this.childComp.querySelector(".modalWrapper").classList.add("scrollable"),this.setData("calculateHW",!0),t=l.height-n;var r=-1!=this.$node.ltProp("maxHeight").indexOf("%")?parseFloat(this.$node.ltProp("maxHeight"))/100*s.height:parseFloat(this.$node.ltProp("maxHeight"));i.style.maxHeight=r+"px",e=r-n}else t=i.offsetHeight-n+1,this.$node.ltProp("height")&&"auto"!=this.$node.ltProp("height")?(e=t,this.setData("calculateHW",!0)):e=t>d?d-40:t,this.$node.ltProp("scrollable")&&(this.$node.ltProp("height")&&"auto"!=this.$node.ltProp("height")||(e=d-40),this.setData("calculateHW",!0)),a&&a.offsetHeight>t-((this.actualModalDiv.querySelector("lyte-modal-header")?this.actualModalDiv.querySelector("lyte-modal-header").offsetHeight:0)+(this.actualModalDiv.querySelector("lyte-modal-footer")?this.actualModalDiv.querySelector("lyte-modal-footer").offsetHeight:0))&&this.setData("calculateHW",!0);if(this.getData("calculateHW")&&a){var p=this.actualModalDiv.querySelector("lyte-modal-header"),h=this.actualModalDiv.querySelector("lyte-modal-footer"),c=null,f=null;this.fastdomfn4=$L.fastdom.measure((function(){delete this.fastdomfn4,p&&(c=p.offsetHeight),h&&(f=h.offsetHeight);var t=i.getBoundingClientRect().height;this.setData("prevHeight",t),this.fastdomfn5=$L.fastdom.mutate((function(){delete this.fastdomfn5;var t=e-((c||0)+(f||0));a.style.maxHeight=(t>0?t:50)+0+"px",a.style.overflowY="auto","auto"!=this.$node.ltProp("height")&&this.getData("ltPropSetContentHeight")&&(a.style.height=t+"px"),i=null,a=null,p=null,h=null,this.getData("initializedPosition")?this.getData("resizeCalled")&&(this.computeOffsetImplOnResize(),this.setData("resizeCalled",!1)):(this.computeOffsetImpl(),this.setData("initializedPosition",!0))}),this)}),this)}else this.childComp.querySelector(".modalWrapper").classList.remove("scrollable"),i=null,a=null,this.getData("initializedPosition")?this.getData("resizeCalled")&&(this.computeOffsetImplOnResize(),this.setData("resizeCalled",!1)):(this.computeOffsetImpl(),this.setData("initializedPosition",!0));this.$node.ltProp("freeze")||(this.childComp.querySelector(".modalWrapper").classList.add("noFreeze"),this.renderSidewise||(this.actualModalDiv.style.position="fixed"))}),this)}),this)},scrollHandling:function(){"auto"===this.getData("ltPropMaxHeight")&&this.setData("ltPropMaxHeight",""),"auto"===this.getData("ltPropMaxWidth")&&this.setData("ltPropMaxWidth",""),this.getData("ltPropShow")&&this.updateScrollHandling()}.observes("ltPropWidth","ltPropMaxWidth","ltPropHeight","ltPropMaxHeight"),callOnShow:function(){this.$node.classList.add("lyteModalOpened");var t=this;setTimeout((function(){var e=getComputedStyle(t.actualModalDiv),o=new WebKitCSSMatrix(e.transform);t.setData("beforeDragPosition",{xPos:o.m41,yPos:o.m42,scale:o.a}),_lyteUiUtils.dispatchEvent("lyteModalOpened",t.actualModalDiv)}),1e3*parseFloat(this.getData("ltPropTransition").duration)+10),this.transitionEndTimeout=setTimeout((function(){t.getMethods("onTransitionEnd")&&t.executeMethod("onTransitionEnd",t)}),1e3*parseFloat(this.getData("ltPropTransition").duration)+10),this.getMethods("onShow")&&this.executeMethod("onShow",this),this.addAriaValues&&this.addAriaValues()},callOnResize:function(){var t=this.getData("ltPropDependentModalId");""!=t&&$L(t)[0].component.updateScrollHandling();var e=getComputedStyle(this.actualModalDiv),o=new WebKitCSSMatrix(e.transform);this.setData("beforeDragPosition",{xPos:o.m41,yPos:o.m42,scale:o.a}),this.getMethods("onResize")&&this.executeMethod("onResize",this)},enableTransform:function(t,e,o){this.$node.ltProp("showCopy",!0);var i=this;setTimeout((function(){"x"==e&&(i.actualModalDiv.style.transform="translate("+t+"px,0px)",i.transform={x:t,y:0}),"y"==e&&(i.actualModalDiv.style.transform="translate(0px,"+t+"px)",i.transform={x:0,y:t})}),null!=o?o:void 0)},computeOffsetImplOnResize:function(){$L.fastdom.measure((function(){var t,e,o=this.actualModalDiv,i=o.getBoundingClientRect(),l=getComputedStyle(o.parentElement),a=parseInt(l.top),s=parseInt(l.left),r=o.offsetTop,n=Math.max(document.documentElement.clientWidth,window.innerWidth||0)-(this.getData("ltPropFreeze")?s:0),d=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-(this.getData("ltPropFreeze")?a:0),p=this.getData("prevWinH"),h=this.getData("prevWinW"),c=this.transform,f=null,m=null,u=this.getData("ltPropOffset"),y=this.getData("prevModalHeight")-i.height,g=this.getData("prevModalWidth")-i.width;this.calculateForSidewiseRender(),o.offsetParent&&"BODY"===o.offsetParent.tagName&&(r=0),this.renderSidewise&&(this.renderProps.windowWidth=n,n="slideFromRight"==this.getData("ltPropTransition").animation?this.renderProps.left:this.renderProps.windowWidth-this.renderProps.right,t=this.childComp.querySelector("lyte-modal-freeze"),e=this.actualModalDiv.parentElement),"fadeIn"===this.getData("ltPropTransition").animation||"zoom"===this.getData("ltPropTransition").animation?(n<h&&(u.left&&"center"==u.left||u.right&&"center"==u.right?(h=i.width,m=(h-n)/2):u.right?m=i.left-(h-n):u.left&&(m=i.left)),n>h&&(u.left&&"center"==u.left||u.right&&"center"==u.right?(h=i.width,m=(n-h)/2):u.right?m=i.left+(n-h):u.left&&(m=i.left)),d<p&&(u.top&&"center"==u.top||u.bottom&&"center"==u.bottom?f=(d-i.height)/2:u.bottom?f=r-(p-d):u.top&&(f=r)),d>p&&(u.top&&"center"==u.top||u.bottom&&"center"==u.bottom?f=(d-i.height)/2:u.bottom&&"center"!=u.bottom?f=r+(d-p):u.top&&"center"!=u.top&&(f=r)),$L.fastdom.mutate((function(){f&&(o.style.top=f+"px"),m&&(o.style.left=m+"px"),this.callOnResize()}),this)):(n<h&&(u.left&&"center"==u.left||u.right&&"center"==u.right?m=c.x-(h-n)/2+g/2:u.right?m=c.x-(h-n)+g:u.left&&(m=c.x),this.transform.x=m),n>h&&(u.left&&"center"==u.left||u.right&&"center"==u.right?m=c.x+(n-h)/2+g/2:u.right?m=c.x+(n-h)+g:u.left&&(m=c.x),this.transform.x=m),d<p&&(u.top&&"center"==u.top||u.bottom&&"center"==u.bottom?f=c.y-(p-d)/2+y/2:u.bottom?f=c.y-(i.bottom-d+parseInt(u.bottom)):u.top&&(f=c.y),this.transform.y=f),d>p&&(u.top&&"center"==u.top||u.bottom&&"center"==u.bottom?f=c.y+(d-p)/2+y/2:u.bottom&&"center"!=u.bottom?f=c.y+(d-i.bottom-parseInt(u.bottom)):u.top&&"center"!=u.top&&(f=c.y),this.transform.y=f),$L.fastdom.mutate((function(){if(o.style.transitionDuration="0s","slideFromTop"===this.getData("ltPropTransition").animation||"slideFromBottom"===this.getData("ltPropTransition").animation)n<h&&(u.left&&"center"==u.left||u.right&&"center"==u.right?o.style.left=i.left-(h-n)/2+g/2+"px":u.right?o.style.left=i.left-(h-n)+g+"px":u.left&&(o.style.left=i.left+"px")),n>h&&(u.left&&"center"==u.left||u.right&&"center"==u.right?o.style.left=i.left+(n-h)/2+g/2+"px":u.right?o.style.left=i.left+(n-h)+g+"px":u.left&&(o.style.left=i.left+"px")),o.style.transform="translate(0px,"+this.transform.y+"px)";else if(("slideFromLeft"===this.getData("ltPropTransition").animation||"slideFromRight"===this.getData("ltPropTransition").animation)&&(d<p&&(u.top&&"center"==u.top||u.bottom&&"center"==u.bottom?o.style.top=r-(p-d)/2+y/2+"px":u.bottom?o.style.top=r-(p-d)+"px":u.top&&(o.style.top=r+"px")),d>p&&(u.top&&"center"==u.top||u.bottom&&"center"==u.bottom?o.style.top=r+(d-p)/2+y/2+"px":u.bottom&&"center"!=u.bottom?o.style.top=r+(d-p)+"px":u.top&&"center"!=u.top&&(o.style.top=r+"px")),o.style.transform="translate("+this.transform.x+"px,0px)",this.renderSidewise)){if("slideFromRight"==this.getData("ltPropTransition").animation){var l=this.renderProps.windowWidth-this.renderProps.left;t&&(t.style.right=l+"px"),e&&(e.style.right=l-5+"px")}"slideFromLeft"==this.getData("ltPropTransition").animation&&(t&&(t.style.left=this.renderProps.right+"px"),e&&(e.style.left=this.renderProps.right+1+"px"))}this.callOnResize()}),this)),this.setData("prevModalHeight",i.height),this.setData("prevModalWidth",i.width),this.setData("prevWinH",d),this.setData("prevWinW",n)}),this)},isResponsibleForSidewiseRender:function(){var t=LytePopup.components;return!!(t.length>1&&t[t.length-2]===this&&t[t.length-1].renderSidewise)},computeOffsetImpl:function(t,e){var o=this.nodeName&&"LYTE-MODAL"===this.nodeName?this.component:this;o.fastdomfn6=$L.fastdom.measure((function(){if(delete o.fastdomfn6,o.actualModalDiv){o.calculateForSidewiseRender();var i,l,a=o.actualModalDiv,s=Lyte.deepCopyObject(o.$node.ltProp("offset")),r=a.getBoundingClientRect(),n={top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:a.offsetWidth,height:a.offsetHeight},d=0,p=0;if(o.getData("ltPropFreeze")){var h=getComputedStyle(a.parentElement);d=parseInt(h.left),p=parseInt(h.top)}var c=Math.max(document.documentElement.clientWidth,window.innerWidth||0)-d;o.renderSidewise&&(o.renderProps.windowWidth=c,c="slideFromRight"==o.getData("ltPropTransition").animation?o.renderProps.left:o.renderProps.windowWidth-o.renderProps.right,i=o.childComp.querySelector("lyte-modal-freeze"),l=o.actualModalDiv.parentElement);var f=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-p;if(a.style.transitionDuration=(null!=t?t:o.$node.ltProp("transition").duration)+"s",o.setData("prevWinH",f),o.setData("prevWinW",c),o.setData("prevModalHeight",n.height),o.setData("prevModalWidth",n.width),s){if("center"===s.left||"center"===s.right){var m=(c-n.width)/2;m<0&&(m=20),s.left=m}if("center"===s.top||"center"===s.bottom){var u=(f-n.height)/2;u<0&&(u=20),s.top=u}if(s.right&&"center"!==s.right&&(s.right.indexOf("%")>-1?s.left=c-(n.width+c/parseFloat(s.right)):s.left=c-(n.width+parseFloat(s.right))),s.bottom&&"center"!==s.bottom&&(s.bottom.indexOf("%")>-1?s.top=f-(n.height+f/parseFloat(s.bottom)):s.top=f-(n.height+parseFloat(s.bottom))),""!==s.left&&null!=s.left||(o.data.ltPropOffset.left="center",s.left=(c-n.width)/2),""!==s.top&&null!=s.top||(o.data.ltPropOffset.top="center",s.top=(f-n.height)/2),o.getData("ltPropTransition").originElement)if(g=document.querySelector(o.getData("ltPropTransition").originElement)){var y=g.getBoundingClientRect();s.originElementPos={xDiff:y.left+y.width/2-(parseFloat(s.left)+n.width/2),yDiff:y.top+y.height/2-(parseFloat(s.top)+n.height/2)}}else console.error("The originElement provided does not exist. Kindly Check!");o.fastdomfn7=$L.fastdom.mutate((function(){if(delete o.fastdomfn7,o.getData("first")&&LytePopup.bindTransitionEnd(o.actualModalDiv),"slideFromTop"==o.getData("ltPropTransition").animation){if(a.style.left=parseFloat(s.left)+"px",a.style.top=-1*n.height+"px",e)return a.style.transform="translate(0px,"+(parseInt(s.top)+n.height)+"px)",void(o.transform={x:0,y:parseInt(s.top)+n.height});o.enableTransform(parseInt(s.top)+n.height,"y",t)}else if("slideFromBottom"==o.getData("ltPropTransition").animation){if(a.style.left=parseFloat(s.left)+"px",a.style.top=f+1+"px",e)return a.style.transform="translate(0px,"+-1*(f-parseInt(s.top)+1)+"px)",void(o.transform={x:0,y:-1*(f-parseInt(s.top)+1)});o.enableTransform(-1*(f-parseInt(s.top)+1),"y",t)}else if("slideFromLeft"==o.getData("ltPropTransition").animation){if(o.renderSidewise&&(i&&(i.style.left=o.renderProps.right+"px"),l&&(l.style.left=o.renderProps.right+"px")),a.style.top=parseFloat(s.top)+"px",a.style.left=-1*n.width+"px",e)return a.style.transform="translate("+(parseInt(s.left)+n.width)+"px,0px)",void(o.transform={x:parseInt(s.left)+n.width,y:0});o.enableTransform(parseInt(s.left)+n.width,"x",t)}else if("slideFromRight"==o.getData("ltPropTransition").animation){if(o.renderSidewise){var r=o.renderProps.windowWidth-o.renderProps.left;i&&(i.style.right=r+"px"),l&&(l.style.right=r-5+"px")}if(a.style.top=parseFloat(s.top)+"px",a.style.left=c+1+"px",e)return a.style.transform="translate("+-1*(c-parseInt(s.left)+1)+"px,0px)",void(o.transform={x:-1*(c-parseInt(s.left)+1),y:0});o.enableTransform(-1*(c-parseInt(s.left)+1),"x",t)}else if("fadeIn"==o.getData("ltPropTransition").animation){if(a.style.left=parseFloat(s.left)+"px",a.style.top=parseFloat(s.top)+"px",e)return void(a.style.transform="");o.$node.ltProp("showCopy",!0),a.style.opacity=1}else if("zoom"==o.getData("ltPropTransition").animation){o.$node.ltProp("showCopy",!0);var d="scale(0)";if(s.originElementPos&&(d="translateX( "+s.originElementPos.xDiff+"px) translateY( "+s.originElementPos.yDiff+"px) scale(0)"),a.style.left=parseFloat(s.left)+"px",a.style.top=parseFloat(s.top)+"px",a.style.transition="none",e)return a.style.transform=s.originElementPos?"translateX(0) translateY(0) scale(1)":"scale(1)",void setTimeout((function(){a.style.transition=""}),16);a.style.transform=d,a.style.opacity=1,setTimeout((function(){a.style.transition="",a.style.transitionDuration=(null!=t?t:o.$node.ltProp("transition").duration)+"s",s.originElementPos?a.style.transform="translateX(0) translateY(0) scale(1)":a.style.transform="scale(1)"}),50)}o.$node.ltProp("freeze")&&document.body.classList.add("bodyWrapper"),o.getData("first")&&(o.callOnShow(),o.setData("first",!1))}),o)}else{var g;if(o.setData("ltPropOffset",{left:"center",top:"center"}),s.left=(c-n.width)/2,s.top=(f-n.height)/2,o.$node.ltProp("scrollable")||(s.left<0&&(s.left=20),s.top<0&&(s.top=20)),o.getData("ltPropTransition").originElement)if(g=document.querySelector(o.getData("ltPropTransition").originElement)){y=g.getBoundingClientRect();s.originElementPos={xDiff:y.left+y.width/2-(s.left+n.width/2),yDiff:y.top+y.height/2-(s.top+n.height/2)}}else console.error("The originElement provided does not exist. Kindly Check!");o.fastdomfn8=$L.fastdom.mutate((function(){if(delete o.fastdomfn8,o.getData("first")&&LytePopup.bindTransitionEnd(o.actualModalDiv),"slideFromTop"==o.getData("ltPropTransition").animation){if(a.style.left=parseFloat(s.left)+"px",a.style.top=-1*n.height+"px",e)return a.style.transform="translate(0px,"+(parseInt(s.top)+n.height)+"px)",void(o.transform={x:0,y:parseInt(s.top)+n.height});o.enableTransform(parseInt(s.top)+n.height,"y",t)}else if("slideFromBottom"==o.getData("ltPropTransition").animation){if(a.style.left=parseFloat(s.left)+"px",a.style.top=f+1+"px",e)return a.style.transform="translate(0px,"+-1*(f-parseInt(s.top)+1)+"px)",void(o.transform={x:0,y:-1*(f-parseInt(s.top)+1)});o.enableTransform(-1*(f-parseInt(s.top)+1),"y",t)}else if("slideFromLeft"==o.getData("ltPropTransition").animation){if(o.renderSidewise&&(i&&(i.style.left=o.renderProps.right+"px"),l&&(l.style.left=o.renderProps.right+"px")),a.style.top=parseFloat(s.top)+"px",a.style.left=-1*n.width+"px",e)return a.style.transform="translate("+(parseInt(s.left)+n.width)+"px,0px)",void(o.transform={x:parseInt(s.left)+n.width,y:0});o.enableTransform(parseInt(s.left)+n.width,"x",t)}else if("slideFromRight"==o.getData("ltPropTransition").animation){if(o.renderSidewise){var r=o.renderProps.windowWidth-o.renderProps.left;i&&(i.style.right=r+"px"),l&&(l.style.right=r-5+"px")}if(a.style.top=parseFloat(s.top)+"px",a.style.left=c+1+"px",e)return a.style.transform="translate("+-1*(c-parseInt(s.left)+1)+"px,0px)",void(o.transform={x:-1*(c-parseInt(s.left)+1),y:0});o.enableTransform(-1*(c-parseInt(s.left)+1),"x",t)}else if("fadeIn"==o.getData("ltPropTransition").animation){if(a.style.left=parseFloat(s.left)+"px",a.style.top=parseFloat(s.top)+"px",e)return void(a.style.transform="");o.$node.ltProp("showCopy",!0),a.style.opacity=1}else if("zoom"==o.getData("ltPropTransition").animation){o.$node.ltProp("showCopy",!0);var d="scale(0)";if(s.originElementPos&&(d="translateX( "+s.originElementPos.xDiff+"px) translateY( "+s.originElementPos.yDiff+"px) scale(0)"),a.style.left=parseFloat(s.left)+"px",a.style.top=parseFloat(s.top)+"px",a.style.transition="none",e)return a.style.transform=s.originElementPos?"translateX(0) translateY(0) scale(1)":"scale(1)",void setTimeout((function(){a.style.transition=""}),16);a.style.transform=d,a.style.opacity=1,setTimeout((function(){a.style.transition="",a.style.transitionDuration=(null!=t?t:o.$node.ltProp("transition").duration)+"s",s.originElementPos?a.style.transform="translateX(0) translateY(0) scale(1)":a.style.transform="scale(1)"}),50)}o.$node.ltProp("freeze")&&document.body.classList.add("bodyWrapper"),o.getData("first")&&(o.callOnShow(),o.setData("first",!1))}),o)}}}),o)},calculateForSidewiseRender:function(){if(LytePopup.components.length>1){var t,e=this.getData("ltPropParentModalId");if(""!=e)t=$L(e)[0].component;else if(""==e&&""==this.getData("ltPropDependentModalId")){var o=LytePopup.components.indexOf(this);o>0&&"LYTE-MODAL"===LytePopup.components[o-1].$node.tagName&&(t=LytePopup.components[o-1])}if(!this.getData("ltPropOverlapModal")&&t&&t.getData("ltPropAllowMultiple")&&-1!=["slideFromLeft","slideFromRight"].indexOf(this.getData("ltPropTransition").animation)){this.renderSidewise=!0;var i=t.actualModalDiv.getBoundingClientRect();this.renderProps={prevModal:t,left:Math.round(i.left),right:Math.round(i.right),width:Math.round(i.width)}}}},closeModal:function(){var t=this.childComp.querySelector("lyte-modal-freeze");this.renderSidewise&&("slideFromRight"==this.getData("ltPropTransition").animation&&(t&&(t.style.right=""),this.actualModalDiv.parentElement.style.right=""),"slideFromLeft"==this.getData("ltPropTransition").animation&&(t&&(t.style.left=""),this.actualModalDiv.parentElement.style.left=""),delete this.renderSidewise,delete this.renderProps);var e=this.getData("ltPropTransition").animation;this.$node.ltProp("freeze")||this.childComp.querySelector(".modalWrapper").classList.remove("noFreeze"),this.$node.ltProp("freeze")||(this.actualModalDiv.style.position=""),"zoom"!=e&&this.actualModalDiv&&(this.actualModalDiv.style.transform="");var o=this.getData("ltPropTransition").duration,i=this.getData("ltPropCloseDuration");i&&(o=i/1e3);var l=this;setTimeout((function(){var t=l.$node;if(t&&(t.ltProp({showCopy:!1,show:!1}),t.classList.remove("lyteModalOpened"),$L(l.childComp).addClass("lyteModalHidden"),"zoom"==e&&(l.actualModalDiv.style.opacity="0",l.actualModalDiv.style.transform="")),l.getMethods("onClose")&&l.executeMethod("onClose",l),_lyteUiUtils.getRTL()&&!l.getData("ltPropIgnoreInlineDirection")){"slideFromLeft"==l.getData("ltPropTransition").animation?l.getData("ltPropTransition").animation="slideFromRight":"slideFromRight"==l.getData("ltPropTransition").animation&&(l.getData("ltPropTransition").animation="slideFromLeft");var o=l.getData("ltPropOffset"),i={};for(key in o)"left"==key&&"center"!=o[key]?i.right=o[key]:"right"==key?i.left=o[key]:i[key]=o[key];l.setData("ltPropOffset",i)}}),1e3*o),_lyteUiUtils.dispatchEvent("lyteModalClosed",this.actualModalDiv),_lyteUiUtils.popupStack&&_lyteUiUtils.popupStack.modalStack.length<1&&(document.body.classList.remove("bodyWrapper"),document.body.classList.remove("lyteBodyWrapper")),this.setData("ltPropShowWormhole",!1),LytePopup.checkAndRemoveWrapper()},onBeforeCloseHandling:function(t){var e=!0,o=Math.max(document.documentElement.clientWidth,window.innerWidth||0),i=Math.max(document.documentElement.clientHeight,window.innerHeight||0);if(this.actualModalDiv&&_lyteUiUtils.dispatchEvent("lyteModalBeforeClose",this.actualModalDiv),this.getMethods("onBeforeClose")&&(e=this.executeMethod("onBeforeClose",t,this)),void 0===e||e){if(this.actualModalDiv&&this.childComp){this.getData("ltPropFreeze")&&this.addedFreezeDetails&&(LytePopup.hideOrShowFreeze("close",this),delete this.addedFreezeDetails);var l=1e3*parseFloat(this.$node.ltProp("transition").duration),a=this;this.timeOutId=setTimeout((function(){delete a.timeOutId}),l),a.closeModal();var s,r=this.actualModalDiv;this.getData("ltPropCloseDuration")?r.style.transitionDuration=this.getData("ltPropCloseDuration")/1e3+"s":r.style.transitionDuration=l/1e3+"s";var n,d="scale(0)";$L.fastdom.measure((function(){if(s=r.getBoundingClientRect(),"zoom"==this.getData("ltPropTransition").animation&&this.getData("ltPropTransition").originElement){var t=document.querySelector(this.getData("ltPropTransition").originElement);if(t){var e=t.getBoundingClientRect(),o={top:s.top,right:s.right,bottom:s.bottom,left:s.left,width:r.offsetWidth,height:r.offsetHeight},i={xDiff:e.left+e.width/2-(o.left+o.width/2),yDiff:e.top+e.height/2-(o.top+o.height/2)};d="translateX( "+i.xDiff+"px) translateY( "+i.yDiff+"px) scale(0)"}else console.error("The originElement provided does not exist. Kindly Check!")}}),this),$L.fastdom.mutate((function(){"slideFromTop"==this.getData("ltPropTransition").animation?(n=-(Math.ceil(s.height)+parseInt(r.style.top)+10)+"px",r.style.transform="translateY("+n+")"):"slideFromBottom"==this.getData("ltPropTransition").animation?(n=i-parseInt(r.style.top)+10+"px",r.style.transform="translateY("+n+")"):"slideFromLeft"==this.getData("ltPropTransition").animation?(n=-(Math.ceil(s.width)+parseInt(r.style.left)+10)+"px",r.style.transform="translateX("+n+")"):"slideFromRight"==this.getData("ltPropTransition").animation?(n=(this.renderProps&&this.renderProps.left||o)-parseInt(r.style.left)+10+"px",r.style.transform="translateX("+n+")"):"fadeIn"==this.getData("ltPropTransition").animation?r.style.opacity=0:"zoom"==this.getData("ltPropTransition").animation&&(r.style.transform=d),delete this.transform,this.$node.classList.contains("lyteModalOpened")||(r.style.transform="")}),this),$L.fastdom.mutate((function(){r=null})),r.classList.remove("lyteModalFromTop","lyteModalFromBottom","lyteModalFromLeft","lyteModalFromRight","lyteModalFadeIn","lyteZoom");var p=this.getData("ltPropTransition").duration,h=this.getData("ltPropCloseDuration");if(h&&(p=h/1e3),this.$node.ltProp("freeze")&&this.childComp.querySelector("lyte-modal-freeze")){var c=this.childComp.querySelector("lyte-modal-freeze");setTimeout(function(){c.style.opacity=0,c.style.visibility=""}.bind(this),1e3*p)}LytePopup.closePopup(this),this.setData("first",!0),this.setData("initializedPosition",!1),this.setData("calculateHW",!1)}this.$node.alignModal=null,this.$node.resetPosition=null,this.$node.alignLyteModal=null,this.$node.calculateOffset=null,this.$node.reflectTransitionChange=null}else this.setData("returnedFalse",!0),this.$node.ltProp("show",!0)},onBeforeShowHandling:function(){var t=!0;if(this.getMethods("onBeforeShow")&&(t=this.executeMethod("onBeforeShow",this)),void 0===t||t){this.setData("checkAria",this.getData("checkAria")+1),this.addDragHandler(),this.updateScrollHandling();var e=this.actualModalDiv;e.style.transitionDuration=this.$node.ltProp("transition").duration+"s";var o="lyteModalFrom",i=(this.actualModalDiv.style,this.actualModalDiv.getBoundingClientRect(),Math.max(document.documentElement.clientWidth,window.innerWidth||0));switch(this.$node.ltProp("transition").animation){case"slideFromTop":o+="Top";break;case"slideFromBottom":o+="Bottom";break;case"slideFromLeft":o+="Left";break;case"slideFromRight":o+="Right";break;case"fadeIn":o="lyteModalFadeIn";break;case"zoom":o="lyteZoom"}if(this.fastdomfn1=$L.fastdom.mutate((function(){delete this.fastdomfn1,this.actualModalDiv.classList.add(o),this.actualModalDiv.style.opacity="",e=null}),this),LytePopup.addPopup(this),this.calculateForSidewiseRender(),this.$node.ltProp("freeze")){var l=this.childComp.querySelector("lyte-modal-freeze");this.renderSidewise&&("slideFromRight"==this.getData("ltPropTransition").animation&&(l.style.right=i-this.renderProps.left+"px"),"slideFromLeft"==this.getData("ltPropTransition").animation&&(l.style.left=this.renderProps.right+"px"));var a=l.style;this.getData("ltPropDimmer")&&this.getData("ltPropDimmer").color&&(a.background=this.getData("ltPropDimmer").color),this.addedFreezeDetails||(a.opacity=this.getData("ltPropDimmer")&&this.getData("ltPropDimmer").opacity?this.getData("ltPropDimmer").opacity:"")}this.$node.alignModal=this.computeOffsetImpl.bind(this,0,!0),this.$node.resetPosition=function(){LytePopup.x=this.getData("beforeDragPosition").xPos,LytePopup.y=this.getData("beforeDragPosition").yPos,LytePopup.xPos=this.getData("beforeDragPosition").xPos,LytePopup.yPos=this.getData("beforeDragPosition").yPos,this.component.transform.x=this.getData("beforeDragPosition").xPos,this.component.transform.y=this.getData("beforeDragPosition").yPos,"zoom"===this.getData("ltPropTransition").animation?this.component.actualModalDiv.style.transform="translate("+this.getData("beforeDragPosition").xPos+"px ,"+this.getData("beforeDragPosition").yPos+"px) scale("+this.getData("beforeDragPosition").scale+")":this.component.actualModalDiv.style.transform="translate("+this.getData("beforeDragPosition").xPos+"px ,"+this.getData("beforeDragPosition").yPos+"px)"},this.$node.alignLyteModal=function(){this.component.updateScrollHandling(),this.component.computeOffsetImpl.bind(this.component,0,!0)},this.$node.calculateOffset=this.updateScrollHandling.bind(this),this.$node.reflectTransitionChange=this.reflectTransitionChange.bind(this)}else this.setData("returnedFalse",!0),this.$node.ltProp({showCopy:!1,show:!1})},reflectTransitionChange:function(){this.computeOffsetImpl(null,!0)},didDestroy:function(){this.event&&delete this.event,this.setData("ltPropShowWormhole",!1),this.$node.classList.remove("lyteModalOpened"),this.timeOutId&&(clearTimeout(this.timeOutId),delete this.timeOutId),this.beforeCloseId&&(clearTimeout(this.beforeCloseId),delete this.beforeCloseId),this.renderSidewise&&(delete this.renderSidewise,delete this.renderProps),this.childComp&&(this.clearFastdomBatch(),this.getData("ltPropFreeze")&&this.addedFreezeDetails&&(LytePopup.hideOrShowFreeze("close",this),delete this.addedFreezeDetails),LytePopup.closePopup(this),this.childComp.remove(),delete this.actualModalDiv,delete this.childComp,LytePopup.checkAndRemoveWrapper())},actions:{close:function(){this.$node.ltProp("show",!1)}},methods:{beforeWormholeAppend:function(t){this.childComp&&delete this.childComp,this.actualModalDiv&&delete this.actualModalDiv,this.childComp=t,this.actualModalDiv=this.childComp.querySelector(".lyteModal")}}}),"complete"===document.readyState||"interactive"===document.readyState?addModalEvent():document.addEventListener("DOMContentLoaded",(function(t){addModalEvent(t)})),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),i=1;i<arguments.length;i++){var l=arguments[i];if(null!=l)for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(o[a]=l[a])}return o},writable:!0,configurable:!0}),Lyte.Component.register("lyte-accordion",{_template:'<template tag-name="lyte-accordion"> <lyte-yield yield-name="yield"> </lyte-yield> </template>',_dynamicNodes:[{type:"insertYield",position:[1]}],_observedAttributes:["ltPropDuration","ltPropHeight","ltPropExclusive","ltPropYield","ltPropDynamic","ltPropNested","ltPropPreventAutoScroll"],data:function(){return{ltPropDuration:Lyte.attr("string",{default:_lyteUiUtils.resolveDefaultValue("lyte-accordion","duration","0.2s")}),ltPropHeight:Lyte.attr("string"),ltPropExclusive:Lyte.attr("boolean",{default:_lyteUiUtils.resolveDefaultValue("lyte-accordion","exclusive",!0)}),ltPropYield:Lyte.attr("boolean",{default:!0}),ltPropDynamic:Lyte.attr("boolean",{default:_lyteUiUtils.resolveDefaultValue("lyte-accordion","dynamic",!0)}),ltPropNested:Lyte.attr("boolean",{default:!1}),ltPropPreventAutoScroll:Lyte.attr("boolean",{default:!1})}},toggleCurrentPanel:function(t){t.click()},execAndCheck:function(t,e){var o,i;return o=_lyteAccordion.findProperParent(e.target).parentElement,i=null==(i=this.executeMethod(t,e,o,this))||i},initiateClose:function(t,e,o){var i=t.parentElement,l=i.querySelector("lyte-accordion-header");i._immediate?this.closeImmediately(t):window.requestAnimationFrame((function(){t.style.height=t.getBoundingClientRect().height+"px",window.requestAnimationFrame((function(){t.style.height="0px"}))})),t.style.overflow="hidden",t._close=!0,t.parentElement.classList.remove("lyteAccordionActive"),l.setAttribute("aria-expanded","false"),t.setAttribute("aria-hidden","true"),e&&e.call(this,o)},closeImmediately:function(t){t.style.transitionDuration="0s",t.style.height="0px",this.doAfterCloseWork(t)},doAfterCloseWork:function(t){t.classList.add("lyteAccordionBodyHide")},execNonRetCalls:function(t){this.getMethods(t[0])&&this.executeMethod.apply(this,t)},isVisible:function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},scrollIntoView:function(t){if(t&&this.isVisible(t)&&t){var e,o=this.$node.getBoundingClientRect().height,i=this.$node.scrollTop+o,l=t.offsetTop,a=t.getAttribute("map"),s=l+t.getBoundingClientRect().height,r=this.getData("ltPropPreventAutoScroll");i<s&&!r&&(this.$node.scrollTop=this.$node.scrollTop+(s-i)),e=window.requestAnimationFrame(this.scrollIntoView.bind(this,t)),Lyte.objectUtils(this.getData("rAFMap"),"add",a,e)}},dynamic:function(t){var e;t.style.height="auto",t.style.opacity="0",e=t.getBoundingClientRect().height,window.requestAnimationFrame((function(){t.style.height="0px",t.style.opacity="1",window.requestAnimationFrame((function(){t.style.height=e+"px"}))}))},static:function(t,e){var o=e.height;this.getData("heights")[t.getAttribute("map")].conf&&o?t.style.height=o:t.style.height=this.getData("heights")[t.getAttribute("map")].height},calculate:function(t,e){var o=this.getData("ltPropDynamic");this.doBeforeOpenWork(t),o?this.dynamic(t):this.static(t,e)},doBeforeOpenWork:function(t){t.classList.remove("lyteAccordionBodyHide"),t.parentElement.classList.add("lyteAccordionActive")},initiateOpen:function(t,e,o){var i;this.calculate(t,e),t._close=!1,t.style.overflow="hidden",t.parentElement.classList.add("lyteAccordionActive"),(i=_lyteAccordion.findProperParent(o.target)).setAttribute("aria-expanded","true"),t.setAttribute("aria-hidden","false"),this.scrollIntoView(t),this.execNonRetCalls(["onOpen",o,i.parentElement,this]),this.execNonRetCalls(["onChanged",o,i.parentElement,this])},didDestroy:function(){for(var t=this.$node.querySelectorAll("lyte-accordion-item"),e=0;e<t.length;e++)t[e].getAttribute("lyte-shortcut")&&t[e].setAttribute("lyte-shortcut",JSON.stringify({}))},cancelFrame:function(t,e){if(e.target===t){var o=t.getAttribute("map"),i=t._close,l=this.getData("ltPropDynamic");window.cancelAnimationFrame(this.getData("rAFMap")[o]),t.style.overflow=i?"hidden":"auto",l&&!i&&(t.style.height="auto"),window.clearTimeout(t._callbackId),t._callbackId=setTimeout(function(){i?this.execNonRetCalls(["onAfterClose",this]):this.execNonRetCalls(["onAfterOpen",this])}.bind(this),100),i&&this.doAfterCloseWork(t)}},setEvent:function(t){t&&t.addEventListener("transitionend",this.cancelFrame.bind(this,t))},calculateHeight:function(t,e){var o=t.style.height;this.getData("heights")[e]={},o?(this.getData("heights")[e].height=o,this.getData("heights")[e].conf=!1):(this.getData("heights")[e].height=t.getBoundingClientRect().height-parseFloat(getComputedStyle(t).paddingTop)-parseFloat(getComputedStyle(t).paddingBottom)+"px",this.getData("heights")[e].conf=!0)},getYieldElement:function(){var t,e=this.$node.querySelector("lyte-accordion-item");return e&&(t=e.parentElement),t||this.$node.querySelector("lyte-yield")},readHeights:function(){if(this.$node)for(var t,e=this.getYieldElement().children,o=0,i=this.getData("ltPropDynamic");o<e.length;o++)"LYTE-ACCORDION-ITEM"===e[o].tagName&&(t=e[o].querySelector("lyte-accordion-body"))&&(this.setEvent(t),i||this.calculateHeight(t,o),e[o].classList.contains("lyteAccordionActive")&&this.getData("ltPropExclusive")&&(this.flag=o))},maintainHeightOrder:function(t,e){var o=this.getData("ltPropDynamic");t._close=!1,t.style.height=o?"auto":this.getData("heights")[e].conf&&this.getData("ltPropHeight")?this.getData("ltPropHeight"):this.getData("heights")[e].height},writeHeights:function(){if(this.$node){for(var t,e,o=this.getYieldElement().children,i=this.getData("ltPropExclusive"),l=0;l<o.length;l++)"LYTE-ACCORDION-ITEM"===o[l].tagName&&(t=o[l].querySelector("lyte-accordion-body"))&&(t.setAttribute("map",l),o[l].classList.contains("lyteAccordionActive")?i&&this.flag!=l?(t._close=!0,o[l].classList.remove("lyteAccordionActive"),t.style.height="0px"):this.maintainHeightOrder(t,l):(t._close=!0,t.style.height="0px"),(e=_lyteAccordion.findHeader(t))&&e.setAttribute("aria-expanded",!t._close),t.setAttribute("aria-hidden",!!t._close),t._close&&t.classList.add("lyteAccordionBodyHide"));this.didConnectCalled=!0}},executeAfterRender:function(){this.$node&&this.execNonRetCalls(["afterRender",this])},attachScrolls:function(t){if(this.$node)for(var e,o=this.getYieldElement(),i=t?[t]:o.children,l=0;l<i.length;l++)"LYTE-ACCORDION-ITEM"===i[l].tagName&&(e=i[l].querySelector("lyte-accordion-body"))&&(e.style.overflow="auto")},getAllHeights:function(){this.setData("heights",{}),$L.fastdom.measure(this.attachScrolls,this),$L.fastdom.measure(this.readHeights,this),$L.fastdom.mutate(this.writeHeights,this),$L.fastdom.measure(this.executeAfterRender,this)},didConnect:function(){this.setData("rAFMap",{}),this.getAllHeights()},nestedClassObserver:function(){var t=this.$node;this.getData("ltPropNested")?t.classList.add("lyteAccordionNested"):t.classList.remove("lyteAccordionNested")}.observes("ltPropNested").on("didConnect"),initializeItem:function(t){this.flag=void 0,this.getData("rAFMap")||this.setData("rAFMap",{}),this.attachScrolls(t),this.readItemHeight(t),this.writeItemHeight(t)},readItemHeight:function(t){var e=this.getItemIndex(t),o=this.getData("ltPropDynamic"),i=t.querySelector("lyte-accordion-body");i&&(this.setEvent(i),o||this.calculateHeight(i,e))},writeItemHeight:function(t){var e,o=t.querySelector("lyte-accordion-body"),i=this.getItemIndex(t),l=this.getData("ltPropExclusive");o&&(o.setAttribute("map",i),t.classList.contains("lyteAccordionActive")?l?((e=this.getOpenAccordion())&&e.close(),this.maintainHeightOrder(o,i)):this.maintainHeightOrder(o,i):(o._close=!0,o.style.height="0px"))},getOpenAccordion:function(){for(var t,e=this.getYieldElement().children,o=0;o<e.length;o++)if((t=e[o].querySelector("lyte-accordion-body"))&&!1===t._close)return e[o]},isAlreadyOpen:function(){for(var t,e=this.getYieldElement().children,o=0;o<e.length;o++)if((t=e[o].querySelector("lyte-accordion-body"))&&!1===t._close)return!0;return!1},getItemIndex:function(t){for(var e=0;t.previousElementSibling;)"LYTE-ACCORDION-ITEM"===(t=t.previousElementSibling).tagName&&e++;return e},getConfiguration:function(){var t={};return t.transition=this.getData("ltPropDuration"),t.height=this.getData("ltPropHeight"),t.exclusive=this.getData("ltPropExclusive"),t}});var _lyteAccordion={_lyteAccordionHeaderID:0,_lyteAccordionBodyID:0,generateHeaderID:function(){return"lyte_accordion_header_"+_lyteAccordion._lyteAccordionHeaderID++},generateBodyID:function(){return"lyte_accordion_body_"+_lyteAccordion._lyteAccordionBodyID++},findHeader:function(t){for(;t&&"LYTE-ACCORDION-HEADER"!==t.tagName;)t=t.previousElementSibling;return t},findProperParentS:function(t){for(var e,o,i=[],l=!1;t&&"LYTE-YIELD"!=t.tagName&&"HTML"!=t.tagName;)if(e=t,i.push(t),!(t=t.parentNode))return null;for(o=i.length-1;o>-1;o--)if("LYTE-ACCORDION-HEADER"===i[o].tagName||1===i.length&&"LYTE-ACCORDION-ITEM"===i[o].tagName){l=!0;break}return l?e.children[0]:null},findProperParent:function(t){var e;if(t){for(;"LYTE-YIELD"!=t.tagName&&"HTML"!=t.tagName;)if(e=t,!(t=t.parentNode))return{};return"LYTE-ACCORDION-HEADER"===(e.children[0]||{}).tagName?e.children[0]:void 0}}};if(document.addEventListener("click",(function(t){if(document.contains(t.target)){var e,o,i,l,a,s,r,n,d,p,h,c,f=_lyteAccordion.findProperParentS(t.target),m=0;if(f){for(e=f;e&&"HTML"!=e.tagName&&"LYTE-ACCORDION"!=e.tagName;)e=e.parentNode;if(e&&"HTML"!=e.tagName){for(i=(o=e.querySelector("lyte-accordion-item").parentElement||e.querySelector("lyte-yield")).children,l=!0;m<i.length;m++)if(i[m].querySelector("lyte-accordion-header")==f){l=!1;break}if(!l){if(a=o.children[m].querySelector("lyte-accordion-body"),n=(r=(s=o.closest("lyte-accordion").component).getConfiguration()).transition,!a||"LYTE-ACCORDION-BODY"!=a.tagName){if(r&&r.exclusive&&(d=s.getOpenAccordion())&&(p=d.querySelector("lyte-accordion-body")))if(p.style.transitionDuration=n,s.getMethods("onBeforeClose")){if(!(h=s.execAndCheck("onBeforeClose",t)))return;s.initiateClose(p,(function(t){this.execNonRetCalls(["onClose",t,_lyteAccordion.findProperParent(t.target).parentElement,this])}),t)}else s.initiateClose(p,(function(t){this.execNonRetCalls(["onClose",t,_lyteAccordion.findProperParent(t.target).parentElement,this])}),t);return o.children[m].classList.contains("lyteAccordionActive")?o.children[m].classList.remove("lyteAccordionActive"):o.children[m].classList.add("lyteAccordionActive"),void $L.fastdom.measure((function(){s.execNonRetCalls(["onChanged",t,_lyteAccordion.findProperParent(t.target).parentElement,s])}))}if(getComputedStyle(a).height,n&&(a.style.transitionDuration=n,(d=s.getOpenAccordion())&&(p=d.querySelector("lyte-accordion-body"))&&(p.style.transitionDuration=n)),c=s.getOpenAccordion(),r&&r.exclusive&&c&&c!=a.parentElement){if((p=c.querySelector("lyte-accordion-body"))&&s.getMethods("onBeforeClose")){if(!(h=s.execAndCheck("onBeforeClose",t)))return;s.initiateClose(p,(function(t){this.execNonRetCalls(["onClose",t,_lyteAccordion.findProperParent(t.target).parentElement,this])}),t)}else(p=c.querySelector("lyte-accordion-body"))&&s.initiateClose(p,(function(t){this.execNonRetCalls(["onClose",t,_lyteAccordion.findProperParent(t.target).parentElement,this])}),t);c.classList.contains("lyteAccordionActive")&&c.classList.remove("lyteAccordionActive")}if(a._close)if(s.getMethods("onBeforeOpen")){if(h=s.execAndCheck("onBeforeOpen",t),r=s.getConfiguration(),!h)return;s.initiateOpen(a,r,t)}else s.initiateOpen(a,r,t);else if(s.getMethods("onBeforeClose")){if(!(h=s.execAndCheck("onBeforeClose",t)))return;s.initiateClose(a,(function(t){var e=_lyteAccordion.findProperParent(t.target);this.execNonRetCalls(["onClose",t,e.parentElement,this]),this.execNonRetCalls(["onChanged",t,e.parentElement,this])}),t)}else s.initiateClose(a,(function(t){var e=_lyteAccordion.findProperParent(t.target);this.execNonRetCalls(["onClose",t,e.parentElement,this]),this.execNonRetCalls(["onChanged",t,e.parentElement,this])}),t)}}}}}),!0),document.addEventListener("keydown",(function(t){if(document.contains(t.target)){var e,o=t.keyCode,i=document.activeElement,l=i;if("LYTE-ACCORDION-HEADER"===i.tagName&&(13===o||32===o)){for(;l&&"LYTE-ACCORDION"!==l.tagName&&"HTML"!==l.tagName;)l=l.parentNode;if(!l)return;if("LYTE-ACCORDION"!==l.tagName)return;switch(e=l.component,t.preventDefault(),o){case 13:case 32:e.toggleCurrentPanel(i)}}}})),_lyteUiUtils.registeredCustomElements["lyte-accordion-item"]||(_lyteUiUtils.registeredCustomElements["lyte-accordion-item"]=!0,Lyte.createCustomElement("lyte-accordion-item",{static:{observedAttributes:{get:function(){return["lyte-shortcut"]}}},connectedCallback:function(){var t=this,e=this;if(!this._hasConnectedCallbackFired){for(this._hasConnectedCallbackFired=!0;e&&"HTML"!=e.tagName&&"LYTE-ACCORDION"!=e.tagName;)e=e.parentNode;e&&"HTML"!=e.tagName&&(e=e.component,this.openOnly=function(){if(e.getData("ltPropExclusive"))t.open();else{var o=e.getYieldElement();Array.from(o.children).forEach((function(e){"LYTE-ACCORDION-ITEM"===e.tagName&&(e!==t?e.close():e.open())}))}},this.open=function(){t.classList.contains("lyteAccordionActive")||t.click()},this.close=function(e){t._immediate=e,t.classList.contains("lyteAccordionActive")&&t.click(),t._immediate=!1},e.didConnectCalled&&e.initializeItem(this))}},attributeChangedCallback:function(t,e,o,i){if("function"==typeof shortcut){if(!o)return;if(!(o=JSON.parse(o)).key)return;var l=o.key,a=o.type,s=o.wait;e||(e={}),shortcut.push({newKey:l,type:a,wait:s,oldKey:e.key,value:this})}}})),_lyteUiUtils.registeredCustomElements["lyte-accordion-header"]||(_lyteUiUtils.registeredCustomElements["lyte-accordion-header"]=!0,Lyte.createCustomElement("lyte-accordion-header",{static:{observedAttributes:{get:function(){return[]}}},connectedCallback:function(){var t=this.getAttribute("id");this.setAttribute("role","button"),this.hasAttribute("tabindex")||this.setAttribute("tabindex","0"),t||this.setAttribute("id",_lyteAccordion.generateHeaderID())}})),_lyteUiUtils.registeredCustomElements["lyte-accordion-body"]||(_lyteUiUtils.registeredCustomElements["lyte-accordion-body"]=!0,Lyte.createCustomElement("lyte-accordion-body",{static:{observedAttributes:{get:function(){return[]}}},connectedCallback:function(){var t=this.getAttribute("id"),e=_lyteAccordion.findHeader(this);this.setAttribute("role","region"),t||(t=_lyteAccordion.generateBodyID(),this.setAttribute("id",t)),e&&(e.setAttribute("aria-controls",t),this.setAttribute("aria-labelledby",e.getAttribute("id")))}})),Lyte.Component.register("lyte-expresstable",{_template:'<template tag-name="lyte-expresstable"> <div class="lyteExpTableWrapper" role="table"> <template is="if" value="{{ltPropFullYield}}"><template case="true"> <div class="lyteExpTableOrigTableInnerWrap" tabindex="{{ltPropTabIndex}}" data-tabindex="{{ltPropDataTabIndex}}" onscroll="{{action(\'scroll\',event)}}"> <lyte-yield class="lyteExpOriginalTable" yield-name="fullYield" lt-prop-header="{{tableHeader}}" lt-prop-content="{{ltPropContent}}"></lyte-yield> </div> </template><template case="false"><template is="if" value="{{expHandlers(ltPropStickyTable,\'!\')}}"><template case="true"> <template is="if" value="{{expHandlers(ltPropHeaderLabelKey,\'&amp;&amp;\',tableHeader.length)}}"><template case="true"> <div class="lyteExpTableFakeHeaderWrapper"> <div class="lyteExpTableFixedColHeader"> <template is="if" value="{{expHandlers(ltPropYield,\'==\',false)}}"><template case="true"> <lyte-exptable-thead class="fixedColumnTableHeader lyteExpTableHeaderGroup" role="rowgroup"> <lyte-exptable-tr class="fixedColumnTableRow lyteExpTableRow" role="row"> <template is="for" items="{{fixedTableHeader}}" item="list" index="indexVal"> <lyte-exptable-th class="fixedColumn lyteExpTableHead {{list.class}}" id="{{list.id}}" index="{{indexVal}}" resize="{{list.resize}}" fixed="{{list.fixed}}" icon="{{list.icon}}" role="columnheader"> {{list[ltPropHeaderLabelKey]}} </lyte-exptable-th> </template> </lyte-exptable-tr> </lyte-exptable-thead> </template><template case="false"> <lyte-yield class="lyteExpTableFakeHeaderGroup lyteExpTableHeaderGroup" yield-name="headerYield" lt-prop-table-header="{{fixedTableHeader}}"></lyte-yield> </template></template> </div> <div class="lyteExpTableFakeColHeaderWrapper"> <template is="if" value="{{expHandlers(ltPropYield,\'==\',false)}}"><template case="true"> <lyte-exptable-thead class="lyteExpTableFakeColHeader lyteExpTableHeaderGroup" role="rowgroup"> <lyte-exptable-tr class="originalColumnTableRow lyteExpTableRow" role="row"> <template is="for" items="{{tableHeader}}" item="list" index="indexVal"> <lyte-exptable-th id="{{list.id}}" class="originalColumn lyteExpTableHead list.class" index="{{indexVal}}" resize="{{list.resize}}" fixed="{{list.fixed}}" icon="{{list.icon}}" role="columnheader"> {{list[ltPropHeaderLabelKey]}} </lyte-exptable-th> </template> </lyte-exptable-tr> </lyte-exptable-thead> </template><template case="false"> <lyte-yield class="lyteExpTableFakeColHeader lyteExpTableHeaderGroup" yield-name="headerYield" lt-prop-table-header="{{tableHeader}}" role="rowgroup"></lyte-yield> </template></template> </div> </div> </template></template> </template></template> <div class="lyteExpTableOrigTableWrapper "> <template is="if" value="{{expHandlers(ltPropStickyTable,\'!\')}}"><template case="true"> <div class="lyteExpTableFixedColWrapper" onscroll="{{action(\'fixedColScroll\',event)}}"> <lyte-exptable class="lyteExpTableFixedColTable"> <template is="if" value="{{expHandlers(ltPropYield,\'==\',false)}}"><template case="true"> <lyte-exptable-thead class="fixedColumn lyteExpTableHeaderGroup" role="rowgroup"> <lyte-exptable-tr class="fixedColumn lyteExpTableRow" role="row"> <template is="for" items="{{fixedTableHeader}}" item="list" index="indexVal"> <lyte-exptable-th id="{{list.id}}" class="fixedColumn lyteExpTableHead list.class" index="{{indexVal}}" resize="{{list.resize}}" fixed="{{list.fixed}}" icon="{{list.icon}}" role="columnheader"> {{unescape(list[ltPropHeaderLabelKey])}} </lyte-exptable-th> </template> </lyte-exptable-tr> </lyte-exptable-thead> <lyte-exptable-tbody class="fixedColumn lyteExpTableRowGroup" role="rowgroup"> <template is="for" items="{{ltPropContent}}" item="list" index="indexVal"> <lyte-exptable-tr id="{{list.id}}" class="fixedColumn lyteExpTableRow {{list.class}}" role="row" aria-rowindex="{{indexVal}}"> <template is="for" items="{{fixedTableHeader}}" item="header" index="index"> <lyte-exptable-td class="fixedColumn lyteExpTableCell" role="cell" aria-colindex="{{index}}">{{unescape(lyteUiGetValue(list,header[ltPropBodyLabelKey]))}}</lyte-exptable-td> </template> </lyte-exptable-tr> </template> </lyte-exptable-tbody> </template><template case="false"> <lyte-yield class="lyteExpTableHeaderGroup" yield-name="headerYield" lt-prop-table-header="{{fixedTableHeader}}" role="rowgroup"></lyte-yield> <lyte-yield class="lyteExpTableRowGroup" yield-name="contentYield" lt-prop-table-header="{{fixedTableHeader}}" role="rowgroup"> </lyte-yield> </template></template> </lyte-exptable> </div> </template></template> <template is="if" value="{{expHandlers(ltPropHeaderLabelKey,\'&amp;&amp;\',tableHeader.length)}}"><template case="true"> <div class="lyteExpTableOrigTableInnerWrap" tabindex="{{ltPropTabIndex}}" data-tabindex="{{ltPropDataTabIndex}}" onscroll="{{action(\'scroll\',event)}}"> <lyte-exptable class="lyteExpOriginalTable"> <template is="if" value="{{expHandlers(ltPropYield,\'==\',false)}}"><template case="true"> <lyte-exptable-thead class="originalColumn lyteExpTableHeaderGroup" role="rowgroup"> <lyte-exptable-tr class="originalColumn lyteExpTableRow" role="row"> <template is="for" items="{{tableHeader}}" item="list" index="indexVal"> <lyte-exptable-th id="{{list.id}}" class="originalColumn lyteExpTableHead list.class" index="{{indexVal}}" resize="{{list.resize}}" fixed="{{list.fixed}}" icon="{{list.icon}}" role="columnheader"> {{list[ltPropHeaderLabelKey]}} </lyte-exptable-th> </template> </lyte-exptable-tr> </lyte-exptable-thead> <lyte-exptable-tbody class="originalColumn lyteExpTableRowGroup" role="rowgroup"> <template is="for" items="{{ltPropContent}}" item="list" index="indexVal"> <lyte-exptable-tr id="{{list.id}}" class="originalColumn lyteExpTableRow {{list.class}}" role="row" aria-rowindex="{{indexVal}}"> <template is="for" items="{{tableHeader}}" item="header" index="index"> <lyte-exptable-td class="originalColumn lyteExpTableCell" role="cell" aria-colindex="{{index}}">{{unescape(lyteUiGetValue(list,header[ltPropBodyLabelKey]))}}</lyte-exptable-td> </template> </lyte-exptable-tr> </template> </lyte-exptable-tbody> </template><template case="false"> <lyte-yield class="lyteExpTableHeaderGroup" yield-name="headerYield" lt-prop-table-header="{{tableHeader}}" role="rowgroup"></lyte-yield> <lyte-yield class="lyteExpTableRowGroup" yield-name="contentYield" lt-prop-table-header="{{tableHeader}}" role="rowgroup"></lyte-yield> </template></template> </lyte-exptable> </div> </template></template> </div> </template></template> </div> </template>',_dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"insertYield",position:[1,1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]}},default:{}},{type:"attr",position:[1,3,1]},{type:"if",position:[1,3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]}},default:{}}]}},default:{}}]}},default:{}},{type:"attr",position:[2,1]},{type:"if",position:[2,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3,1]},{type:"for",position:[3,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]},{type:"attr",position:[3]},{type:"insertYield",position:[3]}]}},default:{}},{type:"componentDynamic",position:[1,1]}]}},default:{}},{type:"attr",position:[2,3]},{type:"if",position:[2,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3,1]},{type:"for",position:[3,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]},{type:"attr",position:[3]},{type:"insertYield",position:[3]}]}},default:{}},{type:"componentDynamic",position:[1,1]}]}},default:{}}]}},default:{}}],_observedAttributes:["ltPropHeader","ltPropContent","ltPropHeaderLabelKey","ltPropBodyLabelKey","ltPropYield","ltPropInfiniteScroll","ltPropYield","ltPropMinWidth","ltPropMaxWidth","ltPropFixedTableScroll","ltPropHeight","ltPropPreventWidth","ltPropColumnSortable","ltPropScrollStep","ltPropHeaderOnly","ltPropPreventTableModify","ltPropSortDummyColumClass","ltPropPreventContentObserver","ltPropStickyTable","ltPropCellTag","ltPropNavigation","ltPropFullYield","ltPropFixedResizeGap","ltPropTabIndex","ltPropDataTabIndex","ltPropAriaAttributes","ltPropRowViewPort","fixedTableHeader","fixedTableContent","tableHeader","tableContent","columns","minWidth1","minWidth2"],data:function(){return{ltPropHeader:Lyte.attr("array",{default:[]}),ltPropContent:Lyte.attr("array",{default:[]}),ltPropHeaderLabelKey:Lyte.attr("string",{default:""}),ltPropBodyLabelKey:Lyte.attr("string",{default:""}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropInfiniteScroll:Lyte.attr("boolean",{default:!1}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropMinWidth:Lyte.attr("string",{default:"50px"}),ltPropMaxWidth:Lyte.attr("string",{default:"1000px"}),ltPropFixedTableScroll:Lyte.attr("boolean",{default:!1}),ltPropHeight:Lyte.attr("string",{default:"auto"}),ltPropPreventWidth:Lyte.attr("boolean",{default:!1}),ltPropColumnSortable:Lyte.attr("boolean",{default:!1}),ltPropScrollStep:Lyte.attr("number",{default:10}),ltPropHeaderOnly:Lyte.attr("boolean",{default:!1}),ltPropPreventTableModify:Lyte.attr("boolean",{default:!1}),ltPropSortDummyColumClass:Lyte.attr("string",{default:""}),ltPropPreventContentObserver:Lyte.attr("boolean",{default:!1}),ltPropStickyTable:Lyte.attr("boolean"),ltPropCellTag:Lyte.attr("string",{default:"lyte-exptable-td"}),ltPropNavigation:Lyte.attr("boolean",{default:!1}),ltPropFullYield:Lyte.attr("boolean",{default:!1}),ltPropFixedResizeGap:Lyte.attr("string",{default:"100px"}),ltPropTabIndex:Lyte.attr("number",{default:0}),ltPropDataTabIndex:Lyte.attr("number",{default:0}),ltPropAriaAttributes:Lyte.attr("object",{default:{},watch:!0}),ltPropRowViewPort:Lyte.attr("boolean",{default:!1}),fixedTableHeader:Lyte.attr("array",{default:[]}),fixedTableContent:Lyte.attr("array",{default:[]}),tableHeader:Lyte.attr("array",{default:[]}),tableContent:Lyte.attr("array",{default:[]}),columns:Lyte.attr("array",{default:[]}),minWidth1:Lyte.attr("string",{default:""}),minWidth2:Lyte.attr("string",{default:""})}},didDestroy:function(){this.$node.fixRowHeight=null,this.$node.scrollTo=null,this.$node.setColumnWidth=null,clearTimeout(this._scrollTimeOut),null!=this._initProcessFrame&&window.cancelAnimationFrame(this._initProcessFrame),this._setmeasure&&$L.fastdom.clear(this._setmeasure),this._intersectionObs&&this._intersectionObs.disconnect(),this._intersections=[],delete this._intersectionObs,delete this._vertdiv,delete this._measure,delete this.scrollDiv,delete this.resizeComponent,delete this.targetElem},init:function(){var t=navigator.userAgent;if(this._dir=_lyteUiUtils.getRTL(),this.isIE11Lyte=/rv:11/gi.test(t),this.isEdgeLyte=/Edge/gi.test(t),this._scrollWidth=_lyteUiUtils.getScrollBarWidth(),this._verticalScrollWidth=this._scrollWidth,this._isSafari=/safari/gi.test(t),this._isIE=this.isIE11Lyte||this.isEdgeLyte,this._FF=/firefox/gi.test(navigator.userAgent),this._fixHeaderCount=0,this._tmpScrollTop=0,this._chrome=/Chrome/i.test(navigator.userAgent)&&/Google Inc/i.test(navigator.vendor),this._isNegative=_lyteUiUtils.isNegativeScroll(),!this._FF&&null==this.getData("ltPropStickyTable")){var e=document.createElement("th"),o="IntersectionObserver"in window;e.style.position="sticky","sticky"==e.style.position&&o?this.setData("ltPropStickyTable",!0):(e.style.position="-webkit-sticky","-webkit-sticky"==e.style.position&&o?this.setData("ltPropStickyTable",!0):this.setData("ltPropStickyTable",!1))}this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node),this.setTableHeader(),this.setData("tableContent",this.getData("ltPropContent"));this.getData("tableHeader"),this.getData("fixedTableHeader")},didConnect:function(){if(this.$node.contentObserver=this.callContentObs.bind(this),this.$node.fixRowHeight=function(t){this.getData("ltPropStickyTable")?this.setLeftForInterSection(!0):this.setFixTableRowHeight(t)}.bind(this),this.$node.fixColumn=function(t){this.getData("ltPropStickyTable")?this.setLeftForInterSection(!0):this.setFixTableColumnWidth(t)}.bind(this),this.$node.setColumnWidth=function(t){this.getData("ltPropStickyTable")?this.setLeftForInterSection(!0):this.setFixTableColumnWidth(t)}.bind(this),this.$node.setVisibleFixedHeader=function(){this.getData("ltPropStickyTable")?this.setLeftForInterSection(!0):this.setVisibleFixHeader()}.bind(this),this.$node.setHeaderWidth=function(){this.getData("ltPropStickyTable")?this.setLeftForInterSection(!0):this.fixHeaderHeight()}.bind(this),this.$node.reset=function(){this.setLeftForInterSection(!0)}.bind(this),this.$node.toggleRows=this.do_toggle_animation.bind(this),this._scrollDiv=this.$node.getElementsByClassName("lyteExpTableOrigTableInnerWrap")[0],this.getData("ltPropHeader").length>=1){if(this.getData("ltPropStickyTable")){this.$node.getElementsByClassName("lyteExpTableWrapper")[0].classList.add("lyteExpStickyTable");var t=this.$node.getElementsByClassName("lyteExpTableOrigTableInnerWrap")[0];this.registerInterSection(t),this.setLeftForInterSection(!0),"auto"!=this.getData("ltPropHeight")&&(this.$node.style.height=this.getData("ltPropHeight")),this._originalDiv=this.$node.getElementsByClassName("lyteExpTableOrigTableInnerWrap")[0],this._originalTable=this.$node.getElementsByClassName("lyteExpOriginalTable")[0],this.setWidth()}else this.initProcess();this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node)}if(this.$node.scrollTo=function(t,e,o){this._scrolled=!0,null!=t&&(this._originalDiv.scrollLeft=t),null!=e&&(this._originalDiv.scrollTop=e),this._scrolled&&(clearTimeout(this._scrollTimeOut),this._scrollTimeOut=setTimeout(function(){this.scrollFunc(o,t,e,!0)}.bind(this),20)),delete this._scrolled}.bind(this),this.getData("ltPropNavigation")&&!this.getData("ltPropStickyTable")){var e={beforeNavigation:this.beforeNavigationFunc.bind(this),afterNavigation:this.afterNavigationFunc.bind(this)};_lyteUiUtils.tableNavigation(this.$node.querySelector(".lyteExpTableWrapper"),e)}else this.getData("ltPropNavigation")&&_lyteUiUtils.tableNavigation(this.$node.querySelector(".lyteExpOriginalTable"))},ariaObserver:function(t){_lyteUiUtils.setAttribute(this.$node.querySelector(".lyteExpTableWrapper"),this.getData("ltPropAriaAttributes")||{},{})}.observes("ltPropAriaAttributes").on("didConnect"),beforeNavigationFunc:function(t){if(!this.$node.querySelector("lyte-exptable.lyteExpOriginalTable").contains(t)){this._oriwrap=this._oriwrap||this.$node.getElementsByClassName("lyteExpTableOrigTableInnerWrap")[0];var e=Array.from(t.parentNode.children).indexOf(t),o=Array.from(this._oriwrap.querySelectorAll("lyte-exptable-th.lyteFixedColumn"))[e];if(o){var i=this._oriwrap.getElementsByTagName("lyte-exptable-tr")[0],l=Array.from(this.$node.getElementsByClassName("lyteExpTableFixedColWrapper")[0].querySelectorAll("lyte-exptable-tr")).indexOf(t.parentNode),a=Array.from(i.children).indexOf(o);return this._oriwrap.getElementsByTagName("lyte-exptable-tr")[l].children[a]}}return t},afterNavigationFunc:function(t,e){this._oriwrap=this._oriwrap||this.$node.getElementsByClassName("lyteExpTableOrigTableInnerWrap")[0];var o=Array.from(t.parentNode.children).indexOf(t),i=this._oriwrap.getElementsByTagName("lyte-exptable-tr")[0],l=Array.from(i.children)[o],a=Array.from(this._oriwrap.querySelectorAll("lyte-exptable-th.lyteFixedColumn")).indexOf(l);if(this._fixHeaderCount-1>=a){var s=this.$node.getElementsByClassName("lyteExpTableFixedColWrapper")[0],r=Array.from(this._oriwrap.querySelectorAll("lyte-exptable-tr")).indexOf(t.parentNode);return s.querySelectorAll("lyte-exptable-tr")[r].children[a]}return t},initProcess:function(){var t=this.$node.getElementsByClassName("lyteExpTableOrigTableInnerWrap")[0],e=this._FF;this._originalDiv=t,this._oHeader=this.$node.getElementsByClassName("lyteExpTableFakeColHeader")[0],this._headerDiv=this.$node.getElementsByClassName("lyteExpTableFakeHeaderWrapper")[0],this._originalTable=this.$node.getElementsByClassName("lyteExpOriginalTable")[0],this._fakeOriginalHeader=this.$node.getElementsByClassName("lyteExpTableFakeColHeaderWrapper")[0];var o=this._colwrap||this.$node.getElementsByClassName("lyteExpTableFixedColWrapper")[0],i=this.getData("ltPropHeight");this._scrollWidth;"auto"!=i&&(this.$node.style.height=this.getData("ltPropHeight")),$L.fastdom.measure(function(){var i=this._dir?"left":"right";this._startScrollLeft=e?0:t.scrollLeft,this.setScrollWidth(!0);this._originalDiv.getBoundingClientRect().height;this._resizeScrollLeft=t.scrollLeft,$L.fastdom.mutate(function(){this._headerDiv.style[i]=this._verticalScrollWidth+"px",t.offsetWidth!=t.scrollWidth&&(o.style.height="calc(100% - "+this._scrollWidth+"px)")}.bind(this))}.bind(this)),this.setFixTableColumnWidth(),this.setWidth(),this._prevScollLeft=0,null!=this._initProcessFrame&&window.cancelAnimationFrame(this._initProcessFrame),this._initProcessFrame=window.requestAnimationFrame(function(){this.setVisibleFixHeader(),delete this._initProcessFrame}.bind(this))},setFixedTable:function(){for(var t=(this._originalTable||this.$node.getElementsByClassName("lyteExpOriginalTable")[0]).getElementsByTagName("lyte-exptable-th"),e=this.getData("ltPropHeader"),o=[],i=0;i<e.length;i++)e[i].fixed&&"enable"==e[i].fixed&&0!=t[i].offsetWidth&&Lyte.arrayUtils(o,"push",e[i]);this.setData("fixedTableHeader",o),this.setData("fixedTableContent",this.setData("ltPropContent"))},setTableHeader:function(){for(var t=[],e=this.getData("ltPropHeader"),o=[],i=0;i<e.length;++i)t[i]=e[i],!this.getData("ltPropStickyTable")&&t[i].fixed&&"enable"==t[i].fixed&&Lyte.arrayUtils(o,"push",t[i]);this.setData("tableHeader",t),this.getData("ltPropStickyTable")||this.setData("fixedTableHeader",o)},setWidth:function(){var t=this._originalDiv.getElementsByTagName("lyte-exptable-th"),e=[];$L.fastdom.measure(function(){for(var o=0;o<t.length;++o){var i=t[o].getBoundingClientRect().width;e[o]={},i,e[o].width=i}}.bind(this)),this._widthList=e},setScrollWidth:function(t){if(this._oriwrap=this._oriwrap||this.$node.getElementsByClassName("lyteExpTableOrigTableInnerWrap")[0],this._oriwrap){var e=this._scrollWidth;this._scrollWidth;this._oriwrap.scrollHeight<=this._oriwrap.offsetHeight?(this._verticalScrollWidth=0,e=0):(this._verticalScrollWidth=this._scrollWidth,e=this._scrollWidth),t||$L.fastdom.measure(function(){var t=this._dir?"left":"right";$L.fastdom.mutate(function(){this._headerDiv.style[t]=e+"px"}.bind(this))}.bind(this))}},fixHeaderHeight:function(){this.getData("tableHeader"),this.getData("fixedTableHeader");var t=this._oHeader.getElementsByTagName("lyte-exptable-th"),e=this._originalDiv.getElementsByTagName("lyte-exptable-th"),o=(this._colwrap||this.$node.getElementsByClassName("lyteExpTableFixedColWrapper")[0],[]),i=0,l=0;""!=(this._originalTable||this.$node.getElementsByClassName("lyteExpOriginalTable")[0]).style.width&&this.getData("ltPropPreventWidth")?this.setFixedTableWidth():$L.fastdom.measure(function(){for(var a=0;a<t.length;++a)o[a]=this.getData("ltPropPreventWidth")&&e[a].style.width?parseInt(e[a].style.width):e[a].getBoundingClientRect().width;$L.fastdom.mutate(function(){this.getData("tableHeader"),this.getData("fixedTableHeader");var t=this._oHeader.getElementsByTagName("lyte-exptable-th"),e=this._originalDiv.getElementsByTagName("lyte-exptable-th"),a=this._colwrap||this.$node.getElementsByClassName("lyteExpTableFixedColWrapper")[0];this._fixedDivWrap=this._fixedDivWrap||this.$node.getElementsByClassName("lyteExpTableFixedColHeader")[0];a.getElementsByTagName("lyte-exptable-tr");for(var s=[],r=this.$node.getElementsByClassName("lyteExpTableFixedColHeader")[0],n=r.getElementsByTagName("lyte-exptable-th"),d=a.getElementsByTagName("lyte-exptable-th"),p=0;p<t.length;++p)this.getData("ltPropPreventWidth")||(t[p].style.width=o[p]+"px",e[p].style.width=o[p]+"px"),i+=o[p],e[p].classList.contains("lyteFixedColumn")&&(l+=o[p]);if(this._fixedSum=l,(this._originalTable||this.$node.getElementsByClassName("lyteExpOriginalTable")[0]).style.width=i+"px",this._fakeOriginalHeader.style.width=i+"px",e)for(var h=0;h<e.length;h++)e[h].classList.contains("lyteFixedColumn")&&s.push(e[h]);i=0;for(p=0;p<this._fixHeaderCount;++p){var c=this.getIndex(s[p]);i+=o[c],this.getData("ltPropPreventWidth")||(n[p].style.width=o[c]+"px",d[p].style.width=o[c]+"px")}a.style.width=i+"px",this._fixedDivWrap.style.width=a.style.width,this._fHeader=r,this._fthList=a.getElementsByClassName("lyteExpTableHeaderGroup")[0],this._setHeight=!0,0==this._fixHeaderCount&&(a.style.width="0px",delete this._setHeight,delete this._fHeader,delete this._fthList)}.bind(this))}.bind(this))},setFixedTableWidth:function(){this.getData("tableHeader"),this.getData("fixedTableHeader"),this._oHeader.getElementsByTagName("lyte-exptable-th");var t=this._originalDiv.getElementsByTagName("lyte-exptable-th"),e=this._colwrap||this.$node.getElementsByClassName("lyteExpTableFixedColWrapper")[0];this._fixedDivWrap=this._fixedDivWrap||this.$node.getElementsByClassName("lyteExpTableFixedColHeader")[0];e.getElementsByTagName("lyte-exptable-tr");var o=[],i=this.$node.getElementsByClassName("lyteExpTableFixedColHeader")[0];i.getElementsByTagName("lyte-exptable-th"),e.getElementsByTagName("lyte-exptable-th");if(t)for(var l=0;l<t.length;l++)t[l].classList.contains("lyteFixedColumn")&&o.push(t[l]);for(var a=0,s=0;s<this._fixHeaderCount;++s){var r=this.getIndex(o[s]);a+=t[r].style.width?parseInt(t[r].style.width):t[r].getBoundingClientRect().width}e.style.width=a+"px",this._fixedDivWrap.style.width=e.style.width,this._fHeader=i,this._fthList=e.getElementsByClassName("lyteExpTableHeaderGroup")[0],this._setHeight=!0,0==this._fixHeaderCount&&(e.style.width="0px",delete this._setHeight,delete this._fHeader,delete this._fthList)},setFixTableRowHeight:function(t){var e,o=(this._colwrap||this.$node.getElementsByClassName("lyteExpTableFixedColWrapper")[0]).getElementsByTagName("lyte-exptable-tr"),i=this._originalDiv.getElementsByTagName("lyte-exptable-tr"),l=[],a=this,s=this.$node.getElementsByClassName("lyteExpTableFixedColHeader")[0].getElementsByTagName("lyte-exptable-tr")[0];!t||1!==t.nodeType&&isNaN(t)?($L.fastdom.measure((function(){if(a.$node)for(var t=0;t<i.length;t++)l.push(i[t].getBoundingClientRect().height+"px"),i[t]._relatedRow=o[t],o[t]._relatedRow=i[t]})),$L.fastdom.mutate((function(){if(a.$node){for(var t=0;t<i.length;t++)o[t].style.height=l[t];i.length>0&&s&&(s.style.height=l[0]),a.getMethods("afterSetFixTableRowHeight")&&a.executeMethod("afterSetFixTableRowHeight",a.$node)}}))):(e=1===t.nodeType?Array.from(i).indexOf(t):t,a.getMethods("beforeSetFixTableRowHeight")&&a.executeMethod("beforeSetFixTableRowHeight",a.$node),$L.fastdom.measure((function(){a.$node&&(l=i[e].getBoundingClientRect().height+"px",i[e]._relatedRow=o[e],o[e]._relatedRow=i[e])})),$L.fastdom.mutate((function(){a.$node&&(o[e].style.height=l)})))},setFixTableColumnWidth:function(t){var e,o=(this._oHeader||this.$node.getElementsByClassName("lyteExpTableFakeColHeader")[0]).getElementsByTagName("lyte-exptable-th"),i=this._originalDiv.getElementsByTagName("lyte-exptable-th"),l=this;if(this._originalTable&&(this._originalTable=this.$node.getElementsByClassName("lyteExpOriginalTable")[0]),this._originalTable.style.removeProperty("width"),this._fakeOriginalHeader.style.removeProperty("width"),null==t||1!==t.nodeType&&isNaN(t)){if(!l.$node)return;l.getMethods("beforeSetFixTableColumnWidth")&&l.executeMethod("beforeSetFixTableColumnWidth",l.$node),t||(l.fixHeaderHeight(),$L.fastdom.measure((function(){$L.fastdom.mutate((function(){l.getMethods("afterSetFixTableColumnWidth")&&l.executeMethod("afterSetFixTableColumnWidth",l.$node)}))})))}else e=1===t.nodeType?this.getIndex(t):t,$L.fastdom.mutate((function(){if(l.$node){if(l._widthList&&(i[e].style.width=l._widthList[e].width+"px",o[e].style.width=l._widthList[e].width+"px"),$L(i[e]).hasClass("lyteFixedColumn")&&(ofthList=l._originalDiv.getElementsByClassName("lyteFixedColumn"),fColIndex=Array.from(ofthList).indexOf(i[e]),l._fixHeaderCount>=0)){var t=l._colwrap||l.$node.getElementsByClassName("lyteExpTableFixedColWrapper")[0];fixothList=t.getElementsByTagName("lyte-exptable-th");var a=fixothList[fColIndex].style.width;fixothList[fColIndex].style.width=l._widthList[e].width+"px",_fcolwrap=l.$node.getElementsByClassName("lyteExpTableFixedColHeader")[0],ffixothList=_fcolwrap.getElementsByTagName("lyte-exptable-th"),ffixothList[fColIndex].style.width=l._widthList[e].width+"px";var s=parseInt(t.style.width)-(parseInt(a)-l._widthList[e].width);t.style.width=s+"px",_fcolwrap.style.width=s+"px"}s=l._originalTable.getBoundingClientRect().width;l._originalTable.style.width=s+"px",l._fakeOriginalHeader.style.width=s+"px"}}))},setVisibleFixHeader:function(){for(var t=this.$node.getElementsByClassName("lyteExpTableFixedColHeader")[0].getElementsByTagName("lyte-exptable-th"),e=this._fixHeaderCount,o=this.$node.getElementsByClassName("lyteExpTableFakeColHeaderWrapper")[0].getElementsByClassName("lyteFixedColumn"),i=this.$node,l=0;l<t.length;l++)l+1<=e?(t[l].classList.remove("lyteFixHeaderDisplayNone"),t[l].style.width=o[l].style.width):t[l].classList.add("lyteFixHeaderDisplayNone");e=this._fixHeaderCount;var a=this.$node.getElementsByClassName("lyteExpTableFixedColTable")[0].getElementsByTagName("lyte-exptable-tr");for(l=a.length-1;l>=0;l--)for(var s=a[l].getElementsByTagName(0==l?"lyte-exptable-th":this.data.ltPropCellTag),r=0;r<s.length;++r)r+1<=e?s[r].classList.remove("lyteFixHeaderDisplayNone"):0!=r&&s[r].classList.add("lyteFixHeaderDisplayNone");!this._elem&&this.setFixTableRowHeight(),0==e?!i.classList.contains("lyteExpTableNoShadow")&&i.classList.add("lyteExpTableNoShadow"):i.classList.contains("lyteExpTableNoShadow")&&i.classList.remove("lyteExpTableNoShadow")},callHeaderObs:function(){this.getData("ltPropStickyTable")?(this.setTableHeader(),this.setLeftForInterSection(!0)):(this.setTableHeader(),this._fixHeaderCount=0,this.setData("columns",[]),this.getData("ltPropHeader").length>=1&&this.initProcess(),delete this._widthList,this._oHeader.parentNode.style.transform="translateX(0)")},callContentObs:function(){if(this.getData("ltPropStickyTable"))this.setWidth(),this.setLeftForInterSection(!0);else{var t=this.getData("ltPropPreventContentObserver");delete this._widthList,t||this.setFixTableColumnWidth(),this.setFixTableRowHeight(),t||this.setWidth()}},headerObs:function(){this._prevent||this.callHeaderObs()}.observes("ltPropHeader.[]"),contentObs:function(){if(!this.getData("ltPropStickyTable")){if(this.data.ltPropPreventContentObserver)return;this.callContentObs()}}.observes("ltPropContent.[]"),HeightObs:function(){this.getData("ltPropHeight"),this._scrollWidth;this.$node.style.height=this.getData("ltPropHeight");var t=this._colwrap||this.$node.getElementsByClassName("lyteExpTableFixedColWrapper")[0];this.getData("ltPropStickyTable")||(this.setScrollWidth(),$L.fastdom.measure(function(){var e,o=this._originalDiv,i=this._elem?this.prevScollTop:i||o.scrollTop,l=this._elem?this._originalDiv._sL:l||o.scrollLeft,a=this._elem?this._sw:o.scrollWidth,s=this._elem?this._thisBccr.width:o.offsetWidth;null!=a&&null!=l&&null!=s&&(e=this.returntrans(l,s,a)),$L.fastdom.mutate(function(){this._oHeader&&(this._oHeader.parentNode.style.transform="translateX("+e+"px)"),t&&o.offsetWidth!=o.scrollWidth&&(t.style.height="calc(100% - "+this._scrollWidth+"px)")}.bind(this))}.bind(this)))}.observes("ltPropHeight"),fixedTableScrollObs:function(){if(!this.getData("ltPropStickyTable")){var t=this.$node.getElementsByClassName("lyteExpTableFixedColWrapper")[0];this.getData("ltPropFixedTableScroll")?t.style.overflow="":t.style.overflow="hidden"}}.observes("ltPropFixedTableScroll").on("didConnect"),getIndex:function(t){return Array.from(this._originalDiv.getElementsByTagName("lyte-exptable-th")).indexOf(t)},getIndexFromFake:function(t){if(this._oHeader)return Array.from(this._oHeader.getElementsByTagName("lyte-exptable-th")).indexOf(t)},composePath:function(t){for(var e=[],o=t.target.correspondingElement||t.target;o&&"HTML"!=o.tagName;)e.push(o),o=o.parentNode;return e},rtlfunc:function(t,e,o){if(this._dir&&"top"!=t&&"clientY"!=t){if(e)return"right"==t?o-e.left:"clientX"==t?o-e.clientX:o-e.right;if("left"==t)return"right";if("right"==t)return"left"}return e?e[t]:t},getPreviousOffset:function(t){for(;t.previousElementSibling;){var e=t.previousElementSibling,o=e.getBoundingClientRect();if(0!=e.width)return o;t=t.previousElementSibling}},scrollCheck:function(t,e,o){this._colwrap=this._colwrap||this.$node.getElementsByClassName("lyteExpTableFixedColWrapper")[0],this._oriwrap=this._oriwrap||this.$node.getElementsByClassName("lyteExpTableOrigTableInnerWrap")[0],this._tableWrp=this._tableWrp||this.$node.getElementsByClassName("lyteExpTableOrigTableWrapper")[0],this._fixedDivWrap=this._fixedDivWrap||this.$node.getElementsByClassName("lyteExpTableFixedColHeader")[0];var i=this._colwrap.getElementsByClassName("lyteFixedColumn"),l=this._oriwrap.getElementsByClassName("lyteFixedColumn")||[],a=this._tableWrp.getBoundingClientRect(),s=window.innerWidth;if(e!=this._prevScrollLeft||o){for(var r=this.getData("columns"),n=(this.getData("tableHeader"),this.data.ltPropFixedColumnClass,0),d=0;d<i.length;d++)i[d]._off=i[d].getBoundingClientRect(),l[d]._off=l[d].getBoundingClientRect();for(var p=0;p<r.length;p++)n+=r[p]._off.width;this._fixHeaderCount;var h=[],c=this._colwrap;this._fthList||(this._fthList=c.getElementsByClassName("lyteExpTableHeaderGroup")[0]),this._fthList&&(c.scrollTop=t);for(d=r.length;d<i.length;d++){var f=l[d];if(!this._elem||Array.apply(Array,f.parentNode.children).indexOf(f)!=this._index)if(0==f._off.width&&d+1<l.length&&Math.round(this.rtlfunc("left",l[d+1]._off,s)-this.rtlfunc("left",a,s))<n)r.push(i[d]),c.style.width=parseFloat(c.style.width)+l[d]._off.width+"px",n+=l[d]._off.width,this._fixHeaderCount++,this.setVisibleFixHeader(),h.push(d);else{if(!(0!=f._off.width&&Math.round(this.rtlfunc("left",f._off,s)-this.rtlfunc("left",a,s))<n))break;r.push(i[d]),c.style.width=parseFloat(c.style.width)+l[d]._off.width+"px",n+=l[d]._off.width,this._fixHeaderCount++,this.setVisibleFixHeader(),h.push(d)}}for(var m=r.length-1;m>=0;m--)if(-1==h.indexOf(m))if(0==r[m]._off.width&&m-1>=0&&this.rtlfunc("right",r[m-1]._off,s)<=this.rtlfunc("right",l[m-1]._off,s)+(this._isIE?2:0))c.style.width=parseFloat(c.style.width)-l[m]._off.width+"px",this._fixHeaderCount--,this.setVisibleFixHeader(),Lyte.arrayUtils(r,"removeAt",m);else if(0!=r[m]._off.width&&this.rtlfunc("right",r[m]._off,s)<=this.rtlfunc("right",l[m]._off,s)+(this._isIE?2:0)){for(var u=r.length-1;u>=m;u--)c.style.width=parseFloat(c.style.width)-l[u]._off.width+"px",this._fixedDivWrap.style.width=c.style.width,this._fixHeaderCount--,Lyte.arrayUtils(r,"removeAt",u);this.setVisibleFixHeader()}}this.prevScollTop=t,this._prevScrollLeft=e},hideTempHeader:function(t){$L.fastdom.measure(function(){var e=this._colwrap||this.$node.getElementsByClassName("lyteExpTableFixedColWrapper")[0],o=e.scrollTop,i=this._originalDiv.scrollTop;$L.fastdom.mutate(function(){this.getData("ltPropFixedTableScroll")&&(t?e.scrollTop=i:this._originalDiv.scrollTop=o)}.bind(this))}.bind(this)),clearTimeout(this._scrollY),delete this._scrollY},scrollF:function(t,e,o){this.scrollCheck(t,e,o)},verticalScroll:function(t,e){clearTimeout(this._scrollY),this._scrollY=setTimeout(this.hideTempHeader.bind(this,e),200)},fixedScroll:function(t){if(!this.getData("ltPropStickyTable"))if(this._parentScroll)delete this._parentScroll;else{var e=(this._colwrap||this.$node.getElementsByClassName("lyteExpTableFixedColWrapper")[0]).scrollTop,o=this._originalDiv.scrollLeft;if(e!=this.prevScollTop){if(this.getData("ltPropFixedTableScroll"))this._originalDiv.scrollTop=e;o=this._dir?this._startScrollLeft-o:-o,this.prevScollTop=e,clearTimeout(this._fixedscrollY),this.setTranslate=this.setTranslate.bind(this),this._fixedscrollY=setTimeout(this.setTranslate,200)}}},setTranslate:function(){this._originalDiv.scrollTop;clearTimeout(this._fixedscrollY),delete this._fixedscrollY},minWidth:function(t,e){var o=getComputedStyle(t,null).getPropertyValue("min-width"),i=t.style.width;t.style.width="0px"==o?"50px":o,o=t.offsetWidth+"px",t.style.width=i,this.setData(e,o)},arrayFrom:function(t){for(var e=[],o=0;o<t.length;o++)e.push(t[o]);return e.slice()},closestFind:function(t,e){for(var o=this.arrayFrom.call(this,document.querySelectorAll(e)),i=0;i<t.length;i++)if(-1!=Array.prototype.indexOf.call(o,t[i]))return t[i];return null},elementsFromPointCal:function(t,e){for(var o=[],i=document.elementFromPoint(t,e);i!=document&&i!=document.documentElement&&i!=document.body&&i!=this.$node;)i.style.pointerEvents="none",o.push(i),i=document.elementFromPoint(t,e);for(var l=0;l<o.length;l++)o[l].style.pointerEvents="initial";return o},setLeftDuringResize:function(t,e){var o=this._originalTable.getElementsByTagName("lyte-exptable-tr"),i=this.getIndex(e);if(e.classList.contains("lyteFixedColumn")){var l=this,a="lyte-exptable-th";Array.from(o).forEach((function(e,o){o&&(a=l.data.ltPropCellTag);var s=0;Array.from(e.getElementsByTagName(a)).forEach((function(e){var o,l;s>i&&(o=e,(l=$L(o)).hasClass("lyteFixedColumn")&&l.css("left",parseFloat(o.style.left)+t+"px")),s+=e.colSpan||1}))}))}},resizeFunc:function(t){var e="touchmove"==t.type,o=t;if(!e||1==t.touches.length){e&&(o=o.touches[0]);var i,l,a=document.Component,s=window.innerWidth,r=a.resizeComponent,n=a.rtlfunc("clientX",o,s),d=n-r.offLeft,p=parseFloat(r.style.width),h=a._originalResizeHead,c=(a._originalDiv.scrollLeft,a.$node.getBoundingClientRect().width),f=0,m=-1;if(a._isResizeMoved||(a.hideRows(a._thisBccr),a._isResizeMoved=!0),!a.data.ltPropStickyTable&&$L(h).hasClass("lyteFixedColumn")){a.getIndex(h);var u=a._originalDiv.getElementsByTagName("lyte-exptable-th"),y=(a._colwrap||a.$node.getElementsByClassName("lyteExpTableFixedColWrapper")[0]).getElementsByTagName("lyte-exptable-th"),g=u.length;a._fixedDivWrap=a._fixedDivWrap||a.$node.getElementsByClassName("lyteExpTableFixedColHeader")[0];for(var v=0;v<g;v++){var P=u[v];(L=$L(P)).hasClass("lyteFixedColumn")&&(P==h?(m=f,i=y[f],l=a._fixedDivWrap.getElementsByClassName("lyteFixedColumn")[f]):f++)}}if("LYTE-EXPTABLE-TH"==r.tagName&&d){var b,x=d+p,L=$L(r),_=!i||$L(i).hasClass("lyteFixHeaderDisplayNone"),w=L.hasClass("lyteFixedColumn"),D=Math.ceil(parseFloat(a.getData("minWidth1")));Math.ceil(parseFloat(a.getData("minWidth2")));if(a._originalTable&&(b=(a._originalTable.style.width?parseFloat(a._originalTable.style.width):a._originalTable.getBoundingClientRect().width)+d),!a._dir&&d<0&&t.clientX-r.getBoundingClientRect().left<D||a._dir&&r.getBoundingClientRect().right-t.clientX<D)return;if(_&&(w&&a._fixedSum+d<c-parseInt(a.getData("ltPropFixedResizeGap"))||!w)&&x>=D){if(a.oriTab&&(a.oriTab.style.width=parseFloat(a.oriTab.style.width)+d+"px"),L.css("width",x+"px"),a.data.ltPropStickyTable&&a.setLeftDuringResize(d,r),w&&(a._fixedSum+=d),a._dir){var C=navigator.userAgent.toLowerCase();window.chrome,navigator.vendor,window.opr,/edge/i.test(C)}$L(a._originalTable).css("width",b),a._fakeOriginalHeader&&$L(a._fakeOriginalHeader).css("width",parseFloat(a._fakeOriginalHeader.style.width||a._originalTable.getBoundingClientRect().width)+d+"px"),$L(h).css("width",x),-1!=m&&(i&&$L(i).css("width",x),l&&$L(l).css("width",x))}n>Math.max(a.rtlfunc("left",a._thisBccr,s),0)&&n<Math.min(a.rtlfunc("right",a._thisBccr,s),s)&&(window.cancelAnimationFrame(a._reqId),delete a._reqId),r.offLeft=n,h&&(h.offLeft=n)}a.horiScrollResize(o,s),t.preventDefault(),t.stopPropagation()}},mouseup:function(t){var e="touchend"==t.type,o=document.Component,i=o.resizeComponent;if(delete document.Component,delete o.oriTab,o._resizeMeasure&&($L.fastdom.clear(o._resizeMeasure),delete o._resizeMeasure),document.removeEventListener(e?"touchend":"mouseup",o.mouseup),document.removeEventListener(e?"touchmove":"mousemove",o.resizeFunc),i.classList.remove("resizeSelect"),o.$node.classList.remove("lyteExpTableResizing"),o._isResizeMoved&&($L(".lyteExpTableHide",o.$node).removeClass("lyteExpTableHide"),$L("lyte-exptable-tr.notModified",o.$node).css("transform","").removeClass("notModified"),delete o._isResizeMoved,o.getData("ltPropStickyTable")||o.setFixTableRowHeight(),o._originalDiv.scrollTop=o._scrolltoMaintain,o._scrollLeftToSet&&(o._originalDiv.scrollLeft=o._scrollLeftToSet),!0),null!=o._tlayout){var l=o.$node.getElementsByClassName("lyteExpOriginalTable")[0];l.style.tableLayout=o._tlayout,l.style.maxWidth="",l.style.maxHeight="",delete o._tlayout}delete o._scrolltoMaintain,delete o._cellshidden,delete o._preventscroll,delete o._scrollLeftToSet,o.getData("ltPropStickyTable")&&o.setLeftForInterSection(),delete document.Component,delete o.oriTab,delete o._thisBccr,delete o._originalResizeHead,o.getMethods("onResizeEnd")&&o.executeMethod("onResizeEnd",i,o.$node),window.cancelAnimationFrame(o._reqId),delete o._reqId,t.stopPropagation()},horiScrollResize:function(t,e){var o,i,l,a=this.rtlfunc.call(this,"left"),s=this.isIE11Lyte||this.isEdgeLyte;if(/mousemove|touchmove/i.test(t.type)&&(o=!0),o){if(this._reqId)return;i=this.rtlfunc.call(this,"clientX",t,e)>Math.min(this.rtlfunc.call(this,"right",this._thisBccr,e),e-2),l=this.rtlfunc.call(this,"clientX",t,e)<=Math.max(0,this.rtlfunc("left",this._thisBccr,innerWidth))}else i=parseFloat(t.style[a])-this._xxoff+parseFloat(t.style.width)>=this.rtlfunc("right",this._thisBccr,e)-1,l=parseFloat(t.style[a])-this._xxoff+parseFloat(t.style.width)>=this.rtlfunc("right",this._thisBccr,e)-1;i?(this._originalDiv.scrollLeft+=2*(this._dir?-1*(s?-1:1):1),o&&(this.resizeComponent.offLeft-=2,this._originalResizeHead&&(this._originalResizeHead.offLeft-=2)),this._reqId=window.requestAnimationFrame(function(){delete this._reqId,delete this._scrollLeftToSet,this.horiScrollResize(t,e),this._cellshidden&&(delete this._cellshidden,window.requestAnimationFrame(function(){this.$node&&$L("lyte-exptable-tr.notModified .lyteExpTableHide",this.$node).removeClass("lyteExpTableHide")}.bind(this)))}.bind(this))):l?(o&&(this.resizeComponent.offLeft+=2,this._originalResizeHead&&(this._originalResizeHead.offLeft+=2)),this._originalDiv.scrollLeft-=2*(this._dir?-1*(s?-1:1):1),this._reqId=window.requestAnimationFrame(function(){delete this._reqId,delete this._scrollLeftToSet,this.horiScrollResize(t,e)}.bind(this))):(window.cancelAnimationFrame(this._reqId),delete this._prevent)},setWidthForOriginalHeader:function(){this._originalTable=this._originalTable||this.$node.getElementsByClassName("lyteExpOriginalTable")[0];var t=Array.from(this._originalTable.getElementsByTagName("lyte-exptable-th")),e=[];t.forEach((function(t){e.push(t.getBoundingClientRect().width+"px")})),t.forEach((function(t,o){t.style.width=e[o]}))},scrollFunc:function(t,e,o,i){if(this.getData("ltPropStickyTable"))this.stickyScroll(t);else if(!(this._elem&&t&&"scroll"==t.type||this._preventscroll)){delete this._scrolled;var l=this._originalDiv,a=(o=this._elem?this.prevScollTop:o||l.scrollTop,e=this._elem?this._originalDiv._sL:e||l.scrollLeft,this._elem?this._sw:l.scrollWidth),s=this._elem?this._thisBccr.width:l.offsetWidth;if((o!=this.prevScollTop||i&&!this._elem)&&($L.fastdom.mutate(function(){this.getData("ltPropFixedTableScroll")&&((this._colwrap||this.$node.getElementsByClassName("lyteExpTableFixedColWrapper")[0]).scrollTop=o)}.bind(this)),this.verticalScroll(e,!0),this.prevScollTop=o,this._parentScroll=!0),e!=this._prevScollLeft||i){this.scrollF(o,e,i),this._prevScollLeft=e;var r=this.returntrans(e,s,a);this._elem?this.getData("ltPropPreventWidth")?this.setFixedTableWidth():this._FF&&this.fixHeaderHeight():this.getData("ltPropPreventWidth")?this.setFixedTableWidth():this.fixHeaderHeight(),$L.fastdom.mutate(function(){this._oHeader.parentNode.style.transform="translateX("+r+"px)"}.bind(this))}}},actions:{scroll:function(t,e,o,i){this.scrollFunc(t,e,o,i)},tableResize:function(t){var e="touchstart"==t.type,o=t;if(!this._resizeMeasure){if(e){if(o.touches.length>1)return;o=o.touches[0]}var i=o.target.parentNode,l=window.innerWidth;this.getData("ltPropStickyTable")?(a=this.getIndex(i),s=this.getIndex(i.nextElementSibling)):(this._oHeader.getElementsByTagName("lyte-exptable-th"),a=this.getIndexFromFake(i),s=this.getIndexFromFake(i.nextElementSibling));var a,s,r=this._originalDiv.getElementsByTagName("lyte-exptable-th"),n=this.$node.getElementsByClassName("lyteExpOriginalTable")[0],d=n.style.maxWidth,p=n.style.maxHeight,h=r[a],c=r[s],f=i.getBoundingClientRect(),m=c?c.getBoundingClientRect():{},u=$L(h).closest("lyte-exptable").get(0),y="fixed"==getComputedStyle(u).tableLayout,g=getComputedStyle(h),v=c?getComputedStyle(c):{},P=this._originalDiv.scrollLeft,b=this.getData("ltPropStickyTable")&&""==n.style.width?n.getBoundingClientRect().width:void 0;a>=0&&(this._originalResizeHead=r[a]),s>=0&&(this._originalNextResize=r[s]),document.Component=this,this.resizeComponent=i,this.targetElem=o.target,this._preventscroll=!0,this._thisBccr=this.$node.getBoundingClientRect(),this.getMethods("onResizeSelect")&&this.executeMethod("onResizeSelect",i,t,this.$node),this.getData("ltPropStickyTable")&&""==h.style.width&&this.setWidthForOriginalHeader(),b&&(n.style.width=b+"px");var x=n.style.tableLayout;i.offLeft=f.width+this.rtlfunc.call(this,"left",f,l),i.offTop=o.clientY,this._tlayout=x,n.style.tableLayout="auto",n.style.maxWidth=0,n.style.maxHeight=0,this._resizeMeasure=$L.fastdom.measure((function(){var t=h.getBoundingClientRect(),o=c?c.getBoundingClientRect():{width:1/0};delete this._resizeMeasure,$L.fastdom.mutate((function(){if(i.classList.add("resizeSelect"),this.$node.classList.add("lyteExpTableResizing"),this.data.minWidth1=Math.min(t.width,f.width),this.data.minWidth2=Math.min(o.width,m.width||0),y){var l=-1!=(g.minWidth||"").indexOf("px")?parseFloat(g.minWidth):NaN,a=-1!=(v.minWidth||"").indexOf("px")?parseFloat(v.minWidth):NaN;isNaN(l)||(this.data.minWidth1=y?l:Math.max(this.data.minWidth1,l)),isNaN(a)||(this.data.minWidth2=y?a:Math.max(this.data.minWidth2,a))}n.style.maxWidth=d,n.style.maxHeight=p,n.style.tableLayout=x,document.addEventListener(e?"touchmove":"mousemove",this.resizeFunc),delete this._preventscroll,delete this._tlayout,this._originalDiv.scrollLeft=P}),this)}),this),document.addEventListener(e?"touchend":"mouseup",this.mouseup),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()}},fixedColScroll:function(t){return this.fixedScroll(t),!1},fixedColWheel:function(t){var e="touchmove"==t.type;if(!(e&&t.touches.length>1)){var o=e?this.getTouch(t.touches[0]):this.getWheel(t);if(o){var i=this._originalDiv,l=i.scrollLeft,a=i.scrollWidth,s=i.clientWidth;(o=this.toPrevent(l,a,s,o))&&(i.scrollLeft=l+o,t.preventDefault())}return!1}}},toPrevent:function(t,e,o,i){var l=e-o,a=0,s=t+i;return this._dir&&(this._FF||this._isSafari&&!this._chrome)&&(l=0,a=o-e),i=Math.max(Math.min(l,s),a)-t},getTouch:function(t){this._touchend||(this._touchend=this.touchend.bind(this),document.addEventListener("touchend",this._touchend,!0));var e=t.clientX,o=t.clientY,i=(null==this._prevTouchX?e:this._prevTouchX)-e,l=(null==this._prevTouchY?o:this._prevTouchY)-o;if(this._prevTouchX=e,this._prevTouchY=o,Math.abs(i)>=Math.abs(l))return i},touchend:function(){document.removeEventListener("touchend",this._touchend,!0),delete this._touchend,delete this._prevTouchX,delete this._prevTouchY},getWheel:function(t){var e=t.deltaMode&&1==t.deltaMode,o=0,i=1;if(Math.abs(t.deltaX||0)>=Math.abs(t.deltaY||0))return o=e?6*t.deltaX:t.deltaX,/edge|trident|msie/i.test(navigator.userAgent)&&this._dir&&(i=-1),o*i},hideRows:function(t){var e,o,i,l=Array.from(this._originalDiv.getElementsByTagName("lyte-exptable-tr")),a=[],s=this._originalDiv.scrollTop,r=0,n=Math.max(t.top+l[0].getBoundingClientRect().height,-10),d=Math.min(window.innerHeight+10,t.bottom),p=[],h=this.getData("ltPropStickyTable");this._scrollLeftToSet=this._originalDiv.scrollLeft,h||(e=Array.from((this._colwrap||this.$node.getElementsByClassName("lyteExpTableFixedColWrapper")[0]).getElementsByTagName("lyte-exptable-tr")));for(var c=1;c<l.length;c++){var f=l[c],m=f.getBoundingClientRect();if(m.bottom<n)a.push(f),h||a.push(e[c]),r+=m.height;else{if(m.top>d){Lyte.arrayUtils(p,"push",l.slice(c,c+10)),Lyte.arrayUtils(a,"push",l.splice(c+10)),h||(Lyte.arrayUtils(p,"push",e.slice(c,c+10)),Lyte.arrayUtils(a,"push",e.splice(c+10)));break}p.push(f),h||p.push(e[c])}}return i=[],o=s-r,this._originalDiv.scrollTop=0,a.forEach((function(t){t.classList.add("lyteExpTableHide")})),p.forEach((function(t){t.classList.add("notModified"),t.style.transform="translateY(-"+o+"px)"})),this._scrolltoMaintain=s,i},returntrans:function(t,e,o){return this._isIE?t*(this._dir?1:-1):this._dir?this._chrome&&!this._isNegative?o-e-t+this._verticalScrollWidth:this._startScrollLeft-t:-t},bindingEvts:function(t){var e=this.data.ltPropColumnSortable;if(e||t){var o=this.data,i=o.ltPropStickyTable,l=o.ltPropFullYield?this._originalTable.getElementsByTagName("lyte-exptable-thead")[0]:this._headerDiv||this.$node.getElementsByClassName(i?"lyteExpTableHeaderGroup":"lyteExpTableFakeHeaderWrapper")[0],a="add";if(l){if(this._sortmousedown)a="remove";else{if(!e)return;this._sortmousedown=this.sortablemousedown.bind(this)}["mousedown","touchstart"].forEach(function(t){l[a+"EventListener"](t,this._sortmousedown,!0)}.bind(this)),$L(this.$node)[a+"Class"]("lyteExpTableColumnSortable"),"remove"==a&&delete this._sortmousedown}}}.observes("ltPropColumnSortable").on("didConnect"),sortablemousedown:function(t){var e,o=t;if(!/lyte-exptablehead-resize/i.test(t.target.tagName)&&0==t.button){if(/touch/i.test(t.type)){if(t.touches.length>1)return;e=!0,o=t.touches[0]}var i=o.target,l=$L(i).closest("lyte-exptable-th").get(0),a=Array.apply(Array,l.parentNode.children).indexOf(l),s=this.data.ltPropStickyTable;if(!(this._fixHeaderCount>a||s&&$L(l).hasClass("lyteTableFixed")||this.getMethods("onBeforeSelect")&&0==this.executeMethod("onBeforeSelect",t,l,a,this.$node))){this._ww=window.innerWidth;var r=this.rtlfunc("clientX",o,this._ww),n=l.getBoundingClientRect(),d=this.data.ltPropFullYield,p=d?this.getTbody():this._originalTable.getElementsByClassName("lyteExpTableRowGroup")[0],h=[],c=d?this.get_all_tr(p):p.children,f=(d?p[0]:p).previousElementSibling.children[0].children[a];if(this._xoff=r-this.rtlfunc("right",n,this._ww),this._colwrap=this._colwrap||this.$node.getElementsByClassName("lyteExpTableFixedColWrapper")[0],this._elem=l,this._index=a,this._sortmousemove=this.sortmousemove.bind(this),this._sortmouseup=this.sortmouseup.bind(this),this._currentIndex=a,this._tbody=p,this._cells=h,this._affectedIndex=[],this._thisBccr=this._originalDiv.getBoundingClientRect(),this._sw=this._originalDiv.scrollWidth,this._prevx=r,this._originalDiv._sL=this._originalDiv.scrollLeft,s){var m={width:this._fixedWidth},u=this.rtlfunc("left");this.rtlfunc("right");m[u]=this._thisBccr[u],"left"==u?m.right=m.width+m.left:m.left=m.right-m.width,this._colwrapbcr=m}else this._colwrapbcr=this._colwrap.getBoundingClientRect();for(var y=l.parentNode.children,g=y[0].getBoundingClientRect(),v=0;v<y.length;v++){var P=y[v],b=(y[v-1]||{})._bcr;if(0==v)P._bcr={left:g.left,right:g.right,width:g.width};else if(this.data.ltPropStickyTable){var x=P.getBoundingClientRect();P._bcr={left:x.left,right:x.right,width:x.width}}else{var L=parseFloat(P.style.width);isNaN(L)&&(L=P.getBoundingClientRect().width),this._dir?P._bcr={left:b.left-L,right:b.left,width:L}:P._bcr={left:b.right,right:b.right+L,width:L}}}if(this.data.ltPropPreventTableModify)l._transformedindex=a;else{if(!this.data.ltPropHeaderOnly){var _=Math.max(this._thisBccr.top+10,-10),w=Math.min(window.innerWidth+10,this._thisBccr.bottom);for(v=0;v<c.length;v++){var D=this.get_nth_cell(c[v],a);if(D){var C=D.getBoundingClientRect();C.bottom>_&&C.top<w&&(D._translate=0,h.push(D),D._transformedindex=a,D.classList.add("lyteExpSortSelected"))}}}h.push(f),f._translate=0,f._transformedindex=a,s||(l._translate=0,h.push(l),l._transformedindex=a)}document.addEventListener(e?"touchmove":"mousemove",this._sortmousemove,!0),document.addEventListener(e?"touchend":"mouseup",this._sortmouseup,!0),this.$node.classList.add("lyteTableSortSelected"),l.classList.add("lyteExpSortSelected"),t.preventDefault(),this.getMethods("onSelect")&&this.executeMethod("onSelect",t,l,a,this.$node)}}},getTd:function(t,e,o){var i,l=t._transformedindex;return e>0||0==e&&o?i=this._index<=l?l+1:l:(e<0||0==e&&0==o)&&(i=this._index<l?l:l-1),this.get_nth_cell(t.parentNode,i)},findFormClosest:function(t){this.data.ltPropCellTag;for(var e=this._scrollDiv||this.$node.getElementsByClassName("lyteExpTableOrigTableInnerWrap")[0],o=$L(this._elem).data("sortElement").getBoundingClientRect(),i=e.getBoundingClientRect(),l=i.left+10>=o.left?i.left+10:o.left,a=document.elementsFromPoint(l,o.y),s=0;s<a.length;s++){var r=a[s],n=$L(r).closest("lyte-exptable");if(r&&"lyte-exptable-th"==r.tagName.toLowerCase()&&n&&$L(n).hasClass("lyteExpOriginalTable")){var d=Array.apply(Array,r.parentNode.children).indexOf(r);return(n=this._elem.parentNode.children[d])._index=d,n}}return n},sortmousemove:function(t,e,o){if(!this._preventmove&&this._elem&&!this._movemutate&&!this._movemeasure){var i=t,l=this.rtlfunc("clientX",i,this._ww),a=this._elem,s=(this._tbody,this._cells),r=this._xoff,n=this.data.ltPropPreventTableModify;if(/touch/i.test(t.type)){if(t.touches.length>1)return;i=t.touches[0]}if(n&&!this._moved){var d=document.createElement("div"),p=a.getBoundingClientRect(),h=document.documentElement.scrollLeft,c=document.documentElement.scrollTop;return d.innerHTML=a.innerHTML,$L(d).attr("style",$L(a).attr("style")||"").addClass(this.data.ltPropSortDummyColumClass,"lyteExpTableDummyColumn"),$L(a).data("sortElement",d),$L(d).data("relatedElement",a),d.style.height=p.height+"px",d.style.width=p.width+"px",d.style.left=h*(this._dir?-1:1)+"px",d.style.top=c+"px",d._bcr={left:p.left,right:p.right,width:p.width},d._translate=d._bcr.left,d._translateY=p.top,d.style.transform="translate("+d._translate+"px,"+d._translateY+"px)",document.body.appendChild(d),void(this._moved=!0)}if((this._prevx!=i.clientX||e)&&(!this.getMethods("onBeforeMove")||0!=this.executeMethod("onBeforeMove",t,a,this._index,a._transformedindex,this.$node))){this._prevx=i.clientX;p=(d=$L(a).data("sortElement")||{})._bcr||a._bcr||a.getBoundingClientRect();var f,m,u,y=l-this.rtlfunc("right",p,this._ww)-r,g=n?this.findFormClosest(i):this.getTd(a,y,o),v=g?g._bcr||g.getBoundingClientRect():{},P=this._originalDiv._sL,b=this._dir?-1:1;if(null==P&&(P=this._originalDiv.scrollLeft),a!=g||d||(g=void 0),this.data.ltPropStickyTable&&g&&$L(g).hasClass("lyteTableFixed")&&(g=void 0),g&&this._moved){if((m=Array.apply(Array,g.parentNode.children).indexOf(g))!=this._index||n){var x=null==g._transformedindex?m:g._transformedindex;d&&a==g&&(x=m,a._transformedindex=x),y>0||0==y&&o?this.rtlfunc("right",p,this._ww)+y>this.rtlfunc("left",v,this._ww)+.5*v.width&&(e=x>a._transformedindex):(y<0||0==y&&0==o)&&this.rtlfunc("left",p,this._ww)+y<this.rtlfunc("left",v,this._ww)+.5*v.width&&(e=x<a._transformedindex),e?n||(f=-1==this._affectedIndex.indexOf(m))&&(this._isIE?g.offsetLeft:0,this._affectedIndex.push(m)):g=void 0}}else g=void 0;if(g&&this.getMethods("onBeforeInterChange")&&(u=0==this.executeMethod("onBeforeInterChange",t,a,g,this.$node))&&f&&Lyte.arrayUtils(this._affectedIndex,"removeAt",this._affectedIndex.indexOf(m)),n)d._translate+=y*b,d.style.transform="translate( "+d._translate+"px,"+d._translateY+"px)",g&&!u&&g!=a&&(y<0||0==y&&0==o?a._transformedindex--:a._transformedindex++);else for(var L=0;L<s.length;L++){var _=s[L];if(_._translate+=y*b,_.style.transform="translateX("+_._translate+"px)",this._moved||_.classList.add("lyteExpTablePe"),g&&!u){var w=this.get_nth_cell(s[L].parentNode,m);w&&(f&&(w.classList.add("lyteExpTableAnimate"),w._translate=0),w._translate+=p.width*(y>0||0==y&&o?-1:1)*b,w.style.transform="translateX("+w._translate+"px)",null==w._transformedindex&&(w._transformedindex=m),y<0||0==y&&0==o?(w._transformedindex++,_._transformedindex--):(y>0||0==y&&o)&&(w._transformedindex--,_._transformedindex++))}}d._bcr?(d._bcr.left+=y*b,d._bcr.right+=y*b):(a._bcr.left+=y*b,a._bcr.right+=y*b,g&&!u&&(g._bcr.left+=p.width*(y>0||0==y&&o?-1:1)*b,g._bcr.right+=p.width*(y>0||0==y&&o?-1:1)*b)),$L.fastdom.clear(this._reqId),$L.fastdom.clear(this._measure),delete this._measure,delete this._reqId,this.sorthorizontalscroll({left:p.left,width:p.width,right:p.right},P),g&&this.getMethods("onInterChange")&&this.executeMethod("onInterChange",t,a,g,this.$node),this.getMethods("onMove")&&this.executeMethod("onMove",t,a,this._index,a._transformedindex,this.$node),this._moved=!0}}},sorthorizontalscroll:function(t,e){this.rtlfunc.call(this,"left");var o,i,l,a=this.isIE11Lyte||this.isEdgeLyte,s=this._elem;if(o=this.rtlfunc("left",t,this._ww)<Math.max(this.rtlfunc("right",this._colwrapbcr,this._ww),0),i=this.rtlfunc("left",t,this._ww)+t.width>Math.min(this.rtlfunc("right",this._thisBccr,this._ww),this._ww),(this._FF||this._isIE)&&i&&s._transformedindex==s.parentNode.children.length-1)if(this._dir&&!this._isIE){if(this._sw+e+this._verticalScrollWidth<=this._thisBccr.width)return}else if(e+this._thisBccr.width>=this._sw)return;if(o?(l=e-this.data.ltPropScrollStep*(this._dir?-1*(a?-1:1):1),this._dir?this._chrome?l=Math.min(l,this._sw-this._thisBccr.width):(this._FF||this._isSafari)&&(l=Math.min(l,0)):l=Math.max(l,0)):i?(l=e+this.data.ltPropScrollStep*(this._dir?-1*(a?-1:1):1),l=this._dir?this._chrome?Math.max(l,0):this._FF||this._isSafari?Math.max(l,this._thisBccr.width-this._sw):Math.min(l,this._sw-this._thisBccr.width):Math.min(l,this._sw-this._thisBccr.width)):($L.fastdom.clear(this._reqId),$L.fastdom.clear(this._measure),delete this._measure,delete this._reqId),o||i){this._originalDiv.scrollLeft=l,this._originalDiv._sL+=l-e;for(var r=this._elem.parentNode.children,n=this.data.ltPropStickyTable,d=0;d<r.length;d++){var p=r[d];n&&$L(p).hasClass("lyteTableFixed")||(p._bcr.left-=l-e,p._bcr.right-=l-e)}this._measure=$L.fastdom.measure(function(){delete this._measure,this.scrollFunc(),this._reqId=$L.fastdom.mutate(function(){delete this._reqId,this.sortmousemove({clientX:this._prevx},!0,!!i)}.bind(this))}.bind(this))}},sortmouseup:function(t){var e,o=this._index,i=this._elem,l=i._transformedindex,a=/touch/i.test(t.type);if(this._moved){if(this.getMethods("onBeforeDrop")&&0==this.executeMethod("onBeforeDrop",t,i,o,l,this.$node)&&(e=!0),this.resetcells(),!e){if(o!=l){this._prevent=!0;var s=this.data.ltPropHeader,r=Lyte.arrayUtils(s,"removeAt",o);delete this._prevent,Lyte.arrayUtils(s,"insertAt",l,r)}this.getMethods("onDrop")&&this.executeMethod("onDrop",t,i,o,l,this.$node)}}else this.resetcells(),this.getMethods("onRelease")&&this.executeMethod("onRelease",t,i,this.$node);document.removeEventListener(a?"touchmove":"mousemove",this._sortmousemove,!0),document.removeEventListener(a?"touchend":"mouseup",this._sortmouseup,!0),$L.fastdom.clear(this._reqId),$L.fastdom.clear(this._measure),delete this._measure,delete this._reqId,delete this._sortmouseup,delete this._sortmousemove,delete this._elem,delete this._xoff,delete this._index,delete this._moved,delete this._affectedIndex,delete this._tbody,delete this._cells,delete this._prevx,delete this._thisBccr,delete this._ww,delete this._sw,delete this._colwrapbcr,this.$node.classList.remove("lyteTableSortSelected"),this.$node.scrollTo()},fixcolobs:function(){this._elem&&(this._preventmove=!0,$L.fastdom.measure(function(){this._colwrapbcr=this._colwrap.getBoundingClientRect(),$L.fastdom.mutate(function(){delete this._preventmove}.bind(this))}.bind(this)))}.observes("columns.[]"),resetcells:function(t){var e=this._affectedIndex;t=this._cells;if($L(this._fakeOriginalHeader).css("height",""),this.data.ltPropPreventTableModify){this._elem._transformedindex,this._elem._translate;var o=$L(this._elem).data("sortElement");o&&o.remove(),$L(this._elem).data("sortElement",void 0)}else for(var i=0;i<t.length;i++){var l=t[i],a=l.parentNode.children;l.style.transform="",l.classList.remove("lyteExpSortSelected","lyteExpTablePe"),delete l._transformedindex,delete l._translate;for(var s=0;s<e.length;s++){var r=a[e[s]];r.classList.remove("lyteExpTableAnimate","lyteExpTablePe"),r.style.transform="",delete r._transformedindex,delete r._translate}}},get_all_tr:function(t){if(this.data.ltPropFullYield){var e=[];return t.forEach((function(t){e.push.apply(e,t.children)})),e}return t.children},setLeftForInterSection:function(t){$L.fastdom.clear(this._setmeasure),this._setmeasure=$L.fastdom.measure(function(){var e=Array.from(this.getHeaderCells());if(e.length){var o=this.getHeaderWidths(e),i=0;$L.fastdom.mutate(function(){var l=0,a=0,s=this.getTbody(),r=Array.from(this.get_all_tr(s)),n=[],d=this.rtlfunc("left");e.forEach(function(e,s){var p=e._horizontalIntersectionDiv;p?(n.push(p),p.style[d]=a+"px",e.style[d]=l+"px",i+=o[s],this.makeFixedColumn(r,s,d,l),l+=o[s],this.observe(p),p._sticked&&t&&this.addFixedClass(e)):a+=o[s]}.bind(this)),this._intersections=n,this._fixedSum=i}.bind(this))}}.bind(this))},getHeaderCells:function(){return this.$node.getElementsByClassName("lyteExpOriginalTable")[0].getElementsByTagName("lyte-exptable-th")},getHeaderWidths:function(t){var e=[];return t.forEach((function(t,o){e[o]=t.getBoundingClientRect().width})),e},getTbody:function(){if(this.data.ltPropFullYield){var t=this.$node.getElementsByClassName("lyteExpOriginalTable")[0];return Array.from(t.getElementsByTagName("lyte-exptable-tbody"))}return this._tbody||this.$node.getElementsByClassName("lyteExpTableRowGroup")[0]},get_nth_cell:function(t,e){for(var o=Array.from(t.children),i=o.length,l=0,a=0;a<i;a++){var s=o[a];if(l==e)return s;if(l>e)break;l+=s.colSpan||1}},makeFixedColumn:function(t,e,o,i){t.forEach(function(t){$L(t).hasClass("dummy")||$L(this.get_nth_cell(t,e)).css(o,i).addClass("lyteFixedColumn")}.bind(this))},observe:function(t){t._observed||(this._intersectionObs.observe(t),t._observed=!0)},addFixedClass:function(t){this.stickyFunction(t,!1,"addClass","lyteTableFixed")},stickyScroll:function(t){if(t&&t.target==this._scrollDiv&&this._intersections.length){var e=t.target;$L.fastdom.measure(function(){var t=e.scrollTop;$L.fastdom.mutate(function(){this._intersections.forEach((function(e){e.style.top=t+"px"}))}.bind(this))}.bind(this))}},registerInterSection:function(t){this._intersectionObs=new IntersectionObserver(this.intersection.bind(this),{threshold:[.01],root:t})},intersection:function(t){t.forEach(function(t){this.singleIntersection(t)}.bind(this))},singleIntersection:function(t){this._fixedWidth=this._fixedWidth||0;var e=t.target._cell;e&&t.intersectionRatio?this.processUnfix(e,t):e&&this.processFix(e,t)},processUnfix:function(t,e){this.removeFixedClass(t),delete t._horizontalIntersectionDiv._sticked,this.callUnfix(t),$L.fastdom.measure(function(){var e=t._bcr||t.getBoundingClientRect();this._fixedWidth=Math.max(this._fixedWidth-e.width,0),this.adjust_wrap_width()}.bind(this))},adjust_wrap_width:function(){var t=this._colwrapbcr;if(t&&this.data.ltPropStickyTable){var e=this.rtlfunc("left"),o=this._fixedWidth;"left"==e?t.right=t.left+o:t.left=t.right-o}},processFix:function(t,e){this.addFixedClass(t),t._horizontalIntersectionDiv._sticked=!0,this.callFix(t),$L.fastdom.measure(function(){var e=t._bcr||t.getBoundingClientRect();this._fixedWidth=this._fixedWidth+e.width,this.adjust_wrap_width()}.bind(this))},callUnfix:function(t){this.getMethods("onUnFix")&&this.executeMethod("onUnFix",t,this.$node)},callFix:function(t){this.getMethods("onFix")&&this.executeMethod("onFix",t,this.$node)},callDrop:function(t,e,o,i,l,a){this.getMethods("onDrop")&&this.executeMethod("onDrop",t,e,o,i,l,a,this.$node)},callRelease:function(t,e){this.getMethods("onRelease")&&this.executeMethod("onRelease",t,e,this.$node)},callOnBeforeSelect:function(t,e,o){if(this.getMethods("onBeforeSelect"))return!1===this.executeMethod("onBeforeSelect",t,e,this.$node,o)},callOnSelect:function(t,e,o){if(this.getMethods("onSelect"))return!1===this.executeMethod("onSelect",t,e,this.$node,o)},stickyFunction:function(t,e,o,i){var l=this.getIndexForSticky(t),a=this.getTbody(),s=Array.from(this.get_all_tr(a)),r=e?"css":o,n=e?this._dir?{right:i}:{left:i}:i;e?$L(t)[r](n):$L(t)[o](i),s.forEach(function(t){$L(this.get_nth_cell(t,l))[r](n)}.bind(this))},getIndexForSticky:function(t){return Array.from(t.parentNode.children).indexOf(t)},removeFixedClass:function(t){this.stickyFunction(t,!1,"removeClass","lyteTableFixed")},removeSticky:function(t){this.stickyFunction(t,!0,this.rtlfunc("left"),"")},update_aria:function(t){var e="setAttribute",o="role";t[e](o,"row"),Array.from(t.children).forEach((function(i){var l=/lyte-exptable-th/i.test(i.tagName)?"columnheader":"cell",a=Array.from(t.children).indexOf(i);(i=t.children[a])&&i[e](o,l)}))},do_toggle_animation:function(t){var e=$L(t),o="lyteExpTbodyClosed",i="lyteExpTableAccordionAnimation",l="lyteExpTableHideStart",a=e.hasClass(o),s=t.getElementsByClassName("lyteExpTableAccordionContent"),r=Array.from(s),n=[],d=[],p=function(){return r.map((function(t){return n.push(""),d.push("0px"),t.offsetHeight+"px"}))},h=function(t){r.forEach((function(e,o){var i=e.style,l=t[o];i.setProperty("--tableMaxHeight",l)}))},c="transitionend",f=window.requestAnimationFrame;if(!e.hasClass(i))if(a)e.removeClass(o),f((function(){var t=p();h(d),e.addClass(l),f((function(){e.addClass(i).removeClass(l).on(c,(function(){e.removeClass(i).off(c),h(n)})),h(t)}))}));else{var m=p();h(m),f((function(){e.addClass(i).on(c,(function(){e.removeClass(i+" "+l).addClass(o).off(c)})),f((function(){e.addClass(l),h(n)}))}))}}}),window.addEventListener("resize",(function(){window.clearTimeout(_lyteUiUtils._expressDebounce),_lyteUiUtils._expressDebounce=setTimeout((function(){for(var t=document.getElementsByTagName("lyte-expresstable"),e=0;e<t.length;e++)t[e]&&!t[e].getData("ltPropStickyTable")&&(t[e].component.setFixTableRowHeight(),t[e].component.fixHeaderHeight())}),250)}),!0),_lyteUiUtils.registeredCustomElements["lyte-exptable-th"]||(_lyteUiUtils.registeredCustomElements["lyte-exptable-th"]=!0,Lyte.createCustomElement("lyte-exptable-th",{static:{observedAttributes:{get:function(){return["fixed","resize","icon"]}}},attributeChangedCallback:function(t,e,o){if("fixed"==t){for(var i=this;i&&"DIV"!=i.tagName;)i=i.parentNode;"enable"==o?this.classList.add("lyteFixedColumn"):this.classList.remove("lyteFixedColumn"),this.checkIntersection("enable"==o)}else if("resize"==t){var l;if("enable"==o)(l=document.createElement("lyte-exptablehead-resize")).addEventListener("mousedown",this.resize),l.addEventListener("touchstart",this.resize),this.appendChild(l);else(l=this.getElementsByTagName("lyte-exptablehead-resize")[0])&&this.removeChild(l)}},checkIntersection:function(t){var e=$L(this).closest("lyte-expresstable").get(0);if(e.getData("ltPropStickyTable"))if(t&&!this._horizontalIntersectionDiv)this.createIntersection(e);else if(!t&&this._horizontalIntersectionDiv){var o=this._horizontalIntersectionDiv;this.removeIntersection(o,e),e.component.removeSticky(this),e.component.removeFixedClass(this)}},createIntersection:function(t){var e=$L(document.createElement("div")).addClass("lyteExpStickyInterSection").get(0);t.getElementsByTagName("lyte-exptable")[0].appendChild(e),this._horizontalIntersectionDiv=e,e._cell=this,t.component.setLeftForInterSection()},removeIntersection:function(t,e){e&&e.component._intersectionObs.unobserve(t),t.remove(),delete t._cell,delete this._horizontalIntersectionDiv},disconnectedCallback:function(){if(!Lyte.Component.shouldIgnoreDisconnect()){var t=this._horizontalIntersectionDiv;if(t){var e=$L(this).closest("lyte-expresstable").get(0);this.removeIntersection(t,e)}}},resize:function(t){var e=$L(t.target).closest("lyte-expresstable")[0];e.component.actions.tableResize.call(e.component,t)}})),_lyteUiUtils.registeredCustomElements["lyte-exptable-tr"]||(_lyteUiUtils.registeredCustomElements["lyte-exptable-tr"]=!0,Lyte.createCustomElement("lyte-exptable-tr",{static:{},connectedCallback:function(){var t="lyte-expresstable",e=this.closest?this.closest(t):$L(this).closest(t).get(0);e&&e.ltProp("role")&&e.ltProp("yield")&&e.component.update_aria(this)}})),Lyte.Component.register("lyte-table",{_template:'<template tag-name="lyte-table"> <div class="lyteTableScroll" onmousedown="{{action(\'rowMouseDown\',event)}}" ontouchstart="{{action(\'rowMouseDown\',event)}}"> <template is="if" value="{{expHandlers(ltPropSortable,\'&amp;&amp;\',ltPropInfiniteScroll)}}"><template case="true"> <div class="lyteTableSortablePlaceholder lyteTableSortablePlaceholderHidden"></div> </template></template> <template is="if" value="{{expHandlers(ltPropYield,\'==\',false)}}"><template case="true"> <lyte-table-structure id="{{ltPropId}}" class="{{ltPropClass}}" role="{{ltPropRole}}"> <template is="if" value="{{ltPropHeaderLabelKey}}"><template case="true"> <lyte-colgroup> <template is="for" items="{{ltPropHeader}}" item="list" index="indexVal"> <lyte-col></lyte-col> </template> </lyte-colgroup> <lyte-thead role="rowgroup"> <lyte-tr role="row"> <template is="if" value="{{ltPropHeader.length}}"><template case="true"><template is="for" items="{{ltPropHeader}}" item="list" index="indexVal"> <lyte-th id="{{list.id}}" class="{{list.class}}" index="{{indexVal}}" resize="{{list.resize}}" fixed="{{list.fixed}}" icon="{{list.icon}}" role="columnheader"> {{unescape(list[ltPropHeaderLabelKey])}} </lyte-th> </template></template></template> </lyte-tr> </lyte-thead> </template></template> <lyte-tbody role="rowgroup" class="{{if(ltPropSortable,\'lyteTableWithSortableRow\')}}"> <template is="if" value="{{ltPropInfiniteScroll}}"><template case="true"> <template is="for" items="{{ltPropData}}" item="list" index="indexVal"> <lyte-tr id="{{list.body.id}}" class="{{list.body.class}}" role="row" aria-rowindex="{{list.index}}"> <template is="for" items="{{ltPropHeader}}" item="header" index="index"> <lyte-td role="cell" aria-colindex="{{index}}"> <div style="height: {{ltPropCellHeight}}"> {{unescape(lyteUiGetValue(list.body,header[ltPropBodyLabelKey]))}} </div> </lyte-td> </template> </lyte-tr> </template> </template><template case="false"> <template is="for" items="{{ltPropContent}}" item="list" index="indexVal"> <lyte-tr id="{{list.id}}" class="{{list.class}}" role="row"> <template is="for" items="{{ltPropHeader}}" item="header" index="index"> <lyte-td role="cell" aria-colindex="{{index}}">{{unescape(lyteUiGetValue(list,header[ltPropBodyLabelKey]))}}</lyte-td> </template> </lyte-tr> </template> </template></template> </lyte-tbody> </lyte-table-structure> </template><template case="false"><template is="if" value="{{ltPropInfiniteScroll}}"><template case="true"> <lyte-yield yield-name="yield" lt-prop-data="{{ltPropData}}"></lyte-yield> </template><template case="false"> <lyte-yield yield-name="yield" visible-status="{{visibleStatus}}"></lyte-yield> </template></template></template></template> </div> <template is="if" value="{{expHandlers(ltPropResize.vertical,\'||\',ltPropResize.horizontal)}}"><template case="true"> <lyte-table-resize ontouchstart="{{action(\'tableResize\',event,\'both\')}}" onmousedown="{{action(\'tableResize\',event,\'both\')}}"></lyte-table-resize> <template is="if" value="{{ltPropResize.vertical}}"><template case="true"> <lyte-table-vertical-resize ontouchstart="{{action(\'tableResize\',event,\'vert\')}}" onmousedown="{{action(\'tableResize\',event,\'vert\')}}"></lyte-table-vertical-resize> </template></template><template is="if" value="{{ltPropResize.horizontal}}"><template case="true"> <lyte-table-horizontal-resize ontouchstart="{{action(\'tableResize\',event,\'hori\')}}" onmousedown="{{action(\'tableResize\',event,\'hori\')}}"></lyte-table-horizontal-resize> </template></template></template></template> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[]}},default:{}},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3,1,1]},{type:"if",position:[3,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"for",position:[0],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]}]}},default:{}},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3]}]}},default:{}},{type:"attr",position:[1,3]},{type:"attr",position:[1,3,1]},{type:"if",position:[1,3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"for",position:[1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'height: '","ltPropCellHeight"]}}}},{type:"text",position:[1,1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"for",position:[1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]}]}},default:{}},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]}},default:{}}]}},default:{}},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[4]},{type:"if",position:[4],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}],_observedAttributes:["ltPropContent","ltPropHeader","ltPropId","ltPropClass","ltPropBorder","ltPropHeaderLabelKey","ltPropBodyLabelKey","ltPropWidth","ltPropHeight","ltPropResize","ltPropFixedColumnClass","ltPropYield","ltPropScroll","ltPropColumnSortable","ltPropScrollbarOption","ltPropDualResize","ltPropData","ltPropInfiniteScroll","ltPropCellHeight","ltPropContentLength","ltPropPreventScrollbar","ltPropRole","ltPropStickyTable","ltPropScrollStep","ltPropPreventTableModify","ltPropSortDummyColumClass","ltPropNavigation","ltPropReset","ltPropTags","ltPropSortable","ltPropContainment","lyteUnbound","ltPropFromListview","ltPropFixResizeCursor","ltPropResizeAria","ltPropCellAria","ltPropCellIntersection","ltPropScrollElement","ltPropResizeFixedColumn","columns","nonFixedColumn","minWidth1","minWidth2","secondaryData","boundary","rowHeights","fromListView","visibleStatus","fixedColumnLength"],init:function(){var t=navigator.userAgent,e="beforeRender",o=this,i=o.$node,l=window,a="addEventListener",s="_tableResize";if(o._dir=_lyteUiUtils.getRTL(),o.isIE11Lyte=/rv:11/gi.test(t),o.isEdgeLyte=/Edge/gi.test(t),o._browser=o.isIE11Lyte||o.isEdgeLyte||t.match("Safari"),o.getMethods(e)&&o.executeMethod(e,i),i.scrollTable=function(t,e){var l=o.scrollDiv=o.scrollDiv||i.querySelector("div.lyteTableScroll"),a=void 0,s=new Event("scroll",{bubbles:!0});t!=a&&(l.scrollLeft=t),e!=a&&(l.scrollTop=e),s._byFunc=!0,l.dispatchEvent(s),o.__from_collapse||o.update_collapse(!0)},i.updateCollapse=o.update_collapse.bind(o),!l[s]){l[s]=!0;var r=resizeTable;l[a]("resize",r,!0),l[a]("orientationchange",r,!0)}i.toggleRows=function(t){var e=t?"remove":"add",o=this.ltProp("tags");Array.from(this.querySelectorAll(o.tbody+" "+o.tr+".lytePreventInfiniteScroll")).forEach((function(t){t.classList[e]("lyteHidden")}))},o.data.ltPropCellIntersection&&this.reset_visible()},rtlfunc:function(t,e,o){if(this._dir&&"top"!=t&&"clientY"!=t){if(e)return"right"==t?o-e.left:"clientX"==t?o-e[t]:o-e.right;if("left"==t)return"right";if("right"==t)return"left"}return e?e[t]:t},didDestroy:function(){var t=this,e=t.data,o=t.scrollDiv,i=t.$node,l=window,a=t._intersectionObs;if(l._tableResize&&0==document.body.getElementsByTagName("lyte-table").length){var s="removeEventListener";l[s]("resize",resizeTable,!0),l[s]("orientationchange",resizeTable,!0),delete l._tableResize}if(e.ltPropNavigation&&_lyteUiUtils.tableNavigation(i.getElementsByTagName(e.ltPropTags.table)[0],"unbind"),$L.fastdom.clear(this.__collpse_fdom),delete this.__collpse_fdom,a&&(t._setmeasure&&$L.fastdom.clear(t._setmeasure),a.disconnect(),delete t.reset,delete t._intersectionObs,delete t._intersections),e.ltPropCellIntersection){var r=this.__cell_inter;r&&(r.disconnect(),delete this.__cell_inter)}!e.ltPropPreventScrollbar&&o&&$L(o).removeScroll(),delete t.scrollDiv,delete t._dummy,delete t._dummy1,delete t.resizeComponent,delete t.targetElem,delete i.setValue,delete i.scrollTable},initProcess1:function(t){var e=this,o=e.data,i=t&&"ltPropReset"==t.item;if(!(e._prevent||i&&0==t.newValue)){if(o.ltPropInfiniteScroll){var l=e.$node.getElementsByTagName(o.ltPropTags.table)[0],a=o.ltPropContent||[],s=a.length,r=Math.min(o.ltPropContentLength||s,s),n=[];if(0==s&&!t)return;l&&(l.style.height="auto");for(var d=0;d<r;d++)n[d]={body:a[d],checked:!1,index:d};if(o.fromListView){var p=o.ltPropData,h=Lyte.arrayUtils,c=Lyte.objectUtils;n.forEach((function(t,e){var o=p[e];o?(c(o,"add","body",t.body),c(o,"add","index",t.index),c(o,"add","checked",t.checked)):h(p,"insertAt",t.index,t)})),h(p,"splice",n.length,p.length-n.length)}else this.setData("ltPropData",n);var f=e._dummy,m=e._dummy1,u=e.scrollDiv,y="translateY(0px)";delete e._stopScroll,t&&(f&&$L(f).css({height:0,transform:y}),m&&$L(m).css("transform",y),u.scrollTop=0,u.scrollLeft=0),e._boundary={top:e._top=0,bottom:e._bottom=Math.max(r-1,0)}}else t&&"ltPropContent"==t.item&&o.ltPropCellIntersection&&this.visible_obs(t);i&&this.setData(t.item,!1)}}.observes("ltPropContent.[]","ltPropReset").on("init"),resize_key:function(t){var e,o=t.key,i=0,l=t.target,a=function(){switch(o){case"ArrowLeft":i=-1;break;case"ArrowRight":i=1;break;case" ":case"Enter":e="select";break;case"Escape":e="unselect"}};switch(l.tagName){case"LYTE-TABLEHEAD-RESIZE":if(a(),i){var s=t.target,r=this,n=s.getBoundingClientRect(),d=n.left+n.width/2;$L(s).hasClass("lyteTableFixed")?i=0:(this.component.tableResize({target:s,clientX:d,clientY:0}),$L.fastdom.measure((function(){$L.fastdom.mutate((function(){window.requestAnimationFrame((function(){r.component.resize_fun({manual:!0,clientX:d+10*i,clientY:0}),window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){r.component.resize_up({})}))}))}))}))})))}break;case"LYTE-TH":a();var p="lyteTableCellSelected",h=function(){$L(l.parentNode).children().removeClass(p).attr("aria-selected","false")},c=function(t){$L(t).addClass(p).attr("aria-selected","true")};if(i){var f=l.parentNode,m=Array.from(f.children);if(__index=m.indexOf(l),__next_index=__index+i,next_cell=m[__next_index],!next_cell)return void t.stopPropagation();var u=l.getBoundingClientRect(),y=next_cell.getBoundingClientRect(),g=this.component,v="sortableColumns",P="sortableMouseMove",b="sortableMouseup",x={target:next_cell,clientX:y.left+y.width/2};g.getData("ltPropStickyTable")&&(v="sortablemousedown",P="sortmousemove",b="sortmouseup"),g[v]({button:0,target:l,clientX:u.left+u.width/2}),g[P](x),window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){g[b](x),c($L(f.children[__next_index]).focus().attr("aria-label","Cell index : "+__next_index).attr(g.data.ltPropCellAria))}))})),t.stopPropagation()}else i=0;switch(e){case"select":case"unselect":h(),i=1}}i&&t.preventDefault()},didConnect:function(){var t=this.data,e=t.ltPropInfiniteScroll,o=(t.secondaryData,this.$node),i=t.ltPropTags;try{var l=o.querySelector("div.lyteTableScroll");if(this.scrollDiv=l,l.comp=this,l._infiniteScroll=e,!t.ltPropPreventScrollbar&&$L.prototype.scroll){$L(l).scroll(t.ltPropScrollbarOption);var a,s=o.querySelector(".lyteScrollContainer.lyteScrollContainerY"),r=o.getElementsByTagName(i.th)[0];$L.fastdom.measure(function(){var e=this._dir;r&&s&&0==s.offsetTop&&(a=r.offsetHeight,$L.fastdom.mutate(function(){s.style.top=a+"px",e&&o.classList.add("lyteRTL")}.bind(this))),$L.fastdom.mutate(function(){t.ltPropDualResize&&o.classList.add("lyteDualResize"),this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node)}.bind(this))}.bind(this))}else this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node)}catch(t){}if(e&&(o.classList.add("infinitescroll"),o.setValue=function(t){this.appendAddData1.call(this,t)}.bind(this),o.removeRow=function(t){this.removeRow(t)}.bind(this),o.scrollToRecord=this.scrollToRecord.bind(this),o.insertRow=this.insertRow.bind(this)),t.ltPropNavigation&&_lyteUiUtils.tableNavigation(o.getElementsByTagName(i.table)[0]),t.ltPropRole&&this.$node.addEventListener("keydown",this.resize_key,!0),t.ltPropCellIntersection){var n=t.ltPropScrollElement;this.__cell_inter=new IntersectionObserver(this.cell_intersection.bind(this),{threshold:[.01],root:n?document.querySelector(n):this.scrollDiv}),this.$node.removeCellIntersection=this.removeCellInter.bind(this)}t.ltPropResizeFixedColumn&&this.$node.classList.add("lyteTableEnableResize")},columnWidth:function(t,e,o){var i=0;for(o=o||0;o<e;o++)i+=t[o].property.width;return i},heightCalc:function(t,e,o){for(var i=0,l=e;l>0&&!(o<(i+=t[l]));l--);return[i,l]},topElem:function(t){var e;return(e=this.isIE11Lyte||this.isEdgeLyte?t.getElementsByTagName(this.data.ltPropTags.td)[0]:t)?e.getBoundingClientRect():{}},cellSet:function(t,e){var o;return o=this.isIE11Lyte||this.isEdgeLyte?Array.from(t.getElementsByTagName(this.data.ltPropTags.td)):[t],e&&o.forEach((function(t){t.style.transform=e})),o[0].style.transform},scrollTable:function(t,e){var o=t.yScroll,i=this.data.ltPropTags,l=this.getData("ltPropData"),a=this.getData("ltPropContent"),s=this.scrollDiv,r=e.tbodyClient,n=e.$nodeClient,d=this.$node.querySelector(i.table),p=this.$node.getElementsByTagName(i.th)[0],h=e.neglected,c=e.compNeg;p=p?p.property?p.property.height:p.getBoundingClientRect().height:0;var f=e.topElem,m=e.topElemClient;if(this.$node.classList.add("lyteTableScrolling"),clearTimeout(this._scrollTable),this._scrollTable=setTimeout(function(){this.$node.classList.remove("lyteTableScrolling")}.bind(this),40),-1==d.style.height.indexOf("px")&&(d.style.height=r.height+"px",this._rowHgt=parseInt(10*m.height)/10,this._step=parseInt(10*(r.height-this._rowHgt*h.length))/10),this._dummy||this.createDummy(e.tbody),null==o&&!s.classList.contains("eventBinded")){var u=parseFloat(this._dummy.style.transform.match(/[\d|.]+/gi)[0]);o=s.scrollTop>u?1:-1}var y=this._boundary,g=this._dummy.style,v=(this._dummy1||{}).style,P=this._rowHgt,b=function(){g.height=(a.length-1-y.bottom)*this._rowHgt+"px",g.transform="translateY("+y.top*this._rowHgt+"px)"}.bind(this);if(o>0)if(parseFloat(n.top+p)>=parseFloat(m.bottom))if(y.bottom<=a.length-2){var x=Math.max(parseInt((n.top+p-m.bottom)/P),1);y.bottom+x>a.length-1&&(x=a.length-1-y.bottom);for(var L=0;L<x;L++){if(y.bottom+=1,L>=x-l.length&&(Lyte.Component.set(l[this._top],{body:a[y.bottom],index:y.bottom}),f.dataOrder=y.bottom),y.top=y.bottom-l.length+1,this.cellSet(f)?this.regex(f):this.cellSet(f,"translateY("+this._step+"px)"),g.transform="translateY("+(parseFloat(g.transform.match(/[\d|.]+/gi)[0])+P)+"px)",g.height=Math.max(parseFloat(g.height)-P,0)+"px",this._browser&&(v.transform="translateY("+(parseFloat(v.transform.match(/[\d|.]+/gi)[0])+P)+"px)"),this._bottom=this._top,this._top=(this._top+1)%l.length,y.bottom>=a.length){y.bottom=a.length-1,this._top=(this._top+1)%l.length;break}f=this.nthoftype.call(this,e.tbody,this._top+c.length,!0)}}else y.bottom==a.length-1?(this.scrollEndMethod1(),b()):this.scrollEndMethod1();else b();else if(o<0){var _=e.bottmElem,w=e.bottmElemClient;if(n.bottom<=w.top){var D=this.cellSet(_).match(/[\d|.]+/gi);if(!D||D&&"0"==D[0])return;x=parseInt(Math.max(parseFloat((w.top-n.bottom)/P),0));var C=Math.max(x-1-this._boundary.top,0);for(L=x-1;L>=0&&0!=x&&0!=y.top;L--){if(y.top-=1,L<=l.length-1+C&&(Lyte.Component.set(l[this._bottom],{body:a[y.top],index:y.top}),_.dataOrder=y.top),y.bottom=y.top+l.length-1,this.cellSet(_)&&this.regex(_,!0),g.height=parseFloat(g.height)+P+"px",g.transform="translateY("+(parseFloat(g.transform.match(/[\d|.]+/gi)[0])-P)+"px)",this._browser&&(v.transform="translateY("+(parseFloat(v.transform.match(/[\d|.]+/gi)[0])-P)+"px)"),this._top=this._bottom,this._bottom=(l.length+this._bottom-1)%l.length,-1==y.top){y.top=0,y.bottom=y.top+l.length-1;break}_=this.nthoftype.call(this,e.tbody,this._bottom+c.length,!0)}0===y.top&&this.getMethods("scrollStart")&&this.executeMethod("scrollStart",this.$node)}}},createDummy:function(t){var e=document.createElement(this.data.ltPropTags.tr);if(e.classList.add("dummy"),t.appendChild(e),e.setAttribute("style","transform:translateY(0px);height:0px"),this._dummy=e,this._browser){var o=document.createElement("div");o.classList.add("dummy"),this.scrollDiv.appendChild(o),o.setAttribute("style","transform:translateY(0px);height:5px"),this._dummy1=o}},regex:function(t,e){if(this.isIE11Lyte||this.isEdgeLyte)for(var o=t.getElementsByTagName(this.data.ltPropTags.td),i=o.length,l=0;l<i;l++)this.regex1(o[l],e);else this.regex1(t,e)},regex1:function(t,e){var o=t.style,i=o.transform,l=/[\d|.]+/gi,a=this._step;o.transform=e?i.replace(l,(function(t){return Math.max(parseFloat(t)-a,0).toFixed(3)})):i.replace(l,(function(t){return(parseFloat(t)+a).toFixed(3)}))},scrollEndMethod1:function(){this._stopScroll||(this._stopScroll=!0,this.getMethods("scrollEnd")&&this.appendAddData1(this.executeMethod("scrollEnd")))},appendAddData1:function(t){t&&(t.then?Promise.resolve(t).then(function(t){t&&this.apd1.call(this,t)}.bind(this),function(){console.log("error at scroll end promise")}.bind(this)):this.apd1.call(this,t))},apd1:function(t){var e=this.data,o=e.ltPropContent,i=(e.ltPropData,Lyte.arrayUtils);this._prevent=!0,t.constructor==Array?i(o,"concat",t):t.constructor==Object&&i(o,"push",t),delete this._prevent,delete this._stopScroll},nthoftype:function(t,e,o){var i=[],l=t.getElementsByTagName(this.data.ltPropTags.tr);if(o)return l[e];for(var a=l.length,s=0;s<a;s++){var r=l[s];r.classList.contains("dummy")||i.push(this.get_children(r)[e])}return i},scroll:function(t){var e=this.comp,o=this._wheelObj||{bcr:{}};if(!e.__ignore_scroll||!0===e.__allow_scroll){this._scrollLeft=null!=o.scrollLeft?o.scrollLeft:this.scrollLeft,this._scrollTop=null!=o.scrollTop?o.scrollTop:this.scrollTop;var i=this._direction,l=!e.data.ltPropStickyTable;if(l&&e.scrollCheck.call(this,t,o),0==this._scrollLeft&&"rtl"!=i&&e.getData("ltPropInfiniteScroll")){var a=e.getData("columns");if(Lyte.arrayUtils(a,"remove",0,a.length),l)for(var s=this.getElementsByClassName("lyteTableFixed"),r=s.length,n=0;n<r;n++){var d=s[n];d.style.left="0px",d.classList.remove("lyteTableFixed")}}e.data.ltPropInfiniteScroll&&e.scrollTable.call(e,t,o),delete this._scrollLeft,delete this._scrollTop}},scrollCheck:function(t,e){var o=this.parentElement.component,i=o.data.ltPropTags,l=this.getElementsByTagName(i.table)[0],a=this._scrollTop,s=this._scrollLeft,r=o.getData("ltPropScroll"),n=this._direction,d=l.getElementsByTagName(i.tbody)[0],p=this.getElementsByTagName(i.thead)[0],h=[],c=[],f=[];if(p&&(h=p.getElementsByTagName(i.th)),(a!=this.prevScollTop||t._byFunc)&&r.vertical){var m=h;if(m.length){for(var u=0;u<m.length;u++)m[u].classList.add("tableRowFixed"),o.transform(!0,m[u],a);if(!a)for(u=0;u<m.length;u++)m[u].classList.remove("tableRowFixed")}}if((s!=this.prevScollLeft||t._byFunc)&&r.horizontal){var y=o.data.columns,g=[];if(p){var v=Array.apply(Array,p.getElementsByTagName(i.tr)),P=Array.apply(Array,p.getElementsByClassName("lyteRowCopy"));g=v.concat(P)}var b=o.data.ltPropFixedColumnClass||"";if(g.length){c=g[0].getElementsByTagName(i.th);for(var x=0;x<c.length;x++)c[x].classList.contains("lyteFixedColumn")&&f.push(c[x])}for(u=y.length;u<f.length;u++)if(f[u].property.right+o.columnWidth.call(o,f,u)>e.scrollDivClient.bcr.right&&"rtl"==n||f[u].property.left<e.scrollDivClient.bcr.left+o.columnWidth.call(o,f,u)&&"rtl"!=n){f[u].property.width;var L=f[u].order;if(L+1<c.length){!f[u].classList.contains("lyteTableFixed")&&f[u].classList.add("lyteTableFixed"),y.push(f[u]);for(var _=1;_<g.length;_++){(A=g[_].getElementsByTagName(i.th)[L])&&!A.classList.contains("lyteTableFixed")&&A.classList.add("lyteTableFixed")}for(var w=o.nthoftype.call(o,d,L),D=0;D<w.length;D++)!w[D].classList.contains("lyteTableFixed")&&w[D].classList.add("lyteTableFixed"),b&&w[D].classList.add(b)}}for(x=y.length-1;x>=0;x--){var C=y.length-1;if(!(0==s&&(!window.chrome||"rtl"!=n)||(parseFloat((c[y[C].order+1].property.right+y[C].property.width+o.columnWidth.call(o,y,y.length-1)).toFixed(2))<=parseFloat(e.scrollDivClient.bcr.right.toFixed(2))||c[y[C].order+1].property.right+2<y[C].property.left)&&"rtl"==n||c[y[C].order+1].property.left>=e.scrollDivClient.bcr.left+y[C].property.width+o.columnWidth.call(o,y,y.length-1)&&y[C].property.left>=e.scrollDivClient.bcr.left+o.columnWidth.call(o,f,y.length-1)&&"rtl"!=n))break;c[y[C].order].classList.contains("lyteTableFixed")&&c[y[C].order].classList.remove("lyteTableFixed"),b&&c[y[C].order].classList.remove(b),o.transform(!1,y[C],0);for(_=0;_<g.length;_++){(A=g[_].getElementsByTagName(i.th)[y[C].order])&&(A.classList.contains("lyteTableFixed")&&A.classList.remove("lyteTableFixed"),o.transform(!1,A,0))}for(var T=o.nthoftype.call(o,d,y[C].order),E=0;E<T.length;E++)o.transform(!1,T[E],0),T[E].classList.contains("lyteTableFixed")&&T[E].classList.remove("lyteTableFixed"),b&&T[E].classList.remove(b);Lyte.arrayUtils(y,"removeAt",C)}for(C=0;C<y.length;C++){var S,$=o.nthoftype.call(o,d,y[C].order),M=navigator.userAgent.toLowerCase();S=0==C?"rtl"==n?-1!=M.indexOf("firefox")||-1!=M.indexOf("safari")&&(_lyteUiUtils.isNegativeScroll()||-1==M.indexOf("chrome")&&-1==M.indexOf("chromium"))?s+o.columnWidth.call(o,c,y[C].order,0):-1!=M.indexOf("edge")||-1!=M.indexOf("trident")||-1!=M.indexOf("msie")?-s+o.columnWidth.call(o,c,y[C].order,0):s-1-e.scrollWidth+e.scrollDivClient.bcr.width+o.columnWidth.call(o,c,y[C].order,0):s-o.columnWidth.call(o,c,y[C].order,0):"rtl"==n?(-1!=M.indexOf("firefox")||-1!=M.indexOf("safari")&&(_lyteUiUtils.isNegativeScroll()||-1==M.indexOf("chrome")&&M.indexOf("chromium")),o.transform(!1,y[C-1])+o.columnWidth.call(o,c,y[C].order,y[C-1].order+1)):o.transform(!1,y[C-1])-o.columnWidth.call(o,c,y[C].order,y[C-1].order+1);for(var F=0;F<$.length;F++)!$[F].classList.contains("lyteTableFixed")&&$[F].classList.add("lyteTableFixed"),o.transform(!1,$[F],S);o.transform(!1,y[C],S);for(_=0;_<g.length;_++){var A;(A=g[_].getElementsByTagName(i.th)[y[C].order])&&(!A.classList.contains("lyteTableFixed")&&A.classList.add("lyteTableFixed"),o.transform(!1,A,S))}}}this.prevScollLeft=s,this.prevScollTop=a},transform:function(t,e,o){var i=e.style.transform||"translateX(0px) translateY(0px)",l=parseFloat(/translateX\((.+)/.exec(i)[1]),a=parseFloat(/translateY\((.+)/.exec(i)[1]);if(null==o)return parseFloat(t?a:l);e.style.transform=t?"translateY("+o+"px) translateX("+l+"px)":"translateY("+a+"px) translateX("+o+"px)"},borderChangeObs:function(){this.borderChange.call(this)}.observes("ltPropBorder").on("didConnect"),borderChange:function(){this.data.ltPropBorder?this.$node.classList.add("border"):this.$node.classList.remove("border")},widthObsObs:function(){this.widthObs.call(this)}.observes("ltPropWidth").on("didConnect"),widthObs:function(){this.$node.querySelector(this.data.ltPropTags.table).style.width=this.data.ltPropWidth},heightObsObs:function(){this.heightObs.call(this)}.observes("ltPropHeight").on("didConnect"),heightObs:function(){this.$node.querySelector(this.data.ltPropTags.table).style.height=this.data.ltPropHeight},sortableObs:function(){!this.data.ltPropStickyTable&&this.sortable()}.observes("ltPropColumnSortable").on("didConnect"),sortable:function(){var t=this.$node.getElementsByTagName(this.data.ltPropTags.thead)[0];if(t){var e="remove";if(this.data.ltPropColumnSortable&&(this.colSort=this.sortableColumns.bind(this),e="add"),e){var o=e+"EventListener",i=this.colSort;t[o]("mousedown",i),t[o]("touchstart",i),t.parentNode.classList[e]("sortableTable")}}},composePath:function(t){for(var e=[],o=t.target,i=o.correspondingElement||o;i&&"HTML"!=i.tagName;)e.push(i),i=i.parentNode;return e},sortableColumns:function(t){var e=this.data.ltPropTags,o=this.closestFind.call(this,t.path?t.path:this.composePath.call(this,t),e.th+":not(.lyteTableFixed)");if(o&&this.$node.contains(o)){var i,l="touchstart"==t.type;if(this.getMethods("onBeforeSelect")&&(i=this.executeMethod("onBeforeSelect",o,t,this.$node)),0!=i){var a=l?t.touches[0]:t;if(this._ww=window.innerWidth,this.offLeft=this.rtlfunc.call(this,"clientX",a,this._ww)-this.rtlfunc.call(this,"left",o.getBoundingClientRect(),this._ww),this.colHead=o,this._thisBccr=this.$node.getBoundingClientRect(),o.classList.add("lyteStickyTableColumnSortSelect"),t.type){var s=document!=window.document?document:document.documentElement;this.mousemove=this.sortableMouseMove.bind(this),s.addEventListener(l?"touchmove":"mousemove",this.mousemove),this.mouseup=this.sortableMouseup.bind(this),s.addEventListener(l?"touchend":"mouseup",this.mouseup),t.preventDefault()}this.flag=!0,this.getMethods("onSelect")&&this.executeMethod("onSelect",o,t,this.$node)}}},horiScroll:function(t,e){var o,i,l,a=this.rtlfunc.call(this,"left"),s=this.isIE11Lyte||this.isEdgeLyte,r=t.manual?10:2;if((/mousemove|touchmove/i.test(t.type)||t.hasOwnProperty("clientX"))&&(o=!0),o){if(this._reqId)return;var n=this.__bcr;i=this.rtlfunc("clientX",t,e)>Math.min(this.rtlfunc("right",n,e),e-2),l=this.rtlfunc("clientX",t,e)<=Math.max(0,this.rtlfunc("left",n,innerWidth))}else i=parseFloat(t.style[a])-this._xxoff+parseFloat(t.style.width)>=this.rtlfunc("right",this._thisBccr,e)-1,l=parseFloat(t.style[a])-this._xxoff+parseFloat(t.style.width)>=this.rtlfunc("left",this._thisBccr,e)-1;if(i){if(this.scrollDiv.scrollLeft+=r*(this._dir?-1*(s?-1:1):1),o){var d=r*(this._dir?-1:1);this.__clientX-=d,this.data.ltPropFixResizeCursor&&(this.__trans_value+=d)}this._reqId=window.requestAnimationFrame(function(){delete this._reqId,this.horiScroll(t,e)}.bind(this))}else if(l){if(o){d=r*(this._dir?-1:1);this.__clientX+=d,this.data.ltPropFixResizeCursor&&(this.__trans_value-=d)}this.scrollDiv.scrollLeft-=r*(this._dir?-1*(s?-1:1):1),this._reqId=window.requestAnimationFrame(function(){delete this._reqId,this.horiScroll(t,e)}.bind(this))}else window.cancelAnimationFrame(this._reqId),delete this._prevent},sortableMouseMove:function(t){var e="touchmove"==t.type,o=t;if(!e||1==o.touches.length){if(e&&(o=o.touches[0]),this.flag&&null==this._timeout){var i,l=this.colHead.getBoundingClientRect(),a=document.createElement("div");a.classList.add("lyteTableSortHelper"),a.innerText=this.colHead.innerText,this._xxoff=i=(window.pageXOffset||document.documentElement.scrollLeft)*(this._dir?-1:1);var s=window.pageYOffset||document.documentElement.scrollTop;a.style.height=l.height+"px",a.style.width=l.width+"px",a.style[this.rtlfunc.call(this,"left")]=i+this.rtlfunc.call(this,"left",l,this._ww)+"px",a.style.top=s+l.top+"px",t.type?this._timeout=setTimeout(function(){_lyteUiUtils.appendChild(document.body,a),this.flag=!1}.bind(this),100):(a.style.opacity=0,a.manual=!0,_lyteUiUtils.appendChild(document.body,a),this.flag=!1)}var r=document.querySelector("div.lyteTableSortHelper");if(r){var n=this._dir?"right":"left",d=window.innerWidth,p=Math.max(Math.min(this.rtlfunc.call(this,"clientX",o,this._ww)-this.offLeft,this.rtlfunc.call(this,"right",this._thisBccr,this._ww)-parseFloat(r.style.width)),this.rtlfunc.call(this,"left",this._thisBccr,this._ww));if(parseFloat(p)>this.rtlfunc("left",this._thisBccr,d)&&parseFloat(p)+parseFloat(r.style.width)<this.rtlfunc("right",this._thisBccr,d)&&(window.cancelAnimationFrame(this._reqId),delete this._prevent,delete this._scrollDir),this._prevent)return;r.style[n]=p+this._xxoff+"px",this._prevent=!0,this.horiScroll(r,d),this.getMethods("onDrag")&&this.executeMethod("onDrag",this.colHead,r,t,this.$node)}t.type&&(t.preventDefault(),t.stopPropagation())}},check_prev_col:function(t,e,o){var i=t.previousElementSibling,l=t.nextElementSibling,a=(o||t).getBoundingClientRect(),s=function(t){if(t){var e=t.getBoundingClientRect();return e.left>=a.left&&e.right<=a.right}};return s(i)?e=i:s(l)&&(e=l),e},check_prev_col:function(t,e,o){var i=t.previousElementSibling,l=t.nextElementSibling,a=(o||t).getBoundingClientRect(),s=function(t){if(t){var e=t.getBoundingClientRect();return e.left>=a.left&&e.right<=a.right}};return s(i)?e=i:s(l)&&(e=l),e},sortableMouseup:function(t){var e=this.data.ltPropRole;if(this.flag)clearTimeout(this._timeout),e&&this.colHead.focus();else{var o=this.data.ltPropTags,i="touchend"==t.type,l=document.getElementsByClassName("lyteTableSortHelper")[0],a=l.getBoundingClientRect(),s=a.left+a.width/2+2,r=a.top+a.height/2,n=this.closestFind.call(this,document.elementsFromPoint?document.elementsFromPoint(s,r):this.elementsFromPointCal.call(this,s,r),o.th+":not(.lyteTableFixed)"),d=this.$node.getElementsByTagName(o.tbody)[0],p=this.colHead;if(l&&n==p&&(n=this.check_prev_col(p,n,l)),n!=this.colHead&&n){var h,c=this.colHead.parentElement.getElementsByTagName(o.th),f=Array.prototype.indexOf.call(c,this.colHead),m=Array.prototype.indexOf.call(c,n),u=this.data.ltPropHeader;if(this.getMethods("onBeforeDrop")&&(h=this.executeMethod("onBeforeDrop",this.colHead,n,f,m,u,t,this.$node)),0!=h){if(u.length){var y=Lyte.arrayUtils(u,"removeAt",f),g=Array.prototype.indexOf.call(n.parentElement.getElementsByTagName(o.th),n);Lyte.arrayUtils(u,"insertAt",f<m?g+1:g,y);var v=n.parentElement.getElementsByTagName(o.th,n.parentElement)[f<m?g+1:g];n.classList.contains("tableRowFixed")&&(v.classList.add("tableRowFixed"),v.style.top=n.style.top),e&&v.focus()}else{var P=this.nthoftype.call(this,d,f),b=this.nthoftype.call(this,d,m),x=function(t,e){var o=t.nextElementSibling;o?_lyteUiUtils.insertBefore(m>f?o:t,e):_lyteUiUtils.insertAfter(t,e)};x(n,this.colHead);for(var L=0;L<P.length;L++)x(b[L],P[L]);e&&this.colHead.focus()}this.getMethods("onDrop")&&this.executeMethod("onDrop",this.colHead,n,f,m,u,t,this.$node)}}else e&&this.colHead.focus(),this.getMethods("onRelease")&&this.executeMethod("onRelease",this.colHead,t,this.$node);l.remove()}var _=document!=window.document?document:document.documentElement;_.removeEventListener(i?"touchend":"mouseup",this.mouseup),_.removeEventListener(i?"touchmove":"mousemove",this.mousemove),this.colHead.classList.remove("lyteStickyTableColumnSortSelect"),window.cancelAnimationFrame(this._reqId),delete this.mouseup,delete this._xxoff,delete this.mousemove,delete this.offLeft,delete this.colHead,delete this.flag,delete this._timeout,delete this._thisBccr,delete this._ww,delete this._reqId,delete this._prevent,delete this._scrollDir,t.type&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())},elementsFromPointCal:function(t,e){for(var o=[],i=document.elementFromPoint(t,e);i!=document&&i!=document.documentElement&&i!=document.body&&i!=this.$node;)i.style.pointerEvents="none",o.push(i),i=document.elementFromPoint(t,e);for(var l=0;l<o.length;l++)o[l].style.pointerEvents="initial";return o},data:function(){var t=_lyteUiUtils.getDefault("lyte-table");return{ltPropContent:Lyte.attr("array",{default:[]}),ltPropHeader:Lyte.attr("array",{default:[]}),ltPropId:Lyte.attr("string",{default:""}),ltPropClass:Lyte.attr("string",{default:t.class||""}),ltPropBorder:Lyte.attr("boolean",{default:t.border||!1}),ltPropHeaderLabelKey:Lyte.attr("string",{default:""}),ltPropBodyLabelKey:Lyte.attr("string",{default:""}),ltPropWidth:Lyte.attr("string",{default:t.width||"100%"}),ltPropHeight:Lyte.attr("string",{default:t.height||"100%"}),ltPropResize:Lyte.attr("object",{default:t.resize||{}}),ltPropFixedColumnClass:Lyte.attr("string",{default:t.fixedColumnClass||""}),ltPropYield:Lyte.attr("boolean",{default:t.yield||!1}),ltPropScroll:Lyte.attr("object",{default:t.scroll||{horizontal:!0,vertical:!0}}),ltPropColumnSortable:Lyte.attr("boolean",{default:t.columnSortable||!1}),ltPropScrollbarOption:Lyte.attr("object",{default:t.scrollbarOption||{}}),ltPropDualResize:Lyte.attr("boolean",{default:t.dualResize||!1}),ltPropData:Lyte.attr("array",{default:[]}),ltPropInfiniteScroll:Lyte.attr("boolean",{default:t.infiniteScroll||!1}),ltPropCellHeight:Lyte.attr("string",{default:t.cellHeight||"20px"}),ltPropContentLength:Lyte.attr("number",{default_values:t.contentLength||void 0}),ltPropPreventScrollbar:Lyte.attr("boolean",{default:t.preventScrollbar||!1}),ltPropRole:Lyte.attr("string",{default:t.role||""}),ltPropStickyTable:Lyte.attr("boolean",{default:t.stickyTable||!1}),ltPropScrollStep:Lyte.attr("number",{default:t.scrollStep||2}),ltPropPreventTableModify:Lyte.attr("boolean",{default:0!=t.preventTableModify}),ltPropSortDummyColumClass:Lyte.attr("string",{default:t.sortDummyColumnClass||""}),ltPropNavigation:Lyte.attr("boolean",{default:t.navigation||!1}),ltPropReset:Lyte.attr("boolean",{default:!1}),ltPropTags:Lyte.attr("object",{default:t.tags||{table:"lyte-table-structure",thead:"lyte-thead",tbody:"lyte-tbody",td:"lyte-td",th:"lyte-th",tr:"lyte-tr"}}),ltPropSortable:Lyte.attr("boolean",{default:t.sortable||!1}),ltPropContainment:Lyte.attr("string",{default:t.containment||""}),lyteUnbound:Lyte.attr("boolean",{default:!1}),ltPropFromListview:Lyte.attr("boolean",{default:!1}),ltPropFixResizeCursor:Lyte.attr("boolean",{default:t.fixResizeCursor||!1}),ltPropResizeAria:Lyte.attr("object",{default:t.resizeAria||{role:"button","aria-live":"assertive"}}),ltPropCellAria:Lyte.attr("object",{default:t.cellAria||{"aria-live":"assertive"}}),ltPropCellIntersection:Lyte.attr("boolean",{default:!1}),ltPropScrollElement:Lyte.attr("string"),ltPropResizeFixedColumn:Lyte.attr("boolean",{default:!1}),columns:Lyte.attr("array",{default:[]}),nonFixedColumn:Lyte.attr("array",{default:[]}),minWidth1:Lyte.attr("string",{default:""}),minWidth2:Lyte.attr("string",{default:""}),secondaryData:Lyte.attr("array",{default:[]}),boundary:Lyte.attr("object",{default:{}}),rowHeights:Lyte.attr("array",{default:[]}),fromListView:Lyte.attr("boolean",{default:!1}),visibleStatus:Lyte.attr("object",{default:{}}),fixedColumnLength:Lyte.attr("number",{default:0})}},resize_fun:function(t){var e="touchstart"==t.type,o=t,i=t.touches;if(e){if(i.length>1)return;o=i[0]}t.type&&t.preventDefault();var l,a=this,s=(a.__bcr,a.__elem),r=(a.__clientX-(a.__clientX=o.clientX))*(a._dir?-1:1),n=a.__clientY-(a.__clientY=o.clientY),d=r,p=a.__min1,h=a.__min2,c=a.__max1,f=a.__max2,m=parseFloat(s.style.width),u=m-r,y=s.nextElementSibling,g="onResizeMove",v=a.__table,P=a.data.ltPropResize,b=a.__dir,x=/vert|both/i.test(b||""),L=$L(a.$node),_=!1;if(b&&(P.horizontal||(r=0),P.vertical||(n=0)),c&&u>c?r=c-m:p&&u<p&&(r=m-p),this.data.ltPropResizeFixedColumn){let t=this.data.fixedColumnLength,e=this.$node.offsetWidth;t+100-r<e||(_=!0,r=t-(e-100))}if(x||null==h)y=void 0;else{var w=parseFloat(y.style.width),D=w+r;f&&D>f?r=w-f:h&&D<h&&(r=h-w),D=w+r}if(x){var C=parseFloat(s.style.height);l=C-n,f&&l>f?n=c-C:h&&l<h&&(n=C-h),l=C-n}if(d&&a.data.ltPropFixResizeCursor&&/lyte-th/i.test(s.tagName)){var T=d-r,E=a.__trans_value;T?a.__trans_value+=T:E&&(E>0&&r<0||E<0&&r>0)&&(y&&(D-=r),Math.abs(E)<Math.abs(r)?(r+=E,a.__trans_value=0):(a.__trans_value+=r,r=0))}if(u=m-r,this.data.fixedColumnLength=this.data.fixedColumnLength-r,v&&$L(v).css("width",parseFloat(v.style.width)-r+"px"),$L(s).css("width",u+"px"),y&&$L(y).css("width",D+"px"),b){var S=L.css("maxWidth",u+"px");l&&(S.css("maxHeight",l+"px"),$L(s).css("height",l+"px"))}window.cancelAnimationFrame(a._reqId),delete a._reqId,!_&&a.horiScroll(t,a.__ww),a.data.ltPropStickyTable&&a._setLeftForInterSection(),this.data.ltPropRole&&$L(s.getElementsByTagName("lyte-tablehead-resize")).attr("aria-label","Width : "+u),a.getMethods(g)&&a.executeMethod(g,s,t,a.$node)},resize_up:function(t){var e=t.touches,o=document,i="removeEventListener",l="onResizeEnd",a=this.__elem;t.type&&(o[i](e?"touchmove":"mousemove",this.__mmove,!0),o[i](e?"touchend":"mouseup",this.__mup,!0)),["__dir","__ww","__min2","__min1","__max1","__max2","__clientX","__clientY","__elem","__bcr","__table"].forEach(function(t){delete this[t]}.bind(this)),$L(this.$node).removeClass("resizing lyteTableResizing"),$L(a).removeClass("resizeSelect lyteTableResizeSelect"),this.clearfdm(),this.getMethods(l)&&this.executeMethod(l,a,this.$node,t)},tableResize:function(t,e){var o="touchstart"==t.type,i=t,l=t.touches;if(o){if(l.length>1)return;i=l[0]}var a=this,s=a.data,r=s.ltPropTags,n=a.$node.getElementsByTagName(r.table)[0],d=e?n:t.target.parentNode,p="onBeforeResizeSelect";if(!a.getMethods(p)||0!=a.executeMethod(p,d,t,a.$node)){var h=d.tagName,c=s.ltPropDualResize,f=$L.fastdom,m=n.style.maxWidth,u=n.style.minWidth,y=n.style.maxHeight,g=n.style.tableLayout,v=$L(n),P=d.offsetWidth,b=h.toLowerCase()==r.th,x=b?d.nextElementSibling:void 0,L=x?x.offsetWidth:0,_=n.offsetWidth,w=a.scrollDiv,D=w.scrollLeft,C=/vert|both/i.test(e||""),T=n.style.height,E=C?/px$/i.test(T)?T:n.offsetHeight+"px":T,S=$L(a.$node),$=window.getComputedStyle(n),M="fixed"==$.tableLayout,F=$.getPropertyValue("max-width"),A=b||(/px/i.test(F)?parseFloat(F):1/0);if(a.__ignore_scroll=!0,a.__bcr=a.$node.getBoundingClientRect(),a.__ww=window.innerWidth,a.__dir=e,a.__trans_value=0,b&&/%|px/i.test($.minWidth)){var H=[];Array.from(a.get_children(d.parentNode)).forEach((function(t){H.push({node:t,width:t.style.width||t.offsetWidth+"px"})})),H.forEach((function(t){t.node.style.width=t.width}))}v.css({maxWidth:"0px",tableLayout:"auto",minWidth:"auto"}),C&&v.css("maxHeight","0px"),S.addClass("lyteTableInitialResize"),a.__fd1=f.measure((function(){var e,l,s=window.getComputedStyle(d),h=parseFloat(s.getPropertyValue("min-width")),T=Math.min(P,Math.max(d.offsetWidth,h)),$=b?parseFloat(s.getPropertyValue("max-width")):A;if(a.data.fixedColumnLength=0,a.data.ltPropResizeFixedColumn&&Array.from($L(n).find(r.thead).find(".lyteFixedColumn")).forEach((function(t){a.data.fixedColumnLength+=t.style.width?parseInt(t.style.width):t.offsetWidth})),0==T&&(T=50),b&&M&&(T=Math.min(T,h)),$<T&&($=T),b){if(c)a.__table=n;else if(x){var F=window.getComputedStyle(x),H=parseFloat(F.getPropertyValue("min-width"));e=Math.min(L,Math.max(x.offsetWidth,H)),l=parseFloat(F.getPropertyValue("max-width")),0==e&&(e=50),M&&(e=Math.min(e,H)),l<e&&(l=e)}}else C&&(l=parseFloat(s.getPropertyValue("max-height")),e=parseFloat(s.getPropertyValue("min-height")));a.__fd2=f.mutate((function(){if(a.__min1=T,a.__min2=e,a.__max1=$,a.__max2=l,a.__clientX=i.clientX,a.__clientY=i.clientY,a.__elem=d,v.css({maxWidth:m,width:_+"px",maxHeight:y,height:E,tableLayout:g,minWidth:u}),$L(d).addClass("resizeSelect lyteTableResizeSelect").css("width",P+"px"),x&&$L(x).css("width",L+"px"),delete a.__ignore_scroll,w.scrollLeft=D,t.type){var s=document,r="addEventListener";s[r](o?"touchmove":"mousemove",a.__mmove=a.resize_fun.bind(a),!0),s[r](o?"touchend":"mouseup",a.__mup=a.resize_up.bind(a),!0)}S.addClass("resizing lyteTableResizing").removeClass("lyteTableInitialResize"),a.getMethods(p="onResizeSelect")&&a.executeMethod(p,d,t,a.$node)}))})),t.type&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())}},actions:{tableResize:function(t,e){this.tableResize(t,e)},rowMouseDown:function(t){this.data.ltPropSortable&&(0==t.button||t.touches&&1==t.touches.length)&&this.rowMouseDown(t)}},clearfdm:function(){var t=$L.fastdom;["__fd1","__fd2"].forEach(function(e){var o=this[e];o&&(t.clear(o),delete this[e])}.bind(this))},arrayFrom:function(t){return Array.from?Array.from(t):Array.apply(Array,t)},closestFind:function(t,e){for(var o=this.arrayFrom.call(this,document.querySelectorAll(e)),i=0;i<t.length;i++)if(-1!=Array.prototype.indexOf.call(o,t[i]))return t[i];return null},findDomIndex:function(t){for(var e=this.data.ltPropData,o=0;o<e.length;o++)if(e[o].index==t)return o;return-1},insertRow:function(t,e){var o=this._boundary,i=o.top,l=o.bottom,a=this.data.ltPropContent,s=this.data.ltPropData,r=this.data.ltPropContentLength;if(this._prevent=!0,Lyte.arrayUtils(a,"insertAt",t,e),t<=l)for(var n=Math.max(i,t);n<=l;n++){var d=this.findDomIndex(n);Lyte.Component.set(s[d],{index:s[d].index,body:a[n]})}if(r>a.length||r>s.length){var p=s.length;Lyte.arrayUtils(s,"push",{index:p,body:a[p],checked:!1}),o.bottom++,this._bottom++,this._rowHgt&&(this._step=this._rowHgt*s.length)}delete this._prevent},removeRow:function(t){var e=this.data.ltPropTags,o=this.arrayFrom($L(e.tbody+" "+e.tr+":not(.dummy)",this.$node));t.constructor!=Number&&(t=t.dataOrder||o.indexOf(t));var i=this.findDomIndex(t),l=this._boundary,a=l.top,s=l.bottom,r=this.data.ltPropContent,n=this.data.ltPropData,d=!1;if(this._prevent=!0,-1!=i){if(s==r.length-1){for(var p=t;p<=s;p++){var h=(i+(p-t)+n.length)%n.length;if(p+1==r.length){if(this.regex(o[h],!0),this._dummy)if((c=this._dummy.style).transform="translateY("+(parseFloat(c.transform.match(/[\d|.]+/gi)[0])-this._rowHgt)+"px)",this._dummy1)(f=this._dummy1.style).transform="translateY("+(parseFloat(f.transform.match(/[\d|.]+/gi)[0])-this._rowHgt)+"px)";r[a-1]&&(Lyte.Component.set(n[h],{index:n[h].index,body:r[a-1]}),o[h].dataOrder=a-1)}else Lyte.Component.set(n[h],{index:n[h].index,body:r[p+1]}),o[h].dataOrder--}r.length-1==n.length-1?(Lyte.arrayUtils(n,"pop"),d=!0,this._bottom=(this._bottom-1+n.length)%n.length):l.top>t&&l.top--,0!=this._top&&(this._top=(this._top-1+n.length)%n.length),this._bottom=(this._bottom-1+n.length)%n.length,l.bottom--,0!=l.top&&l.top--}else{for(p=t;p<=s;p++){h=(i+(p-t)+n.length)%n.length;Lyte.Component.set(n[h],{index:n[h].index,body:r[p+1]})}if(this._dummy)(c=this._dummy.style).height=Math.max(0,parseFloat(c.height)-this._rowHgt)+"px"}Lyte.arrayUtils(r,"removeAt",t)}else{if(Lyte.arrayUtils(r,"removeAt",t),t<a){for(p=a;p<=s;p++){h=(this._top+p-a+o.length)%o.length;Lyte.Component.set(n[h],{index:n[h].index,body:r[p==r.length?a-1:p]})}var c,f;if((c=this._dummy.style).transform="translateY("+Math.max(0,parseFloat(c.transform.match(/[\d|.]+/gi)[0])-this._rowHgt)+"px)",this._dummy1)(f=this._dummy1.style).transform="translateY("+Math.max(0,parseFloat(f.transform.match(/[\d|.]+/gi)[0])-this._rowHgt)+"px)"}else t>s&&this._dummy&&(this._dummy.style.height=Math.max(0,parseFloat(this._dummy.style.height)-this._rowHgt)+"px");r.length<this.data.ltPropContentLength&&!d&&Lyte.arrayUtils(n,"pop")}delete this._prevent},scrollToRecord:function(t,e,o){var i=this.data.ltPropContent.length;null==t||t<0||t>=i||(this._rowHgt||this.$node.scrollTable(),$L.fastdom.clear(this._scrollToRecord),e?this.processScrollToRecord(t,o):this._scrollToRecord=$L.fastdom.measure(this.processScrollToRecord.bind(this,t)))},processScrollToRecord:function(t,e){var o,i=this._boundary,l=(i.top,i.bottom),a=this.data.ltPropContent,s=this.data.ltPropData,r=s.length,n=a.length,d=this._step,p=this._rowHgt,h=this.scrollDiv,c=h.offsetHeight,f=h.scrollHeight,m=(h.scrollTop,Math.floor(c/p)),u=Math.max(0,Math.min(t,n-Math.min(r,m))),y=u*p,g=this.data.ltPropTags;if(a.length<=r)o=Math.max(0,Math.min(f-c,t*p));else if(l-m>=t)o=y;else{if(u!=t){y+=d-c;var v=$L(g.thead,this.$node).get(0);v&&(y+=v.offsetHeight)}f=h.scrollHeight;for(var P=this.arrayFrom($L(g.tbody+" "+g.tr+":not(.dummy)",this.$node)),b=Math.floor(u/r),x=0;x<r;x++){var L=u+x,_=L%r,w=P[_],D=b;L>=n?(u%r<_&&D--,L-=r):u%r>_&&D++,Lyte.Component.set(s[_],{index:L,body:a[L]}),this.cellSet(w,"translateY(0px)");for(var C=0;C<D;C++)this.regex(w)}this._dummy||this.createDummy(this.$node.querySelector(g.tbody));var T=Math.min(u,n-r);this._dummy.style.transform="translateY("+T*p+"px)",this._dummy1&&(this._dummy1.style.transform="translateY("+T*p+"px)"),o=y,i.top=T,i.bottom=T+r-1,this._top=T%r,this._bottom=(T+r-1)%r}var E=function(){h.querySelector("lyte-table-structure").style.height=r*p+"px",h.scrollTop=o};null!=e?(o=e,E()):window.requestAnimationFrame(E)},calculateRowHeight:function(){let t=this.$node.getElementsByTagName(this.data.ltPropTags.tbody)[0].children[0],e=t&&t.getBoundingClientRect().height;return this._rowHgt=e},update_aria:function(t){var e=t.parentNode,o=this.get_children(e).indexOf(t),i=e.parentNode.parentNode,l="setAttribute",a="role",s=this.data.ltPropTags;i[l](a,this.data.ltPropRole),Array.from(this.get_children(i)).forEach(function(t){if(!/^div$/i.test(t.tagName||"")){t[l](a,"rowgroup");var e=t.tagName.toLowerCase()==s.thead?"columnheader":"cell";Array.from(this.get_children(t)).forEach(function(t){t[l](a,"row");var i=this.get_children(t)[o];i&&i[l](a,e)}.bind(this))}}.bind(this))},get_children:function(t){for(var e=null!=t.length?t:[t],o=[],i=e.length,l=0;l<i;l++)for(var a=e[l].children,s=a.length,r=0;r<s;r++){var n=a[r];/template/i.test(n.tagName)||o.push(n)}return o},get_nth_cell:function(t,e){var o=this.get_children(t),i=o.length,l=0;if(this.data.ltPropFromListview)return o[e];for(var a=0;a<i;a++){var s=o[a];if(l==e)return s;if(l>e)break;l+=s.colSpan||1}},update_collapse:function(t){this.__from_collapse||Array.from(this.$node.getElementsByClassName("lyteHeaderCellCollapsed")).forEach((function(e){this.toggle_column(e,!0,t)}))},toggle_column:function(t,e,o){var i=Array.from(t.parentNode.children).indexOf(t),l=this.$node.getElementsByTagName(this.data.ltPropTags.tbody),a=this.get_children(l),s=this.data.ltPropStickyTable;t.classList[e?"add":"remove"]("lyteHeaderCellCollapsed"),a.forEach(function(t,o){var l=this.get_nth_cell(t,i);l&&(o||(l.rowSpan=e?a.length:1,l.classList[e?"add":"remove"]("lyteCollapseFirstCell")),l.classList[e?"add":"remove"]("lyteCellCollapsed"))}.bind(this)),this.__from_collapse||o||!s&&!t.classList.contains("lyteTableFixed")||($L.fastdom.clear(this.__collpse_fdom),this.__from_collapse=!0,this.__collpse_fdom=$L.fastdom.measure(function(){delete this.__collpse_fdom,this.$node[s?"reset":"scrollTable"](),delete this.__from_collapse}.bind(this)))},collapse_column:function(t){this.toggle_column(t,!0)},expand_column:function(t){this.toggle_column(t)},bindIntersection:function(t){window.requestAnimationFrame(function(){var e=this.__cell_inter,o=Array.from(t.parentNode.children).indexOf(t);Array.from(t.parentNode.parentNode.nextElementSibling.children).forEach((function(t){var i=t.children[o];i&&e.observe(i)}))}.bind(this))}},{mixins:["lyte-table-utils","lyte-table-sortable"]}),!_lyteUiUtils.registeredCustomElements["lyte-th"]){function resizeTable(t){if(!t||"resize"!=t.type||!_lyteUiUtils.isMobile){var e=function(t){var e=t.component.scrollDiv,o=$L(e);e&&o.resetScrollbar&&o.resetScrollbar()},o=t&&"orientationchange"==t.type;Array.from(document.body.getElementsByTagName("lyte-table")).forEach((function(t){o?setTimeout(e.bind(this,t),500):e(t)}))}}_lyteUiUtils.registeredCustomElements["lyte-th"]=!0,Lyte.createCustomElement("lyte-th",{static:{observedAttributes:{get:function(){return["fixed","resize","icon","sticky-position","collapse"]}}},getTable:function(){var t="lyte-table";return this.__table||(this.__table=this.closest?this.closest(t):$L(this).closest(t).get(0))},getSticky:function(){var t=this.__is_sticky;return null==t?this.__is_sticky=this.getTable().ltProp("stickyTable"):t},connectedCallback:function(){var t=this.getTable();t&&t.ltProp("role")&&t.ltProp("yield")&&t.component.update_aria(this),t&&t.ltProp("cellIntersection")&&t.component.bindIntersection(this),this.parentNode.previousElementSibling&&this.classList.add("lyteTableSecondaryHeader")},attributeChangedCallback:function(t,e,o){var i=$L(this);switch(t){case"fixed":i[((d="enable"==o)?"add":"remove")+"Class"]("lyteFixedColumn"),this.getSticky()&&this.__table.component.checkIntersection.call(this,d);break;case"resize":var l="lyte-tablehead-resize";if("enable"==o){var a=document.createElement(l),s="addEventListener",r=this.resize,n=this.getTable();a[s]("mousedown",r),a[s]("touchstart",r),n&&n.ltProp("role")&&n.ltProp("yield")&&(a.tabIndex=i.attr("tabindex"),$L(a).attr(n.ltProp("resizeAria"))),this.appendChild(a)}else{(a=this.getElementsByTagName(l)[0])&&this.removeChild(a)}break;case"icon":i[("disable"==o?"add":"remove")+"Class"]("lytePreventIcon");break;case"sticky-position":if("enable"==i.attr("fixed")&&this.getSticky()){var d="right"==o,p=this.__table.component,h=(r=d?"add":"remove","lyteTableRightFixed");if(!d&&!i.hasClass(h))return;p.stickyFunction(this,!1,r+"Class",h),p.checkIntersection.call(this,d,!0)}break;case"collapse":(p=this.getTable())&&("true"==o?p.component.collapse_column(this):"true"==e&&p.component.expand_column(this))}},resize:function(t){var e=$L(t.target).closest("lyte-table")[0];if(!this.parentNode.classList.contains("lyteTableFixed")||e.ltProp("resizeFixedColumn"))return e.component.tableResize(t),!0},disconnectedCallback:function(){this.__is_sticky&&this.__table.component.disconnectedCallback.call(this),delete this.__table}})}
