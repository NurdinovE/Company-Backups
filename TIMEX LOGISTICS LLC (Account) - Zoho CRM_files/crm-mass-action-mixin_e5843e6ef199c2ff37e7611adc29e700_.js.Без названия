Lyte.Mixin.register("crm-mass-action-mixin",{massAction:function(e,t,s,r,a,o){var i=networkUtils.returnDependencyFiles(["crm-mass-actions.js","lyte-hovercard.js","crux-lookupfilter-component.js","crux-column-list.js","pipeline_picklist_model.js"],ResourceConstants.CRMClient);i=i.concat(networkUtils.returnDependencyFiles(["crm-mass-action.css"],ResourceConstants.CRMClient,ResourceConstants.LESSDEFAULT)),i="change_owner"===e?i.concat(networkUtils.returnDependencyFiles([networkUtils.getI18nJSUrl("changeowner")],ResourceConstants.CRM)):i.concat(networkUtils.returnDependencyFiles([networkUtils.getI18nJSUrl("massAction")],ResourceConstants.CRM)),Lyte.injectResources(i,void 0,function(){if("mass_delete"===e){if(("Accounts"===t||"Contacts"===t)&&(crmTab.isBooksIntegrated()||crmTab.isInvoiceIntegrated()))return void Lyte.registeredMixins["crm-mass-action-mixin"].alertForInvoiceIntegration(e,s,t,r,a);Lyte.registeredMixins["crm-mass-action-mixin"].showDeletePopup(t,s,r,a)}else if("mass_update"===e){var i=$L("crm-field-update"),n=this;commonUtils.showHideLoadingDiv(!0),store.clearCachedQuery("layout");var l={};"Activities"===t?l.activities=store.findAll("field",{module:moduleApiMapping.Activities},!1,!0,{apiVersion:"2.2"}):l.module=store.findAll("layout",{module:moduleRecordMapping[t].api_name},!1,!0,{apiVersion:"2.2",moduleSet:!0,set_available_user_layout:!0,subformModuleSet:!0}),Lyte.resolvePromises(l).then((function(e){commonUtils.showHideLoadingDiv(!1),s.fields=n.getMassUpdateFields(t,e),0!==s.fields.length?(0===i.length&&i.push(Lyte.Component.render("crm-field-update",{module:t},"#show")),i[0].show(s,r,a)):_cruxUtils.showCustomAlert({params:{ltPropWrapperClass:"massToolAlert",ltPropContentAlign:"center",ltPropButtonPosition:"center",ltPropSecondaryMessage:I18n.getMsg("crm.nomassupdatefield1"),ltPropButtons:[{type:"accept",text:I18n.getMsg("crm.button.ok.got.it"),appearance:"primary"}],ltPropButtonPosition:"center"}})}))}else if("change_owner"===e){if("macro"===s.from)var d=objectUtils.getMatchedKey(moduleApiMapping,t),c=store.peekRecord("module",moduleRecordMapping[d].id);else c=store.peekRecord("module",moduleRecordMapping[t].id);i=$L("crm-change-owner");if("mass_tool_from"===s.from)0===i.length&&i.push(Lyte.Component.render("crm-change-owner",{module:t,userFilterable:!(!s||"mass_tool_from"!==s.from),isSubordinateListing:!0===Crm.userDetails.permissions.Crm_Implied_List_Subordinate_Users},"#show")),i[0].show(s,r,a);else{l={},n=this;if(commonUtils.showHideLoadingDiv(!0),"macro"===s.from){d=objectUtils.getMatchedKey(moduleApiMapping,t);l.module=store.findRecord("module",moduleRecordMapping[d].id,void 0,void 0,void 0,{getMeta:!0})}else c.chart_view||(l.module=store.findRecord("module",moduleRecordMapping[t].id,void 0,void 0,void 0,{getMeta:!0}));customViewObject.doMassActioninScheduler||(l.owner_data=c.$.triggerAction("owner_config_state",{type:"GET",from:"changeowner"},{feature_name:o||"change_owner"}),l.profile=store.findRecord("profile",store.peekRecord("user",Crm.userDetails.USER_ID).profile.id,"","","",{from:"changeowner"})),Lyte.resolvePromises(l).then((function(e){if(customViewObject.doMassActioninScheduler)e.owner_data={};else{var l;if("Activities"===t)l=!(l=!1===Crm.userDetails.permissions.Crm_Implied_View_Calls&&!1===Crm.userDetails.permissions.Crm_Implied_View_Events&&!1===Crm.userDetails.permissions.Crm_Implied_View_Tasks);else if("macro"===s.from){var d=objectUtils.getMatchedKey(moduleApiMapping,t);"Deals"===d&&(d="Potentials"),l=Crm.userDetails.permissions["Crm_Implied_View_"+d]&&"change_owner"===o?Crm.userDetails.permissions["Crm_Implied_Change_Owner_"+d]:Crm.userDetails.permissions["Crm_Implied_Mass_Transfer_"+d]}else l=Crm.userDetails.permissions["Crm_Implied_View_"+t]&&"change_owner"===o?Crm.userDetails.permissions["Crm_Implied_Change_Owner_"+t]:Crm.userDetails.permissions["Crm_Implied_Mass_Transfer_"+t];l||renderingUtils.displayPermissionDenied(),Object.keys(e.owner_data).length||"detail_view"===s.from||(e.owner_data=n.getDefaultRelatedList(t))}if(0===i.length&&(l||customViewObject.doMassActioninScheduler))i.push(Lyte.Component.render("crm-change-owner",{module:t,ownerData:e.owner_data,userFilterable:!1,type:o},"#show"));else{var c=i[0].component,m=!1;i[0].component.data.module!==t&&(m=!0),c.setData({ownerData:e.owner_data,module:t,isModuleChanged:m})}!0===Crm.userDetails.permissions.Crm_Implied_List_Subordinate_Users&&i[0].component.setData("isSubordinateListing",!0),i.length>0&&(i[0].component.getOwnerfig=!0,i[0].show(s,r,a)),commonUtils.showHideLoadingDiv(!1)}),(function(e){customViewObject.fromQuickActionsMenu&&(customViewObject.selectedIdForQuickAction=[],customViewObject.fromQuickActionsMenu=!1),403===e.status&&renderingUtils.displayPermissionDenied(),commonUtils.showHideLoadingDiv(!1)}))}}else"mass_convert"===e&&"Leads"===t&&showMassConvertDialog(t,s.selectedIds.join(";"),!0)}.bind(this))},getDefaultRelatedList:function(e){var t={Tasks:!0,Calls:!0,Events:!0};return"Accounts"===e?(t.Contacts=!0,t.Deals=!0):"Contacts"===e&&(t.Deals=!0),{owner_config_state:[t]}},showDeletePopup:function(e,t,s,r){var a=$L("crm-record-delete");0===a.length?a.push(Lyte.Component.render("crm-record-delete",{module:e},"#show")):e&&(a[0].component.data.module=e),a[0].show(t,s,r)},alertForInvoiceIntegration:function(e,t,s,r,a){var o=new Array,i=$L("#id"),n=i&&i.length?i[0].value:"",l=t&&t.selectedIds?t.selectedIds:t&&t.ids?t.ids:"fromDetailsView"===e?new Array(n):o,d=null;"module"in window?d=s.value:s?d=s:"zbCustomModuleObjForAccountContactDeletion"in window&&(d=zbCustomModuleObjForAccountContactDeletion.module),ZInvoice.fetchAssociatedIds(d,l,(function(e){if(e.length>0){var s;s=!(l.length>1);var o=moduleRecordMapping[d].singular_label,i=moduleRecordMapping[d].plural_label,c=I18n.getMsg("crm.cannot.delete.account.contact.singular",o.toLowerCase()),m=I18n.getMsg("crm.cannot.delete.account.contact.plural",i.toLowerCase()),p=s?c:m;p=null===n?p:c;var u=I18n.getMsg("crm.cannot.delete.account.contact.header",s?o:i);_cruxUtils.showCustomAlert({params:{ltPropWrapperClass:"massToolAlert mToolsInventoryAlert",ltPropContentAlign:"center",ltPropButtonPosition:"center",ltPropPrimaryMessage:u,ltPropSecondaryMessage:p,ltPropButtons:[{type:"accept",text:I18n.getMsg("crm.button.ok"),appearance:"default"}],ltPropButtonPosition:"center"}})}else Lyte.registeredMixins["crm-mass-action-mixin"].showDeletePopup(d,t,r,a)}))},getMassUpdateFields:function(e,t){var s;if(void 0===t){var r=store.peekRecord("module",moduleRecordMapping[e].id);s=Lyte.deepCopyObject(r.fields)}else if("Activities"===e)s=Lyte.deepCopyObject(t.activities);else{s=Lyte.deepCopyObject(t.module[0].fields);for(var a=t.module.length,o=1;o<a;o++){var i=t.module[o];s.push(...Lyte.deepCopyObject(i.fields.filter((function(e){return!s.filter((function(t){return t.id===e.id}))[0]}))))}}for(var n=s.length,l=0;l<n;l++){s[l].zcqa="select_"+s[l].api_name;s[l].visible&&!s[l].read_only&&("Campaign_Source"===s[l].api_name&&(s[l].mass_update||!s[l].custom_field)||-1===[0,2,9,17].indexOf(s[l].show_type)&&s[l].mass_update)&&(!customViewObject.doMassActioninScheduler||"Layout"!==s[l].api_name&&"Pipeline"!==s[l].api_name)||(s.splice(l,1),l--,n--)}return s},handleDeleteErrors:function(e){var t,s=JSON.parse(e.response);if(403===e.status||401===e.status||400===e.status&&("NO_PERMISSION"===s.code||void 0!==s.data&&"NO_PERMISSION"===s.data[0].code))return renderingUtils.displayPermissionDenied(),!1;if(customViewObject.doMassActioninScheduler){var r=I18n.getMsg("crm.mass.actions.delete"),a=I18n.getMsg("crm.mass.actions.scheduled.fail",[r]);_cruxUtils.showCustomMessage({id:"",params:{ltPropType:"error",ltPropMessage:a,ltPropDuration:"4000"}})}else{var o,i=JSON.parse(e.response);if(t=["cannot be deleted as it is involved in product configurator or price rule","cannot be deleted as it is involved in inventory record or product configurator or price rule","The product cannot be deleted as it is involved in inventory record","The product cannot be deleted as it is involved in inventory record or in a Bundle"],i.message&&(i={data:[i]}),i&&i.data&&"CANNOT_DELETE"===i.data[0].code)return renderingUtils.displayPermissionDenied(),!1;if(i&&i.data&&i.data.length>1)for(var n=i.data.length,l=0;l<n;l++){if(void 0!==o&&o!==i.data[l].message)return _cruxUtils.showCustomMessage({id:"",params:{ltPropType:"error",ltPropMessage:I18n.getMsg("crm.massdelete.record.failure"),ltPropDuration:"4000"}}),!0;o=i.data[l].message}if(i&&i.data[0]&&("Sorry, you cannot perform this operation as the record is locked."===i.data[0].message||"Cannot delete records under merge"===i.data[0].message))return _cruxUtils.showCustomMessage({id:"massDeleteLock",params:{ltPropType:"error",ltPropMessage:I18n.getMsg("crm.massdelete.record.lock.failure"),ltPropDuration:"3000"}}),!1;if(i&&i.data&&i.data[0]&&-1!==t.indexOf(i.data[0].message)){var d=moduleRecordMapping[Lyte.Router.getRouteInstance().currentModel.module];if(void 0===d&&(d=moduleRecordMapping[this.getData("module")]),"Products"!==d.module_name||"The product cannot be deleted as it is involved in inventory record or in a Bundle"!==i.data[0].message&&!moduleRecordMapping.Bundles)if("Products"===d.module_name){c=[moduleRecordMapping.Quotes.plural_label,moduleRecordMapping.SalesOrders.plural_label,moduleRecordMapping.PurchaseOrders.plural_label,moduleRecordMapping.Invoices.plural_label];o=window.clientPortalName?I18n.getMsg("crm.cpq.cannotdelete.rules.list.clientportal"):I18n.getMsg("crm.cpq.cannotdelete.rules.list",[moduleRecordMapping.Products.singular_label].concat(c))}else o=window.clientPortalName?I18n.getMsg("crm.cpq.cannotdelete.rules.list.clientportal"):I18n.getMsg("crm.cpq.cannotdelete.cpqrules.list",d.plural_label);else{var c=[moduleRecordMapping.Quotes.plural_label,moduleRecordMapping.SalesOrders.plural_label,moduleRecordMapping.PurchaseOrders.plural_label,moduleRecordMapping.Invoices.plural_label,moduleRecordMapping.Bundles.plural_label];o=window.clientPortalName?I18n.getMsg("crm.cpq.cannotdelete.rules.list.clientportal"):I18n.getMsg("crm.bundle.cannotdelete.entity.list",[moduleRecordMapping.Products.plural_label].concat(c))}return _cruxUtils.showCustomAlert({params:{ltPropWrapperClass:"massDeleteCPQAlert",ltPropCloseOnEscape:!1,ltPropContentAlign:"center",ltPropButtonPosition:"center",ltPropHeading:I18n.getMsg("crm.cannot.delete.products.listView",d.singular_label),ltPropSecondaryMessage:o,ltPropButtons:[{type:"accept",text:I18n.getMsg("crm.button.ok"),appearance:"primary"}],ltPropButtonPosition:"center"}}),!1}if(400===e.status&&i.data&&("INVALID_DATA"===i.data[0].code||"NOT_APPROVED"===i.data[0].code))return _cruxUtils.showCustomMessage({id:"",params:{ltPropType:"error",ltPropMessage:I18n.getMsg("crm.massdelete.record.failure"),ltPropDuration:"4000"}}),!0}},handleUpdateErrors:function(e){var t,s=0;if("NO_PERMISSION"===(e=JSON.parse(e.response)).code||"NO_PERMISSION"===e.data[0].code)return renderingUtils.displayPermissionDenied(),!1;if(e&&e.data&&e.data[0]){s=e.data.length;for(var r=0;r<s;r++){if(void 0!==t&&t!==e.data[r].message)return _cruxUtils.showCustomMessage({id:"",params:{ltPropType:"error",ltPropClass:"",ltPropMessage:I18n.getMsg("crm.massupdate.record.failure"),ltPropDuration:"4000"}}),!0;t=e.data[r].message}return"Sorry, you cannot perform this operation as the record is locked."===e.data[0].message?(_cruxUtils.showCustomMessage({id:"massUpdateLock",params:{ltPropType:"error",ltPropMessage:I18n.getMsg("crm.massupdate.record.lock.failure"),ltPropDuration:"3000"}}),!1):"picklist not found in record layout"===e.data[0].message||"picklist not found"===e.data[0].message||"Pipeline doesn't contain the Stage"===e.data[0].message?(_cruxUtils.showCustomAlert({params:{ltPropWrapperClass:"massToolAlert",ltPropCloseOnEscape:!1,ltPropContentAlign:"center",ltPropButtonPosition:"center",ltPropSecondaryMessage:I18n.getMsg("crm.massupdate.single.layout.error.msg",I18n.getMsg("crm.label.picklists")),ltPropButtons:[{type:"accept",text:I18n.getMsg("crm.button.ok.got.it"),appearance:"primary"}],ltPropButtonPosition:"center"}}),!1):(t="INVALID_DATA"===e.data[0].code?"This field cannot be updated in the Mass Update"===e.data[0].message?I18n.getMsg("crm.massupdate.field.failure"):"the id given seems to be invalid"===e.data[0].message||e.data[0].details&&Object.keys(e.data[0].details).includes("id")?I18n.getMsg("crm.massupdate.record.failure"):I18n.getMsg("crm.massupdate.field.failure"):"RECORD_IN_BLUEPRINT"===e.data[0].code?I18n.getMsg("crm.massupdate.blueprint.failure"):I18n.getMsg("crm.massupdate.record.failure"),_cruxUtils.showCustomMessage({id:"",params:{ltPropType:"error",ltPropClass:"",ltPropMessage:t,ltPropDuration:"4000"}}),!0)}return _cruxUtils.showCustomMessage({id:"",params:{ltPropType:"error",ltPropClass:"",ltPropMessage:I18n.getMsg("error.unknown.problem"),ltPropDuration:"4000"}}),!0},handleUpdateSuccess(e,t,s){var r=!1,a=0,o=0,i=0,n=0;(e=e.data).forEach((function(e){"picklist not found in record layout"===e.message?(r=!0,o++):"Sorry, you cannot perform this operation as the record is locked."===e.message?i++:"FILTER_CRITERIA_NOT_SATISFIED"===e.code?n++:"SUCCESS"===e.code&&a++}));var l=e.length-(o+i+a);if(a===e.length)return _cruxUtils.showCustomMessage({id:"massUpdate",params:{ltPropType:"success",ltPropMessage:I18n.getMsg("crm.masstool.update.success"),ltPropDuration:"4000"}}),!0;if(l||o&&i&&n){var d=l+i+o;r=I18n.getMsg("crm.lookupfilter.massupdate.failure",[a,d])}else l||(o?(a&&(r=I18n.getMsg("crm.massupdate.partial.sucess.msg",a)),r+=I18n.getMsg("crm.massupdate.multiple.layout.error.msg",[o,I18n.getMsg("crm.label.picklist")])):r=I18n.getMsg("crm.massupdate.bulk.lock.failure",[a,i]));return _cruxUtils.showCustomAlert({id:"massUpdateLockMixed",params:{ltPropWrapperClass:"massToolAlert",ltPropContentAlign:"center",ltPropCloseOnEscape:!1,ltPropButtonPosition:"center",ltPropSecondaryMessage:r,ltPropButtons:[{type:"accept",text:I18n.getMsg("crm.button.ok.got.it"),appearance:"primary",cxPropZcqa:"massUpdateLockMixed"}],ltPropButtonPosition:"center"},accept:function(){s(t,!0)}}),!1},getCriteriaFields:function(e,t){var s=this.currentModel,r=s.module,a=["PARTICIPANTID","ISCALLBILLABLE","FORECASTCATEGORY","CHECKINLONGITUDE","CHECKINLATITUDE","PUBLISHED","PRODUCTDETAILS","PREDICTIONSCORE","ACCOUNTCF501","ZCAMPAIGNID","ISCTICALL","BEST_TIME","ISDUPLICATE","ISAPPROVED","CONVERTEDDATE","JOBSHEETSECTION"],o=e.length,i=[0,2,9,17],n=[66,999,3,123,1234,134,500,555,444,445,556];"Tasks"===r&&a.push("SENDNOTIFICATION"),"update"!==s.type&&a.push("FULLNAME");for(var l=moduleRecordMapping.Contacts.fields,d=0;d<o;d++)if(!e[d].filterable||!e[d].visible||-1!==a.indexOf(e[d].column_name)||-1!==n.indexOf(e[d].ui_type)||t&&-1!==["SMOWNERID","SMCREATORID","MODIFIEDBY","DESCRIPTION","MODIFIEDTIME","CREATEDTIME"].indexOf(e[d].column_name)||-1!==i.indexOf(e[d].show_type)&&"Full_Name"!==e[d].api_name||"update"!==this.currentModel.type&&"linking"===moduleRecordMapping[s.module].generated_type&&-1!==["UNSUBSCRIBEDTIME","UNSUBSCRIBEDMODE"].indexOf(e[d].column_name))e.splice(d,1),d-=1,o-=1;else if(t){var c=moduleRecordMapping.Accounts.module_name;l.find((t=>t.field_label===e[d].field_label))&&(e[d].field_label=e[d].field_label+" ("+c+")"),e[d].api_name=t+"."+e[d].api_name}else"Activities"===r&&e[d].sub_module&&"Activities"!==e[d].sub_module.api_name&&(e[d].field_label=e[d].field_label+" ("+moduleRecordMapping[e[d].sub_module.api_name].plural_label+")");return e},getHardCodedColumns:function(){var e,t=this.currentModel.module;switch(t){case"Leads":e=["FULLNAME","COMPANY","PHONE","EMAIL","STATUS","COUNTRY","CREATEDTIME"];break;case"Contacts":e=["FULLNAME","EMAIL","PHONE","CREATEDTIME"];break;case"Accounts":e=["ACCOUNTNAME","PHONE","ACCOUNTTYPE","ANNUALREVENUE"];break;case"Potentials":e=["POTENTIALNAME","AMOUNT","STAGE","CLOSINGDATE"];break;case"Activities":e=["SUBJECT","ACTIVITYTYPE","STARTDATETIME","DUEDATE","STATUS","PRIORITY"];break;case"Tasks":e=["SUBJECT","DUEDATE","STATUS","PRIORITY"];break;case"Calls":e=["SUBJECT"];break;case"Events":e=["SUBJECT","STARTDATETIME"];break;case"Campaigns":e=["CAMPAIGNNAME","TYPE","STATUS","STARTDATE","ENDDATE"];break;case"Products":e=["PRODUCTNAME","PRODUCTCODE","ACTIVE","MANUFACTURER","SUPPORT_START_DATE","SUPPORT_EXPIRY_DATE"];break;case"Bundles":e=["BUNDLENAME","BUNDLECODE","BUNDLESTATUS","BUNDLEPRICE"];break;case"Cases":e=["CASESUBJECT","CASEREASON","EMAIL","STATUS","PRIORITY","TYPE","CREATEDTIME"];break;case"Vendors":e=["VENDORNAME","PHONE","EMAIL","WEBSITE","CATEGORY","COUNTRY"];break;case"PriceBooks":e=["BOOKNAME","ACTIVE"];break;case"Solutions":e=["SOLUTIONTITLE","SOLUTIONNUMBER","STATUS","COMMENTCOUNT"];break;default:e=["NAME","EMAIL"]}"custom"===moduleRecordMapping[t].generated_type&&(e=["NAME","EMAIL","CREATEDTIME"]),e.push("SMOWNERID");var s=moduleRecordMapping[t].fields.slice(0).filter((function(s){if(e.includes(s.column_name)){var r=s.profiles?s.profiles.length:0;if(!r)return!0;for(var a=0;a<r;a++)if((Crm.userDetails.PROFILE_NAME===s.profiles[a].name||moduleRecordMapping[t].private_profile&&moduleRecordMapping[t].private_profile.name===s.profiles[a].name)&&"hidden"!==s.profiles[a].permission_type)return!0}})).sort((function(t,s){return e.indexOf(t.column_name)-e.indexOf(s.column_name)}));return{fields:s,apiNames:s.map((e=>e.api_name))}},checkPermission:function(e,t,s){var r,a,o=store.peekRecord("profile",e).permissions_details,i=!0,n="Update"===s?"Edit":s;if("Activities"===t){var l=o.find((e=>"Crm_Implied_View_Calls"===e.name)),d=o.find((e=>"Crm_Implied_View_Events"===e.name)),c=o.find((e=>"Crm_Implied_View_Tasks"===e.name));r=!(r=void 0===l||(!1===l.enabled||!1===d.enabled||!1===c.enabled))}else{var m=o.find((e=>e.name==="Crm_Implied_View_"+t));r=void 0!==m&&m.enabled}return!!r&&("Update"!==s&&"Delete"!==s||(i="Activities"===t?!(i=!1===o.find((e=>e.name==="Crm_Implied_"+n+"_Calls")).enabled&&!1===o.find((e=>e.name==="Crm_Implied_"+n+"_Events")).enabled&&!1===o.find((e=>e.name==="Crm_Implied_"+n+"_Tasks")).enabled):o.find((e=>e.name==="Crm_Implied_"+n+"_"+t)).enabled),(a="Activities"===t?Crm.isActivitySplitDone?!(a=!1===o.find((e=>e.name==="Crm_Implied_Mass_"+s+"_Calls")).enabled&&!1===o.find((e=>e.name==="Crm_Implied_Mass_"+s+"_Events")).enabled&&!1===o.find((e=>e.name==="Crm_Implied_Mass_"+s+"_Tasks")).enabled):void 0!==(a=o.find((e=>e.name==="Crm_Implied_Mass_"+s+"_"+t)))&&a.enabled:o.find((e=>e.name==="Crm_Implied_Mass_"+s+"_"+t)).enabled&&i)&&i)},checkPermissionForTeamModule:function(e,t){var s,r,a=!0,o="Update"===t?"Edit":t;if("Activities"===e){var i=Crm.userDetails.permissions.Crm_Implied_View_Calls,n=Crm.userDetails.permissions.Crm_Implied_View_Events,l=Crm.userDetails.permissions.Crm_Implied_View_Calls_Tasks;s=!(s=void 0===i||(!1===i||!1===n||!1===l))}else{var d=Crm.userDetails.permissions["Crm_Implied_View_"+e];s=void 0!==d&&d}return!!s&&("Activities"!==e||"Update"!==t&&"Delete"!==t?"Update"!==t&&"Delete"!==t||(a=Crm.userDetails.permissions["Crm_Implied_"+o+"_"+e]):a=!(a=!1===Crm.userDetails.permissions["Crm_Implied_"+o+"_Calls"]&&!1===Crm.userDetails.permissions["Crm_Implied_"+o+"_Events"]&&!1===Crm.userDetails.permissions["Crm_Implied_"+o+"_Tasks"]),(r="Activities"===e&&Crm.isActivitySplitDone?!(r=!1===Crm.userDetails.permissions["Crm_Implied_Mass_"+t+"_Calls"]&&!1===Crm.userDetails.permissions["Crm_Implied_Mass_"+t+"_Events"]&&!1===Crm.userDetails.permissions["Crm_Implied_Mass_"+t+"_Tasks"]):"Activities"!==e||Crm.isActivitySplitDone?Crm.userDetails.permissions["Crm_Implied_Mass_"+t+"_"+e]&&a:void 0!==(r=Crm.userDetails.permissions["Crm_Implied_Mass_"+t+"_"+e])&&r)&&a)}});
