store.registerModel("game_team",{id:Lyte.attr("string",{primaryKey:!0}),name:Lyte.attr("string"),logo_id:Lyte.attr("string"),lead:Lyte.attr("object"),members:Lyte.attr("array"),created_time:Lyte.attr("string"),modified_time:Lyte.attr("string"),created_by:Lyte.attr("object"),modified_by:Lyte.attr("object"),logosrc:Lyte.attr("string"),member_count:Lyte.attr("number")}),store.registerAdapter("game_team",{namespace:"crm/v2.2/Gamescope",headersForRequest:function(){var e=this.$super.headersForRequest(e);return e},buildURL:function(e,t,r,a,m){return m=m.replace("game_team","teams")},methodForRequest:function(e){return"PATCH"===e?"PUT":e}}).extends("application"),store.registerSerializer("game_team",{normalizeResponse:function(e,t,r,a,m){return 204===m?{teams:{}}:("createRecord"===t||"updateRecord"===t||"deleteRecord"===t?(r.teams=r.teams[0].details,"createRecord"===t&&(r.teams.created_time=Lyte.registeredMixins.gamescope_config.convertToIsoDateWithTimeZoneOffset(new Date),r.teams.created_by={name:Crm.userDetails.DISPLAY_NAME,id:Crm.userDetails.USER_ID}),r.teams.logosrc=void 0):"findAll"!==t&&"findRecord"!==t||r.teams.forEach((function(e){e.member_count=e.members.some((t=>t.id===e.lead.id))?e.members.length:e.members.length+1})),r)},serialize:function(e,t,r,a){switch(e){case"createRecord":t={teams:[t.game_team]};break;case"updateRecord":var m=t.game_team.members;t.game_team.members=m.concat(a),t={teams:[t.game_team]};break;case"deleteRecord":t={}}return t},payloadKey:function(){return"teams"}});
