Lyte.Component.registerHelper("tagLink",(function(e,t,r,i){if(null==e){var n=store.peekAll("tag",{module:r}).filterBy({name:t});void 0!==n[0]&&(e=n[0].id)}var l={field:{}};l.field.id="",l.field.api_name="Tag",l.comparator="equal",l.value=[{id:e,name:t,color_code:i}];var o=r;return!o||"Tasks"!==o&&"Calls"!==o&&"Events"!==o||Crm.isActivitySplitDone&&"true"!==this.getData("isFromActivityModule")||(l={group_operator:"AND",group:[l,{comparator:"equal",field:{api_name:"Activity_Type"},value:o}]},o="Activities"),{filters:JSON.stringify(l)}})),Lyte.Component.registerHelper("getDp",(function(e,t){return!e||"Tasks"!==e&&"Calls"!==e&&"Events"!==e&&"Meetings"!==e||Crm.isActivitySplitDone&&"true"!==this.getData("isFromActivityModule")||(e="Activities"),"Deals"===e&&(e="Potentials"),[e,t]})),Lyte.Component.registerHelper("setToolTip",(function(e,t){if(void 0!==e){var r=e.split(":")[0],i=$L.moment(e).toDate(),n=Utils.getTimeInUserFormat(i,!1,!0),l=r.split("-"),o=n.split(":"),s=o[0],a=o[1].substring(0,2),u=o[1].substring(3);return I18n.getMsg("crm.label.tags.modified.tooltip2",[t||"",I18n.getMsg(CrmTags.shortMonth[l[1]-1]),l[2].substring(0,2),l[0],s,a,u])}})),Lyte.Component.registerHelper("col_palette",(function(e){return null===e&&(e="noFill"),e})),Lyte.Component.registerHelper("splitDate",(function(e){var t=(e=e.split(":")[0]).split("-");return I18n.getMsg(["January","February","March","April","May","June","July","August","September","October","November","December"][t[1]-1])+" "+t[2].substring(2,t[1].length-3)+" , "+t[0]})),Lyte.Component.registerHelper("imageSrc",(function(e){if(e.modified_by){var t=store.peekRecord("user",e.modified_by.id);return t?t.image_link:null}})),Lyte.Component.registerHelper("tagAvail",(function(){if(null!==CrmTags.clientJSON.array&&CrmTags.clientJSON.array.length>0)return!0})),Lyte.Component.registerHelper("getTextCol",(function(e){if(e&&""!==e&&"#noFill"!==e&&0===e.indexOf("#")&&(e=e.substring(1),(299*parseInt(e.substr(0,2),16)+587*parseInt(e.substr(2,2),16)+114*parseInt(e.substr(4,2),16))/1e3<175))return"white";return"black"})),Lyte.Component.registerHelper("split_tagnames",(function(e,t){if(!Array.isArray(e)){for(var r=[],i=(e=e.split(t)).length,n=0;n<i;n++)"null"!==e[n]&&" null"!==e[n]&&r.push(e[n]);return r}return e})),Lyte.Component.registerHelper("tooltip_tagcc",(function(e){return CrmTags.tooltip_tagcc(e)})),Lyte.Component.registerHelper("constructTagData",(function(e){for(var t=e,r=t.length,i=[],n=0;n<r;n++){var l={},o=t[n].lastIndexOf("#"),s=t[n],a=s.substring(0,o);""===a&&(a=s.replace("null",""));var u=s.substring(o);l.name=a,l.color_code=u,i.push(l)}return i}));
