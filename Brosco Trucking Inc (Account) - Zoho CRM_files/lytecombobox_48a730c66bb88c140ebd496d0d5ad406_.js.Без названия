Lyte.Component.register("lyte-combobox",{_template:'<template tag-name="lyte-combobox"> <template is="if" value="{{ltPropLabel}}"><template case="true"> <div class="lyteComboboxFieldLabel" id="{{lyteUiGetComboboxLabelId()}}">{{ltPropLabel}}</div> </template></template> <lyte-dropdown class="{{ltPropDropdownClass}} {{if(ifEquals(ltPropType,\'buttonSearch\'),\'lyteComboboxButtonSearch\',\'lyteComboboxBoxSearch\')}} {{if(isSearch,\'lyteComboboxSearchPresent\')}}" lt-prop-selected="{{lbind(ltPropDropdownSelected)}}" lt-prop-options="{{ltPropOptions}}" lt-prop-aria-button="{{ltPropAriaDropButton}}" lt-prop-aria-box="{{ltPropAriaDropBox}}" lt-prop-aria-body="{{ltPropAriaDropBody}}" lt-prop-disabled-list="{{ltPropDisabledList}}" on-option-selected="{{method(\'optionSelect\')}}" on-show="{{method(\'dropBoxOpen\')}}" on-animation-end="{{method(\'onAnimateEnd\')}}" on-key-navigation="{{method(\'keyNavigation\')}}" on-before-show="{{method(\'beforeDropboxShow\')}}" on-hide="{{method(\'hideDropbox\')}}" on-before-hide="{{method(\'beforeHideDropbox\')}}" on-scroll="{{method(\'scrollDropBox\')}}" lt-prop-active-element=".lyteCombobboxInput" lt-prop-yield="true" lt-prop="{{stringify(ltPropDropdown)}}" lt-prop-set-aria-on-active-element="{{setAriaOnActiveElem}}"> <template is="registerYield" yield-name="yield"> <template is="if" value="{{expHandlers(ltPropYield,\'!\')}}"><template case="true"> <lyte-drop-button> <template is="if" value="{{expHandlers(selectValue,\'!\')}}"><template case="true"> <template is="if" value="{{ltPropDropdown.displayValue}}"><template case="true"> <span class="lyteMarginRight lyteDropdownLabel" onmouseenter="{{action(\'toolTipConfig\',this)}}" lt-prop-title="{{if(showToolTip,ltPropDropdown.displayValue,\'\')}}" lt-prop-tooltip-config="{{ltPropTooltip}}">{{ltPropDropdown.displayValue}}</span> </template><template case="false"><template is="if" value="{{ltPropDropdown.placeholder}}"><template case="true"> <span class="lyteDropPlaceholderNormal">{{ltPropDropdown.placeholder}}</span> </template><template case="false"> <span class="lyteMarginRight lyteDropdownLabel" onmouseenter="{{action(\'toolTipConfig\',this)}}" lt-prop-title="{{if(showToolTip,initialValue,\'\')}}" lt-prop-tooltip-config="{{ltPropTooltip}}">{{initialValue}}</span> </template></template></template></template> </template><template case="false"> <span class="lyteMarginRight lyteDropdownLabel" onmouseenter="{{action(\'toolTipConfig\',this)}}" lt-prop-title="{{if(showToolTip,selectValue,\'\')}}" lt-prop-tooltip-config="{{ltPropTooltip}}">{{selectValue}}</span> <template is="if" value="{{expHandlers(selectValue,\'&amp;&amp;\',ltPropShowRemoveIcon)}}"><template case="true"> <lyte-drop-remove class="lyteDropdownDeselectIcon"></lyte-drop-remove> </template></template> </template></template> <template is="if" value="{{expHandlers(isSearch,\'&amp;&amp;\',expHandlers(ltPropType,\'==\',\'buttonSearch\'))}}"><template case="true"> <lyte-input class="lyteComboboxBtnSearchInput" lt-prop-type="search" lt-prop-aria="{{ltPropAria}}" lt-prop-close-icon="true" lt-prop-appearance="{{ltPropDropboxSearchAppearance}}" lt-prop-class="lyteComboboxBtnSearchOrigIpt lyteCombobboxInput" lt-prop-placeholder="{{ltPropSearchplaceholder}}" on-value-change="{{method(\'searchList\')}}" on-clear="{{method(\'onSearchClear\')}}" oninput="{{action(\'oninput\',this)}}" lt-prop-aria-attributes="{{ltPropAriaInput}}"></lyte-input> </template></template> <lyte-icon class="dropdown"></lyte-icon> </lyte-drop-button> <lyte-drop-box class="{{ltPropBoxClass}}"> <template is="if" value="{{expHandlers(isSearch,\'&amp;&amp;\',expHandlers(ltPropType,\'==\',\'boxSearch\'))}}"><template case="true"> <lyte-drop-header> <lyte-input lt-prop-close-icon="true" lt-prop-type="search" lt-prop-aria="{{ltPropAria}}" class="lyteComboboxDropboxSearch" lt-prop-class="lyteComboboxDropboxSearchOrigIpt lyteCombobboxInput" lt-prop-appearance="{{ltPropDropboxSearchAppearance}}" lt-prop-placeholder="{{ltPropSearchplaceholder}}" on-value-change="{{method(\'searchList\')}}" on-clear="{{method(\'onSearchClear\')}}" lt-prop-aria-attributes="{{ltPropAriaInput}}"></lyte-input> </lyte-drop-header> </template></template> <lyte-drop-body> <template is="for" items="{{ltPropOptions}}" item="item" index="indexVal"><template is="if" value="{{lyteUiOptGroupCheck(item)}}"><template case="true"> <lyte-drop-group> <lyte-drop-label>{{lyteUiReturnOnlyKey(item)}}</lyte-drop-label> <template is="for" items="{{lyteUiReturnValueBy(item,lyteUiReturnOnlyKey(item))}}" item="subitem" index="indexval"> <template is="if" value="{{lyteUiIsObject(subitem)}}"><template case="true"> <lyte-drop-item data-value="{{subitem[ltPropDropdown.systemValue]}}" disabled="{{lyteUiCheckDisabled(ltPropDisabledList,subitem[ltPropDropdown.systemValue])}}">{{subitem[ltPropDropdown.userValue]}}</lyte-drop-item> </template><template case="false"> <lyte-drop-item data-value="{{subitem}}" disabled="{{lyteUiCheckDisabled(ltPropDisabledList,subitem)}}">{{subitem}}</lyte-drop-item> </template></template> </template> </lyte-drop-group> </template><template case="false"> <template is="if" value="{{lyteUiIsObject(item)}}"><template case="true"> <lyte-drop-item data-value="{{item[ltPropDropdown.systemValue]}}" disabled="{{lyteUiCheckDisabled(ltPropDisabledList,item[ltPropDropdown.systemValue])}}">{{item[ltPropDropdown.userValue]}}</lyte-drop-item> </template><template case="false"> <lyte-drop-item data-value="{{item}}" disabled="{{lyteUiCheckDisabled(ltPropDisabledList,item)}}">{{item}}</lyte-drop-item> </template></template> </template></template> </template> <template is="if" value="{{showNoResult}}"><template case="true"> <div class="lyteDropdownNoResult lyteComboboxNoResult"> {{ltPropNoResultMessage}} </div> </template></template> </lyte-drop-body> </lyte-drop-box> </template><template case="false"> <lyte-drop-button> <lyte-yield is="registerYield" yield-name="headerYield"> </lyte-yield> <template is="if" value="{{expHandlers(isSearch,\'&amp;&amp;\',expHandlers(ltPropType,\'==\',\'buttonSearch\'))}}"><template case="true"> <lyte-input class="lyteComboboxBtnSearchInput" lt-prop-close-icon="true" lt-prop-aria="{{ltPropAria}}" lt-prop-appearance="{{ltPropDropboxSearchAppearance}}" lt-prop-type="search" lt-prop-class="lyteComboboxBtnSearchOrigIpt lyteCombobboxInput" lt-prop-placeholder="{{ltPropSearchplaceholder}}" on-value-change="{{method(\'searchList\')}}" on-clear="{{method(\'onSearchClear\')}}" lt-prop-aria-attributes="{{ltPropAriaInput}}" oninput="{{action(\'oninput\',this)}}"></lyte-input> </template></template> </lyte-drop-button> <lyte-drop-box class="{{ltPropBoxClass}}"> <template is="if" value="{{expHandlers(isSearch,\'&amp;&amp;\',expHandlers(ltPropType,\'==\',\'boxSearch\'))}}"><template case="true"> <lyte-drop-header> <lyte-input class="lyteComboboxDropboxSearch" lt-prop-close-icon="true" lt-prop-aria="{{ltPropAria}}" lt-prop-appearance="{{ltPropDropboxSearchAppearance}}" lt-prop-class="lyteComboboxDropboxSearchOrigIpt lyteCombobboxInput" lt-prop-placeholder="{{ltPropSearchplaceholder}}" on-value-change="{{method(\'searchList\')}}" lt-prop-type="search" on-clear="{{method(\'onSearchClear\')}}" lt-prop-aria-attributes="{{ltPropAriaInput}}"></lyte-input> </lyte-drop-header> </template></template> <lyte-drop-body> <lyte-yield is="registerYield" yield-name="bodyYield"> </lyte-yield> <template is="if" value="{{showNoResult}}"><template case="true"> <div class="lyteDropdownNoResult lyteComboboxNoResult"> {{ltPropNoResultMessage}} </div> </template></template> </lyte-drop-body> <lyte-yield is="registerYield" yield-name="footerYield"> </lyte-yield> </lyte-drop-box> </template></template> </template> </lyte-dropdown> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[3]},{type:"registerYield",position:[3,1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1,5]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"attr",position:[3,1]},{type:"if",position:[3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[3,3,1]},{type:"for",position:[3,3,1],dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"for",position:[1,3],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}}]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}]},{type:"attr",position:[3,3,3]},{type:"if",position:[3,3,3],cases:{true:{dynamicNodes:[{type:"text",position:[1,1]}]}},default:{}},{type:"componentDynamic",position:[3,3]},{type:"componentDynamic",position:[3]}]},false:{dynamicNodes:[{type:"insertYield",position:[1,1]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"attr",position:[3,1]},{type:"if",position:[3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"insertYield",position:[3,3,1]},{type:"attr",position:[3,3,3]},{type:"if",position:[3,3,3],cases:{true:{dynamicNodes:[{type:"text",position:[1,1]}]}},default:{}},{type:"componentDynamic",position:[3,3]},{type:"insertYield",position:[3,5]},{type:"componentDynamic",position:[3]}]}},default:{}}]},{type:"componentDynamic",position:[3]}],_observedAttributes:["ltPropDropdown","ltPropOptions","ltPropDropdownSelected","ltPropNoResultMessage","ltPropDisabledList","ltPropYield","ltPropType","ltPropDropboxSearchAppearance","ltPropSearchplaceholder","ltPropMinSearchValue","ltPropTooltip","ltPropBoxClass","ltPropDropdownClass","ltPropAria","ltPropAriaDropButton","ltPropAriaDropBox","ltPropAriaDropBody","ltPropAriaInput","ltPropTabIndex","ltPropDataTabIndex","ltPropShowRemoveIcon","setAriaOnActiveElem","selectValue","initialValue","showNoResult","isSearch","ltPropLabel","ltPropDirection"],data:function(){return{ltPropDropdown:Lyte.attr("object",{default:{}}),ltPropOptions:Lyte.attr("array",{default:[]}),ltPropDropdownSelected:Lyte.attr("string"),ltPropNoResultMessage:Lyte.attr("string",{default:_lyteUiUtils.resolveDefaultValue("lyte-combobox","noResultMessage",_lyteUiUtils.i18n("no.results.found"))}),ltPropDisabledList:Lyte.attr("array",{default:[]}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropType:Lyte.attr("string",{default:_lyteUiUtils.resolveDefaultValue("lyte-combobox","type","boxSearch")}),ltPropDropboxSearchAppearance:Lyte.attr("string",{default:_lyteUiUtils.resolveDefaultValue("lyte-combobox","dropboxSearchAppearance","flat")}),ltPropSearchplaceholder:Lyte.attr("string",{default:_lyteUiUtils.resolveDefaultValue("lyte-combobox","searchplaceholder","")}),ltPropMinSearchValue:Lyte.attr("number"),ltPropTooltip:Lyte.attr("object",{default:_lyteUiUtils.resolveDefaultValue("lyte-combobox","tooltip",{position:"bottom",appearance:"box",margin:5,keeptooltip:!0})}),ltPropBoxClass:Lyte.attr("string",{default:_lyteUiUtils.resolveDefaultValue("lyte-combobox","boxClass","")}),ltPropDropdownClass:Lyte.attr("string",{default:_lyteUiUtils.resolveDefaultValue("lyte-combobox","dropdownClass","")}),ltPropAria:Lyte.attr("boolean",{default:!0}),ltPropAriaDropButton:Lyte.attr("object",{default:{},watch:!0}),ltPropAriaDropBox:Lyte.attr("object",{default:{},watch:!0}),ltPropAriaDropBody:Lyte.attr("object",{default:{},watch:!0}),ltPropAriaInput:Lyte.attr("object",{default:{},watch:!0}),ltPropTabIndex:Lyte.attr("number",{default:0}),ltPropDataTabIndex:Lyte.attr("number",{default:0}),ltPropShowRemoveIcon:Lyte.attr("boolean",{default:!1}),setAriaOnActiveElem:Lyte.attr("boolean",{default:!1}),selectValue:Lyte.attr("string"),initialValue:Lyte.attr("string"),showNoResult:Lyte.attr("boolean",{default:!1}),isSearch:Lyte.attr("boolean",{default:!1}),ltPropLabel:Lyte.attr("string",{default:""}),ltPropDirection:Lyte.attr("string",{default:"vertical"})}},init:function(){var t=this.getData("ltPropOptions"),e=this.getData("ltPropDropdown");t&&t.length>0&&this.checkForSearch(),this._currentDisplay=e.displayValue,"boxSearch"===this.getData("ltPropType")?this.setData("setAriaOnActiveElem",!1):this.setData("setAriaOnActiveElem",!0),_lyteUiUtils.combobox?_lyteUiUtils.combobox.ind+=1:_lyteUiUtils.combobox={ind:0}},didConnect:function(){var t=this.$node.querySelector("lyte-drop-body"),e=this.$node.querySelector("lyte-drop-button");this.getData("ltPropDisabledList");if(this.getData("isSearch")){var o=this.$node.querySelector("lyte-input"),l=(t=this.$node.querySelector("lyte-drop-body"),this.$node.querySelector("lyte-dropdown"));if("boxSearch"==this.getData("ltPropType")?(o=(e=l.component.childComp||l.querySelector("lyte-drop-box")).querySelector("lyte-input"),t=e.querySelector("lyte-drop-body")):l.setData("ltPropFreeze",!1),o&&$L(o).search({scope:t,search:"lyte-drop-item",related:"lyte-drop-group",onSearch:this.Search.bind(this),trim:!0}),t&&this.getData("ltPropAria")){var i=t.getAttribute("id"),a={"aria-autocomplete":"list"};a["aria-controls"]=i||!1,o&&(o.setData("ltPropAria",!0),Lyte.objectUtils(o.getData("ltPropAriaAttributes"),"add",a))}this._searchEle=o}var r=this.getData("ltPropOptions");r&&r.length>0&&(this.getData("ltPropYield")||this.setDropdownValue()),this.$node.open=function(){this.querySelector("lyte-dropdown").open()},this.$node.close=function(){this.querySelector("lyte-dropdown").close()},this.$node.toggle=function(){this.querySelector("lyte-dropdown").toggle()}},directionObs:function(){this.setDirection()}.observes("ltPropDirection").on("didConnect"),setDirection:function(){this.data.ltPropLabel&&("vertical"==this.data.ltPropDirection?(this.$node.classList.add("lyteComboboxVertical"),this.$node.classList.remove("lyteComboboxHorizontal")):(this.$node.classList.remove("lyteComboboxVertical"),this.$node.classList.add("lyteComboboxHorizontal")))},checkForSearch:function(){var t=this.getData("ltPropOptions"),e=this.getData("ltPropMinSearchValue"),o=0,l=this.getData("ltPropOptions"),i=l[0];if(i.constructor==Object){if(1==Object.keys(i).length){if(i[Object.keys(i)[0]].constructor==Array)for(var a=0;a<t.length;a++)for(var r in t[a])if((o+=t[a][r].length)>=e)return void this.setData("isSearch",!0)}else if(l.length>=e)return void this.setData("isSearch",!0)}else if(l.length>=e)return void this.setData("isSearch",!0)},setDropdownValue:function(){var t=this.getData("ltPropDropdown"),e=(t.userValue,t.systemValue,this.$node.querySelector("lyte-dropdown"));if(null==t.placeholder&&null==t.displayValue&&!this.getData("ltPropDropdownSelected")){var o=e.getInitialSelected();this.setData("ltPropDropdownSelected",o)}if(null==t.placeholder&&t.displayValue&&!this.getData("ltPropDropdownSelected")){o=e.getInitialSelected();this.setData("ltPropDropdownSelected",o),this.setData("selectValue",t.displayValue)}if(this.getData("ltPropDropdownSelected")&&null==t.displayValue){o=e.getDisplayValue();this.setData("selectValue",o)}},displayObs:function(){this._currentDisplay!=this.getData("ltPropDropdown").displayValue&&(this.setData("selectValue",this.getData("ltPropDropdown").displayValue),this._currentDisplay=this.getData("ltPropDropdown").displayValue)}.observes("ltPropDropdown.displayValue"),addComboboxClass:function(t){t.classList.add("lyteComboboxFiltering")},removeComboboxClass:function(t){t.classList.remove("lyteComboboxFiltering")},optionObs:function(){var t=this.getData("ltPropOptions"),e=this.$node.querySelector("lyte-dropdown");if(this.setData("isSearch",!1),this._searchEle=null,this.setData("selectValue",void 0),this.setData("showNoResult",!1),e&&e.component.showNoResultDiv(),t&&t.length>0&&(this.getData("ltPropYield")||this.setDropdownValue(),this.checkForSearch()),this.getData("isSearch")&&e){var o=this.$node.querySelector("lyte-input"),l=e.component.childComp||e.querySelector("lyte-drop-box"),i=l.querySelector("lyte-drop-body");"boxSearch"==this.getData("ltPropType")&&(o=l.querySelector("lyte-input")),this._searchEle=o,$L(o).search({scope:i,search:"lyte-drop-item",related:"lyte-drop-group",onSearch:this.Search.bind(this),trim:!0})}}.observes("ltPropOptions.[]"),disabledListObs:function(){this.$node.querySelector(" lyte-dropdown").setData("ltPropDisabledList",this.getData("ltPropDisabledList"))}.observes("ltPropDisabledList.[]"),dropDownSelectedObs:function(){if(""!=this.getData("ltPropDropdownSelected")&&null!=this.getData("ltPropDropdownSelected")){var t=this.$node.querySelector("lyte-dropdown");this.setData("selectValue",t.getDisplayValue())}else this.setData("selectValue",void 0)}.observes("ltPropDropdownSelected"),Search:function(t,e,o){if(this.setData("showNoResult",0==t.length),this.getMethods("onSearch"))return this.executeMethod("onSearch",t,e,o)},isVisible:function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},isEmpty:function(t){for(var e in t)return!1;return!0},labelCallback:function(t){var e=this.$node.querySelector("lyte-dropdown");if("boxSearch"!=this.getData("ltPropType"))var o=this.$node.querySelector("lyte-input");else o=e.getDropBox().querySelector("lyte-input");o||(o=e.querySelector("[tabindex]")||this.$node.querySelector("input")),o.focus()},labelChange:function(t){var e=this.$node.querySelector(".lyteComboboxFieldLabel");if(e){var o=e.getAttribute("id");o&&(this.$node.setAttribute("aria-labelledby",o),this.labelCallback=this.labelCallback.bind(this),e.addEventListener("click",this.labelCallback))}}.on("didConnect"),methods:{keyNavigation:function(t,e){},optionSelect:function(t,e,o,l){if(this.setData("ltPropDropdownSelected",e),o.$node.querySelector("lyte-drop-button").classList.remove("lyteComboboxFiltering"),!this._searchEle)if("boxSearch"!=this.getData("ltPropType"))this._searchEle=this.$node.querySelector("lyte-input");else{var i=o.childComp;this._searchEle=i.querySelector("lyte-input")}null!==this._searchEle&&$L(this._searchEle)[0].setValue(""),this.getMethods("onOptionSelect")&&this.executeMethod("onOptionSelect",t,e,o,l)},dropBoxOpen:function(t,e){if(!this._searchEle)if("boxSearch"!=this.getData("ltPropType"))this._searchEle=this.$node.querySelector("lyte-input");else{var o=e.childComp;this._searchEle=o.querySelector("lyte-input")}null===this._searchEle||this.getData("ltPropDropdown").animate||(this._searchEle.focus(),$L(this._searchEle)[0].setValue("")),null!==this._searchEle&&this.getData("ltPropAria")&&Lyte.objectUtils(this._searchEle.getData("ltPropAriaAttributes"),"add","aria-activedescendant",!1),this.getMethods("onShow")&&this.executeMethod("onShow",t,e)},onAnimateEnd:function(t,e){if(!this._searchEle)if("boxSearch"!=this.getData("ltPropType"))this._searchEle=this.$node.querySelector("lyte-input");else{var o=e.childComp;this._searchEle=o.querySelector("lyte-input")}null!==this._searchEle&&(this._searchEle.focus(),$L(this._searchEle)[0].setValue("")),this.getMethods("onAnimationEnd")&&this.executeMethod("onAnimationEnd",t,e)},searchList:function(t,e){setTimeout(function(){var t=this.$node.querySelector("lyte-dropdown");t.querySelector("lyte-drop-button");if(a=t.component.childComp||t.querySelector("lyte-drop-box")){for(var e,o=a.querySelectorAll("lyte-drop-item:not(.lyteSearchHidden):not(.lyteDropdownActive)"),l=a.querySelector(".lyteDropdownSelection"),i=0;i<o.length;i++)if(this.isVisible(o[i])&&"true"!==o[i].getAttribute("disabled")){e=o[i];break}if(l&&l.classList.remove("lyteDropdownSelection"),e){if(e.classList.add("lyteDropdownSelection"),this.getData("ltPropAria")){if(!this._searchEle)if("boxSearch"!=this.getData("ltPropType"))this._searchEle=this.$node.querySelector("lyte-input");else{var a=component.childComp;this._searchEle=a.querySelector("lyte-input")}Lyte.objectUtils(this._searchEle.getData("ltPropAriaAttributes"),"add","aria-activedescendant",e.getAttribute("id"))}return}}}.bind(this))},beforeDropboxShow:function(t,e){if(this.getMethods("onBeforeShow"))return this.executeMethod("onBeforeShow",t,e)},hideDropbox:function(t,e){if(!this._searchEle)if("boxSearch"!=this.getData("ltPropType"))this._searchEle=this.$node.querySelector("lyte-input");else{var o=e.childComp;this._searchEle=o.querySelector("lyte-input")}if(null!==this._searchEle&&($L(this._searchEle)[0].setValue(""),$L(this._searchEle)[0].blur()),null!==this._searchEle&&this.getData("ltPropAria")&&Lyte.objectUtils(this._searchEle.getData("ltPropAriaAttributes"),"add","aria-activedescendant",!1),this.getMethods("onHide"))return this.executeMethod("onHide",t,e)},beforeHideDropbox:function(t,e){return this.$node.querySelector("lyte-drop-button").classList.remove("lyteComboboxFiltering"),this._preventClose?(delete this._preventClose,!1):this.getMethods("onBeforeHide")?this.executeMethod("onBeforeHide",t,e):void 0},scrollDropBox:function(t,e){this.getMethods("onUserScroll")&&this.executeMethod("onUserScroll",t,e)},onSearchClear:function(t,e){if(null!==e&&$L(e)[0].setValue(""),this.getMethods("onClear"))return this.executeMethod("onClear",t,e);"buttonsearch"==this.getData("ltPropType").toLowerCase()&&(this._preventClose=!0)}},actions:{toolTipConfig:function(t){var e=t.offsetWidth,o=t.scrollWidth,l=this.getData("ltPropTooltip");this.setData("showToolTip",e<o&&!this.isEmpty(l))},oninput:function(t){var e=this.$node.querySelector("lyte-drop-button");""!=t.querySelector("input").value?e.classList.add("lyteComboboxFiltering"):e.classList.remove("lyteComboboxFiltering")}}});
