Lyte.Component.registerHelper("getButtonClass",(function(e,t){return"detail_view"===e?"kioskScreenBtns mL20 "+t:"kioskScreenBtns "+t})),Lyte.Component.registerHelper("getRefreshButtonClass",(function(e){return"detail_view"===e||"canvas"===e?"kioskExecuteBtn":"kioskExecuteBtn kioskOverlayBtn"})),Lyte.Component.registerHelper("getBlankScreenModeClass",(function(e){return"detail_view"===e?"pR dB pB25":"canvas"===e?"aiCenter dF w100_per":"pR dB"})),Lyte.Component.registerHelper("isPortalUser",(function(){return clientPortalName?"disabled":"cP"})),Lyte.Component.registerHelper("getKioskDetailViewWrapperClass",(function(e){return Crm.renderDVLyteFlow(e)?"dB p20 pB0 relatedlist-bg mT15":"dB p20 pB0 "})),Lyte.Component.registerHelper("isKioskZiaCanvasEnabled",(function(){return Lyte.registeredMixins.kiosk.isKioskZiaCanvasEnabled()})),Lyte.Component.registerHelper("getZiaFeatureLabel",(function(e){return Lyte.registeredMixins["zia-insights-utils"].getFeatureLabel(e)})),Lyte.Component.registerHelper("getTranslatedLayoutNameForDetailView",(function(e){return"Standard"===e.name?I18n.getMsg(e.name):"inactive"===e.status?e.name+" ("+I18n.getMsg("crm.workflow.rule.label.status.Inactive")+")":e.name})),Lyte.Component.registerHelper("getHomePageCategory",(function(e){var t;switch(e){case"user_home":t=1;break;case"shared_home":t=2;break;case"manager_home":t=4}return t})),Lyte.Component.registerHelper("getKioskStatusToolTip",(function(e){switch(e.status){case"active":return 1===e.versionCount?I18n.getMsg("crm.label.status"):I18n.getMsg("crm.orchestration.tooltip.active",e.version_details.version_number);case"inactive":return I18n.getMsg("crm.workflow.rule.label.status.Inactive")}})),Lyte.Component.registerHelper("getLayoutStatus",(function(e){switch(e.status){case"active":return"";case"inactive":return"- "+I18n.getMsg("crm.workflow.rule.label.status.Inactive")}})),Lyte.Component.registerHelper("getKioskActionLabel",(function(e){var t=$L("crm-kiosk-builder")[0].component;return t.actionTitle.create[t.getActionName[e]]})),Lyte.Component.registerHelper("isAlreadyUsedRecord",(function(e,t,i){return!(!t.contains(e)||i===e)})),Lyte.Component.registerHelper("getKioskDraftVersionLabelForDropdown",(function(e){if(e){var t=e.version_details.parent_id,i=t?store.peekRecord("kiosk",t)&&store.peekRecord("kiosk",t).version_details.version_number:"";if(i)return" ( "+(I18n.getMsg("crm.label.Version")+" "+i)+" )"}})),Lyte.Component.registerHelper("getKioskStatusText",(function(e){return"draft"===e.status?" ("+I18n.getMsg("crm.process.tab.draft")+")":"active"===e.status?" ("+I18n.getMsg("crm.workflow.rule.active")+")":""})),Lyte.Component.registerHelper("getDisconnectedComponentName",(function(e){var t=$L("crm-kiosk-builder")[0].component.getStateDetails(e);if(t)return t.name})),Lyte.Component.registerHelper("isActionShouldDisable",(function(e){e=e.replace("transition_","").replace("state_","");var t=store.peekRecord("kiosk_state",e),i=$L("crm-kiosk-builder")[0].component;if(t&&"action"===t.type&&i.data.isSummaryMode){if(!store.peekAll("kiosk_meta")[0].supported_actions.contains(t.details.action_type))return!0;var a=t.associated_fields?t.associated_fields[0]:void 0;if(a)if("CurrentRecord"===a.api_name){if(!i.data.kioskFields.filter((e=>e.api_name===a.api_name))[0])return!0}else{var o=store.peekRecord("kiosk_getrecord",a.id);if(o&&!moduleRecordMapping[o.module.name])return!0}}return!1})),Lyte.Component.registerHelper("getStateTitle",(function(e){var t="";if(e){var i=$L("crm-kiosk-builder")[0].component;e=e.replace("transition_","").replace("state_","");var a=store.peekRecord("kiosk_state",e),o=!1;if(i.data.isSummaryMode&&a&&a.details&&"action"===a.type&&!(o=!store.peekAll("kiosk_meta")[0].supported_actions.contains(a.details.action_type))){var s=a.associated_fields?a.associated_fields[0]:void 0;if(s)if("CurrentRecord"===s.api_name){i.data.kioskFields.filter((e=>e.api_name===s.api_name))[0]||(o=!0)}else{var l=store.peekRecord("kiosk_getrecord",s.id);l&&!moduleRecordMapping[l.module.name]&&(o=!0)}}if(o)return i.getData("isSummaryMode")?I18n.getMsg("crm.kiosk.not.allow.view"):I18n.getMsg("crm.kiosk.not.allow.view.delete");if(a&&"action"===a.type){i=$L("crm-kiosk-builder")[0].component;if(!a.details)return"draft"!==i.data.process.status&&(t=I18n.getMsg("crm.kiosk.action.not.available.admin")),t;if(a.details&&a.details.action_type&&(t=i.getActionDisplayText(a.details.action_type)),a.associated_fields&&a.associated_fields.length>0){var r=a.associated_fields[0].id;i.getData("kioskFields").forEach((function(e){if(e.id===r)if(e.api_name===i.data.currentRecordApiName||e.api_name===i.data.currentRecordName){t=t+" - "+I18n.getMsg("crm.kiosk.currentrecord");var a=Lyte.registeredMixins.kiosk.getModuleObject(i.data.getRecSupportedModules,i.data.currentRecordModule.api_name);a&&(t=t+" - "+a.plural_label)}else{t=t+" - "+e.field_label;var o=store.peekRecord("kiosk_getrecord",e.id),s=Lyte.registeredMixins.kiosk.getModuleObject(i.data.getRecSupportedModules,o.module.api_name);s&&(t=t+" - "+s.plural_label)}}))}}}return t})),Lyte.Component.registerHelper("getTranisionName",(function(e,t){e=e.replace("transition_","");var a=store.peekAll("kiosk_state"),o="";return a.forEach((function(t){if(t.transitions){var a=t.transitions;for(i in a)a[i].id===e&&(o=t.name)}})),o+"_"+t+"_"+$L("crm-kiosk-builder")[0].component.data.process.name})),Lyte.Component.registerHelper("getHeightClassScreen",(function(e,t){if("detail_view"!==t)return"";var i="h200";return e.length>5?i="h400":1===e.length?i=140!==e[0].ui_type&&133!==e[0].ui_type||e[0].no_records?"h80":"h400":e.length<=3&&e.forEach((function(e){140!==e.ui_type&&133!==e.ui_type||e.no_records||(i="h400")})),i})),Lyte.Component.registerHelper("getDisconnectedComponentTitle",(function(e){return $L("crm-kiosk-builder")[0].component.getComponentTitle(e)})),Lyte.Component.registerHelper("getDisconnectedComponentDesc",(function(e){return $L("crm-kiosk-builder")[0].component.getComponentDescription(e,!1,!0)})),Lyte.Component.registerHelper("currentRecordInformation",(function(){var e=$L("crm-kiosk-builder")[0].component;return I18n.getMsg("crm.kiosk.current.record.details",[e.getData("leadModName"),e.getData("leadLastName")])})),Lyte.Component.registerHelper("getKioskScreenOutputId",(function(e,t,i){return"kiosk_screen_output_builder_"+e+"_"+t+"_"+i})),Lyte.Component.registerHelper("checkIfDisabled",(function(e){var t="cP";if("action"===e.type){var i=e.id.replace("transition_","").replace("state_",""),a=store.peekRecord("kiosk_state",i);if(a&&!a.details){t="disabled";var o=$L("crm-kiosk-builder")[0].component;o&&"draft"===o.data.process.status&&(t="cP")}}return t})),Lyte.Component.registerHelper("getModuleLabelForRec",(function(e,t){var i,a=$L("crm-kiosk-builder")[0].component;if(t&&""!==t){if(!(i=store.peekAll("kiosk_getrecord").filter((e=>e.id===t))[0]))if(i=store.peekAll("kiosk_datahub").filter((e=>e.id===t))[0]){var o=a.getData("dhQueries").filter((function(e){return e.UUID===i.datahub.uuid}))[0];if(o&&o.name)return o.name;if(i.module&&i.module.api_name&&(s=store.peekAll("module").filter((e=>e.api_name===i.module.api_name))[0]))return s.plural_label.trim()}else{if(Lyte.registeredMixins.kiosk.getKioskCurrentRecord()){let e=a.data.currentRecordModule;if(e&&e.hasOwnProperty("plural_label")&&e.plural_label)return e.plural_label;i={module:e}}}if(i&&i.hasOwnProperty("type")&&"child"===i.type){let e=i.child_relationship;if(e&&e.hasOwnProperty("plural_label"))return e.plural_label.trim()}e=i&&i.hasOwnProperty("module")?i.module:void 0}if(e&&e.api_name){var s;if((s=store.peekAll("module").filter((t=>t.api_name===e.api_name))[0])&&s.plural_label)return s.plural_label.trim();if(i&&i.module.display_label)return i.module.display_label}return!e&&i&&i.module&&i.module.display_label?i.module.display_label:""})),Lyte.Component.registerHelper("isTransClickable",(function(e,t){if(t&&"decision"===e){t=t.replace("transition_","");for(var i=store.peekAll("kiosk_state"),a=i.length,o=0;o<a;o++){var s=i[o];if("decision"===s.type&&s.transitions&&s.transitions.length>1)for(var l=s.transitions.length,r=0;r<l;r++)if(s.transitions[r].id===t&&!s.transitions[r].default)return!0}}return!1})),Lyte.Component.registerHelper("isAllowCondition",(function(e){if("empty"===e.value)return!1;if("current_record"===e.type)return!0;if(e.resource.id&&""!==e.resource.id){var t="data_hub"===e.type?"kiosk_datahub":"kiosk_getrecord",i=store.peekRecord(t,e.resource.id),a=$L("crm-kiosk-builder")[0].component,o=!!i&&133===a.data.kioskFields.filter((e=>e.id===i.id))[0].ui_type;if(i&&"single"===i.selection_details.type)return!0;if(i&&o){var s=$L("crm-kiosk-decision")[0].component,l=s.getData("preStateIds");if(0===l.length){var r=Lyte.deepCopyObject(a.data.prevStates);l=[],r&&r.forEach((function(e){var t=e.replace("#state_","");"0"!==t&&l.push(t)}));var p=a.data.srcStateId;if(p){var c=p.replace("#state_","");l.push(c)}s.setData("preStateIds",Lyte.deepCopyObject(l))}if(l.length>0){var n=Lyte.deepCopyObject(l),d=!1;return store.peekAll("kiosk_state").forEach((function(e){n.contains(e.id)&&"screen"===e.type&&e.associated_fields&&e.associated_fields.length>0&&e.associated_fields.forEach((function(e){e.id===i.id&&(d=!0)}))})),d}}}return!1})),Lyte.Component.registerHelper("iskioskDragPath",(function(e){var t=$L("crm-kiosk-decision")[0].component;if(1===e.length)return!1;if(t.getData("isSummaryMode"))return!1;if(!t.getData("isSummaryMode")){var i=$L(".pathFieldButtonWrap").eq(0);return i.addClass("cMove"),i.removeClass("cP"),!0}return!1})),Lyte.Component.registerHelper("recordCriteriaLabel",(function(e,t){var i="";if("current_record"===e)i=$L("crm-kiosk-builder")[0].component.getData("currentRecordModule").api_name;else if(t.id&&""!==t.id){var a="data_hub"===e?"kiosk_datahub":"kiosk_getrecord";if("data_hub"===e){var o=$L("crm-kiosk-builder")[0].component.getData("dhQueries"),s=store.peekRecord(a,t.id),l=o.filter((function(e){return e.UUID===s.datahub.uuid}))[0];if(l&&l.name)return l.name;i=i=store.peekRecord(a,t.id).module.api_name}else i=i=store.peekRecord(a,t.id).module.api_name}var r="";return i&&""!==i&&store.peekAll("module").forEach((function(e){e.api_name===i&&(r=e.plural_label)})),r})),Lyte.Component.registerHelper("getClassForMaxScreen",(function(e){return"1000px"===e?"kioskSingleRecordInfo":""})),Lyte.Component.register("crm-kiosk-screen-output",{_template:'<template tag-name="crm-kiosk-screen-output" data-zcqa="{{execute_from}}_kiosk_screen_output_component_{{kioskName}}" id="{{getKioskScreenOutputId(execute_from,kioskId,stateId)}}" class="{{getBlankScreenModeClass(execute_from)}}"> <template is="if" value="{{isBlankScreenMode}}"><template case="true"> <div class="mT15 mB10 w100_per aligncenter"> <lyte-text class="w100_per mB10" id="{{execute_from}}_kiosk_blank_screen_description" data-zcqa="{{execute_from}}_kiosk_blank_screen_desc" lt-prop-value="{{getI18n(\'crm.kiosk.refresh.load.description\')}}"></lyte-text> <lyte-button id="button_refresh" data-zcqa="{{execute_from}}_kiosk_refresh_{{screenName}}_{{kioskName}}" class="{{getRefreshButtonClass(execute_from)}}" onclick="{{action(\'refershkioskExecute\',kioskId,event)}}"> <template is="registerYield" yield-name="text"> {{getI18n(\'crm.kiosk.refresh.load\')}} </template> </lyte-button> </div> </template><template case="false"><template is="if" value="{{isPreviewLimitReached}}"><template case="true"> <div class="mT15 mB10 w100_per aligncenter"> <lyte-text class="w100_per mB10" id="{{execute_from}}_kiosk_blank_screen_description" data-zcqa="{{execute_from}}_kiosk_blank_screen_desc" lt-prop-value="{{previewLimitReachedContentMsg}}"></lyte-text> </div> </template><template case="false"><template is="if" value="{{expHandlers(isLoadInSameScreen,\'&amp;&amp;\',expHandlers(expHandlers(expHandlers(execute_from,\'===\',&quot;home_page&quot;),\'||\',expHandlers(execute_from,\'===\',&quot;canvas&quot;)),\'||\',expHandlers(execute_from,\'===\',&quot;detail_view&quot;)))}}"><template case="true"> <template is="if" value="{{isReadOnlyMode}}"><template case="true"> <lyte-button id="button_refresh" data-zcqa="{{execute_from}}_kiosk_refresh_{{screenName}}_{{kioskName}}" class="{{getRefreshButtonClass(execute_from)}}" onclick="{{action(\'refershkioskExecute\',kioskId,event)}}"> <template is="registerYield" yield-name="text"> {{getI18n(\'crm.kiosk.refresh.execute\')}} </template> </lyte-button> <div class="kioskHomepageOverlay pA h100_per w100_per"> </div> </template></template> <div class="dB kioskscreenoutput pB20 {{if(ifEquals(execute_from,\'canvas\'),\'pR20 pL20 bg_white mR30\',\'\')}}" lt-prop-width="670px" id="{{execute_from}}_kiosk_screen_{{kioskId}}" data-zcqa="{{execute_from}}_kiosk_screen_preview_{{screenName}}_{{kioskName}}"> <div class="mT15 mB10 alignLeft crm-font-bold"> <lyte-text id="{{execute_from}}_kiosk_screen_header" data-zcqa="{{execute_from}}_kiosk_screen_header_{{screenName}}_{{kioskName}}" lt-prop-value="{{screenName}}"></lyte-text> </div> <div class="kioskoutputwscreen"> <div id="{{execute_from}}_kiosk_screen_output_builder" data-zcqa="{{execute_from}}_kiosk_screen_output_builder_{{kioskName}}" class="{{if(ifEquals(execute_from,\'detail_view\'),\'oA dB mB20\',\'oA dB mB20\')}} {{getHeightClassScreen(outputFields,execute_from)}}"> <template is="for" items="{{outputFields}}" item="eachField" index="ind"> <template is="if" value="{{expHandlers(expHandlers(eachField.ui_type,\'===\',140),\'||\',expHandlers(eachField.ui_type,\'===\',&quot;140&quot;))}}"><template case="true"> <template is="if" value="{{eachField.info_message}}"><template case="true"> <div class="crmFormComponentRow"> <div class="p10 br_border3 bg_crmBg3 br5 aligncenter {{eachField.classNams}}"> <lyte-text id="kiosk_field_id_{{eachField.id}}" class="aligncenter cDefault" data-zcqa="{{execute_from}}_kiosk_{{eachField.name}}_{{screenName}}_{{kioskName}}" lt-prop-value="{{eachField.info_message}}"></lyte-text> </div> </div> </template><template case="false"> <div class="crmFormComponentRow {{if(ifEquals(execute_from,&quot;canvas&quot;),&quot;kioskCanvasOutputScrn&quot;,&quot;&quot;)}} "> <crux-table-component cx-prop-textarea-properties="{{multRecPopoverProperties}}" cx-prop-prefix-yields="{{prefixYields}}" cx-prop-clip-mode="true" cx-prop-header="{{eachField.table_header}}" id="{{execute_from}}_{{eachField.id}}" data-zcqa="{{eachField.field_label}}_{{kioskName}}" cx-prop-no-records-zcqa="{{eachField.field_label}}_no_records_{{kioskName}}" cx-prop-no-records-message="{{getI18n(\'crm.zcampaign.norecords\')}}" cx-prop-content="{{eachField.table_body}}" cx-prop-field-type-mapping-selector="ui_type" cx-prop-label-selector="field_label" cx-prop-yield-for-prefix="true" cx-prop-scroll-record-count="20" on-scroll-records-have-been-rendered="{{method(\'afterGetRecordDataRender\',eachField.api_name)}}" cx-prop-height="{{eachField.tableHeight}}" cx-prop-column-cell-class="kioskCruxTableCel" class="{{if(ifEquals(execute_from,\'detail_view\'),\'lyteOuterTable dIB oH w100_per boxBB\',\'lyteOuterTable dIB oH w100_per\')}} " cx-prop-field-type-mapping="{{eachField.cxPropFieldTypeMapping}}"> <template is="if" value="{{expHandlers(eachField.checkbox_need,\'==\',true)}}"><template case="true"> <template is="registerYield" yield-name="header-prefix-1"> <template is="if" value="{{isReadOnlyMode}}"><template case="true"> <lyte-checkbox lt-prop-disabled="true" id="{{execute_from}}_kiosk_select_all_getrecord_{{eachField.id}}" data-zcqa="{{execute_from}}_kiosk_select_all_getrecord_{{eachField.name}}_{{kioskName}}" class="w40 kioskHomePageFieldEdit" on-checked="{{method(\'addRecordToSelectAll\',eachField.api_name)}}" on-unchecked="{{method(\'removeRecordToSelectAll\',eachField.api_name)}}" lt-prop-value="1" lt-prop-checked="false" lt-prop-tabindex="0"></lyte-checkbox> </template><template case="false"> <lyte-checkbox lt-prop-title="{{eachField.record_selection_msg}}" lt-prop-disabled="{{eachField.allow_selection}}" id="{{execute_from}}_kiosk_select_all_getrecord_{{eachField.id}}" data-zcqa="{{execute_from}}_kiosk_select_all_getrecord_{{eachField.name}}_header_{{kioskName}}" class="w40 kioskHomePageFieldEdit" on-checked="{{method(\'addRecordToSelectAll\',eachField.api_name)}}" on-unchecked="{{method(\'removeRecordToSelectAll\',eachField.api_name)}}" lt-prop-value="1" lt-prop-checked="{{eachField.allow_selection}}" lt-prop-tabindex="0"></lyte-checkbox> </template></template> </template> <template is="registerYield" yield-name="body-prefix-1"> <template is="if" value="{{isReadOnlyMode}}"><template case="true"> <lyte-checkbox lt-prop-disabled="true" id="{{eachField.id}}_{{recordObj.id}}" data-zcqa="{{eachField.api_name}}_{{recordObj.id}}" class="w40 kioskHomePageFieldEdit" on-checked="{{method(\'addRecordToSelect\',recordObj.id,eachField.api_name,indexVal)}}" on-unchecked="{{method(\'removeRecordToSelect\',recordObj.id,eachField.api_name,indexVal)}}" lt-prop-value="1" lt-prop-checked="false" lt-prop-tabindex="0"></lyte-checkbox> </template><template case="false"> <lyte-checkbox lt-prop-disabled="{{eachField.allow_selection}}" id="{{eachField.id}}_{{recordObj.id}}" data-zcqa="{{eachField.name}}_{{indexVal}}_{{kioskName}}" class="w40 kioskHomePageFieldEdit" on-checked="{{method(\'addRecordToSelect\',recordObj.id,eachField.api_name,indexVal)}}" on-unchecked="{{method(\'removeRecordToSelect\',recordObj.id,eachField.api_name,indexVal)}}" lt-prop-value="1" lt-prop-checked="{{eachField.allow_selection}}" lt-prop-tabindex="0"></lyte-checkbox> </template></template> </template> </template></template> </crux-table-component> </div> </template></template> </template><template case="false"><template is="if" value="{{expHandlers(eachField.ui_type,\'===\',133)}}"><template case="true"> <template is="if" value="{{eachField.info_message}}"><template case="true"> <div class="crmFormComponentRow"> <div class="p10 br_border3 bg_crmBg3 br5 aligncenter {{eachField.classNams}}"> <lyte-text id="kiosk_field_id_{{eachField.id}}" class="aligncenter cDefault" data-zcqa="{{execute_from}}_kiosk_{{eachField.name}}_{{screenName}}_{{kioskName}}" lt-prop-value="{{eachField.info_message}}"></lyte-text> </div> </div> </template><template case="false"> <div class="br5 br_border3 kioskPreviewPop pT5 pB10 {{if(ifEquals(execute_from,\'canvas\'),\'pR30 w600\',\'\')}} {{eachField.classNams}}"> <template is="for" items="{{eachField.fields}}" item="field" index="ind"> <div class="crmFormComponentRow"> <div class="lyteLabel w200 cDefault" data-zcqa="{{execute_from}}_kiosk_fieldlabel_{{eachField.name}}_{{screenName}}_{{field.field_label}}_{{kioskName}}"> {{field.field_label}} </div> <div class="lyteField"> <template is="if" value="{{expHandlers(expHandlers(field.ui_type,\'===\',3),\'||\',expHandlers(field.ui_type,\'===\',110))}}"><template case="true"> <crux-text-area-component id="{{execute_from}}_kiosk_field_id_{{field.id}}" data-zcqa="{{execute_from}}_kiosk_{{eachField.name}}_{{screenName}}_{{field.field_label}}_{{kioskName}}" cx-prop-popover-class="kioskTextAreaPopover" cx-prop-width="350px" cx-prop-appearance="box" cx-prop-from="view" class="appliedHeight mT12 cDefault" cx-prop-field="{{field.property}}" cx-prop-value="{{lbind(field.value)}}"></crux-text-area-component> </template><template case="false"> <lyte-text id="{{execute_from}}_kiosk_field_id_{{field.id}}" class="pT10 cDefault" data-zcqa="{{execute_from}}_kiosk_{{eachField.name}}_{{screenName}}_{{field.field_label}}_{{kioskName}}" lt-prop-value="{{field.value}}"></lyte-text> </template></template> </div> </div> </template> </div> </template></template> </template><template case="false"><template is="if" value="{{expHandlers(eachField.type,\'===\',&quot;text&quot;)}}"><template case="true"> <pre id="{{execute_from}}_kiosk_field_label_{{eachField.id}}" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachField.field_label}}_{{kioskName}}" class="alignLeft pB10 kioskcustomElement">{{unescape(encodeHTML(eachField.value))}}</pre> </template><template case="false"><template is="if" value="{{expHandlers(eachField.type,\'===\',&quot;zia_insights&quot;)}}"><template case="true"> <div class="elsecanvastest br_border3 br5 p10 kioskZiaDetailPage {{eachField.className}} DetailsPageRevampBox noBg" id="process_flow_zia_output_{{stateId}}_{{eachField.zia_insight.value[0].parent_record_details.id}}_{{eachField.zia_insight.api_name}}_{{eachField.zia_insight.component_name}}" data-zcqa="{{execute_from}}_kiosk_zia_{{screenName}}_{{eachField.zia_insight.parent_record_field.display_label}}_{{eachField.zia_insight.component_name}}_{{kioskName}}"> <template is="if" value="{{isPreviewMode}}"><template case="true"> <span id="title" class="dIB crm-font-bold pL10 pR10">{{getZiaFeatureLabel(eachField.zia_insight.component_name)}}</span> <div class="dIB crm-font-regular w100_per lh18 vaM aligncenter"> <div class="dIB mR5 vaM">{{getI18n(\'crm.kiosk.ziainsight.preview\')}}</div> </div> </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(eachField.zia_insight.value,\'!\'),\'||\',expHandlers(eachField.zia_insight.value.length,\'<=\',0))}}"><template case="true"> <span id="title" class="dIB crm-font-bold pL10 pR10">{{getZiaFeatureLabel(eachField.zia_insight.component_name)}}</span> <div class="dIB crm-font-regular w100_per lh18 vaM crm-small-font-size aligncenter"> <div class="dIB mR5 vaM">{{getI18n(\'crm.data.not.available\')}}</div> </div> </template></template></template></template> </div> </template><template case="false"> <div class="crmFormComponentRow"> <div class="lyteLabel w200 {{if(ifEquals(eachField.ui_type,555),&quot;mT40&quot;,&quot;mT5&quot;)}}"> <span id="{{execute_from}}_kiosk_field_label_{{eachField.id}}" class="vaT dIB cDefault {{if(ifEquals(eachField.tooltip.name,\'info_icon\'),\'w150\',\'\')}}" data-zcqa="{{execute_from}}_kiosk_fieldlabel_{{screenName}}_{{eachField.field_label}}_{{kioskName}}">{{eachField.field_label}}</span> <template is="if" value="{{expHandlers(eachField.tooltip.name,\'===\',&quot;info_icon&quot;)}}"><template case="true"> <span lt-prop-title="{{eachField.tooltip.value}}" class="zcicncss-info-rounded zcicn-cssIcons mL7 cDefault"></span> </template></template> </div> <div class="lyteField p5"> <template is="if" value="{{expHandlers(expHandlers(eachField.type,\'===\',&quot;screen_field&quot;),\'&amp;&amp;\',expHandlers(expHandlers(eachField.ui_type,\'===\',3),\'||\',expHandlers(eachField.ui_type,\'===\',110)))}}"><template case="true"> <crux-text-area-component id="{{execute_from}}_kiosk_field_id_{{eachField.id}}" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachField.field_label}}_{{kioskName}}" cx-prop-popover-class="kioskTextAreaPopover kioskHomePageFieldEdit" cx-prop-width="350px" cx-prop-appearance="box" cx-prop-from="view" class="appliedHeight mT12" cx-prop-field="{{eachField.property}}" cx-prop-value="{{lbind(eachField.value)}}"></crux-text-area-component> </template><template case="false"><template is="if" value="{{expHandlers(eachField.type,\'===\',&quot;screen_field&quot;)}}"><template case="true"> <lyte-text id="{{execute_from}}_kiosk_field_id_{{eachField.id}}" class="pT10 cDefault" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachField.field_label}}_{{kioskName}}" lt-prop-value="{{lbind(eachField.value)}}"></lyte-text> </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(expHandlers(eachField.read_only,\'&amp;&amp;\',expHandlers(eachField.ui_type,\'!==\',110)),\'&amp;&amp;\',expHandlers(eachField.ui_type,\'!==\',301)),\'||\',expHandlers(expHandlers(expHandlers(eachField.ui_type,\'===\',1),\'||\',expHandlers(eachField.ui_type,\'===\',25)),\'||\',expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(eachField.ui_type,\'===\',36),\'||\',expHandlers(eachField.ui_type,\'===\',143)),\'||\',expHandlers(eachField.ui_type,\'===\',144)),\'||\',expHandlers(eachField.ui_type,\'===\',145)),\'||\',expHandlers(eachField.ui_type,\'===\',34)),\'||\',expHandlers(eachField.ui_type,\'===\',38)),\'||\',expHandlers(eachField.ui_type,\'===\',21)),\'&amp;&amp;\',eachField.read_only)))}}"><template case="true"> <crux-text-component id="{{execute_from}}_kiosk_field_id_{{eachField.id}}" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachField.field_label}}_{{kioskName}}" cx-prop-appearance="box" cx-prop-from="create" cx-prop-maxlength="255" cx-prop-readonly="{{eachField.read_only}}" cx-prop-disabled="{{eachField.disabled}}" cx-prop-field="{{eachField.property}}" cx-prop-placeholder="{{eachField.place_holder}}" cx-prop-tooltip="{{lbind(eachField.custom_title)}}" class="kioskHomePageFieldEdit {{eachField.custom_class}}" cx-prop-input-class="{{eachField.custom_class}}" cx-prop-value="{{lbind(eachField.value)}}"></crux-text-component> </template><template case="false"><template is="if" value="{{expHandlers(eachField.ui_type,\'===\',21)}}"><template case="true"> <crux-website-component id="{{execute_from}}_kiosk_field_id_{{eachField.id}}" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachField.field_label}}_{{kioskName}}" cx-prop-appearance="box" cx-prop-from="create" cx-prop-maxlength="450" cx-prop-readonly="{{eachField.read_only}}" cx-prop-disabled="{{eachField.disabled}}" cx-prop-tooltip="{{lbind(eachField.custom_title)}}" class="kioskHomePageFieldEdit {{eachField.custom_class}} appliedHeight" cx-prop-input-class="{{eachField.custom_class}}" cx-prop-field="{{eachField.property}}" cx-prop-placeholder="{{eachField.place_holder}}" cx-prop-value="{{lbind(eachField.value)}}"></crux-website-component> </template><template case="false"><template is="if" value="{{expHandlers(eachField.ui_type,\'===\',33)}}"><template case="true"> <crux-phone-component id="{{execute_from}}_kiosk_field_id_{{eachField.id}}" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachField.field_label}}_{{kioskName}}" cx-prop-enable-country-code="{{eachField.isCountryCode}}" cx-prop-phone-in-user-format="false" cx-prop-appearance="box" cx-prop-from="create" cx-prop-maxlength="30" cx-prop-readonly="{{eachField.read_only}}" cx-prop-disabled="{{eachField.disabled}}" cx-prop-tooltip="{{lbind(eachField.custom_title)}}" class="kioskHomePageFieldEdit {{eachField.custom_class}} appliedHeight" cx-prop-input-class="{{eachField.custom_class}}" cx-prop-field="{{eachField.property}}" cx-prop-placeholder="{{eachField.place_holder}}" cx-prop-value="{{lbind(eachField.value)}}"></crux-phone-component> </template><template case="false"><template is="if" value="{{expHandlers(eachField.ui_type,\'===\',32)}}"><template case="true"> <crux-number-component id="{{execute_from}}_kiosk_field_id_{{eachField.id}}" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachField.field_label}}_{{kioskName}}" cx-prop-appearance="box" cx-prop-from="create" cx-prop-decimal-allowed="false" cx-prop-maxlength="{{eachField.length}}" cx-prop-readonly="{{eachField.read_only}}" cx-prop-disabled="{{eachField.disabled}}" cx-prop-field="{{eachField.property}}" cx-prop-tooltip="{{lbind(eachField.custom_title)}}" class="kioskHomePageFieldEdit appliedHeight {{eachField.custom_class}}" cx-prop-input-class="{{eachField.custom_class}}" cx-prop-placeholder="{{eachField.place_holder}}" cx-prop-type="number" cx-prop-value="{{lbind(eachField.value)}}"></crux-number-component> </template><template case="false"><template is="if" value="{{expHandlers(eachField.ui_type,\'===\',34)}}"><template case="true"> <crux-number-component id="{{execute_from}}_kiosk_field_id_{{eachField.id}}" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachField.field_label}}_{{kioskName}}" cx-prop-appearance="box" cx-prop-from="create" class="appliedHeight" cx-prop-decimal-allowed="true" cx-prop-maxlength="{{eachField.length}}" cx-prop-readonly="{{eachField.read_only}}" cx-prop-field="{{eachField.property}}" cx-prop-placeholder="{{eachField.place_holder}}" cx-prop-input-class="{{eachField.custom_class}}" cx-prop-type="number" cx-prop-tooltip="{{lbind(eachField.custom_title)}}" cx-prop-value="{{lbind(eachField.value)}}"></crux-number-component> </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(eachField.ui_type,\'===\',36),\'||\',expHandlers(eachField.ui_type,\'===\',143)),\'||\',expHandlers(eachField.ui_type,\'===\',145)),\'||\',expHandlers(eachField.ui_type,\'===\',144)),\'||\',expHandlers(eachField.ui_type,\'===\',38))}}"><template case="true"> <crux-number-component id="{{execute_from}}_kiosk_field_id_{{eachField.id}}" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachField.field_label}}_{{kioskName}}" cx-prop-appearance="box" cx-prop-from="create" cx-prop-decimal-allowed="true" cx-prop-maxlength="{{eachField.length}}" cx-prop-readonly="{{eachField.read_only}}" cx-prop-disabled="{{eachField.disabled}}" cx-prop-field="{{eachField.property}}" cx-prop-tooltip="{{lbind(eachField.custom_title)}}" class="kioskHomePageFieldEdit appliedHeight {{eachField.custom_class}}" cx-prop-input-class="{{eachField.custom_class}}" cx-prop-placeholder="{{eachField.place_holder}}" cx-prop-type="number" cx-prop-value="{{lbind(eachField.value)}}"></crux-number-component> </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(eachField.ui_type,\'===\',3),\'||\',expHandlers(eachField.ui_type,\'===\',110))}}"><template case="true"> <crux-text-area-component id="{{execute_from}}_kiosk_field_id_{{eachField.id}}" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachField.field_label}}_{{kioskName}}" cx-prop-appearance="box" cx-prop-from="create" cx-prop-maxlength="2000" cx-prop-readonly="{{eachField.read_only}}" cx-prop-disabled="{{eachField.disabled}}" cx-prop-field="{{eachField.property}}" cx-prop-placeholder="{{eachField.place_holder}}" cx-prop-tooltip="{{lbind(eachField.custom_title)}}" class="kioskHomePageFieldEdit appliedHeight {{eachField.custom_class}}" cx-prop-input-class="{{eachField.custom_class}}" cx-prop-value="{{lbind(eachField.value)}}"></crux-text-area-component> </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(eachField.ui_type,\'===\',24),\'||\',expHandlers(eachField.ui_type,\'===\',202))}}"><template case="true"> <crux-date-component id="{{execute_from}}_kiosk_field_id_{{eachField.id}}" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachField.field_label}}_{{kioskName}}" cx-prop-enable-lbind="true" cx-prop-from="create" cx-prop-readonly="{{eachField.read_only}}" cx-prop-disabled="{{eachField.disabled}}" cx-prop-field="{{eachField.property}}" cx-prop-value="{{lbind(eachField.value)}}" cx-prop-date-pattern="{{userDateFormat}}" cx-prop-tooltip="{{lbind(eachField.custom_title)}}" class="kioskHomePageFieldEdit {{eachField.custom_class}}" cx-prop-input-class="{{eachField.custom_class}}" cx-prop-date-in-user-pattern="false" cx-prop-appearance="box"></crux-date-component> </template><template case="false"><template is="if" value="{{expHandlers(eachField.ui_type,\'===\',333)}}"><template case="true"> <crux-date-time-component id="{{execute_from}}_kiosk_field_id_{{eachField.id}}" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachField.field_label}}_{{kioskName}}" cx-prop-enable-lbind="true" on-date-change="{{method(\'setDateTimeFieldValue\',this,eachField.api_name)}}" cx-prop-from="create" cx-prop-readonly="{{eachField.read_only}}" cx-prop-disabled="{{eachField.disabled}}" cx-prop-field="{{eachField.property}}" cx-prop-tooltip="{{lbind(eachField.custom_title)}}" cx-prop-date-pattern="{{userDateFormat}}" cx-prop-time-format="{{lbind(userTimeFormat)}}" cx-prop-datetime-in-user-pattern="false" cx-prop-value="{{lbind(eachField.value)}}" class="kioskCruxField kioskDateComp appliedHeight kioskHomePageFieldEdit {{eachField.custom_class}}" cx-prop-input-class="{{eachField.custom_class}}" cx-prop-appearance="box"></crux-date-time-component> </template><template case="false"><template is="if" value="{{expHandlers(eachField.ui_type,\'===\',555)}}"><template case="true"> <lyte-fileupload id="{{execute_from}}_kiosk_field_id_{{eachField.id}}" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachField.field_label}}_{{kioskName}}" lt-prop-disabled="{{isPreviewMode}}" lt-prop-file-limit="10000000" class="appliedHeight kioskHomePageFieldEdit " lt-prop-upload-multiple-count="5" lt-prop-reset-file-value="true" lt-prop-yield="true" lt-prop-reset="{{lbind(isReset)}}" lt-prop-auto-upload="false" lt-prop-files-count="5" on-reject="{{method(&quot;onFileReject&quot;,eachField.allow_multiple_upload)}}" on-remove="{{method(\'onFileRemove\')}}" on-add="{{method(&quot;onFileAdd&quot;)}}" on-before-open="{{method(&quot;onBeforeFileSelect&quot;,eachField.allow_multiple_upload,eachField.id)}}" on-before-add="{{method(&quot;onFileBeforeAdd&quot;,eachField.allow_multiple_upload)}}"> <template is="registerYield" yield-name="file"> <lyte-file-select-area> <lyte-file-message class="lyteFileUpdMsgWrap"> <div class="pL0"> <div class="dB"><crmutil-icon icon-name="cloud-upload" icon-class="zcicn-cloud-upload crmBaseIcon "></crmutil-icon></div> <span class="dB fs mT5 crm-font-bold">{{getI18n(\'crm.zia.CI.uploadfile.desc\')}}</span> </div> </lyte-file-message> </lyte-file-select-area> <div class="lyteFileUpdList"> <template is="for" items="{{queueList}}" item="item" index="index"> <div class="lyteFileUpdListFile "> <div class="lyteFileUpdTypePreview"> <template is="if" value="{{item.src}}"><template case="true"> <img class="lyteFileUpdThumb" src="{{item.src}}" alt="no image"> </template><template case="false"> <div class="dIB vaM"> <crmutil-icon icon-name="{{getIconName(item.name)}}" icon-class="{{getIconClass(item.name)}}"></crmutil-icon> </div> </template></template> </div> <lyte-text lt-prop-tooltip-config=" { &quot;position&quot; : &quot;top&quot; , &quot;appearance&quot; : &quot;box&quot; , &quot;margin&quot; : 0 , &quot;showdelay&quot; : 0 , &quot;hidedelay&quot; : 0 , &quot;maxdisplaytime&quot; : 5000 } " class="lyteFileUpdFileName crm-font-bold fs" lt-prop-title="{{item.name}}" lt-prop-value="{{item.name}}"> </lyte-text> <span class="lyteFileUpdFileSize"> {{lyteUiFileSize(item.size,fileSizeDisplayFormat,2)}} </span> <div class="lyteFileUpdFileStatus" data-completed="{{item.percentage}}"> <div class="lyteFileUpdProgressBar {{item.status}}"> <div class="lyteFileUpdProgressFill" style="width:{{item.percentage}}%"> </div> </div> </div> <template is="if" value="{{item.error}}"><template case="true"> <span class="crmNegativeColor crm-extra-small-font-size mR20 mL10">{{item.error_msg}}</span> </template></template> <template is="if" value="{{item.loading}}"><template case="true"> <lyte-file-close data-zcqa="SI_closeiconinpopup" onclick="{{action(\'onCloseFilesFromUI\',item)}}" data-value="{{item.id}}"> </lyte-file-close> </template><template case="false"> <div class="pA mR5" lt-prop-tooltip-config=" { &quot;position&quot; : &quot;top&quot; , &quot;appearance&quot; : &quot;box&quot; , &quot;margin&quot; : 0 , &quot;showdelay&quot; : 0 , &quot;hidedelay&quot; : 0 , &quot;maxdisplaytime&quot; : 5000 } " lt-prop-title="{{getI18n(\'crm.zia.CI.training.status.inprogress\')}}" aria-expanded="false"> </div> </template></template> </div> </template> </div> </template> </lyte-fileupload> </template><template case="false"><template is="if" value="{{expHandlers(eachField.ui_type,\'===\',221)}}"><template case="true"> <crux-user-component id="{{execute_from}}_kiosk_field_id_{{eachField.id}}" cx-prop-is-subordinate="true" cx-prop-from="create" cx-prop-filterable="false" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachField.field_label}}_{{kioskName}}" class="appliedHeight {{eachField.custom_class}} kioskHomePageFieldEdit" cx-prop-type="single" cx-prop-disabled="{{isPreviewMode}}" cx-prop-tooltip="{{lbind(eachField.custom_title)}}" cx-prop-placeholder="{{getI18n(\'gs.none\')}}" cx-prop-field="{{eachField.property}}" cx-prop-value="{{lbind(eachField.value)}}"></crux-user-component> </template><template case="false"><template is="if" value="{{expHandlers(eachField.ui_type,\'===\',2)}}"><template case="true"> <crux-dropdown id="{{execute_from}}_kiosk_field_id_{{eachField.id}}" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachField.field_label}}_{{kioskName}}" class="appliedHeight kioskHomePageFieldEdit {{eachField.custom_class}}" cx-prop-input-class="{{eachField.custom_class}}" cx-prop-options="{{eachField.pick_list_values}}" cx-prop-mandatory="{{eachField.property.required}}" on-option-select="{{method(\'addedSelectedValue\',eachField.api_name,false)}}" cx-prop-type="single" cx-prop-placeholder="{{getI18n(\'crm.select\')}}" cx-prop-disabled="{{eachField.read_only}}" cx-prop-user-value="display_value" cx-prop-system-value="actual_value" cx-prop-selected="{{lbind(eachField.value)}}" cx-prop-tooltip="{{lbind(eachField.custom_title)}}" cx-prop-prevent-parent-scroll="true" cx-prop-freeze="true"> </crux-dropdown> </template><template case="false"><template is="if" value="{{expHandlers(eachField.ui_type,\'===\',100)}}"><template case="true"> <crux-dropdown id="{{execute_from}}_kiosk_field_id_{{eachField.id}}" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachField.field_label}}_{{kioskName}}" class="appliedHeight kioskHomePageFieldEdit {{eachField.custom_class}}" cx-prop-input-class="{{eachField.custom_class}}" cx-prop-options="{{eachField.pick_list_values}}" cx-prop-mandatory="{{eachField.property.required}}" on-remove="{{method(\'removeaddedOption\',eachField.api_name)}}" on-add="{{method(\'addedSelectedValue\',eachField.api_name,true)}}" cx-prop-placeholder="{{getI18n(\'crm.select\')}}" cx-prop-type="multiple" cx-prop-disabled="{{eachField.read_only}}" cx-prop-user-value="display_value" cx-prop-system-value="display_value" cx-prop-selected="{{lbind(eachField.value)}}" cx-prop-tooltip="{{lbind(eachField.custom_title)}}" cx-prop-prevent-parent-scroll="true" cx-prop-freeze="true"> </crux-dropdown> </template><template case="false"><template is="if" value="{{expHandlers(eachField.ui_type,\'===\',301)}}"><template case="true"> <lyte-checkbox id="{{execute_from}}_kiosk_field_id_{{eachField.id}}" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachField.field_label}}_{{kioskName}}" class="appliedHeight mT8 kioskHomePageFieldEdit " lt-prop-readonly="{{eachField.read_only}}" lt-prop-disabled="{{eachField.read_only}}" lt-prop-title="{{lbind(eachField.custom_title)}}" lt-prop-checked="{{lbind(eachField.value)}}" lt-prop-value="{{lbind(eachField.value)}}"></lyte-checkbox> </template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template> </div> </div> </template></template></template></template></template></template></template></template> </template> </div> </div> <div class="{{getButtonClass(execute_from,btnAlignProp)}}"> <template is="for" items="{{screenButtons}}" item="eachButton" index="ind"> <template is="if" value="{{isReadOnlyMode}}"><template case="true"> <lyte-button lt-prop-tabindex="0" id="{{execute_from}}_kiosk_button_{{eachButton.id}}" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachButton.name}}_{{kioskName}}" button-id="{{eachButton.id}}" button-name="{{eachButton.name}}" class="kioskmL10 mR0 mB7 kioskExecuteBtn" lt-prop-appearance="{{eachButton.prop_name}}" lt-prop-disabled="true" lt-prop-class="{{eachButton.prop_name}} wbBreakAll wsNormal alignLeft"> <template is="registerYield" yield-name="text"> {{eachButton.name}} </template> </lyte-button> </template><template case="false"> <lyte-button lt-prop-tabindex="0" id="{{execute_from}}_kiosk_button_{{eachButton.id}}" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachButton.name}}_{{kioskName}}" lt-prop-disabled="{{if(enableExecution,false,true)}}" button-id="{{eachButton.id}}" button-name="{{eachButton.name}}" onclick="{{action(\'executekioskTransitions\',eachButton.id,eachButton.name,eachButton.is_connected_end,event)}}" class="kioskmL10 mB7 mR0 kioskExecuteBtn" lt-prop-class="{{eachButton.prop_name}} wbBreakAll wsNormal alignLeft" lt-prop-appearance="{{eachButton.prop_name}}"> <template is="registerYield" yield-name="text"> {{eachButton.name}} </template> </lyte-button> </template></template> </template> </div> </div> </template><template case="false"> <lyte-modal lt-prop-width="{{screenWidth}}" lt-prop-scrollable="false" lt-prop-wrapper-class="dB {{if(isCompetitorPopupRendered,\'kioskCompetitorModal\',\'\')}} {{if(isBestTimePopupRendered,\'kioskBestTimeModal\',\'\')}}" on-show="{{method(&quot;hideOtherPop&quot;)}}" lt-prop-offset="{&quot;top&quot;:&quot;0&quot;,&quot;left&quot;:&quot;center&quot;}" lt-prop-allow-multiple="true" data-zcqa="{{execute_from}}_kiosk_screen_preview" lt-prop-show="{{lbind(showScreen)}}" lt-prop-close-on-escape="false" on-close="{{method(\'destoryPreviewPopup\')}}" lt-prop-show-close-button="false"> <template is="registerYield" yield-name="modal"> <lyte-modal-header class="pR"> <lyte-text id="{{execute_from}}_kiosk_screen_header" data-zcqa="{{execute_from}}_kiosk_screen_header_{{screenName}}_{{kioskName}}" class="cDefault" lt-prop-value="{{screenName}}"></lyte-text> <template is="if" value="{{isPreviewMode}}"><template case="true"> <crmutil-icon icon-name="close-9" icon-class="zcicn-close-9 zcicn9 " class="pA right15 top15 cP" data-zcqa="{{execute_from}}_kiosk_screen_close_{{screenName}}_{{kioskName}}" lt-prop-title="{{getI18n(\'gs.close\')}}" onclick="{{action(\'closekioskScreenOutput\')}}"></crmutil-icon> </template><template case="false"> <crmutil-icon icon-name="close-9" icon-class="zcicn-close-9 zcicn9 " class="pA right15 top15 cP" data-zcqa="{{execute_from}}_kiosk_screen_close_{{screenName}}_{{kioskName}}" lt-prop-title="{{getI18n(\'crm.circuits.action.abort\')}}" onclick="{{action(\'closekioskScreenOutput\')}}"></crmutil-icon> </template></template> </lyte-modal-header> <lyte-modal-content class="pB20 kioskOutputpop"> <div id="{{execute_from}}_kiosk_screen_output_builder" data-zcqa="{{execute_from}}_kiosk_screen_output_builder_{{screenName}}_{{kioskName}}" class="dB {{execute_from}}_kiosk_screen_{{kioskId}}"> <template is="for" items="{{outputFields}}" item="eachField" index="ind"> <template is="if" value="{{expHandlers(eachField.ui_type,\'===\',140)}}"><template case="true"> <template is="if" value="{{eachField.info_message}}"><template case="true"> <div class="crmFormComponentRow"> <div class="p10 br_border3 bg_crmBg3 br5 aligncenter {{eachField.classNams}}"> <lyte-text id="kiosk_field_id_{{eachField.id}}" class="aligncenter cDefault" data-zcqa="{{execute_from}}_kiosk_{{eachField.name}}_{{screenName}}_{{kioskName}}" lt-prop-value="{{eachField.info_message}}"></lyte-text> </div> </div> </template><template case="false"> <div class="crmFormComponentRow"> <crux-table-component cx-prop-textarea-properties="{{multRecPopoverProperties}}" cx-prop-header="{{eachField.table_header}}" cx-prop-clip-mode="true" cx-prop-prefix-yields="{{prefixYields}}" cx-prop-field-type-mapping="{{eachField.cxPropFieldTypeMapping}}" id="{{execute_from}}_{{eachField.id}}" data-zcqa="{{eachField.name}}_{{kioskName}}" cx-prop-no-records-zcqa="{{eachField.field_label}}_no_records_{{kioskName}}" cx-prop-no-records-message="{{getI18n(\'crm.zcampaign.norecords\')}}" cx-prop-content="{{eachField.table_body}}" cx-prop-field-type-mapping-selector="ui_type" cx-prop-label-selector="field_label" cx-prop-yield-for-prefix="true" cx-prop-scroll-record-count="20" on-scroll-records-have-been-rendered="{{method(\'afterGetRecordDataRender\',eachField.api_name)}}" cx-prop-height="{{eachField.tableHeight}}" cx-prop-column-cell-class="kioskCruxTableCel" class="lyteOuterTable dIB w100_per"> <template is="if" value="{{expHandlers(eachField.checkbox_need,\'==\',true)}}"><template case="true"> <template is="registerYield" yield-name="header-prefix-1"> <lyte-checkbox lt-prop-title="{{eachField.record_selection_msg}}" lt-prop-disabled="{{eachField.allow_selection}}" id="{{execute_from}}_kiosk_select_all_getrecord_{{eachField.id}}" data-zcqa="{{execute_from}}_kiosk_select_all_getrecord_{{eachField.name}}_header_{{kioskName}}" class="w40" on-checked="{{method(\'addRecordToSelectAll\',eachField.api_name)}}" on-unchecked="{{method(\'removeRecordToSelectAll\',eachField.api_name)}}" lt-prop-value="1" lt-prop-checked="{{eachField.allow_selection}}" lt-prop-tabindex="0"></lyte-checkbox> </template> <template is="registerYield" yield-name="body-prefix-1"> <lyte-checkbox lt-prop-disabled="{{eachField.allow_selection}}" id="{{eachField.id}}_{{recordObj.id}}" data-zcqa="{{eachField.name}}_{{indexVal}}_{{kioskName}}" class="w40" on-checked="{{method(\'addRecordToSelect\',recordObj.id,eachField.api_name,indexVal)}}" on-unchecked="{{method(\'removeRecordToSelect\',recordObj.id,eachField.api_name,indexVal)}}" lt-prop-value="1" lt-prop-checked="{{eachField.allow_selection}}" lt-prop-tabindex="0"></lyte-checkbox> </template> </template></template> </crux-table-component> </div> </template></template> </template><template case="false"><template is="if" value="{{expHandlers(eachField.ui_type,\'===\',133)}}"><template case="true"> <template is="if" value="{{eachField.info_message}}"><template case="true"> <div class="crmFormComponentRow"> <div class="p10 br_border3 bg_crmBg3 br5 aligncenter {{eachField.classNams}}"> <lyte-text id="kiosk_field_id_{{eachField.id}}" class="aligncenter cDefault" data-zcqa="{{execute_from}}_kiosk_{{eachField.name}}_{{screenName}}_{{kioskName}}" lt-prop-value="{{eachField.info_message}}"></lyte-text> </div> </div> </template><template case="false"> <div class="br5 br_border3 kioskPreviewPop pT5 pB10 {{eachField.classNams}}"> <template is="for" items="{{eachField.fields}}" item="field" index="ind"> <div class="crmFormComponentRow"> <div class="lyteLabel w200 cDefault" data-zcqa="{{execute_from}}_kiosk_fieldlabel_{{eachField.name}}_{{screenName}}_{{field.field_label}}_{{kioskName}}"> {{field.field_label}} </div> <div class="lyteField {{getClassForMaxScreen(screenWidth)}}"> <template is="if" value="{{expHandlers(expHandlers(field.ui_type,\'===\',3),\'||\',expHandlers(field.ui_type,\'===\',110))}}"><template case="true"> <crux-text-area-component id="{{execute_from}}_kiosk_field_id_{{field.id}}" data-zcqa="{{execute_from}}_kiosk_{{eachField.name}}_{{screenName}}_{{field.field_label}}_{{kioskName}}" cx-prop-popover-class="{{popoverProperties.popoverProperties.class}}" cx-prop-width="{{popoverProperties.popoverProperties.width}}" cx-prop-appearance="box" cx-prop-from="view" class="appliedHeight mT12" cx-prop-field="{{field.property}}" cx-prop-value="{{lbind(field.value)}}"></crux-text-area-component> </template><template case="false"> <lyte-text id="{{execute_from}}_kiosk_field_id_{{field.id}}" class="pT10 cDefault" data-zcqa="{{execute_from}}_kiosk_{{eachField.name}}_{{screenName}}_{{field.field_label}}_{{kioskName}}" lt-prop-value="{{field.value}}"></lyte-text> </template></template> </div> </div> </template> </div> </template></template> </template><template case="false"><template is="if" value="{{expHandlers(eachField.type,\'===\',&quot;text&quot;)}}"><template case="true"> <pre id="{{execute_from}}_kiosk_{{screenName}}_label_{{eachField.id}}" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachField.field_label}}_{{kioskName}}" class="alignLeft pB10 lh20 kioskcustomElement">{{unescape(encodeHTML(eachField.value))}}</pre> </template><template case="false"><template is="if" value="{{expHandlers(eachField.type,\'===\',&quot;zia_insights&quot;)}}"><template case="true"> <div class="elsecanvastest br_border3 br5 p10 kioskZiaDetailPage {{eachField.className}} DetailsPageRevampBox noBg" id="process_flow_zia_output_{{stateId}}_{{eachField.zia_insight.value[0].parent_record_details.id}}_{{eachField.zia_insight.api_name}}_{{eachField.zia_insight.component_name}}" data-zcqa="{{execute_from}}_kiosk_zia_{{screenName}}_{{eachField.zia_insight.parent_record_field.display_label}}_{{eachField.zia_insight.component_name}}_{{kioskName}}"> <template is="if" value="{{isPreviewMode}}"><template case="true"> <span id="title" class="dIB crm-font-bold pL10 pR10"> <template is="if" value="{{eachField.zia_insight.component_name}}"><template case="true"> {{getZiaFeatureLabel(eachField.zia_insight.component_name)}} </template><template case="false"> {{getZiaFeatureLabel(eachField.zia_insights.component_name)}} </template></template> </span> <div class="dIB crm-font-regular w100_per lh18 vaM aligncenter"> <div class="dIB mR5 vaM">{{getI18n(\'crm.kiosk.screen.ziainsights.preview.msg\')}}</div> </div> </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(eachField.zia_insight.value,\'!\'),\'||\',expHandlers(eachField.zia_insight.value.length,\'<=\',0))}}"><template case="true"> <span id="title" class="dIB crm-font-bold pL10 pR10">{{getZiaFeatureLabel(eachField.zia_insight.component_name)}}</span> <div class="dIB crm-font-regular w100_per lh18 vaM crm-small-font-size aligncenter"> <div class="dIB mR5 vaM">{{getI18n(\'crm.data.not.available\')}}</div> </div> </template></template></template></template> </div> </template><template case="false"> <div class="crmFormComponentRow"> <div class="lyteLabel w220 {{if(ifEquals(eachField.ui_type,555),&quot;mT40&quot;,&quot;mT5&quot;)}}"> <span id="{{execute_from}}_kiosk_{{screenName}}_label_{{eachField.field_label}}" class="vaT dIB cDefault {{if(ifEquals(eachField.tooltip.name,\'info_icon\'),\'w150\',\'\')}}" data-zcqa="{{execute_from}}_kiosk_fieldlabel_{{screenName}}_{{eachField.field_label}}_{{kioskName}}">{{eachField.field_label}}</span> <template is="if" value="{{expHandlers(eachField.tooltip.name,\'===\',&quot;info_icon&quot;)}}"><template case="true"> <span lt-prop-title="{{eachField.tooltip.value}}" class="zcicncss-info-rounded zcicn-cssIcons mL7 cDefault"></span> </template></template> </div> <div class="lyteField p5"> <template is="if" value="{{expHandlers(expHandlers(eachField.type,\'===\',&quot;screen_field&quot;),\'&amp;&amp;\',expHandlers(expHandlers(eachField.ui_type,\'===\',3),\'||\',expHandlers(eachField.ui_type,\'===\',110)))}}"><template case="true"> <crux-text-area-component id="{{execute_from}}_kiosk_field_id_{{eachField.id}}" cx-prop-popover-class="kioskTextAreaPopover" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachField.field_label}}_{{kioskName}}" cx-prop-width="350px" cx-prop-appearance="box" cx-prop-from="view" class="appliedHeight mT12" cx-prop-field="{{eachField.property}}" cx-prop-value="{{lbind(eachField.value)}}"></crux-text-area-component> </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(eachField.type,\'===\',&quot;screen_field&quot;),\'&amp;&amp;\',expHandlers(eachField.ui_type,\'!==\',21))}}"><template case="true"> <lyte-text id="{{execute_from}}_kiosk_field_id_{{eachField.id}}" class="pT10 cDefault" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachField.field_label}}_{{kioskName}}" lt-prop-value="{{lbind(eachField.value)}}"></lyte-text> </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(expHandlers(eachField.read_only,\'&amp;&amp;\',expHandlers(eachField.ui_type,\'!==\',110)),\'&amp;&amp;\',expHandlers(eachField.ui_type,\'!==\',301)),\'||\',expHandlers(expHandlers(expHandlers(eachField.ui_type,\'===\',1),\'||\',expHandlers(eachField.ui_type,\'===\',25)),\'||\',expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(eachField.ui_type,\'===\',36),\'||\',expHandlers(eachField.ui_type,\'===\',143)),\'||\',expHandlers(eachField.ui_type,\'===\',144)),\'||\',expHandlers(eachField.ui_type,\'===\',145)),\'||\',expHandlers(eachField.ui_type,\'===\',38)),\'||\',expHandlers(eachField.ui_type,\'===\',34)),\'||\',expHandlers(eachField.ui_type,\'===\',21)),\'&amp;&amp;\',eachField.read_only)))}}"><template case="true"> <crux-text-component id="{{execute_from}}_kiosk_field_id_{{eachField.id}}" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachField.field_label}}_{{kioskName}}" cx-prop-appearance="box" cx-prop-from="create" cx-prop-maxlength="255" cx-prop-readonly="{{eachField.read_only}}" cx-prop-disabled="{{eachField.disabled}}" cx-prop-field="{{eachField.property}}" cx-prop-placeholder="{{eachField.place_holder}}" cx-prop-tooltip="{{lbind(eachField.custom_title)}}" class="kioskHomePageFieldEdit {{eachField.custom_class}}" cx-prop-input-class="{{eachField.custom_class}}" cx-prop-value="{{lbind(eachField.value)}}"></crux-text-component> </template><template case="false"><template is="if" value="{{expHandlers(eachField.ui_type,\'===\',21)}}"><template case="true"> <template is="if" value="{{expHandlers(eachField.type,\'===\',&quot;screen_field&quot;)}}"><template case="true"> <crux-website-component id="{{execute_from}}_kiosk_field_id_{{eachField.id}}" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachField.field_label}}_{{kioskName}}" cx-prop-appearance="box" class="mT9 dIB wbBreakAll" cx-prop-maxlength="450" cx-prop-readonly="{{eachField.read_only}}" cx-prop-disabled="{{eachField.disabled}}" cx-prop-tooltip="{{lbind(eachField.custom_title)}}" cx-prop-input-class="{{eachField.custom_class}}" cx-prop-field="{{eachField.property}}" cx-prop-placeholder="{{eachField.place_holder}}" cx-prop-value="{{lbind(eachField.value)}}"></crux-website-component> </template><template case="false"> <crux-website-component id="{{execute_from}}_kiosk_field_id_{{eachField.id}}" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachField.field_label}}_{{kioskName}}" cx-prop-appearance="box" cx-prop-from="create" cx-prop-maxlength="450" cx-prop-readonly="{{eachField.read_only}}" cx-prop-disabled="{{eachField.disabled}}" cx-prop-tooltip="{{lbind(eachField.custom_title)}}" class="kioskHomePageFieldEdit appliedHeight {{eachField.custom_class}}" cx-prop-input-class="{{eachField.custom_class}}" cx-prop-field="{{eachField.property}}" cx-prop-placeholder="{{eachField.place_holder}}" cx-prop-value="{{lbind(eachField.value)}}"></crux-website-component> </template></template> </template><template case="false"><template is="if" value="{{expHandlers(eachField.ui_type,\'===\',33)}}"><template case="true"> <crux-phone-component id="{{execute_from}}_kiosk_field_id_{{eachField.id}}" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachField.field_label}}_{{kioskName}}" cx-prop-enable-country-code="{{eachField.isCountryCode}}" cx-prop-phone-in-user-format="false" cx-prop-appearance="box" cx-prop-from="create" cx-prop-maxlength="30" cx-prop-readonly="{{eachField.read_only}}" cx-prop-disabled="{{eachField.disabled}}" cx-prop-tooltip="{{lbind(eachField.custom_title)}}" class="kioskHomePageFieldEdit appliedHeight {{eachField.custom_class}}" cx-prop-input-class="{{eachField.custom_class}}" cx-prop-field="{{eachField.property}}" cx-prop-placeholder="{{eachField.place_holder}}" cx-prop-value="{{lbind(eachField.value)}}"></crux-phone-component> </template><template case="false"><template is="if" value="{{expHandlers(eachField.ui_type,\'===\',34)}}"><template case="true"> <crux-number-component id="{{execute_from}}_kiosk_field_id_{{eachField.id}}" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachField.field_label}}_{{kioskName}}" cx-prop-appearance="box" cx-prop-from="create" class="appliedHeight" cx-prop-decimal-allowed="true" cx-prop-maxlength="{{eachField.length}}" cx-prop-readonly="{{eachField.read_only}}" cx-prop-field="{{eachField.property}}" cx-prop-placeholder="{{eachField.place_holder}}" cx-prop-input-class="{{eachField.custom_class}}" cx-prop-type="number" cx-prop-tooltip="{{lbind(eachField.custom_title)}}" cx-prop-value="{{lbind(eachField.value)}}"></crux-number-component> </template><template case="false"><template is="if" value="{{expHandlers(eachField.ui_type,\'===\',32)}}"><template case="true"> <crux-number-component id="{{execute_from}}_kiosk_field_id_{{eachField.id}}" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachField.field_label}}_{{kioskName}}" cx-prop-appearance="box" cx-prop-from="create" cx-prop-decimal-allowed="false" cx-prop-maxlength="{{eachField.length}}" cx-prop-readonly="{{eachField.read_only}}" cx-prop-disabled="{{eachField.disabled}}" cx-prop-field="{{eachField.property}}" cx-prop-tooltip="{{lbind(eachField.custom_title)}}" class="kioskHomePageFieldEdit appliedHeight {{eachField.custom_class}}" cx-prop-input-class="{{eachField.custom_class}}" cx-prop-placeholder="{{eachField.place_holder}}" cx-prop-type="number" cx-prop-value="{{lbind(eachField.value)}}"></crux-number-component> </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(eachField.ui_type,\'===\',36),\'||\',expHandlers(eachField.ui_type,\'===\',143)),\'||\',expHandlers(eachField.ui_type,\'===\',144)),\'||\',expHandlers(eachField.ui_type,\'===\',145)),\'||\',expHandlers(eachField.ui_type,\'===\',38))}}"><template case="true"> <crux-number-component id="{{execute_from}}_kiosk_field_id_{{eachField.id}}" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachField.field_label}}_{{kioskName}}" cx-prop-appearance="box" cx-prop-from="create" cx-prop-default-round-off="{{eachField.decimal_place}}" cx-prop-decimal-allowed="true" cx-prop-maxlength="{{eachField.length}}" cx-prop-readonly="{{eachField.read_only}}" cx-prop-disabled="{{eachField.disabled}}" cx-prop-field="{{eachField.property}}" cx-prop-tooltip="{{lbind(eachField.custom_title)}}" class="kioskHomePageFieldEdit appliedHeight {{eachField.custom_class}}" cx-prop-input-class="{{eachField.custom_class}}" cx-prop-placeholder="{{eachField.place_holder}}" cx-prop-type="number" cx-prop-value="{{lbind(eachField.value)}}"></crux-number-component> </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(eachField.ui_type,\'===\',110),\'||\',expHandlers(eachField.ui_type,\'===\',3))}}"><template case="true"> <crux-text-area-component id="{{execute_from}}_kiosk_field_id_{{eachField.id}}" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachField.field_label}}_{{kioskName}}" cx-prop-appearance="box" cx-prop-from="create" class="appliedHeight" cx-prop-maxlength="2000" cx-prop-readonly="{{eachField.read_only}}" cx-prop-field="{{eachField.property}}" cx-prop-placeholder="{{eachField.place_holder}}" cx-prop-tooltip="{{lbind(eachField.custom_title)}}" cx-prop-input-class="{{eachField.custom_class}}" cx-prop-value="{{lbind(eachField.value)}}"></crux-text-area-component> </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(eachField.ui_type,\'===\',24),\'||\',expHandlers(eachField.ui_type,\'===\',202))}}"><template case="true"> <crux-date-component id="{{execute_from}}_kiosk_field_id_{{eachField.id}}" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachField.field_label}}_{{kioskName}}" cx-prop-enable-lbind="true" cx-prop-from="create" cx-prop-readonly="{{eachField.read_only}}" cx-prop-field="{{eachField.property}}" cx-prop-value="{{lbind(eachField.value)}}" cx-prop-date-pattern="{{userDateFormat}}" cx-prop-tooltip="{{lbind(eachField.custom_title)}}" class="{{eachField.custom_class}}" cx-prop-input-class="{{eachField.custom_class}}" cx-prop-date-in-user-pattern="false" cx-prop-appearance="box"></crux-date-component> </template><template case="false"><template is="if" value="{{expHandlers(eachField.ui_type,\'===\',333)}}"><template case="true"> <crux-date-time-component id="{{execute_from}}_kiosk_field_id_{{eachField.id}}" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachField.field_label}}_{{kioskName}}" cx-prop-enable-lbind="true" on-date-change="{{method(\'setDateTimeFieldValue\',this,eachField.api_name)}}" cx-prop-from="create" cx-prop-readonly="{{eachField.read_only}}" cx-prop-field="{{eachField.property}}" cx-prop-date-pattern="{{userDateFormat}}" cx-prop-tooltip="{{lbind(eachField.custom_title)}}" cx-prop-time-format="{{lbind(userTimeFormat)}}" cx-prop-datetime-in-user-pattern="false" cx-prop-value="{{lbind(eachField.value)}}" class="appliedHeight kioskDateComp kioskCruxField {{eachField.custom_class}}" cx-prop-input-class="{{eachField.custom_class}}" cx-prop-appearance="box"></crux-date-time-component> </template><template case="false"><template is="if" value="{{expHandlers(eachField.ui_type,\'===\',555)}}"><template case="true"> <lyte-fileupload id="{{execute_from}}_kiosk_field_id_{{eachField.id}}" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachField.field_label}}_{{kioskName}}" lt-prop-disabled="{{isPreviewMode}}" lt-prop-file-limit="10000000" class="appliedHeight" lt-prop-upload-multiple-count="5" lt-prop-reset-file-value="true" lt-prop-yield="true" lt-prop-reset="{{lbind(isReset)}}" lt-prop-auto-upload="false" lt-prop-files-count="5" on-reject="{{method(&quot;onFileReject&quot;,eachField.allow_multiple_upload)}}" on-remove="{{method(\'onFileRemove\')}}" on-add="{{method(&quot;onFileAdd&quot;)}}" on-before-open="{{method(&quot;onBeforeFileSelect&quot;,eachField.allow_multiple_upload,eachField.id)}}" on-before-add="{{method(&quot;onFileBeforeAdd&quot;,eachField.allow_multiple_upload)}}"> <template is="registerYield" yield-name="file"> <lyte-file-select-area> <lyte-file-message class="lyteFileUpdMsgWrap"> <div class="pL0"> <div class="dB"><crmutil-icon icon-name="cloud-upload" icon-class="zcicn-cloud-upload crmBaseIcon "></crmutil-icon></div> <span class="dB fs mT5 crm-font-bold">{{getI18n(\'crm.zia.CI.uploadfile.desc\')}}</span> </div> </lyte-file-message> </lyte-file-select-area> <div class="lyteFileUpdList"> <template is="for" items="{{queueList}}" item="item" index="index"> <div class="lyteFileUpdListFile "> <div class="lyteFileUpdTypePreview"> <template is="if" value="{{item.src}}"><template case="true"> <img class="lyteFileUpdThumb" src="{{item.src}}" alt="no image"> </template><template case="false"> <div class="dIB vaM"> <crmutil-icon icon-name="{{getIconName(item.name)}}" icon-class="{{getIconClass(item.name)}}"></crmutil-icon> </div> </template></template> </div> <lyte-text lt-prop-tooltip-config=" { &quot;position&quot; : &quot;top&quot; , &quot;appearance&quot; : &quot;box&quot; , &quot;margin&quot; : 0 , &quot;showdelay&quot; : 0 , &quot;hidedelay&quot; : 0 , &quot;maxdisplaytime&quot; : 5000 } " class="lyteFileUpdFileName crm-font-bold fs" lt-prop-title="{{item.name}}" lt-prop-value="{{item.name}}"> </lyte-text> <span class="lyteFileUpdFileSize"> {{lyteUiFileSize(item.size,item.fileSizeDisplayFormat,2)}} </span> <div class="lyteFileUpdFileStatus" data-completed="{{item.percentage}}"> <div class="lyteFileUpdProgressBar {{item.status}}"> <div class="lyteFileUpdProgressFill" style="width:{{item.percentage}}%"> </div> </div> </div> <template is="if" value="{{item.error}}"><template case="true"> <span class="eINegativeColor crm-extra-small-font-size mR20 mL10">{{item.error_msg}}</span> </template></template> <template is="if" value="{{item.loading}}"><template case="true"> <lyte-file-close data-zcqa="SI_closeiconinpopup" onclick="{{action(\'onCloseFilesFromUI\',item)}}" data-value="{{item.id}}"> </lyte-file-close> </template><template case="false"> <div class="pA mR5" lt-prop-tooltip-config=" { &quot;position&quot; : &quot;top&quot; , &quot;appearance&quot; : &quot;box&quot; , &quot;margin&quot; : 0 , &quot;showdelay&quot; : 0 , &quot;hidedelay&quot; : 0 , &quot;maxdisplaytime&quot; : 5000 } " lt-prop-title="{{getI18n(\'crm.zia.CI.training.status.inprogress\')}}" aria-expanded="false"> </div> </template></template> </div> </template> </div> </template> </lyte-fileupload> </template><template case="false"><template is="if" value="{{expHandlers(eachField.ui_type,\'===\',221)}}"><template case="true"> <crux-user-component id="{{execute_from}}_kiosk_field_id_{{eachField.id}}" cx-prop-is-subordinate="true" cx-prop-from="create" cx-prop-filterable="false" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachField.field_label}}_{{kioskName}}" class="appliedHeight {{eachField.custom_class}}" cx-prop-type="single" cx-prop-disabled="{{isPreviewMode}}" cx-prop-tooltip="{{lbind(eachField.custom_title)}}" cx-prop-placeholder="{{getI18n(\'gs.none\')}}" cx-prop-field="{{eachField.property}}" cx-prop-value="{{lbind(eachField.value)}}"></crux-user-component> </template><template case="false"><template is="if" value="{{expHandlers(eachField.ui_type,\'===\',2)}}"><template case="true"> <crux-dropdown id="{{execute_from}}_kiosk_field_id_{{eachField.id}}" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachField.field_label}}_{{kioskName}}" class="appliedHeight {{eachField.custom_class}}" cx-prop-options="{{eachField.pick_list_values}}" cx-prop-mandatory="{{eachField.property.required}}" on-option-select="{{method(\'addedSelectedValue\',eachField.api_name,false)}}" cx-prop-tooltip="{{lbind(eachField.custom_title)}}" cx-prop-type="single" cx-prop-placeholder="{{getI18n(\'crm.select\')}}" cx-prop-disabled="{{eachField.read_only}}" cx-prop-user-value="display_value" cx-prop-system-value="actual_value" cx-prop-selected="{{lbind(eachField.value)}}" cx-prop-prevent-parent-scroll="true" cx-prop-freeze="true"> </crux-dropdown> </template><template case="false"><template is="if" value="{{expHandlers(eachField.ui_type,\'===\',100)}}"><template case="true"> <crux-dropdown id="{{execute_from}}_kiosk_field_id_{{eachField.id}}" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachField.field_label}}_{{kioskName}}" class="appliedHeight {{eachField.custom_class}}" cx-prop-options="{{eachField.pick_list_values}}" cx-prop-mandatory="{{eachField.property.required}}" on-remove="{{method(\'removeaddedOption\',eachField.api_name)}}" on-add="{{method(\'addedSelectedValue\',eachField.api_name,true)}}" cx-prop-placeholder="{{getI18n(\'crm.select\')}}" cx-prop-tooltip="{{lbind(eachField.custom_title)}}" cx-prop-type="multiple" cx-prop-disabled="{{eachField.read_only}}" cx-prop-user-value="display_value" cx-prop-system-value="display_value" cx-prop-selected="{{lbind(eachField.value)}}" cx-prop-prevent-parent-scroll="true" cx-prop-freeze="true"> </crux-dropdown> </template><template case="false"><template is="if" value="{{expHandlers(eachField.ui_type,\'===\',301)}}"><template case="true"> <lyte-checkbox id="{{execute_from}}_kiosk_field_id_{{eachField.id}}" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachField.field_label}}_{{kioskName}}" class="appliedHeight mT8 {{eachField.custom_class}}" lt-prop-readonly="{{eachField.read_only}}" lt-prop-disabled="{{eachField.read_only}}" lt-prop-checked="{{lbind(eachField.value)}}" lt-prop-title="{{lbind(eachField.custom_title)}}" lt-prop-value="{{lbind(eachField.value)}}"></lyte-checkbox> </template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template> </div> </div> </template></template></template></template></template></template></template></template> </template> </div> </lyte-modal-content> <lyte-modal-footer class="kioskScreenBtns {{btnAlignProp}}"> <template is="for" items="{{screenButtons}}" item="eachButton" index="ind"> <template is="if" value="{{isPreviewMode}}"><template case="true"> <lyte-button lt-prop-tabindex="0" id="{{execute_from}}_kiosk_button_{{eachButton.id}}" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachButton.name}}_{{kioskName}}" button-id="{{eachButton.id}}" button-name="{{eachButton.name}}" class="kioskmL10 mB7 mR0 kioskExecuteBtn" lt-prop-appearance="{{eachButton.prop_name}}" lt-prop-class="{{eachButton.prop_name}} eventNone wbBreakAll alignLeft wsNormal"> <template is="registerYield" yield-name="text">{{eachButton.name}}</template> </lyte-button> </template><template case="false"> <lyte-button lt-prop-disabled="{{if(enableExecution,false,true)}}" lt-prop-tabindex="0" id="{{execute_from}}_kiosk_button_{{eachButton.id}}" data-zcqa="{{execute_from}}_kiosk_{{screenName}}_{{eachButton.name}}_{{kioskName}}" button-id="{{eachButton.id}}" button-name="{{eachButton.name}}" onclick="{{action(\'executekioskTransitions\',eachButton.id,eachButton.name,eachButton.is_connected_end,event)}}" class="kioskmL10 mB7 mR0 kioskExecuteBtn" lt-prop-class="alignLeft {{eachButton.prop_name}} wbBreakAll wsNormal" lt-prop-appearance="{{eachButton.prop_name}}"> <template is="registerYield" yield-name="text">{{eachButton.name}}</template> </lyte-button> </template></template> </template> </lyte-modal-footer> </template> </lyte-modal> </template></template></template></template></template></template> <lyte-alert lt-prop-show-close-button="false" id="kioskGetRecSelectAlert" data-zcqa="kioskGetRecSelectAlert" lt-prop-secondary-message="{{getI18n(\'crm.kiosk.getrecord.select.minimum\')}}" lt-prop-primary-message="{{getI18n(\'crm.kiosk.select.record\')}}" lt-prop-type="info" lt-prop-top="0px"> </lyte-alert> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"registerYield",position:[1,3,1],dynamicNodes:[{type:"text",position:[1]}]},{type:"componentDynamic",position:[1,3]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"text",position:[1]}]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[3]},{type:"attr",position:[3,1,1]},{type:"componentDynamic",position:[3,1,1]},{type:"attr",position:[3,3,1]},{type:"attr",position:[3,3,1,1]},{type:"for",position:[3,3,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"componentDynamic",position:[1,1,1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"registerYield",position:[1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}}]},{type:"registerYield",position:[3],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}}]}]}},default:{}},{type:"componentDynamic",position:[1,1]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"componentDynamic",position:[1,1,1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"text",position:[1,1,1]},{type:"attr",position:[1,3,1]},{type:"if",position:[1,3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}}]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]},{type:"text",position:[3,1,0]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]},{type:"text",position:[3,1,0]}]}},default:{}}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"text",position:[1,1,1,0]},{type:"attr",position:[1,1,3]},{type:"if",position:[1,1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"attr",position:[1,3,1]},{type:"if",position:[1,3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"componentDynamic",position:[1,1,1,1,0]},{type:"text",position:[1,1,1,3,0]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3,1]},{type:"for",position:[3,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]}]}},default:{}},{type:"attr",position:[1,3]},{type:"componentDynamic",position:[1,3]},{type:"text",position:[1,5,1]},{type:"attr",position:[1,7]},{type:"attr",position:[1,7,1]},{type:"attr",position:[1,7,1,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'width:'","item.percentage","'%'"]}}}},{type:"attr",position:[1,9]},{type:"if",position:[1,9],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[1,11]},{type:"if",position:[1,11],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}}]}]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]},{type:"attr",position:[3,5]},{type:"attr",position:[3,5,1]},{type:"for",position:[3,5,1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"text",position:[1]}]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"text",position:[1]}]},{type:"componentDynamic",position:[1]}]}},default:{}}]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1]},{type:"attr",position:[3,1]},{type:"attr",position:[3,1,1]},{type:"for",position:[3,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"componentDynamic",position:[1,1,1]}]},false:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"registerYield",position:[1],dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},{type:"registerYield",position:[3],dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}]}},default:{}},{type:"componentDynamic",position:[1,1]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"componentDynamic",position:[1,1,1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"text",position:[1,1,1]},{type:"attr",position:[1,3]},{type:"attr",position:[1,3,1]},{type:"if",position:[1,3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}}]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"text",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1]}]}},default:{}},{type:"text",position:[3,1,0]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]},{type:"text",position:[3,1,0]}]}},default:{}}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"text",position:[1,1,1,0]},{type:"attr",position:[1,1,3]},{type:"if",position:[1,1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"attr",position:[1,3,1]},{type:"if",position:[1,3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"componentDynamic",position:[1,1,1,1,0]},{type:"text",position:[1,1,1,3,0]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3,1]},{type:"for",position:[3,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]}]}},default:{}},{type:"attr",position:[1,3]},{type:"componentDynamic",position:[1,3]},{type:"text",position:[1,5,1]},{type:"attr",position:[1,7]},{type:"attr",position:[1,7,1]},{type:"attr",position:[1,7,1,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'width:'","item.percentage","'%'"]}}}},{type:"attr",position:[1,9]},{type:"if",position:[1,9],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[1,11]},{type:"if",position:[1,11],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}}]}]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]},{type:"componentDynamic",position:[3]},{type:"attr",position:[5]},{type:"attr",position:[5,1]},{type:"for",position:[5,1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"text",position:[0]}]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"text",position:[0]}]},{type:"componentDynamic",position:[1]}]}},default:{}}]},{type:"componentDynamic",position:[5]}]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}]}},default:{}},{type:"attr",position:[3]},{type:"componentDynamic",position:[3]}],_templateAttributes:{type:"attr",position:[]},_observedAttributes:["showScreen","isLoadInSameScreen","isPreviewMode","isReadOnlyMode","isBlankScreenMode","isPreviewLimitReached","previewLimitReachedContentMsg","enableExecution","executeFromStart","screenName","tableHeight","screenButtons","files_list","file_ids","fileUploadFieldFileIdsList","outputFields","dashletId","fileTotalSize","kioskId","kioskName","recordId","stateId","btnAlignProp","screenSizeProp","execute_from","allowUpload","current_record_id","outputBuilderJson","defaultLoadData","popoverProperties","multRecPopoverProperties","userTimeFormat","userDateFormat","prefixYields","canvasData","detailViewData","isNeedReRenderComp","isCompetitorPopupRendered","isBestTimePopupRendered","screenWidth"],data:function(){return{showScreen:Lyte.attr("boolean",{default:!1}),isLoadInSameScreen:Lyte.attr("boolean",{default:!1}),isPreviewMode:Lyte.attr("boolean",{default:!1}),isReadOnlyMode:Lyte.attr("boolean",{default:!1}),isBlankScreenMode:Lyte.attr("boolean"),isPreviewLimitReached:Lyte.attr("boolean",{default:!1}),previewLimitReachedContentMsg:Lyte.attr("string",{default:""}),enableExecution:Lyte.attr("boolean",{default:!0}),executeFromStart:Lyte.attr("boolean",{default:!1}),screenName:Lyte.attr("string",{default:""}),tableHeight:Lyte.attr("string",{default:"350px"}),screenButtons:Lyte.attr("array",{default:[]}),files_list:Lyte.attr("array",{default:[]}),file_ids:Lyte.attr("array",{default:[]}),fileUploadFieldFileIdsList:Lyte.attr("object",{default:{}}),outputFields:Lyte.attr("array",{default:[]}),dashletId:Lyte.attr("string",{default:""}),fileTotalSize:Lyte.attr("number",{default:0}),kioskId:Lyte.attr("string",{default:""}),kioskName:Lyte.attr("string",{default:""}),recordId:Lyte.attr("string",{default:""}),stateId:Lyte.attr("string",{default:""}),btnAlignProp:Lyte.attr("string",{default:"alignRight"}),screenSizeProp:Lyte.attr("string",{default:"default_size"}),execute_from:Lyte.attr("string",{default:"test_run"}),allowUpload:Lyte.attr("boolean",{default:!0}),current_record_id:Lyte.attr("string",{default:void 0}),outputBuilderJson:Lyte.attr("object",{default:{}}),defaultLoadData:Lyte.attr("object",{default:{}}),popoverProperties:Lyte.attr("object",{default:{popoverProperties:{class:"kioskTextAreaPopover",width:"350px",height:"400px"}}}),multRecPopoverProperties:Lyte.attr("object",{default:{popoverProperties:{class:"kioskTextAreaPopover",width:"350px",height:"400px"}}}),userTimeFormat:Lyte.attr("string",{default:Crm.userDetails.TIME_FORMAT}),userDateFormat:Lyte.attr("string",{default:Crm.userDetails.DATE_PATTERN}),prefixYields:Lyte.attr("array",{default:[{class:"w55"}]}),canvasData:Lyte.attr("object",{default:{},hideAttr:!0}),detailViewData:Lyte.attr("object",{default:{}}),isNeedReRenderComp:Lyte.attr("boolean",{default:!1}),isCompetitorPopupRendered:Lyte.attr("boolean",{default:!1}),isBestTimePopupRendered:Lyte.attr("boolean",{default:!1}),screenWidth:Lyte.attr("string",{default:"670px"})}},init:function(){let e=this.getData("canvasData");if(e&&"canvas"===e.execute_from){let t=detailView&&detailView.entityId?detailView.entityId:void 0;this.setData("current_record_id",t),Lyte.registeredMixins.kiosk_execute.renderExecuteKiosk(e.kioskId,e.execute_from,!1,t,void 0,e.isReadOnlyMode)}let t=this.getData("detailViewData");if(this.setData("isPreviewLimitReached",t.isPreviewLimitReached),t.isPreviewLimitReached){var i="A"===Crm.userDetails.LICENSE_TYPE?3:"P"===Crm.userDetails.LICENSE_TYPE?1:5,a=commonUtils.getHelpUrl("help.kiosk"),o=Crm.userDetails.IS_ADMIN?I18n.getMsg("crm.kiosk.detail.view.limit.admin.message",[i,a]):I18n.getMsg("crm.kiosk.detail.view.limit.user.message");this.setData("previewLimitReachedContentMsg",o)}if(t&&"detail_view"===t.execute_from){let e=t&&t.currentRecordId?t.currentRecordId:void 0;if(e=!e&&detailView&&detailView.entityId?detailView.entityId:e,!e){var s=$L("crm-detailview-header");s&&s.length>0&&(e=s[0].component.getData("record_id"))}this.setData("current_record_id",e),Lyte.registeredMixins.kiosk_execute.renderExecuteKiosk(t.kioskId,t.execute_from,!1,e,void 0,void 0)}},didConnect:function(){var e=this.getData("kioskName"),t=this.getData("kioskId");e&&""!==e||(store.peekAll("module").forEach((function(i){t===i.id&&(e=i.plural_label)})),this.setData("kioskName",e));if(this.getData("isBlankScreenMode")){if(this.$node.classList.add("w100_per"),"canvas"===this.getData("execute_from")){var i=$L(Lyte.registeredMixins.kiosk_execute.getKioskElementIdFromCanvas(t));if(i&&i.length>0){let e=i.parent();this.getData("isReadOnlyMode")?(e.removeClass("bg_white"),e.addClass("h100_per dF w100_per")):e.addClass("h100_per dF w100_per bg_white")}if(this.getData("isReadOnlyMode")){let e=('[data-zcqa="canvas-detail-RL-'+this.getData("kioskName")+'"]').replaceAll(" ","&#x20;"),t=$L(e);if((!t||t.length<=0)&&i&&i.length>0)try{t=i.parent().parent().parent()}catch(e){t=void 0}t&&t.length>0&&t.hasClass("ui-draggable")&&t.outerHeight()<180&&t.outerHeight(190)}}}else if("canvas"===this.getData("execute_from")){let e=$L(Lyte.registeredMixins.kiosk_execute.getKioskElementIdFromCanvas(t));e&&e.length>0&&!this.getData("isReadOnlyMode")&&e.parent().addClass("bg_white")}else if("detail_view"===this.getData("execute_from")){var a=$("#detail_view_kiosk_screen_comp_"+t).eq(0);a.length>0&&a.parent().removeClass("h250")}var o=this.getData("outputFields"),s=this.getData("stateId");this.getData("isPreviewMode")||Lyte.registeredMixins.kiosk_execute.loadZiaWidgetsInScreen(o,s,this)},actions:{closekioskScreenOutput:function(){var e=this.getData("kioskId"),t=this.getData("screenButtons"),i=this.getData("execute_from"),a="",o="";if(t.forEach((function(e){e.is_connected_end&&(a=e.id,o=e.name)})),this.setData("showScreen",!1),""!==a&&!this.getData("isPreviewMode")){var s=this.getData("recordId"),l={};l.transition={id:a,name:o};var r="/crm/v7/settings/kiosks/"+e;l.data={id:s};var p={kiosk_executions:[l]};commonUtils.showHideLoadingDiv(!0),store.triggerAction("dummy","kioskExecution",{url:r+"/executions/"+s+"/actions/execute",payLoad:JSON.stringify(p),method:"PUT"}).then((function(e){e&&commonUtils.showHideLoadingDiv(!1)}),(function(){commonUtils.showHideLoadingDiv(!1)}));var c=Lyte.Router.getRouteInstance().routeName,n=Lyte.Router.getRouteInstance().parent?Lyte.Router.getRouteInstance().parent.routeName:null;("list"===c||"kanban"===c||"canvas"===c&&"entity"!==n)&&crmListView.reloadCurrentListView()}if(this.destoryPreviewPop(),"blueprint"===i){var d=Lyte.Router.getRouteInstance().transition.info.route;if(Crm.userDetails.DETAIL_VIEW_LYTE&&"crm.tab.module.entity.canvas"!==d){var m=$L("#awtAppRecsDIV").length>0?"crm-blueprint-exec-transition":"crm-blueprint-layer";document.querySelector(m).component.executeMethod("proceedBpKiosk",!1)}else ProcessFlow.isKioskExecPopupClosed=!0}"home_page"===i||"canvas"===i||"detail_view"===i?Lyte.registeredMixins.kiosk_execute.renderExecuteKiosk(e,i,!1,this.getScreenOutputCurrentRecordId(this,e,i)):Lyte.registeredMixins.kiosk_execute.isKioskExecution()&&(Lyte.registeredMixins.kiosk_execute.setKioskRefreshLoad(Lyte.registeredMixins.kiosk_execute.isKioskExecution(),!1),Lyte.registeredMixins.kiosk_execute.isKioskRefresh()&&(Lyte.registeredMixins.kiosk_execute.loadKioskRefreshPop(),Lyte.registeredMixins.kiosk_execute.setKioskRefreshLoad(!1,!1)))},refershkioskExecute:function(e,t){t.stopPropagation(),Lyte.registeredMixins.kiosk_execute.renderExecuteKiosk(e,this.getData("execute_from"),!0,this.getData("current_record_id"))},executekioskTransitions:function(e,t,i,a,o){o||(o=this),a.stopPropagation();var s=o.getData("execute_from");Lyte.registeredMixins.kiosk_execute.isKioskRefresh()||"home_page"!==s&&"canvas"!==s&&"detail_view"!==s&&"setup"!==s&&"test_run"!==s&&"buttons"!==s||Lyte.registeredMixins.kiosk_execute.setKioskRefreshLoad(!1),Lyte.registeredMixins.kiosk_execute.isKioskRefresh()||("home_page"===s||"canvas"===s||"setup"===s||"test_run"===s?Lyte.registeredMixins.kiosk_execute.setKioskExecution(!1):Lyte.registeredMixins.kiosk_execute.setKioskExecution(!0));var l="/crm/v7/settings/kiosks/"+o.getData("kioskId");if("home_page"!==s&&"canvas"!==s&&"detail_view"!==s||!o.getData("executeFromStart"))o.actions.executekioskTransition(o,e,t,i);else{if(i){Lyte.registeredMixins.kiosk_execute.setKioskExecution(!1);var r=Lyte.Router.getRouteInstance().routeName,p=Lyte.Router.getRouteInstance().parent?Lyte.Router.getRouteInstance().parent.routeName:null;return("list"===r||"kanban"===r||"canvas"===r&&"entity"!==p)&&crmListView.reloadCurrentListView(),!1}if(!o.actions.validateAndGetScreenData(o,{},s))return!1;l+="/actions/execute";var c=[{}];o.getData("current_record_id")&&(c[0].data={Current_Record:{id:o.getData("current_record_id")}});var n={kiosk_execute:c};commonUtils.showHideLoadingDiv(!0),store.findAll("dummy",null,!1,!1,{url:l,payLoad:JSON.stringify(n),method:"POST"}).then((function(a){if(a){if("test_run"!==s){var l=s;"kiosk_execute"===s&&(l="buttons"),Crm.client_tracking("Kiosk - Execute",{"Execute From":l})}o.setData("recordId",a.dummy.kiosk_execute[0].details.id),o.actions.executekioskTransition(o,e,t,i),commonUtils.showHideLoadingDiv(!1)}}),(function(s){if(s){var l="kiosk_execute",r=JSON.parse(s.response);if(r[l]&&(r=r[l][0]),r&&r.message&&"LIMIT_EXCEEDED"!==r.code&&("Invalid current record"===r.message||"Converted record not supported"===r.message||"No permission for current record"===r.message))return o.setData("current_record_id",void 0),void o.actions.executekioskTransitions(e,t,i,a,o);Lyte.registeredMixins.kiosk_execute.kioskRouteErrorHandling(s,l)}commonUtils.showHideLoadingDiv(!1)}))}},executekioskTransition:function(e,t,i,a){var o=e.getData("kioskId"),s=e.getData("execute_from");if(a){var l=Lyte.Router.getRouteInstance().routeName,r=Lyte.Router.getRouteInstance().parent?Lyte.Router.getRouteInstance().parent.routeName:null;if(("list"===l||"kanban"===l||"canvas"===l&&"entity"!==r)&&crmListView.reloadCurrentListView(),e.getData("recordId")&&""!==e.getData("recordId")){var p;(p={}).transition={id:t,name:i};var c="/crm/v7/settings/kiosks/"+o;p.data={id:e.getData("recordId")};var n={kiosk_executions:[p]};store.triggerAction("dummy","kioskExecution",{url:c+"/executions/"+e.getData("recordId")+"/actions/execute",payLoad:JSON.stringify(n),method:"PUT"}).then((function(e){e&&commonUtils.showHideLoadingDiv(!1)}),(function(){commonUtils.showHideLoadingDiv(!1)}))}if(e.setData("showScreen",!1),e.destoryPreviewPop(),"home_page"===s||"canvas"===s||"detail_view"===s){switch(s){case"home_page":CrmAnalytics.insertLoader($("#"+Lyte.registeredMixins.kiosk_execute.getCompIdfromKioskId(o)));break;case"canvas":var d=$(Lyte.registeredMixins.kiosk_execute.getKioskElementIdFromCanvas(o));d.addClass("dF aiCenter w100_per"),d.html("<div class='h100_per pR w100_per h50' ><span class='loadingspinner'></span></div>");break;case"detail_view":var m="#detail_view_kiosk_screen_comp_"+o;$(m).addClass("aiCenter dF"),$(m)[0].innerHTML="<div class='h100_per pR w100_per h50' ><span class='loadingspinner'></span></div>",Lyte.registeredMixins.kiosk_execute.isKioskExecution()&&(Lyte.registeredMixins.kiosk_execute.setKioskExecution(!1),Lyte.registeredMixins.kiosk_execute.isKioskRefresh()&&(Lyte.registeredMixins.kiosk_execute.loadKioskRefreshPop(),Lyte.registeredMixins.kiosk_execute.setKioskRefreshLoad(!1)))}Lyte.registeredMixins.kiosk_execute.renderExecuteKiosk(o,s,!1,e.getScreenOutputCurrentRecordId(e,o,s))}else if("blueprint"===s){var u=Lyte.Router.getRouteInstance().transition.info.route;if(Crm.userDetails.DETAIL_VIEW_LYTE&&"crm.tab.module.entity.canvas"!==u){var _=$L("#awtAppRecsDIV").length>0?"crm-blueprint-exec-transition":"crm-blueprint-layer";document.querySelector(_).component.executeMethod("proceedBpKiosk",!0)}else ProcessFlow.proceedBPFromKiosk();Lyte.registeredMixins.kiosk_execute.isKioskExecution()&&featuresAvailable&&featuresAvailable.KIOSK_NEW_ACTIONS&&(Lyte.registeredMixins.kiosk_execute.setKioskExecution(!1),Lyte.registeredMixins.kiosk_execute.isKioskRefresh()&&(Lyte.registeredMixins.kiosk_execute.loadKioskRefreshPop(),Lyte.registeredMixins.kiosk_execute.setKioskRefreshLoad(!1))),Lyte.registeredMixins.kiosk_execute.setKioskExecution(!1)}else Lyte.registeredMixins.kiosk_execute.isKioskExecution()&&(Lyte.registeredMixins.kiosk_execute.setKioskExecution(!1),Lyte.registeredMixins.kiosk_execute.isKioskRefresh()&&(Lyte.registeredMixins.kiosk_execute.loadKioskRefreshPop(),Lyte.registeredMixins.kiosk_execute.setKioskRefreshLoad(!1)));return!1}(p={}).transition={id:t,name:i};var y,f={};if(!e.actions.validateAndGetScreenData(e,f,s))return!1;if(e.getData("recordId")&&(f.id=e.getData("recordId")),e.getData("current_record_id")&&(y=e.getData("current_record_id")),p.data=e.getData("defaultLoadData"),void 0===p.data)p.data=f;else for(var k in f)p.data[k]=f[k];commonUtils.showHideLoadingDiv(!0),e.setData("enableExecution",!1);var h;c="/crm/v7/settings/kiosks/"+o;if(e.getData("recordId")&&""!==e.getData("recordId"))h={url:c+"/executions/"+e.getData("recordId")+"/actions/execute",payLoad:JSON.stringify({kiosk_executions:[p]}),method:"PUT"};else{y&&(p.data.Current_Record={id:y}),h={url:c+"/actions/execute",payLoad:JSON.stringify({kiosk_execute:[p]}),method:"POST"};var x=s;"kiosk_execute"===s&&(x="buttons"),Crm.client_tracking("Kiosk - Execute",{"Execute From":x})}store.triggerAction("dummy","kioskExecution",h).then((function(t){if(t){var i;if(e.getData("recordId")&&""!==e.getData("recordId")?i=t.kiosk_executions[0].details:(i=t.kiosk_execute[0].details,e.setData("recordId",i.id)),e.setData("showScreen",!1),"home_page"!==s&&"canvas"!==s&&"detail_view"!==s&&e.destoryPreviewPop(),featuresAvailable&&featuresAvailable.KIOSK_NEW_ACTIONS&&i.executed_dependent_states&&i.executed_dependent_states.length>0)for(var a=i.executed_dependent_states.length,l=0;l<a;l++){var r=i.executed_dependent_states[l];r.action_type&&"convert"===r.action_type&&Lyte.registeredMixins.kiosk_execute.setKioskRefreshLoad(!0)}if(commonUtils.showHideLoadingDiv(!1),!i.next_executable_state){if("home_page"===s||"canvas"===s||"detail_view"===s){if("home_page"===s)CrmAnalytics.insertLoader($("#"+Lyte.registeredMixins.kiosk_execute.getCompIdfromKioskId(o)));else if("canvas"===s){let e=$(Lyte.registeredMixins.kiosk_execute.getKioskElementIdFromCanvas(o));e.addClass("dF aiCenter w100_per"),e.html("<div class='h100_per pR w100_per h50' ><span class='loadingspinner'></span></div>")}else if("detail_view"===s){var p="#detail_view_kiosk_screen_comp_"+o;$(p).addClass("aiCenter dF"),$(p)[0].innerHTML="<div class='h100_per pR w100_per h50' ><span class='loadingspinner'></span></div>"}Lyte.registeredMixins.kiosk_execute.renderExecuteKiosk(o,s,!1,e.getScreenOutputCurrentRecordId(e,o,s))}if("test_run"===s&&i.executed_dependent_states){var n=$L("crm-kiosk-builder");if(n&&n.length>0){var d=i.executed_dependent_states[i.executed_dependent_states.length-1],m=d.id;if(m){var u=Lyte.registeredMixins.kiosk.getStateDetails(m);if(u&&"decision"===u.type){var _=d.transition.name;"Default"===_&&(_=I18n.getMsg("gs.default"));var f=u.name+" - "+_,k=n[0].component;k.setData("flowValidationContent",I18n.getMsg("crm.kiosk.testrun.incomplete.path",f)),k.setData("flowValidationHeader",I18n.getMsg("crm.kiosk.testrun.incomplete.header")),$L("#kioskPathErrorPop")[0].ltProp("show",!0)}}}}if("blueprint"===s)if(featuresAvailable&&featuresAvailable.KIOSK_NEW_ACTIONS&&Lyte.registeredMixins.kiosk_execute.isKioskExecution()&&(Lyte.registeredMixins.kiosk_execute.setKioskExecution(!1),Lyte.registeredMixins.kiosk_execute.isKioskRefresh()&&(Lyte.registeredMixins.kiosk_execute.loadKioskRefreshPop(),Lyte.registeredMixins.kiosk_execute.setKioskRefreshLoad(!1))),Lyte.registeredMixins.kiosk_execute.setKioskExecution(!1),Crm.userDetails.DETAIL_VIEW_LYTE){var h=$L("#awtAppRecsDIV").length>0?"crm-blueprint-exec-transition":"crm-blueprint-layer";document.querySelector(h).component.executeMethod("proceedBpKiosk",!0)}else ProcessFlow.proceedBPFromKiosk();return Lyte.registeredMixins.kiosk_execute.isKioskExecution()&&(Lyte.registeredMixins.kiosk_execute.setKioskExecution(!1),Lyte.registeredMixins.kiosk_execute.isKioskRefresh()&&(Lyte.registeredMixins.kiosk_execute.loadKioskRefreshPop(),Lyte.registeredMixins.kiosk_execute.setKioskRefreshLoad(!1))),!1}if(!i.next_executable_state)return Lyte.registeredMixins.kiosk_execute.isKioskExecution()&&(Lyte.registeredMixins.kiosk_execute.setKioskExecution(!1),Lyte.registeredMixins.kiosk_execute.isKioskRefresh()&&(Lyte.registeredMixins.kiosk_execute.loadKioskRefreshPop(),Lyte.registeredMixins.kiosk_execute.setKioskRefreshLoad(!1))),!1;var x=i.id;commonUtils.showHideLoadingDiv(!0);store.findAll("dummy",{include_inner_details:"kiosk_executions.kiosk,kiosk_executions.button_align,elements.get_record.associated_fields.data_type,elements.get_record.associated_fields.ui_type,elements.get_record.ui_type,elements.get_record.associated_fields.api_name,elements.get_record.module,elements.get_record.type,elements.get_record.limit,elements.get_record.range,elements.get_record.api_name,elements.get_record.associated_fields.field_label,elements.data_hub.ui_type,elements.data_hub.api_name,elements.zia_insight.parent_record_field"},!1,!1,{url:c+"/executions/"+x}).then((function(e){if(e){var t=e.kiosk_executions[0],i={showScreen:!0};t.kiosk&&t.kiosk.name&&(i.kioskName=t.kiosk.name),"right_to_left"===t.button_align?i.btnAlignProp="alignRight dF flexReverse fwWrap":"center"===t.button_align?i.btnAlignProp="aligncenter":i.btnAlignProp="alignLeft",i.screenWidth=t.width,"670px"===t.width?i.popoverProperties={popoverProperties:{class:"kioskTextAreaPopover",width:"350px",height:"400px"}}:"1000px"===t.width&&(i.popoverProperties={popoverProperties:{class:"kioskTextAreaPop",width:"680px",height:"500px"}}),i.screenName=t.executable_info.state.name,i.screenName=t.title,i.kioskId=o,i.recordId=x,i.stateId=t.executable_info.state.id,i.screenButtons=t.executable_info.transitions,i.execute_from=s,i.current_record_id=y,Lyte.registeredMixins.kiosk_execute.getModifiedOutputJson(t.elements,!1).then((function(e){i.isPreviewMode=!1,i.outputFields=e;var t=$L("crm-kiosk-builder")[0];if("test_run"===s||t)Lyte.Component.render("crm-kiosk-screen-output",i,"#kiosk_screen_output_preview");else{var a=$L("#kiosk_output_popup");a&&a.length>0?(a.removeClass("dN"),Lyte.Component.render("crm-kiosk-screen-output",i,"#kiosk_output_popup")):Lyte.Component.render("crm-kiosk-screen-output",i,"body")}commonUtils.showHideLoadingDiv(!1)}))}}))}}),(function(o){if(o&&o.response){var l=JSON.parse(o.response);if(l.hasOwnProperty("kiosk_execute")&&l.kiosk_execute&&"canvas"===s){if("LIMIT_EXCEEDED"!==(l=l.kiosk_execute[0]).code&&("Invalid current record"===l.message||"Converted record not supported"===l.message||"No permission for current record"===l.message)){e.setData("current_record_id",void 0);let o=e.getData("defaultLoadData");return o&&o.hasOwnProperty("Current_Record")&&delete o.Current_Record,void e.actions.executekioskTransition(e,t,i,a)}}else Lyte.registeredMixins.kiosk_execute.kioskRouteErrorHandling(o,"kiosk_executions")}else _cruxUtils.showCustomMessage({params:{ltPropMessage:I18n.getMsg("voc.gc.save.error"),ltPropType:"error"}});e.setData("enableExecution",!0),commonUtils.showHideLoadingDiv(!1)}))},validateAndGetScreenData:function(e,t,i){for(var a,o=Lyte.deepCopyObject(e.getData("outputFields")),s=o.length,l=!0,r="",p=!1,c="",n=$L(".kioskOutputpop"),d=e.getData("kioskId"),m=0;m<s;m++){var u,_=o[m],y=_.api_name,f="#"+i+"_kiosk_field_id_"+_.id,k="data_hubs"===_.type;if("screen_field"!==_.type&&"text"!==_.type&&"zia_insights"!==_.type)if(133!==_.ui_type){switch(_.ui_type){case 140:if(_.output_allow_selection)if(0===_.get_record_ids.length){var h=!1;if(k){(E={}).status=_.status;var x=[],g=_.selected_ind;if(g&&g.length>0){h=!0;for(var v=g.length,F=0;F<v;F++)x.push(_.data_hub_data[g[F]])}E.data_hub_data=x,u=E}h||(p=!0,$L("#"+i+"_"+_.id).addClass("kioskGetRecordErrortable"),""===c&&(c=i+"_"+_.id))}else if((u=_.get_record_ids)&&u[0]){var b=[];for(v=u.length,F=0;F<v;F++)b.push({id:u[F]});u=b}else u=null;else if(_.allow_selection&&!_.value)u=null;else{if(_.get_record_data||_.value){if(k)(E={}).status=_.status,E.data_hub_data=u,t[y]=E;continue}if(k){(E={}).status=_.status,E.data_hub_data=u,t[y]=E;continue}u=null}break;case 555:var D=e.getData("fileUploadFieldFileIdsList");u=D[_.id]&&D[_.id].file_ids?D[_.id].file_ids:[];break;case 100:u=void 0!==_.value?JSON.parse(_.value):null;break;case 221:u=_.value&&Object.keys(_.value).length>0?{id:_.value.id,full_name:_.value.full_name}:null;break;case 301:u=void 0!==_.value&&("string"==typeof _.value||_.value instanceof String?"true"===_.value:_.value);break;case 21:var L=$L(f)[0];if(u=L.component.getValue())L.component.validate()||(r||(r=L),l=!1);break;case 33:case 34:u=$L(f)[0].component.getValue();break;case 32:case 36:case 38:case 143:case 144:case 145:if(_.value){var N=$L(f)[0];N.component.validate()?u=_.value:(r||(r=N),l=!1)}else u=null;break;case 24:case 202:case 333:var w=$L(f);u=24===_.ui_type||202===_.ui_type?this.apiDateFormat(_.value):w[0].component.getValue();var I=w.find("lyte-input")[0].getData("ltPropValue"),H=(I=I.trim())?this.apiDateFormat(I):"",q=!1;if(!u&&_.value||!H||""===H){var C=$L(f)[0];H&&""!==H||!I?_.required&&(C.setData("cxPropErrorMessage",I18n.getMsg("crm.field.empty.check",_.field_label)),l=!1,r||(r=C),q=!0):(C.setData("cxPropErrorMessage",I18n.getMsg("crm.field.valid.check",_.field_label)),l=!1,r||(r=C),q=!0)}!q&&_.read_only&&333===_.ui_type&&(u=CrmDateUtils.convertDateTimetoISOFormat(u));break;default:u=_.value}if(2===_.ui_type&&u&&(u="-None-"===u?"":_.pick_list_values.filter((e=>e.actual_value===u))[0].display_value),_.required&&(("string"==typeof u||u instanceof String)&&(u=u.trim()),24!==_.ui_type&&202!==_.ui_type&&333!==_.ui_type&&(100===_.ui_type&&(u=0===u.length?void 0:u),!u||""===u))){C=$L(f)[0];32===_.ui_type||34===_.ui_type||36===_.ui_type||38===_.ui_type||144===_.ui_type&&145===_.ui_type||143===_.ui_type?$L(f)[0].component.validate():C.setData("cxPropErrorMessage",I18n.getMsg("crm.field.empty.check",_.field_label)),l=!1,r||(r=C)}if(25===_.ui_type&&u){if(!/^[a-zA-Z0-9_]([\w\-\.\+\']*)@([\w\-\.]*)(\.[a-zA-Z]{2,22}(\.[a-zA-Z]{2}){0,2})$/.test(u))(C=$L(f)[0]).setData("cxPropErrorMessage",I18n.getMsg("crm.field.valid.check",_.field_label)),l=!1,r||(r=C)}if(33===_.ui_type){var M=$L(f)[0];if(!M.component.validate()){var R=M.component.getData("cxPropErrorMessage");r||(r=C),M.setData("cxPropErrorMessage",R),l=!1}}if(34===_.ui_type){var P=$L(f)[0],z=P.getData("cxPropField");if(z.decimal_place=2,P.setData("cxPropField",z),!P.component.validate()){R=P.component.getData("cxPropErrorMessage");r||(r=C),P.setData("cxPropErrorMessage",R),l=!1}}r&&(a=_.ui_type),t[y]=u||null}else{var E;k?(u=_.data_hub_data,(E={}).status=_.status,E.data_hub_data=u||null,t[y]=E):(u=_.get_record_ids)&&u[0]?t[y]={id:u[0]}:t[y]=null}}if(r&&(221===a?r.component.validate():r.focus()),p){var B=$L("#"+c).offset().top,S=$L(".kioskoutputwscreen"),T=Lyte.registeredMixins.kiosk_execute.getCompIdfromKioskId(d);if(T&&S&&S.length>0){var A=$L("#"+T).find(".actDepBannerWidget");A&&A.length>0&&(B=B-A.offset().top+A.scrollTop()-20,A.scrollTop(B))}else n&&n.length>0&&(B=B-n.offset().top+n.scrollTop()),n.scrollTop(B);return $L("#kioskGetRecSelectAlert").e.ltProp("show",!0),!1}return l},apiDateFormat:function(e){if(!e)return"";var t=CrmDateUtils.getDateObjectFromString(e,null,!0);return"Invalid Date"===t?"":CrmDateUtils.getFormattedDate(t)},onCloseFilesFromUI:function(e){if(!e.error)for(var t=this.getData("fileUploadFieldFileIdsList")[e.field_id].file_ids,i=t.length,a=0;a<i;a++)if(String(t[a].File_Id__s)===String(e.file_unique_id)){t.splice(a,1);break}}},methods:{destoryPreviewPopup:function(){this.destoryPreviewPop()},hideOtherPop:function(){var e=$("#kioskStateProp");e&&e.length&&e[0].component.setData("ltPropShow",!1)},setDateTimeFieldValue:function(e,t){var i=this.getData("execute_from");this.getData("outputFields").forEach((function(a){a.api_name===t&&(a.value=$L(e)[0].component.getValue(),$L("#"+i+"_kiosk_field_id_"+a.id)[0].setData("cxPropErrorMessage",""))}))},removeaddedOption:function(e,t){t=this.getData("execute_from");this.getData("outputFields").forEach((function(i){i.api_name===e&&$L("#"+t+"_kiosk_field_id_"+i.id)[0].setData("cxPropErrorMessage","")}))},addedSelectedValue:function(e,t,i){var a=this.getData("execute_from");this.getData("outputFields").forEach((function(o){if(o.api_name===e){if(i&&t&&JSON.parse(o.value).length>=i)return!1;$L("#"+a+"_kiosk_field_id_"+o.id)[0].setData("cxPropErrorMessage","")}}))},addRecordToSelectAll:function(e){var t=1,i=0,a="",o=this.getData("execute_from");if(this.getData("outputFields").forEach((function(o){o.api_name===e&&(t=o.limit,a=o.id,i=o.selected_ind.length>0?o.selected_ind.length:o.get_record_ids.length)})),i>0&&$L("#"+o+"_kiosk_select_all_getrecord_"+a).hasClass("lyteCheckboxPartial"))this.methods.removeRecordToSelectAll(e,this);else{var s=$L("#"+o+"_"+a);s.removeClass("kioskGetRecordErrortable");for(var l=s.find("lyte-checkbox"),r=l.length,p=0;p<r;p++)i<t&&(l[p].ltProp("checked",!0),l[p].id.startsWith(o+"_kiosk_select_all_getrecord_")||i++);for(p=0;p<r;p++)l[p].ltProp("checked")||l[p].id.startsWith(o+"_kiosk_select_all_getrecord_")||l[p].component.setData("ltPropDisabled",!0);r-1>t&&_cruxUtils.showCustomMessage({params:{ltPropMessage:I18n.getMsg("crm.kiosk.select.records.limit",t),ltPropType:"info",ltPropClass:"kioskCruxError"}})}},removeRecordToSelectAll:function(e,t){(i=this.getData?this.getData("outputFields"):t.getData("outputFields"))||(i=t.getData("outputFields"));var i,a="",o=this.getData("execute_from");i.forEach((function(t){t.api_name===e&&(a=$L("#"+o+"_"+t.id))}));for(var s=a.find("lyte-checkbox"),l=s.length,r=0;r<l;r++)s[r].ltProp("checked",!1);(i=this.getData?this.getData("outputFields"):void 0)||(i=t.getData("outputFields")),i.forEach((function(t){t.api_name===e&&(t.get_record_ids=[],t.selected_ind=[])}))},addRecordToSelect:function(e,t,i){var a=this.getData("execute_from");this.getData("outputFields").forEach((function(o){if(o.api_name===t){var s=$L("#"+a+"_"+o.id);void 0!==e?o.get_record_ids.push(e):o.selected_ind.push(i),s.removeClass("kioskGetRecordErrortable");var l=!1;(o.limit===o.get_record_ids.length||o.selected_ind&&o.selected_ind.length===o.limit)&&(l=!0);var r=$L("#"+a+"_kiosk_select_all_getrecord_"+o.id);if(o.get_record_data&&o.get_record_data.length!==o.get_record_ids.length&&o.get_record_ids.length>0||o.data_hub_data&&o.data_hub_data.length!==o.selected_ind&&o.selected_ind.length>0?r.addClass("lyteCheckboxPartial"):r.removeClass("lyteCheckboxPartial"),(o.get_record_data&&o.get_record_data.length===o.get_record_ids.length||o.data_hub_data&&o.data_hub_data.length===o.get_record_ids.length||!o.get_record_data&&!o.data_hub_data)&&(r.removeClass("lyteCheckboxPartial"),r[0].ltProp("checked",!0)),l){for(var p=s.find("lyte-checkbox"),c=p.length,n=0;n<c;n++)p[n].ltProp("checked")||p[n].id.startsWith(a+"_kiosk_select_all_getrecord_")||p[n].component.setData("ltPropDisabled",!0);c-1>o.limit&&_cruxUtils.showCustomMessage({params:{ltPropMessage:I18n.getMsg("crm.kiosk.select.records.limit",o.limit),ltPropType:"info",ltPropClass:"kioskCruxError"}})}r[0].component.setData("ltPropDisabled",!1)}}))},removeRecordToSelect:function(e,t,i){var a=this.getData("execute_from");this.getData("outputFields").forEach((function(o){if(o.api_name===t){o.get_record_ids.removeArrayElements([e]),o.selected_ind.removeArrayElements([i]);var s=$L("#"+a+"_kiosk_select_all_getrecord_"+o.id);0===o.get_record_ids.length?(s.removeClass("lyteCheckboxPartial"),s[0].ltProp("checked",!1)):s.addClass("lyteCheckboxPartial");for(var l=$L("#"+a+"_"+o.id).find("lyte-checkbox"),r=l.length,p=0;p<r;p++)l[p].ltProp("checked")||l[p].component.setData("ltPropDisabled",!1);s[0].component.setData("ltPropDisabled",!1)}}))},afterGetRecordDataRender:function(e){var t=this.getData("execute_from");this.getData("outputFields").forEach((function(i){if(i.api_name===e){var a=$L("#"+t+"_kiosk_select_all_getrecord_"+i.id);if(a.hasClass("lyteCheckboxPartial")&&i.limit===i.get_record_ids.length)for(var o=$L("#"+t+"_"+i.id).find("lyte-checkbox"),s=o.length,l=0;l<s;l++)o[l].ltProp("checked")||o[l].component.setData("ltPropDisabled",!0);a[0].component.setData("ltPropDisabled",!1)}}))},onFileReject:function(e,t,i){return!!this.getData("allowUpload")&&("Higher_Size"===i.size?(this.setData("allowUpload",!1),this.showkioskCruxWarningMsg({message:I18n.getMsg("crm.zia.CI.filesize.exceeds",[ZSEC.Encoder.encodeForHTML(t.name)])}),!1):"Exceeds"===i.fileCount?(this.setData("allowUpload",!1),e?this.showkioskCruxWarningMsg({message:I18n.getMsg("crm.info.attachment.uploadlimit",5)}):this.showkioskCruxWarningMsg({message:I18n.getMsg("crm.kiosk.fileupload.single.limit")}),!1):"Invalid_Type"===i.type?(this.setData("allowUpload",!1),this.showkioskCruxWarningMsg({message:I18n.getMsg("crm.zia.CI.file.notsupported",[ZSEC.Encoder.encodeForHTML(t.name)])}),!1):void 0)},onFileRemove:function(e,t,i){var a=this.getData("execute_from"),o=i.id.replace(a+"_kiosk_field_id_",""),s=this.getData("fileUploadFieldFileIdsList");s[o].file_ids=s[o].file_ids.filter((e=>e.File_Id__s!==t.file_unique_id)),this.setData("fileUploadFieldFileIdsList",s)},onFileBeforeAdd:function(e,t,i){var a=this.getData("execute_from");if(t.name.length>100)return this.getData("allowUpload")&&(this.setData("allowUpload",!1),this.showkioskCruxWarningMsg({message:I18n.getMsg("crm.zia.CI.filename.max.check")})),!1;if(!t.name.lastIndexOf(".")>0)return this.getData("allowUpload")&&(this.setData("allowUpload",!1),this.showkioskCruxWarningMsg({message:I18n.getMsg("Please upload a valid file",[ZSEC.Encoder.encodeForHTML(t.name)])})),!1;var o=0;if(r=i.component.data.ltPropFiles){for(var s=r.length,l=0;l<s;l++)o+=r[l].size;if(!e&&s+1>1)return this.getData("allowUpload")&&(this.setData("allowUpload",!1),e?this.showkioskCruxWarningMsg({message:I18n.getMsg("crm.info.attachment.uploadlimit",5)}):this.showkioskCruxWarningMsg({message:I18n.getMsg("crm.kiosk.fileupload.single.limit")})),!1}if(t.id=Date.now()+Math.floor(101*Math.random()),(o+=t.size)>1e7)return o-=t.size,this.getData("allowUpload")&&this.showkioskCruxWarningMsg({message:I18n.getMsg("crm.zia.CI.filesize.overall")}),!1;t.size<=1e4?Lyte.objectUtils(t,"add","fileSizeDisplayFormat","Bytes"):t.size>1e4&&t.size<=1e5?Lyte.objectUtils(t,"add","fileSizeDisplayFormat","KB"):Lyte.objectUtils(t,"add","fileSizeDisplayFormat","MB");var r,p=this.getData("fileUploadFieldFileIdsList"),c=i.id.replace(a+"_kiosk_field_id_","");return p[c]||(p[c]={}),(r=i.component.data.ltPropFiles)||(i.component.data.ltPropFiles=[]),!0},onBeforeFileSelect:function(e,t){this.setData("allowUpload",!0);var i=0,a=this.getData("fileUploadFieldFileIdsList");return a[t]&&a[t].file_ids&&(i=a[t].file_ids.length),!(e&&i>=5||!e&&i>=1)||(e?this.showkioskCruxWarningMsg({message:I18n.getMsg("crm.info.attachment.uploadlimit",5)}):this.showkioskCruxWarningMsg({message:I18n.getMsg("crm.kiosk.fileupload.single.limit")}),!1)},onFileAdd:function(e,t,i){var a=this.getData("execute_from"),o=t.id.replace(a+"_kiosk_field_id_",""),s=new FormData;s.append("file",e,e.name);var l=this,r=store.createRecord("kiosk_file_api");store.create("kiosk_file_api",void 0,s,{type:"kiosk"}).then((function(e){Lyte.objectUtils(i,"add","file_unique_id",e.kiosk_file_api.id),Lyte.objectUtils(i,"add","field_id",o),Lyte.objectUtils(i,"add","loading",!0),Lyte.objectUtils(i,"add","percentage",100);var t=l.getData("fileUploadFieldFileIdsList");t[o].file_ids||(t[o].file_ids=[]),t[o].file_ids.push({File_Id__s:e.kiosk_file_api.id})}),(function(){Lyte.objectUtils(i,"add","loading",!0),l.setData("leaveAlert",!0),Lyte.objectUtils(i,"add","error",!0),Lyte.objectUtils(i,"add","error_msg",I18n.getMsg("voc.gc.save.error")),r.$.deleteRecord()}))}},destoryPreviewPop:function(){var e=this.getData("execute_from"),t=this.getData("kioskId"),i=this.getData("stateId"),a=document.getElementById(Lyte.Component.registeredHelpers.getKioskScreenOutputId(e,t,i));a&&void 0!==a&&a.remove()},getScreenOutputCurrentRecordId:function(e,t,i){let a;if(e.getData("current_record_id")&&(a=e.getData("current_record_id")),"canvas"===i){var o=$(Lyte.registeredMixins.kiosk_execute.getKioskElementIdFromCanvas(t)),s=o&&o.length>0?o.find("crm-kiosk-screen-output"):void 0;s&&s.length>0&&s[0].component&&s[0].component.setData("isNeedReRenderComp",!0)}return a}},{mixins:["kiosk","kiosk_execute","zia-insights-utils"]}),Lyte.Component.register("crm-kiosk-record-detail-view-wrapper",{_template:'<template tag-name="crm-kiosk-record-detail-view-wrapper" class="{{getKioskDetailViewWrapperClass(module)}}" id="kiosk_component_resource_id_{{resourceId}}" view-port-template="crmKioskRecordDetailViewWrapper"> <div class="dF spaceBetween"> <div class="{{if(ifEquals(isDetailViewLyteRender,true),\'kioskDetailViewHeading\',\'widgetHeading\')}} dIB vaT" id="kioskComponentName">{{name}}</div> <div class="{{if(ifEquals(isDetailViewLyteRender,true),\'\',\'HomemoreOptionIcon dIB pA right10 mR10 \')}}{{isPortalUser()}}" data-zcqa="moreIcon" onclick="{{action(\'openActions\',this)}}"> <crmutil-icon non-lyte="true" icon-name="more-vr" id="kioskMoreOptions_{{kioskId}}" icon-class="zcicn_embedSvg zcicn-more-vr crmBaseIcon"></crmutil-icon> <lyte-menu data-zcqa="kiosk_more_options" id="kiosk_more_options" on-before-open="{{method(\'checkMenuView\')}}" lt-prop-position="right" lt-prop-yield="true" lt-prop-event="click" lt-prop-query-class="lyteMenuSelected" lt-prop-query="#kioskMoreOptions_{{kioskId}}"> <template is="registerYield" yield-name="yield"> <lyte-menu-body> <lyte-menu-item data-zcqa="kiosk_edit" onclick="{{action(\'editKioskComponent\',kioskId)}}">{{getI18n(\'crm.ntc.manage.rename\')}}</lyte-menu-item> <lyte-menu-item data-zcqa="kiosk_delete" onclick="{{action(\'deleteKioskComponent\',kioskId)}}">{{getI18n(\'gs.delete\')}}</lyte-menu-item> </lyte-menu-body> </template> </lyte-menu> </div> </div> <div class="pR w100_per h250"> <template is="if" value="{{isRendered}}"><template case="true"> <div class="aiCenter dF w100_per " id="detail_view_kiosk_screen_comp_{{kioskId}}"> <crm-kiosk-screen-output detail-view-data="{{detailViewKioskData}}"></crm-kiosk-screen-output> </div> </template><template case="false"> <span class="loadingspinner"></span> </template></template> </div> <div id="kiosk_common_pop_details" data-zcqa="kiosk_common_pop_details"></div> </template>',_dynamicNodes:[{type:"attr",position:[1,1]},{type:"text",position:[1,1,0]},{type:"attr",position:[1,3]},{type:"attr",position:[1,3,1]},{type:"componentDynamic",position:[1,3,1]},{type:"attr",position:[1,3,3]},{type:"registerYield",position:[1,3,3,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"text",position:[1,3,0]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,3,3]},{type:"attr",position:[3,1]},{type:"if",position:[3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]}]},false:{dynamicNodes:[]}},default:{}}],_templateAttributes:{type:"attr",position:[]},_observedAttributes:["lyteViewPort","kioskId","name","showMoreOption","resourceId","detailViewKioskData","currentRecordId","isRendered","isDetailViewLyteRender","module"],data:function(){return{lyteViewPort:Lyte.attr("boolean",{default:!0}),kioskId:Lyte.attr("string",{default:""}),name:Lyte.attr("string",{default:""}),showMoreOption:Lyte.attr("boolean",{default:!1}),resourceId:Lyte.attr("string",{default:""}),detailViewKioskData:Lyte.attr("object",{default:{}}),currentRecordId:Lyte.attr("string",{default:""}),isRendered:Lyte.attr("boolean",{default:!1}),isDetailViewLyteRender:Lyte.attr("boolean",{default:!1}),module:Lyte.attr("string",{default:""})}},init:function(){this.setData("isDetailViewLyteRender",Crm.renderDVLyteFlow(this.getData("module")))},detailViewKioskComponentObserver:function(e){e.newValue||this.setData("isRendered",!0)}.observes("lyteViewPort"),actions:{openActions:function(){this.setData("showMoreOption",!0)},editKioskComponent:function(){var e=this.getData("kioskId"),t=$("#detail_view_kiosk_screen_comp_"+e)[0],i={};if(t){i.resourceId=t.parentElement.parentElement.getAttribute("resource-id");var a={},o=$L("crm-detailview-header")[0];if(o)a.id=o.component.data.layoutId,store.peekRecord("layout",a.id)||(assocaitionData.isFetchLayouts=!0),i.layout=a,i.layoutId=a.id;var s,l=moduleRecordMapping[moduleApiVsNameMapping[this.getData("module")]];moduleDetailedInfo.modules.forEach((function(e){e.api_name!==l.api_name||(s=e.id)})),l.id=s,i.module=l,i.showAddModal=!0,i.kioskId=e,i.fromDetailView=!0,i.ruleName=this.getData("name"),i.isEdit=!0,Lyte.Component.render("crm-kiosk-record-detail-view-popup",i,"body")}},deleteKioskComponent:function(){var e=this.getData("kioskId"),t=$("#detail_view_kiosk_screen_comp_"+e)[0];if(t){var i=t.parentElement.parentElement.getAttribute("resource-id"),a={},o=moduleRecordMapping[moduleApiVsNameMapping[this.getData("module")]];a.deleteComponentModule=o,a.isDeleteKioskDetailViewAssoc=!0,a.currentkioskId=e,a.deleteComponentId=i,a.processName=this.getData("name"),a.header=I18n.getMsg("orch.deleteProcess.title",$ESAPI.encoder().encodeForHTML(a.processName)),a.content=I18n.getMsg("crm.kiosk.detail.view.delete.confirm"),Lyte.Component.render("crm-kiosk-common-popup",a,"#kiosk_common_pop_details")}}},methods:{checkMenuView:function(){return!clientPortalName}}}),Lyte.Component.register("crm-kiosk-record-detail-view-container-wrapper",{_template:'<template tag-name="crm-kiosk-record-detail-view-container-wrapper"> <template is="if" value="{{isDetailViewLyteRender}}"><template case="true"> <template items="{{kioskDvComponentData}}" item="item" index="index" is="for"> <crm-kiosk-record-detail-view-wrapper lyte-view-port="true" is-detail-view-lyte-render="{{isDetailViewLyteRender}}" kiosk-id="{{item.kioskId}}" name="{{item.name}}" resource-id="{{item.resourceId}}" current-record-id="{{item.entityid}}" module="{{item.module}}" detail-view-kiosk-data="{{item.detailViewKioskData}}"></crm-kiosk-record-detail-view-wrapper> </template> </template><template case="false"> <template is="for" items="{{renderKiosksDiv}}" item="index" index="index"> <div id="kioskDetailView_{{expHandlers(index,\'+\',1)}}" class="newRelDetails flex-grid-skeleton-table relatedlist-bg dN"></div> </template> </template></template> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"for",position:[1],dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"for",position:[1],dynamicNodes:[{type:"attr",position:[1]}]}]}},default:{}}],_observedAttributes:["renderKiosksDiv","kioskDvComponentData","module","isDetailViewLyteRender","kiosk_info","entityid"],data:function(){return{renderKiosksDiv:Lyte.attr("array",{default:[1,2,3,4,5]}),kioskDvComponentData:Lyte.attr("array",{default:[]}),module:Lyte.attr("string"),isDetailViewLyteRender:Lyte.attr("boolean",{default:!1}),kiosk_info:Lyte.attr("object",{default:[]}),entityid:Lyte.attr("string")}},init:function(){var e=this.getData("module"),t=Crm.renderDVLyteFlow(e);if(t){var i=this.getData("kiosk_info"),a=this.getData("entityid"),o=Lyte.registeredMixins.kiosk_execute.getKioskDetailViewJson(i,a,e);this.setData({kioskDvComponentData:o,isDetailViewLyteRender:t})}},actions:{},methods:{}}),Lyte.Component.register("crm-kiosk-common-popup",{_template:'<template tag-name="crm-kiosk-common-popup"> <lyte-modal id="kioskDeactivatePop" data-zcqa="kioskDeactivatePop" on-close="{{method(\'removeModalNode\')}}" lt-prop-max-width="600px" lt-prop-show-close-button="false" lt-prop-offset="{&quot;top&quot;:&quot;0px&quot;,&quot;left&quot;:&quot;center&quot;}"> <template is="registerYield" yield-name="modal"> <lyte-modal-header> {{unescape(header)}} </lyte-modal-header> <lyte-modal-content class="lh20"> {{content}} </lyte-modal-content> <lyte-modal-footer> <lyte-button data-zcqa="kioskProcessDeactivatePop_cancel" onkeypress="{{action(\'onKeyPr\',event)}}" onclick="{{action(\'onCancel\')}}"> <template is="registerYield" yield-name="text" class="mR2"> {{getI18n(\'crm.button.cancel\')}} </template> </lyte-button> <lyte-button data-zcqa="deActivateVersion_btn" lt-prop-appearance="failure" lt-prop-class="mR0" onkeypress="{{action(\'onKeyPr\',event)}}" onclick="{{action(\'onDeactivate\')}}"> <template is="registerYield" yield-name="text"> <template is="if" value="{{lbind(isDeleteKioskDetailViewAssoc)}}"><template case="true"> {{getI18n(\'crm.button.delete\')}} </template><template case="false"> {{getI18n(\'crm.label.deactivate\')}} </template></template> </template> </lyte-button> </lyte-modal-footer> </template> </lyte-modal> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]},{type:"text",position:[3,1]},{type:"componentDynamic",position:[3]},{type:"attr",position:[5,1]},{type:"registerYield",position:[5,1,1],dynamicNodes:[{type:"text",position:[1]}]},{type:"componentDynamic",position:[5,1]},{type:"attr",position:[5,3]},{type:"registerYield",position:[5,3,1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"text",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1]}]}},default:{}}]},{type:"componentDynamic",position:[5,3]},{type:"componentDynamic",position:[5]}]},{type:"componentDynamic",position:[1]}],_observedAttributes:["show","processName","isDeleteKioskDetailViewAssoc","currentkioskId","deleteComponentId","header","content","deleteComponentModule"],data:function(){return{show:Lyte.attr("boolean",{default:!1}),processName:Lyte.attr("string"),isDeleteKioskDetailViewAssoc:Lyte.attr("boolean",{default:!1}),currentkioskId:Lyte.attr("string",{default:""}),deleteComponentId:Lyte.attr("string",{default:""}),header:Lyte.attr("string",{default:""}),content:Lyte.attr("string",{default:""}),deleteComponentModule:Lyte.attr("object")}},didConnect:function(){$L("#kioskDeactivatePop")[0].ltProp("show",show)},method:{removeModalNode:function(){this.$node.remove()}},actions:{onKeyPr:function(e){if(e.preventDefault(),e){if(13!==(e.keyCode?e.keyCode:e.which))return;this.actions.onDeactivate()}},onDeactivate:function(){if(this.getData("isDeleteKioskDetailViewAssoc")){this.addOrUpdateKioskToComponent(this.getData("currentkioskId"),null,this.getData("deleteComponentModule"),null,"detail_view",this.getData("deleteComponentId"),!1,!0),$L("#kioskDeactivatePop").e.ltProp("show",!1);var e=$L("crm-detailview-actions")[0];e&&e.setData("isKioskAssocLimitReached",!1)}else{var t=$L("crm-kiosk-builder")[0];t||(t=$L("crm-kiosk-details")[0]),t.component.changeProcessStatus(!1)}},onCancel:function(){this.$node.remove(),this.hidePop("#kioskDeactivatePop")}},hidePop:function(e,t){$L(e).e.ltProp("show",!1),t&&Utils.windowLocationReload()}},{mixins:["kiosk_execute"]});
