store.registerModel("circuits",{id:Lyte.attr("string"),name:Lyte.attr("string"),description:Lyte.attr("string"),states:Lyte.attr("string"),status:Lyte.attr("string")},{actions:{portals:{endPoint:"portals"},summary:{endPoint:"summary"},integration:{endPoint:"integration"},execution:{endPoint:"execution"},summary:{endPoint:"summary"},execution_summary:{endPoint:"execution_summary"},circuit_execution:{endPoint:"circuit_execution"},circuit_action:{endPoint:"circuit_action"},circuit_rl:{endPoint:"circuit_rl"},circuit_association_details:{endPoint:"circuit_association_details"},circuits_payment_status:{endPoint:"circuits_payment_status"},get_credits:{endPoint:"credits"},all_circuit_list:{endPoint:"all_circuit_list"}}}),store.registerAdapter("circuits",{namespace:"crm/v4/settings",buildURL:function(i,t,e,c,s,r,a){switch(r){case"integration":s=s.replace("settings/circuits/actions/integration","settings/integrations/zcircuits"),a&&a.portal_id&&(s=s+"/"+a.portal_id.toString()),delete a.portal_id;break;case"portals":s=s.replace("settings/circuits/actions/portals","settings/integrations/zcircuits/portals");break;case"summary":s=s.replace("settings/circuits/actions/summary","settings/integrations/zcircuits/executions/actions/summary");break;case"execution":s=(s=s.replace("settings/circuits/actions/execution","settings/integrations/zcircuits/circuits/{circuit_id}/actions/trigger")).replace("{circuit_id}",a.payLoad[0].circuit_id),delete a.payLoad[0].circuit_id;break;case"execution_summary":s=s.replace("settings/circuits/actions/execution_summary","settings/integrations/zcircuits/executions"),a.payLoad&&a.payLoad.length&&a.payLoad[0].circuit_id&&(s=s.replace("settings/integrations/zcircuits/executions","settings/integrations/zcircuits/circuits/"+a.payLoad[0].circuit_id+"/executions"),delete a.payLoad[0].circuit_id);break;case"get_credits":s="/crm/v5/__internal/settings/integrations/zcircuits/paid_credits";break;case"circuit_execution":s=(s=s.replace("settings/circuits/actions/circuit_execution","settings/circuits/{circuit_id}/executions")).replace("{circuit_id}",a.payLoad[0].circuit_id);break;case"all_circuit_list":s=s.replace("settings/circuits/actions/all_circuit_list","__internal/settings/integrations/zcircuits/circuits");break;case"circuit_action":s=(s=(s=(s=s.replace("settings/circuits/actions/circuit_action","settings/integrations/zcircuits/circuits/{circuit_id}/executions/{execution_id}/actions/{action}")).replace("{circuit_id}",a.payLoad[0].circuit_id)).replace("{execution_id}",a.payLoad[0].execution_id)).replace("{action}",a.payLoad[0].action);break;case"circuit_rl":s=(s=(s=(s=s.replace("settings/circuits/actions/circuit_rl","{module}/{id}/{related_list_api_name}")).replace("{module}",e.module)).replace("{id}",e.search_key)).replace("{related_list_api_name}","Circuit_Executions"),delete e.module,delete e.search_key;break;case"circuit_association_details":s=(s=s.replace("settings/circuits/actions/circuit_association_details","settings/integrations/zcircuits/circuits/{circuit_id}/actions/associated")).replace("{circuit_id}",a.payLoad[0].id),delete a.payLoad[0].id;break;case"circuits_payment_status":s=s.replace("settings/circuits/actions/circuits_payment_status","__internal/settings/integrations/zcircuits/payment_status");break;default:s=s.replace("settings/circuits","settings/integrations/zcircuits/circuits")}return a&&a.payLoad&&(e=a.payLoad),s},methodForRequest:function(i,t,e,c){return c&&c.request_type?c.request_type:("PATCH"===i&&(i="PUT"),i)}}),store.registerSerializer("circuits",{serialize:function(i,t,e,c,s,r,a){return"createRecord"!==i&&"updateRecord"!==i||(t.circuits.hasOwnProperty("id")&&delete t.circuits.id,t.circuits=[t.circuits]),c&&c.request_type&&("POST"===c.request_type||"PUT"===c.request_type)&&(t="integration"===a?{zcircuits:c.payLoad}:"portals"===a?{zcircuits_portals:c.payLoad}:"execution"===a?{circuit_trigger:c.payLoad}:{circuits:c.payLoad}),t},payloadKey:function(i){return""+i},normalizeResponse:function(i,t,e,c,s){return"circuits"==i&&("createRecord"===t&&201==s||"updateRecord"===t&&200==s||"deleteRecord"===t&&200==s)&&(e.circuits=e.circuits[0].details),"circuits"===i&&"findAll"===t&&204===s&&(e.circuits={}),e}});
