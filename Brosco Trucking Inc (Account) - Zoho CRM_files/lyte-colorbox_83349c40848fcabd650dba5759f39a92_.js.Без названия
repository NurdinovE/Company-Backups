var LyteColorbox={_prefix:"lyteCBox",_boxElement:"lyteCBoxElement",_box:null,_content:null,_overlay:null,_title:null,_description:null,_close:null,_download:null,_next:null,_prev:null,_open:null,_zoomIn:null,_zoomOut:null,_reset:null,_active:null,_closing:null,_previousOffset:{},_first:!0,_domEle:null,_related:null,_el:null,_photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,_index:0,_zoom:!1,_component:null,_winheight:null,_winWidth:null,_isArray:!1,_hrefArray:[],_titleArray:[],_nextItem:!1,_prevItem:!1,_zIndex:0,_timeoutId:!1,_thumbDiv:null,_clickNumber:0,_zoomedThroughUtil:!1,_count:0,_boundKeydown:!1,_boundResize:!1,_diff:0,_loadingIcon:null,setSize:function(o,t,e){return/%/.test(o)?parseInt(o):Math.round(100*(isNaN(o/e)?0:o/e))},createElement:function(o,t,e){var l=document.createElement(o);return t&&(l.id=t),e&&l.classList.add(e),l},getSelector:function(o,t){for(var e=0;e<t.length;e++)if(-1!=o.indexOf("."+t[e]))return t[e];return!1},getIndex:function(o){var t=LyteColorbox._related.length,e=(LyteColorbox._index+o)%t;return e<0?t+e:e},isImage:function(o){return LyteColorbox._domEle||LyteColorbox._photoRegex.test(o)},createName:function(o){return o?o.replace(/[ ,-]/g,"_"):"photo"==LyteColorbox._el.type?"image":"file"},add:function(o){if(Array.isArray(o))o=o.map((function(o){if(o.lytecboxType&&"photo"!=o.lytecboxType){var t=o.lytecboxType.split("/");o.type=t[0],t.length>1?o.format=t[1].toUpperCase():o.format="WEBPAGE"}else o.type="photo";return o}));else if(o.lytecboxType&&"photo"!=o.lytecboxType){var t=o.lytecboxType.split("/");o.type=t[0],t.length>1?o.format=t[1].toUpperCase():o.format="WEBPAGE"}else o.type="photo";Lyte.arrayUtils(LyteColorbox._related,"push",o)},getRelated:function(o){if(LyteColorbox._index=0,LyteColorbox._related=[],o&&!1!==o&&"nofollow"!==o){for(var t=Array.from(document.querySelectorAll("."+LyteColorbox._boxEle)).filter((function(t){return LyteColorbox.getSelector(LyteColorbox._component.getData("ltPropSelectors"),Array.from(t.classList))===o})),e=0;e<t.length;e++){var l=LyteColorbox.getProperties(t[e]);l.classList||(l.classList=[o]),LyteColorbox._related.push(l)}LyteColorbox._index=LyteColorbox._related.findIndex((function(o){return o.lytecboxHref==LyteColorbox._el.lytecboxHref&&o.lytecboxTitle==LyteColorbox._el.lytecboxTitle})),-1===LyteColorbox._index&&(LyteColorbox._related.push(LyteColorbox._el),LyteColorbox._index=LyteColorbox._related.length-1)}else LyteColorbox._related=[],LyteColorbox._related.push(LyteColorbox._el),LyteColorbox._index=LyteColorbox._related.length-1},hideElement:function(){for(var o=LyteColorbox._content?LyteColorbox._content.querySelectorAll(".lyteCBoxVisible"):[],t=0;t<o.length;t++)o[t].classList.remove("lyteCBoxVisible")},setCurrentClass:function(o){for(var t=LyteColorbox._content?LyteColorbox._content.querySelectorAll(".lyteCBoxCurrentElem"):[],e=0;e<t.length;e++)t[e].classList.remove("lyteCBoxCurrentElem");o.classList.add("lyteCBoxCurrentElem")},hideLoadingIcon:function(o){o.querySelector(".lyteColorboxLoadingImg").style.display="none"},toggleLoadingIcon:function(){"custom"!==LyteColorbox._component.getData("ltPropType")||LyteColorbox._component.getData("ltPropYield")||("none"!=LyteColorbox._content.querySelector(".lyteColorboxLoadingImg").style.display?LyteColorbox._content.querySelector(".lyteColorboxLoadingImg").style.display="none":LyteColorbox._content.querySelector(".lyteColorboxLoadingImg").style.display="")},getProperties:function(o){var t=Object.assign({},o.dataset);if(t.lytecboxHref||("IMG"===o.tagName?t.lytecboxHref=o.src:"A"===o.tagName&&(t.lytecboxHref=o.href)),t.lytecboxType&&"photo"!=t.lytecboxType){var e=t.lytecboxType.split("/");t.type=e[0],e.length>1?t.format=e[1].toUpperCase():t.format="WEBPAGE"}else t.type="photo";return t.classList=o.classList,t},removeElements:function(){var o=Array.from(LyteColorbox._content.querySelectorAll("."+LyteColorbox._prefix+"Photo")),t=LyteColorbox._component,e=(t.getData("ltPropType"),t.getData("ltPropAnimation"));Lyte.arrayUtils(o,"push",Array.from(LyteColorbox._content.querySelectorAll("."+LyteColorbox._prefix+"Iframe"))),Lyte.arrayUtils(o,"push",Array.from(LyteColorbox._content.querySelectorAll("."+LyteColorbox._prefix+"Custom")));for(var l=0;l<o.length;l++)"slide"===e?o[l].parentElement.remove():o[l].remove()},setPercentage:function(o,t){if(o)LyteColorbox._domEle.setAttribute("data-lytecb-size",o);else{var e=LyteColorbox._domEle.getAttribute("lytecbox-rotate"),l=e&&-1!=e.indexOf("90")?LyteColorbox._domEle.naturalHeight:LyteColorbox._domEle.naturalWidth;o=t?(e&&-1!=e.indexOf("90")?LyteColorbox._domEle.offsetHeight:LyteColorbox._domEle.offsetWidth)*t/l*100:LyteColorbox._domEle.getBoundingClientRect().width/l*100,LyteColorbox._domEle.setAttribute("data-lytecb-size",o%1!=0?Number.parseFloat(o).toFixed(2):o)}},checkHW:function(){"photo"==LyteColorbox._el.type&&LyteColorbox._domEle.offsetHeight>=LyteColorbox._domEle.parentElement.offsetHeight?LyteColorbox._domEle.parentElement.classList.add("lyteCBoxAlignStart"):LyteColorbox._domEle.parentElement.classList.remove("lyteCBoxAlignStart")},isSameColorBoxAsPrevious:function(o){return LyteColorbox._component&&LyteColorbox._component.$node.isEqualNode(o.$node)},setupForBindings:function(o){this.isSameColorBoxAsPrevious(o)||(LyteColorbox._boxEle=o._boxElement,LyteColorbox._content=o._content,LyteColorbox._overlay=o._overlay,LyteColorbox._title=o._title,LyteColorbox._crop=o._crop,LyteColorbox._description=o._description,LyteColorbox._close=o._close,LyteColorbox._download=o._download,LyteColorbox._next=o._next,LyteColorbox._prev=o._prev,LyteColorbox._box=o._box,LyteColorbox._zoomIn=o._zoomIn,LyteColorbox._zoomOut=o._zoomOut,LyteColorbox._reset=o._reset,LyteColorbox._thumbDiv=o._thumbDiv,LyteColorbox._loadingIcon=o._loadingIcon,LyteColorbox._component=o)},launch:function(o,t){if(this.data?this.data.ltPropShow=!0:this._component.data.ltPropShow=!0,o||(o=this.getSelectorElements()[0]),this.$node&&LyteColorbox.setupForBindings(this),!LyteColorbox._closing){if(o&&"object"==typeof o)if(o.nodeType){var e=LyteColorbox.getProperties(o);LyteColorbox._el=o=e,LyteColorbox.getRelated(LyteColorbox.getSelector(LyteColorbox._component.getData("ltPropSelectors"),Array.from(o.classList)))}else o.lytecboxHref&&(LyteColorbox._el=o,o.classList?LyteColorbox.getRelated(LyteColorbox.getSelector(LyteColorbox._component.getData("ltPropSelectors"),Array.from(o.classList))):(LyteColorbox._related=[],LyteColorbox._related.push(LyteColorbox._el)));else LyteColorbox._related=[];if(!(0!=LyteColorbox._component.callOnBeforeOpen(LyteColorbox._related,t)))return LyteColorbox._related=null,void(LyteColorbox._el=null);LyteColorbox._el||(LyteColorbox._el=o=LyteColorbox._related[0]),LyteColorbox._index=LyteColorbox._related instanceof Array?LyteColorbox._related.findIndex((function(o){return o.lytecboxHref==LyteColorbox._el.lytecboxHref&&o.lytecboxTitle==LyteColorbox._el.lytecboxTitle})):0,LyteColorbox._component.getData("ltPropYield")||(LyteColorbox._related.length>1?(LyteColorbox._next.classList.remove("lyteColorboxHideVisibility"),LyteColorbox._prev.classList.remove("lyteColorboxHideVisibility")):(LyteColorbox._next.classList.add("lyteColorboxHideVisibility"),LyteColorbox._prev.classList.add("lyteColorboxHideVisibility"))),LyteColorbox._open?LyteColorbox.load(o):(LyteColorbox._open=LyteColorbox._active=!0,document.body.classList.add("lyteCBoxOH"),LyteColorbox._box.classList.add("lyteColorboxHideVisibility","lyteColorboxDisplay"),LyteColorbox._component.trapFocus(),LyteColorbox._overlay&&LyteColorbox.computeOffsetImpl(),LyteColorbox.hideElement(),LyteColorbox._box.classList.remove("lyteColorboxHideVisibility"),LyteColorbox._component.setData("thumbnails",LyteColorbox._related),LyteColorbox._component.setData("triggerSetThumbnail",LyteColorbox._component.getData("triggerSetThumbnail")+1),LyteColorbox._component.callOnOpen(),LyteColorbox.load(o,!0),LyteColorbox._content.focus(),LyteColorbox._content&&LyteColorbox._title&&LyteColorbox._content.setAttribute("aria-labelledby",LyteColorbox._title.getAttribute("id")))}},load:function(o,t){var e,l;LyteColorbox._active=!0,LyteColorbox._domEle=!1;var r=o.lytecboxHref,n=o.lytecboxTitle;LyteColorbox._title&&n&&(LyteColorbox._title.textContent=n);var i=$L(".lyteColorboxCropperIcon",this.childComp);i[0]&&"photo"==o.type?i.removeClass("lyteColorboxCropDisable"):i.addClass("lyteColorboxCropDisable");var a=LyteColorbox._boxEle+"__"+LyteColorbox._index;if(LyteColorbox._content.classList.remove("lyteCBoxOH"),LyteColorbox._component.setData("ltPropContent",o),"custom"==o.type)if(LyteColorbox._component.setData("isIframe",!0),o.lytecboxDlink||LyteColorbox._component.setData("download",!1),l=LyteColorbox._content.querySelector("."+a),LyteColorbox._domEle=l,LyteColorbox._domEle)LyteColorbox.toggleLoadingIcon(),"slide"==LyteColorbox._component.getData("ltPropAnimation")?(LyteColorbox._zIndex++,LyteColorbox._nextItem?((e=LyteColorbox._domEle.parentElement).classList.remove("lyteCBoxDN"),e.classList.add("lytCBoxNextItem"),LyteColorbox._component.setData("currentEle",e)):LyteColorbox._prevItem&&((e=LyteColorbox._domEle.parentElement).classList.remove("lyteCBoxDN"),e.classList.add("lytCBoxPreviousItem"),LyteColorbox._component.setData("currentEle",e)),setTimeout((function(){LyteColorbox.slide()}),10)):LyteColorbox._domEle.classList.add("lyteCBoxVisible"),LyteColorbox._component.callOnComplete(LyteColorbox._domEle,LyteColorbox._index),LyteColorbox._active=!1;else{if(LyteColorbox._domEle=LyteColorbox.createElement("div",null,null),$L(LyteColorbox._domEle).attr({class:LyteColorbox._prefix+"Custom "+a}),"none"==o.lytecboxPreview){var s=LyteColorbox.createElement("div",null,LyteColorbox._prefix+"PreviewNone");o.lytecboxIcon&&(s.style.backgroundImage="url("+o.lytecboxIcon+")"),LyteColorbox._domEle.append(s),(s=LyteColorbox.createElement("div",null,LyteColorbox._prefix+"CustomText")).textContent=o.lytecboxAlt||"Sorry, no preview is available for this file format",LyteColorbox._domEle.append(s)}LyteColorbox._component.callOnLoad(LyteColorbox._domEle,LyteColorbox._index),LyteColorbox.toggleLoadingIcon(),LyteColorbox.appendElement(LyteColorbox._domEle),"slide"==LyteColorbox._component.getData("ltPropAnimation")&&setTimeout((function(){LyteColorbox.slide()}),10),LyteColorbox._active=!1,LyteColorbox._component.callOnComplete(LyteColorbox._domEle,LyteColorbox._index)}else if("iframe"==o.type)if(LyteColorbox._component.setData("isIframe",!0),o.lytecboxDlink||LyteColorbox._component.setData("download",!1),l=LyteColorbox._content.querySelector("."+a),LyteColorbox._domEle=l,LyteColorbox._domEle)LyteColorbox.toggleLoadingIcon(),"slide"==LyteColorbox._component.getData("ltPropAnimation")?(LyteColorbox._zIndex++,LyteColorbox._nextItem?((e=LyteColorbox._domEle.parentElement).classList.remove("lyteCBoxDN"),e.classList.add("lytCBoxNextItem"),LyteColorbox._component.setData("currentEle",e)):LyteColorbox._prevItem&&((e=LyteColorbox._domEle.parentElement).classList.remove("lyteCBoxDN"),e.classList.add("lytCBoxPreviousItem"),LyteColorbox._component.setData("currentEle",e)),setTimeout((function(){LyteColorbox.slide()}),10)):LyteColorbox._domEle.classList.add("lyteCBoxVisible"),LyteColorbox._component.callOnComplete(LyteColorbox._domEle,LyteColorbox._index),LyteColorbox._active=!1;else{LyteColorbox._domEle=document.createElement("iframe");var y=o.lytecboxAttrs||{};y.width||(y.width="100%"),y.height||(y.height="100%"),"object"==typeof y&&$L.each(y,(function(o,t){LyteColorbox._domEle[o]=t})),"frameBorder"in LyteColorbox._domEle&&(LyteColorbox._domEle.frameBorder=0),"allowTransparency"in LyteColorbox._domEle&&(LyteColorbox._domEle.allowTransparency="true"),LyteColorbox._domEle.name=(new Date).getTime(),LyteColorbox._domEle.allowFullscreen=!0;$L(LyteColorbox._domEle).attr({src:r,class:LyteColorbox._prefix+"Iframe "+a}),LyteColorbox._domEle.onload=function(){LyteColorbox.toggleLoadingIcon(),LyteColorbox._component.callOnLoad(LyteColorbox._domEle,LyteColorbox._index),"slide"==LyteColorbox._component.getData("ltPropAnimation")&&setTimeout((function(){LyteColorbox.slide()}),10),LyteColorbox._active=!1,LyteColorbox._component.callOnComplete(LyteColorbox._domEle,LyteColorbox._index)},LyteColorbox._domEle.onerror=function(){alert("error on colorbox")},LyteColorbox.appendElement(LyteColorbox._domEle)}else{var b=LyteColorbox._component.getData("ltPropType"),x=LyteColorbox._component.getData("ltPropAddOrientation"),d=LyteColorbox._component.getData("ltPropWithCredentials");if(LyteColorbox._component.setData("isIframe",!1),LyteColorbox._component.setData("download",!0),l=LyteColorbox._content.querySelector("."+a),LyteColorbox._domEle=l,"image"!=b&&LyteColorbox._content.classList.add("lyteCBoxOH"),LyteColorbox._domEle)LyteColorbox.toggleLoadingIcon(),LyteColorbox.enableTransition(LyteColorbox._domEle),"slide"==LyteColorbox._component.getData("ltPropAnimation")?(LyteColorbox._zIndex++,LyteColorbox._nextItem?((e=LyteColorbox._domEle.parentElement).classList.remove("lyteCBoxDN"),e.classList.add("lytCBoxNextItem"),LyteColorbox._component.setData("currentEle",e)):LyteColorbox._prevItem&&((e=LyteColorbox._domEle.parentElement).classList.remove("lyteCBoxDN"),e.classList.add("lytCBoxPreviousItem"),LyteColorbox._component.setData("currentEle",e)),LyteColorbox.slide(),LyteColorbox._domEle.parentElement._loaded&&(LyteColorbox._domEle.classList.contains("lyteCBoxVisible")||LyteColorbox._domEle.classList.add("lyteCBoxVisible"),LyteColorbox.checkAspectRatio())):("image"===b&&LyteColorbox.setCurrentClass(LyteColorbox._domEle.parentElement),LyteColorbox._domEle.classList.add("lyteCBoxVisible"),LyteColorbox.checkHW(),LyteColorbox.checkAspectRatio()),LyteColorbox._component.callOnComplete(LyteColorbox._domEle,LyteColorbox._index),LyteColorbox._active=!1;else{if(LyteColorbox._domEle=new Image,o.lytecboxClass){var c=o.lytecboxClass.split(" ");$L.each(c,(function(o,t){LyteColorbox._domEle.classList.add(t)}))}var C;"image"===b&&(C=LyteColorbox.appendElementForImage(),"slide"==LyteColorbox._component.getData("ltPropAnimation")?(t&&C.classList.add("lyteCBoxCurrentItem"),LyteColorbox.slide()):LyteColorbox.setCurrentClass(C));var m=$L(LyteColorbox._domEle),L=LyteColorbox.imageComplete.bind(C),p=LyteColorbox.imageFailure.bind(C);if(x){var u=new XMLHttpRequest,_=LyteColorbox._prefix;u.onload=function(){var o=new FileReader;o.onloadend=function(){m.attr({src:o.result,class:_+"Photo "+a,alt:LyteColorbox._component.getData("ltPropImgError")}).one("load",L).one("error",p)},o.readAsDataURL(u.response)},u.onError=function(){m.attr({src:r,class:_+"Photo "+a,alt:LyteColorbox._component.getData("ltPropImgError")}).one("load",L).one("error",p)},u.open("GET",r,!0),d&&(u.withCredentials=!0),u.responseType="blob",u.send()}else m.attr({src:r,class:LyteColorbox._prefix+"Photo "+a,alt:LyteColorbox._component.getData("ltPropImgError")}).one("load",L).one("error",p);"image"===b&&C.appendChild(m.get(0)),LyteColorbox._active=!1}}if(LyteColorbox._component.getData("ltPropThumbnail")){var h=LyteColorbox._thumbDiv.querySelector(".thumb-on");h&&h.classList.remove("thumb-on"),LyteColorbox._thumbDiv.querySelectorAll(".lyteColorboxThumb")[LyteColorbox._index].classList.add("thumb-on"),LyteColorbox.updateThumbnailPos()}this.changeNavArrows()},changeNavArrows:function(){var o=LyteColorbox._index;LyteColorbox._component.getData("ltPropLoop")||(0==o?LyteColorbox._prev&&LyteColorbox._prev.classList.add("lyteColorboxHideVisibility"):o==LyteColorbox._related.length-1?LyteColorbox._next&&LyteColorbox._next.classList.add("lyteColorboxHideVisibility"):(LyteColorbox._prev&&LyteColorbox._prev.classList.contains("lyteColorboxHideVisibility")&&LyteColorbox._prev.classList.remove("lyteColorboxHideVisibility"),LyteColorbox._next&&LyteColorbox._next.classList.contains("lyteColorboxHideVisibility")&&LyteColorbox._next.classList.remove("lyteColorboxHideVisibility")))},imageComplete:function(){var o,t=LyteColorbox._component.getData("ltPropType"),e=LyteColorbox._component.getData("ltPropAddOrientation");this._loaded=!0,"custom"===t?(LyteColorbox.checkAndChangeStatus(LyteColorbox._domEle),LyteColorbox._domEle._offset={height:LyteColorbox._domEle.naturalHeight,width:LyteColorbox._domEle.naturalWidth},LyteColorbox._component.callOnLoad(LyteColorbox._domEle,LyteColorbox._index),(o=LyteColorbox._domEle).classList.add("lyteCBoxDNImp"),LyteColorbox._overlay?(LyteColorbox.computeOffsetImpl(null,o,!0),e&&$L.exif?(o._index=LyteColorbox._index,$L.exif({target:o,getData:function(t){if((o=t.target).classList.add("lyteColorBoxDisableTransition"),"from-image"!=getComputedStyle(o).imageOrientation)switch(t.exifdata.Orientation){case 2:o.setAttribute("style","transform:rotateY(180deg)"),o.setAttribute("lytecbox-rotate","rotateY(180deg)");break;case 3:o.setAttribute("style","transform:rotate(180deg)"),o.setAttribute("lytecbox-rotate","rotate(180deg)");break;case 4:o.setAttribute("style","transform:rotateY(180deg) rotate(180deg)"),o.setAttribute("lytecbox-rotate","rotateY(180deg) rotate(180deg)");break;case 5:o.setAttribute("style","transform:rotateY(180deg) rotate(90deg)"),o.setAttribute("lytecbox-rotate","rotateY(180deg) rotate(90deg)");break;case 6:o.setAttribute("style","transform:rotate(90deg)"),o.setAttribute("lytecbox-rotate","rotate(90deg)");break;case 7:o.setAttribute("style","transform:rotateY(180deg) rotate(-90deg)"),o.setAttribute("lytecbox-rotate","rotateY(180deg) rotate(-90deg)");break;case 8:o.setAttribute("style","transform:rotate(-90deg)"),o.setAttribute("lytecbox-rotate","rotate(-90deg)")}o.classList.remove("lyteCBoxDNImp"),o.classList.remove("lyteColorBoxDisableTransition"),LyteColorbox.checkAspectRatio(),LyteColorbox._component.callOnComplete(LyteColorbox._domEle,LyteColorbox._index)}})):(e&&console.log("Couldn't fetch exifdata as the plugin is not included."),o.classList.remove("lyteCBoxDNImp"),LyteColorbox.checkAspectRatio(),LyteColorbox._component.callOnComplete(LyteColorbox._domEle,LyteColorbox._index))):(LyteColorbox.toggleLoadingIcon(),LyteColorbox.appendElement(LyteColorbox._domEle),e&&$L.exif?(o._index=LyteColorbox._index,$L.exif({target:o,getData:function(t){if((o=t.target).classList.add("lyteColorBoxDisableTransition"),"from-image"!=getComputedStyle(o).imageOrientation)switch(t.exifdata.Orientation){case 2:o.setAttribute("style","transform:rotateY(180deg)"),o.setAttribute("lytecbox-rotate","rotateY(180deg)"),o.setAttribute("data-orientation",2);break;case 3:o.setAttribute("style","transform:rotate(180deg)"),o.setAttribute("lytecbox-rotate","rotate(180deg)"),o.setAttribute("data-orientation",3);break;case 4:o.setAttribute("style","transform:rotateY(180deg) rotate(180deg)"),o.setAttribute("lytecbox-rotate","rotateY(180deg) rotate(180deg)"),o.setAttribute("data-orientation",4);break;case 5:o.setAttribute("style","transform:rotateY(180deg) rotate(90deg)"),o.setAttribute("lytecbox-rotate","rotateY(180deg) rotate(90deg)"),o.setAttribute("data-orientation",5);break;case 6:o.setAttribute("style","transform:rotate(90deg)"),o.setAttribute("lytecbox-rotate","rotate(90deg)"),o.setAttribute("data-orientation",6);break;case 7:o.setAttribute("style","transform:rotateY(180deg) rotate(-90deg)"),o.setAttribute("lytecbox-rotate","rotateY(180deg) rotate(-90deg)"),o.setAttribute("data-orientation",7);break;case 8:o.setAttribute("style","transform:rotate(-90deg)"),o.setAttribute("lytecbox-rotate","rotate(-90deg)"),o.setAttribute("data-orientation",8)}o.classList.remove("lyteCBoxDNImp"),o.classList.remove("lyteColorBoxDisableTransition"),LyteColorbox.checkAspectRatio(),"slide"==LyteColorbox._component.getData("ltPropAnimation")&&LyteColorbox.slide(),LyteColorbox._component.callOnComplete(LyteColorbox._domEle,LyteColorbox._index)}})):(e&&console.log("Couldn't fetch exifdata as the plugin is not included."),o.classList.remove("lyteCBoxDNImp"),LyteColorbox.checkAspectRatio(),"slide"==LyteColorbox._component.getData("ltPropAnimation")&&LyteColorbox.slide(),LyteColorbox._component.callOnComplete(LyteColorbox._domEle,LyteColorbox._index)))):(o=this.querySelector("img"),LyteColorbox.checkAndChangeStatus(o),o._offset={height:o.naturalHeight,width:o.naturalWidth},LyteColorbox.hideLoadingIcon(this),e&&$L.exif?(o._index=LyteColorbox._index,$L.exif({target:o,getData:function(t){if((o=t.target).classList.add("lyteColorBoxDisableTransition"),"from-image"!=getComputedStyle(o).imageOrientation)switch(t.exifdata.Orientation){case 2:o.setAttribute("style","transform:rotateY(180deg)"),o.setAttribute("lytecbox-rotate","rotateY(180deg)"),o.setAttribute("data-orientation",2);break;case 3:o.setAttribute("style","transform:rotate(180deg)"),o.setAttribute("lytecbox-rotate","rotate(180deg)"),o.setAttribute("data-orientation",3);break;case 4:o.setAttribute("style","transform:rotateY(180deg) rotate(180deg)"),o.setAttribute("lytecbox-rotate","rotateY(180deg) rotate(180deg)"),o.setAttribute("data-orientation",4);break;case 5:o.setAttribute("style","transform:rotateY(180deg) rotate(90deg)"),o.setAttribute("lytecbox-rotate","rotateY(180deg) rotate(90deg)"),o.setAttribute("data-orientation",5);break;case 6:o.setAttribute("style","transform:rotate(90deg)"),o.setAttribute("lytecbox-rotate","rotate(90deg)"),o.setAttribute("data-orientation",6);break;case 7:o.setAttribute("style","transform:rotateY(180deg) rotate(-90deg)"),o.setAttribute("lytecbox-rotate","rotateY(180deg) rotate(-90deg)"),o.setAttribute("data-orientation",7);break;case 8:o.setAttribute("style","transform:rotate(-90deg)"),o.setAttribute("lytecbox-rotate","rotate(-90deg)"),o.setAttribute("data-orientation",8)}LyteColorbox._component.callOnLoad(o,o._index,o.exifdata),o.classList.remove("lyteColorBoxDisableTransition"),LyteColorbox._domEle===o&&(o.classList.add("lyteCBoxVisible"),LyteColorbox.checkAspectRatio()),LyteColorbox._component.callOnComplete(o,o._index)}})):(e&&console.log("Couldn't fetch exifdata as the plugin is not included."),LyteColorbox._component.callOnLoad(o,LyteColorbox._index),o.classList.add("lyteCBoxVisible"),LyteColorbox._domEle===o&&LyteColorbox.checkAspectRatio(),LyteColorbox._component.callOnComplete(o,LyteColorbox._index)))},imageFailure:function(){var o;"custom"===LyteColorbox._component.getData("ltPropType")?(o=LyteColorbox._domEle,LyteColorbox.toggleLoadingIcon(),LyteColorbox.appendElement(LyteColorbox._domEle)):(o=this.querySelector("img"),LyteColorbox.hideLoadingIcon(this),LyteColorbox._domEle.classList.add("lyteCBoxVisible")),LyteColorbox._component.callOnFailure(o,LyteColorbox._index,LyteColorbox._content)},updateThumbnailPos:function(){var o=LyteColorbox._index,t=LyteColorbox._component.getData("ltPropThumbnailNumber"),e=parseInt(t/2),l=t%2==0?LyteColorbox._related.length:LyteColorbox._related.length-1,r=LyteColorbox._thumbDiv.querySelector(".lyteColorboxThumbInnerWrapper"),n=LyteColorbox._thumbDiv.querySelectorAll(".lyteColorboxThumb"),i=window.getComputedStyle(n[0]),a=parseInt(i.width)+(i.marginLeft?parseInt(i.marginLeft):0)+(i.marginRight?parseInt(i.marginRight):0),s=_lyteUiUtils.getRTL()?-1:1;if("custom"===LyteColorbox._component.getData("ltPropType"))o>=e&&o<=l-e?r.style.transform="translate("+(e-o)*a*s+"px,0)":o<e?r.style.transform="translate(0,0)":o>l-e&&LyteColorbox._related.length>t&&(r.style.transform="translate("+(e-(l-e))*a*s+"px,0)");else{var y=LyteColorbox._thumbDiv.offsetWidth;if(t=Math.floor(y/a),o>=(e=parseInt(t/2))&&o<=l-e){var b=0;o!=e&&o!=l-e||t%2!=0||(LyteColorbox._diff=b=a/2*-s),o>e&&o<l-e&&(b=(e-o)*a*s+(y-t*a)/2+LyteColorbox._diff),o==l-e&&(b=(y-LyteColorbox._related.length*a)*s+(i.marginRight?parseInt(i.marginRight):0)),r.style.transform="translate("+b+"px,0)"}else if(o<e)r.style.transform="translate(0,0)";else if(o>l-e&&LyteColorbox._related.length>t){b=(y-LyteColorbox._related.length*a)*s+(i.marginRight?parseInt(i.marginRight):0);r.style.transform="translate("+b+"px,0)"}}},calculateOverlayHeight:function(o){LyteColorbox._component.getData("ltPropYield")?LyteColorbox._overlay.style.height=LyteColorbox._overlay.getBoundingClientRect().height+"px":LyteColorbox._overlay.style.height=o-50+"px"},setImagePostion:function(){if("slide"==LyteColorbox._component.getData("ltPropAnimation"))var o=$L(".lyteCBoxCurrentItem",LyteColorbox._component.childComp)[0]?$L(".lyteCBoxCurrentItem",LyteColorbox._component.childComp)[0]:LyteColorbox._content;else o=$L(".lyteCBoxCurrentElem",LyteColorbox._component.childComp)[0]?$L(".lyteCBoxCurrentElem",LyteColorbox._component.childComp)[0]:LyteColorbox._content;if($L("lyte-colorbox-crop",o)[0]&&"none"===window.getComputedStyle($L("lyte-colorbox-crop")[0]).display){var t=$L(".lyteCropArea",o);o.style.top=(LyteColorbox._content.offsetHeight-t[0].offsetHeight)/2+"px",o.style.left=(LyteColorbox._content.offsetWidth-t[0].offsetWidth)/2+"px"}},computeOffsetImpl:function(o,t,e){var l=LyteColorbox._component,r="custom"===l.getData("ltPropType")?document.querySelector(".lyteColorboxHeader"):l._header;if(LyteColorbox._open&&LyteColorbox._overlay){var n=Math.max(document.documentElement.clientWidth,window.innerWidth||0),i=Math.max(document.documentElement.clientHeight,window.innerHeight||0);if(LyteColorbox._component.getData("ltPropThumbnail")){var a=window.getComputedStyle(LyteColorbox._thumbDiv);i-=parseInt(a.height)+parseInt(a.marginTop)}var s={};LyteColorbox._first||window.removeEventListener("resize",LyteColorbox.computeOffsetImpl),LyteColorbox._first=!1;var y=LyteColorbox._overlay.getBoundingClientRect();if(t&&(LyteColorbox._component.getData("ltPropHeight")?s.conHeight=parseInt(LyteColorbox._component.getData("ltPropHeight")):t.height>=y.height?s.conHeight=y.height:s.conHeight=t.height,LyteColorbox._component.getData("ltPropWidth")?s.conWidth=parseInt(LyteColorbox._component.getData("ltPropWidth")):t.width>=y.width?s.conWidth=y.width:s.conWidth=t.width,LyteColorbox.toggleLoadingIcon(),LyteColorbox.appendElement(t),e||LyteColorbox.checkAspectRatio(),LyteColorbox._active=!1),LyteColorbox._component.getData("ltPropYield")){var b=LyteColorbox._content.getBoundingClientRect();y=LyteColorbox._overlay?LyteColorbox._overlay.getBoundingClientRect():{height:i,width:n};LyteColorbox._content.style.top=(y.height-b.height)/2+"px",LyteColorbox._content.style.left=(y.width-b.width)/2+"px",window.getComputedStyle(LyteColorbox._content).transform&&(LyteColorbox._content.style.transform="none")}else s.top=(i-LyteColorbox._content.getBoundingClientRect().height)/2,s.left=(n-LyteColorbox._content.getBoundingClientRect().width)/2,s.iconTop=(i-LyteColorbox._next.getBoundingClientRect().height)/2+r.getBoundingClientRect().height/2;if("slide"==LyteColorbox._component.getData("ltPropAnimation")&&LyteColorbox.slide(),LyteColorbox._crop)if("none"===window.getComputedStyle(LyteColorbox._crop).display){if("slide"==LyteColorbox._component.getData("ltPropAnimation"))var x=$L(".lyteCBoxCurrentItem",LyteColorbox._component.childComp)[0]?$L(".lyteCBoxCurrentItem",LyteColorbox._component.childComp)[0]:LyteColorbox._content;else x=$L(".lyteCBoxCurrentElem",LyteColorbox._component.childComp)[0]?$L(".lyteCBoxCurrentElem",LyteColorbox._component.childComp)[0]:LyteColorbox._content;t=$L(".lyteCBoxVisible",x);x.style.top=(LyteColorbox._content.offsetHeight-t[0].offsetHeight)/2+"px",x.style.left=(LyteColorbox._content.offsetWidth-t[0].offsetWidth)/2+"px"}window.addEventListener("resize",LyteColorbox.computeOffsetImpl)}},appendElementForImage:function(){var o;LyteColorbox._component;if(LyteColorbox._nextItem)o=LyteColorbox.createElement("div",null,"lyteCBoxItem"),LyteColorbox._component.setData("currentEle",o),(t=LyteColorbox._content.querySelector("."+LyteColorbox._boxEle+"__"+(LyteColorbox._index+1)))?LyteColorbox._content.insertBefore(o,t.parentElement):LyteColorbox._content.append(o);else if(LyteColorbox._prevItem){var t;o=LyteColorbox.createElement("div",null,"lyteCBoxItem"),LyteColorbox._component.setData("currentEle",o),(t=LyteColorbox._content.querySelector("."+LyteColorbox._boxEle+"__"+(LyteColorbox._index+1)))?LyteColorbox._content.insertBefore(o,t.parentElement):LyteColorbox._content.append(o)}else o=LyteColorbox.createElement("div",null,"lyteCBoxItem"),LyteColorbox._content.append(o),LyteColorbox._component.setData("currentEle",o);return LyteColorbox.createLoadingIcon(o),o},createLoadingIcon:function(o){var t;LyteColorbox._loadingIcon?t=LyteColorbox._loadingIcon.cloneNode():(t=document.createElement("div")).innerHTML=unescape("%3Csvg%20class%3D%22lyteColorboxLoadingCircle%22%20width%3D%2230%22%20height%3D%2230%22%20viewBox%3D%220%200%2030%2030%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20data-svg%3D%22spinner%22%3E%3Ccircle%20fill%3D%22none%22%20stroke%3D%22%23000%22%20cx%3D%2215%22%20cy%3D%2215%22%20r%3D%2214%22%3E%3C/circle%3E%3C/svg%3E"),t.classList.add("lyteColorboxLoadingImg"),o.appendChild(t)},appendElement:function(o){LyteColorbox._component.getData("ltPropType");if("slide"==LyteColorbox._component.getData("ltPropAnimation")){var t;if(LyteColorbox._zIndex++,LyteColorbox._nextItem)(t=LyteColorbox.createElement("div",null,"lyteCBoxItem")).classList.add("lytCBoxNextItem"),t.append(o),LyteColorbox._component.setData("currentEle",t),(e=LyteColorbox._content.querySelector("."+LyteColorbox._boxEle+"__"+(LyteColorbox._index+1)))?LyteColorbox._content.insertBefore(t,e.parentElement):LyteColorbox._content.append(t);else if(LyteColorbox._prevItem){(t=LyteColorbox.createElement("div",null,"lyteCBoxItem")).classList.add("lytCBoxPreviousItem"),t.append(o),LyteColorbox._component.setData("currentEle",t),(e=LyteColorbox._content.querySelector("."+LyteColorbox._boxEle+"__"+(LyteColorbox._index+1)))?LyteColorbox._content.insertBefore(t,e.parentElement):LyteColorbox._content.append(t)}else(t=LyteColorbox.createElement("div",null,"lyteCBoxItem")).append(o),t.style.zIndex=LyteColorbox._zIndex,LyteColorbox._content.append(t),LyteColorbox._component.setData("currentEle",t);o.classList.add("lyteCBoxVisible")}else{var e;if(LyteColorbox._related.length>1)(e=LyteColorbox._content.querySelector("."+LyteColorbox._boxEle+"__"+(LyteColorbox._index+1)))?LyteColorbox._content.insertBefore(o,e):LyteColorbox._content.append(o);else LyteColorbox._content.append(o);o.classList.add("lyteCBoxVisible"),LyteColorbox.checkHW(),LyteColorbox._component.setData("currentEle",null)}},isZoomed:function(o){return o&&!o._isDefault},isCurrentDisplayedImage:function(o){return o===LyteColorbox._domEle},isZoomedAndCurrentDisplayedImage:function(o){return!o._isDefault&&LyteColorbox._domEle===o},transitionEnd:function(o){var t;o.target===this&&"transform"===o.propertyName&&(t=this.querySelector("img"),LyteColorbox.isZoomed(t)&&!LyteColorbox.isCurrentDisplayedImage(t)&&LyteColorbox.reset(t),this.removeEventListener("transitionend",LyteColorbox.transitionEnd))},doesImageExceedContentBoxAfterMovingRight:function(o,t){return o.left<t.left},moveElementOutOfViewTowardsRight:function(o,t){var e,l=o,r=o.querySelector("img"),n=l.getBoundingClientRect(),i=n.width,a=100;r&&(e=r.getBoundingClientRect(),LyteColorbox.doesImageExceedContentBoxAfterMovingRight(e,n)&&(a+=(n.left-e.left)/i*100)),o.style.transition="transform 0.3s ease",o.style.transform="translate3d("+a+"%,0,0)",o.classList.remove(t)},doesImageExceedContentBoxAfterMovingLeft:function(o,t){return o.right>t.right},moveElementOutOfViewTowardsLeft:function(o,t){var e,l=o,r=o.querySelector("img"),n=l.getBoundingClientRect(),i=n.width,a=100;r&&(e=r.getBoundingClientRect(),LyteColorbox.doesImageExceedContentBoxAfterMovingLeft(e,n)&&(a+=(e.right-n.right)/i*100)),o.style.transition="transform 0.3s ease",o.style.transform="translate3d(-"+a+"%,0,0)",o.classList.remove(t)},slide:function(){var o,t=LyteColorbox._component,e=t.getData("currentEle"),l=e,r="lyteCBoxCurrentItem";if("custom"===t.getData("ltPropType")){if(e){if(LyteColorbox.checkHW(),LyteColorbox._nextItem)for(var n=Array.from(e.parentElement.querySelectorAll(".lyteCBoxCurrentItem")),i=0;i<n.length;i++)n[i].classList.add("lytCBoxPreviousItem");if(LyteColorbox._prevItem)for(n=Array.from(e.parentElement.querySelectorAll(".lyteCBoxCurrentItem")),i=0;i<n.length;i++)n[i].classList.add("lytCBoxNextItem");e.style.zIndex=LyteColorbox._zIndex,e.classList.add("lyteCBoxCurrentItem"),(LyteColorbox._nextItem||LyteColorbox._prevItem)&&(LyteColorbox._timeoutId&&(clearTimeout(LyteColorbox._timeoutId),LyteColorbox._timeoutId=!1),LyteColorbox._timeoutId=setTimeout((function(){e.classList.remove("lytCBoxPreviousItem","lytCBoxNextItem");for(var o=Array.from(e.parentElement.querySelectorAll(".lyteCBoxCurrentItem")).filter((function(o){return!o.isEqualNode(e)})),t=0;t<o.length;t++)o[t].classList.remove("lytCBoxNextItem","lytCBoxPreviousItem","lyteCBoxCurrentItem"),o[t].classList.add("lyteCBoxDN");LyteColorbox._timeoutId=!1}),300),LyteColorbox._nextItem=!1,LyteColorbox._prevItem=!1)}}else if(l&&l){LyteColorbox._nextItem&&((o=l.parentElement.querySelector(".lyteCBoxCurrentItem"))||(o=l.parentElement.querySelector(".lyteCBoxMoveRight"),r="lyteCBoxMoveRight"),LyteColorbox.moveElementOutOfViewTowardsLeft(o,r),l.style.removeProperty("transition"),l.classList.add("lyteCBoxMoveRight"),l.style.removeProperty("transform")),LyteColorbox._prevItem&&((o=l.parentElement.querySelector(".lyteCBoxCurrentItem"))||(o=l.parentElement.querySelector(".lyteCBoxMoveLeft"),r="lyteCBoxMoveLeft"),LyteColorbox.moveElementOutOfViewTowardsRight(o,r),l.style.removeProperty("transition"),l.classList.add("lyteCBoxMoveLeft"),l.style.removeProperty("transform")),o&&o.addEventListener("transitionend",LyteColorbox.transitionEnd);var a=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,s=window.cancelAnimationFrame||window.mozCancelAnimationFrame;LyteColorbox._reqAF1&&s(LyteColorbox._reqAF1),LyteColorbox._reqAF2&&s(LyteColorbox._reqAF2),LyteColorbox._reqAF1=a((function(){LyteColorbox._reqAF1=!1,LyteColorbox._reqAF2=a((function(){LyteColorbox._reqAF2=!1,l.classList.remove("lyteCBoxMoveLeft","lyteCBoxMoveRight","lytCBoxPreviousItem","lytCBoxNextItem"),l.classList.add("lyteCBoxCurrentItem")}))})),LyteColorbox._nextItem=!1,LyteColorbox._prevItem=!1}},next:function(o,t){var e,l=LyteColorbox._component,r=l.getData("ltPropLoop"),n=LyteColorbox._index+1,i=(LyteColorbox._related||[]).length;!r&&n>=i||(l.getMethods("onBeforeNavigate")&&(e=l.executeMethod("onBeforeNavigate",o,l.$node,LyteColorbox._index,1)),e?e.then((function(){LyteColorbox.moveToNext(o,t)})):LyteColorbox.moveToNext(o,t))},moveToNext:function(o,t){var e=LyteColorbox._component.getData("ltPropType");!LyteColorbox._active&&LyteColorbox._related[1]&&(LyteColorbox._component.getData("ltPropLoop")||LyteColorbox._related[LyteColorbox._index+1])&&("slide"!=LyteColorbox._component.getData("ltPropAnimation")?LyteColorbox.hideElement():LyteColorbox._nextItem=!0,LyteColorbox.toggleLoadingIcon(),"custom"===e&&LyteColorbox.reset(),LyteColorbox._index=LyteColorbox.getIndex(1),LyteColorbox._domEle=null,LyteColorbox.load(LyteColorbox._el=LyteColorbox._related[LyteColorbox._index]),!t&&LyteColorbox._component.getMethods("onNavigate")&&LyteColorbox._component.executeMethod("onNavigate",o,LyteColorbox._component.$node,LyteColorbox._index+1,1))},prev:function(o,t){var e,l=LyteColorbox._component,r=LyteColorbox._index;(l.getData("ltPropLoop")||0!==r)&&(l.getMethods("onBeforeNavigate")&&(e=l.executeMethod("onBeforeNavigate",o,l.$node,LyteColorbox._index,-1)),e?e.then((function(){LyteColorbox.moveToPrevious(o,t)})):LyteColorbox.moveToPrevious(o,t))},moveToPrevious:function(o,t){var e=LyteColorbox._component.getData("ltPropType");!LyteColorbox._active&&LyteColorbox._related[1]&&(LyteColorbox._component.getData("ltPropLoop")||LyteColorbox._index)&&("slide"!=LyteColorbox._component.getData("ltPropAnimation")?LyteColorbox.hideElement():LyteColorbox._prevItem=!0,LyteColorbox.toggleLoadingIcon(),"custom"===e&&LyteColorbox.reset(),LyteColorbox._index=LyteColorbox.getIndex(-1),LyteColorbox._domEle=null,LyteColorbox.load(LyteColorbox._el=LyteColorbox._related[LyteColorbox._index]),!t&&LyteColorbox._component.getMethods("onNavigate")&&LyteColorbox._component.executeMethod("onNavigate",o,LyteColorbox._component.$node,LyteColorbox._index+1,-1))},close:function(){if(this._component.ltPropShow=!1,LyteColorbox._open&&!LyteColorbox._closing){if(LyteColorbox._component.setData("currentEle",null),document.body.classList.remove("lyteCBoxOH"),LyteColorbox._content.classList.remove("lyteCBoxOH"),LyteColorbox._component.getData("ltPropThumbnail")){var o=LyteColorbox._thumbDiv.querySelector(".lyteColorboxThumbnails"),t=LyteColorbox._thumbDiv.querySelector(".lyteColorboxThumbInnerWrapper");o.style.width="",o.classList.add("lyteColorboxHideVisibility"),t.style.transform="",t.style.width=""}LyteColorbox._zoomIn&&(LyteColorbox._zoomIn.classList.remove("lyteColorboxDisabled"),LyteColorbox._zoomOut.setAttribute("aria-disabled",!1)),LyteColorbox._zoomOut&&"image"!=LyteColorbox._component.getData("ltPropType")&&(LyteColorbox._zoomOut.classList.add("lyteColorboxDisabled"),LyteColorbox._zoomOut.setAttribute("aria-disabled",!0)),LyteColorbox._reset&&(LyteColorbox._reset.classList.add("lyteColorboxDisabled"),LyteColorbox._zoomOut.setAttribute("aria-disabled",!0)),LyteColorbox._clickNumber=0,LyteColorbox._zoomedThroughUtil=!1,LyteColorbox._closing=!0,LyteColorbox._open=!1,LyteColorbox._box.classList.remove("lyteColorboxDisplay"),LyteColorbox._domEle=null,LyteColorbox._related=[],LyteColorbox._closing=!1,LyteColorbox._el=null,LyteColorbox._diff=0,LyteColorbox.removeElements(),LyteColorbox.toggleLoadingIcon(),LyteColorbox._loadingIcon=null,LyteColorbox._component.callOnClose()}},hideCropper:function(){LyteColorbox._crop.classList.add("lyteColorboxHideBtn"),LyteColorbox._download&&LyteColorbox._download.classList.add("lyteColorboxHideBtn"),LyteColorbox._title&&LyteColorbox._title.classList.add("lyteColorboxHideBtn"),LyteColorbox._zoomIn&&LyteColorbox._zoomIn.classList.add("lyteColorboxHideBtn"),LyteColorbox._zoomOut&&LyteColorbox._zoomOut.classList.add("lyteColorboxHideBtn"),LyteColorbox._reset&&LyteColorbox._reset.classList.add("lyteColorboxHideBtn"),LyteColorbox._prev&&LyteColorbox._prev.classList.add("lyteColorboxHideBtn"),LyteColorbox._next&&LyteColorbox._next.classList.add("lyteColorboxHideBtn")},crop:function(){if(LyteColorbox._component.getMethods("onCropOpen")&&LyteColorbox._component.executeMethod("onCropOpen",LyteColorbox._component),"slide"==LyteColorbox._component.getData("ltPropAnimation"))var o=$L(".lyteCBoxCurrentItem",LyteColorbox._component.childComp)[0]?$L(".lyteCBoxCurrentItem",LyteColorbox._component.childComp)[0]:LyteColorbox._content;else o=$L(".lyteCBoxCurrentElem",LyteColorbox._component.childComp)[0]?$L(".lyteCBoxCurrentElem",LyteColorbox._component.childComp)[0]:LyteColorbox._content;var t=$L(".lyteCBoxVisible",o);if(LyteColorbox._component.getData("ltPropYield")){this.hideCropper();var e=$L(".lyteColorboxCropDisable",LyteColorbox._component.childComp);e.removeClass("lyteColorboxCropDisable"),e.addClass("lyteColorboxCropEnable")}var l=t[0].offsetWidth,r=t[0].offsetHeight;t[0].offsetWidth<t[0].offsetHeight&&(l=r),o.style.top=(LyteColorbox._content.offsetHeight-r)/2+"px",o.style.left=(LyteColorbox._content.offsetWidth-l)/2+"px",o.style.width=l+"px",o.style.height=r+"px",LyteColorbox._thumbDiv&&(LyteColorbox._thumbDiv.style.display="none"),t[0]._imgDimension={width:t[0].offsetWidth,height:t[0].offsetHeight},t.cropper({aspectRatio:"n:n",cropDrag:function(){var t=$L(".lyteCropDivImage",o)[0];LyteColorbox._component.getMethods("onCrop")&&LyteColorbox._component.executeMethod("onCrop",t.offsetWidth,t.offsetHeight)}}),this.addCropEvent(o),$L(".lyteCropArea",this.childComp)[0].style.position="absolute"},addCropEvent:function(o){LyteColorbox._component.childComp.querySelectorAll(".lyteColorboxCrop").forEach((function(t){t.addEventListener("click",(function(t){var e=t.target.classList.contains("lyteColorboxCrop")?t.target:t.target.closest(".lyteColorboxCrop"),l=e.dataset.ratio,r=$L(".lyteCBoxVisible",o).data("cropper"),n=$L(".lyteCBoxSelectedRatio",o);if(n&&n.removeClass("lyteCBoxSelectedRatio"),$L(e).addClass("lyteCBoxSelectedRatio"),l){$L(".lyteCBoxVisible",o).cropper({aspectRatio:l,cropDrag:function(){var t=$L(".lyteCropDivImage",o)[0];LyteColorbox._component.getMethods("onCrop")&&LyteColorbox._component.executeMethod("onCrop",t.offsetWidth,t.offsetHeight)}});var i=$L(".lyteCropDivImage",o)[0];LyteColorbox._component.getMethods("onRatioSet")&&LyteColorbox._component.executeMethod("onRatioSet",i.offsetWidth,i.offsetHeight)}else{if(e.dataset.rotate){r.rotate();i=$L(".lyteCropDivImage",o)[0];LyteColorbox._component.getMethods("onRotate")&&LyteColorbox._component.executeMethod("onRotate",i.offsetWidth,i.offsetHeight)}}$L(".lyteCropArea",o)[0].style.position="absolute"}))}))},download:function(){var o=!0;if(LyteColorbox._component.getMethods("onDownload")&&(o=void 0===(o=LyteColorbox._component.executeMethod("onDownload",LyteColorbox._domEle,LyteColorbox._el,LyteColorbox._component.$node))||o),o){var t=document.createElement("a");LyteColorbox._el.lytecboxDlink?t.setAttribute("href",LyteColorbox._el.lytecboxDlink):"photo"==LyteColorbox._el.type&&t.setAttribute("href",LyteColorbox._el.lytecboxHref),t.setAttribute("download",LyteColorbox.createName(LyteColorbox._el.lytecboxTitle)),document.body.append(t),t.click(),t.remove()}},isIE:function(){var o=window.navigator.userAgent;if(o.indexOf("MSIE ")>0)return!0;if(o.indexOf("Trident/")>0){o.indexOf("rv:");return!0}return!1},zoomTo:function(o,t,e){t=t||{};var l=LyteColorbox._component,r=e.getAttribute("lytecbox-rotate"),n=e.offsetWidth,i=e.offsetHeight,a=e.getBoundingClientRect(),s=LyteColorbox._content.getBoundingClientRect(),y=t.left||("center"==l.getData("ltPropZoomPosition")?s.left+.5*s.width:a.left+.5*a.width),b=t.top||("center"==l.getData("ltPropZoomPosition")?s.top+.5*s.height:a.top+.5*a.height),x=e.style.transform,d=e.style.transformOrigin,c=x.match(/scale\((.+)\)/)||[null,1,0,0],C=d.match(/(.+)% (.+)%/)||[null,50,50],m=parseFloat(c[1]),L=parseFloat(e.style.left||0),p=parseFloat(e.style.top||0),u=parseFloat(C[1]),_=parseFloat(C[2]),h=(y-a.left)/a.width*100,f=(b-a.top)/a.height*100,g=.01*(h-u)*n*(m-1),v=.01*(f-_)*i*(m-1);e.style.transformOrigin=h+"% "+f+"%",e.style.transform="scale("+o+")"+(null==r?"":" "+r),e.style.left=g+L+"px",e.style.top=v+p+"px"},getMatrixValue:function(o){return window.WebKitCSSMatrix?new WebKitCSSMatrix(window.getComputedStyle(o).transform):window.MSCSSMatrix?new MSCSSMatrix(window.getComputedStyle(o).transform):void 0},wheel:function(o){o.preventDefault();var t=o.deltaMode&&1==o.deltaMode,e=o.deltaY*(t?6:1),l=o.deltaX*(t?6:1);if(!(Math.abs(e)<Math.abs(l))){Math.abs(e)>50&&(e=e>0?50:-50);var r=LyteColorbox._domEle,n=LyteColorbox._component.data.ltPropMinScale,i=LyteColorbox._component.data.ltPropMaxScale,a=(LyteColorbox.getMatrixValue(r),LyteColorbox.getCurrentZoom(r)),s=Math.min(Math.max(a+e/1e3,n),i);r.classList.contains("preventAnimation")||r.classList.add("preventAnimation"),clearTimeout(r._timeout),r._timeout=setTimeout((function(){r.classList.remove("preventAnimation")}),500),this.zoomTo(s,{left:o.clientX,top:o.clientY},r),LyteColorbox._zoom=!0,LyteColorbox._zoomOut&&(LyteColorbox._zoomOut.classList.remove("lyteColorboxDisabled"),LyteColorbox._zoomOut.setAttribute("aria-disabled",!1)),LyteColorbox._reset&&(LyteColorbox._reset.classList.remove("lyteColorboxDisabled"),LyteColorbox._reset.setAttribute("aria-disabled",!1))}},getCurrentZoom:function(o){var t=(/scale\(([\d.]*)\)/.exec(o.style.transform)||[])[1]||"1";return parseFloat(t)},checkAndChangeStatus:function(o){var t=LyteColorbox.getCurrentZoom(o);o._isDefault=1===t},zoomIn:function(){LyteColorbox._clickNumber+=1,LyteColorbox._clickNumber<=LyteColorbox._component.getData("ltPropZoomClickNumber")?(LyteColorbox.resetLeftAndTopHelpers(),"imageCenter"==LyteColorbox._component.data.ltPropZoomPosition&&(LyteColorbox._domEle.style.left="0px",LyteColorbox._domEle.style.top="0px",LyteColorbox._domEle.style.transformOrigin=""),$L.fastdom.measure(function(){var o=parseFloat(LyteColorbox._component.getData("ltPropZoomBy"))/100,t=LyteColorbox.getCurrentZoom(LyteColorbox._domEle);LyteColorbox._domEle.getBoundingClientRect();this.zoomTo(t+o,{},LyteColorbox._domEle),LyteColorbox.checkAndChangeStatus(LyteColorbox._domEle),(1==LyteColorbox._clickNumber||LyteColorbox._zoomOut&&LyteColorbox._zoomOut.classList.contains("lyteColorboxDisabled")||LyteColorbox._reset&&LyteColorbox._reset.classList.contains("lyteColorboxDisabled"))&&(LyteColorbox._zoomOut&&LyteColorbox._zoomOut.classList.remove("lyteColorboxDisabled")&&LyteColorbox._zoomOut.setAttribute("aria-disabled",!1),LyteColorbox._reset&&LyteColorbox._reset.classList.remove("lyteColorboxDisabled")&&LyteColorbox._reset.setAttribute("aria-disabled",!1)),LyteColorbox._clickNumber==LyteColorbox._component.getData("ltPropZoomClickNumber")&&LyteColorbox._zoomIn&&LyteColorbox._zoomIn.classList.add("lyteColorboxDisabled")&&LyteColorbox._zoomIn.setAttribute("aria-disabled",!0),LyteColorbox.setPercentage(void 0,t+o),LyteColorbox._component.getMethods("onZoomin")&&LyteColorbox._component.executeMethod("onZoomin",Math.round(100*(t+o))-100,LyteColorbox._component.$node)}.bind(this))):LyteColorbox._clickNumber-=1},zoomOut:function(){if(LyteColorbox.resetLeftAndTopHelpers(),LyteColorbox._zoom){var o=LyteColorbox._domEle.getAttribute("lytecbox-rotate");LyteColorbox._zoom=!1,LyteColorbox._domEle.style.transform=o||"",LyteColorbox._domEle.style.top="0px",LyteColorbox._domEle.style.left="0px",LyteColorbox._domEle.style.transformOrigin="",LyteColorbox.checkAndChangeStatus(LyteColorbox._domEle),LyteColorbox._clickNumber=0,LyteColorbox._zoomedThroughUtil=!1,LyteColorbox._zoomOut&&LyteColorbox._zoomOut.classList.add("lyteColorboxDisabled")&&LyteColorbox._zoomOut.setAttribute("aria-disabled",!0),LyteColorbox._reset&&LyteColorbox._reset.classList.add("lyteColorboxDisabled")&&LyteColorbox._reset.setAttribute("aria-disabled",!0),LyteColorbox._zoomIn&&LyteColorbox._zoomIn.classList.contains("lyteColorboxDisabled")&&LyteColorbox._zoomIn.classList.remove("lyteColorboxDisabled")&&LyteColorbox._zoomIn.setAttribute("aria-disabled",!1),LyteColorbox.setPercentage(void 0,1),LyteColorbox._component.getMethods("onZoomout")&&LyteColorbox._component.executeMethod("onZoomout",0,LyteColorbox._component.$node)}else LyteColorbox._clickNumber-=1,LyteColorbox._clickNumber>=0&&LyteColorbox._clickNumber<LyteColorbox._component.getData("ltPropZoomClickNumber")?(LyteColorbox._domEle._left=void 0,LyteColorbox._domEle._top=void 0,"imageCenter"==LyteColorbox._component.data.ltPropZoomPosition&&(LyteColorbox._domEle.style.left="0px",LyteColorbox._domEle.style.top="0px",LyteColorbox._domEle.style.transformOrigin=""),$L.fastdom.measure(function(){var o=parseFloat(LyteColorbox._component.getData("ltPropZoomBy"))/100,t=LyteColorbox.getCurrentZoom(LyteColorbox._domEle);this.zoomTo(t-o,{},LyteColorbox._domEle),LyteColorbox.checkAndChangeStatus(LyteColorbox._domEle),0==LyteColorbox._clickNumber&&(LyteColorbox._zoomOut&&LyteColorbox._zoomOut.classList.add("lyteColorboxDisabled")&&LyteColorbox._zoomOut.setAttribute("aria-disabled",!0),LyteColorbox._reset&&LyteColorbox._reset.classList.add("lyteColorboxDisabled")&&LyteColorbox._reset.setAttribute("aria-disabled",!0)),LyteColorbox._clickNumber==LyteColorbox._component.getData("ltPropZoomClickNumber")-1&&LyteColorbox._zoomIn&&LyteColorbox._zoomIn.classList.remove("lyteColorboxDisabled")&&LyteColorbox._zoomIn.setAttribute("aria-disabled",!1),LyteColorbox.setPercentage(void 0,t-o),LyteColorbox._component.getMethods("onZoomout")&&LyteColorbox._component.executeMethod("onZoomout",Math.round(100*(t-o))-100,LyteColorbox._component.$node)}.bind(this))):LyteColorbox._clickNumber+=1},disableTransition:function(o){o.classList.add("lyteColorBoxDisableTransition")},enableTransition:function(o){o.classList.remove("lyteColorBoxDisableTransition")},reset:function(o,t){var e=(o=o||LyteColorbox._domEle).getAttribute("lytecbox-rotate");if(o.classList.contains(LyteColorbox._prefix+"Photo")&&(LyteColorbox._clickNumber>0||LyteColorbox._zoomedThroughUtil)){LyteColorbox.resetLeftAndTopHelpers(),LyteColorbox._zoom=!1,LyteColorbox._clickNumber=0,LyteColorbox._zoomedThroughUtil=!1;var l=o.offsetWidth/o.naturalWidth*100;t||(o.classList.remove("lyteCBoxAnimateOnUp"),LyteColorbox.disableTransition(o)),o.style.transform=e||"",o.style.top="0px",o.style.left="0px",o.style.transformOrigin="",LyteColorbox.setPercentage(l%1!=0?l.toFixed(2):l),LyteColorbox.checkAndChangeStatus(o),LyteColorbox._zoomIn&&(LyteColorbox._zoomIn.classList.remove("lyteColorboxDisabled"),LyteColorbox._zoomIn.setAttribute("aria-disabled",!1)),LyteColorbox._zoomOut&&(LyteColorbox._zoomOut.classList.add("lyteColorboxDisabled"),LyteColorbox._zoomOut.setAttribute("aria-disabled",!0)),LyteColorbox._reset&&(LyteColorbox._reset.classList.add("lyteColorboxDisabled"),LyteColorbox._reset.setAttribute("aria-disabled",!0)),t&&LyteColorbox._component.getMethods("onReset")&&LyteColorbox._component.executeMethod("onReset",LyteColorbox._component.$node)}},resetLeftAndTopHelpers:function(){LyteColorbox._domEle._left=void 0,LyteColorbox._domEle._top=void 0,LyteColorbox._domEle.classList.remove("lyteCBoxAnimateOnUp")},zoomByUtilFn:function(o){if(LyteColorbox._domEle&&LyteColorbox._domEle.classList.contains("lyteCBoxPhoto")&&(o>=0||"fitWidth"===o||"actual"===o||"reset"===o)){var t,e;if(LyteColorbox.resetLeftAndTopHelpers(),"fitWidth"===o){!0;var l=parseFloat(getComputedStyle(LyteColorbox._content).width),r=LyteColorbox._domEle.getAttribute("lytecbox-rotate");t=l/(r&&-1!=r.indexOf("90")?LyteColorbox._domEle.offsetHeight:LyteColorbox._domEle.offsetWidth),LyteColorbox._zoomedThroughUtil=!0;o=l/(r&&-1!=r.indexOf("90")?LyteColorbox._domEle.naturalHeight:LyteColorbox._domEle.naturalWidth)*100;LyteColorbox.setPercentage(o%1!=0?o.toFixed(2):o)}else if("reset"===o){t=1;o=LyteColorbox._domEle.offsetWidth/LyteColorbox._domEle.naturalWidth*100;LyteColorbox.setPercentage(o%1!=0?o.toFixed(2):o)}else{var n=LyteColorbox._domEle,i=n.naturalWidth,a=n.offsetWidth;t=(1+(i*o/100-a)/a).toFixed(2),LyteColorbox._zoomedThroughUtil=!0,LyteColorbox.setPercentage(o)}"imageCenter"==LyteColorbox._component.data.ltPropZoomPosition&&(LyteColorbox._domEle.style.left="0px",LyteColorbox._domEle.style.top="0px",LyteColorbox._domEle.style.transformOrigin=""),$L.fastdom.measure(function(){e=LyteColorbox.getCurrentZoom(LyteColorbox._domEle),this.zoomTo(t,{},LyteColorbox._domEle),LyteColorbox.checkAndChangeStatus(LyteColorbox._domEle),1==t?(LyteColorbox._zoom=!1,LyteColorbox._zoomOut&&LyteColorbox._zoomOut.classList.add("lyteColorboxDisabled")&&LyteColorbox._zoomOut.setAttribute("aria-disabled",!0),LyteColorbox._reset&&LyteColorbox._reset.classList.add("lyteColorboxDisabled")&&LyteColorbox._reset.setAttribute("aria-disabled",!0)):(LyteColorbox._zoom=!0,LyteColorbox._zoomOut&&LyteColorbox._zoomOut.classList.remove("lyteColorboxDisabled")&&LyteColorbox._zoomOut.setAttribute("aria-disabled",!1),LyteColorbox._reset&&LyteColorbox._reset.classList.remove("lyteColorboxDisabled")&&LyteColorbox._reset.setAttribute("aria-disabled",!1),LyteColorbox._domEle.classList.add("onZoom")),t>=e?LyteColorbox._component.getMethods("onZoomin")&&LyteColorbox._component.executeMethod("onZoomin",o,LyteColorbox._component.$node):(LyteColorbox._component.triggerCheck(),LyteColorbox._component.getMethods("onZoomout")&&LyteColorbox._component.executeMethod("onZoomout",o,LyteColorbox._component.$node))}.bind(this))}},checkForLeftAndTopAfterZoomOut:function(){var o=LyteColorbox._domEle,t=LyteColorbox._domEle.getBoundingClientRect(),e=LyteColorbox._content.getBoundingClientRect(),l=o.style.transformOrigin.match(/(.+)% (.+)%/)||[null,50,50],r=parseFloat(l[1]),n=parseFloat(l[2]),i=0;if(o.classList.add("lyteCBoxAnimateOnUp"),t.width<e.width)o.style.left="0px",r=50;else{var a=Math.round(t.left),s=Math.round(t.right);a>e.left&&(i=a-e.left,o.style.left=parseFloat(o.style.left||0)-i+"px"),s<e.right&&(i=e.right-s,o.style.left=parseFloat(o.style.left||0)+i+"px")}if(t.height<e.height)o.style.top="0px",n=50;else{var y=Math.round(t.top),b=Math.round(t.bottom);y>e.top&&(i=y-e.top,o.style.top=parseFloat(o.style.top||0)-i+"px"),b<e.bottom&&(i=e.bottom-b,o.style.top=parseFloat(o.style.top||0)+i+"px")}o.style.transformOrigin=r+"% "+n+"%",o.removeEventListener("transitionend",LyteColorbox.checkForLeftAndTopAfterZoomOut)},convertToPx:function(o,t){var e,l="";return(e=/(\d*)%/i.exec(o))?l=parseInt(e[1])/100*parseInt(t)+"px":/(\d*)px/i.exec(o)?l=o:o&&(l=o+"px"),l},getProperOffsetsToCalculateImageDimensions:function(){var o=window.getComputedStyle(LyteColorbox._content),t=LyteColorbox._component,e=LyteColorbox.convertToPx(t.getData("ltPropWidth"),o.width)||.8*parseInt(o.width)+"px",l=LyteColorbox.convertToPx(t.getData("ltPropHeight"),o.height)||.8*parseInt(o.height)+"px";return{width:parseInt(e),height:parseInt(l)}},checkAspectRatio:function(){var o=LyteColorbox._domEle._offset;if(o){var t=LyteColorbox.getProperOffsetsToCalculateImageDimensions(),e=LyteColorbox._domEle.getAttribute("lytecbox-rotate");if(e&&-1!=e.indexOf("90")){var l=Object.assign({},t);t={height:l.width,width:l.height}}var r=o.width,n=o.height;o.width>o.height&&o.width>t.width?(n=LyteColorbox.getHeight(n,r,t),r=t.width,LyteColorbox._domEle.style.width=r+"px",LyteColorbox._domEle.style.height=n+"px",n>t.height&&(r=LyteColorbox.getWidth(n,r,t),n=t.height,LyteColorbox._domEle.style.height=n+"px",LyteColorbox._domEle.style.width=r+"px")):(n>t.height&&(r=LyteColorbox.getWidth(n,r,t),n=t.height,LyteColorbox._domEle.style.height=n+"px",LyteColorbox._domEle.style.width=r+"px"),r>t.width&&(LyteColorbox._domEle.style.width=t.width+"px",LyteColorbox._domEle.style.height=LyteColorbox.getHeight(n,r,t)+"px")),LyteColorbox.setPercentage()}},setElementWidthAndHeight:function(o,t){elementOffset.width>elementOffset.height&&elementOffset.width>t.width?(height=LyteColorbox.getHeight(height,width,t),width=t.width,o.style.width=width+"px",o.style.height=height+"px",height>t.height&&(width=elementh(height,width,t),height=t.height,o.style.height=height+"px",o.style.width=width+"px")):(height>t.height&&(width=LyteColorbox.getWidth(height,width,t),height=t.height,o.style.height=height+"px",o.style.width=width+"px"),width>t.width&&(o.style.width=t.width+"px",o.style.height=LyteColorbox.getHeight(height,width,t)+"px"))},getHeight:function(o,t,e){var l=e.width*(o/t);return Math.round(l)},getWidth:function(o,t,e){var l=e.height*(t/o);return Math.round(l)},open:function(o){(o-=1)!=LyteColorbox._index&&o>=0&&o<LyteColorbox._related.length&&("slide"!=LyteColorbox._component.getData("ltPropAnimation")?LyteColorbox.hideElement():o<LyteColorbox._index?LyteColorbox._prevItem=!0:LyteColorbox._nextItem=!0,LyteColorbox.toggleLoadingIcon(),LyteColorbox.reset(),LyteColorbox._index=o,LyteColorbox._domEle=null,LyteColorbox.load(LyteColorbox._el=LyteColorbox._related[LyteColorbox._index]))},replace:function(o,t){var e=LyteColorbox._related[o-1],l=!1;for(var r in t)r in e&&("lytecboxHref"==r&&(l=!0),Lyte.Component.set(e,r,t[r]));var n=LyteColorbox._boxEle+"__"+(o-1),i=LyteColorbox._content.querySelector("."+n);if(i&&l&&($L(i).attr({src:e.lytecboxHref}),"photo"==e.type&&(i.style.height="",i.style.width="",i.onload=function(){i._offset={height:i.naturalHeight,width:i.naturalWidth},i.classList.contains("lyteCBoxVisible")&&!i.parentElement.classList.contains("lyteCBoxDN")&&(LyteColorbox.checkAspectRatio(),LyteColorbox.checkHW())})),i&&i.classList.contains("lyteCBoxVisible")&&!i.parentElement.classList.contains("lyteCBoxDN")&&(LyteColorbox._title&&(LyteColorbox._title.textContent=e.lytecboxTitle),LyteColorbox._el=e),!i){var a=LyteColorbox;a._open&&o-1==a._index&&(a.reset(),a.load(e))}},removeElementObjectFromDom:function(o){var t=LyteColorbox._content.querySelector("."+LyteColorbox._boxEle+"__"+o);t&&("slide"==LyteColorbox._component.getData("ltPropAnimation")?t.parentElement.remove():t.remove())},updateSelectors:function(o){var t=Array.from(LyteColorbox._content.querySelectorAll(".lyteCBoxPhoto")),e=/(lyteCBoxElement\d*__\d*)/g,l=/[+-]?\d+(\.\d+)?/g;Lyte.arrayUtils(t,"push",Array.from(LyteColorbox._content.querySelectorAll(".lyteCBoxIframe"))),Lyte.arrayUtils(t,"push",Array.from(LyteColorbox._content.querySelectorAll(".lyteCBoxCustom")));for(var r=0;r<t.length;r++){var n=t[r].getAttribute("class"),i=n.match(e)[0],a=parseInt(i.match(l)[1]);a>o&&(a-=1,n=n.replace(i,LyteColorbox._boxEle+"__"+a),t[r].className=n)}},remove:function(o){var t=!1;LyteColorbox._index===o-1&&(t=!0,LyteColorbox._component.getData("ltPropLoop")||o!=LyteColorbox._related.length?LyteColorbox.next(null,!0):(LyteColorbox.prev(null,!0),t=!1),$L(LyteColorbox._domEle).off("load",LyteColorbox.imageComplete).off("error",LyteColorbox.imageFailure)),this.removeElementObjectFromDom(o-1),Lyte.arrayUtils(LyteColorbox._related,"removeAt",o-1,1),t&&0!=LyteColorbox._index&&(LyteColorbox._index-=1),this.updateSelectors(o-1),LyteColorbox._component.getData("ltPropThumbnail")&&(LyteColorbox._component.setData("triggerSetThumbnail",LyteColorbox._component.getData("triggerSetThumbnail")+1),this.updateThumbnailPos()),this.changeNavArrows()}};Lyte.Component.register("lyte-colorbox",{_template:'<template tag-name="lyte-colorbox"> <template is="if" value="{{expHandlers(ltPropType,\'===\',\'custom\')}}"><template case="true"> <template is="if" value="{{ltPropYield}}"><template case="true"> <lyte-yield yield-name="colorBoxYield" lt-cb-content-type="{{ltPropContent.lytecboxType}}"></lyte-yield> </template><template case="false"> <div id="lyteColorbox" class="lyteColorbox lyteCBox"> <div class="lyteColorboxFreezeLayer lyteCBoxOverlay"></div> <div class="lyteColorboxCloseIcon lyteCBoxClose"></div> <template is="if" value="{{ltPropNavIcon}}"><template case="true"> <div class="lyteColorboxIconDiv lyteCBoxPrevious"> <div class="lyteColorboxPreviousIcon"></div> </div> <div class="lyteColorboxIconDiv lyteCBoxNext"> <div class="lyteColorboxNextIcon"></div> </div> </template></template> <div class="lyteColorboxWrapper"> <template is="if" value="{{expHandlers(isIframe,\'!\')}}"><template case="true"> <div class="lyteColorboxUtilDiv"> <span class="lyteCBoxZoomOut lyteColorboxZoomOut lyteColorboxDisabled" lt-prop-title="Zoom Out" lt-prop-tooltip-config="{&quot;position&quot; : &quot;bottom&quot;,&quot;appearance&quot; : &quot;box&quot;,&quot;margin&quot; : 5}"></span> <span class="lyteCBoxReset lyteColorboxReset lyteColorboxDisabled" lt-prop-title="Reset Zoom" lt-prop-tooltip-config="{&quot;position&quot; : &quot;bottom&quot;,&quot;appearance&quot; : &quot;box&quot;,&quot;margin&quot; : 5}"></span> <span class="lyteCBoxZoomIn lyteColorboxZoomIn" lt-prop-title="Zoom In" lt-prop-tooltip-config="{&quot;position&quot; : &quot;bottom&quot;,&quot;appearance&quot; : &quot;box&quot;,&quot;margin&quot; : 5}"></span> </div> </template></template> <div class="lyteColorboxContent lyteCBoxContent"> <span class="lyteColorboxLoadingImg"></span> </div> <div class="lyteColorboxHeader"> <div class="lyteColorboxTitle lyteCBoxTitle"></div> <template is="if" value="{{download}}"><template case="true"> <div class="lyteColorboxDownloadDiv lyteCBoxDownload"> <span class="lyteColorboxDownloadImg"></span> </div> </template></template> </div> </div> <template is="if" value="{{ltPropThumbnail}}"><template case="true"> <div class="lyteColorboxThumbOuterWrapper"> <div class="lyteColorboxThumbnails" onclick="{{action(&quot;clickOnThumbnails&quot;,event)}}"> <div class="lyteColorboxThumbInnerWrapper"> <template is="for" items="{{thumbnails}}" item="item" index="index"> <div class="{{lyteUiAddShowClass(ltPropAddOrientation,\'lyteColorboxThumb\',\'addedOrientation\')}}" data-thumb-val="{{lyteUiSetIndexString(index,thumbnails.length)}}"> <template is="if" value="{{ifEquals(item.type,&quot;photo&quot;)}}"><template case="true"> <img src="{{item.lytecboxHref}}"> </template><template case="false"><template is="if" value="{{lyteUiIfEqualsAny(item.type,&quot;iframe&quot;,&quot;custom&quot;)}}"><template case="true"><template is="if" value="{{item.lytecboxThumbnail}}"><template case="true"> <img class="lyteCBoxFavImg" src="{{item.lytecboxThumbnail}}"> </template><template case="false"> <div class="lyteCBoxIframeWrap"> <div class="lyteCBoxIframeIcon"></div> <div class="lyteCBoxIframeLabel">{{item.format}}</div> </div> </template></template> </template></template></template></template> </div> </template> </div> </div> </div> </template></template> </div> </template></template> </template><template case="false"> <template is="if" value="{{ltPropYield}}"><template case="true"> <lyte-yield yield-name="colorBoxYield"></lyte-yield> </template><template case="false"> <lyte-colorbox-container> <lyte-colorbox-header> <lyte-colorbox-title></lyte-colorbox-title> <template is="if" value="{{download}}"><template case="true"> <lyte-colorbox-download> <span class="lyteColorboxDownloadImg"></span> </lyte-colorbox-download> </template></template> <lyte-colorbox-close></lyte-colorbox-close> </lyte-colorbox-header> <lyte-colorbox-content> </lyte-colorbox-content> <template is="if" value="{{ltPropNavIcon}}"><template case="true"> <lyte-colorbox-previous> <div class="lyteColorboxPreviousIcon"></div> </lyte-colorbox-previous> <lyte-colorbox-next> <div class="lyteColorboxNextIcon"></div> </lyte-colorbox-next> </template></template> <lyte-colorbox-description> </lyte-colorbox-description> <div class="lyteColorboxUtilDiv"> <lyte-colorbox-zoomin lt-prop-title="Zoom In" lt-prop-tooltip-config="{&quot;position&quot; : &quot;bottom&quot;,&quot;appearance&quot; : &quot;box&quot;,&quot;margin&quot; : 5}"></lyte-colorbox-zoomin> <lyte-colorbox-reset class="lyteColorboxDisabled" lt-prop-title="Reset Zoom" lt-prop-tooltip-config="{&quot;position&quot; : &quot;bottom&quot;,&quot;appearance&quot; : &quot;box&quot;,&quot;margin&quot; : 5}"></lyte-colorbox-reset> <lyte-colorbox-zoomout lt-prop-title="Zoom Out" lt-prop-tooltip-config="{&quot;position&quot; : &quot;bottom&quot;,&quot;appearance&quot; : &quot;box&quot;,&quot;margin&quot; : 5}"></lyte-colorbox-zoomout> </div> <template is="if" value="{{ltPropThumbnail}}"><template case="true"> <lyte-colorbox-thumbnail> <div class="lyteColorboxThumbnails" onclick="{{action(&quot;clickOnThumbnails&quot;,event)}}"> <div class="lyteColorboxThumbInnerWrapper"> <template is="for" items="{{thumbnails}}" item="item" index="index"> <div class="{{lyteUiAddShowClass(ltPropAddOrientation,\'lyteColorboxThumb\',\'addedOrientation\')}}" data-thumb-val="{{lyteUiSetIndexString(index,thumbnails.length)}}"> <template is="if" value="{{ifEquals(item.type,&quot;photo&quot;)}}"><template case="true"> <img src="{{item.lytecboxHref}}"> </template><template case="false"><template is="if" value="{{lyteUiIfEqualsAny(item.type,&quot;iframe&quot;,&quot;custom&quot;)}}"><template case="true"><template is="if" value="{{item.lytecboxThumbnail}}"><template case="true"> <img class="lyteCBoxFavImg" src="{{item.lytecboxThumbnail}}"> </template><template case="false"> <div class="lyteCBoxIframeWrap"> <div class="lyteCBoxIframeIcon"></div> <div class="lyteCBoxIframeLabel">{{item.format}}</div> </div> </template></template> </template></template></template></template> </div> </template> </div> </div> </lyte-colorbox-thumbnail> </template></template> </lyte-colorbox-container> </template></template> </template></template> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1,5]},{type:"if",position:[1,5],cases:{true:{dynamicNodes:[]}},default:{}},{type:"attr",position:[1,7,1]},{type:"if",position:[1,7,1],cases:{true:{dynamicNodes:[]}},default:{}},{type:"attr",position:[1,7,5,3]},{type:"if",position:[1,7,5,3],cases:{true:{dynamicNodes:[]}},default:{}},{type:"attr",position:[1,9]},{type:"if",position:[1,9],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1,1]},{type:"for",position:[1,1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1,3,0]}]}},default:{}}]}},default:{}}]}},default:{}}]}]}},default:{}}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"componentDynamic",position:[1,1,1]},{type:"attr",position:[1,1,3]},{type:"if",position:[1,1,3],cases:{true:{dynamicNodes:[{type:"componentDynamic",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1,1,5]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1,3]},{type:"attr",position:[1,5]},{type:"if",position:[1,5],cases:{true:{dynamicNodes:[{type:"componentDynamic",position:[1]},{type:"componentDynamic",position:[3]}]}},default:{}},{type:"componentDynamic",position:[1,7]},{type:"componentDynamic",position:[1,9,1]},{type:"componentDynamic",position:[1,9,3]},{type:"componentDynamic",position:[1,9,5]},{type:"attr",position:[1,11]},{type:"if",position:[1,11],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1,1]},{type:"for",position:[1,1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1,3,0]}]}},default:{}}]}},default:{}}]}},default:{}}]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}],_observedAttributes:["ltPropHeight","ltPropWidth","ltPropOverlayClose","ltPropYield","ltPropSelectors","ltPropLoop","ltPropArrowKey","ltPropZoomBy","ltPropEscKey","ltPropImgError","ltPropAnimation","ltPropThumbnail","ltPropThumbnailNumber","ltPropZoomClickNumber","ltPropType","ltPropMinScale","ltPropMaxScale","ltPropWheelZoom","ltPropZoomPosition","ltPropAddOrientation","ltPropWithCredentials","ltPropCrop","ltPropShow","ltPropContent","ltPropNavIcon","currentEle","thumbnails","triggerSetThumbnail","isIframe","download"],data:function(){return{ltPropHeight:Lyte.attr("string"),ltPropWidth:Lyte.attr("string"),ltPropOverlayClose:Lyte.attr("boolean",{default:!0}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropSelectors:Lyte.attr("array",{default:[]}),ltPropLoop:Lyte.attr("boolean",{default:!0}),ltPropArrowKey:Lyte.attr("boolean",{default:!0}),ltPropZoomBy:Lyte.attr("string",{default:"25%"}),ltPropEscKey:Lyte.attr("boolean",{default:!0}),ltPropImgError:Lyte.attr("string",{default:"This image failed to load."}),ltPropAnimation:Lyte.attr("string",{default:"default"}),ltPropThumbnail:Lyte.attr("boolean",{default:!0}),ltPropThumbnailNumber:Lyte.attr("number",{default:7}),ltPropZoomClickNumber:Lyte.attr("number",{default:5}),ltPropType:Lyte.attr("string",{default:"custom"}),ltPropMinScale:Lyte.attr("number",{default:.01}),ltPropMaxScale:Lyte.attr("number",{default:1/0}),ltPropWheelZoom:Lyte.attr("boolean",{default:!1}),ltPropZoomPosition:Lyte.attr("string",{default:"center"}),ltPropAddOrientation:Lyte.attr("boolean",{default:!1}),ltPropWithCredentials:Lyte.attr("boolean",{default:!1}),ltPropCrop:Lyte.attr("boolean",{default:!1}),ltPropShow:Lyte.attr("boolean",{default:!1}),ltPropContent:Lyte.attr("object",{default:{}}),ltPropNavIcon:Lyte.attr("boolean",{default:!0}),currentEle:Lyte.attr("object"),thumbnails:Lyte.attr("array"),triggerSetThumbnail:Lyte.attr("number",{default:0}),isIframe:Lyte.attr("boolean",{default:!1}),download:Lyte.attr("boolean",{default:!0})}},trapFocus:function(){var o=LyteColorbox._content,t=LyteColorbox._title,e=$L(o).trapFocus,l=o.getAttribute("id");l||(l="lyteColorBox"+(new Date).getTime(),o.setAttribute("id",l),t&&t.setAttribute("id",l+"_title")),e&&(o.setAttribute("id",l),$L(LyteColorbox._box).trapFocus())},hideShowColorbox:function(){this.getData("ltPropShow")?this.$node.launch():this.$node.close()}.observes("ltPropShow"),CropperObserver:function(){this.getData("ltPropCrop")&&(LyteColorbox._crop=this.childComp.querySelector("lyte-colorbox-crop"),LyteColorbox._crop.addEventListener("click",(function(){LyteColorbox.crop()}),!0))}.observes("ltPropCrop"),setThumbnailSliderProp:function(){this.getData("ltPropThumbnail")&&LyteColorbox._thumbDiv&&$L.fastdom.measure(function(){var o=this.getData("ltPropThumbnailNumber"),t=LyteColorbox._thumbDiv.querySelectorAll(".lyteColorboxThumb"),e=LyteColorbox._thumbDiv.querySelector(".lyteColorboxThumbnails"),l=LyteColorbox._thumbDiv.querySelector(".lyteColorboxThumbInnerWrapper"),r=window.getComputedStyle(t[0]),n=Math.max(document.documentElement.clientWidth,window.innerWidth||0),i=parseInt(r.width)+(r.marginLeft?parseInt(r.marginLeft):0)+(r.marginRight?parseInt(r.marginRight):0);$L.fastdom.mutate(function(){"custom"===this.getData("ltPropType")?(e.style.width=(t.length<o?t.length*i:o*i)+"px",l.style.width=t.length*i+"px",e.classList.remove("lyteColorboxHideVisibility")):(t.length*i>n&&(e.style.width="100%"),l.style.width=t.length*i+"px",e.classList.remove("lyteColorboxHideVisibility"))}.bind(this))}.bind(this))}.observes("ltPropThumbnailNumber","triggerSetThumbnail"),init:function(){this.$node.launch=function(o){LyteColorbox.launch.call(this,o)}.bind(this),this.$node.push=function(o){LyteColorbox.add(o)},this.$node.open=function(o){LyteColorbox.open(o)},this.$node.zoomBy=function(o){LyteColorbox.zoomByUtilFn(o)},this.$node.replace=function(o,t){LyteColorbox.replace(o,t)},this.$node.close=function(){LyteColorbox.close()},this.$node.delete=function(o){LyteColorbox.remove(o)},this.getData("ltPropYield")&&this.setData("ltPropThumbnail",!1)},didConnect:function(){var o=this;if(this.$node.crop=function(t){o.removecropper(t)},"slide"==this.getData("ltPropAnimation"))var t=$L(".lyteCBoxCurrentItem",this.$node)[0];else t=$L(".lyteCBoxCurrentElem",this.$node)[0];t=t||$L(".lyteColorboxContent",this.$node)[0],this.$node.swapAspectRatio=function(){if($L(".lyteCBoxVisible",t).data("cropper").swapAspectRatio(),o.getMethods("onCrop")){var e=$L(".lyteCropDivImage",t)[0];o.executeMethod("onCrop",e.offsetWidth,e.offsetHeight)}},this.$node.cropperWidth=function(o){if("slide"==this.getData("ltPropAnimation"))var t=$L(".lyteCBoxCurrentItem",this.$node)[0];else t=$L(".lyteCBoxCurrentElem",this.$node)[0];t=t||$L(".lyteColorboxContent",this.$node)[0],$L(".lyteCBoxVisible",t).data("cropper").changeByWidth(o)},this.$node.cropperHeight=function(o){if("slide"==this.getData("ltPropAnimation"))var t=$L(".lyteCBoxCurrentItem",this.$node)[0];else t=$L(".lyteCBoxCurrentElem",this.$node)[0];t=t||$L(".lyteColorboxContent",this.$node)[0],$L(".lyteCBoxVisible",t).data("cropper").changeByHeight(o)}},observeHeightAndWidth:function(){LyteColorbox._open&&LyteColorbox._domEle.classList.contains("lyteCBoxPhoto")&&LyteColorbox.checkAspectRatio()}.observes("ltPropHeight","ltPropWidth"),toggleTumbnail:function(){var o=this.getData("ltPropType"),t=LyteColorbox._box,e="custom"===o?t.querySelector(".lyteColorboxThumbOuterWrapper"):t.querySelector("lyte-colorbox-thumbnail");this.getData("ltPropThumbnail")?LyteColorbox._thumbDiv=e:LyteColorbox._thumbDiv=null}.observes("ltPropThumbnail"),setAriaAttributes:function(){this._content&&this._content.setAttribute("tabindex",0),this._close&&(this._close.setAttribute("tabindex",0),this._close.setAttribute("role","button"),this._close.setAttribute("aria-label","close")),this._download&&(this._download.setAttribute("tabindex",0),this._download.setAttribute("role","download"),this._download.setAttribute("aria-label","download")),this._next&&(this._next.setAttribute("tabindex",0),this._next.setAttribute("role","button"),this._next.setAttribute("aria-label","next")),this._prev&&(this._prev.setAttribute("tabindex",0),this._prev.setAttribute("role","button"),this._prev.setAttribute("aria-label","previous")),this._reset&&(this._reset.setAttribute("tabindex",0),this._reset.setAttribute("role","button"),this._reset.setAttribute("aria-label","reset")),this._zoomOut&&(this._zoomOut.setAttribute("tabindex",0),this._zoomOut.setAttribute("role","button"),this._zoomOut.setAttribute("aria-label","zoom out")),this.zoomIn&&(this._zoomIn.setAttribute("tabindex",0),this._zoomIn.setAttribute("role","button"),this._zoomIn.setAttribute("aria-label","zoom in"))},intialFunc:function(){if("custom"===this.getData("ltPropType")){if(!this._box){this._init=!1;var o=this;if(this._content=o.$node.querySelector(".lyteCBoxContent"),this._crop=o.$node.querySelector(".lyteCBoxCrop"),this._overlay=o.$node.querySelector(".lyteCBoxOverlay"),this._title=o.$node.querySelector(".lyteCBoxTitle"),this._close=o.$node.querySelector(".lyteCBoxClose"),this._download=o.$node.querySelector(".lyteCBoxDownload"),this._next=o.$node.querySelector(".lyteCBoxNext"),this._prev=o.$node.querySelector(".lyteCBoxPrevious"),this._zoomIn=o.$node.querySelector(".lyteCBoxZoomIn"),this._zoomOut=o.$node.querySelector(".lyteCBoxZoomOut"),this._reset=o.$node.querySelector(".lyteCBoxReset"),this._box=!!o.$node.querySelector(".lyteCBox")&&o.$node.querySelector(".lyteCBox"),!o.getData("ltPropYield")&&o.getData("ltPropThumbnail")&&(this._thumbDiv=o.$node.querySelector(".lyteColorboxThumbOuterWrapper")),!this._box){this._box=LyteColorbox.createElement("div",null,"lyteCBox");for(var t=o.$node.querySelector("lyte-yield").children;t.length>0;)_lyteUiUtils.appendChild(this._box,t[0]);this._box.classList.add("lyteColorbox")}LyteColorbox._count=LyteColorbox._count+1,this._className="lyteCBoxWrapper__"+LyteColorbox._count,this._boxElement=LyteColorbox._boxElement+LyteColorbox._count,this._box.classList.add(this._className),this._box._callee=o.$node}document.body&&(this._box.parentElement&&"BODY"!=this._box.parentElement.tagName||!this._box.parentElement)&&(_lyteUiUtils.appendChild(document.body,this._box),this.childComp=this._box),LyteColorbox.setupForBindings(this),this.addBindings(),this.unbindEventsForSelectors();var e=this.getSelectorElements();e.length>0?(1===e.length&&this.setData("ltPropNavIcon",!1),this.addClickEvents(e,this._className)):console.warn("No selector(s) provided to colorbox.")}else this.setupColorBoxForImages();this.setAriaAttributes()}.observes("ltPropSelectors.[]").on("didConnect"),convertToArray:function(o){return Array.prototype.slice.call(o)},createOwnContainer:function(){var o;this._box=document.createElement("lyte-colorbox-container"),o=this.$node.querySelector("lyte-yield").children,this.convertToArray(o).forEach(function(o){_lyteUiUtils.appendChild(this._box,o)}.bind(this))},setupAlreadyComplete:function(){return this._box},setupElements:function(){var o=this;this._loadingIcon=o.$node.querySelector("lyte-colorbox-loading-icon"),this._content=o.$node.querySelector("lyte-colorbox-content"),this._crop=o.$node.querySelector("lyte-colorbox-content"),this._title=o.$node.querySelector("lyte-colorbox-title"),this._crop=o.$node.querySelector("lyte-colorbox-crop"),this._close=o.$node.querySelector("lyte-colorbox-close"),this._download=o.$node.querySelector("lyte-colorbox-download"),this._next=o.$node.querySelector("lyte-colorbox-next"),this._prev=o.$node.querySelector("lyte-colorbox-previous"),this._zoomIn=o.$node.querySelector("lyte-colorbox-zoomin"),this._zoomOut=o.$node.querySelector("lyte-colorbox-zoomout"),this._reset=o.$node.querySelector("lyte-colorbox-reset"),this._header=o.$node.querySelector("lyte-colorbox-header"),this._description=o.$node.querySelector("lyte-colorbox-description"),this._box=!!o.$node.querySelector("lyte-colorbox-container")&&o.$node.querySelector("lyte-colorbox-container"),!this.getData("ltPropYield")&&this.getData("ltPropThumbnail")&&(this._thumbDiv=o.$node.querySelector("lyte-colorbox-thumbnail")),!!this._box||this.createOwnContainer(),LyteColorbox._count=LyteColorbox._count+1,this._className="lyteCBoxWrapper__"+LyteColorbox._count,this._boxElement=LyteColorbox._boxElement+LyteColorbox._count,this._box.classList.add(this._className),this._box._callee=o.$node},stillNotAppendedToBody:function(){return document.body&&(this._box.parentElement&&"BODY"!=this._box.parentElement.tagName||!this._box.parentElement)},setupColorBoxForImages:function(){var o;this.setupAlreadyComplete()||(this._init=!1,this.setupElements()),this.stillNotAppendedToBody()&&(_lyteUiUtils.appendChild(document.body,this._box),this.childComp=this._box),LyteColorbox.setupForBindings(this),this.addBindings(),this.unbindEventsForSelectors(),(o=this.getSelectorElements()).length>0?(1===o.length&&this.setData("ltPropNavIcon",!1),this.addClickEvents(o,this._className)):console.warn("No selector(s) provided to colorbox.")},utilDivEvents:function(){this.getData("isIframe")?(LyteColorbox._zoomIn=this._zoomIn=null,LyteColorbox._zoomOut=this._zoomOut=null,LyteColorbox._reset=this._reset=null):(LyteColorbox._zoomIn=this._zoomIn=this.childComp.querySelector(".lyteCBoxZoomIn"),LyteColorbox._zoomOut=this._zoomOut=this.childComp.querySelector(".lyteCBoxZoomOut"),LyteColorbox._reset=this._reset=this.childComp.querySelector(".lyteCBoxReset"),LyteColorbox._zoomIn&&(LyteColorbox._zoomIn.addEventListener("click",(function(){LyteColorbox.zoomIn()}),!0),LyteColorbox._zoomIn.setAttribute("tabindex",0),LyteColorbox._zoomIn.setAttribute("aria-label","zoom in"),LyteColorbox._zoomIn.setAttribute("role","button")),LyteColorbox._zoomOut&&(LyteColorbox._zoomOut.addEventListener("click",function(){LyteColorbox.zoomOut(),this.triggerCheck()}.bind(this),!0),LyteColorbox._zoomOut.setAttribute("tabindex",0),LyteColorbox._zoomOut.setAttribute("aria-label","zoom out"),LyteColorbox._zoomOut.setAttribute("role","button")),LyteColorbox._reset&&(LyteColorbox._reset.addEventListener("click",(function(){LyteColorbox.reset(null,!0)}),!0),LyteColorbox._reset.setAttribute("aria-label","reset"),LyteColorbox._reset.setAttribute("tabindex",0),LyteColorbox._reset.setAttribute("role","button")))}.observes("isIframe"),disableCropper:function(){$L(".lyteColorboxHideBtn",LyteColorbox._component.childComp).removeClass("lyteColorboxHideBtn")},removecropper:function(o){if("slide"==LyteColorbox._component.getData("ltPropAnimation"))var t=$L(".lyteCBoxCurrentItem",LyteColorbox._component.childComp)[0];else t=$L(".lyteCBoxCurrentElem",LyteColorbox._component.childComp)[0];(t=t||LyteColorbox._content).style.width="100%",t.style.height="100%",t.style.left="unset",t.style.top="unset",LyteColorbox._thumbDiv&&(LyteColorbox._thumbDiv.style.display="flex"),this.disableCropper();var e=$L(".lyteColorboxCropEnable");if(e.removeClass("lyteColorboxCropEnable"),e.addClass("lyteColorboxCropDisable"),this.getMethods("onCropClose")&&this.executeMethod("onCropClose",LyteColorbox._component.$node),"cancel"==o)this.setData("ColorboxCropImg",!1),$L(".lyteCBoxVisible",t).cropper("destroy"),$L(".lyteCBoxVisible",t)[0].style.display="";else{var l=$L(".lyteCBoxVisible",t),r=l.data("cropper"),n=r.getCroppedImage();l.cropper("destroy"),l[0].style.display="none",LyteColorbox.toggleLoadingIcon();var i,a="image/"+LyteColorbox._related[LyteColorbox._index].lytecboxHref.split(".").pop();this.getMethods("onImageCropped")&&(i=this.executeMethod("onImageCropped",n)),0==i?(this.setData("ColorboxCropImg",!1),$L(".lyteCBoxVisible",t)[0].style.display="inline-block"):i&&i.then?i.then((function(o){"string"==typeof o?(l[0].style.display="block",l.attr({src:o,style:"width:"+r.cropperDimensions.width+"px;height:"+r.cropperDimensions.height+"px;"}),LyteColorbox._related[LyteColorbox._index].lytecboxHref=o):(l[0].style.display="block",LyteColorbox.toggleLoadingIcon(),l.attr({src:n.toDataURL(a),style:"width:"+r.cropperDimensions.width+"px;height:"+r.cropperDimensions.height+"px;"}),LyteColorbox._related[LyteColorbox._index].lytecboxHref=n.toDataURL(a))})):(l[0].style.display="block",LyteColorbox.toggleLoadingIcon(),l.attr({src:n.toDataURL(a),style:"width:"+r.cropperDimensions.width+"px;height:"+r.cropperDimensions.height+"px;"}),LyteColorbox._related[LyteColorbox._index].lytecboxHref=n.toDataURL(a)),$L.fastdom.mutate((function(){LyteColorbox._domEle._offset={height:parseInt(n.getAttribute("height")),width:parseInt(n.getAttribute("width"))}}))}this.getData("ltPropType"),LyteColorbox._el.lytecboxHref=n?n.toDataURL(a):LyteColorbox._el.lytecboxHref},downloadDivEvents:function(){this.getData("download")?(LyteColorbox._download=this._download=this.$node.querySelector(".lyteCBoxDownload"),LyteColorbox._download&&LyteColorbox._download.addEventListener("click",(function(){LyteColorbox.download()}),!0)):LyteColorbox._download=this._download=null}.observes("download"),callOnBeforeOpen:function(o,t){var e;return this.getMethods("onBeforeOpen")&&(e=this.executeMethod("onBeforeOpen",o,this,t)),e},callOnOpen:function(){this.getMethods("onOpen")&&this.executeMethod("onOpen",this)},callOnLoad:function(){this.getMethods("onLoad")&&this.executeMethod("onLoad",arguments[0],arguments[1],this,this.getData("ltPropAddOrientation")?arguments[2]:null)},callOnComplete:function(){this.getMethods("onComplete")&&this.executeMethod("onComplete",arguments[0],arguments[1],this)},callOnFailure:function(){this.getMethods("onFailure")&&this.executeMethod("onFailure",arguments[0],arguments[1],this,arguments[2])},getSelectorElements:function(){for(var o=this.getData("ltPropSelectors"),t=[],e=0;e<o.length;e++)Lyte.arrayUtils(t,"push",Array.from(document.querySelectorAll(o[e])));return t},unbindEventsForSelectors:function(){var o=document.querySelectorAll("."+this._boxElement);if(o.length>0)for(var t=0;t<o.length;t++)o[t].removeEventListener("click",this.clickHandler,!0),o[t].classList.remove(this._boxElement),delete o[t]._className;this.setData("currentEle",null)},callOnClose:function(){this.getMethods("onClose")&&this.executeMethod("onClose",this)},didDestroy:function(){LyteColorbox._first||0!=$L("lyte-colorbox").length||(window.removeEventListener("resize",LyteColorbox.computeOffsetImpl),LyteColorbox._first=!0),this.unbindEventsForSelectors(),delete this.childComp,this._box._callee=null,LyteColorbox._box&&(LyteColorbox._box._callee=null),LyteColorbox._component=null,this._box.remove(),this._header&&(this._header=null),LyteColorbox._box=this._box=null,LyteColorbox._prev=this._prev=null,LyteColorbox._next=this._next=null,LyteColorbox._content=this._content=null,LyteColorbox._overlay=this._overlay=null,LyteColorbox._title=this._title=null,LyteColorbox._close=this._close=null,LyteColorbox._download=this._download=null,LyteColorbox._thumbDiv=this._thumbDiv=null,LyteColorbox._description=this._description=null,LyteColorbox._zoomIn=this._zoomIn=null,LyteColorbox._zoomOut=this._zoomOut=null,LyteColorbox._reset=this._reset=null,LyteColorbox._loadingIcon=this._loadingIcon=null,LyteColorbox._domEle=null,LyteColorbox._el=null,LyteColorbox._boxEle=this._boxElement=null,LyteColorbox._open=null,LyteColorbox._active=null,LyteColorbox._closing=null,LyteColorbox._related=null,LyteColorbox._diff=0,document.body.classList.remove("lyteCBoxOH")},clickHandler:function(o){o.which>1||o.shiftKey||o.altKey||o.metaKey||o.ctrlKey||(o.preventDefault(),LyteColorbox.setupForBindings(document.querySelector("."+this._className)._callee.component),LyteColorbox.launch(LyteColorbox.getProperties(this),o))},checkBeforeClose:function(o){var t;this.getMethods("onBeforeClose")&&(t=this.executeMethod("onBeforeClose",o,this)),void 0!==t&&!0!==t||LyteColorbox.close()},addBindings:function(){return!!LyteColorbox._box&&(this._init||(this._init=!0,LyteColorbox._component.getData("ltPropType"),LyteColorbox._content,LyteColorbox._next&&LyteColorbox._next.addEventListener("click",(function(o){LyteColorbox.next(o)}),!0),LyteColorbox._prev&&LyteColorbox._prev.addEventListener("click",(function(o){LyteColorbox.prev(o)}),!0),LyteColorbox._close&&LyteColorbox._close.addEventListener("click",function(o){this.checkBeforeClose(o)}.bind(this),!0),LyteColorbox._overlay&&LyteColorbox._overlay.addEventListener("click",function(o){LyteColorbox._component.getData("ltPropOverlayClose")&&this.checkBeforeClose(o)}.bind(this),!0),LyteColorbox._crop&&this.getData("ltPropCrop")&&LyteColorbox._crop.addEventListener("click",(function(){LyteColorbox.crop()}),!0),LyteColorbox._download&&LyteColorbox._download.addEventListener("click",(function(){LyteColorbox.download()}),!0),LyteColorbox._zoomIn&&LyteColorbox._zoomIn.addEventListener("click",(function(){LyteColorbox.zoomIn()}),!0),LyteColorbox._zoomOut&&LyteColorbox._zoomOut.addEventListener("click",function(){LyteColorbox.zoomOut(),this.triggerCheck()}.bind(this),!0),LyteColorbox._reset&&LyteColorbox._reset.addEventListener("click",(function(){LyteColorbox.reset(null,!0)}),!0),LyteColorbox._content&&this.data.ltPropWheelZoom&&LyteColorbox._content.addEventListener("wheel",LyteColorbox.wheel.bind(LyteColorbox),!0),LyteColorbox._content&&(LyteColorbox._content.addEventListener("mousedown",function(o){this.mousedownFn(o)}.bind(this),!0),LyteColorbox._content.addEventListener("touchstart",function(o){this.mousedownFn(o)}.bind(this),!0)),LyteColorbox._boundKeydown||(LyteColorbox._boundKeydown=!0,document.body.addEventListener("keyup",(function(o){LyteColorbox._intervalId&&(clearInterval(LyteColorbox._intervalId),LyteColorbox._intervalId=!1)}),!0),document.body.addEventListener("keydown",(function(o){var t=o.keyCode;if(LyteColorbox._open&&LyteColorbox._component.getData("ltPropEscKey")&&27===t){if(LyteColorbox._crop&&LyteColorbox._component.getData("ltPropCrop"))"none"===window.getComputedStyle(LyteColorbox._crop).display?LyteColorbox._component.$node.crop("cancel"):(o.preventDefault(),LyteColorbox._component.checkBeforeClose(o));else o.preventDefault(),LyteColorbox._component.checkBeforeClose(o);LyteColorbox._content.focus()}if(LyteColorbox._open&&LyteColorbox._component.getData("ltPropArrowKey")&&LyteColorbox._related[1]&&!o.altKey){if(LyteColorbox._crop&&LyteColorbox._component.getData("ltPropCrop"))if("none"===window.getComputedStyle(LyteColorbox._crop).display)return;if(37===t){if(LyteColorbox._intervalId)return;if(LyteColorbox._intervalId=setInterval((function(){LyteColorbox._intervalId=!1}),100),"INPUT"===(e=o.target).tagName||"TEXTAREA"===e.tagName||e.isContentEditable)return;o.preventDefault(),(LyteColorbox._prev||LyteColorbox._related instanceof Array&&LyteColorbox._related.length>1)&&LyteColorbox.prev(o),LyteColorbox._content.focus()}else if(39===t){if(LyteColorbox._intervalId)return;var e;if(LyteColorbox._intervalId=setInterval((function(){LyteColorbox._intervalId=!1}),100),"INPUT"===(e=o.target).tagName||"TEXTAREA"===e.tagName||e.isContentEditable)return;o.preventDefault(),(LyteColorbox._next||LyteColorbox._related instanceof Array&&LyteColorbox._related.length>1)&&LyteColorbox.next(o),LyteColorbox._content.focus()}}if(LyteColorbox._open&&13===t){var l=document.activeElement;"button"===l.getAttribute("role")&&l.click()}}),!0)),LyteColorbox._boundResize||(LyteColorbox._boundResize=!0,window.addEventListener("resize",(function(){LyteColorbox._open&&(LyteColorbox._domEle&&LyteColorbox._domEle.classList.contains("lyteCBoxPhoto")&&LyteColorbox.checkAspectRatio(),LyteColorbox.setImagePostion(),LyteColorbox._diff=0)}),!0))),!0)},addClickEvents:function(o,t){for(var e=0;e<o.length;e++)o[e].addEventListener("click",this.clickHandler,!0),o[e].classList.add(this._boxElement),o[e]._className=t},triggerCheck:function(o){LyteColorbox._domEle.addEventListener("transitionend",LyteColorbox.checkForLeftAndTopAfterZoomOut)},mousedownFn:function(o){var t=null;if(3!==o.which){for(var e=o.target;e;){if($L(e).hasClass("lyteCBoxPhoto")){t=e;break}e=e.parentElement}if(t){navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&o.preventDefault(),t.classList.contains("lyteCBoxAnimateOnUp")&&t.classList.remove("lyteCBoxAnimateOnUp");var l=t.parentElement.getBoundingClientRect(),r=t.getBoundingClientRect();(r.top<l.top||r.left<l.left||r.bottom>l.bottom||r.right>l.right)&&((r.top<l.top||r.bottom>l.bottom)&&(t._top=!0),(r.left<l.left||r.right>l.right)&&(t._left=!0),"touchstart"==o.type?(t._offset.x=o.touches[0].clientX,t._offset.y=o.touches[0].clientY,document.addEventListener("touchmove",LyteColorbox.mm=function(o){this.mousemoveFn(o)}.bind(this)),document.addEventListener("touchend",LyteColorbox.mu=function(o){this.mouseupFn(o)}.bind(this))):(t._offset.x=o.clientX,t._offset.y=o.clientY,document.addEventListener("mousemove",LyteColorbox.mm=function(o){this.mousemoveFn(o)}.bind(this)),document.addEventListener("mouseup",LyteColorbox.mu=function(o){this.mouseupFn(o)}.bind(this)))),LyteColorbox._draggedEle=t}}},mousemoveFn:function(o){if(LyteColorbox._draggedEle){var t,e=LyteColorbox._draggedEle;o.preventDefault(),t="touchmove"==o.type?{x:o.touches[0].clientX,y:o.touches[0].clientY}:{x:o.clientX,y:o.clientY};e.offsetParent.getBoundingClientRect();var l=t.x-e._offset.x,r=t.y-e._offset.y;e._left&&(e.style.left=parseFloat(e.style.left||0)+l+"px"),e._top&&(e.style.top=parseFloat(e.style.top||0)+r+"px"),e._offset.x=t.x,e._offset.y=t.y}},mouseupFn:function(o){if("touchend"==o.type?(document.removeEventListener("touchmove",LyteColorbox.mm),document.removeEventListener("touchend",LyteColorbox.mu)):(document.removeEventListener("mousemove",LyteColorbox.mm),document.removeEventListener("mouseup",LyteColorbox.mu)),delete LyteColorbox.mm,delete LyteColorbox.mu,LyteColorbox._draggedEle){var t,e=LyteColorbox._draggedEle,l=e.parentElement.getBoundingClientRect(),r=e.getBoundingClientRect();e._left&&(e.classList.add("lyteCBoxAnimateOnUp"),r.left>l.left&&(t=r.left-l.left,e.style.left=parseFloat(e.style.left||0)-t+"px"),r.right<l.right&&(t=l.right-r.right,e.style.left=parseFloat(e.style.left||0)+t+"px")),e._top&&(e.classList.contains("lyteCBoxAnimateOnUp")||e.classList.add("lyteCBoxAnimateOnUp"),r.top>l.top&&(t=r.top-l.top,e.style.top=parseFloat(e.style.top||0)-t+"px"),r.bottom<l.bottom&&(t=l.bottom-r.bottom,e.style.top=parseFloat(e.style.top||0)+t+"px")),e=null,delete LyteColorbox._draggedEle}},moveToImage:function(o){for(var t=this.getData("ltPropType"),e=0,l=o.target;l.parentElement&&!l.classList.contains("lyteColorboxThumb");)l=l.parentElement;if(l.classList.contains("lyteColorboxThumb")){for(var r=Array.from(l.parentElement.children).filter((function(o){return"TEMPLATE"!=o.tagName})),n=0;n<r.length;n++)r[n].isEqualNode(l)&&(n>LyteColorbox._index?(e=1,!LyteColorbox._active&&LyteColorbox._related[1]&&(LyteColorbox._component.getData("ltPropLoop")||LyteColorbox._related[LyteColorbox._index+1])&&("slide"!=LyteColorbox._component.getData("ltPropAnimation")?LyteColorbox.hideElement():LyteColorbox._nextItem=!0,LyteColorbox.toggleLoadingIcon(),"custom"===t&&LyteColorbox.reset(),LyteColorbox._index=n,LyteColorbox._domEle=null,LyteColorbox.load(LyteColorbox._el=LyteColorbox._related[LyteColorbox._index]))):n<LyteColorbox._index&&(e=-1,!LyteColorbox._active&&LyteColorbox._related[1]&&(LyteColorbox._component.getData("ltPropLoop")||LyteColorbox._index)&&("slide"!=LyteColorbox._component.getData("ltPropAnimation")?LyteColorbox.hideElement():LyteColorbox._prevItem=!0,LyteColorbox.toggleLoadingIcon(),"custom"===t&&LyteColorbox.reset(),LyteColorbox._index=n,LyteColorbox._domEle=null,LyteColorbox.load(LyteColorbox._el=LyteColorbox._related[LyteColorbox._index]))));this.getMethods("onNavigate")&&this.executeMethod("onNavigate",o,this.$node,LyteColorbox._index+1,e)}},actions:{clickOnThumbnails:function(o){var t,e=this;this.getMethods("onBeforeNavigate")&&(t=this.executeMethod("onBeforeNavigate",o,this.$node,LyteColorbox._index)),t?t.then((function(){e.moveToImage(o)})):this.moveToImage(o)}}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(o){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),e=t.length>>>0;if("function"!=typeof o)throw new TypeError("predicate must be a function");for(var l=arguments[1],r=0;r<e;){var n=t[r];if(o.call(l,n,r,t))return r;r++}return-1},configurable:!0,writable:!0});
