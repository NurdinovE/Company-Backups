Lyte.Component.register("crm-custom-outer-box",{_template:'<template tag-name="crm-custom-outer-box"> <template is="if" value="{{expHandlers(featureName,\'!==\',\'CHARTVIEWS\')}}"><template case="true"> <div id="zCpqTabLayer" data-zcqa="zcpqtab"> <template is="if" value="{{enableCpqTab}}"><template case="true"><crm-cpqconfiguratorslist cpq-tabs="{{cpqobj.cpqTabs}}" cpq-sub-tabs="{{cpqobj.cpqSubTabs}}" cpq-tab-selected="{{cpqobj.cpqTabSelected}}"></crm-cpqconfiguratorslist></template></template> </div> </template></template> <div id="tagPopUpShowFromQA"></div> <div class="outerElem newListviewRevamp {{if(clientAccount,\'newListviewRevampPortal\',\'\')}} {{if(hideGreyArea,\'nLvcanvasView\',\'\')}} {{if(module_info.zia_view,\'nLZiaViewTable\',\'\')}} {{if(expHandlers(ifEquals(module_name,\'Visits\'),\'&amp;&amp;\',begin_page),\'nLvVisitBP\',\'\')}} {{module_name}} {{if(startsWith(module_name,\'Orchestration\'),\'nLvOrchModule\')}}"> <input type="hidden" name="cvid" id="cvid" value="{{cvid}}"> <input type="hidden" name="module" value="{{module_name}}"> <div id="imageLoading" style="display: none; position: absolute; top: 350px; left: 860px; z-index:25"></div> <div id="gCalMessageDiv" style="position: absolute; top: 0px; left: 0px;z-index:22; width:450px; display:none"></div> <template is="if" value="{{expHandlers(clientAccount,\'!\')}}"><template case="true"> <div id="customizedViewMenu" class="cvMenu dN" data-close="true"></div> </template></template> <template is="if" value="{{expHandlers(featureName,\'!==\',\'CHARTVIEWS\')}}"><template case="true"> <div id="cpqdashboard" data-zcqa="cpqdashboard"> <template is="if" value="{{expHandlers(expHandlers(module_name,\'==\',\'Quotes\'),\'&amp;&amp;\',isCpqDashboardVisible())}}"><template case="true"><crm-cpqdashboard></crm-cpqdashboard></template></template> </div> </template></template> <div class="cvpadding cvbtnAnimate" id="cvpadding"> <crm-customview-layer custom-method-implemented="{{customMethodImplemented}}" fetch-count-values="{{fetchCountValues}}" show_loading="{{show_count_loading}}" module_per_page="{{module_per_page}}" warning-note="{{warningNote}}" handle-sort-action="{{method(\'handleSortAction\')}}" cv_sys_name="{{cv_sys_name}}" parent_comp="crm-list-view" custom-message="{{customMessage}}" cv_name="{{cv_name}}" custom_buttons="{{layerBtn}}" class="dB {{if(showCvButtons(selectedIds,),\'vH\')}}" selected-ids="{{selectedIds}}" module="{{module_name}}" search_letter="{{search_letter}}" begin_page="{{begin_page}}" portals="{{portals}}" actions="{{module_info.actions}}" cvid="{{cvid}}" module_info="{{module_info}}" portal-name="{{portalName}}" screen-name="{{screenName}}" is-from-modal="{{isFromModal}}" feature-name="{{featureName}}" query-params="{{lbind(queryParams)}}" total_count="{{lbind(total_count)}}" sorted_column="{{sorted_column}}" applied_filters="{{lbind(applied_filters)}}" is-filter-active="{{lbind(isFilterActive)}}" more_records="{{more_records}}" page="{{page}}" record-count="{{if(expHandlers(viewType,\'===\',\'list\'),customview_records.length)}}" show-filter="{{showCustomFilter}}" sort-fields="{{sortFields}}" single-layout="{{singleLayout}}" layouts="{{Layouts}}" show-pipeline="{{showPipeline}}" pipelines="{{Pipelines}}" kv_cust_perm="{{isCustomizationPermissionAvailable}}" kanban-view-name="{{kanbanViewName}}" error="{{error}}" show-alpha-sort="{{showAlphaSort}}" hide-grey-area="{{hideGreyArea}}" show-kv-settings="{{showKvSettings}}" feature-object="{{featureObject}}" saved-filters="{{saved_filters}}" chart_sortby_enabled="{{chart_sortby_enabled}}" chart_sorted_column="{{lbind(chart_sorted_column)}}" listfields="{{listfields}}" cscript_restricted_actions="{{lbind(cscript_restricted_actions)}}" show-group-by="{{showGroupBy}}"> </crm-customview-layer> <div id="listviewButtonLayer" class="listviewButtonLayer" style="{{if(showCvButtons(selectedIds),&quot;visibility: visible;&quot;,&quot;visibility: hidden&quot;)}}"> <template is="if" value="{{expHandlers(selectedIds.length,\'&amp;&amp;\',expHandlers(cvbtnRendered,\'!\'))}}"><template case="true"> <crm-customview-buttons frominitial="true" module="{{module_name}}" parent_comp="crm-list-view" total_count="{{total_count}}" selected-ids="{{selectedIds}}" start_index="{{startIndex}}" page="{{lbind(page)}}" actions="{{module_info.actions}}" more_records="{{more_records}}" is-from-modal="{{isFromModal}}" feature-name="{{featureName}}" query-params="{{lbind(queryParams)}}" cscript_restricted_actions="{{lbind(cscript_restricted_actions)}}"></crm-customview-buttons> </template></template> </div> </div> <template is="if" value="{{expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(module,\'==\',&quot;Tasks&quot;),\'||\',expHandlers(module,\'==\',&quot;Calls&quot;)),\'||\',expHandlers(module,\'==\',&quot;Events&quot;)),\'&amp;&amp;\',expHandlers(viewType,\'==\',&quot;kanban&quot;)),\'&amp;&amp;\',expHandlers(activityKanbanViewDeprecationDate,\'!=\',&quot;&quot;)),\'&amp;&amp;\',expHandlers(activityKanbanViewDeprecationDate,\'!=\',&quot;false&quot;))}}"><template case="true"> <div class="dF crmWarningSection mL30 mR40 mT17"> <span class="zcicncss-warning-triangle-lg zcicn-cssIcons zcicn_yellow_mask mR5"></span> <span class="dIB mT2 pR5 actKanbanViewDep"> <template is="if" value="{{expHandlers(getI18n(\'crm.activity.kanban.view.deprecation.banner.message\'),\'===\',&quot;crm.activity.kanban.view.deprecation.banner.message&quot;)}}"><template case="true"> We\'re enhancing the Kanban view experience for the Activities modules with customization options. As part of this process, we\'ll be deprecating the current Kanban view starting from {{activityKanbanViewDeprecationDate}}. </template><template case="false"> {{getI18n(\'crm.activity.kanban.view.deprecation.banner.message\',activityKanbanViewDeprecationDate)}} </template></template> <span class="crmLinkColor dIB mT2 cP" onclick="{{action(\'learnMore\')}}">{{getI18n(\'activity.banner.knowmore\')}}</span> </span> </div> </template></template> <template is="if" value="{{expHandlers(module_name,\'==\',&quot;Visits&quot;)}}"><template case="true"> <div id="visits_parent_div" class="kanbanvisitscontainer pR oH"></div> </template></template> <div id="idForCV" class="idForCV pT0"> <template is="if" value="{{expHandlers(begin_page,\'!\')}}"><template case="true"> <template is="if" value="{{showCustomFilter}}"><template case="true"> <crm-custom-filter is-blocked-reason="{{lbind(isBlockedReason)}}" class="fL" module="{{module_name}}" saved-filters="{{lbind(saved_filters)}}" filter-query-params="{{filterQueryParams}}" is-from-modal="{{isFromModal}}" feature-name="{{featureName}}" query-params="{{lbind(queryParams)}}" feature-object="{{featureObject}}" abm-module-info="{{abmModuleInfo}}" related-modules="{{relatedModules}}"></crm-custom-filter> </template></template> <template is="if" value="{{expHandlers(viewConfig.type,\'===\',\'CanvasView\')}}"><template case="true"> <div id="viewcontainer" class="viewcontainer canvas-listview-container fL vaT newListOLY pR {{if(showCustomFilter,if(isFilterActive,\'filterOn\'),\'\')}}"> <div class="canvas-list-view-container-wrapper"> <crm-list-view-canvas cv_sys_name="{{cv_sys_name}}" view-type="{{lbind(viewConfig.subtype)}}" id="crm-list-view-canvas-comp" selected-ids="{{selectedIds}}" custom_view_id="{{cvid}}" view-id="{{viewConfig.view}}" module_info="{{module_info}}" listfields="{{listfields}}" customview_records="{{lbind(customview_records)}}" list_cv_btn="{{list_cv_btn}}" module="{{module}}" more_records="{{more_records}}" page="{{lbind(page)}}" start_index="{{startIndex}}" total_count="{{total_count}}"></crm-list-view-canvas> </div> </div> </template><template case="false"> <div id="viewcontainer" class="viewcontainer fL vaT newListOLY pR {{if(ifEquals(viewType,\'timeline\'),\'crm-tv-viewcontainer\',\'\')}} {{if(showCustomFilter,if(isFilterActive,\'filterOn\'),\'\')}} {{if(module_info.kanban_view,\'nLkanbanTableView\',\'\')}} {{if(expHandlers(expHandlers(showApiKanbanView,\'&amp;&amp;\',expHandlers(viewType,\'===\',\'kanban\')),\'&amp;&amp;\',expHandlers(errorOnModel,\'!\')),\'new-kv-revamp\',\'\')}}" role="main" lt-prop-landmark="true" tabindex="-1" lt-prop-landmark-label="{{getI18n(\'crm.landmark.main\',\'â€‹crm.accessibility.record.view2\')}}" aria-label="{{getI18n(\'crm.accessibility.record.view2\')}}"> <template is="if" value="{{negate(ifEquals(viewType,\'timeline\'))}}"><template case="true"><div class="cornerLeftTop pA"></div></template></template> <template is="if" value="{{negate(ifEquals(viewType,\'timeline\'))}}"><template case="true"><div class="cornerLeftBottom pA"></div></template></template> <template is="if" value="{{expHandlers(errorOnModel,\'!\')}}"><template case="true"><template is="switch" value="{{viewType}}"><template case="list"> <crm-view-container manage_columns_visible="{{manage_columns_visible}}" custom-method-implemented="{{customMethodImplemented}}" is-pin-unpin-supported="{{isPinUnpinSupported}}" render-without-custom-view="{{renderWithoutCustomView}}" save-button-literal="{{saveButtonLiteral}}" manage-column-disable-literal="{{manageColumnDisableLiteral}}" show-last-added-note="{{showLastAddedNote}}" hide-activity-badge="{{hideActivityBadge}}" show-activity-quick-create="{{showActivityQuickCreate}}" show-filter-by="{{showFilterBy}}" show-note="{{showNote}}" is-blocked-reason="{{isBlockedReason}}" reset_scroll="{{reset_scroll}}" cv_sys_name="{{cv_sys_name}}" no_record_message="{{no_record_message}}" module_info="{{module_info}}" listfields="{{listfields}}" customview_records="{{customview_records}}" list_cv_btn="{{list_cv_btn}}" related_lists="{{related_lists}}" module="{{module_name}}" more_records="{{more_records}}" page="{{lbind(page)}}" start_index="{{startIndex}}" total_count="{{total_count}}" selected-ids="{{selectedIds}}" is-from-modal="{{isFromModal}}" feature-name="{{featureName}}" query-params="{{lbind(queryParams)}}" is-resize-enabled="{{isResizeEnabled}}" is-clip-wrap-enabled="{{isClipWrapEnabled}}" show-manage-column="{{showManageColumn}}" begin_page="{{begin_page}}" search_letter="{{search_letter}}" search_field="{{search_field}}" clip_mode="{{lbind(clip_mode)}}" feature-object="{{featureObject}}" module-actions-menu="{{moduleActionsMenu}}" persist-pin-update="{{persistPinUpdate}}" persist-width-update="{{persistWidthUpdate}}" persist-wrap-update="{{persistWrapUpdate}}" persist-manage-columns="{{persistManageColumns}}" on-select-entity="{{method(\'selectRecord\')}}" on-select-all-entities="{{method(\'selectAllRecords\')}}"></crm-view-container> </template><template case="kanban"><template is="if" value="{{showApiKanbanView}}"><template case="true"> <crm-kanbanview-component cv-id="{{cvid}}" module-info="{{module_info}}" kanban-id="{{kanbanId}}" module="{{module}}" selected-ids="{{selectedIds}}" aggregate-request="{{aggregateRequest}}" query-param-object="{{queryParamObject}}" all-category-list="{{allCategoryList}}" category-list="{{categoryList}}" category-map="{{categoryMap}}" sort-order-string="{{sortOrderString}}" sort-column-string="{{sortColumnString}}" layout-id="{{layoutId}}" selected-fields="{{selectedFields}}" category-field="{{categoryField}}" kanbanview-currency-symbol="{{kanbanviewCurrencySymbol}}" sortable="{{sortable}}" collapse-stages="{{collapseStages}}" hide-create-rec-footer="{{hideCreateRecFooter}}"></crm-kanbanview-component> </template></template></template><template case="chart"> <crm-chart-view module="{{module}}" module-info="{{module_info}}" chart_sortby_enabled="{{lbind(chart_sortby_enabled)}}" chart_sorted_column="{{lbind(chart_sorted_column)}}"></crm-chart-view> </template><template case="timeline"> <crm-timeline-view module="{{module}}" cv-id="{{cvid}}" module-info="{{module_info}}" timeline-records="{{customview_records}}" more-records="{{more_records}}" user-config-props="{{viewConfig}}" grouping-info="{{groupingInfo}}" show-group-by="{{showGroupBy}}"></crm-timeline-view> </template></template></template><template case="false"><template is="if" value="{{errorHTML}}"><template case="true"> <div id="cvErrorPage">{{unescape(errorHTML)}}</div> </template></template></template></template> </div> </template></template> <div class="cBoth"></div> </template></template> </div> </div> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"componentDynamic",position:[0]}]}},default:{}}]}},default:{}},{type:"attr",position:[5]},{type:"attr",position:[5,1]},{type:"attr",position:[5,3]},{type:"attr",position:[5,9]},{type:"if",position:[5,9],cases:{true:{dynamicNodes:[]}},default:{}},{type:"attr",position:[5,11]},{type:"if",position:[5,11],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"componentDynamic",position:[0]}]}},default:{}}]}},default:{}},{type:"attr",position:[5,13,1]},{type:"componentDynamic",position:[5,13,1]},{type:"attr",position:[5,13,3],attr:{style:{name:"style",helperInfo:{name:"if",args:[{type:"helper",value:{name:"showCvButtons",args:["selectedIds"]}},"'visibility: visible;'","'visibility: hidden'"]}}}},{type:"attr",position:[5,13,3,1]},{type:"if",position:[5,13,3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[5,15]},{type:"if",position:[5,15],cases:{true:{dynamicNodes:[{type:"attr",position:[1,3,1]},{type:"if",position:[1,3,1],cases:{true:{dynamicNodes:[{type:"text",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1]}]}},default:{}},{type:"attr",position:[1,3,3]},{type:"text",position:[1,3,3,0]}]}},default:{}},{type:"attr",position:[5,17]},{type:"if",position:[5,17],cases:{true:{dynamicNodes:[]}},default:{}},{type:"attr",position:[5,19,1]},{type:"if",position:[5,19,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"componentDynamic",position:[1,1,1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[]}},default:{}},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[]}},default:{}},{type:"attr",position:[1,5]},{type:"if",position:[1,5],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"switch",position:[0],cases:{list:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},kanban:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}}]},chart:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},timeline:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}],_observedAttributes:["module_name","cvid","selectedIds","prevSelectedId","module_info","abmModuleInfo","viewType","errorOnModel","list_cv_btn","begin_page","portalName","cv_sys_name","clientAccount","showCustomFilter","manage_columns_visible","isBlockedReason","page","listfields","reset_scroll","no_record_message","customview_records","list_cv_btn","related_lists","more_records","startIndex","total_count","saved_filters","filterQueryParams","cscript_restricted_actions","cv_name","layerBtn","search_letter","isFromModal","featureName","queryParams","customMessage","isFilterActive","sorted_column","chart_sortby_enabled","chart_sorted_column","restrictedCustomButtons","featureObject","isClipWrapEnabled","isResizeEnabled","showManageColumn","applied_filters","isCustomizationPermissionAvailable","error","Layouts","sortFields","kanbanViewName","sortOrderString","sortColumnString","layoutId","pipeline","queryParamObject","aggregateRequest","isStageView","selectedFields","categoryField","showApiKanbanView","moduleActionsMenu","new_list_view","viewConfig","relatedModules","isNextGenUIEnabled","persistPinUpdate","persistWrapUpdate","persistWidthUpdate","persistManageColumns","renderWithoutCustomView","saveButtonLiteral","manageColumnDisableLiteral","warningNote","isPinUnpinSupported","fetchCountValues","show_count_loading","module_per_page","customMethodImplemented","activityKanbanViewDeprecationDate","hideCreateRecFooter","groupingInfo","showGroupBy"],data:function(){return{module_name:Lyte.attr("string"),cvid:Lyte.attr("string"),selectedIds:Lyte.attr("array",{default:[]}),prevSelectedId:Lyte.attr("string"),module_info:Lyte.attr("object"),abmModuleInfo:Lyte.attr("object"),viewType:Lyte.attr("string"),errorOnModel:Lyte.attr("boolean"),list_cv_btn:Lyte.attr("array"),begin_page:Lyte.attr("boolean",{default:!1}),portalName:Lyte.attr("string"),cv_sys_name:Lyte.attr("string"),clientAccount:Lyte.attr("boolean"),showCustomFilter:Lyte.attr("boolean",{default:!0}),manage_columns_visible:Lyte.attr("boolean",{default:!0}),isBlockedReason:Lyte.attr("boolean",{default:!1}),page:Lyte.attr("number"),listfields:Lyte.attr("array",{default:[]}),reset_scroll:Lyte.attr("boolean"),no_record_message:Lyte.attr("string",{default:""}),customview_records:Lyte.attr("array",{default:[]}),list_cv_btn:Lyte.attr("array",{default:[]}),related_lists:Lyte.attr("array",{default:[]}),more_records:Lyte.attr("boolean"),startIndex:Lyte.attr("number"),total_count:Lyte.attr("number"),saved_filters:Lyte.attr("array",{default:[]}),filterQueryParams:Lyte.attr("object",{default:{}}),cscript_restricted_actions:Lyte.attr("object",{default:new Set}),cv_name:Lyte.attr("string"),layerBtn:Lyte.attr("array",{default:[]}),search_letter:Lyte.attr("string",{default:""}),isFromModal:Lyte.attr("boolean",{default:!1}),featureName:Lyte.attr("string"),queryParams:Lyte.attr("object",{default:{}}),customMessage:Lyte.attr("string",{default:""}),isFilterActive:Lyte.attr("boolean",{default:!0}),sorted_column:Lyte.attr("string",{default:""}),chart_sortby_enabled:Lyte.attr("boolean"),chart_sorted_column:Lyte.attr("string"),restrictedCustomButtons:Lyte.attr("array",{default:[]}),featureObject:Lyte.attr("object",{default:{}}),isClipWrapEnabled:Lyte.attr("boolean",{default:!1}),isResizeEnabled:Lyte.attr("boolean",{default:!1}),showManageColumn:Lyte.attr("boolean",{default:!0}),applied_filters:Lyte.attr("string",{default:""}),isCustomizationPermissionAvailable:Lyte.attr("boolean",{default:!1}),error:Lyte.attr("boolean",{default:!1}),Layouts:Lyte.attr("array",{default:[]}),sortFields:Lyte.attr("array",{default:[]}),kanbanViewName:Lyte.attr("string",{default:""}),sortOrderString:Lyte.attr("string",{default:""}),sortColumnString:Lyte.attr("string",{default:""}),layoutId:Lyte.attr("string",{default:""}),pipeline:Lyte.attr("string",{default:""}),queryParamObject:Lyte.attr("object",{default:{}}),aggregateRequest:Lyte.attr("object",{default:{}}),isStageView:Lyte.attr("boolean",{default:!1}),selectedFields:Lyte.attr("array",{default:[]}),categoryField:Lyte.attr("object",{default:{}}),showApiKanbanView:Lyte.attr("boolean",{default:!0}),moduleActionsMenu:Lyte.attr("array",{default:[]}),new_list_view:Lyte.attr("boolean",{default:!1}),viewConfig:Lyte.attr("object"),relatedModules:Lyte.attr("array",{default:[]}),isNextGenUIEnabled:Lyte.attr("boolean",{default:!!featuresAvailable.NEXTGENUI_ENABLED}),persistPinUpdate:Lyte.attr("boolean",{default:!0}),persistWrapUpdate:Lyte.attr("boolean",{default:!0}),persistWidthUpdate:Lyte.attr("boolean",{default:!0}),persistManageColumns:Lyte.attr("boolean",{default:!0}),renderWithoutCustomView:Lyte.attr("boolean",{default:!1}),saveButtonLiteral:Lyte.attr("string"),manageColumnDisableLiteral:Lyte.attr("string",{default:"crm.listview.customview.locked"}),warningNote:Lyte.attr("string"),isPinUnpinSupported:Lyte.attr("boolean",{default:!0}),fetchCountValues:Lyte.attr("boolean",{default:Crm.userDetails.fetchCountValues}),show_count_loading:Lyte.attr("boolean"),module_per_page:Lyte.attr("number"),customMethodImplemented:Lyte.attr("boolean",{default:!1}),activityKanbanViewDeprecationDate:Lyte.attr("string",{default:""}),hideCreateRecFooter:Lyte.attr("boolean",{default:!1}),groupingInfo:Lyte.attr("object",{default:{}}),showGroupBy:Lyte.attr("boolean",{default:!1})}},init:function(){this.setData("clientAccount",!(void 0===window.clientPortalName||!window.clientPortalName)),-1!==["Activities","Visits"].indexOf(this.data.module_name)&&this.setData("showApiKanbanView",!1)},didConnect:function(){this.containerStyling(this.getData("module_name"));var e=$L("crm-custom-outer-box"),t=e.length?e[0].component:void 0;t&&(t._resize=t.resize.bind(this),t.debounceResizeListener=$L.debounce((function(){t._resize()}),50),window.addEventListener("resize",t.debounceResizeListener,!0),t._resize())},didDestroy:function(){var e=this;e&&(window.removeEventListener("resize",e.debounceResizeListener,!0),e.debounceResizeListener=void 0,e._resize=void 0)},resize:function(){var e=$L("crm-custom-outer-box"),t=e.length?e[0].component:void 0;t&&t.getData("isNextGenUIEnabled")&&t.cvErrorPageHeight()},cvErrorPageHeight:function(){var e=$L("#cvErrorPage"),t=$L(window).innerHeight(),a=$L("#wmstoolbar"),o=a.length>0?a.outerHeight():28;if(e&&e.length>0){var i=t-(e.offset().top+o+20);e.css({height:i,overflow:"auto"})}},containerStyling:function(e){var t=$L(".cvBtnHeader").hasClass("topFixed");if("Potentials"!=e&&"Visits"!=e||Crm.trackSpotLightAction(e+" - Page Visited"),t){var a=$L("#cvpadding").outerHeight();$L(window).scrollTo(0,a)}else null==Crm.latestEntId&&$L(window).scrollTo(0,0);var o=moduleRecordMapping[e].filter_status?"calc(100% - 303px)":"100%";(moduleRecordMapping.Activities.kanban_view&&("Activities"==e||"Tasks"==e||"Calls"==e||"Events"==e)||"Visits"==e&&this.getData("module_info").kanban_view)&&(o="100%"),$L("#viewcontainer").css({width:o}),$L("#lv_left_filter").css({display:""})},showFilter:function(){var e=this.getData("module_name");moduleRecordMapping[e].kanban_view&&("Activities"==e||"Tasks"==e||"Calls"==e||"Events"==e)||"Visits"==e&&moduleRecordMapping[e].kanban_view?this.setData("showCustomFilter",!1):this.setData("showCustomFilter",!0)},methods:{selectAllRecords:function(){var e=$L("crm-inner-list")[0];e&&e.component.selectAllEntity()},selectRecord:function(e,t){var a=$L("crm-inner-list")[0];a&&a.component.selectedEntity(e,t)}},actions:{learnMore:function(){var e=RebrandLinkUtil.getProperty("CRM_RESOURCES_COMMUNITY").includes("zoho-crm")?RebrandLinkUtil.getProperty("CRM_RESOURCES_COMMUNITY").split("zoho-crm")[0]+"topic/important-changes-to-kanban-view-for-meetings-calls-tasks-and-appointments-modules":"";openHelp(e)}}},{mixins:["crm-view-utils","crm-open-help"]}),Lyte.Component.registerHelper("showCvButtons",(function(e){return!$L("crm-voc-component").length&&!!e.length})),Lyte.Component.register("crm-customview-layer",{_template:'<template tag-name="crm-customview-layer"> <div id="manageviewspopup"></div> <div id="kanbansettingpopup"></div> <div id="kiosk_output_popup" class="kiosk_output_popup"></div> <div id="cv_anomaly_result_container"></div> <div id="taskMarkAsCompletePopup"></div> <div class="zspopcontainer"> <lyte-popover on-close="{{method(\'close_sheetmsg\')}}" lt-prop-show="{{show_sheet_modal}}" lt-prop-origin-elem="#popoversec" id="popoversec" lt-prop-duration="400" lt-prop-type="box" lt-prop-animation="zoom" lt-prop-placement="bottom" class="zspopalign" lt-prop-show-close-button="false" lt-prop-wrapper-class="popoverCover"> <template is="registerYield" yield-name="popover"> <lyte-popover-content class="zspopcontent"> <div class="zscontent"> <img src="{{getCrmClientImageUrl(\'backg.png\')}}" alt="green box" class="zscontentbg"> <div class="zsupdatecon mL70 mT25"> <div class="crm-font-semibold crm-medium-large-font-size">{{getI18n(\'crm.sheetview.popover.header\')}}</div> <div class="crm-font-bold crm-heading-font-size mB18 mT5">{{getI18n("crm.xls.view",brandName)}}</div> <ul class="zslist mL10"> <li class="zslistcon mB10 crm-font-medium crm-base-font-size">{{getI18n(\'crm.sheetview.popover.msg1\')}}</li> <li class="zslistcon mB10 crm-font-medium crm-base-font-size">{{getI18n(\'crm.sheetview.popover.msg2\')}}</li> <li class="zslistcon mB10 crm-font-medium crm-base-font-size">{{getI18n(\'crm.sheetview.popover.msg3\')}}</li> </ul> </div> </div> <div class="zsimgcontainer pR"> <div class="zsbellicon"></div> </div> <div class="mT20 aligncenter"> <lyte-button data-zcqa="sheetview_okBtn" class="zsbut crm-font-semibold " onclick="{{action(\'export_sheet\')}}"> <template is="registerYield" yield-name="text" class="crm-small-font-size crm-font-semibold "> {{getI18n(\'crm.sheetview.popover.msg4\')}} </template> </lyte-button> </div> <div class="alignRight pB10"> <a class="dIB crmLinkColor cP mR5 crm-base-font-size" target="_blank" rel="noopener noreferrer" href="https://help.zoho.com/portal/en/kb/crm/customize-crm-account/managing-module-views/articles/using-zoho-sheet-view">{{getI18n(\'crm.label.setup.banner.label\')}}</a> </div> </lyte-popover-content> </template> </lyte-popover> </div> <div class="affects newPLR25 newListOLY {{if(module_info.kanban_view,\'nLKanbanView\')}}"> <template is="if" value="{{expHandlers(expHandlers(module,\'==\',&quot;Activities&quot;),\'&amp;&amp;\',actBannerEnabled)}}"><template case="true"> <div id="aspDepricateBanner" class="noteinfocont p12 borderLeftNone br0 borderRightNone dF jcCenter"> <span class="dIB"> <span class="zcicncss-warning-triangle zcicn-cssIcons zcicn_red_mask mR5"></span> {{getI18n(\'activity.banner.usr.activity.info1\',module_info.plural_label,bannerDate,module_info.plural_label,getActSubModNames(\'Tasks\'),getActSubModNames(\'Events\'),getActSubModNames(\'Calls\'))}}<span class="crmLinkColor cP mL5" lt-prop-aria-keydown="true" role="button" onclick="{{action(\'openBannerPopup\',\'true\')}}">{{getI18n(\'activity.banner.knowmore\')}}</span> </span> </div> </template></template> <lyte-table role="table" lt-prop-yield="true" lt-prop-width="100%" id="custom_layer_table" class="cvlayer noBorderTable {{if(selectedIds.length,\'cvtransform\')}}" lt-prop-prevent-scrollbar="true"> <template is="registerYield" yield-name="yield"> <lyte-table-structure> <lyte-tbody> <lyte-tr id="table_row_1"> <template is="if" value="{{expHandlers(startsWith(module,&quot;Orchestration&quot;),\'||\',startsWith(module,&quot;PathFinder&quot;))}}"><template case="true"> <div class="orcheHoverLink pR"> <span aria="true" lt-prop-aria-keydown="true" role="button" tabindex="{{if(disableButtons,\'0\',\'-1\')}}" class="newListviewFilterIcon {{if(showFilter,if(isFilterActive,\'activeLabel\'),\'eventNone disable\')}} {{if(noOrchOrPfModule,\'eventNone disable\',\'\')}}" data-zcqa="OrchPFfilterbtn" onclick="{{action(\'showHideFilters\')}}"> <template is="if" value="{{expHandlers(expHandlers(showFilter,\'&amp;&amp;\',expHandlers(isFilterActive,\'!\')),\'&amp;&amp;\',applied_filters)}}"><template case="true"> <span class="filterNotification"></span> </template></template> <span class="filterIcon"> </span></span> <crm-orchestration-process-dropdown class="{{if(noOrchOrPfModule,\'dN\',\'\')}}" module="{{module}}"> </crm-orchestration-process-dropdown> <div class="cvIcons dIB pT2 vaT mL5 {{if(noOrchOrPfModule,\'dN\',\'\')}}"> <span lt-prop-aria-keydown="true" lt-prop-title="{{getI18n(\'crm.button.refresh\')}}" aria-label="RefreshCustomView" role="button" tabindex="{{if(disableButtons,\'0\',\'-1\')}}" class="refreshButton" id="fetchdate_title" data-zcqa="fetchdate_title" onclick="{{action(\'refreshview\')}}"></span> </div> <template is="if" value="{{pathfinderFeatureAvail}}"><template case="true"><div class="orchSwitchTabscontainer dIB pA"> <div class="tabs_wrapper flexAlignCenter bg_white pR"> <input type="radio" name="tabs" id="tab_1" checked="{{if(startsWith(module,\'Orchestration\'),true,false)}}"> <label class="tab jcCenter flexAlignCenter vaM aligncenter" for="tab_1" data-zcqa="journeyTab" lt-prop-aria-keydown="true" role="button" onclick="{{action(\'toggleCommandCenterTab\',\'Journey\')}}"> {{getI18n(\'pf.journey\')}} </label> <input type="radio" name="tabs" id="tab_2" checked="{{if(startsWith(module,\'PathFinder\'),true,false)}}"> <label class="tab jcCenter flexAlignCenter vaM aligncenter" for="tab_2" data-zcqa="pathfinderTab" lt-prop-aria-keydown="true" role="button" onclick="{{action(\'toggleCommandCenterTab\',\'PathFinder\')}}"> {{getI18n(\'crm.setup.system.pathfinder\')}} </label> <span class="shape pA"></span> </div> </div></template></template> </div> </template><template case="false"> <template is="if" value="{{expHandlers(expHandlers(expHandlers(module,\'==\',&quot;Visits&quot;),\'&amp;&amp;\',begin_page),\'!\')}}"><template case="true"> <lyte-td class="w50New {{if(showFilter,if(isFilterActive,\'\'),\'hide\')}}" role="cell"> <span aria="true" lt-prop-aria-keydown="true" role="button" lt-prop-title="{{getI18n(\'crm.accessibility.toggle.custom.filter\')}}" aria-label="{{getI18n(\'crm.accessibility.toggle.custom.filter\')}}" tabindex="{{if(disableButtons,\'0\',\'-1\')}}" aria-controls="lv_left_filter" class="newListviewFilterIcon {{if(showFilter,if(isFilterActive,\'activeLabel\'),\'eventNone disable\')}}" data-zcqa="lv_filterStatus" onclick="{{action(\'showHideFilters\')}}"> <template is="if" value="{{expHandlers(expHandlers(showFilter,\'&amp;&amp;\',expHandlers(isFilterActive,\'!\')),\'&amp;&amp;\',applied_filters)}}"><template case="true"> <span class="filterNotification"></span> </template></template> <span class="filterIcon"></span> </span> </lyte-td> </template></template> <lyte-td class="customDivForAriaLandmark" role="main" tabindex="-1" lt-prop-landmark="true" lt-prop-landmark-label="{{getI18n(\'crm.landmark.main\',\'crm.accessibility.rview\')}}" aria-label="{{getI18n(\'crm.accessibility.rview\')}}"> <template is="if" value="{{expHandlers(expHandlers(territoryInfo,\'&amp;&amp;\',expHandlers(userDetails.TMENABLED,\'==\',1)),\'&amp;&amp;\',expHandlers(isFromModal,\'!\'))}}"><template case="true"> <lyte-td class="w50"> <div class="territoryDiv"> <lyte-dropdown lt-prop-prevent-navigation="{{territorySubmenuShow}}" lt-prop-aria-button="{\'aria-label\' : \'Choose Territory\'}" lt-prop-tabindex="{{if(disableButtons,\'0\',\'-1\')}}" lt-prop-allow-focusable-elements="{{if(expHandlers(allterritory.length,\'>\',10),&quot;true&quot;,&quot;false&quot;)}}" lt-prop-active-element="{{if(expHandlers(allterritory.length,\'>\',10),&quot;#territory_Search_Input&quot;,&quot;#territoryDropDown .lyteDummyEventContainer&quot;)}}" id="territoryDropDown" class="mR8" lt-prop-freeze="false" lt-prop-yield="true" lt-prop-selected="{{lbind(territorySelected)}}" on-show="{{method(\'initData\')}}" on-option-selected="{{method(\'territorySelection\')}}" on-hide="{{method(\'territoryDDClose\')}}" on-scroll="{{method(\'fetchMoreTerritories\')}}"> <template is="registerYield" yield-name="yield"> <lyte-drop-button id="combo" class="setFilterBorder highlightText territoryBtn"> <template is="if" value="{{expHandlers(expHandlers(expHandlers(territoryInfo.subordinates,\'&amp;&amp;\',expHandlers(territoryInfo.id,\'!=\',\'-1\')),\'&amp;&amp;\',expHandlers(territoryInfo.id,\'!=\',\'0\')),\'&amp;&amp;\',expHandlers(territoryInfo.id,\'!=\',\'-3\'))}}"><template case="true"> <span class="cVDropMax"> <lyte-text lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottom&quot;, &quot;appearance&quot;: &quot;box&quot;}" lt-prop-tooltip-class="lvTooltipClass" lt-prop-value="{{getI18nwithoutParamI18n(\'crm.territory.label.childs\',module_info.territory.name)}}"></lyte-text> </span> </template><template case="false"> <span class="cVDropMax"> <lyte-text lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottom&quot;, &quot;appearance&quot;: &quot;box&quot;}" lt-prop-tooltip-class="lvTooltipClass" lt-prop-value="{{territoryInfo.name}}"></lyte-text> </span> </template></template> <lyte-icon class="dropdown"></lyte-icon> </lyte-drop-button> <lyte-drop-box class="territoryDropdown" lt-prop-width="200"> <template is="if" value="{{expHandlers(allterritory.length,\'>\',25)}}"><template case="true"> <lyte-drop-header class="mB5"> <lyte-input id="territory_Search" lt-prop-placeholder="{{getI18n(\'gs.search\')}}" lt-prop-close-icon="true" lt-prop-appearance="box" on-value-change="{{method(\'onSearchValueChange\')}}" lt-prop-focus="true"></lyte-input> </lyte-drop-header> </template></template> <lyte-drop-body id="tt_body_id" class="tt_body_clss"> <template is="if" value="{{showTerritoryLoading}}"><template case="true"> <div class="loadingGifDiv aligncenter"> <img class="loadingGif w46 h46" alt="loading" src="{{getCrmClientImageUrl(\'crux-search-loader_lightmode.gif\')}}" data-image-mode="true"> </div> </template></template> <template is="for" items="{{localData}}" item="item" index="index"><template is="if" value="{{item.flag}}"><template case="true"> <lyte-drop-item data-title="{{item.toolTipMsg}}" class="tt_w_arrow pR" id="territory_{{item.id}}" lt-prop-aria-keydown="true" role="menuitem" lt-prop-popup-position="right" lt-prop-query="#territory_subMenu" index="{{index}}" data-value="{{item.id}}"> <span lt-prop-title="{{item.toolTipMsg}}">{{item.display_name}}</span> <span class="zcicn-arrow-solid-right-sm-mask zcicn-cssIcons zcicn-rotate-180 zcicn_grey_mask pA right10 topcenter"></span></lyte-drop-item> </template><template case="false"> <lyte-drop-item data-title="{{item.toolTipMsg}}" class="territory_values" id="territory_{{item.id}}" index="{{index}}" data-value="{{item.id}}"> <span lt-prop-title="{{item.toolTipMsg}}">{{item.display_name}}</span></lyte-drop-item> </template></template></template> <template is="if" value="{{showNoResultMsg}}"><template case="true"> <div class="noresultstyle">{{showNoResultMsg}}</div> </template></template> <lyte-menu lt-prop-position="right" id="territory_subMenu" lt-prop-freeze="false" lt-prop-show="{{lbind(territorySubmenuShow)}}" lt-prop-yield="true" lt-prop-event="mouseenter" lt-prop-query=".tt_body_clss .tt_w_arrow" on-open="{{method(\'onMenuOpen\')}}" on-before-open="{{method(\'setMenuData\')}}" on-menu-click="{{method(\'subTerritorySelection\')}}" lt-prop-boundary="{ &quot;top&quot;: 154, &quot;bottom&quot;: 430 }" on-before-close="{{method(\'checkTarget\')}}"> <template is="registerYield" yield-name="yield"> <lyte-menu-body> <lyte-menu-item data-value="{{subMenuVal1}}" class="{{if(showTickIconOnTerrSideMenu1,\'territoryDropItemTickIcon\')}} territoryMenu"> <lyte-menu-label> {{subMenuVal1.val}} </lyte-menu-label> </lyte-menu-item> <lyte-menu-item data-value="{{subMenuVal2}}" class="{{if(showTickIconOnTerrSideMenu2,\'territoryDropItemTickIcon\')}} territoryMenu"> <lyte-menu-label> {{subMenuVal2.val}} </lyte-menu-label> </lyte-menu-item> </lyte-menu-body> </template> </lyte-menu> </lyte-drop-body> </lyte-drop-box> </template> </lyte-dropdown> </div> </lyte-td> </template></template> <template is="if" value="{{expHandlers(module,\'==\',&quot;Visits&quot;)}}"><template case="true"> <lyte-td class="w100" role="cell"> <lyte-dropdown id="portalDropdown" lt-prop-tabindex="{{if(disableButtons,\'0\',\'-1\')}}" lt-prop-freeze="false" lt-prop-yield="true" class="pR vtddWrap" data-zcqa="portalDropdown" lt-prop-selected="{{portalName}}" on-option-selected="{{method(\'changePortal\')}}"> <template is="registerYield" yield-name="yield"> <lyte-drop-button class="setFilterBorder highlightText" id="portalDropdown" data-zcqa="SelectedPortal"> <span class="lyteDropdownLabel"> {{portalName}}</span> <lyte-icon class="dropdown"></lyte-icon> </lyte-drop-button> <lyte-drop-box> <lyte-drop-body> <template is="forIn" object="{{portals}}" value="value" key="key"> <lyte-drop-item data-value="{{key}}">{{value}}</lyte-drop-item> </template> </lyte-drop-body> </lyte-drop-box> </template> </lyte-dropdown> </lyte-td> </template></template> <lyte-td class="vaT" role="cell"> <template is="if" value="{{expHandlers(isFromModal,\'!\')}}"><template case="true"> <div tabindex="-1" class="editWithRefIcon pR alignLeft"> <crm-customview-dropdown class="dIB vaT" module="{{module}}" custom-view-name="{{cv_name}}" route-path="crm.tab.module.custom-view" cv-id="{{module_info.custom_view.id}}" button-class="crmCvDropdownHighlight" show-cv-anomaly-dd="{{showCVAnomaly}}" cv-anomaly="{{lbind(cv_anomaly)}}" tab-index="{{if(disableButtons,\'0\',\'-1\')}}"></crm-customview-dropdown> <template is="if" value="{{showCVAnomaly}}"><template case="true"> <crmutil-icon class="cP anomalyIconHover mL10 mR10 mT7 pR" data-zcqa="cvAnomalyListViewIcon" lt-prop-title="{{getI18n(\'crm.zia.anomaly.cv.notification.title\')}}" icon-name="anomalyalert" icon-class="zcicn-anomalyalert zcicn_red zi1" onclick="{{action(\'openCVAnomaly\')}}"></crmutil-icon> </template></template> <div id="cvIcons" data-zcqa="cvIcons" class="cvIcons dIB pT2 vaT mL5"> <template is="if" value="{{isEditList(module_info.custom_view.system_name,true)}}"><template case="true"> <template is="if" value="{{expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(module_info.chart_view,\'||\',module_info.kanban_view),\'||\',module_info.canvas_view),\'||\',module_info.card_view),\'||\',module_info.table_view),\'&amp;&amp;\',module_info.custom_view.system_defined),\'||\',clientAccount)}}"><template case="true"> <span lt-prop-class="smalledit pL5 grayLink1 customViewEditIcon" lt-prop-title="{{if(clientAccount,&quot;&quot;,getI18n(&quot;canvas.edit.restriction&quot;))}}" lt-prop-tooltip-config="{&quot;position&quot;:&quot;followcursor&quot;,&quot;appearance&quot;:&quot;box&quot;}"></span> </template><template case="false"> <link-to lt-prop-aria="{{isAccessibilityConfigSupported}}" lt-prop-title="{{getI18n(\'crm.button.edit\')}}" lt-prop-aria-attributes="{&quot;aria-label&quot; : {{getI18n(&quot;crm.accessibility.customview.edit&quot;)}}}" data-zcqa="cv_edit" lt-prop-tabindex="{{if(disableButtons,\'0\',\'-1\')}}" lt-prop-class="cvEdit customViewEditIcon accessibility-route-elem" lt-prop-route="crm.settings.section.custom-view.cvid.edit-custom-view" lt-prop-qp="{&quot;module&quot;:&quot;{{module}}&quot;}" lt-prop-dp="[&quot;{{cvid}}&quot;]"></link-to> </template></template> </template><template case="false"><template is="if" value="{{expHandlers(clientAccount,\'!\')}}"><template case="true"> <span data-tabindex="group0-1" class="mL7 customViewEditIcon disable cDefault"></span><span class="date pL5 mL5 spacerIcon"></span> </template></template></template></template><template is="if" value="{{expHandlers(expHandlers(expHandlers(module_info.chart_view,\'&amp;&amp;\',module_info.chart_view_cache_supported),\'||\',isPartOf(&quot;Leads,Accounts,Contacts,Potentials,Deals,Orchestration,PathFinder&quot;,module)),\'||\',expHandlers(module_info.timeline_view,\'&amp;&amp;\',showGroupBy))}}"><template case="true"> <span tabindex="{{if(disableButtons,\'0\',\'-1\')}}" class="refreshButton" lt-prop-title="{{getI18n(\'crm.accessibility.refresh.customview\')}}" aria-label="{{getI18n(&quot;crm.accessibility.refresh.customview&quot;)}}" id="fetchdate_title" lt-prop-aria-keydown="true" role="button" data-zcqa="fetchdate_title" onclick="{{action(\'refreshview\')}}"></span> </template></template> </div> </div> </template><template case="false"><template is="if" value="{{customMessage}}"><template case="true"> <template is="if" value="{{expHandlers(featureName,\'===\',&quot;COMPLIANCE&quot;)}}"><template case="true"> <span class="crm-font-semibold crm-medium-large-font-size crmBaseColor mT5 dIB" data-zcqa="privacy_{{module}}">{{customMessage}}</span> <span class="crm-sub-heading-font-size crmBaseColor mT5 dIB" data-zcqa="privacy_type">{{featureObject.statusLabel}}</span> <template is="if" value="{{selectedIds.length}}"><template case="true"> <span class="mL20"> <template is="for" items="{{featureObject.privacyBtnList}}" item="button" index="index"> <lyte-button class="prv_ActionBtn vaT" lt-prop-tabindex="{{if(disableButtons,\'0\',\'-1\')}}" id="privacy_{{button.action}}" data-zcqa="privacy_{{button.action}}" onclick="{{action(\'consentActions\',button.action)}}"> <template is="registerYield" yield-name="text"> {{getI18n(button.name)}} </template> </lyte-button> </template> </span> </template></template></template><template case="false"><template is="if" value="{{expHandlers(featureName,\'===\',\'CHARTVIEWS\')}}"><template case="true"> <template is="if" value="{{selectedIds.length}}"><template case="true"> <div id="chartviewButtonLayer" class="dIF"></div> </template><template case="false"> <span class="crm-font-semibold crm-medium-large-font-size crmBaseColor mT6 dIB vaT" data-zcqa="privacy_{{module}}">{{customMessage}}</span> </template></template></template><template case="false"><template is="if" value="{{expHandlers(featureName,\'===\',\'CAMPAIGNMEMBERLISTVIEW\')}}"><template case="true"> <span class="crm-font-semibold crm-subheading-font-size crmBaseColor dIB" data-zcqa="privacy_{{module}}">{{customMessage}}</span> <span class="crmBaseColor crm-subheading-font-size dIB" data-zcqa="privacy_type">{{featureObject.statusLabel}}</span> <div class="crmBaseColor crm-small-font-size"> <span class="crm-small-font-size crmBaseColor mT5 dIB" data-zcqa="privacy_type">{{featureObject.statusLabel2}}</span> </div> </template><template case="false"> <span class="crm-font-semibold crm-medium-large-font-size crmBaseColor mT5 dIB">{{customMessage}}</span> </template></template></template></template></template></template></template><template case="false"> <crm-customview-dropdown class="dIB vaT" module="{{module}}" no-data="{{isFromModal}}" custom-view-name="{{cv_name}}" cv-id="{{module_info.custom_view.id}}" button-class="crmCvDropdownHighlight" cv-anomaly="{{lbind(cv_anomaly)}}" show-cv-anomaly-dd="{{showCVAnomaly}}">&gt;</crm-customview-dropdown> <template is="if" value="{{showCVAnomaly}}"><template case="true"> <crmutil-icon class="cP anomalyIconHover mL10 mR10 pR" data-zcqa="cvAnomalyListViewIcon" lt-prop-title="{{getI18n(\'crm.zia.anomaly.cv.notification.title\')}}" icon-name="anomalyalert" icon-class="zcicn-anomalyalert zcicn_red zi1" onclick="{{action(\'openCVAnomaly\')}}"></crmutil-icon> </template></template> </template></template> </template></template> </lyte-td> </lyte-td> <lyte-td class="alignRight" role="complementary" lt-prop-landmark="true" tabindex="-1" lt-prop-landmark-label="{{getI18n(\'crm.landmark.comp\',\'crm.record.lock.actions\')}}" aria-label=" {{getI18n(\'crm.record.lock.actions\')}}"> <template is="if" value="{{expHandlers(isFromModal,\'!\')}}"><template case="true"> <template is="if" value="{{expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(userDetails.PROFILE_NAME,\'===\',&quot;Administrator&quot;),\'&amp;&amp;\',expHandlers(module,\'===\',&quot;Quotes&quot;)),\'&amp;&amp;\',userDetails.isCPQActivated),\'&amp;&amp;\',expHandlers(userDetails.isSandbox,\'!\')),\'&amp;&amp;\',expHandlers(userDetails.CLIENT_ACCOUNT,\'===\',undefined))}}"><template case="true"> <span class="mR10 vaT"> <link-to data-zcqa="TryCPQ_QA" lt-prop-aria="{{isAccessibilityConfigSupported}}" lt-prop-aria-attributes="{&quot;aria-label&quot; : &quot;{{getI18n(&quot;crm.label.new&quot;)}}&quot;}" class="vaM" onclick="{{action(\'trackTryCPQAction\')}}" lt-prop-custom="" lt-prop-route="crm.settings.section.zohocpq.index-zohocpq" lt-prop-dp="[&quot;productConfigurator&quot;]"> <span class="setupMenulink ellipsistext dIB crmLinkHover cP">{{getI18n(\'crm.canvas.try\',"CPQ")}}</span> </link-to> <sup class="dIB pR right5 top2 alignLeft" lt-prop-title="{{getI18n(\'crm.label.new\')}}"> <crm-ui-loaders interaction-name="crmNewReleaseLoader"></crm-ui-loaders> </sup> </span> </template></template> <div class="view_icon dIB mL5 pR vaM"> <template is="if" value="{{expHandlers(expHandlers(expHandlers(clientAccount,\'!\'),\'&amp;&amp;\',expHandlers(isNotPartOf(&quot;Services&quot;,module),\'||\',userDetails.isCanvasActivitySupportEnabled)),\'&amp;&amp;\',expHandlers(checkViewAvailability(&quot;kanban&quot;,module_info,clientAccount),\'||\',checkViewAvailability(&quot;customized&quot;,module_info,clientAccount)))}}"><template case="true"> <lyte-dropdown id="listViewModuleChange" lt-prop-title="{{getI18n(\'crm.accessibility.rview\')}}" lt-prop-aria="{{isAccessibilityConfigSupported}}" lt-prop-aria-button="{&quot;aria-label&quot;:{{getI18n(&quot;crm.accessibility.module.customview.dropdown&quot;)}}}" lt-prop-freeze="false" lt-prop-tabindex="{{if(disableButtons,\'0\',\'-1\')}}" lt-prop-animate="true" lt-prop-selected="{{if(module_info.kanban_view,\'kanban\',if(module_info.zia_view,\'zia\',if(module_info.canvas_view,\'canvas\',if(module_info.chart_view,\'chart\',if(module_info.timeline_view,\'timeline\',if(module_info.card_view,\'card\',if(module_info.table_view,\'table\',\'list\')))))))}}" on-option-selected="{{method(&quot;changeViewLayer&quot;)}}" on-before-hide="{{method(\'openAnimOnlyBeforeHide\')}}" on-hide="{{method(\'openAnimOnlyHide\')}}"> <template is="registerYield" yield-name="yield"> <lyte-drop-button> <template is="if" value="{{module_info.chart_view}}"><template case="true"> <svg class="zcicn_embedSvg zcicn-dashboardview crmBaseIcon vaT"> <use href="#zcicn-dashboardview"></use> </svg> </template><template case="false"> <crmutil-icon icon-name="{{if(module_info.kanban_view,\'kanbanview\',if(module_info.zia_view,\'zia-logo\',if(module_info.canvas_view,\'listview-custom\',if(module_info.card_view,\'tileview-canvas\',if(module_info.table_view,\'tableview-canvas\',if(module_info.timeline_view,\'timelineview\',\'listview\'))))))}}" icon-class="{{if(module_info.kanban_view,\'zcicn-kanbanview\',if(module_info.zia_view,\'zcicn-zia-logo\',if(module_info.canvas_view,\'zcicn-listview-custom\',if(module_info.card_view,\'zcicn-tileview-canvas\',if(module_info.table_view,\'zcicn-tableview-canvas\',if(module_info.timeline_view,\'zcicn-timelineview\',\'zcicn-listview\'))))))}} crmBaseIcon crm-list-view-icon-size"></crmutil-icon> </template></template> <lyte-icon class="dropdown"></lyte-icon> </lyte-drop-button> <lyte-drop-box cscript-tag="list-view-type-drop-down" class="moduleChangeDom noTickLyteDropdown"> <lyte-drop-body> <template is="if" value="{{expHandlers(checkViewAvailability(&quot;kanban&quot;,module_info,clientAccount),\'||\',checkViewAvailability(&quot;customized&quot;,module_info,clientAccount))}}"><template case="true"> <lyte-drop-item data-zcqa="ListView" data-value="list"> <crmutil-icon class="mR7" icon-name="listview" icon-class="zcicn-listview crmBaseIcon crm-list-view-icon-size"></crmutil-icon> {{getI18n(\'crm.dashboard.label.list.view\')}} </lyte-drop-item> </template></template> <template is="if" value="{{checkViewAvailability(&quot;kanban&quot;,module_info,clientAccount)}}"><template case="true"> <lyte-drop-item data-zcqa="KanbanView" data-value="kanban"> <crmutil-icon class="mR7" icon-name="kanbanview" icon-class="zcicn-kanbanview crmBaseIcon crm-list-view-icon-size"></crmutil-icon> {{getI18n(\'canvas.kanban.view.tooltip\')}} </lyte-drop-item> </template></template> <template is="if" value="{{checkViewAvailability(&quot;prediction&quot;,module_info,clientAccount)}}"><template case="true"> <lyte-drop-item data-zcqa="ZiaView" data-value="zia"> <crmutil-icon class="mR7" icon-name="zia-logo" icon-class="zcicn-zia-logo crmBaseIcon crm-list-view-icon-size"></crmutil-icon> {{getI18n(\'canvas.prediction.view.tooltip\')}} </lyte-drop-item> </template></template><template is="if" value="{{expHandlers(expHandlers(module,\'!=\',\'Activities\'),\'&amp;&amp;\',checkViewAvailability(&quot;chart&quot;,module_info,clientAccount))}}"><template case="true"> <lyte-drop-item data-zcqa="ChartView" data-value="chart"> <span class="dIB vaM mR7"> <svg icon-name="chartView" class="zcicn_embedSvg zcicn-dashboardview crmBaseIcon mR7"> <use href="#zcicn-dashboardview"></use> </svg> </span> {{getI18n(\'crm.canvas.title.view\',getI18n(\'crm.dashboard.label.chart\'))}} </lyte-drop-item> </template></template> <template is="if" value="{{checkViewAvailability(&quot;timeline_view&quot;,module_info,clientAccount)}}"><template case="true"> <lyte-drop-item data-zcqa="TimelineView" data-value="timeline"> <span class="zcicncss-timeline zcicn-cssIcons mR14"></span> {{getI18n("crm.timeline.view.label")}} </lyte-drop-item> </template></template> <template is="if" value="{{expHandlers(checkViewAvailability(&quot;customized&quot;,module_info,clientAccount),\'&amp;&amp;\',expHandlers(expHandlers(expHandlers(module,\'!=\',\'Visits\'),\'&amp;&amp;\',expHandlers(module,\'!=\',\'Activities\')),\'&amp;&amp;\',expHandlers(userDetails.isCanvasActivitySupportEnabled,\'||\',expHandlers(module,\'!=\',\'Appointments\'))))}}"><template case="true"> <lyte-drop-group data-zcqa="Canvas_Title" class="newCanvasCenterAlign"> <lyte-drop-label class="newCanvasViewList"> <span>{{getI18n(\'crm.canvas.title.view\',\'Canvas\')}}</span> </lyte-drop-label> <template is="if" value="{{expHandlers(checkViewAvailability(&quot;customized&quot;,module_info,clientAccount),\'&amp;&amp;\',expHandlers(expHandlers(module,\'!=\',\'Visits\'),\'&amp;&amp;\',expHandlers(module,\'!=\',\'Activities\')))}}"><template case="true"> <lyte-drop-item data-zcqa="Canvas_CustomizedView" data-value="canvas"> <crmutil-icon class="mR7" icon-name="listview-custom" icon-class="zcicn-listview-custom crmBaseIcon crm-list-view-icon-size"></crmutil-icon> {{getI18n(\'crm.canvas.custom.viewname\')}} </lyte-drop-item> </template></template> <template is="if" value="{{expHandlers(checkViewAvailability(&quot;card&quot;,module_info,clientAccount),\'&amp;&amp;\',expHandlers(expHandlers(module,\'!=\',\'Visits\'),\'&amp;&amp;\',expHandlers(module,\'!=\',\'Activities\')))}}"><template case="true"> <lyte-drop-item data-zcqa="Canvas_CardView" data-value="card"> <crmutil-icon class="mR7" icon-name="tileview-canvas" icon-class="zcicn-tileview-canvas crmBaseIcon crm-list-view-icon-size"></crmutil-icon> {{getI18n(\'crm.canvas.tile.viewname\')}} </lyte-drop-item> </template></template> <template is="if" value="{{expHandlers(checkViewAvailability(&quot;table&quot;,module_info,clientAccount),\'&amp;&amp;\',expHandlers(expHandlers(module,\'!=\',\'Visits\'),\'&amp;&amp;\',expHandlers(module,\'!=\',\'Activities\')))}}"><template case="true"> <lyte-drop-item data-zcqa="Canvas_TableView" data-value="table"> <crmutil-icon class="mR7" icon-name="tableview-canvas" icon-class="zcicn-tableview-canvas crmBaseIcon crm-list-view-icon-size"></crmutil-icon> {{getI18n(\'crm.canvas.table.viewname\')}} </lyte-drop-item> </template></template> </lyte-drop-group> </template><template case="false"> <template is="if" value="{{expHandlers(checkViewAvailability(&quot;customized&quot;,module_info,clientAccount),\'&amp;&amp;\',expHandlers(module,\'!=\',\'Appointments\'))}}"><template case="true"> <lyte-drop-item data-zcqa="CanvasView" data-value="canvas"> <crmutil-icon icon-name="canvasview" icon-class="zcicn-canvasview crmBaseIcon crm-list-view-icon-size"></crmutil-icon> {{getI18n(\'crm.canvas.title.view\',\'Canvas\')}} </lyte-drop-item> </template></template> </template></template> </lyte-drop-body> </lyte-drop-box> </template> </lyte-dropdown> </template></template> <template is="if" value="{{expHandlers(expHandlers(module,\'!=\',&quot;Potentials&quot;),\'&amp;&amp;\',expHandlers(module,\'!=\',&quot;Deals&quot;))}}"><template case="true"> <input type="hidden" id="iskanbanview" value="{{if(module_info.kanban_view,&quot;true&quot;,&quot;false&quot;)}}"> </template></template> </div> <template is="if" value="{{expHandlers(module,\'==\',&quot;Appointments&quot;)}}"><template case="true"> <lyte-button onclick="{{action(\'appointmentCreate\')}}" lt-prop-tabindex="{{if(disableButtons,\'0\',\'-1\')}}" lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottomRight&quot;,&quot;appearance&quot;:&quot;box&quot;}" lt-prop-title="{{if(negate(checkPermission(&quot;Crm_Implied_Create&quot;,module)),&quot;Permission Denied&quot;)}}" lt-prop-class="newbutton primarybtn mR0" data-permission="{{if(negate(checkPermission(&quot;Crm_Implied_Create&quot;,module)),&quot;false&quot;)}}" data-zcqa="cv_createbtn" cscript-id="system_button" cscript-tag="create"> <template is="registerYield" yield-name="text"> {{getI18n("crm.module.create",module_info.singular_label)}} </template> </lyte-button> </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(module,\'==\',&quot;Services&quot;),\'&amp;&amp;\',checkPermission(\'Crm_Implied_Create\',module))}}"><template case="true"> <link-to class="dIB vaM" lt-prop-route="crm.tab.module.create" lt-prop-dp="[&quot;{{module}}&quot;]" lt-prop-custom=""> <lyte-button lt-prop-tabindex="{{if(disableButtons,\'0\',\'-1\')}}" lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottomRight&quot;,&quot;appearance&quot;:&quot;box&quot;}" lt-prop-title="{{if(negate(checkPermission(&quot;Crm_Implied_Create&quot;,module)),&quot;Permission Denied&quot;)}}" lt-prop-class="newbutton primarybtn" data-permission="{{if(negate(checkPermission(&quot;Crm_Implied_Create&quot;,module)),&quot;false&quot;)}}" data-zcqa="cv_createbtn" cscript-id="system_button" cscript-tag="create"> <template is="registerYield" yield-name="text"> {{getI18n("crm.module.create",module_info.singular_label)}} </template> </lyte-button> </link-to> </template><template case="false"><template is="if" value="{{expHandlers(module,\'==\',&quot;Activities&quot;)}}"><template case="true"> <template is="if" value="{{getUserDetail(\'TaskPopup\')}}"><template case="true"> <span lt-prop-aria-keydown="true" role="button" tabindex="{{if(disableButtons,\'0\',\'-1\')}}" onclick="{{action(\'relTaskCreate\',this)}}"> <lyte-button lt-prop-tabindex="{{if(disableButtons,\'0\',\'-1\')}}" class="dIB vaM" lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottomRight&quot;,&quot;appearance&quot;:&quot;box&quot;}" lt-prop-title="{{if(negate(checkPermission(&quot;Crm_Implied_Create&quot;,&quot;Tasks&quot;)),&quot;Permission Denied&quot;)}}" lt-prop-appearance="primary" lt-prop-class="primaryflatbtn" data-permission="{{if(negate(checkPermission(&quot;Crm_Implied_Create&quot;,&quot;Tasks&quot;)),&quot;false&quot;)}}" lt-prop-style="{{if(negate(checkPermission(&quot;Crm_Implied_Create&quot;,&quot;Tasks&quot;)),&quot;opacity:0.5&quot;)}}" data-zcqa="cv_createbtn_Task" cscript-id="system_button" cscript-tag="create_task"> <template is="registerYield" yield-name="text"> {{getI18n("Task")}} </template> </lyte-button> </span></template><template case="false"> <link-to class="dIB vaM" lt-prop-route="crm.tab.module.create" lt-prop-qp="{&quot;sub_module&quot; : &quot;Tasks&quot;}" lt-prop-dp="[&quot;Activities&quot;]" lt-prop-custom=""> <lyte-button lt-prop-tabindex="{{if(disableButtons,\'0\',\'-1\')}}" lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottomRight&quot;,&quot;appearance&quot;:&quot;box&quot;}" lt-prop-title="{{if(negate(checkPermission(&quot;Crm_Implied_Create&quot;,&quot;Tasks&quot;)),&quot;Permission Denied&quot;)}}" lt-prop-appearance="primary" lt-prop-class="primaryflatbtn" data-permission="{{if(negate(checkPermission(&quot;Crm_Implied_Create&quot;,&quot;Tasks&quot;)),&quot;false&quot;)}}" lt-prop-style="{{if(negate(checkPermission(&quot;Crm_Implied_Create&quot;,&quot;Tasks&quot;)),&quot;opacity:0.5&quot;)}}" data-zcqa="cv_createbtn_Task" cscript-id="system_button" cscript-tag="create_task"> <template is="registerYield" yield-name="text"> {{getI18n("Task")}} </template> </lyte-button> </link-to> </template></template> <lyte-button lt-prop-tabindex="{{if(disableButtons,\'0\',\'-1\')}}" class="dIB vaM" lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottomRight&quot;,&quot;appearance&quot;:&quot;box&quot;}" lt-prop-title="{{if(negate(checkPermission(&quot;Crm_Implied_Create&quot;,&quot;Events&quot;)),&quot;permission Denied&quot;)}}" onclick="{{action(&quot;activityCreate&quot;,&quot;Events&quot;,event)}}" lt-prop-appearance="primary" lt-prop-class="primaryflatbtn" data-permission="{{if(negate(checkPermission(\'Crm_Implied_Create\',\'Events\')),\'false\')}}" lt-prop-style="{{if(negate(checkPermission(&quot;Crm_Implied_Create&quot;,&quot;Events&quot;)),&quot;opacity:0.5&quot;)}}" data-zcqa="cv_createbtn_Event" cscript-id="system_button" cscript-tag="create_event"> <template is="registerYield" yield-name="text"> {{getI18n(getModuleDisplayName(true,true))}} </template> </lyte-button> <lyte-button lt-prop-tabindex="{{if(disableButtons,\'0\',\'-1\')}}" class="dIB vaM" lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottomRight&quot;,&quot;appearance&quot;:&quot;box&quot;}" lt-prop-title="{{if(negate(checkPermission(&quot;Crm_Implied_Create&quot;,&quot;Calls&quot;)),&quot;Permission Denied&quot;)}}" lt-prop-appearance="primary" lt-prop-class="primaryflatbtn" data-permission="{{if(negate(checkPermission(&quot;Crm_Implied_Create&quot;,&quot;Calls&quot;)),&quot;false&quot;)}}" lt-prop-style="{{if(negate(checkPermission(&quot;Crm_Implied_Create&quot;,&quot;Calls&quot;)),&quot;opacity:0.5&quot;)}}" onclick="{{action(&quot;activityCreate&quot;,&quot;Calls&quot;,event)}}" data-zcqa="cv_createbtn_Call" cscript-id="system_button" cscript-tag="create_call"> <template is="registerYield" yield-name="text"> {{getI18n("Call")}} </template> </lyte-button> </template><template case="false"><template is="if" value="{{expHandlers(module,\'!=\',&quot;Visits&quot;)}}"><template case="true"> <span class="customPluswithImpotBtnCon pR cPlusImportButton vaM"> <template is="if" value="{{expHandlers(expHandlers(module,\'==\',&quot;Campaigns&quot;),\'&amp;&amp;\',campaignLayout.length)}}"><template case="true"> <span lt-prop-title="{{if(checkPermission(\'Crm_Implied_Create\',module),\'\',getI18n(\'crm.massmail.triggeraction.tracking.message\'))}}" class="{{if(checkPermission(\'Crm_Implied_Create\',module),\'\',\'peNone cDefault\')}}"> <button id="importPlusBtn" data-zcqa="cv_createbtn" cscript-id="system_button" cscript-tag="create" lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottomLeft&quot;,&quot;appearance&quot;:&quot;box&quot;}" data-permission="{{if(checkPermission(&quot;Crm_Implied_Create&quot;,module),&quot;true&quot;,&quot;false&quot;)}}" class="newwhitebtn crm-font-bold customPlusBtn {{if(checkPermission(\'Crm_Implied_Create\',module),\'\',\'creatDisbBtn createDispOpa\')}}" onclick="{{action(&quot;createRecord&quot;,module)}}">{{getI18n("crm.module.create",module_info.singular_label)}}</button> </span> <lyte-popover lt-prop-origin-elem="#importPlusBtn" lt-prop-wrapper-class="moreCampaignMenu moreActionPopup" lt-prop-duration="{{popover_duration}}" id="zCampMoreActionMenu" lt-prop-freeze="false" lt-prop-type="box" lt-prop-show-close-button="false" lt-prop-placement="bottom" lt-prop-allow-multiple="true"> <template is="registerYield" yield-name="popover"> <lyte-popover-content> <ul id="campaignsParent"> <li><link-to lt-prop-class="ellipsistext zCampLayoutName campaignsItems" data-zcqa="campaignLayoutSubMenu_{{campDefLayout.name}}" lt-prop-td="{&quot;layoutId&quot;:&quot;{{campDefLayout.id}}&quot;}" lt-prop-route="crm.tab.module.create" lt-prop-dp="[&quot;Campaigns&quot;]">{{getI18n(\'crm.chat.offline\')}}</link-to></li> <template is="for" items="{{campaignLayout}}" item="item" index="index"> <li><link-to lt-prop-class="ellipsistext zCampLayoutName campaignsItems" data-zcqa="campaignLayoutSubMenu_{{item.name}}" lt-prop-td="{&quot;layoutId&quot;:&quot;{{item.id}}&quot;}" lt-prop-route="crm.tab.module.create" lt-prop-dp="[&quot;Campaigns&quot;]">{{item.name}}</link-to></li> </template> </ul> </lyte-popover-content> </template> </lyte-popover> </template><template case="false"><template is="if" value="{{expHandlers(module,\'==\',&quot;Events&quot;)}}"><template case="true"> <span lt-prop-title="{{if(checkPermission(\'Crm_Implied_Create\',\'Events\'),\'\',getI18n(\'crm.massmail.triggeraction.tracking.message\'))}}" class="{{if(checkPermission(\'Crm_Implied_Create\',\'Events\'),\'\',\'cDefault\')}}"> <button tabindex="{{if(disableButtons,\'0\',\'-1\')}}" data-zcqa="cv_createbtn" cscript-id="system_button" cscript-tag="create" lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottomLeft&quot;,&quot;appearance&quot;:&quot;box&quot;}" data-permission="{{if(checkPermission(&quot;Crm_Implied_Create&quot;,&quot;Events&quot;),&quot;true&quot;,&quot;false&quot;)}}" class="customPlusBtn crm-font-bold newwhitebtn {{if(checkPermission(\'Crm_Implied_Create\',\'Events\'),\'cP\',\'creatDisbBtn createDispOpa peNone\')}}" onclick="{{action(&quot;activityCreate&quot;,&quot;Events&quot;,event)}}">{{getI18n("crm.module.create",module_info.singular_label)}}</button> </span> </template><template case="false"><template is="if" value="{{expHandlers(module,\'==\',&quot;Calls&quot;)}}"><template case="true"> <span lt-prop-title="{{if(checkPermission(\'Crm_Implied_Create\',\'Calls\'),\'\',getI18n(\'crm.massmail.triggeraction.tracking.message\'))}}" class="{{if(checkPermission(\'Crm_Implied_Create\',\'Calls\'),\'\',\'cDefault\')}}"> <button data-zcqa="cv_createbtn" cscript-id="system_button" cscript-tag="create" lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottomLeft&quot;,&quot;appearance&quot;:&quot;box&quot;}" data-permission="{{if(checkPermission(&quot;Crm_Implied_Create&quot;,&quot;Calls&quot;),&quot;true&quot;,&quot;false&quot;)}}" class="customPlusBtn crm-font-bold newwhitebtn {{if(checkPermission(\'Crm_Implied_Create\',\'Calls\'),\'cP\',\'creatDisbBtn createDispOpa peNone\')}}" onclick="{{action(&quot;activityCreate&quot;,&quot;Calls&quot;,event)}}">{{getI18n("crm.module.create",module_info.singular_label)}}</button> </span> </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(clientAccount,\'!\'),\'||\',expHandlers(clientAccount,\'&amp;&amp;\',checkPermission(\'Crm_Implied_Create\',module)))}}"><template case="true"> <span lt-prop-title="{{if(checkPermission(\'Crm_Implied_Create\',module),\'\',getI18n(\'crm.massmail.triggeraction.tracking.message\'))}}" class="{{if(checkPermission(\'Crm_Implied_Create\',module),\'\',\'cDefault\')}}"> <link-to lt-prop-custom="" lt-prop-route="crm.tab.module.create" data-tabindex="group0-4" lt-prop-dp="[&quot;{{module}}&quot;]" class="{{if(checkPermission(\'Crm_Implied_Create\',module),\'\',\'peNone\')}}"> <button aria="{{isAccessibilityConfigSupported}}" aria-label="{{getI18nwithoutParamI18n(&quot;crm.module.create&quot;,module_info.singular_label)}}" tabindex="{{if(disableButtons,\'0\',\'-1\')}}" data-zcqa="cv_createbtn" cscript-id="system_button" cscript-tag="create" lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottomLeft&quot;,&quot;appearance&quot;:&quot;box&quot;}" data-permission="{{if(checkPermission(&quot;Crm_Implied_Create&quot;,module),&quot;true&quot;,&quot;false&quot;)}}" class="customPlusBtn crm-font-bold newwhitebtn {{if(checkPermission(\'Crm_Implied_Create\',module),\'cP\',\'creatDisbBtn createDispOpa\')}}" onclick="{{action(&quot;createRecord&quot;,module)}}">{{getI18nwithoutParamI18n("crm.module.create",module_info.singular_label)}}</button> </link-to> </span> </template></template></template></template></template></template></template></template><template is="if" value="{{expHandlers(clientAccount,\'!\')}}"><template case="true"><template is="if" value="{{expHandlers(import_modules.length,\'>\',0)}}"><template case="true"><template is="if" value="{{checkPermission(&quot;Crm_Implied_Import&quot;,module)}}"><template case="true"> <lyte-button lt-prop-tabindex="{{if(disableButtons,\'0\',\'-1\')}}" lt-prop-title="{{getI18n(\'crm.label.More\')}}" lt-prop-aria="{{isAccessibilityConfigSupported}}" lt-prop-aria-button="{&quot;aria-label&quot;:&quot;{{getI18n(&quot;crm.label.More&quot;)}}&quot;}" lt-prop-id="importButton" class="importHeaderBtn" data-tabindex="group0-5" lt-prop-class="customImportBtn" data-zcqa="cv_importbtn" cscript-id="system_button" cscript-tag="import"> <template is="registerYield" yield-name="text" id="import"> <span class="importIcon"></span> </template> </lyte-button> <lyte-menu lt-prop-aria="{{isAccessibilityConfigSupported}}" lt-prop-yield="true" lt-prop-animate="true" lt-prop-active-element="a" lt-prop-query="#importButton" lt-prop-position="downAlignLeft" lt-prop-freeze="false" on-close="{{method(\'actionMenuClose\',\'importButton\')}}" lt-prop-wrapper-class="moreActionListview" on-before-close="{{method(&quot;menuOnBeforeCloseAnimate&quot;)}}"> <template is="registerYield" yield-name="yield"> <lyte-menu-body class="newLvDropdown"> <template is="for" items="{{import_modules}}" item="item" index="index"> <template is="if" value="{{expHandlers(item,\'==\',module)}}"><template case="true"> <lyte-menu-item><link-to data-zcqa="cv_importParent" lt-prop-route="crm.settings.import" lt-prop-td="{&quot;currStep&quot;:&quot;1&quot;}" lt-prop-qp="{&quot;module&quot; :&quot;{{module}}&quot;, &quot;step&quot;:&quot;1&quot; }" lt-prop-class="link"> {{getI18nwithoutParamI18n("crm.module.import",module_info.plural_label)}} </link-to> </lyte-menu-item> </template><template case="false"><template is="if" value="{{checkPermission(expHandlers(expHandlers(item,\'==\',&quot;Notes&quot;),\'?:\',&quot;Crm_Implied_Create&quot;,&quot;Crm_Implied_Import&quot;),item)}}"><template case="true"> <lyte-menu-item> <link-to data-zcqa="cv_import{{item}}" lt-prop-route="crm.settings.import" lt-prop-td="{&quot;currStep&quot;:&quot;1&quot;}" lt-prop-qp="{&quot;module&quot; :&quot;{{item}}&quot;, &quot;step&quot;:&quot;1&quot;, &quot;parentModule&quot; : &quot;{{module}}&quot; }" lt-prop-class="link">{{getI18n("crm.module.import",getPluralLabel(item))}}</link-to> </lyte-menu-item> </template></template></template></template> </template> <template is="switch" value="{{module}}"><template case="Leads"> <template is="if" value="{{expHandlers(showfacebooksync,\'&amp;&amp;\',expHandlers(isSandBox,\'!\'))}}"><template case="true"> <lyte-menu-item> <link-to data-zcqa="cv_importFacebook" lt-prop-route="crm.settings.section.extensions.leadchain-extensions" lt-prop-qp="{&quot;network&quot; :&quot;Facebook&quot;}" lt-prop-class="link">{{getI18n("blankpage.onboarding.leads.facebook")}}</link-to> </lyte-menu-item> </template></template> <template is="if" value="{{expHandlers(showlinkedinsync,\'&amp;&amp;\',expHandlers(isSandBox,\'!\'))}}"><template case="true"> <lyte-menu-item> <link-to data-zcqa="cv_importLinkedin" lt-prop-route="crm.settings.section.extensions.leadchain-extensions" lt-prop-qp="{&quot;network&quot; :&quot;LinkedIn&quot;}" lt-prop-class="link">{{getI18n("blankpage.onboarding.leads.linkedin")}}</link-to> </lyte-menu-item> </template></template> <template is="if" value="{{expHandlers(showtiktoksync,\'&amp;&amp;\',expHandlers(isSandBox,\'!\'))}}"><template case="true"> <lyte-menu-item> <link-to data-zcqa="cv_importTiktok" lt-prop-route="crm.settings.section.extensions.leadchain-extensions" lt-prop-qp="{&quot;network&quot; :&quot;Tiktok&quot;}" lt-prop-class="link">{{getI18n("blankpage.onboarding.leads.tiktok")}}</link-to> </lyte-menu-item> </template></template> </template><template default=""> </template></template> </lyte-menu-body> </template> </lyte-menu> </template><template case="false"> <lyte-button lt-prop-tabindex="{{if(disableButtons,\'0\',\'-1\')}}" lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottom&quot;}" lt-prop-title="{{getI18n(\'crm.nsocial.start.denied\')}}" class="importHeaderBtn" lt-prop-class="customImportBtn peNone mR10" data-cid="permissionDenied"> <template is="registerYield" yield-name="text"> <span class="importIcon"></span> </template> </lyte-button> </template></template> </template></template></template></template> </span> <template is="if" value="{{expHandlers(clientAccount,\'&amp;&amp;\',showDraftButton)}}"><template case="true"> <span class="customPluswithImpotBtnCon pR cPlusImportButton vaM"> <link-to data-zcqa="cv_Drafts" lt-prop-route="crm.tab.module.actions.draft" lt-prop-dp="[&quot;{{module}}&quot;]" lt-prop-qp="{&quot;module&quot;:&quot;{{module}}&quot;}"> <lyte-button lt-prop-aria="{{isAccessibilityConfigSupported}}" lt-prop-aria-button="{&quot;aria-label&quot; : &quot;{{getI18n(&quot;crm.label.drafts&quot;)}}&quot;}" lt-prop-tabindex="{{if(disableButtons,\'0\',\'-1\')}}" lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottomRight&quot;,&quot;appearance&quot;:&quot;box&quot;}" lt-prop-class="newbutton" data-zcqa="portal_draft"> <template is="registerYield" yield-name="text"> {{getI18n("crm.label.drafts")}} </template> </lyte-button> </link-to> </span> </template></template> </template></template></template></template></template></template></template></template><template is="if" value="{{expHandlers(custom_buttons.length,\'>\',0)}}"><template case="true"> <crm-custom-button class="dIB vaM" btnid="withoutRecordButton" without-record="true" position="list_view_without_record" custom-buttons="{{custom_buttons}}" module="{{module}}" on-button-click="{{action(&quot;executeCustomButton&quot;)}}"></crm-custom-button> </template></template><template is="if" value="{{expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(module,\'!=\',&quot;Visits&quot;),\'&amp;&amp;\',expHandlers(isZBModule,\'!\')),\'&amp;&amp;\',expHandlers(isZSModule,\'!\')),\'&amp;&amp;\',moreDropDot),\'&amp;&amp;\',expHandlers(clientAccount,\'!\')),\'&amp;&amp;\',expHandlers(expHandlers(cv_sys_name,\'!\'),\'||\',indexOf(cv_sys_name,&quot;REVIEWPROCESS&quot;,&quot;<&quot;,0))),\'&amp;&amp;\',expHandlers(expHandlers(cv_sys_name,\'!\'),\'||\',indexOf(cv_sys_name,&quot;IMAGEVALIDATION&quot;,&quot;<&quot;,0)))}}"><template case="true"> <span class="normalDropDown pR vaT"> <span lt-prop-aria-keydown="true" continue-propagation="true" role="button" tabindex="{{if(disableButtons,\'0\',\'-1\')}}" aria-controls="moreToolsPopup" aria-expanded="false" aria-haspopup="menu" id="moreTools" data-zcqa="cv_tools" class="showAct mR0 dIB listViewMoreAction vaM" aria-label="{{getI18n(\'crm.label.actions\')}}">{{getI18n("crm.label.actions")}} </span> <lyte-menu lt-prop-aria="{{isAccessibilityConfigSupported}}" lt-prop-yield="true" lt-prop-animate="true" lt-prop-query="span#moreTools" lt-prop-active-element="a" id="moreToolsPopup" lt-prop-position="downAlignLeft" on-close="{{method(\'actionMenuClose\',\'moreTools\')}}" on-before-close="{{method(\'actionMenuBeforeClose\')}}" on-before-open="{{method(\'ModifyDropDownActions\')}}" lt-prop-freeze="false" lt-prop-wrapper-class="moreActionListview"> <template is="registerYield" yield-name="yield"> <lyte-menu-body class="newLvDropdown"> <div class="moreActionListViewMenuDiv"> <template is="for" items="{{actions}}" item="action" index="index"><template is="if" value="{{expHandlers(expHandlers(expHandlers(expHandlers(action.type,\'==\',&quot;tool&quot;),\'&amp;&amp;\',expHandlers(action.name,\'!=\',\'create_mass_mail\')),\'&amp;&amp;\',expHandlers(expHandlers(action.name,\'!==\',&quot;create_client_script&quot;),\'||\',expHandlers(module_info.access_type,\'!==\',\'team_based\'))),\'&amp;&amp;\',expHandlers(expHandlers(action.name,\'!==\',&quot;manage_client_script&quot;),\'||\',expHandlers(module_info.access_type,\'!==\',\'team_based\')))}}"><template case="true"> <lyte-menu-item> <template is="switch" value="{{action.name}}"><template case="manage_tags"> <link-to lt-prop-route="crm.settings.section.manage-tags" id="cv_{{action.name}}" data-zcqa="cv_{{action.name}}" cscript-tag="{{action.name}}" lt-prop-dp="[&quot;{{module}}&quot;]" lt-prop-qp="{&quot;module&quot;:&quot;{{module}}&quot;}">{{action.display_label}} </link-to> </template><template case="web_lead_approval"></template><template case="web_contact_approval"></template><template case="web_case_approval"></template><template case="web_record_approval"></template><template case="web_vendor_approval"> <link-to lt-prop-route="crm.tab.module.actions.approvals" id="cv_{{action.name}}" data-zcqa="cv_{{action.name}}" cscript-tag="{{action.name}}" lt-prop-dp="[&quot;{{module}}&quot;]">{{action.display_label}} </link-to> </template><template case="deduplicate"> <link-to lt-prop-route="crm.tab.module.actions.deduplicate.index-deduplicate" id="cv_{{action.name}}" data-zcqa="cv_{{action.name}}" cscript-tag="{{action.name}}" lt-prop-dp="[&quot;{{module}}&quot;]">{{action.display_label}} </link-to> </template><template case="auto_responder"> <link-to lt-prop-route="crm.settings.section.autoresponders.index-autoresponder" id="cv_{{action.name}}" data-zcqa="cv_{{action.name}}" cscript-tag="{{action.name}}" lt-prop-dp="[&quot;{{module}}&quot;]" lt-prop-qp="{&quot;module&quot;:&quot;{{module}}&quot;}">{{action.display_label}} </link-to> </template><template case="mass_mail_scheduler"> <link-to lt-prop-route="crm.settings.section.schedule-mass-email" id="cv_{{action.name}}" data-zcqa="cv_{{action.name}}" cscript-tag="{{action.name}}" lt-prop-qp="{&quot;module&quot;:&quot;{{module}}&quot;}">{{action.display_label}} </link-to> </template><template case="mass_mail_unification"> <link-to lt-prop-route="crm.settings.section.manage-mass-mail.index-mass-mail" id="cv_{{action.name}}" data-zcqa="cv_{{action.name}}" cscript-tag="{{action.name}}" lt-prop-qp="{&quot;module&quot;:&quot;{{module}}&quot;}">{{action.display_label}} </link-to> </template><template case="generate_po"> <link-to lt-prop-route="crm.tab.module.actions.generate-po" id="cv_{{action.name}}" lt-prop-dp="[&quot;{{module}}&quot;]" data-zcqa="{{action.name}}" cscript-tag="{{action.name}}">{{action.display_label}} </link-to> </template><template case="automate_assignment_rules"> <link-to lt-prop-route="crm.settings.section.assignment-rule" id="cv_{{action.name}}" lt-prop-qp="{&quot;module&quot;:&quot;{{module}}&quot;}" data-zcqa="{{action.name}}" cscript-tag="{{action.name}}">{{action.display_label}} </link-to> </template><template case="add_to_campaigns"> <span id="addToCampaignsTool" class="actionLinkOnC" data-module="Campaigns" data-lookup-module="Campaigns" data-params="{&quot;fromTools&quot;:&quot;true&quot;}" data-zcqa="cv_{{action.name}}" cscript-tag="{{action.name}}" data-label="Crm_Campaigns_CAMPAIGNID" onclick="{{action(&quot;displayCampaignPopup&quot;,event,this)}}">{{action.display_label}}</span> <input type="hidden" id="Crm_Campaigns_CAMPAIGNID_TOOL" data-module="Campaigns" data-lookup-module="Campaigns" data-params="{&quot;fromTools&quot;:&quot;true&quot;}" data-zcqa="cv_{{action.name}}" data-label="Crm_Campaigns_CAMPAIGNID_TOOL"> </template><template case="manage_macro"> <link-to lt-prop-route="crm.settings.section.macro.index" id="cv_{{action.name}}" lt-prop-qp="{&quot;module&quot;:&quot;{{module}}&quot;}" data-zcqa="{{action.name}}" cscript-tag="{{action.name}}">{{action.display_label}} </link-to> </template><template case="drafts"> <link-to data-zcqa="cv_{{action.name}}" id="cv_{{action.name}}" cscript-tag="{{action.name}}" lt-prop-route="crm.tab.module.actions.draft" lt-prop-dp="[&quot;{{module}}&quot;]" lt-prop-qp="{&quot;module&quot;:&quot;{{module}}&quot;}">{{action.display_label}}</link-to> </template><template case="create_client_script"> <div id="cscriptcreateaction" class="pL20 pR20 pT7 pB8" data-zcqa="cv_{{action.name}}" onclick="{{action(\'choose_event\')}}"><div class="pR pR18">{{action.display_label}}<div class="addLvCscriptNewTag pA dIB" lt-prop-title="New"><crm-ui-loaders interaction-name="crmNewReleaseLoader"></crm-ui-loaders></div></div></div> </template><template case="manage_client_script"> <div id="cscriptcreateaction" class="pL20 pR20 pT7 pB8" data-zcqa="cv_{{action.name}}" onclick="{{action(\'openScript\')}}">{{action.display_label}}</div> </template><template default=""> <link-to lt-prop-route="crm.tab.module.actions.mass-tools" id="cv_{{action.name}}" data-zcqa="cv_{{action.name}}" cscript-tag="{{action.name}}" lt-prop-dp="[&quot;{{module}}&quot;]" lt-prop-qp="{&quot;type&quot;:&quot;{{action.name}}&quot;}">{{action.display_label}} </link-to> </template></template> </lyte-menu-item> </template></template></template><template is="if" value="{{expHandlers(checkPermission(&quot;Crm_Implied_Export&quot;,module),\'&amp;&amp;\',checkNewExportAndCv())}}"><template case="true"> <lyte-menu-item> <div id="cv_export_action" class="actionLinkOnC accessibility-route-elem" data-zcqa="export" onclick="{{action(\'showExportForm\',module,cvid)}}">{{getI18n(\'crm.setup.dataAdmin.export\')}} {{module_info.plural_label}} </div> </lyte-menu-item> </template></template> <template is="if" value="{{expHandlers(expHandlers(expHandlers(expHandlers(module_info.kanban_view,\'!\'),\'&amp;&amp;\',expHandlers(module_info.chart_view,\'!\')),\'&amp;&amp;\',expHandlers(module_info.timeline_view,\'!\')),\'&amp;&amp;\',isPartOf(&quot;Quotes,SalesOrders,PurchaseOrders,Invoices&quot;,module))}}"><template case="true"><template is="if" value="{{checkPermission(&quot;Crm_Implied_Print_View&quot;,module)}}"><template case="true"> <lyte-menu-item><span id="cv_Print_View" class="roModeActive actionLinkOnC" onclick="{{action(&quot;cvPrintView&quot;,module,module_info.per_page)}}">{{getI18n(\'crm.link.printview\')}}</span></lyte-menu-item> </template></template></template></template> <template is="if" value="{{expHandlers(expHandlers(expHandlers(expHandlers(module_info.kanban_view,\'!\'),\'&amp;&amp;\',expHandlers(module_info.chart_view,\'!\')),\'&amp;&amp;\',expHandlers(module_info.timeline_view,\'!\')),\'&amp;&amp;\',isNotPartOf(&quot;Quotes,SalesOrders,PurchaseOrders,Invoices,Visits&quot;,module))}}"><template case="true"> <div class="lv_borderSeparator"> </div> <template is="if" value="{{expHandlers(expHandlers(expHandlers(checkPermission(&quot;Crm_Implied_ZohoSheet_View&quot;,module),\'&amp;&amp;\',isNotPartOf(&quot;Activities,Services,Appointments,Tasks,Events,Calls,Bundles&quot;,module)),\'&amp;&amp;\',expHandlers(cv_sys_name,\'!=\',&quot;CONVERTEDVIEWS&quot;)),\'&amp;&amp;\',expHandlers(cv_sys_name,\'!=\',&quot;MYCONVERTEDVIEWS&quot;))}}"><template case="true"> <lyte-menu-item><span id="cv_Sheet_View" class="actionLinkOnC" onclick="{{action(\'showSheet\')}}">{{getI18n("crm.xls.view",brandName)}}</span></lyte-menu-item> </template></template><template is="if" value="{{checkPermission(&quot;Crm_Implied_Print_View&quot;,module)}}"><template case="true"> <lyte-menu-item><span id="cv_Print_View" class="roModeActive actionLinkOnC" onclick="{{action(&quot;cvPrintView&quot;,module,module_info.per_page)}}">{{getI18n(\'crm.link.printview\')}}</span></lyte-menu-item> </template></template> </template></template> </div> </lyte-menu-body> </template> </lyte-menu> </span> </template></template><template is="if" value="{{expHandlers(expHandlers(expHandlers(expHandlers(checkPermission(&quot;Crm_Implied_Print_View&quot;,module),\'&amp;&amp;\',expHandlers(module_info.kanban_view,\'!\')),\'&amp;&amp;\',expHandlers(module_info.zia_view,\'!\')),\'&amp;&amp;\',expHandlers(module,\'==\',&quot;Visits&quot;)),\'&amp;&amp;\',expHandlers(begin_page,\'!\'))}}"><template case="true"> <input id="printviewBtn" tabindex="{{if(disableButtons,\'0\',\'-1\')}}" type="button" onclick="{{action(&quot;cvPrintView&quot;,module,module_info.per_page)}}" class="newgraybtn dIB vaM" value="{{getI18n(&quot;crm.link.printview&quot;)}}"> </template></template> <template is="if" value="{{showAlphaSort}}"><template case="true"> <span lt-prop-aria-keydown="true" role="button" tabindex="{{if(disableButtons,\'0\',\'-1\')}}" class="alphadropbuttonCV crm-font-bold mL8 {{if(ifNotEquals(search_letter,\'All\'),\'alphaNewSelect\')}}" id="alphadropbutton"> <span class="alpha-link {{if(ifNotEquals(search_letter,\'All\'),\'alpha-linkNotAll\')}}"> <span id="alphaSearch" data-zcqa="alphaSearch"> <template is="if" value="{{expHandlers(search_letter,\'!=\',&quot;All&quot;)}}"><template case="true"> {{getI18n(search_letter)}} </template><template case="false"> All </template></template> </span> </span> <template is="if" value="{{expHandlers(search_letter,\'!=\',&quot;All&quot;)}}"><template case="true"> <span lt-prop-aria-keydown="true" role="button" tabindex="{{if(disableButtons,\'0\',\'-1\')}}" onclick="{{action(&quot;alphaSearchHandling&quot;,event)}}" class="smalledit cP"></span> </template></template> </span> <lyte-menu lt-prop-freeze="false" lt-prop-yield="true" lt-prop-animate="true" lt-prop-query="span#alphadropbutton" lt-prop-active-element="#alphadropbutton" lt-prop-tabindex="10" on-close="{{method(\'hideDropBox\')}}" on-before-open="{{method(\'showDropbox\')}}" on-menu-click="{{method(\'sortRecord\')}}" lt-prop-wrapper-class="alphaContentNew"> <template is="registerYield" yield-name="yield"> <lyte-menu-body id="alphaContent" class="customviewAlphaMenuBody alphaContent"> <template is="if" value="{{showAlphaDropBox}}"><template case="true"> <lyte-menu-item data-value="All" class="{{if(expHandlers(search_letter,\'==\',\'All\'),\'alphaContentSelected\',\'\')}}"> {{getI18n("All")}}</lyte-menu-item> <template is="for" items="{{alphabets}}" item="item" index="indeval"> <lyte-menu-item data-value="{{item}}" data-zcqa="alphaSearch_{{item}}" class="{{if(expHandlers(search_letter,\'==\',item),\'alphaContentSelected\',\'\')}}">{{item}}</lyte-menu-item> </template></template></template> </lyte-menu-body> </template> </lyte-menu> </template></template> </template><template case="false"> <template is="if" value="{{expHandlers(featureName,\'==\',&quot;PORTALS&quot;)}}"><template case="true"> <lyte-button lt-prop-tabindex="{{if(disableButtons,\'0\',\'-1\')}}" class="moreActionButton cpT_sendInviteCancel vaT" id="cancelpop" data-zcqa="cancelpop" onclick="{{action(\'cancelpop\',\'PORTALS\')}}"> <template is="registerYield" yield-name="text"> {{getI18n("crm.button.cancel")}} </template> </lyte-button> <lyte-button lt-prop-tabindex="{{if(disableButtons,\'0\',\'-1\')}}" class="moreActionButton mL8 cpT_sendInvite" lt-prop-disabled="{{disableButtons}}" lt-prop-appearance="primary" id="SendInvite" data-zcqa="send_invite" onclick="{{action(\'sendInvite\',\'send_invite\')}}"> <template is="registerYield" yield-name="text"> {{getI18n("custmr.prtl.send.invite")}} </template> </lyte-button> </template><template case="false"><template is="if" value="{{expHandlers(featureName,\'==\',&quot;CAMPAIGNMEMBERLISTVIEW&quot;)}}"><template case="true"> <lyte-button class="moreActionButton cpT_sendInviteCancel vaT" lt-prop-appearance="primary" data-zcqa="createbutton" onclick="{{action(\'openQuickCreatePopUpCampaign\')}}"> <template is="registerYield" yield-name="text"> {{getI18n("crm.module.new",module_info.singular_label)}} </template> </lyte-button> <template is="if" value="{{expHandlers(selectedIds.length,\'||\',showNextAction)}}"><template case="true"> <lyte-button class="moreActionButton cpT_sendInvite" lt-prop-appearance="primary" data-zcqa="associate_campaign" onclick="{{action(\'openMemberStatusPopup\')}}"> <template is="registerYield" yield-name="text"> {{getI18n("crm.button.next")}} </template> </lyte-button> </template></template> </template><template case="false"><template is="if" value="{{expHandlers(featureName,\'==\',&quot;COMPLIANCE&quot;)}}"><template case="true"> <span class="lvComplianceCloseIcon cP" data-zcqa="closePop" onclick="{{action(\'cancelpop\',\'COMPLIANCE\')}}"></span> </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(featureName,\'==\',&quot;CHARTVIEWS&quot;),\'&amp;&amp;\',expHandlers(activityBadgeUpgrade,\'!\'))}}"><template case="true"> <span class="lvComplianceCloseIcon cP" data-zcqa="chartDrilldown_closePop" onclick="{{action(\'cancelpop\',\'CHARTVIEWS\')}}"></span> </template></template></template></template></template></template></template></template> </template></template> </lyte-td> </template></template> </lyte-tr> </lyte-tbody> </lyte-table-structure> </template> </lyte-table> <template is="if" value="{{warningNote}}"><template case="true"> <div class="dF mL30 mT10"> <div class="crmNotesSection"> <span class="crm-font-bold mR5">Note:</span> {{getI18n(warningNote)}} </div> </div> </template></template> <template is="if" value="{{expHandlers(hideGreyArea,\'!\')}}"><template case="true"> <div role="complementary" lt-prop-landmark="true" tabindex="-1" lt-prop-landmark-label="{{getI18n(\'crm.landmark.comp\',\'crm.accessibility.record.pagination\')}}" aria-label="{{getI18n(\'crm.accessibility.record.pagination\')}}" class="actionDetailsArea aiCenter spaceBetween boxBB {{if(noOrchOrPfModule,\'dN\',\'dF\')}}"> <span class="{{concat(if(showKvSettings,\'nLKanbanSettings \',\'\'),\' totalRecordsInNumbers \',if(and(showPipeline,layouts.length),\'mWidth50\',if(or(showPipeline,layouts.length),\'mWidth65\',\' mWidth75\')))}} {{if(expHandlers(featureName,\'===\',\'CHARTVIEWS\'),\'cvCustomWidth\')}}" data-zcqa="lv_summaryArea"> <template is="if" value="{{showKvSettings}}"><template case="true"> <template is="if" value="{{expHandlers(expHandlers(isMultipleKanbanEnable,\'!\'),\'||\',expHandlers(isMultipleKanbanEnable,\'&amp;&amp;\',expHandlers(kanbanEditionLimit,\'===\',0)))}}"><template case="true"> <lyte-text class="sv-edit-kbview ellipsistext ttCapitalize kanbanviewStageCol crm-font-bold mT0" lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottom&quot;, &quot;appearance&quot;: &quot;box&quot;}" lt-prop-tooltip-class="lvTooltipClass" lt-prop-value="{{kanbanViewName}}"></lyte-text> </template><template case="false"> <crm-cvmanage-dropdown class="crmSmallDropdown mR6 kanbanview_vwmanage" selected-item="{{lbind(kvId)}}" edition-limit="{{kanbanEditionLimit}}"></crm-cvmanage-dropdown> </template></template> <template is="if" value="{{isMultipleKanbanEnable}}"><template case="true"> <span class="icon-hover-effects icon-hover-lg editKanbanViewSetup {{if(expHandlers(kanbanPermission,\'!\'),\'disable\',\'\')}}" onclick="{{action(\'editKanbanViewSetup\')}}" data-zcqa="kv_editsetup" lt-prop-title="{{if(kanbanPermission,getI18n(\'crm.module.edit\',getI18n(\'canvas.kanban.view.tooltip\')),getI18n(\'crm.creator.error.access\'))}}"><span class="zcicncss-listviewedit zcicn-cssIcons zcicn_black_mask zi2"></span></span> </template></template> </template></template> <template is="if" value="{{expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(module_info.chart_view,\'||\',module_info.timeline_view),\'||\',recordCount),\'||\',expHandlers(recordCount,\'===\',0)),\'||\',expHandlers(page,\'>\',1)),\'&amp;&amp;\',expHandlers(selectedIds.length,\'==\',0))}}"><template case="true"> <template is="if" value="{{expHandlers(expHandlers(fetchCountValues,\'!\'),\'&amp;&amp;\',expHandlers(total_new_count,\'==\',&quot;###&quot;))}}"><template case="true"> <span id="totalRecordsCount" lt-prop-aria-keydown="true" role="button" tabindex="{{if(disableButtons,\'0\',\'-1\')}}" onclick="{{action(\'fetchCountOnReq\')}}" class="cP link date totalRecordsInNumbers">{{getI18n("totalrecords")}}<span class="newDarkColor "> {{total_new_count}}</span></span> </template><template case="false"> {{getI18n("totalrecords")}} <template is="if" value="{{expHandlers(expHandlers(expHandlers(total_count,\'!\'),\'&amp;&amp;\',expHandlers(total_count,\'!=\',0)),\'||\',show_loading)}}"><template case="true"> <span id="totalCountNo" class="newDarkColor crm-font-bold"> <img src="{{getCrmImageUrl(\'moreloading1_lightmode.gif\')}}" alt="loading" class="w10 h10" data-image-mode="true"></span> </template><template case="false"> <span id="totalCountNo" class="newDarkColor crm-font-bold"> {{total_count}}</span> </template></template></template></template><template is="if" value="{{expHandlers(expHandlers(featureName,\'===\',\'CHARTVIEWS\'),\'&amp;&amp;\',expHandlers(featureObject.statusLabel,\'!==\',undefined))}}"><template case="true"> <span class="radiusCircle dIB"></span> <span class="crm-subheading-font-size crmBaseColor mT8 vaT" data-zcqa="privacy_type">{{unescape(featureObject.statusLabel)}}</span> </template></template></template><template case="false"><template is="if" value="{{isFromModal}}"><template case="true"> <span id="modal_buttons_layer"> {{unescape(selected)}} <span lt-prop-aria-keydown="true" role="button" tabindex="{{if(disableButtons,\'0\',\'-1\')}}" onclick="{{action(\'clearFields\')}}" id="selectAllEntity" class="linkColor crm-base-font-size dIB cP vaM" data-zcqa="clearRecords">{{getI18n(\'crm.title.clear.name\')}}</span> </span> </template></template></template></template><template is="if" value="{{expHandlers(expHandlers(applied_filters,\'||\',showClearFilter),\'&amp;&amp;\',expHandlers(selectedIds.length,\'==\',0))}}"><template case="true"> <span class="filterData cDefault pR"> <span class="radiusCircle dIB"></span>{{if(showClearFilter,\'\',getI18n("crm.emailstats.filterby"))}} <span class="filternameBy cText newDarkColor crm-font-bold">{{unescape(applied_filters)}}</span> <span class="dIB pR mL7 wsNowrap"> <template is="if" value="{{expHandlers(expHandlers(isSaveFilter,\'&amp;&amp;\',expHandlers(clientAccount,\'!\')),\'&amp;&amp;\',expHandlers(isFromModal,\'!\'))}}"><template case="true"> <lyte-button id="saveBtn" lt-prop-tabindex="0" lt-prop-id="saveFilterBtn" lt-prop-class="outlineprimary bt-smallbtn" lt-prop-disabled="{{if(preventSaveFilter,\'true\',if(expHandlers(savedFilters.length,\'>=\',smartFiltersLimit),if(expHandlers(isSameFilterId,\'||\',appliedFilterId),\'false\',\'true\'),\'false\'))}}" lt-prop-tooltip-config="{&quot;position&quot; : &quot;bottom&quot;, &quot;appearance&quot; : &quot;callout&quot; , &quot;maxdisplaytime&quot; : 5000 }" lt-prop-title="{{if(expHandlers(preventSaveFilter,\'!\'),if(expHandlers(savedFilters.length,\'>=\',smartFiltersLimit),if(expHandlers(isSameFilterId,\'||\',appliedFilterId),\'\',getI18n(\'crm.warning.filter.limit.exceed.new\',smartFiltersLimit)),\'\'),preventSaveFilterMsg)}}" lt-prop-appearance="default" onclick="{{action(\'saveNewFilter\',module_info.api_name)}}" data-zcqa="dash_listView_save"> <template is="registerYield" yield-name="text">{{getI18n(\'crm.email.save.filter\')}} <template is="if" value="{{appliedFilterId}}"><template case="true"> <span class="{{if(preventSaveFilter,\'op6\',\'\')}} zcicn-arrow-solid-down-sm-mask zcicn-cssIcons zcicn_blue_mask vaT mT5 mL5"></span></template></template> </template> </lyte-button> <template is="if" value="{{expHandlers(appliedFilterId,\'&amp;&amp;\',expHandlers(preventSaveFilter,\'!\'))}}"><template case="true"> <lyte-menu id="saveMenu" lt-prop-position="down" lt-prop-yield="true" lt-prop-active-element="#saveFilterBtn" lt-prop-freeze="false" lt-prop-event="click" lt-prop-query="#saveBtn" on-before-open="{{method(\'beforeOpenSaveMenu\')}}" on-menu-click="{{method(\'getMenuSelectItem\')}}" lt-prop-wrapper-class="moreActionListview"> <template is="registerYield" yield-name="yield"> <lyte-menu-body class="newLvDropdown"> <lyte-menu-item class="crm-base-font-size" data-value="save" data-zcqa="dash_lv_menu_save"> <lyte-menu-label> {{getI18n(\'Save\')}} </lyte-menu-label> </lyte-menu-item> <lyte-menu-item class="crm-base-font-size {{if(expHandlers(savedFilters.length,\'>=\',smartFiltersLimit),\'customviewNoHover\')}}" data-value="save_new" lt-prop-title="{{if(expHandlers(savedFilters.length,\'>=\',smartFiltersLimit),getI18n(\'crm.warning.filter.limit.exceed.new\',smartFiltersLimit),\'\')}}" lt-prop-tooltip-config="{ &quot;position&quot; : &quot;right&quot; , &quot;appearance&quot; : &quot;callout&quot; , &quot;maxdisplaytime&quot; : 5000 }" data-zcqa="dash_lv_menu_save_as_new"> <lyte-menu-label class="{{if(expHandlers(savedFilters.length,\'>=\',smartFiltersLimit),\'customViewDisabled\')}}"> {{getI18n(\'crm.button.saveAsNewAndRun\')}} </lyte-menu-label> </lyte-menu-item> </lyte-menu-body> </template> </lyte-menu> </template></template> </template></template><template is="if" value="{{expHandlers(expHandlers(expHandlers(applied_filters,\'||\',showClearFilter),\'&amp;&amp;\',expHandlers(isApplyFilter,\'!\')),\'||\',expHandlers(expHandlers(showFilter,\'&amp;&amp;\',expHandlers(isFilterActive,\'!\')),\'&amp;&amp;\',expHandlers(applied_filters,\'||\',showClearFilter)))}}"><template case="true"> <span lt-prop-aria-keydown="true" role="button" tabindex="{{if(disableButtons,\'0\',\'-1\')}}" class="cP clear outlineprimary bt-smallbtn pR mR0" onclick="{{action(\'clearFilter\')}}" data-zcqa="lv_clearFilter">{{getI18n(\'crm.report.clear.filter\')}}</span> </template></template> </span> </span> </template></template> <template is="if" value="{{expHandlers(expHandlers(sorted_column,\'&amp;&amp;\',expHandlers(module_info.kanban_view,\'!\')),\'&amp;&amp;\',expHandlers(selectedIds.length,\'==\',0))}}"><template case="true"> <span class="filterData cDefault wsNowrap"><span class="radiusCircle dIB"></span>{{getI18n("crm.api.apidashboard.SortBy")}} <span class="newDarkColor crm-font-bold cText">{{sorted_column}}</span> </span></template></template> <template is="if" value="{{expHandlers(sorted_column,\'&amp;&amp;\',expHandlers(selectedIds.length,\'===\',0))}}"><template case="true"> <span class="mL8 cP unsortLink pR" onclick="{{action(\'sortRecord\',\'unsort\')}}" data-zcqa="lv_unsortLink">{{getI18n("crm.column.unsort")}}</span> </template></template> </span> <template is="if" value="{{expHandlers(module_info.chart_view,\'&amp;&amp;\',chart_sortby_enabled)}}"><template case="true"> <div class="dF"> <div class="dIF chartDropdown"> <div class="chartview-label crmLabelColor mR10 mT5">{{getI18n("crm.api.apidashboard.SortBy")}}</div> <lyte-dropdown data-zcqa="chart_sort_by" id="chartViewSortBy" class="chartViewSmallDrop crmSmallDropdown" lt-prop-selected="{{lbind(chart_sorted_column)}}" on-before-show="{{method(\'beforeSortBy\')}}" on-change="{{method(\'sortBySelected\')}}"> <template is="registerYield" yield-name="yield"> <lyte-drop-box class="crmSmallDropBox"> <lyte-drop-body> <template is="for" items="{{sortByOptions}}" item="field" index="fieldIndex"> <template is="if" value="{{field.show}}"><template case="true"> <lyte-drop-item data-zcqa="chart_sort_by_{{field.name}}" lt-prop-tooltip-class="crmWhiteTooltip" data-value="{{field.value}}">{{field.name}}</lyte-drop-item> </template></template> </template> </lyte-drop-body> </lyte-drop-box> </template> </lyte-dropdown> </div> </div> </template></template> <template is="if" value="{{expHandlers(showKvSettings,\'||\',module_info.timeline_view)}}"><template case="true"> <span class="nLVKanbanViewSetting crm-base-font-size fR"> <template is="if" value="{{expHandlers(layouts.length,\'>\',1)}}"><template case="true"> <span class="vaT dIB crm-base-font-size wsNowrap"> <span class="dIB mR5 vaM cDefault">{{getI18n("crm.label.customize.layouts")}}</span> <lyte-dropdown id="layoutDropdown" data-zcqa="kv_layout" class="dIB vaM crmSmallDropdown" lt-prop-tabindex="{{if(disableButtons,\'0\',\'-1\')}}" lt-prop-icon-class="dropdown" lt-prop-tooltip="{&quot;margin&quot;:&quot;5&quot;,&quot;showdelay&quot;:&quot;0&quot;,&quot;hidedelay&quot;:&quot;0&quot;}" lt-prop-freeze="true" on-change="{{method(\'changeLayout\')}}"> <template is="registerYield" yield-name="yield"> <lyte-drop-box class="layoutDrop moduleChangeDom"> <lyte-drop-body> <lyte-drop-item data-value="0">{{getI18n("crm.label.all.layouts")}}</lyte-drop-item> <template is="for" items="{{layouts}}" item="layout" index="index"> <lyte-drop-item data-value="{{layout.id}}" class="{{if(layout.fieldPresence,\'\',\'eventNone op6\')}}">{{layout.name}}</lyte-drop-item> </template> </lyte-drop-body> </lyte-drop-box> </template> </lyte-dropdown> <span class="radiusCircle dIB"></span> </span> </template></template> <template is="if" value="{{showPipeline}}"><template case="true"> <span id="pipeDropdown" class="wsNowrap {{if(pipelines,\'dIB crm-base-font-size\',\'mR40 vaM dIB crm-small-font-size op5 eventNone\')}}"> <span class="dIB mR6 vaM crm-base-font-size cDefault">{{getI18n("crm.label.pipelines")}}</span> <template is="if" value="{{expHandlers(pipelines,\'&amp;&amp;\',pipelines.length)}}"><template case="true"> <crm-kanbanview-pipeline-dropdown class="dIB vaM" pipelines="{{jsonToString(pipelines)}}" is-single-layout="{{singleLayout}}" on-pipeline-change="{{method(\'changeLayout\')}}"></crm-kanbanview-pipeline-dropdown> </template><template case="false"> <lyte-dropdown data-zcqa="kv_pipeline" class="dIB vaM crmSmallDropdown" pipedropdownlt-prop-selected="none"> <template is="registerYield" yield-name="yield"> <lyte-drop-box class="pipelinesDrop"> <lyte-drop-body> <lyte-drop-item data-value="none">{{getI18n("crm.report.none")}}</lyte-drop-item> </lyte-drop-body> </lyte-drop-box> </template> </lyte-dropdown> </template></template> <span class="radiusCircle dIB"></span> </span> </template></template> <span class="vaT wsNowrap dIB"> <span class="mR6 mL3 dIB vaM cDefault">{{getI18n("crm.api.apidashboard.SortBy")}}</span> <span id="KanbanViewSortColumn"> <lyte-dropdown id="KanbanViewSortColumnDropdown" class="dIB vaM crmSmallDropdown" data-zcqa="kv_sortcolumn" lt-prop-icon-class="dropdown" lt-prop-tooltip="{&quot;showdelay&quot;:&quot;0&quot;,&quot;hidedelay&quot;:&quot;0&quot;}" lt-prop-wrapper-class="sortKanbanView" on-hide="{{method(\'sortBySearchValue\')}}" on-change="{{method(\'changeSort\')}}"> <template is="registerYield" yield-name="yield"> <lyte-drop-box class="moduleChangeDom lyteDropdownHidden {{if(expHandlers(sortFields.length,\'>=\',10),\'lVSearchEnable\',\'\')}}"> <template is="if" value="{{expHandlers(sortFields.length,\'>=\',10)}}"><template case="true"> <lyte-drop-header> <lyte-search id="sortBySearch" class="crmSmallInput" lt-prop-trim="true" lt-prop-query-selector="{&quot;scope&quot; : &quot;.sortByCont&quot;, &quot;search&quot; : &quot;.fieldList&quot;, &quot;target&quot; : &quot;.fieldList&quot;}" on-search="{{method(\'sortBySearch\')}}"></lyte-search> </lyte-drop-header> </template></template> <lyte-drop-body class="sortByCont"> <lyte-drop-item class="fieldList" data-value="0">{{getI18n("crm.label.picklist.none")}}</lyte-drop-item> <template is="for" items="{{sortFields}}" item="field" index="index"><template is="if" value="{{field.sortable}}"><template case="true"> <lyte-drop-item class="fieldList" data-value="{{field.id}}">{{field.field_label}}</lyte-drop-item> </template></template></template> <template is="if" value="{{showSortNoResult}}"><template case="true"> <span id="noResultSItem">{{getI18n("crm.label.no.options.found")}}</span> </template></template> </lyte-drop-body> </lyte-drop-box> </template> </lyte-dropdown> </span> <span id="KanbanViewSortOrder"> <lyte-dropdown id="KanbanViewSortOrderDropdown" class="dIB vaM crmSmallDropdown mL5" data-zcqa="kv_sortorder" lt-prop-icon-class="dropdown" lt-prop-tooltip="{&quot;showdelay&quot;:&quot;0&quot;,&quot;hidedelay&quot;:&quot;0&quot;}" lt-prop-wrapper-class="sortKanbanView moduleChangeDom" on-change="{{method(\'changeSort\')}}"> <template is="registerYield" yield-name="yield"> <lyte-drop-box class="moduleChangeDom"> <lyte-drop-body> <lyte-drop-item data-value="asc">{{getI18n("crm.column.sort.asc")}}</lyte-drop-item> <lyte-drop-item data-value="desc">{{getI18n("crm.column.sort.desc")}}</lyte-drop-item> </lyte-drop-body> </lyte-drop-box> </template> </lyte-dropdown> </span> </span> <template is="if" value="{{expHandlers(expHandlers(isMultipleKanbanEnable,\'!\'),\'&amp;&amp;\',kv_cust_perm)}}"><template case="true"> <span class="radiusCircle dIB"></span> <span class="crm-small-font-size kvSettingIcon crm-base-font-size fR mT3 cP mL8" onclick="{{action(\'editKanbanViewSetup\')}}" data-zcqa="kv_editsetup" lt-prop-title="{{getI18n(\'crm.label.kanbanview.settings\')}}"><span class="zcicncss-settings-reg zcicn-cssIcons zcicncss15 zcicn_black_mask zi2"></span></span> </template></template> </span> </template></template> <template is="if" value="{{expHandlers(recordCount,\'||\',expHandlers(expHandlers(page,\'>\',1),\'&amp;&amp;\',expHandlers(expHandlers(expHandlers(module_info.kanban_view,\'||\',module_info.stage_view),\'||\',module_info.zia_view),\'!\')))}}"><template case="true"> <span class="flexAlignCenter jcFlextEnd"> <template is="if" value="{{expHandlers(selectedIds.length,\'==\',0)}}"><template case="true"> <span class="fL nLVKanbanViewSetting nRecPerPage"> <lyte-dropdown data-zcqa="dash_currentOption" lt-prop-aria="{{isAccessibilityConfigSupported}}" lt-prop-aria-attributes="{&quot;aria-label&quot; : {{getI18n(&quot;crm.accessibility.record.pp&quot;)}}}" lt-prop-tabindex="{{if(disableButtons,\'0\',\'-1\')}}" lt-prop-freeze="false" class="dash_currentOption crmSmallDropdown" lt-prop-selected="{{module_info.per_page}}" on-option-selected="{{method(\'changePerPage\')}}"> <template is="registerYield" yield-name="yield"> <lyte-drop-box class="moduleChangeDom bHAutoUpdate"> <lyte-drop-body> <template is="for" items="{{optionsList}}" item="item" index="index"> <lyte-drop-item class="wsNowrap" data-value="{{item.system_value}}" data-zcqa="{{item.user_value}}"> {{item.user_value}}</lyte-drop-item> </template> </lyte-drop-body> </lyte-drop-box> </template> </lyte-dropdown> </span> <span class="radiusCircle dIB"></span> </template></template> <crm-page-navigator custom-method-implemented="{{customMethodImplemented}}" from="cvlayer" module_info="{{module_info}}" more_records="{{more_records}}" start-index="{{lbind(module_info.start_index)}}" total_count="{{getFinalTotalCount(total_count,recordCount,page,module_info.per_page)}}" per_page="{{module_per_page}}" page="{{page}}" is_text_out="true" is-from-modal="{{isFromModal}}" feature-name="{{featureName}}" class="mL10 flexAlignCenter" query-params="{{queryParams}}" listfields="{{listfields}}"></crm-page-navigator> </span> </template></template> </div> </template></template> <span id="canvas-listview-gallery-container"></span> </div> <template is="if" value="{{noOrchOrPfModule}}"><template case="true"> <div id="orchpfModuleContainer" class="orchpfModuleContainer aligncenter mR15 mB20 mL15 mT20"> <template is="if" value="{{expHandlers(selectedTab,\'===\',&quot;Journey&quot;)}}"><template case="true"><span class="dB orchpfModuleContTitle">{{getI18n(\'crm.commandcenter.no.journeys\')}}</span></template><template case="false"><span class="dB orchpfModuleContTitle">{{getI18n(\'pf.configure.empty\')}}</span></template></template> <lyte-button data-zcqa="CreateCCorPF" lt-prop-appearance="primary" class="mT20" onclick="{{action(\'createJourneyOrPathFinder\')}}"> <template is="if" value="{{expHandlers(selectedTab,\'===\',&quot;Journey&quot;)}}"><template case="true"><template is="registerYield" yield-name="text">{{getI18n(\'crm.orchestration.button.create.process\')}}</template></template><template case="false"><template is="registerYield" yield-name="text">{{getI18n(\'pf.configure.touchpoints\')}}</template></template></template> </lyte-button> </div> </template></template> <template is="if" value="{{noOrchOrPfModule}}"><template case="true"><lyte-event-listener event-name="windowResize" on-fire="{{action(\'orchpfModuleResizeAction\')}}"> </lyte-event-listener></template></template></template>',_dynamicNodes:[{type:"attr",position:[11,1]},{type:"registerYield",position:[11,1,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"text",position:[1,1,3,1,0]},{type:"text",position:[1,1,3,3,0]},{type:"text",position:[1,1,3,5,1,0]},{type:"text",position:[1,1,3,5,3,0]},{type:"text",position:[1,1,3,5,5,0]},{type:"attr",position:[1,5,1]},{type:"registerYield",position:[1,5,1,1],dynamicNodes:[{type:"text",position:[1]}]},{type:"componentDynamic",position:[1,5,1]},{type:"text",position:[1,7,1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[11,1]},{type:"attr",position:[13]},{type:"attr",position:[13,1]},{type:"if",position:[13,1],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,3]},{type:"attr",position:[1,1,5]},{type:"text",position:[1,1,5,0]}]}},default:{}},{type:"attr",position:[13,3]},{type:"registerYield",position:[13,3,1],dynamicNodes:[{type:"attr",position:[1,1,1,1]},{type:"if",position:[1,1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[]}},default:{}},{type:"attr",position:[1,3]},{type:"componentDynamic",position:[1,3]},{type:"attr",position:[1,5]},{type:"attr",position:[1,5,1]},{type:"attr",position:[1,7]},{type:"if",position:[1,7],cases:{true:{dynamicNodes:[{type:"attr",position:[0,1,1]},{type:"attr",position:[0,1,3]},{type:"text",position:[0,1,3,1]},{type:"attr",position:[0,1,5]},{type:"attr",position:[0,1,7]},{type:"text",position:[0,1,7,1]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[]}},default:{}},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[3]},{type:"attr",position:[3,1]},{type:"if",position:[3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"registerYield",position:[1,1,1,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]}]},false:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]}]}},default:{}},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3,1]},{type:"if",position:[3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[3,3,1]},{type:"if",position:[3,3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]}]}},default:{}},{type:"attr",position:[3,3,3]},{type:"for",position:[3,3,3],dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1]}]}},default:{}}]},{type:"attr",position:[3,3,5]},{type:"if",position:[3,3,5],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[3,3,7]},{type:"registerYield",position:[3,3,7,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"text",position:[1,1,1,1]},{type:"componentDynamic",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"text",position:[1,3,1,1]},{type:"componentDynamic",position:[1,3,1]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,3,7]},{type:"componentDynamic",position:[3,3]},{type:"componentDynamic",position:[3]}]},{type:"componentDynamic",position:[1,1,1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[3,3]},{type:"if",position:[3,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"registerYield",position:[1,1,1],dynamicNodes:[{type:"text",position:[1,1,1]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3,1,1]},{type:"forIn",position:[3,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[3,5,1]},{type:"if",position:[3,5,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[1,5,1]},{type:"if",position:[1,5,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[]}},default:{}}]}},default:{}},{type:"attr",position:[1,5,2]},{type:"if",position:[1,5,2],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"text",position:[3,0]},{type:"attr",position:[5]},{type:"if",position:[5],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"text",position:[1]}]},{type:"componentDynamic",position:[1]}]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"text",position:[3,0]},{type:"text",position:[5,1,0]}]},false:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}}]}},default:{}}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}]}},default:{}},{type:"componentDynamic",position:[3,5]},{type:"componentDynamic",position:[3]},{type:"attr",position:[5]},{type:"attr",position:[5,1]},{type:"if",position:[5,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"text",position:[1,1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"componentDynamic",position:[1,3,1]}]}},default:{}},{type:"attr",position:[3,1]},{type:"if",position:[3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3,1,1]},{type:"if",position:[3,1,1],cases:{true:{dynamicNodes:[{type:"componentDynamic",position:[1,1]},{type:"text",position:[1,3]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[3,1,3]},{type:"if",position:[3,1,3],cases:{true:{dynamicNodes:[{type:"componentDynamic",position:[1,1]},{type:"text",position:[1,3]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[3,1,5]},{type:"if",position:[3,1,5],cases:{true:{dynamicNodes:[{type:"componentDynamic",position:[1,1]},{type:"text",position:[1,3]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[3,1,6]},{type:"if",position:[3,1,6],cases:{true:{dynamicNodes:[{type:"text",position:[1,3]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[3,1,8]},{type:"if",position:[3,1,8],cases:{true:{dynamicNodes:[{type:"text",position:[1,3]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[3,1,10]},{type:"if",position:[3,1,10],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"componentDynamic",position:[1,1]},{type:"text",position:[1,3]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[1,5]},{type:"if",position:[1,5],cases:{true:{dynamicNodes:[{type:"componentDynamic",position:[1,1]},{type:"text",position:[1,3]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[1,7]},{type:"if",position:[1,7],cases:{true:{dynamicNodes:[{type:"componentDynamic",position:[1,1]},{type:"text",position:[1,3]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"componentDynamic",position:[1,1]},{type:"text",position:[1,3]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3]}]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[3,3]},{type:"if",position:[3,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"attr",position:[5]},{type:"if",position:[5],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"text",position:[1]}]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"registerYield",position:[1,1,1],dynamicNodes:[{type:"text",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"registerYield",position:[1,1,1],dynamicNodes:[{type:"text",position:[1]}]},{type:"componentDynamic",position:[1,1]}]},false:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"registerYield",position:[1,1,1],dynamicNodes:[{type:"text",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[3]},{type:"registerYield",position:[3,1],dynamicNodes:[{type:"text",position:[1]}]},{type:"componentDynamic",position:[3]},{type:"attr",position:[5]},{type:"registerYield",position:[5,1],dynamicNodes:[{type:"text",position:[1]}]},{type:"componentDynamic",position:[5]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"text",position:[1,1,0]},{type:"attr",position:[3]},{type:"registerYield",position:[3,1],dynamicNodes:[{type:"attr",position:[1,1,1,0]},{type:"text",position:[1,1,1,0,0]},{type:"componentDynamic",position:[1,1,1,0]},{type:"attr",position:[1,1,3]},{type:"for",position:[1,1,3],dynamicNodes:[{type:"attr",position:[1,0]},{type:"text",position:[1,0,0]},{type:"componentDynamic",position:[1,0]}]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"text",position:[1,1,0]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"text",position:[1,1,0]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"text",position:[1,1,1,0]},{type:"componentDynamic",position:[1,1]}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}},{type:"attr",position:[1,2]},{type:"if",position:[1,2],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"registerYield",position:[3,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,0]},{type:"text",position:[1,0,1]},{type:"componentDynamic",position:[1,0]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}]},{type:"attr",position:[1,3]},{type:"switch",position:[1,3],cases:{Leads:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[5]},{type:"if",position:[5],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{dynamicNodes:[]}},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}]}},default:{}},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"registerYield",position:[1,1,1,1],dynamicNodes:[{type:"text",position:[1]}]},{type:"componentDynamic",position:[1,1,1]},{type:"componentDynamic",position:[1,1]}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}},{type:"attr",position:[6]},{type:"if",position:[6],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[7]},{type:"if",position:[7],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"text",position:[1,1,0]},{type:"attr",position:[1,3]},{type:"registerYield",position:[1,3,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"switch",position:[1,1],cases:{manage_tags:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},web_lead_approval:{dynamicNodes:[],additional:{next:"web_contact_approval"}},web_contact_approval:{dynamicNodes:[],additional:{next:"web_case_approval"}},web_case_approval:{dynamicNodes:[],additional:{next:"web_record_approval"}},web_record_approval:{dynamicNodes:[],additional:{next:"web_vendor_approval"}},web_vendor_approval:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},deduplicate:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},auto_responder:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},mass_mail_scheduler:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},mass_mail_unification:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},generate_po:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},automate_assignment_rules:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},add_to_campaigns:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"attr",position:[3]}]},manage_macro:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},drafts:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},create_client_script:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0,0]},{type:"componentDynamic",position:[1,0,2,0]}]},manage_client_script:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},{type:"componentDynamic",position:[1]}]}},default:{}}]},{type:"attr",position:[1,1,2]},{type:"if",position:[1,1,2],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"text",position:[1,1,0]},{type:"text",position:[1,1,2]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[1,1,4]},{type:"if",position:[1,1,4],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1,0]},{type:"text",position:[1,0,0]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,1,6]},{type:"if",position:[1,1,6],cases:{true:{dynamicNodes:[{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1,0]},{type:"text",position:[1,0,0]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[4]},{type:"if",position:[4],cases:{true:{dynamicNodes:[{type:"attr",position:[1,0]},{type:"text",position:[1,0,0]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,3]}]}},default:{}},{type:"attr",position:[8]},{type:"if",position:[8],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"attr",position:[10]},{type:"if",position:[10],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1,1]},{type:"if",position:[1,1,1,1],cases:{true:{dynamicNodes:[{type:"text",position:[1]}]},false:{dynamicNodes:[]}},default:{}},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"attr",position:[3]},{type:"registerYield",position:[3,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"for",position:[3],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}]}},default:{}},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"text",position:[1]}]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"registerYield",position:[3,1],dynamicNodes:[{type:"text",position:[1]}]},{type:"componentDynamic",position:[3]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"text",position:[1]}]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"text",position:[1]}]},{type:"componentDynamic",position:[1]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}},{type:"componentDynamic",position:[5]}]}},default:{}},{type:"componentDynamic",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[13,3]},{type:"attr",position:[13,5]},{type:"if",position:[13,5],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,3]}]}},default:{}},{type:"attr",position:[13,7]},{type:"if",position:[13,7],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,1,3]},{type:"if",position:[1,1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"text",position:[1,2,1]}]},false:{dynamicNodes:[{type:"text",position:[1]},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]}]},false:{dynamicNodes:[{type:"text",position:[1,1]}]}},default:{}}]}},default:{}},{type:"attr",position:[2]},{type:"if",position:[2],cases:{true:{dynamicNodes:[{type:"text",position:[3,0]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,1]},{type:"attr",position:[1,3]},{type:"text",position:[1,3,0]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,1,4]},{type:"if",position:[1,1,4],cases:{true:{dynamicNodes:[{type:"text",position:[1,2]},{type:"text",position:[1,4,0]},{type:"attr",position:[1,6,1]},{type:"if",position:[1,6,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"text",position:[0]},{type:"attr",position:[2]},{type:"if",position:[2],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}}]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"text",position:[1,1,1,1]},{type:"componentDynamic",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"attr",position:[1,3,1]},{type:"text",position:[1,3,1,1]},{type:"componentDynamic",position:[1,3,1]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,6,2]},{type:"if",position:[1,6,2],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,1,6]},{type:"if",position:[1,1,6],cases:{true:{dynamicNodes:[{type:"text",position:[1,1]},{type:"text",position:[1,3,0]}]}},default:{}},{type:"attr",position:[1,1,8]},{type:"if",position:[1,1,8],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,1,0]},{type:"attr",position:[1,1,3]},{type:"registerYield",position:[1,1,3,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1,3]}]}},default:{}},{type:"attr",position:[1,5]},{type:"if",position:[1,5],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,0]},{type:"attr",position:[1,3]},{type:"registerYield",position:[1,3,1],dynamicNodes:[{type:"text",position:[1,1,1,0]},{type:"componentDynamic",position:[1,1,1]},{type:"attr",position:[1,1,3]},{type:"for",position:[1,1,3],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,3]}]}},default:{}},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"registerYield",position:[1,1],dynamicNodes:[{type:"text",position:[1,1,1,0]},{type:"componentDynamic",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}},{type:"text",position:[1,5,1,0]},{type:"attr",position:[1,5,3,1]},{type:"registerYield",position:[1,5,3,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"text",position:[1,3,1,0]},{type:"componentDynamic",position:[1,3,1]},{type:"attr",position:[1,3,3]},{type:"for",position:[1,3,3],dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}}]},{type:"attr",position:[1,3,5]},{type:"if",position:[1,3,5],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,5,3,1]},{type:"attr",position:[1,5,5,1]},{type:"registerYield",position:[1,5,5,1,1],dynamicNodes:[{type:"text",position:[1,1,1,0]},{type:"componentDynamic",position:[1,1,1]},{type:"text",position:[1,1,3,0]},{type:"componentDynamic",position:[1,1,3]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,5,5,1]},{type:"attr",position:[1,7]},{type:"if",position:[1,7],cases:{true:{dynamicNodes:[{type:"attr",position:[3]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,7]},{type:"if",position:[1,7],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"registerYield",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]}]}},default:{}},{type:"attr",position:[1,3]},{type:"componentDynamic",position:[1,3]}]}},default:{}}]}},default:{}},{type:"attr",position:[15]},{type:"if",position:[15],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"text",position:[0,0]}]},false:{dynamicNodes:[{type:"text",position:[0,0]}]}},default:{}},{type:"attr",position:[1,3]},{type:"attr",position:[1,3,1]},{type:"if",position:[1,3,1],cases:{true:{dynamicNodes:[{type:"registerYield",position:[0],dynamicNodes:[{type:"text",position:[0]}]}]},false:{dynamicNodes:[{type:"registerYield",position:[0],dynamicNodes:[{type:"text",position:[0]}]}]}},default:{}},{type:"componentDynamic",position:[1,3]}]}},default:{}},{type:"attr",position:[17]},{type:"if",position:[17],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"componentDynamic",position:[0]}]}},default:{}}],_observedAttributes:["actions","alphabets","territory_name","territory","portals","module","module_info","cvid","clientAccount","flag","isZBModule","isZSModule","subMenuVal1","subMenuVal2","dotDropDown","allterritory","territoryFetched","moreDropDot","brandName","search_letter","campaignLayout","rtl_enabled","portalName","parent_comp","selectedPortal","popoverDuration","custom_buttons","showNoResultMsg","territorySelected","userDetails","page_uuid","isActivitySplitDone","selected","showTerritoryLoading","isFromModal","featureName","queryParams","selectedIds","disableButtons","customMessage","isFilterActive","total_count","module_per_page","sorted_column","chart_sorted_column","applied_filters","fetchCountValues","show_loading","showSortNoResult","optionsList","import_modules","cscriptChecks","total_new_count","show_sheet_modal","savedFilters","preventSaveFilter","appliedFilterId","isSaveFilter","isApplyFilter","isSameFilterId","showClearFilter","noOrchOrPfModule","showDraftButton","showfacebooksync","showlinkedinsync","showtiktoksync","isSandBox","showNextAction","listfields","smartFiltersLimit","pathfinderFeatureAvail","kvId","sortByOptions","isSaveDisabled","preventSaveFilterMsg","bannerDate","actBannerEnabled","preventNavigation","dropitemIndex","dropitemBoundryDetails","territorySubmenuShow","helpLink","cv_anomaly","showCVAnomaly","localData","terrStartIndex","terrEndIndex","showTickIconOnTerrSideMenu1","isAccessibilityConfigSupported","showTickIconOnTerrSideMenu2","warningNote","customMethodImplemented"],data:function(){return{actions:Lyte.attr("array"),alphabets:Lyte.attr("array",{default:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]}),territory_name:Lyte.attr("string"),territory:Lyte.attr("object"),portals:Lyte.attr("object"),module:Lyte.attr("string"),module_info:Lyte.attr("object"),cvid:Lyte.attr("string"),clientAccount:Lyte.attr("boolean",{default:!(void 0===window.clientPortalName||!window.clientPortalName)}),flag:Lyte.attr("boolean"),isZBModule:Lyte.attr("boolean",{default:!1}),isZSModule:Lyte.attr("boolean",{default:!1}),subMenuVal1:Lyte.attr("object"),subMenuVal2:Lyte.attr("object"),dotDropDown:Lyte.attr("array",{default:[]}),allterritory:Lyte.attr("array",{default:[]}),territoryFetched:Lyte.attr("boolean",{default:!1}),moreDropDot:Lyte.attr("boolean",{default:!0}),brandName:Lyte.attr("string",{default:Crm.brandName}),search_letter:Lyte.attr("string",{default:"All"}),campaignLayout:Lyte.attr("array",{default:[]}),rtl_enabled:Lyte.attr("boolean",{default:Crm.userDetails.RTL_ENABLED}),portalName:Lyte.attr("string",{default:I18n.getMsg("crm.salesiq.all.accounts")}),parent_comp:Lyte.attr("string",{default:"crm-list-view"}),selectedPortal:Lyte.attr("string",{default:"allportals"}),popoverDuration:Lyte.attr("string",{default:0}),custom_buttons:Lyte.attr("array",{default:[]}),showNoResultMsg:Lyte.attr("string",{default:""}),territorySelected:Lyte.attr("string"),userDetails:Lyte.attr("object",{default:Crm.userDetails}),page_uuid:Lyte.attr("string"),isActivitySplitDone:Lyte.attr("boolean"),selected:Lyte.attr("string"),showTerritoryLoading:Lyte.attr("boolean"),isFromModal:Lyte.attr("boolean",{default:!1}),featureName:Lyte.attr("string"),queryParams:Lyte.attr("object",{default:{}}),selectedIds:Lyte.attr("array",{default:[]}),disableButtons:Lyte.attr("boolean",{default:!1}),customMessage:Lyte.attr("string",{default:""}),isFilterActive:Lyte.attr("boolean",{default:!1}),total_count:Lyte.attr("number"),module_per_page:Lyte.attr("number"),sorted_column:Lyte.attr("string"),chart_sorted_column:Lyte.attr("string"),applied_filters:Lyte.attr("string"),fetchCountValues:Lyte.attr("boolean",{default:Crm.userDetails.fetchCountValues}),show_loading:Lyte.attr("boolean",{default:!0}),showSortNoResult:Lyte.attr("boolean",{default:!1}),optionsList:Lyte.attr("array"),import_modules:Lyte.attr("array",{default:[]}),cscriptChecks:Lyte.attr("object",{default:{}}),total_new_count:Lyte.attr("string",{default:"###"}),show_sheet_modal:Lyte.attr("boolean",{default:!1}),savedFilters:Lyte.attr("array",{default:[]}),preventSaveFilter:Lyte.attr("boolean",{default:!1}),appliedFilterId:Lyte.attr("string"),isSaveFilter:Lyte.attr("boolean",{default:!1}),isApplyFilter:Lyte.attr("boolean",{default:!1}),isSameFilterId:Lyte.attr("boolean",{default:!1}),showClearFilter:Lyte.attr("boolean",{default:!1}),noOrchOrPfModule:Lyte.attr("boolean",{default:!1}),showDraftButton:Lyte.attr("boolean",{default:!1}),showfacebooksync:Lyte.attr("boolean",{default:featuresAvailable.Facebook_Leadchain_Integration&&"true"===RebrandLinkUtil.getProperty("Leadchain_Integration")}),showlinkedinsync:Lyte.attr("boolean",{default:featuresAvailable.LinkedIn_Leadchain_Integration&&"true"===RebrandLinkUtil.getProperty("Leadchain_Integration")}),showtiktoksync:Lyte.attr("boolean",{default:featuresAvailable.Tiktok_Leadchain_Integration&&"true"===RebrandLinkUtil.getProperty("Leadchain_Integration")}),isSandBox:Lyte.attr("boolean",{default:Crm.userDetails.isSandbox}),showNextAction:Lyte.attr("boolean",{default:!1}),listfields:Lyte.attr("array",{default:[]}),smartFiltersLimit:Lyte.attr("number",{default:Crm.userDetails.smartFiltersLimit?Crm.userDetails.smartFiltersLimit:5}),pathfinderFeatureAvail:Lyte.attr("boolean",{default:!Crm.userDetails.isSandbox&&store.peekAll("pathfinder_meta")[0]&&store.peekAll("pathfinder_meta")[0].feature_available}),kvId:Lyte.attr("string",{default:""}),sortByOptions:Lyte.attr("array",{default:[{name:I18n.getMsg("crm.dashboard.label.ascending"),value:"label:asc",show:!0},{name:I18n.getMsg("crm.dashboard.label.descending"),value:"label:desc",show:!0},{name:I18n.getMsg("crm.dashboard.value.ascending"),value:"value:asc",show:!0},{name:I18n.getMsg("crm.dashboard.value.descending"),value:"value:desc",show:!0}]}),isSaveDisabled:Lyte.attr("boolean",{default:!1}),preventSaveFilterMsg:Lyte.attr("string",{default:""}),bannerDate:Lyte.attr("string"),actBannerEnabled:Lyte.attr("boolean",{default:!1}),preventNavigation:Lyte.attr("boolean",{default:!1}),dropitemIndex:Lyte.attr("number"),dropitemBoundryDetails:Lyte.attr("object"),territorySubmenuShow:Lyte.attr("boolean",{default:!1}),helpLink:Lyte.attr("string",{default:("zh_CN"===Crm.userDetails.RELEVANT_LOCALE||"zh_TW"===Crm.userDetails.RELEVANT_LOCALE?RebrandLinkUtil.getProperty("KB_CRM_CN_URL"):RebrandLinkUtil.getProperty("KB_CRM_URL"))+"sales-force-automation/activities/articles/deprecating-activities-module"}),cv_anomaly:Lyte.attr("object",{default:{}}),showCVAnomaly:Lyte.attr("boolean",{default:!1}),localData:Lyte.attr("array",{default:[]}),terrStartIndex:Lyte.attr("number",{default:0}),terrEndIndex:Lyte.attr("number",{default:0}),showTickIconOnTerrSideMenu1:Lyte.attr("boolean",{default:!1}),isAccessibilityConfigSupported:Lyte.attr("boolean",{default:Crm.userDetails.isAccessibilityConfigSupported&&!featuresAvailable.NEXTGENUI_ENABLED}),showTickIconOnTerrSideMenu2:Lyte.attr("boolean",{default:!1}),warningNote:Lyte.attr("string"),customMethodImplemented:Lyte.attr("boolean",{default:!1})}},init:function(){let e=this.getData("module_info");if(!crmConstants.wizardIncludedModules.contains(e.module_name)&&"custom"!==e.generated_type||!0!==e.presence_sub_menu||!0!==Crm.userDetails.permissions["Crm_Implied_Create_"+e.module_name]||this.setData("showDraftButton",!0),this.getData("actions")||this.setData("actions",this.getData("module_info").actions),Crm.userDetails.activityDueDate&&this.setData("bannerDate",Crm.userDetails.activityDueDate),Crm.userDetails.actBannerEnabled&&this.setData("actBannerEnabled",Crm.userDetails.actBannerEnabled),this.getData("actions")&&this.getData("actions").length>0){const e=this.getData("actions").findIndex((e=>"create_client_script"===e.name));-1!==e&&Lyte.arrayUtils(this.getData("actions"),"push",this.getData("actions").splice(e,1)[0])}this.setTerritory(Lyte.Router.getRouteInstance().getQueryParams(),this.getData("module")),this.setData("optionsList",this.constructRCOptions());var t=this.getData("selectedIds"),a=1===t?I18n.getMsg("crm.record.not.accessible"):I18n.getMsg("records");if(this.setData("selected",I18n.getMsg("crm.listview.selected.records",[t,a])),this.isFeatureSupported("import",this.getData("module"))||"linking"===moduleRecordMapping[this.getData("module")].generated_type){var o=[];o.push(this.getData("module"));var i=moduleRecordMapping[this.getData("module")].child_module;if(void 0!==i){for(var n=-1,s=i.length,l=[];++n<s;){var r=moduleRecordMapping[i[n].module_name];r&&"subform"===r.generated_type&&this.isFeatureSupported("import",r.module_name)&&r.parent_module&&this.getData("module")===r.parent_module.module_name&&l.push(r)}if(l.length>0){var p=store.peekAll("layout",{module:moduleRecordMapping[this.getData("module")].api_name}).filter((e=>{if(e.module)return e.module.api_name===moduleRecordMapping[this.getData("module")].api_name}));if(p&&p.length>0)for(var c=p.length,m=-1;++m<c;)p[m].sections&&p[m].sections.forEach((e=>{e.isSubformSection&&"used"===e.type&&l.forEach((t=>{t.singular_label!==e.display_label||o.contains(t.module_name)||o.push(t.module_name)}))}))}}this.isNotPartOf("Notes,Users",this.getData("module"))&&"subform"!==moduleRecordMapping[this.getData("module")].generated_type&&o.push("Notes"),this.setData("import_modules",o)}if(this.setData("isMultipleKanbanEnable",Crm.userDetails.isMultipleKanbanViewsEnabled),this.getData("isMultipleKanbanEnable")&&(this.setData({kanbanEditionLimit:Crm.userDetails.multipleKanbanEditionLimit,kanbanPermission:Lyte.Component.registeredHelpers.isPermission("kanban",e.module_name)}),e.last_accessed_views)){var d=e.last_accessed_views.find((e=>"kanban_view"===e.type));d&&this.setData("kvId",d.kanban_view.id)}"CAMPAIGNMEMBERLISTVIEW"===this.data.featureName&&this.setData("show_loading",!1),this.setData("module_per_page",e.per_page);var u=this;Lyte.injectResources(networkUtils.returnDependencyFiles(["zia/anomaly/customview_mixin.js"],ResourceConstants.CRMClient),void 0,(function(){u.getCustomViewAnomalyData(u.getData("module_info")).then((function(e){if(u.setData("cv_anomaly",e),e&&!e.noAnomaly&&e.cv_id===u.getData("module_info").custom_view.id){var t=networkUtils.returnDependencyFiles(["zia/anomaly/customview_result.js"],ResourceConstants.CRMClient),a=networkUtils.returnDependencyFiles(["zia/anomaly/customview_result.css"],ResourceConstants.CRMClient,ResourceConstants.LESSDEFAULT),o=networkUtils.returnDependencyFiles([networkUtils.getI18nJSUrl("CVAnomalyResult")],ResourceConstants.CRM),i=t.concat(a).concat(o);Lyte.injectResources(i,void 0,(function(){u.setData("showCVAnomaly",!0)}))}Lyte.triggerEvent("showAnomalyInDD",e)}))})),this.setData("activityBadgeUpgrade",Crm.userDetails.activityBadgeUpgradeEnabled)},setValues:function(){this.setUpdateValues(),this.setData("isActivitySplitDone",Crm.isActivitySplitDone);var e=this.getData("module");"Campaigns"===e&&this.campaignLayoutFilterFetch(this);var t=moduleRecordMapping[e],a=t.actions;a=this.executeMethod("ModifyDropDownActions");var o=0;for(var i in a)if("tool"==a[i].type){o=1;break}this.setData("actions",a),0==o&&!t.kanban_view&&Lyte.Component.registeredHelpers.isPartOf("Quotes,SalesOrders,PurchaseOrders,Invoices",t.module_name)&&Lyte.Component.registeredHelpers.checkPermission("Crm_Implied_Print_View",t.module_name)&&(o=1),o>0?this.setData("moreDropDot",!0):this.setData("moreDropDot",!1);var n=this.getData("module_info").custom_view?this.getData("module_info").custom_view.system_name:void 0;this.setData("cv_sys_name",n),t.territory&&(this.setData("territoryInfo",t.territory),this.setData("territorySelected",t.territory.id))}.observes("module").on("init"),enableButtonsInModalOnSelectionOfIds:function(){var e=this.getData("selectedIds"),t=e?e.length:0;this.setData("disableButtons",0===t),"CAMPAIGNMEMBERLISTVIEW"===this.data.featureName&&this.setData("showNextAction",0===!t)}.observes("selectedIds.[]").on("init"),actions:{openCVAnomaly:function(){this.openAnomalyDetails(this.getData("cv_anomaly"),this.getData("module_info"),"cv_anomaly_result_container","list"),this.setData("showCVAnomaly",!1)},trackTryCPQAction:function(){Crm.client_tracking("Try CPQ",{Place:"Listview Page"})},openBannerPopup:function(e){e&&"true"===e&&$L("crm-activity-depreciation-banner")[0].component.setData({showActBanner:!0,isFromAct:"true"})},sendInvite:function(){var e=this.getData("selectedIds");if(0!==e.length){var t=null;"crm.settings.section.client-portal.user-types.users"===Lyte.Router.getRouteInstance().transition.target||"crm.settings.section.client-portal.user-types.summary"===Lyte.Router.getRouteInstance().transition.target?t=Lyte.Router.getRouteInstance().getDynamicParam():"crm.settings.section.client-portal.user-types.index"===Lyte.Router.getRouteInstance().transition.target&&(t=CPMF.userTypeId);var a=e?e.join(";"):"",o={};o.title=I18n.getMsg("custmr.prtl.bulk.invite.confirm.title"),o.isFromBulkInvite=!0,o.isFromInvite=!0,o.selected_value=t,o.entityId=a,o.primaryButtonTitle=I18n.getMsg("custmr.prtl.send.invite"),o.showLanguage=25===store.peekRecord("user_type",t).invitation_field.ui_type,o.module=this.getData("module"),Lyte.Component.render("crm-client-portal-send-invite",o,"body"),$L("#sendInvitePopUp").e.ltProp("show",!0),Crm.trackSpotLightAction("PORTALS - Bulk Invite Button Clicked",{Place:"Portals",Module:this.getData("module")})}else crmui.showMsgBand("warning",I18n.getMsg("custmr.prtl.select.one"),5e3)},openQuickCreatePopUpCampaign:function(){CrmCampaignInteg.quickCreatePopUpCampaign(this.getData("module"))},openMemberStatusPopup:function(){CrmCampaignInteg.promptMemberStatus(this.getData("module"),"fromDetailView")},cancelpop:function(e){if($L("#listViewPopup")[0].ltProp("show",!1),"PORTALS"===e)if("crm.settings.section.client-portal.user-types.users"===Lyte.Router.getRouteInstance().transition.target){var t=$L("#inviteUsers");t.length>0&&t[0]?t[0].setData("ltPropDisabled",!1):$L("#noUsersFoundInviteUsers")[0].setData("ltPropDisabled",!1)}else"crm.settings.section.client-portal.user-types.index"===Lyte.Router.getRouteInstance().transition.target&&delete CPMF.userTypeId;else if("COMPLIANCE"===e)Lyte.Router.getRouteInstance().transitionTo({route:"crm.settings.section.compliance.consent-dashboard"});else if("CAMPAIGNMEMBERLISTVIEW"===e)return},alphaSearchHandling:function(e){this.executeMethod("sortRecord","All",e)},activityCreate:function(e,t){var a=Crm.getCrmBasePath()+"/Create.do";"Calls"===e?(Crm.downloadValidationRules(a+"?format=json&module="+e,e),Lyte.Component.registeredHelpers.checkPermission("Crm_Implied_Create",e)?qCreateCall.createQCForm(t,"listview"):(renderingUtils.displayPermissionDenied(),t.stopPropagation())):Crm.downloadValidationRules(a+"?format=json&module="+e,e,(function(){Lyte.Component.registeredHelpers.checkPermission("Crm_Implied_Create",e)?Events.globalCreate(t,"listview"):(renderingUtils.displayPermissionDenied(),t.stopPropagation())}))},createRecord:function(e){return Crm.userDetails.isStorageLimitReached?(Crm.showStorageExceedPopup(),!1):Lyte.Component.registeredHelpers.checkPermission("Crm_Implied_Create",e)?("Campaigns"===e&&this.getData("campaignLayout").length&&document.getElementById("zCampMoreActionMenu").ltProp("show",!0),void 0!==e&&"Quotes"===e&&Crm.isCpqActivated()&&Crm.client_tracking("CPQ-Quotes-Create Quote button in list view"),void Crm.client_tracking("Listview Create Button Click",{Module:e})):(renderingUtils.displayPermissionDenied(),!1)},executeCustomButton:function(e){var t=$("crm-custom-button")[0].component.executeMethod("getCurrentViewPageDetails",moduleRecordMapping[this.getData("module")].id);this.executeCustomButton(e,void 0,"withoutRecord",t.hasOwnProperty("ids")?t.ids:void 0,t)},refreshview:function(){var e=Lyte.Router.getRouteInstance(),t={reloadAll:!0};"chart"===e.routeName&&(t.isRefreshChart=!0),"timeline"===e.routeName&&(t.clearGroupCache=!0);var a=$L("crm-custom-filter")[0];a&&a.component.updateFilterOrdertimeout&&(a.component.refreshview=!0,a.component.updateFilterOrder(a.component.reArrangedFiltersPayload)),1!==e.getQueryParams().page&&"kanban"!==e.routeName&&"zia"!==e.routeName&&"chart"!==e.routeName&&"timeline"!==e.routeName?e.setQueryParams("page",1).data=t:e.refresh().data=t},toggleCommandCenterTab:function(e){var t,a;this.setData("selectedTab",e),"Journey"===e?function(e){if(!crmTab.isABMCCAvailable&&!crmTab.isABMConfigured&&e)return!0;if(crmTab.isABMCCAvailable&&crmTab.isABMConfigured&&e){let t=e&&moduleRecordMapping[e].id;return-1!==store.peekAll("orchestration_process").filter((e=>"crm"===e.category)).map((e=>e.id)).indexOf(t)}return!1}(moduleRecordMapping.Orchestration.orchestrationModule)&&moduleRecordMapping.Orchestration.orchestrationModule.includes("Orchestration")?a=(t=moduleRecordMapping[moduleRecordMapping.Orchestration.orchestrationModule]).module_name:(t=Lyte.registeredMixins.orchestration.fetchOnlyOrchestrationChildModules().sort((function(e,t){return e.sequence_number-t.sequence_number})),crmTab.isABMConfigured&&(t=Lyte.registeredMixins.orchestration.filterOutAbmOrchestrations(t)),t.length>0&&(a=t[0].module_name)):moduleRecordMapping.Orchestration.pathFinderModule?a=(t=moduleRecordMapping[moduleRecordMapping.Orchestration.pathFinderModule]).module_name:(t=Lyte.registeredMixins.orchestration.fetchPathfinderChildModules().sort((function(e,t){return e.sequence_number-t.sequence_number}))).length>0&&(a=t[0].module_name),a&&""!==a?(Lyte.Router.getRouteInstance().transitionTo({route:"crm.tab.module",dynamicParams:[a]}),this.setData("noOrchOrPfModule",!1),$L("#idForCV").removeClass("dNImp")):(this.setData("noOrchOrPfModule",!0),this.orchpfModuleResize(),$L("#idForCV").addClass("dNImp"))},createJourneyOrPathFinder:function(){"Journey"===this.data.selectedTab?Lyte.Router.getRouteInstance().transitionTo("crm.settings.section.orchestration.index-orchestration"):Lyte.Router.getRouteInstance().transitionTo("crm.settings.section.path-finder.index-path-finder")},cvPrintView:function(){var e=document.title,t=Lyte.Router.getRouteInstance().routeName,a="";a="canvas"===t?this.createPrintViewCanvas("CanvasView"):this.createPrintView();var o="/PrintPreviewListView.do",i="",n="",s=this.getData("module_info");if(s&&s.canvas_view)i="canvasList";else if(s&&s.card_view)i="canvasCard";else if(s&&s.table_view)i="canvasTable",n=$L("crm-list-view-canvas lyte-thead > lyte-tr > lyte-th:not(.checkBoxIconToStatic)").length;else{i="list";var l=$L("crm-list-view")[0];n=l?l.component.data.customfields.length:0}o+="?view="+i,n&&(o+="&columnCount="+n),(new crmRequestPool).initiate({action:Crm.getCrmBasePath()+o,type:"GET",success:function(o){o+=a;var i="";"canvas"===t?(i="<link rel='stylesheet' href='"+networkUtils.returnDependencyFiles(["crm-list-printview-canvas.css"],ResourceConstants.CRMClient,ResourceConstants.LESSDEFAULT)[0]+"'/>",i+="<link rel='stylesheet' href='"+networkUtils.returnDependencyFiles(["crm-listview-canvas.css"],ResourceConstants.CRMClient,ResourceConstants.LESSDEFAULT)[0]+"'/>",i+="<link rel='stylesheet' href='"+networkUtils.returnDependencyFiles(["crm-canvas-main.css"],ResourceConstants.CRM)[0]+"'/>",i+="<link rel='stylesheet' href='"+networkUtils.returnDependencyFiles(["crm-canvasview.css","crux-tag.css","crm-zexpense-rl.css","crm-zfinance-rl-all.css","crm-zfinance-stock-info.css","crm-subscription-rl.css","crm-stage-history.css"],ResourceConstants.CRMClient)[0]+"'/>"):i="<link rel='stylesheet' href='"+networkUtils.returnDependencyFiles(["crm-printview.css"],ResourceConstants.CRMClient)[0]+"'/>",i+="<link rel='stylesheet' href='"+networkUtils.returnDependencyFiles(["crux-boolean-component.css"],ResourceConstants.CRMClient)[0]+"'/>",o+=i;var n=window.open("/crm/html/content1.html","Printview","width=700,height=600,menubar=no,toolbar=no,location=no,status=no,scrollbars=yes,resizable=yes");setTimeout((function(){n.document.writeln(o),n.document.close(),n.document.title=e}),100)}})},changeView:function(e,t){var a=Lyte.Router.getRouteInstance(),o=a.getQueryParams(),i={};if("kanban"==a.routeName&&"kanban"!=t&&-1!=["Activities","Visits","Tasks","Events","Calls"].indexOf(this.data.module)){var n=this;store.findAll("filter",{module:moduleRecordMapping[this.data.module].api_name,cvid:a.parent.getDynamicParam()},!0,void 0,{module:moduleRecordMapping[this.data.module].api_name,cvid:a.parent.getDynamicParam()}).then((function(e){n.setSavedFilter(e)}))}-1!=["Activities","Visits","Tasks","Events","Calls"].indexOf(this.data.module)&&"kanban"==t||"zia"==t||(o.filters&&(i.filters=o.filters),o.cross_filters&&(i.cross_filters=o.cross_filters),o.filter_id&&(i.filter_id=o.filter_id)),"zia"==t&&delete i.filter_id,i.page=1,e.setAttribute("lt-prop-qp",JSON.stringify(i))},displayCampaignPopup:function(e,t){crmTemplate.showLookup(e,t)},appointmentCreate:function(){var e=Crm.getCrmBasePath()+"/Create.do";Crm.downloadValidationRules(e+"?format=json&module=Appointments","Appointments",(function(){Crm.userDetails.permissions.Crm_Implied_Create_Appointments?Events.globalCreate(event,"listview","Appointments"):renderingUtils.displayPermissionDenied()}))},showHideFilters:function(){this.hideShowFilterPanel(),Lyte.triggerEvent("smartFilterToggle")},sortRecord:function(e){if(this.getData("module_info.custom_view.sort_by")&&this.getData("module_info.custom_view.sort_by.id"))if(this.data.customMethodImplemented){var t={value:e,sortObj:this.getData("module_info.custom_view.sort_by"),method:"sortRecord"};Lyte.triggerEvent("invokeDrillDownMethodImplementation",t)}else this.sortRecord(e,void 0,void 0,void 0,this.getData("module_info.custom_view.sort_by"),this.getData("isFromModal"),this.getData("featureName"))},clearFilter:function(){var e=document.querySelector("crm-custom-filter");e&&(e.component.actions.clearAllFilter.call(e.component,this.getData("isFromModal"),e.component.data.module),this.setData("isSameFilterId",!1))},saveNewFilter:function(e){if(!this.getData("preventSaveFilter")){var t=document.querySelector("crm-custom-filter");t&&t.component.actions.saveNewFilter.call(t.component,e)}},fetchCountOnReq:function(){commonUtils.showHideLoadingDiv(!0);var e=Lyte.Router.getRouteInstance(),t={},a=this,o=this.getData("isFromModal");this.beforeRecordAPI(o?a.data.queryParams:e.transition.info.queryParams,t,this.getData("module_info"),this.getData("cvid"),o);var i=JSON.parse(JSON.stringify(t));if(delete i.fields,delete i.page,delete i.per_page,o&&(this.setFeatureSpecificFilters(i,this.data.featureName),"chart"!==e.routeName&&delete i.cvid,delete i.status,delete i.type),"CAMPAIGNMEMBERLISTVIEW"===this.data.featureName&&(i.cvid=this.data.cvid),this.data.fetchCountValues||(i.fetchType="user-initiated"),"timeline"===e.routeName){i["X-CRM-FEATURE-NAME"]="timeline_view";var n=$L("crm-timeline-view")[0].getData("userConfigProps");this.applyFilterByColorCriteria(i,n,this.getData("module_info").module_name)}store.triggerAction(this.getData("module_info").id,"count",i).then((function(t){if(a.setData("total_new_count",t.count),a.setData("total_count",t.count),a.setData("show_loading",!1),a.getData("module_info").total_count=t.count,crmTab.getFromCache(a.getData("module_info").module_name).totalCount=t.count,e.currentModel&&(e.currentModel.total_count=t.count),o){var i=$("crm-list-view-modal")[0];i&&i.setData("total_count",t.count)}commonUtils.showHideLoadingDiv()}))},clearFields:function(){this.selectAllEntity(!0)},consentActions:function(e){switch(e){case"sendConsentMail":case"resendConsentMail":sendConsentMail(this.getData("module"));break;case"updateConsenttype":ConsentLawBasisUpdates.updateConsentType();break;case"delete":massActionDelete("massdelete","MassDelete","")}},choose_event:function(){Lyte.registeredMixins["crm-cscript-global-mixin"].render_create_popup(void 0,this)},openScript:function(){if(CScriptLib&&"undefined"!=typeof _cscript&&_cscript&&_cscript._is_preview_frame)_cruxUtils.showCustomMessage({params:{ltPropMessage:I18n.getMsg("dxeditorpreview.settings.notsupported"),ltPropType:"error",ltPropDuration:"4000"}});else{var e=$L("crm-cscript")[0];e&&e.component.setData({cscriptTagShow:!1,available:CScript.Utils.is_cscript_available(),cscriptPaneShow:!0,page_uuid:this.getData("page_uuid")})}},relTaskCreate:function(e){crmRelatedList.relTaskCreate(e)},showSheet:function(){crmListView.showSheet()},showExportForm:function(e,t){store.findAll("features",{api_names:"export"}).then((function(a){a&&a[0].details.used_count&&0==a[0].details.used_count.total?_cruxUtils.showCustomAlert({params:{ltPropSecondaryMessage:I18n.getMsg("crm.export.limit.reached"),ltPropButtons:[{type:"accept",appearance:"default",text:I18n.getMsg("crm.button.ok"),cxPropZcqa:"button_1"}]}}):Lyte.Router.transitionTo({route:"crm.settings.section.export.start-export"}).data={module:e,cvid:t}}))},export_sheet:function(){crmListView.export_sheet()},editKanbanViewSetup:function(){if(this.getData("isMultipleKanbanEnable"))this.getData("kanbanPermission")&&this.editKanbanView(this.getData("kvId"));else{var e=[],t=this;e.push(networkUtils.returnDependencyFiles(["crm-kanban-resources.js"],ResourceConstants.CRMClient)),e.push(networkUtils.returnDependencyFiles(["kanbanview/crm-kanban-lyte-resources.css","kanbanview/crm-kanban-resources.css"],ResourceConstants.CRMClient,ResourceConstants.LESSDEFAULT)),commonUtils.showHideLoadingDiv(!0),Lyte.injectResources(e,void 0,(function(){store.clearCachedQuery("kanban_view"),t.openKanbanSettings(!1,t.data.cvid,{cvid:t.data.cvid,module:t.data.module},!0)}))}},trackSpotLightAction:function(){Crm.trackSpotLightAction(this.getData("module")+"  - canvas View")},orchpfModuleResizeAction:function(){this.orchpfModuleResize()}},checkexistingviews:function(e,t,a){var o=!("team_based"===moduleRecordMapping[t].access_type&&(moduleRecordMapping[t].private_profile&&"Admins"===moduleRecordMapping[t].private_profile.name||Crm.userDetails.IS_ADMIN));app.store.makeRequest("findAll","canvasview",{feature:"ListView",module:moduleRecordMapping[t].api_name,view_type:e}).then((function(i){var n={},s={page:1};if(i=i.filter((function(e){return 1===e.canvas_enabled}))[0])n.route="crm.tab.module.custom-view.canvas",n.dynamicParams=[t,a,i.id],s.viewType=e,n.queryParams=s;else{if(!Crm.userDetails.permissions.Crm_Implied_Customize_Zoho_CRM&&o)return void renderingUtils.displayPermissionDenied();n.route="crm.settings.canvas.begin",n.queryParams={module:t,feature:"ListView",viewType:e}}Lyte.Router.transitionTo(n).data={clearCache:!0}}))},setSavedFilter:function(e){var t=setInterval((function(){$L("crm-custom-filter")[0]&&($L("crm-custom-filter")[0].setData("savedFilters",e),clearInterval(t))}),100)},methods:{close_sheetmsg:function(){this.setData("show_sheet_modal",!1)},ModifyDropDownActions:function(){let e=this.getData("module"),t=moduleRecordMapping[e],a=t.actions;if(CScriptLib){const e=Lyte.registeredMixins["crm-cscript-global-mixin"].get_module_definitions();if(CScript.Utils.is_cscript_available()&&Lyte.registeredMixins["crm-cscript-global-mixin"].is_cscript_enabled()&&e.find((e=>e.name===t.module_name||e.value===t.module_name))&&"CAMPAIGNMEMBERLISTVIEW"!==this.getData("featureName")){const e=store.peekAll("cscript").filter((e=>e.selectors&&e.selectors.Module.id===t.module_name&&"module_list"===e.definition_name)).map((e=>e.uuid));if(e.length>0){const t=a.findIndex((e=>"create_client_script"===e.name));this.setData("page_uuid",e[0]),-1!==t&&(a[t].display_label=I18n.getMsg("crm.canvas.cscript.managecscript"),a[t].name="manage_client_script",Lyte.arrayUtils(this.getData("actions"),"replaceAt",t,a[t]))}else{const e=a.findIndex((e=>"manage_client_script"===e.name));this.setData("page_uuid",void 0),-1!==e&&(a[e].display_label=I18n.getMsg("com.cscript.createclientscript"),a[e].name="create_client_script",Lyte.arrayUtils(this.getData("actions"),"replaceAt",e,a[e]))}}}var o=this;return setTimeout((function(){o.restrictActionsForCscript(o)}),200),a},setMenuData:function(e,t,a){var o=a.getAttribute("index"),i=this.getData("allterritory"),n=(I18n.getMsg("crm.territory.label.only",i[o].name),i[o].name,i[o].id),s=e.element.innerText,l=e.element.getAttribute("data-value");n={val:I18n.getMsg("crm.territory.label.only",s),name:s,id:l,isChild:!1};this.setData("subMenuVal1",n);var r={val:I18n.getMsg("crm.territory.label.childs",s),name:s,id:l,isChild:!0};this.setData("subMenuVal2",r),this.data.module_info.territory.id===l?this.data.module_info.territory.subordinates?this.setData({showTickIconOnTerrSideMenu2:!0,showTickIconOnTerrSideMenu1:!1}):this.setData({showTickIconOnTerrSideMenu1:!0,showTickIconOnTerrSideMenu2:!1}):this.setData({showTickIconOnTerrSideMenu1:!1,showTickIconOnTerrSideMenu2:!1})},onMenuOpen:function(e,t,a){var o=$L(".territoryDropdown")[0];o&&e.ltProp("boundary",{top:o.getBoundingClientRect().top-a.getBoundingClientRect().height/3,bottom:o.getBoundingClientRect().bottom})},beforeOpenSaveMenu:function(){var e=$L("crm-custom-filter")[0];e&&this.setData("savedFilters",e.component.data.savedFilters)},territoryDDClose:function(){var e=$L("#territory_Search")[0];e&&""!==e.getData("ltPropValue")&&e.setData("ltPropValue","")},getMenuSelectItem:function(e){var t=document.querySelector("crm-custom-filter");t&&t.component.methods.getMenuSelectItem.call(t.component,e)},actionMenuClose:function(e,t){t&&t.component&&t.component.childComp&&t.component.childComp.classList.remove("transitionOverwrite"),t.setData("ltPropAnimate",!0)},checkTarget:function(e,t){if(t&&t.target&&"LYTE-DROP-BODY"===t.target.tagName)return!1},changePortal:function(e,t){var a=this.getData("portals")[t];this.setData("portalName",a),customViewObject.portalName=a,customViewObject.screenName=t;var o=Lyte.Router.getRouteInstance();"crm.tab.module.begin"===o.transition.target&&(moduleRecordMapping[this.getData("module")].kanban_view=!1,$L("crm-begin-page")[0].setData("screenName",t)),o.refresh().data={portalName:t,reloadAll:!0}},sortRecord:function(e){$L("#alphadropbutton").removeClass("alphaSearchIconActive"),this.applyAlphaSort(e)},showDropbox:function(e,t){var a=$L("#alphadropbutton");if(t&&t.target.classList.contains("smalledit"))return!1;a.addClass("alphaSearchIconActive"),this.setData("showAlphaDropBox",!0)},hideDropBox:function(){$L("#alphadropbutton").removeClass("alphaSearchIconActive"),this.setData("showAlphaDropBox",!1)},initData:function(){var e=this;!1===this.getData("territoryFetched")&&(commonUtils.showHideLoadingDiv(!0),store.unloadAll("territory"),this.setData({territoryFetched:!0,showTerritoryLoading:!0}),this.doTerritoryOperations([],this,1));var t=e.getData("territorySelected");-1!==t&&-2!==t&&-3===t&&0!==t||(e.setData("localData",[]),e.methods.setDomValForTerritoryDD(e))},territorySelection:function(e,t){var a=this,o=this.getData("allterritory").filter((function(e){return e.id==t}))[0],i=this.getData("module_info");store.peekRecord("territory",o.id)||store.createRecord("territory",o);var n=store.peekRecord("territory",o.id),s={id:n.id,name:n.name,subordinates:!1},l=!1,r=n.children;r&&r.length&&(s.$subordinates=!1,l=!0),i.$.triggerAction("view_preference_configurations",{module:i.api_name},{},"PUT",{territory:s}).then((function(){l&&(s.subordinates=!1,delete s.$subordinates),i.territory=s,a.setData("territoryInfo",i.territory),a.setTerritrotyToRoute(i,!0)}),(function(e){a.setData("territoryFetched",!1),a.setTerritrotyToRoute(i),a.filterErrorMsg(void 0,void 0,JSON.parse(e.responseText).modules[0])}))},subTerritorySelection:function(e){var t=JSON.parse(e),a=this,o=store.peekRecord("module",moduleRecordMapping[this.getData("module")].id),i={id:store.peekRecord("territory",t.id).id,name:t.name,$subordinates:!1};t.isChild?i.$subordinates=!0:i.$subordinates=!1,o.$.triggerAction("view_preference_configurations",{module:o.api_name},{},"PUT",{territory:i}).then((function(){i.subordinates=!!i.$subordinates,delete i.$subordinates,o.territory=i,a.setData("territoryInfo",o.territory),a.setTerritrotyToRoute(o,!0)}),(function(e){a.setData("territoryFetched",!1),a.setTerritrotyToRoute(o),a.filterErrorMsg(void 0,void 0,JSON.parse(e.responseText).modules[0])}))},onSearchValueChange:function(e){var t=e.newValue,a=this.getData("allterritory");if(this.setData("localData",[]),t.length>0){var o=$L.search(a,"name",t,"includes",{caseSensitive:!1});o.length>0?(this.setData("showNoResultMsg",""),Lyte.arrayUtils(this.getData("localData"),"push",o),this.methods.resetSelectedTerritory()):this.setData("showNoResultMsg",I18n.getMsg("crm.label.nomatchingterritory")),$L("#tt_body_id")[0].scrollTop=0}else this.setData("showNoResultMsg",""),this.methods.setDomValForTerritoryDD(this)},actionMenuBeforeClose:function(e){e&&e.component.childComp.classList.add("transitionOverwrite"),e.setData("ltPropAnimate",!1)},changeViewLayer:function(e,t){var a=Lyte.Router.getRouteInstance(),o=a.getQueryParams(),i={},n=this.getData("cvid");if("kanban"===a.routeName&&"kanban"!==t&&-1!==["Activities","Visits"].indexOf(this.data.module)){var s=this;store.findAll("filter",{module:moduleRecordMapping[this.data.module].api_name,cvid:a.parent.getDynamicParam()},!0,void 0,{module:moduleRecordMapping[this.data.module].api_name,cvid:a.parent.getDynamicParam()}).then((function(e){s.setSavedFilter(e)}))}"zia"===t||-1!==["Activities","Visits"].indexOf(this.data.module)&&"kanban"===t||(o.filters&&(i.filters=o.filters),o.cross_filters&&(i.cross_filters=o.cross_filters),o.filter_id&&(i.filter_id=o.filter_id)),"zia"===t&&delete i.filter_id,i.page=1;var l={},r={clearCache:!0};switch(t){case"list":l.route=n?"crm.tab.module.custom-view.list":"crm.tab.module",l.dynamicParams=n?[this.getData("module"),n]:[this.getData("module")],l.queryParams=i,r.portalName=this.getData("screenName");break;case"kanban":l.route=n?"crm.tab.module.custom-view.kanban":"crm.tab.module",l.dynamicParams=n?[this.getData("module"),n]:[this.getData("module")],delete i.page,l.queryParams=i,r.portalName=this.getData("screenName");break;case"zia":l.route="crm.tab.module.custom-view.zia",l.dynamicParams=[this.getData("module"),n],l.queryParams=i;break;case"canvas":if(void 0===n)l.route="crm.tab.module",l.dynamicParams=[this.getData("module")],l.queryParams=i,r.portalName=this.getData("screenName");else{if(!this.getData("module_info").viewid||"null"==this.getData("module_info").viewid)return void this.checkexistingviews("CustomizedView",this.getData("module"),n);l.route="crm.tab.module.custom-view.canvas",l.dynamicParams=[this.getData("module"),n,this.getData("module_info").viewid],i.viewType="CustomizedView",l.queryParams=i,r.refreshTemplate=!0}break;case"table":if(void 0===n)l.route="crm.tab.module",l.dynamicParams=[this.getData("module")],l.queryParams=i,r.portalName=this.getData("screenName");else{if(!this.getData("module_info").tableid)return void this.checkexistingviews("TableView",this.getData("module"),n);l.route="crm.tab.module.custom-view.canvas",l.dynamicParams=[this.getData("module"),n,this.getData("module_info").tableid],i.viewType="TableView",l.queryParams=i,r.refreshTemplate=!0}break;case"card":if(void 0===n)l.route="crm.tab.module",l.dynamicParams=[this.getData("module")],l.queryParams=i,r.portalName=this.getData("screenName");else{if(!this.getData("module_info").cardid)return void this.checkexistingviews("CardView",this.getData("module"),n);l.route="crm.tab.module.custom-view.canvas",l.dynamicParams=[this.getData("module"),n,this.getData("module_info").cardid],i.viewType="CardView",l.queryParams=i,r.refreshTemplate=!0}break;case"chart":l.route=n?"crm.tab.module.custom-view.chart":"crm.tab.module",l.dynamicParams=n?[this.getData("module"),n]:[this.getData("module")],delete i.page,l.queryParams=i,r.portalName=this.getData("screenName");break;case"timeline":l.route=n?"crm.tab.module.custom-view.timeline":"crm.tab.module",l.dynamicParams=n?[this.getData("module"),n]:[this.getData("module")],delete i.page,l.queryParams=i,r.portalName=this.getData("screenName")}Lyte.Router.transitionTo(l).data=r;var p={list:"ListView",kanban:"KanbanView",chart:"ChartView",zia:"ZiaView",canvas:"CanvasView",table:"TableView",card:"CardView",timeline:"TimelineView"},c=p[t]?p[t]:t;Crm.client_tracking("Records View Switch",{viewType:c,module:this.data.module})},changeLayout:function(e,t){var a={},o={},i={module:customViewObject.module,fetchOnlyBody:"true",cvid:customViewObject.cvId,clearCache:!0,isFilterApply:!0},n={};if(void 0===t&&(t=$L("#layoutDropdown")[0].ltProp("selected")),"0"!==t?(a.id=t,i.layoutId=t,n.layout_id=t):(n.layout_id=void 0,i.layoutId=void 0),customViewObject.territoryId&&(i.territoryId=customViewObject.territoryId,i.includechild=customViewObject.includeChild?1:0),"Potentials"===customViewObject.module){var s=$L("#pipelineSelect"),l=s.hasClass("pipeChanged")?s[0].ltProp("selected"):"0";"0"!==l?(n.pipeline=l,i.pipeline=l,o.id=l):n.pipeline=void 0}var r=Lyte.Router.getRouteInstance().getQueryParams();if(r.filters&&(n.filters=r.filters),r.cross_filters&&(n.cross_filters=r.cross_filters),r.filter_id&&(n.filter_id=r.filter_id),this.getData("showKvSettings")&&this.getData("isMultipleKanbanEnable")){var p={};a.hasOwnProperty("id")?p.layout=a:p.layout={id:"0"},"Potentials"===customViewObject.module&&(o.hasOwnProperty("id")?"DELETED"===o.id?p.pipeline={id:"-1"}:p.pipeline=o:p.pipeline={id:"0"}),i.kvId=this.getData("kvId"),this.updateUserLevelConfig(p)}return store.clearCachedQuery(moduleRecordMapping[customViewObject.module].id),this.getData("isMultipleKanbanEnable")&&(i.skipUserLevelReq=!0),Lyte.Router.getRouteInstance().setQueryParams(n).data=i},changeSort:function(){var e,t=$L("#KanbanViewSortColumnDropdown")[0].ltProp("selected");"0"!==t?e=customViewObject.sortOrderString?$L("#KanbanViewSortOrderDropdown")[0].ltProp("selected"):"sort_asc":(t="",e="sort_desc");var a={module:customViewObject.module,clearCache:!0,webTab:!1,cvid:customViewObject.cvId,fetchOnlyBody:!0,isFilterApply:!0};a.sortColumnString=t,a.sortOrderString=e,customViewObject.layoutId&&"0"!==customViewObject.layoutId&&(a.layoutId=customViewObject.layoutId),customViewObject.pipeline&&"0"!==customViewObject.pipeline&&(a.pipeline=customViewObject.pipeline),customViewObject.territoryId&&(a.territoryId=customViewObject.territoryId,a.includechild=customViewObject.includeChild?1:0);var o=store.peekRecord("custom_view",a.cvid);o&&(o.sort_order=e&&e.split("sort_")[1]?e.split("sort_")[1]:void 0,o.sort_by=""!==t?{id:t,api_name:store.peekRecord("field",t).api_name}:void 0);var i=Lyte.Router.getRouteInstance().getQueryParams();i.sort_by=t,i.sort_order=e,Crm.userDetails.isMultipleKanbanViewsEnabled&&(a.skipUserLvlUpdate=!0,a.skipUserLevelReq=!0),a.clearselectedIds=!0,this.getData("kvId")&&this.getData("isMultipleKanbanEnable")&&(a.kvId=this.getData("kvId"));var n=store.peekRecord("custom_view",a.cvid),s=store.peekAll("field",{module:customViewObject.module_info.api_name}).filterBy({id:t})[0];n.$.set("sort_order",t||{}),n.$.set("sort_by",{id:t?e:void 0});let l=this.getData("showKvSettings")?"crm.tab.module.custom-view.kanban":"crm.tab.module.custom-view.timeline";store.triggerAction("custom_view","change_sort",{sort_by:t?{id:s.id,api_name:s.api_name}:{},sort_order:t?e:void 0,module:customViewObject.module_info.api_name,id:a.cvid}).then(function(){Lyte.Router.transitionTo({route:l,dynamicParams:[customViewObject.module,a.cvid],queryParams:i}).data=a}.bind(this))},sortBySelected:function(){var e=$L("crm-chart-view")[0].component;e.actions.optionSelected("",e,!0)},beforeSortBy:function(){var e=this,t=$L("crm-chart-view")[0].component,a=e.getData("sortByOptions")[2];a.show=!1;var o=e.getData("sortByOptions")[3];o.show=!1,""===t.getData("secondaryGrouping")&&(a.show=!0,o.show=!0),"value"!==t.getData("chart_sorted_column").split(":")[0]&&(Lyte.arrayUtils(e.getData("sortByOptions"),"replaceAt",2,a),Lyte.arrayUtils(e.getData("sortByOptions"),"replaceAt",3,o))},sortBySearchValue:function(){$L("#sortBySearch")[0].setValue("")},openAnimOnlyBeforeHide:function(e,t){return t.setData("ltPropAnimate",!1),!0},openAnimOnlyHide:function(e,t){t.setData("ltPropAnimate",!0)},menuOnBeforeCloseAnimate:function(e){e.setData("ltPropAnimate",!1)},sortBySearch:function(e){this.setData("showSortNoResult",0===e.length)},sortBySearchValue:function(){$L("#sortBySearch")[0].setValue("")},changePerPage:function(e,t){if(this.data.customMethodImplemented){var a={ev:e,value:t,method:"changePerPage"};Lyte.triggerEvent("invokeDrillDownMethodImplementation",a)}else{var o=this.getData("module_info"),i=!1;Number(t)!==o.per_page&&(o.per_page=Number(t),i=!0,this.setData("module_per_page",o.per_page));var n=o.start_index>1?Math.round(o.start_index/Number(t))+1:1;n=Number(t)*(n-1)>o.start_index?n-1:n,o.start_index=Number(t)*(n-1);for(var s=$L("crm-page-navigator"),l=s.length,r=0;r<l;r++)s[r].setData("page",n),s[r].setData("startIndex",o.start_index);delete customViewObject.selectAllHistory,this.getData("isFromModal")?this.getRecordsForModal(Number(t),n,!0,o.module_name,this.getData("featureName")):(i&&o.$.triggerAction("view_preference_configurations",{module:o.api_name},{},"PUT",{per_page:o.per_page}),this.throwEvent("getRecord",Number(t),n,!0))}},fetchMoreTerritories:function(e,t){var a=this,o=t.childComp.querySelector("lyte-input"),i=a.getData("allterritory"),n=a.getData("terrStartIndex"),s=a.getData("terrEndIndex"),l=a.getData("localData"),r=[];if(e.target.offsetHeight+e.target.scrollTop+150>=e.target.scrollHeight&&a.getData("terrEndIndex")<i.length&&l.length!==i.length&&0===o.getData("ltPropValue").length)n=s,s=s+100<=i.length?s+100:i.length,a.setData({localData:[],terrEndIndex:s}),r=i.slice(n,s),Lyte.arrayUtils(a.getData("localData"),"push",l.concat(r)),a.methods.resetSelectedTerritory();else if(e.target.scrollTop<30&&a.getData("terrEndIndex")>0&&0===o.getData("ltPropValue").length&&l[0].id!==i[0].id){s=n,n=n-100>=0?n-100:0,r=i.slice(n,s);var p=a.getData("localData");a.setData({localData:[],terrStartIndex:n}),Lyte.arrayUtils(a.getData("localData"),"push",r.concat(p)),a.methods.resetSelectedTerritory();var c=$L("#territory_"+p[0].id);c.length>0&&c[0].scrollIntoView()}},resetSelectedTerritory:function(){var e=document.querySelector("#territoryDropDown"),t=e.ltProp("selected");e.ltProp("selected",""),e.ltProp("selected",t)},setDomValForTerritoryDD:function(e){var t=e.getData("allterritory"),a=e.getData("localData"),o=e.getData("territorySelected"),i=0;if(t.length>100){let n=0,s=100;-1===o&&-2===o&&-3===o&&0===o||(n=i=t.findIndex((function(e){return o===e.id}))),n=n<30?0:n-20,s=n+100<t.length?n+100:t.length,e.setData({terrStartIndex:n,terrEndIndex:s}),Lyte.arrayUtils(a,"push",t.slice(n,s))}else Lyte.arrayUtils(a,"push",t);if(i>7&&-1!==o&&-2!==o&&-3!==o&&0!==o){let e=$L("#territory_"+o);e.length>0&&e[0].scrollIntoView(),i<=t.length-10&&($L("#tt_body_id")[0].scrollTop-=30)}e.methods.resetSelectedTerritory()}},setTerritrotyToRoute:function(e,t){var a={},o={},i=$L("crm-custom-filter")[0],n=Lyte.Router.getRouteInstance().getQueryParams();this.setData("territorySelected",e.territory.id),t&&(o.clearCache=!0,a.territory_id=e.territory.id,a.include_child=void 0,e.territory.subordinates&&(a.include_child=!0),i.component.clearfield(!1),(n.filter_id||n.filters||n.cross_filters)&&(a.filter_id=a.filters=a.cross_filters=void 0),a.per_page=a.sort_order=a.sort_by=void 0,a.page="chart"!==Lyte.Router.getRouteInstance().routeName?1:void 0,Lyte.Router.getRouteInstance().setQueryParams(a).data=o),i.component.clearSearchFilter();var s=$L("crm-customview-buttons")[0];s&&s.setData("countFetched",!1)},setUpdateValues:function(){this.setData("isZBModule",crmTab.isZBCustomModule(this.getData("module"))),this.setData("isZSModule",crmTab.isZSCustomModule(this.getData("module")));var e=$L("crm-customview-buttons"),t=moduleRecordMapping[this.getData("module")];this.getData("actions")||this.setData("actions",t.actions),e.length&&(e[0].setData("selectAllEntity",!1),e[0].setData("showSelectedDiv",!1));var a=["crm.tab.module.entity.detail","crm.tab.module.entity.edit","crm.tab.module.create"];(a.contains(app.prevTransition.route)&&customViewObject.selectedIds&&0===customViewObject.selectedIds.length||!a.contains(app.prevTransition.route))&&this.hideCVbtns()},createPrintView:function(){var e=document.querySelector("crm-list-printview"),t=moduleRecordMapping[this.getData("module")],a=document.querySelector("crm-list-view"),o=a.getData("customfields")?a.getData("customfields").slice(0):t.custom_view.fields.slice(0);return e&&(e=e.remove()),(e=Lyte.Component.render("crm-list-printview",{moduleId:t.id,moduleName:customViewObject.module,cvId:t.custom_view.id,customViewDisp_val:t.custom_view.display_value,fields:o,pluralLabel:t.plural_label,body:a.getData("customview_records")},"#show")).setData("height",e.querySelector("lyte-table-temp").offsetHeight+"px"),e.style.display="none",e.innerHTML},createPrintViewCanvas:function(){var e=document.querySelector("crm-list-printview-canvas"),t=$L("crm-list-view-canvas")[0].component.data;e&&(e=e.remove());var a=$(".zc-core-style")[0].sheet.cssRules,o="<style>";for(var i in o+=":root {",Crm.CanvasBg&&Crm.CanvasBg.filter((function(e){o+="--zcanvasbg-"+e+": url("+Lyte.registeredMixins["crm-detailcanvas-utils"].getBgImageURL(e)+")"})),o+="}",a)a[i]&&a[i].cssText&&(o+=a[i].cssText);return o+="</style>",e=Lyte.Component.render("crm-list-printview-canvas",{records:t.customview_records,featureName:t.featureName,comp_name:t.comp_name,canvas_rules:t.canvas_rules,module:t.module,viewId:t.viewId,viewType:t.viewType,customViewDisp_val:t.module_info.custom_view.display_value,pluralLabel:t.module_info.plural_label},"#show"),Customization&&Customization.listViewImageArr&&(Customization.listViewImageArr=[]),e.style.display="none",o+e.innerHTML},orchpfModuleResize:function(){var e=$L("#orchpfModuleContainer"),t=window.innerHeight-(e.offset().top+48);e.css("minHeight",t)},setTerritoryListToDropDown:function(e,t){var a=moduleRecordMapping[e.getData("module")],o=e.constructTerritoryName(t,e);Crm.userDetails.IS_ADMIN||Crm.userDetails.IS_ADMIN_ROLE||Lyte.arrayUtils(o,"insertAt",0,{display_name:I18n.getMsg("crm.label.other.territories"),flag:!1,toolTipMsg:I18n.getMsg("crm.tooltip.other.territories"),name:I18n.getMsg("crm.label.other.territories"),id:"-2"}),Lyte.arrayUtils(o,"insertAt",0,{display_name:I18n.getMsg("crm.label.without.territory"),toolTipMsg:I18n.getMsg("crm.tooltip.without.territory"),flag:!1,name:I18n.getMsg("crm.label.without.territory"),id:"-1"}),"Potentials"===e.getData("module")||"Deals"===e.getData("module")||"custom"===a.generated_type&&1===Crm.userDetails.TERRITORIES_PER_CUSTOM_MODULE_RECORDS||Lyte.arrayUtils(o,"insertAt",0,{display_name:I18n.getMsg("crm.label.multiple.territories"),flag:!1,toolTipMsg:I18n.getMsg("crm.tooltip.multiple.territories"),name:I18n.getMsg("crm.label.multiple.territories"),id:"-3"}),Lyte.arrayUtils(o,"insertAt",0,{display_name:I18n.getMsg("crm.label.all.territories"),flag:!1,toolTipMsg:I18n.getMsg("crm.tooltip.all.territories"),name:I18n.getMsg("crm.label.all.territories"),id:"0"}),commonUtils.showHideLoadingDiv(!1),e.setData("allterritory",o),this.executeMethod("setDomValForTerritoryDD",e),e.setData("showTerritoryLoading",!1),e.setData("territorySelected",""),a.territory&&e.setData("territorySelected",a.territory.id),o.length>10&&$L("#tt_drop_box").addClass("tTsearchEnableNew")},doTerritoryOperations:function(e,t,a){var o=Lyte.registeredMixins["crm-territory-common-utils"].getTerritoryProm();Lyte.resolvePromises(o).then((function(e){var a=[].concat(...e);t.setTerritoryListToDropDown(t,a)}),(function(e){"TERRITORY_DISABLED"===JSON.parse(e.response).code&&(commonUtils.showHideLoadingDiv(!1),Crm.userDetails.TMENABLED=2,_cruxUtils.showCustomAlert({params:{ltPropPrimaryMessage:I18n.getMsg("crm.setup.editor.invalid.action"),ltPropSecondaryMessage:I18n.getMsg("crm.title.territory.disabled"),ltPropButtons:[{type:"accept",appearance:"default",text:I18n.getMsg("crm.button.ok")}]},accept:function(){Lyte.Router.getRouteInstance().refresh().data={reloadAll:!0,refreshTemplate:!0,clearCache:!0}}}))}))}},{mixins:["crm-view-utils","orchestration","crm-list-view-modal-util","crm-kanban-mixin","crm-territory-common-utils","crm-open-help","cv-anomaly-utils","feature-util","crm-timeline-view-utils"]}),Lyte.Component.registerHelper("getActSubModNames",(function(e){return moduleRecordMapping[e].plural_label})),Lyte.Component.register("crm-customview-buttons",{_template:'<template tag-name="crm-customview-buttons"> <template is="if" value="{{expHandlers(isFromModal,\'!\')}}"><template case="true"> <div id="tagPopUpShow"></div> <template is="if" value="{{expHandlers(selectAllEntity,\'!\')}}"><template case="true"> <lyte-table lt-prop-yield="true" class="w100_per noBorderTable newCvButtonLayer" id="cv_buttons_layer"> <template is="registerYield" yield-name="yield"> <lyte-table-structure cellspacing="0" cellpadding="0"> <lyte-tbody> <lyte-tr> <lyte-td class="crmBaseColor"> <div id="moreActionsDiv" class="moreActionsDiv dIB vaM" role="complementary" lt-prop-landmark="true" lt-prop-landmark-label="{{getI18n(\'crm.landmark.comp\',\'crm.record.lock.actions\')}}" aria-label=" {{getI18n(\'crm.record.lock.actions\')}}"> <template is="for" items="{{topActions}}" item="action" index="index"><template is="switch" value="{{action.name}}"><template case="run_macro"> <div id="macroDiv" cscript-tag="{{action.name}}" class="dIB vaM fL"><crm-macro module="{{module}}" class="macroDropdown"></crm-macro></div> </template><template case="tag_op"> <template is="if" value="{{tagAvailable(module_info)}}"><template case="true"> <span lt-prop-aria-keydown="true" role="combobox" continue-propagation="true" aria-expanded="{{expHandlers(showTagsPopover,\'?:\',\'true\',\'false\')}}" aria-haspopup="listbox" tabindex="0" aria-label="{{action.display_label}}" aria-controls="tagLists" id="tagActions" data-zcqa="manageTagOpBtn" cscript-tag="{{action.name}}" class="macroDropBtn vaM fL pR newgreybtn crmDropdownButton mR0" onclick="{{action(\'showTagPopover\')}}"> {{action.display_label}} </span> <lyte-popover lt-prop-origin-elem="#tagActions" lt-prop-duration="0" id="tagPopover" lt-prop-show="{{lbind(showTagsPopover)}}" lt-prop-wrapper-class="moreActionPopup" lt-prop-freeze="false" lt-prop-type="box" lt-prop-show-close-button="false" lt-prop-placement="bottomLeft" lt-prop-allow-multiple="false" on-before-close="{{method(\'beforeclose\')}}"> <template is="registerYield" yield-name="popover"> <lyte-popover-content class="marcoDropBox" id="divMacro"> <lyte-keyboard-navigator lt-prop-trigger-click="true" lt-prop-highlighted="#add_tags" lt-prop-children=".dropItems" lt-prop-selected="selectedPopItem" lt-prop-if-cycle="true" lt-prop-parent="#tagActions" lt-prop-scope=".lytemacrobody" lt-prop-skip-elements=".customViewDisabled" custom-dropdown-sel="#tagPopover" custom-dropdown-class="lytePopoverOpened"> <template is="yield" yield-name="keyboard-navigator-content"> <ul id="tagLists" class="lytemacrobody"> <li id="add_tags" onclick="{{action(\'showTagOpPopup\',\'add\')}}" class="dropItems">{{getI18n("crm.label.add.tags")}}</li> <li id="remove_tags" onclick="{{action(\'showTagOpPopup\',\'remove\',tags.length)}}" class="{{if(ifNotEquals(tags.length,0),\'\',\'customViewDisabled\')}} dropItems" lt-prop-tooltip-config="{&quot;position&quot; : &quot;bottom&quot;}" lt-prop-title="{{if(ifNotEquals(tags.length,0),\'\',getI18n(\'crm.tags.listview.remove.onhover.no.tags.avail\'))}}">{{getI18n("crm.label.remove.tags")}}</li> </ul> </template> </lyte-keyboard-navigator> </lyte-popover-content> </template> </lyte-popover> </template></template> </template><template default=""> <lyte-button lt-prop-tabindex="0" lt-prop-aria="{{isAccessibilityConfigSupported}}" lt-prop-aria-keydown="true" lt-prop-aria-button="{&quot;aria-label&quot; : &quot;{{action.display_label}}&quot;}" class="moreActionButton fL mR0 {{addHideClassForEmailUnblock(action.name)}} " data-zcqa="{{action.name}}" cscript-tag="{{action.name}}" onclick="{{action(\'update\',action.name)}}" lt-prop-class="newgraybtn"> <template is="registerYield" yield-name="text"> {{action.display_label}} </template> </lyte-button> </template></template></template> <template is="if" value="{{expHandlers(customButtons.length,\'>\',0)}}"><template case="true"> <crm-custom-button btnid="listviewpageButton" custom-buttons="{{customButtons}}" module="{{module}}" on-button-click="{{action(&quot;executeCustomButton&quot;)}}" position="listView"></crm-custom-button> </template></template><template is="if" value="{{expHandlers(dropActions.length,\'>\',0)}}"><template case="true"> <span id="moreAct" continue-propagation="true" lt-prop-aria-keydown="true" role="combobox" aria-expanded="{{expHandlers(showActionsPopover,\'?:\',\'true\',\'false\')}}" aria-haspopup="listbox" aria-controls="actionParent" aria-label="{{getI18n(\'crm.label.actions\')}}" tabindex="0" class="moreToolsDropdownBtn moreActionButton listViewMoreAction fL newgreybtn crmDropdownButton" data-zcqa="dash_contact_moreAct" onclick="{{action(\'showActionDropDown\')}}">{{getI18n("crm.label.actions")}} </span> <lyte-popover lt-prop-origin-elem="#moreAct" lt-prop-duration="{{popover_duration}}" id="moreActionPopup" lt-prop-show="{{lbind(showActionsPopover)}}" lt-prop-wrapper-class="moreActionPopup" lt-prop-freeze="false" lt-prop-type="box" lt-prop-show-close-button="false" lt-prop-placement="bottomLeft" lt-prop-allow-multiple="true" on-before-show="{{method(&quot;showHideOptionForBounceUnblock&quot;)}}"> <template is="registerYield" yield-name="popover"> <lyte-popover-content> <lyte-keyboard-navigator lt-prop-trigger-click="true" lt-prop-highlighted=".actionItems" lt-prop-children=".actionItems" lt-prop-selected="selectedPopItem" lt-prop-if-cycle="true" lt-prop-parent="#moreAct" lt-prop-scope="#actionParent" custom-dropdown-sel="#moreActionPopup" custom-dropdown-class="lytePopoverOpened"> <template is="yield" yield-name="keyboard-navigator-content"> <ul id="actionParent"> <template is="for" items="{{dropActions}}" item="action" index="index"> <template is="if" value="{{expHandlers(action.name,\'==\',&quot;Cadences&quot;)}}"><template case="true"> <template is="if" value="{{expHandlers(expHandlers(isLiteuser,\'!\'),\'&amp;&amp;\',expHandlers(showCadenceUnEnroll,\'||\',showCadenceEnroll))}}"><template case="true"> <li role="menuitem" lt-prop-title="{{expHandlers(disableCadence,\'?:\',getI18n(\'lv.cadence.tooltip\'),\'\')}}" class="pB0 p0 {{expHandlers(disableCadence,\'?:\',\'cadencesMenuWrap\',\'\')}} actionItems" data-value="{{action.name}}" id="series" cscript-tag="{{action.name}}" data-zcqa="{{action.name}}"><span onmouseenter="{{action(&quot;showSeriesOptions&quot;)}}" onmouseleave="{{action(\'mouseleave\',event,\'series\')}}" class="dIB pB8 pT8 pL20 pR20 cadencesMenuText {{expHandlers(disableCadence,\'?:\',\'disable eventNone\',\'\')}}">{{action.display_label}}</span></li> </template></template></template><template case="false"><template is="if" value="{{expHandlers(action.name,\'==\',&quot;add_to_campaigns&quot;)}}"><template case="true"> <li role="menuitem" data-value="{{action.name}}" id="moreAddToCampaign" data-zcqa="{{action.name}}" class="actionItems" cscript-tag="{{action.name}}" onmouseenter="{{action(&quot;showCampaignOptions&quot;)}}" onmouseleave="{{action(\'mouseleave\',event,\'campaigns\')}}">{{action.display_label}}</li> </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(expHandlers(module,\'==\',&quot;SalesOrders&quot;),\'&amp;&amp;\',expHandlers(action.name,\'==\',&quot;mass_convert&quot;)),\'&amp;&amp;\',isVisibleMassConvertBtnForSalesOrders)}}"><template case="true"> <li role="menuitem" data-value="{{action.name}}" data-zcqa="{{action.name}}" class="actionItems" cscript-tag="{{action.name}}" onclick="{{action(\'update\',action.name)}}">{{action.display_label}}</li> </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(expHandlers(module,\'==\',&quot;Quotes&quot;),\'&amp;&amp;\',expHandlers(action.name,\'==\',&quot;mass_convert&quot;)),\'&amp;&amp;\',isVisibleMassConvertBtnForQuote)}}"><template case="true"> <li role="menuitem" data-value="{{action.name}}" data-zcqa="{{action.name}}" class="actionItems" cscript-tag="{{action.name}}" onclick="{{action(\'update\',action.name)}}">{{action.display_label}}</li> </template><template case="false"><template is="if" value="{{expHandlers(module,\'==\',&quot;Leads&quot;)}}"><template case="true"> <li role="menuitem" data-value="{{action.name}}" class="{{addClassForBulkUnblock(action)}} actionItems" data-zcqa="{{action.name}}" cscript-tag="{{action.name}}" onclick="{{action(\'update\',action.name)}}">{{action.display_label}}</li> </template><template case="false"><template is="if" value="{{expHandlers(action.name,\'!=\',&quot;mass_convert&quot;)}}"><template case="true"> <li role="menuitem" data-value="{{action.name}}" class="{{addClassForBulkUnblock(action)}} actionItems" data-zcqa="{{action.name}}" cscript-tag="{{action.name}}" onclick="{{action(\'update\',action.name)}}">{{action.display_label}}</li> </template></template></template></template></template></template></template></template></template></template></template></template></template> </ul> </template> </lyte-keyboard-navigator> </lyte-popover-content> </template> </lyte-popover> </template></template> </div> </lyte-td> </lyte-tr> </lyte-tbody> </lyte-table-structure> </template> </lyte-table> <template is="if" value="{{expHandlers(module_info.chart_view,\'!\')}}"><template case="true"> <div class="selectedColumnCount dF aiCenter spaceBetween boxBB 100per {{if(module_info.kanban_view,\'nvKanbanCv\',\'\')}}" role="complementary" lt-prop-landmark="true" tabindex="-1" lt-prop-landmark-label="{{getI18n(\'crm.landmark.comp\',\'crm.accessibility.record.pagination\')}}" aria-label="{{getI18n(\'crm.accessibility.record.pagination\')}}"> <div class="selectActionRecord"> {{unescape(selected)}} <span lt-prop-aria-keydown="true" role="button" tabindex="0" onclick="{{action(\'clearFields\')}}" id="selectAllEntity" class="linkColor crm-base-font-size dIB vaM cP accessibility-clickable-elem" data-zcqa="clearRecords">{{getI18n(\'crm.title.clear.name\')}}</span> <template is="if" value="{{displayOnlineEntities}}"><template case="true"> <span id="selectOnlineEntities"> <span lt-prop-aria-keydown="true" role="button" tabindex="0" onclick="{{action(\'selectOnlineEntities\')}}" class="underLine mL15 cP dIB vaM" data-zcqa="selectOnlineEntities"> <b>{{getI18n("crm.module.online.selectall",module_info.plural_label)}}</b> </span> </span> </template></template><template is="if" value="{{expHandlers(expHandlers(expHandlers(module_info.zia_view,\'!\'),\'&amp;&amp;\',expHandlers(expHandlers(showSelectAll(cvObj),\'||\',module_info.kanban_view),\'||\',module_info.stage_view)),\'&amp;&amp;\',showSelectedDiv)}}"><template case="true"> <span lt-prop-aria-keydown="true" role="button" tabindex="0" id="selectAllRecords" data-zcqa="massActionSelectAll" class="nLSelectAllRecords mL15 cP dIB vaM crmLinkColor accessibility-clickable-elem" onclick="{{action(\'selectedAllEntity\')}}">{{getI18n(\'crm.module.selectall\',getI18n(\'records\'))}}</span> </template></template> </div> <template is="if" value="{{expHandlers(expHandlers(module_info.kanban_view,\'!\'),\'&amp;&amp;\',expHandlers(module_info.zia_view,\'!\'))}}"><template case="true"> <div id="cv_pagination" class="dF"> <crm-page-navigator from="cvlayer" module_info="{{module_info}}" more_records="{{more_records}}" start-index="{{lbind(module_info.start_index)}}" per_page="{{module_info.per_page}}" page="{{lbind(page)}}" total_count="{{getFinalTotalCount(total_count,customview_records.length,page,module_info.per_page,module_info)}}" is_text_out="true" class="flexAlignCenter mL10"></crm-page-navigator> </div> </template></template> </div> </template></template> </template><template case="false"> <lyte-table lt-prop-yield="true" lt-prop-class="crmCustomViewButtonsTable" class="newCustomviewButSelect"> <template is="registerYield" yield-name="yield"> <lyte-table-structure> <lyte-tbody> <lyte-tr> <lyte-td class="crmBaseColor"> <div class="dIB vaM "> <lyte-table lt-prop-yield="true" class="nlvDataCustomviewSelect"> <template is="registerYield" yield-name="yield"> <lyte-table-structure> <lyte-tbody> <lyte-tr> <lyte-td> <div id="moreActionsDiv" class="moreActionsDiv "> <template is="if" value="{{expHandlers(containsObject(topActions,\'mass_update\',\'name\'),\'||\',containsObject(dropActions,\'mass_update\',\'name\'))}}"><template case="true"> <lyte-button lt-prop-tabindex="0" class="moreActionButton fL" id="MassUpdate" data-zcqa="mass_update" onclick="{{action(\'update\',\'mass_update\')}}"> <template is="registerYield" yield-name="text"> {{getI18n("crm.module.mass.update")}} </template> </lyte-button> </template><template case="false"><template is="if" value="{{expHandlers(containsObject(topActions,\'mass_delete\',\'name\'),\'||\',containsObject(dropActions,\'mass_delete\',\'name\'))}}"><template case="true"> <lyte-button lt-prop-tabindex="0" class="moreActionButton fL mL8" id="Delete" data-zcqa="delete" onclick="{{action(\'update\',\'mass_delete\')}}"> <template is="registerYield" yield-name="text"> {{getI18n("Delete")}} </template> </lyte-button> </template></template></template></template><template is="if" value="{{allSelectActions.length}}"><template case="true"> <span lt-prop-aria-keydown="true" role="button" tabindex="0" id="moreAct" class="moreToolsDropdownBtn listViewMoreAction moreActionButton fL newgreybtn crmDropdownButton" data-zcqa="dash_contact_moreAct" onclick="{{action(\'showActionDropDown\')}}">{{getI18n(\'crm.label.actions\')}} </span> <lyte-popover lt-prop-origin-elem="#moreAct" lt-prop-duration="0" id="moreActionPopup" lt-prop-wrapper-class="moreActionPopup" lt-prop-freeze="false" lt-prop-type="box" lt-prop-show-close-button="false" lt-prop-placement="bottom"> <template is="registerYield" yield-name="popover"> <lyte-popover-content> <ul> <template is="for" items="{{allSelectActions}}" item="action" index="index"> <li data-value="{{action.name}}" data-zcqa="{{action.name}}" onclick="{{action(\'update\',action.name)}}">{{action.display_label}}</li> </template> </ul> </lyte-popover-content> </template> </lyte-popover> </template></template> </div> </lyte-td> </lyte-tr> </lyte-tbody> </lyte-table-structure> </template> </lyte-table> </div> </lyte-td> </lyte-tr> </lyte-tbody> </lyte-table-structure> </template> </lyte-table> <div class="selectedColumnCount dF aiCenter spaceBetween boxBB w100_per nvKanbanCv"> <div class="selectActionRecord crm-small-font-size selectAllRecordsEle"> {{unescape(getI18n(\'crm.mass.actions.all.selected\',module_info.selected_count,getI18n(\'records\')))}} <span lt-prop-aria-keydown="true" role="button" tabindex="0" onclick="{{action(\'clearFields\')}}" class="linkColor crm-small-font-size dIB vaM cP mL3">{{getI18n(\'crm.title.clear.name\')}}</span> </div> </div> </template></template> <lyte-modal lt-prop-wrapper-class="lVNewMassConvertLabel" id="convertConfirmModal" lt-prop-allow-multiple="true" lt-prop-show-close-button="false" lt-prop-height="auto" lt-prop-offset="{&quot;top&quot;:&quot;0&quot;}" lt-prop-width="auto" lt-prop-close-on-escape="true" lt-prop-show="{{lbind(showConvertConfirmModal)}}"> <template is="registerYield" yield-name="modal"> <lyte-modal-content> <div class="crm-heading-font-size crm-font-bold">{{getI18n("crm.listview.maximum.convert.alert",massConvertLimit)}}</div> <div class="crm-subheading-font-size mT5">{{getI18n("crm.listview.maximum.convert.message",massConvertLimit)}}</div> </lyte-modal-content> <lyte-modal-footer> <lyte-button data-zcqa="listViewCancelbtn" lt-prop-class="newgraybtn mR0" onclick="{{action(\'closeConvertConfirmModal\')}}"> <template is="registerYield" yield-name="text"> {{getI18n("crm.button.cancel")}} </template> </lyte-button> <lyte-button lt-prop-appearance="primary" lt-prop-class="primarybtn" data-zcqa="listViewProceedbtn" onclick="{{action(\'changeConvertLimit\')}}"> <template is="registerYield" yield-name="text"> {{getI18n("crm.mass.actions.ok.proceed")}} </template> </lyte-button> </lyte-modal-footer> </template> </lyte-modal> <lyte-popover lt-prop-close-on-body-click="false" lt-prop-origin-elem="#moreAddToCampaign" lt-prop-wrapper-class="moreCampaignMenu moreActionPopup" lt-prop-duration="{{popover_duration}}" id="zCampMoreActionMenu" lt-prop-freeze="false" lt-prop-type="box" lt-prop-show-close-button="false" lt-prop-placement="right" lt-prop-allow-multiple="true" on-show="{{method(&quot;addMouseEvent&quot;)}}" on-close="{{method(\'hideMouseEvent\')}}"> <template is="registerYield" yield-name="popover"> <lyte-popover-content> <ul onclick="{{action(\'hideCampaignOptions\',\'click\')}}"> <li data-zcqa="addToCampaigns" onclick="{{action(\'addToCampaigns\',this)}}">{{getI18n(\'crm.button.addto.campaign.existing\')}}</li> <template is="if" value="{{expHandlers(campaignLayout.length,\'==\',0)}}"><template case="true"> <li data-zcqa="newCampaignWithMembers" data-cid="newCampaignWithMembers">{{getI18n(\'crm.button.addto.campaign.create.new\')}}</li> </template><template case="false"> <li class="cv_moreActionSubtitle" onclick="{{action(\'stopEvent\')}}">{{getI18n(\'crm.button.addto.campaign.create.new\')}}</li> <li data-zcqa="newCampaignWithMembers_{{campDefLayout.name}}" data-cid="newCampaignWithMembers" data-layoutid="{{campDefLayout.id}}">{{getI18n(\'crm.chat.offline\')}}</li> <template is="for" items="{{campaignLayout}}" item="item" index="index"> <li data-zcqa="newCampaignWithMembers_{{item.name}}" data-cid="newCampaignWithMembers" data-layoutid="{{item.id}}">{{item.name}}</li> </template> </template></template> </ul> </lyte-popover-content> </template> </lyte-popover> <template is="if" value="{{expHandlers(expHandlers(isLiteuser,\'!\'),\'&amp;&amp;\',isCadencesEnabled)}}"><template case="true"> <lyte-popover lt-prop-close-on-body-click="false" lt-prop-origin-elem="#series" lt-prop-wrapper-class="moreSeriesMenu moreSeriesActionPopup" onmouseleave="{{method(\'mouseleaveMethod\',event)}}" lt-prop-duration="{{popover_duration}}" id="seriesAction" lt-prop-freeze="false" lt-prop-type="box" lt-prop-show-close-button="false" lt-prop-placement="right" lt-prop-allow-multiple="true" on-show="{{method(&quot;addMouseEventSeries&quot;)}}" on-close="{{method(\'hideMouseEventSeries\')}}"> <template is="registerYield" yield-name="popover"> <lyte-popover-content> <ul onclick="{{action(\'hideSeriesOptions\',\'click\')}}"> <template is="if" value="{{showCadenceEnroll}}"><template case="true"> <li data-zcqa="addToSeries" onclick="{{action(\'addToseries\',this)}}">{{getI18n(\'crm.series.add.to.series\')}}</li> </template></template><template is="if" value="{{showCadenceUnEnroll}}"><template case="true"> <li data-zcqa="unEnrollment" onclick="{{action(\'unEnroll\',this)}}">{{getI18n(\'crm.series.unenroll.from.series\')}}</li> </template></template> </ul> </lyte-popover-content> </template> </lyte-popover> </template></template> </template><template case="false"> <div class="cusButtonMoreActions"> <div class="crmBaseColor wsNowrap oA alignRight cv_buttons_layer"> <div class="moreActionsDiv dIB vaM mL30"> </div> </div> </div> </template></template> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1,1,1,1,1]},{type:"attr",position:[1,1,1,1,1,1]},{type:"for",position:[1,1,1,1,1,1],dynamicNodes:[{type:"attr",position:[0]},{type:"switch",position:[0],cases:{run_macro:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,0]},{type:"componentDynamic",position:[1,0]}]},tag_op:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"attr",position:[3]},{type:"registerYield",position:[3,1],dynamicNodes:[{type:"registerYield",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"text",position:[1,1,0]},{type:"attr",position:[1,3]},{type:"text",position:[1,3,0]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3]}]}},default:{}}]}},default:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"text",position:[1]}]},{type:"componentDynamic",position:[1]}]}}]},{type:"attr",position:[1,1,1,1,1,3]},{type:"if",position:[1,1,1,1,1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[1,1,1,1,1,4]},{type:"if",position:[1,1,1,1,1,4],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"attr",position:[3]},{type:"registerYield",position:[3,1],dynamicNodes:[{type:"registerYield",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,0]},{type:"text",position:[1,0,0]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3]}]}},default:{}},{type:"componentDynamic",position:[1,1,1,1]},{type:"componentDynamic",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,1]},{type:"attr",position:[1,1,3]},{type:"text",position:[1,1,3,0]},{type:"attr",position:[1,1,5]},{type:"if",position:[1,1,5],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"text",position:[1,1,1,0]}]}},default:{}},{type:"attr",position:[1,1,6]},{type:"if",position:[1,1,6],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]}]}},default:{}}]}},default:{}}]},false:{dynamicNodes:[{type:"registerYield",position:[1,1],dynamicNodes:[{type:"registerYield",position:[1,1,1,1,1,1,1],dynamicNodes:[{type:"attr",position:[1,1,1,1,1,1]},{type:"if",position:[1,1,1,1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"text",position:[1]}]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"text",position:[1]}]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,1,1,1,1,2]},{type:"if",position:[1,1,1,1,1,2],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"registerYield",position:[3,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3]}]}},default:{}},{type:"componentDynamic",position:[1,1,1,1]},{type:"componentDynamic",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1,1,1,1,1]},{type:"componentDynamic",position:[1,1,1,1]},{type:"componentDynamic",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]},{type:"text",position:[3,1,1]},{type:"attr",position:[3,1,3]},{type:"text",position:[3,1,3,0]}]}},default:{}},{type:"attr",position:[5]},{type:"registerYield",position:[5,1],dynamicNodes:[{type:"text",position:[1,1,0]},{type:"text",position:[1,3,0]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3,1]},{type:"registerYield",position:[3,1,1],dynamicNodes:[{type:"text",position:[1]}]},{type:"componentDynamic",position:[3,1]},{type:"attr",position:[3,3]},{type:"registerYield",position:[3,3,1],dynamicNodes:[{type:"text",position:[1]}]},{type:"componentDynamic",position:[3,3]},{type:"componentDynamic",position:[3]}]},{type:"componentDynamic",position:[5]},{type:"attr",position:[7]},{type:"registerYield",position:[7,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"text",position:[1,1,1,0]},{type:"attr",position:[1,1,3]},{type:"if",position:[1,1,3],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"attr",position:[3]},{type:"text",position:[3,0]},{type:"attr",position:[5]},{type:"for",position:[5],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}]}},default:{}},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[7]},{type:"attr",position:[9]},{type:"if",position:[9],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[1,1,2]},{type:"if",position:[1,1,2],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]}},default:{}}]},false:{dynamicNodes:[]}},default:{}}],_observedAttributes:["module","selected","customview","selectedIds","frominitial","actions","topActions","dropActions","showSelectedDiv","selectAllEntity","countFetched","start_index","total_count","page","parent_comp","allSelectActions","campaignLayout","customButtons","popover_duration","tags","maxTagLimit","recordTagLimit","more_records","displayOnlineEntities","isLiteuser","isCadencesEnabled","showCadenceUnEnroll","showCadenceEnroll","isFromModal","featureName","admin","massConvertLimit","mergeLimit","showConvertConfirmModal","isVisibleMassConvertBtnForQuote","isVisibleMassConvertBtnForSalesOrders","new_list_view","showTagsPopover","showActionsPopover","isAccessibilityConfigSupported","disableCadence"],data:function(){return{module:Lyte.attr("string"),selected:Lyte.attr("string"),customview:Lyte.attr("string"),selectedIds:Lyte.attr("array",{default:[]}),frominitial:Lyte.attr("boolean",{default:!1}),actions:Lyte.attr("array"),topActions:Lyte.attr("array"),dropActions:Lyte.attr("array"),showSelectedDiv:Lyte.attr("boolean",{default:!1}),selectAllEntity:Lyte.attr("boolean",{default:!1}),countFetched:Lyte.attr("boolean",{default:!1}),start_index:Lyte.attr("number"),total_count:Lyte.attr("number"),page:Lyte.attr("number"),parent_comp:Lyte.attr("string"),allSelectActions:Lyte.attr("array"),campaignLayout:Lyte.attr("array",{default:[]}),customButtons:Lyte.attr("array"),popover_duration:Lyte.attr("number",{default:0}),tags:Lyte.attr("array",{default:[]}),maxTagLimit:Lyte.attr("number"),recordTagLimit:Lyte.attr("number"),more_records:Lyte.attr("boolean"),displayOnlineEntities:Lyte.attr("boolean",{default:!1}),isLiteuser:Lyte.attr("boolean",{default:Crm.userDetails.LITE.IS_LITE_USER}),isCadencesEnabled:Lyte.attr("boolean",{default:Crm.seriesEnabled}),showCadenceUnEnroll:Lyte.attr("boolean",{default:Crm.userDetails.permissions.Crm_Implied_Manage_UnEnroll_Series}),showCadenceEnroll:Lyte.attr("boolean",{default:Crm.userDetails.permissions.Crm_Implied_Manage_Enroll_Series}),isFromModal:Lyte.attr("boolean",{default:!1}),featureName:Lyte.attr("string"),admin:Lyte.attr("boolean",{default:Crm.userDetails.IS_ADMIN}),massConvertLimit:Lyte.attr("number",{default:Crm.userDetails.massConvertLimit}),mergeLimit:Lyte.attr("number",{default:Crm.userDetails.mergeLimit}),showConvertConfirmModal:Lyte.attr("boolean",{default:!1}),isVisibleMassConvertBtnForQuote:Lyte.attr("boolean",{default:!1}),isVisibleMassConvertBtnForSalesOrders:Lyte.attr("boolean",{default:!1}),new_list_view:Lyte.attr("boolean",{default:!1}),showTagsPopover:Lyte.attr("boolean",{default:!1}),showActionsPopover:Lyte.attr("boolean",{default:!1}),isAccessibilityConfigSupported:Lyte.attr("boolean",{default:Crm.userDetails.isAccessibilityConfigSupported&&!featuresAvailable.NEXTGENUI_ENABLED}),disableCadence:Lyte.attr("boolean",{default:!1})}},init:function(){this._mousemoveSeries=this.mousemoveSeries.bind(this),this._mousemove=this.mousemove.bind(this);var e=store.peekRecord("module",moduleRecordMapping[this.getData("module")].id);this.setData("module_info",e);var t=this.getData("module_info.total_count")?this.getData("module_info.total_count"):customViewObject.totalCount,a=1==this.getData("selectedIds").length?I18n.getMsg("crm.record.not.accessible"):I18n.getMsg("records");this.setData("customview",this.getData("module_info.custom_view.system_name")),this.setData("selected",I18n.getMsg("crm.listview.selected.records",[this.getData("selectedIds").length,a])),this.setData("allSelected",I18n.getMsg("crm.mass.actions.all.selected",[t,I18n.getMsg("records")])),customViewObject.showHideSelectAllDiv&&this.setData("showSelectedDiv",!0),this.setData("isVisibleMassConvertBtnForQuote",moduleRecordMapping.SalesOrders&&moduleRecordMapping.SalesOrders.visible||moduleRecordMapping.Invoices&&moduleRecordMapping.Invoices.visible),this.setData("isVisibleMassConvertBtnForSalesOrders",moduleRecordMapping.Invoices&&moduleRecordMapping.Invoices.visible)},checkModuleTag:function(){this.setData("cvObj",customViewObject)}.observes("module").on("init"),mousemove:function(e){var t=$L("#moreAddToCampaign")[0],a=$L(".moreCampaignMenu")[0],o=e.relatedTarget,i=$L("#zCampMoreActionMenu");t&&t.contains(o)||a&&a.contains(o)||!i[0]||i[0].ltProp("show",!1)},mousemoveSeries:function(e){var t=$L("#series")[0],a=$L(".moreSeriesMenu")[0],o=e.relatedTarget,i=$L("#seriesAction");t&&t.contains(o)||a&&a.contains(o)||!i[0]||i[0].ltProp("show",!1)},actions:{addToseries:function(e){crmListView.addTOSeries(event,e,this.getData("module"),!0)},unEnroll:function(e){crmListView.addTOSeries(event,e,this.getData("module"),!1)},addToCampaigns:function(e){crmListView.addToCampaigns(event,e)},mouseleave:function(e,t){t&&"series"===t?this.mousemoveSeries.call(this,e):this.mousemove.call(this,e)},showCampaignOptions:function(){var e=this.getData("module");"Leads"!=e&&"Contacts"!=e||document.getElementById("zCampMoreActionMenu").ltProp("show",!0)},showSeriesOptions:function(){document.getElementById("seriesAction").ltProp("show",!0)},showTagPopover:function(){var e=store.peekRecord("module",moduleRecordMapping[this.getData("module")].id),t=e.api_name;if("Activities"==t){var a=e.custom_view;t=a.calls_view?"Calls":a.event_view?"Events":a.task_view?"Tasks":t}commonUtils.showHideLoadingDiv(!0);var o=this;store.findAll("tag",{module:t,fromPage:"view"},!0).then((function(a){commonUtils.showHideLoadingDiv(!1),a?(e.tags=a,o.setData({tags:store.peekAll("tag").filterBy({module_name:t}),maxTagLimit:a.$.meta.allowed_count,recordTagLimit:a.$.meta.record_limit})):o.setData({tags:store.peekAll("tag").filterBy({module_name:t}),maxTagLimit:50,recordTagLimit:10}),document.getElementById("tagPopover").ltProp("show",!0)}),(function(){renderingUtils.showAlertMsg(I18n.getMsg("crm.validation.rule.function.error.heading"))}))},hideCampaignOptions:function(e){"click"==e&&document.getElementById("moreActionPopup").ltProp("show",!1);var t=this.getData("module");"Leads"!=t&&"Contacts"!=t||document.getElementById("zCampMoreActionMenu").ltProp("show",!1)},hideSeriesOptions:function(e){"click"===e&&document.getElementById("moreActionPopup").ltProp("show",!1),document.getElementById("seriesAction").ltProp("show",!1)},showActionDropDown:function(){var e=this.getData("module");if(this.setData("disableCadence",crmTab.getFromCache(e).selectedIds.length>100),"Leads"==e||"Contacts"==e){var t=this,a=this.getData("dropActions").map((function(e){return e.name}));if(moduleRecordMapping.Campaigns.visible&&moduleRecordMapping.Campaigns.viewable&&a.contains("add_to_campaigns")){if(!moduleRecordMapping.Campaigns.layouts)return commonUtils.showHideLoadingDiv(!0),this._campaignRequest||(this._campaignRequest=!0,store.findRecord("module",moduleRecordMapping.Campaigns.id,void 0,void 0,!0,{getMeta:!0}).then((function(){t.campaignLayoutFilter(t),t._campaignRequest=!1,document.getElementById("moreActionPopup").ltProp("show",!0),commonUtils.showHideLoadingDiv()}),(function(){document.getElementById("moreActionPopup").ltProp("show",!0),commonUtils.showHideLoadingDiv(),t._campaignRequest=!1}))),!1;this.campaignLayoutFilter(t)}}document.getElementById("moreActionPopup").ltProp("show",!0)},clearFields:function(){this.selectAllEntity(!0),"Activities"===this.getData("module")&&this.disableActBanner()},selectedAllEntity:function(){var e=this.getData("module_info"),t=this;if(t.getData("countFetched"))this.selectAllDivAction(e,t);else{var a={cvid:e.custom_view.id,module:e.module_name,approved:!0},o=Lyte.Router.getRouteInstance().getQueryParams().search_letter;e.territory&&e.territory.id&&(a.territory_id=e.territory.id,e.territory.subordinates&&(a.include_child=e.territory.subordinates)),o&&"All"!=o&&(a.alphabet=o),store.triggerAction(e.id,"count",a).then((function(e){var o=t.getData("module_info");o.selected_count=e.count,t.selectAllDivAction(o,t),a.alphabet||t.setData("countFetched",!0)}),(function(e){var t=e.response?JSON.parse(e.response):void 0;(403==e.status||t&&"NO_PERMISSION"==t.code)&&renderingUtils.displayPermissionDenied()}))}},selectOnlineEntities:function(){"list"==Lyte.Router.getRouteInstance().routeName?(this.selectAllEntity(void 0,!0,!0),Crm.trackSpotLightAction("Sales IQ - Select All Online Click",{Module:this.getData("module")})):crmListView.selectOnlineEntities(),this.setData("displayOnlineEntities",!1)},update:function(e){this.updateActions(e)},executeCustomButton:function(e){this.executeCustomButton(e,void 0,"listView",this.getData("selectedIds"))},showTagOpPopup:function(e,t){this.showTagOpPopupOption(e,t)},changeConvertLimit:function(){this.setData("showConvertConfirmModal",!1);var e=customViewObject.selectedIds?customViewObject.selectedIds.slice(0,this.getData("massConvertLimit")).join(";"):"";showMassConvertDialog(this.getData("module"),e)},closeConvertConfirmModal:function(){this.setData("showConvertConfirmModal",!1)}},methods:{mouseleaveMethod:function(e){var t=$L("#series")[0],a=$L(".moreSeriesMenu")[0],o=e.relatedTarget,i=$L("#seriesAction");t&&t.contains(o)||a&&a.contains(o)||!i[0]||i[0].ltProp("show",!1)},addMouseEvent:function(){$L(".moreCampaignMenu")[0].addEventListener("mouseleave",this._mousemove,!0)},hideMouseEvent:function(){$L(".moreCampaignMenu")[0].removeEventListener("mouseleave",this._mousemove,!0)},addMouseEventSeries:function(){$L(".moreSeriesMenu")[0].addEventListener("mouseleave",this._mousemoveSeries,!0)},hideMouseEventSeries:function(){$L(".moreSeriesMenu")[0].removeEventListener("mouseleave",this._mousemoveSeries,!0)},beforeclose:function(e){if(e&&e.target.classList.contains("customViewDisabled"))return!1},showHideOptionForBounceUnblock:function(){let e=$L("#field_Email"),t=$L("#field_Secondary_Email"),a=!1,o=e.length>0&&e[0].ltProp&&!0===e[0].ltProp("checked");if(o){let e=$L("#sub_field_cxFilter_EMAIL_temporary"),t=$L("#sub_field_cxFilter_EMAIL_both");(e.length>0&&e[0].ltProp&&e[0].ltProp("checked")||t.length>0&&t[0].ltProp&&t[0].ltProp("checked"))&&(a=!0)}if(o=t.length>0&&t[0].ltProp&&!0===t[0].ltProp("checked"),o&&!a){let e=$L("#sub_field_cxFilter_ADDN_EMAIL_temporary"),t=$L("#sub_field_cxFilter_ADDN_EMAIL_both");(e.length>0&&e[0].ltProp&&e[0].ltProp("checked")||t.length>0&&t[0].ltProp&&t[0].ltProp("checked"))&&(a=!0)}a&&Crm.userDetails.EMAIL_BOUNCE_MANAGEMENT?$L(".bulkEmailUnblock").removeClass("hide"):$L(".bulkEmailUnblock").addClass("hide");var i=this;setTimeout((function(){i.restrictActionsForCscript(i)}),200)}},selectedChange:function(){var e=this.getData("selectedIds").length;0===e&&setTimeout((function(){$L("#listviewButtonLayer").css({visibility:"hidden"})}),200);var t=this.getData("module");if(("Accounts"===t||"Potentials"===t)&&!Crm.SEND_MAIL_BUTTON_HIDE||Crm.SEND_MAIL_BUTTON_HIDE){var a=this.getData("topActions");if(a){var o=this.getData("actions"),i="Potentials"===t?"sendmail_potential":"sendmail",n=o.find((e=>e.name===i));if(e>1&&a&&a.includes(n)&&!Crm.SEND_MAIL_BUTTON_HIDE||a&&Crm.SEND_MAIL_BUTTON_HIDE&&e>1&&!Crm.userDetails.permissions["Crm_Implied_Mass_Email_"+t])i="Potentials"!==t||Crm.SEND_MAIL_BUTTON_HIDE?i:"sendmail",a=a.filter((e=>e.name!==i));else if(1===e&&a&&!a.includes(n)&&n){a=[n].concat(a)}}}var s=1==this.getData("selectedIds").length?I18n.getMsg("crm.record.not.accessible"):I18n.getMsg("records");this.setData("selected",I18n.getMsg("crm.listview.selected.records",[this.getData("selectedIds").length,s]))}.observes("selectedIds.[]","module"),moduleObserver:function(){var e=moduleRecordMapping[this.getData("module")];this.setData("module_info",e)}.observes("module").on("init"),actionsChange:function(){var e=this.getData("actions"),t=this,a=[],o=[],i=[];if(this.getData("isFromModal"))return;let n=Lyte.registeredMixins["crm-custom-button-mixin"];n.getCustomButtonApiPromise({moduleApiName:moduleRecordMapping[this.getData("module")].api_name,fields:"id,name,description,profiles,layouts,sequence_number,position,user_types"}).then((function(e){e=e.filter((function(e){return!e.$.isDeleted}));var a=n.filterButtonData(e,{position:n.custom_button_position.LIST_VIEW_MASS_ACTION,moduleName:t.getData("module")}),o=$L("crm-custom-outer-box")[0].component.getData("restrictedCustomButtons");o.length>0&&(a=a.filter((function(e){return-1===o.indexOf(e.id)}))),t.setData("customButtons",a),CustomButtonJSObjectInit[t.getData("module")+"listView"]=a})).catch(function(e){n.errorHandling(e,void 0,{showErrorMessage:!1})}.bind(this)).finally(function(){for(var n=e?e.length:0,s=0,l=0;s<n;s++)if("action"==e[s].type){var r=e[s].name;if("zia_reminder"==r&&!Crm.userDetails.isZiaReminderEnabled)continue;var p=t.getData("module"),c="Potentials"===p?"sendmail_potential":"sendmail";if("tag_op"===r||"run_macro"===r||r===c||"bulktask"===r)if(r===c){var m=t.getData("selectedIds").length;("Accounts"===p||"Potentials"===p)&&1===m&&!Crm.SEND_MAIL_BUTTON_HIDE||Crm.SEND_MAIL_BUTTON_HIDE&&1===m||"Potentials"===p&&!Crm.SEND_MAIL_BUTTON_HIDE&&m>1?a.push(e[s]):"Accounts"===p||"Potentials"===p||Crm.SEND_MAIL_BUTTON_HIDE?Crm.SEND_MAIL_BUTTON_HIDE&&Crm.userDetails.permissions&&Crm.userDetails.permissions["Crm_Implied_Mass_Email_"+p]&&a.push(e[s]):a.push(e[s])}else a.push(e[s]);else l<3&&"add_to_campaigns"!==r&&"Cadences"!==r?a.push(e[s]):("Cadences"===r&&Crm.seriesEnabled||"Cadences"!==r&&"hideSelectAllRecords"!=e[s].name)&&o.push(e[s]);"zia_reminder"!=r&&"change_owner"!=r&&"mass_delete"!=r||i.push(e[s]),l++}t.setData("topActions",a),t.setData("dropActions",o),t.setData("allSelectActions",i);var d=$L("#cv_buttons_layer")[0];d&&d.scrollWidth>d.offsetWidth?$L("#cv_pagination").addClass("cv_btns_layerbxshadow"):$L("#cv_pagination").removeClass("cv_btns_layerbxshadow"),d&&d.scroll()}.bind(this))}.observes("actions.[]").on("init"),selectAllDivAction:function(e,t){if(Crm.massOperationTotalLimit>=e.selected_count){customViewObject.doMassActioninScheduler=!0,t.getData("customview")&&t.getData("customview").includes("REVIEWPROCESS")&&t.setData("allSelectActions",[]),t.setData("selectAllEntity",!0);var a=Lyte.Router.getRouteInstance().routeName,o=$L("#selectCheckbox")[0],i=document.getElementById("cvcheckAll"),n=o?o.ltProp("class"):"";!o||"customCheckBox"!=n&&"partialselect"!=n||"list"!=a?"canvas"==a&&i&&"customCheckBox"==i.classList.value&&crmListView.selectAllEntity(event,$("#cvcheckAll")[0]):this.selectAllEntity(void 0,!0),"kanban"==a&&this.selectAllEntity(void 0,!0),document.getElementsByTagName("crm-custom-filter")[0].classList.add("selectAllOverlay"),document.getElementById("viewcontainer").classList.add("selectAllOverlay")}else crmui.showMsgBand("info",I18n.getMsg("crm.listview.maximum.records.alert",[Crm.massOperationTotalLimit]),4e3,"");t.setData("showSelectedDiv",!1),customViewObject.showHideSelectAllDiv=!1},campaignLayoutFilter:function(e){this.campaignLayoutFilterFetch(e)}},{mixins:["crm-view-utils","crm-stop-event","crm-activity-mixin"]}),Lyte.Component.register("crm-page-navigator",{_template:'<template tag-name="crm-page-navigator"> <template is="if" value="{{is_text_out}}"><template case="true"> <span class="pageCount crm-font-bold crm-base-font-size fL mR10">{{start_record}} - {{end_record}}</span> <lyte-navigator on-next="{{method(\'navigate\',\'next\')}}" class="bgNavigator" lt-prop-aria="{{isAccessibilityConfigSupported}}" lt-prop-aria-next="{{navAria.next}}" lt-prop-aria-prev="{{navAria.prev}}" on-previous="{{method(\'navigate\',\'previous\')}}" lt-prop-value="{{lbind(startIndex)}}" lt-prop-records="{{total_count}}" lt-prop-perpage="{{per_page}}" lt-prop-show-only-icon="true" start-record="{{lbind(start_record)}}" end-record="{{lbind(end_record)}}"></lyte-navigator> </template><template case="false"> <lyte-navigator on-next="{{method(\'navigate\',\'next\')}}" on-previous="{{method(\'navigate\',\'previous\')}}" lt-prop-value="{{lbind(startIndex)}}" lt-prop-perpage="{{per_page}}" lt-prop-yield="true" lt-prop-records="{{total_count}}"> <template is="registerYield" yield-name="navigatorYield"> <div class="lyteNavigator lyteSingleBack lyteIconSingleBack" tabindex="0" aria-label="{{getMsg(\'crm.dashboard.previous\')}}" lt-prop-title="{{getMsg(\'crm.dashboard.previous\')}}" role="button" lt-prop-aria-keydown="true" data-zcqa="bulkRecordNavBackLV"></div> <div class="lyteNavigatorMidPoint mR5">{{unescape(getI18n("crm.custom.view.navig",startRecord,endRecord))}}</div> <div class="lyteNavigator lyteSingleFront lyteIconSingleFront" tabindex="0" aria-label="{{getMsg(\'crm.dashboard.next\')}}" lt-prop-title="{{getMsg(\'crm.dashboard.next\')}}" role="button" lt-prop-aria-keydown="true" data-zcqa="bulkRecordNavFrontLV"></div> </template> </lyte-navigator> </template></template> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]},{type:"text",position:[1,2]},{type:"attr",position:[3]},{type:"componentDynamic",position:[3]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[3,0]},{type:"attr",position:[5]}]},{type:"componentDynamic",position:[1]}]}},default:{}}],_observedAttributes:["startIndex","per_page","total_count","page","more_records","isFromModal","queryParams","start_record","end_record","listfields","isAccessibilityConfigSupported","is_text_out","navAria","customMethodImplemented"],data:function(){return{startIndex:Lyte.attr("number",{default:0}),per_page:Lyte.attr("number"),total_count:Lyte.attr("number"),page:Lyte.attr("number"),more_records:Lyte.attr("boolean"),isFromModal:Lyte.attr("boolean",{default:!1}),queryParams:Lyte.attr("object",{default:{}}),start_record:Lyte.attr("number"),end_record:Lyte.attr("number"),listfields:Lyte.attr("array",{default:[]}),isAccessibilityConfigSupported:Lyte.attr("boolean",{default:Crm.userDetails.isAccessibilityConfigSupported&&!featuresAvailable.NEXTGENUI_ENABLED}),is_text_out:Lyte.attr("boolean",{default:!1}),navAria:Lyte.attr("object",{default:{}}),customMethodImplemented:Lyte.attr("boolean",{default:!1})}},init:function(){this.getData("per_page")||this.setData("per_page",10);var e={};e.next={"aria-label":I18n.getMsg("crm.dashboard.next"),"lt-prop-title":I18n.getMsg("crm.dashboard.next")},e.prev={"aria-label":I18n.getMsg("crm.dashboard.previous"),"lt-prop-title":I18n.getMsg("crm.dashboard.previous")},this.setData("navAria",e)},methods:{navigate:function(e){if(this.data.customMethodImplemented){var t={from:e,method:"navigate"};Lyte.triggerEvent("invokeDrillDownMethodImplementation",t)}else{var a=Lyte.Router.getRouteInstance();if(200===a.transition.state||308===a.transition.state){var o=this.getData("page");o="next"==e?o+1:o-1,this.setData("page",o),this.navigatePage(o,e)}}}},navigatePage:function(e,t){var a=this.getData("per_page"),o=this.getData("isFromModal");event.stopPropagation(),o?this.getRecordsForModal(a,e,!1,this.data.module_info.module_name,this.getData("featureName")):this.throwEvent("getRecord",a,e,!1,t,this.getData("startIndex"))}},{mixins:["crm-view-utils","crm-list-view-modal-util"]}),Lyte.Mixin.register("crm-activity-mixin",{readMore:function(e){commonUtils.showHideLoadingDiv(!0);var t=e.id;$L("#"+t+"_old").text($("#"+e.id).attr("value")),$L("#"+t).hide(),commonUtils.showHideLoadingDiv(!1)},showAppointmentPopup:function(e,t,a,o){a=o?o.Appointment_End_Time:void 0,this.setData("showpopover",!1),Lyte.resolvePromises({filesResolved:Lyte.injectResources(networkUtils.returnDependencyFiles(["zohocrm_services.js"],ResourceConstants.CRM).concat(networkUtils.returnDependencyFiles([networkUtils.getI18nJSUrl("businesshours")],ResourceConstants.CRM)))}).then((function(){Lyte.registeredMixins["crm-appointments-mixin"].setAppointmentStatusActions(e,t,a),$L("#Calendar").hide()}))},showUserToolPopup:function(e,t){var a=this.$node.querySelector("#"+t),o=this.$node.querySelector("#activities_addons_user_tooltip");o&&(o.component.setData("userId",e),o.component.show(a))},showCallAction:function(e,t){this.setData("showpopover",!1),t?Crm.fetchCallDetails(e,t.id,"relatedList",!0):Crm.fetchCallDetails(e,this.getData("activity_id"),"relatedList",!0),closeMultipleReminderBussinesscardView(),this.stopPropagation(event)},showClickAction:function(e,t,a,o,i){if("TASKSPERSONALITY"===o){var n=store.peekAll("field"),s=this.setTasksClosePermission(n);this.setData("hasCompletePermissionForTask",s)}this.showClickAct(e,t,a,o,i)},showClickAct:function(e,t,a,o,i){o?this.setData("personality",o):o=this.getData("personality");var n=i?Lyte.Component.registeredHelpers.getChronologicalActivityActionLink:Lyte.Component.registeredHelpers.getActivityActionLink;if(a){this.setData("activity_id",a.id);var s=n(e,this,a.id,a,o)}else s=n(e,this);"delete"!==e?Crm.userDetails.isRelatedListLyteEnabled?this.sortRelatedList(s,null,this.getData("activity_id"),this):sortRelatedList(s,null,this.getData("activity_id"),this):showDeletePopup(this.getData("activity_id"),"crm.button.move.to.trash","","",t,"rl","","",this.getData("subject"),void 0,void 0,"deleteAction"),this.setData("showpopover",!1)},getModuleName:function(e){var t;return e.includes("Tasks")?t="Tasks":e.includes("Calls")?t="Calls":e.includes("Events")?t="Events":e.includes("Appointments")&&(t="Appointments"),t},disableActBanner:function(){if("Activities"===this.getData("module")){let e=$L("#aspDepricateBanner");"customCheckBox"===$L("#selectCheckbox")[0].ltProp("class")?e.css("display","flex"):e.css("display","none")}},stopPropagation:function(e){if(!e)e=window.event;e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},setTasksClosePermission:function(e){var t=!0;return e&&e.forEach((e=>{"Status"===e.api_name&&e.module&&e.module[0]&&"Tasks"===e.module[0].api_name&&(t=!!e.visible&&!e.read_only)})),t},removeRelatedListCountKey:function(e,t){if(Crm.userDetails.isDVLyteRLCountQueryEnabled&&e&&Object.values(e).length)for(let a of t)Lyte.objectUtils(e,"delete",a.id)},replaceDataInRecordContainer:function(e,t,a,o){var i=this;e||(e=i.data.recordId),store.findRecord(moduleRecordMapping[t].id,e).then((function(e){e=e[0],Object.assign(e,e._$.original),o&&(a=o(e)),delete e.date,i.replaceDataInRecordsContainer.bind(i)(e,t,a)}))},completeActivityCallback:function(e){if(this){let t=this,a=t.data.recordId,o=t.getData("recordHeader");t.deleteRecordFromContainer.bind(t)(o,a,e)}}}),store.registerModel("features",{api_name:Lyte.attr("string",{primaryKey:!0}),components:Lyte.attr("object"),details:Lyte.attr("object"),feature_label:Lyte.attr("string"),module_supported:Lyte.attr("boolean"),parent_feature:Lyte.attr("string"),moduleApiName:Lyte.attr("string")}),store.registerModel("features-status",{name:Lyte.attr("string",{primaryKey:!0}),status:Lyte.attr("array"),info:Lyte.attr("object")}),store.registerAdapter("features",{namespace:"crm/v2.1/",buildURL:function(e,t,a,o,i,n,s){return i=i.replace("/features","/__features"),s&&s.version&&(i=i.replace("v2.1",s.version)),i}}),store.registerAdapter("features-status",{namespace:"crm/v7/",buildURL:function(e,t,a,o,i){return i=i.replace("features-status","__features/status")}}),store.registerSerializer("features",{payloadKey:function(){return"__features"},normalizeResponse:function(e,t,a,o,i,n,s){return a[this.payloadKey()]&&a.__features.forEach((e=>{null===e.api_name&&(e.apiname=e.parent_feature.apiname),s.module&&(e.moduleApiName=s.module)})),a}}),store.registerSerializer("features-resource",{payloadKey:function(e){if(e)return e},normalizeResponse:function(e,t,a,o,i,n,s){return a.module=s.module,{"features-resource":[a]}}}),store.registerSerializer("features-status",{payloadKey:function(e){if(e)return e},normalizeResponse:function(e,t,a,o,i,n,s){return a.name=s.module,{"features-status":[a]}}}),Lyte.Component.register("crm-cvmanage-dropdown",{_template:'<template tag-name="crm-cvmanage-dropdown"> <lyte-dropdown data-zcqa="{{viewType}}_Dropdown" on-option-selected="{{method(\'selectItem\')}}" id="kanbanDropdown" lt-prop-selected="{{selectedItem}}" on-before-show="{{method(\'loadMultipleView\')}}"> <template is="registerYield" yield-name="yield"> <lyte-drop-box id="kanbanDropBox" class="newCVDropdown"> <lyte-drop-body> <template is="for" items="{{multipleViews}}" item="item" index="index"> <lyte-drop-item data-value="{{item.id}}" id="{{item.id}}" data-zcqa="{{viewType}}{{item.id}}"> <lyte-text lt-prop-value="{{item.name}}" lt-prop-title="{{item.name}}"></lyte-text> </lyte-drop-item> </template> </lyte-drop-body> <lyte-drop-footer class="alignLeft"> <lyte-menu-item data-zcqa="manage_{{viewType}}" onclick="{{action(\'manageView\')}}" class="dropFooterList">{{manageBtn}}</lyte-menu-item> <lyte-menu-item lt-prop-disabled="{{if(ifEquals(buttonState,\'disable\'),\'true\',\'false\')}}" data-zcqa="create_{{viewType}}" onclick="{{action(\'createView\')}}" class="dropFooterList" lt-prop-tooltip-config="{&quot;position&quot; : &quot;bottom&quot;, &quot;appearance&quot; : &quot;callout&quot; , &quot;maxdisplaytime&quot; : 5000 }" lt-prop-title="{{if(ifEquals(buttonState,\'disable\'),limitMsg,\'\')}}"> {{createBtn}}</lyte-menu-item> </lyte-drop-footer> </lyte-drop-box> </template> </lyte-dropdown> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3,1]},{type:"text",position:[1,3,1,0]},{type:"componentDynamic",position:[1,3,1]},{type:"attr",position:[1,3,3]},{type:"text",position:[1,3,3,1]},{type:"componentDynamic",position:[1,3,3]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}],_observedAttributes:["multipleViews","selectedItem","editionLimit","edititon"],data:function(){return{multipleViews:Lyte.attr("array"),selectedItem:Lyte.attr("string",{default:"None"}),editionLimit:Lyte.attr("number"),edititon:Lyte.attr("string")}},init:function(){var e,t=$L("crm-customview-layer")[0].component,a=t.getData("module_info"),o=a.api_name,i=Crm.userDetails.EDITION_NAME;if(a.kanban_view&&(e="kanban_view"),this.setData({module:o,cvId:t.getData("cvid"),viewType:e,moduleInfo:a,edition:i}),"kanban_view"===e){var n={createView:!0};this.setKanbanSettingsData(a,n);var s=store.peekAll("kanban_view").filterBy({module:o}).sortBy("sequence_number");this.setData({multipleViews:s,createBtn:I18n.getMsg("crm.module.create",I18n.getMsg("canvas.kanban.view.tooltip")),manageBtn:I18n.getMsg("crm.manage.view",I18n.getMsg("kanbanviews"))})}},actions:{createView:function(){if("disable"!==this.getData("buttonState")&&(this.$node.querySelector("#kanbanDropdown").close(),"kanban_view"===this.getData("viewType"))){var e=this;commonUtils.showHideLoadingDiv(!0),app.store.makeRequest("findRecord","module",this.getData("moduleInfo").id,void 0,void 0,void 0,{getFields:!0}).then((function(){commonUtils.showHideLoadingDiv(!1),e.setKanbanSettingsData(e.getData("moduleInfo"),{createView:!0},!1),e.handleKanbanSettingPopup()}))}},manageView:function(){if(this.$node.querySelector("#kanbanDropdown").close(),document.activeElement.blur(),"kanban_view"===this.getData("viewType")){var e=this,t=$L("crm-manage-view-details")[0],a=this.getData("module");commonUtils.showHideLoadingDiv(!0),store.peekAll("kanban_view").filterBy({module:a}).forEach((e=>store.unloadRecord("kanban_view",e.id))),store.findAll("kanban_view",{module:a,include:"categorize_by",include_inner_details:"$..created_by.zuid,$..modified_by.zuid"}).then((function(o){(commonUtils.showHideLoadingDiv(!1),t)?(e.setKanbanManageData(),$L("#kanbanViewModal")[0].ltProp({show:!0,allowMultiple:!0}),t.component.sortableview()):t=Lyte.Component.render("crm-manage-view-details",{moduleInfo:e.getData("moduleInfo"),module:a,edition:e.getData("edition"),editionLimit:e.getData("editionLimit")},"#manageviewspopup");store.peekRecord("kanban_view",e.getData("selectedItem"))||t.setData({kvId:o.$.meta.default,refreshView:!0})}))}}},methods:{selectItem:function(e,t){if("kanban_view"===this.getData("viewType"))this.showselectedKV(t)},loadMultipleView:function(){if("kanban_view"===this.getData("viewType")){var e=this,t=e.data.moduleInfo.module_name;return commonUtils.showHideLoadingDiv(!0),store.findAll("kanban_view",{module:this.getData("module")},!0,!0).then((function(a){a.find((t=>t.id===e.getData("selectedItem")))||e.getMultipleKanban(),commonUtils.showHideLoadingDiv(!1),e.setData({multipleViews:a.sortBy("sequence_number"),buttonState:e.determineButtonState(a.length,t)});var o,i=e.getData("selectedItem"),n=$L("#kanbanDropdown");(n[0].ltProp("selected",""),n[0].ltProp("selected",i),"disable"===e.getData("buttonState"))&&(o=Lyte.Component.registeredHelpers.isPermission("kanban",t)?I18n.getMsg("crm.newfree.limit.exceed"):I18n.getMsg("crm.creator.error.access"),e.setData("limitMsg",o))}))}}}},{mixins:["crm-view-utils","crm-kanban-mixin"]}),Lyte.Component.register("crm-manage-view-details",{_template:'<template tag-name="crm-manage-view-details"> <lyte-modal id="kanbanViewModal" lt-prop-offset="{&quot;top&quot;:&quot;0&quot;}" lt-prop-prevent-focus="true" lt-prop-wrapper-class="crmOverlayTable multiCreateKanbanTable" lt-prop-allow-multiple="true" on-close="{{method(&quot;closeModal&quot;)}}" lt-prop-close-on-escape="false" lt-prop-width="1080px" lt-prop-max-height="95%"> <template is="registerYield" yield-name="modal"> <lyte-modal-header class="flexAlignCenter spaceBetween"> <span id="modalHeader">{{getI18n("crm.manage.view",getI18n("kanbanviews"))}}</span> <lyte-button lt-prop-appearance="primary" lt-prop-size="small" lt-prop-class="outlineprimary" class="multiCreateKanbanButton" onclick="{{action(\'createView\')}}" lt-prop-tooltip-config="{&quot;position&quot; : &quot;bottom&quot;, &quot;appearance&quot; : &quot;callout&quot; , &quot;maxdisplaytime&quot; : 5000 }" lt-prop-title="{{if(ifEquals(buttonState,\'disable\'),limitMsg,\'\')}}" lt-prop-disabled="{{if(ifEquals(buttonState,\'disable\'),\'true\',\'false\')}}" data-zcqa="createKvFromManage"><template is="registerYield" yield-name="text">{{createBtn}}</template></lyte-button> </lyte-modal-header> <lyte-modal-content class="multiCreateKanbanModalContent"> <lyte-table lt-prop-yield="true" class="borderBottomNone lyteFixedHeaderTable kabanviewTableList"> <template is="registerYield" yield-name="yield"> <lyte-table-structure class="multipleKvListStructure"> <lyte-thead> <lyte-tr> <lyte-th></lyte-th> <template is="for" items="{{tableHeader}}" item="record" index="index"> <lyte-th><lyte-text lt-prop-value="{{record}}"></lyte-text></lyte-th> </template> </lyte-tr> </lyte-thead> <lyte-tbody lt-prop-sortable="true" class="multipleKanbanSortable multipleKvList"> <template is="for" items="{{viewDetails}}" item="record" index="index"> <lyte-tr class="multipleKvItem" data-zcqa="{{record.name}}" id="view{{record.id}}" data-value="{{record.id}}"> <lyte-td class="pR" data-zcqa="deleteEditOption"> <span class="w100_per flexAlignCenter pA left20 topcenter iconHoverbg"> <template is="if" value="{{expHandlers(viewDetails.length,\'>\',1)}}"><template case="true"> <span class="icon-hover-effects-trans mR5 cDefault" data-zcqa="reorderKanban_{{record.name}}"><span class="zcicncss-drag zcicn-cssIcons zcicn_black_mask zi2 cMove"></span></span> </template></template> <span id="{{if(ifEquals(allowPermission,\'true\'),concat(\'kanbanConfigMenu\',record.id),\'hideManageMenu\')}}" class="kanbanConfigMenu icon-hover-effects {{if(ifEquals(allowPermission,\'true\'),\'\',\'disable\')}}" lt-prop-tooltip-config="{&quot;position&quot; : &quot;bottom&quot;, &quot;appearance&quot; : &quot;callout&quot; , &quot;maxdisplaytime&quot; : 5000 }" lt-prop-title="{{if(ifEquals(allowPermission,\'true\'),\'\',limitMsg)}}" data-zcqa="openKvQuickAccess_{{record.name}}"><span class="zcicncss-morehr zcicn-cssIcons zcicn_black_mask zi2"></span></span> <lyte-menu lt-prop-yield="true" lt-prop-callout="true" lt-prop-query="span#kanbanConfigMenu{{record.id}}"> <template is="registerYield" yield-name="yield"> <lyte-menu-body> <lyte-menu-item onclick="{{action(\'editView\',this)}}" data-zcqa="editKanban_{{record.name}}" id="{{record.id}}">{{getI18n("crm.button.edit")}}</lyte-menu-item> <template is="if" value="{{expHandlers(record.system_defined,\'!\')}}"><template case="true"> <lyte-menu-item onclick="{{action(\'deleteView\',this)}}" data-zcqa="deleteKanban_{{record.name}}" id="{{record.id}}">{{getI18n("crm.button.delete")}}</lyte-menu-item> </template></template> </lyte-menu-body> </template> </lyte-menu> </span> </lyte-td> <lyte-td data-zcqa="kanbanViewName"><lyte-text lt-prop-value="{{record.name}}" lt-prop-title="{{record.name}}"></lyte-text></lyte-td> <lyte-td data-zcqa="cateorizeByField"><lyte-text lt-prop-value="{{record.categorize_by.field_label}}" lt-prop-title="{{record.categorize_by.field_label}}"></lyte-text></lyte-td> <lyte-td data-zcqa="accessType"><lyte-text lt-prop-value="{{formatAccessType(record.access_type)}}" lt-prop-title="{{formatAccessType(record.access_type)}}"></lyte-text></lyte-td> <lyte-td data-zcqa="LastModifiedBy"> <template is="if" value="{{record.modified_by}}"><template case="true"> <div id="ModifiedUserImg" class="flexAlignCenter" lt-prop-title="{{record.modifiedByToolTip}}"> <img alt="User Photo" class="fcUserCircleImg dIB vaM mR5" src="{{getImgUrl(record.modified_by.zuid)}}"> <lyte-text class="dIB" lt-prop-value="{{record.modifiedBy}}"></lyte-text> </div> </template></template> </lyte-td> <lyte-td data-zcqa="createdBy"> <template is="if" value="{{expHandlers(expHandlers(expHandlers(record.system_defined,\'!\'),\'&amp;&amp;\',record.created_by),\'&amp;&amp;\',record.created_time)}}"><template case="true"> <div id="CreatedUserImg" class="flexAlignCenter" lt-prop-title="{{record.createdByToolTip}}"> <img alt="User Photo" class="fcUserCircleImg dIB vaM mR5" src="{{getImgUrl(record.created_by.zuid)}}"> <lyte-text class="dIB" lt-prop-value="{{record.createdBy}}"></lyte-text> </div> </template></template> </lyte-td> </lyte-tr> </template> </lyte-tbody> </lyte-table-structure> </template> </lyte-table> </lyte-modal-content> </template> </lyte-modal> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"text",position:[1,1,0]},{type:"attr",position:[1,3]},{type:"registerYield",position:[1,3,0],dynamicNodes:[{type:"text",position:[0]}]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]},{type:"registerYield",position:[3,1,1],dynamicNodes:[{type:"componentDynamic",position:[1,1,1,1]},{type:"attr",position:[1,1,1,3]},{type:"for",position:[1,1,1,3],dynamicNodes:[{type:"attr",position:[1,0]},{type:"componentDynamic",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3,1]},{type:"for",position:[1,3,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1,1]},{type:"if",position:[1,1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"attr",position:[1,1,1,3]},{type:"attr",position:[1,1,1,5]},{type:"registerYield",position:[1,1,1,5,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1,1,5]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3,0]},{type:"componentDynamic",position:[1,3,0]},{type:"componentDynamic",position:[1,3]},{type:"attr",position:[1,5,0]},{type:"componentDynamic",position:[1,5,0]},{type:"componentDynamic",position:[1,5]},{type:"attr",position:[1,7,0]},{type:"componentDynamic",position:[1,7,0]},{type:"componentDynamic",position:[1,7]},{type:"attr",position:[1,9,1]},{type:"if",position:[1,9,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,3]},{type:"componentDynamic",position:[1,3]}]}},default:{}},{type:"componentDynamic",position:[1,9]},{type:"attr",position:[1,11,1]},{type:"if",position:[1,11,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,3]},{type:"componentDynamic",position:[1,3]}]}},default:{}},{type:"componentDynamic",position:[1,11]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3]}]},{type:"componentDynamic",position:[1]}],_observedAttributes:["showModal","refreshView","viewDetails","tableHeader","moduleInfo","reorderItem"],data:function(){return{showModal:Lyte.attr("boolean",{default:!1}),refreshView:Lyte.attr("boolean",{default:!1}),viewDetails:Lyte.attr("array"),tableHeader:Lyte.attr("array"),moduleInfo:Lyte.attr("object"),reorderItem:Lyte.attr("array",{default:[]})}},init:function(){var e=this.getData("moduleInfo").api_name,t=[I18n.getMsg("crm.label.view.name"),I18n.getMsg("crm.info.kanbanview.used.field"),I18n.getMsg("crm.security.sharing.to"),I18n.getMsg("crm.module.lastmodifiedby"),I18n.getMsg("crm.module.createdby")];this.setData({module:e,createBtn:I18n.getMsg("crm.module.create",I18n.getMsg("canvas.kanban.view.tooltip")),tableHeader:t}),this.setKanbanManageData()},didConnect:function(){$L("#kanbanViewModal")[0].ltProp("show",!0),this.sortableview(),this.setModalFixedHeader()},didDestroy:function(){_cruxUtils.removeCustomAlert()},sortableview:function(){var e=this,t=$L(".multipleKanbanSortable");t[0]&&t.sortable({containment:".multipleKvList",items:".zcicncss-drag",clone:!0,onDrop:function(t,a,o,i,n){clearTimeout(e.timeout1);var s={};s.module=e.getData("moduleInfo").api_name;var l=t.dataset.value,r=e.getData("reorderItem");if(1===r.length&&r[0].id===l&&Lyte.arrayUtils(r,"removeAt",0,1),r.length<=1&&store.peekRecord("kanban_view",l).sequence_number!==n+1&&Lyte.arrayUtils(e.getData("reorderItem"),"push",{id:l,sequence_number:n+1}),r.length>1){var p=$L(".multipleKvList")[0].querySelectorAll(".multipleKvItem").map((function(e){return e.getAttribute("data-value")})).map(((e,t)=>({id:e,sequence_number:t+1})));this.setData("reorderItem",p)}Lyte.arrayUtils(e.data.viewDetails,"insertAt",n,Lyte.arrayUtils(e.data.viewDetails,"removeAt",i)),e.timeout1=setTimeout((function(){var t=store.peekAll("kanban_view").filterBy({module:e.getData("moduleInfo").api_name}).sortBy("sequence_number").map((e=>e.id)),a=e.data.viewDetails.map((e=>e.id));t.every(((e,t)=>e===a[t]))||e.orderKanbanItems(s,e.getData("reorderItem")),e.setData("reorderItem",[])}),3e3),e.sortableview()}.bind(this)})},actions:{createView:function(){if("disable"!==this.getData("buttonState")){var e=this;commonUtils.showHideLoadingDiv(!0),app.store.makeRequest("findRecord","module",this.getData("moduleInfo").id,void 0,void 0,void 0,{getFields:!0}).then((function(){commonUtils.showHideLoadingDiv(!1),e.setKanbanSettingsData(e.getData("moduleInfo"),{createView:!0},!1),e.handleKanbanSettingPopup(!0)}))}},editView:function(e){var t=e.id;this.editKanbanView(t,!0)},deleteView:function(e){var t=e.id,a=this.getData("moduleInfo").api_name;this.deleteKanbanView(a,t,!0)}},methods:{closeModal:function(){this.getData("currentViewDeleted")?(commonUtils.showHideLoadingDiv(!0),this.getMultipleKanban()):this.getData("refreshView")&&this.showselectedKV(this.getData("kvId")),this.setData({refreshView:!1,currentViewDeleted:!1}),$L("#kanbanViewModal")[0].ltProp("show",!1)}}},{mixins:["crm-view-utils","crm-kanban-mixin"]}),Lyte.Component.registerHelper("formatAccessType",(function(e){return new Map([["only_to_me",I18n.getMsg("crm.sharing.only.to.me")],["public",I18n.getMsg("crm.sharing.all.users.allowed")],["shared",I18n.getMsg("crm.sharing.following.users.allowed")]]).get(e)}));
