$L.zoomer=function(e){var t=$L("body")[0];"destroy"!==e?(t.controlKeyPressed||t.insideOutFlag||t.ignoreParentELems||t.prevFlagVal||t.currentValue||t.currentCoord||t.previousCoord||t.controlKey||t.altControl||t.metaControl||t.shiftControl||t.windowWidth||t.isInside||t.container||(t.container=document.createElement("DIV"),t.controlKeyPressed=!1,t.insideOutFlag=!1,t.ignoreParentELems=[],t.prevFlagVal=void 0,t.currentValue,t.currentCoord={},t.isInside=!1,t.previousCoord={x:0,y:0},t.altControl=!1,t.metaControl=!1,t.shiftControl=!1,t.windowWidth=window.innerWidth),$L(t.container).addClass("lyteZoomContainer"),t.setControlKey||(t.setControlKey=function(){e&&e.controlKey?t.controlKey=e.controlKey:t.controlKey="altKey","altKey"===t.controlKey?t.altControl=!0:"shiftKey"===t.controlKey?t.shiftControl=!0:"metaKey"===t.controlKey&&(t.metaControl=!0)}),t.setContainerCSS||(t.setContainerCSS=function(){let n=t.windowWidth*(3/4);t.container.style.maxWidth=n+"px",e&&e.className&&$L(t.container).addClass(e.className),$L("body")[0].appendChild(t.container)}),t.getIgnoreParentElems||(t.getIgnoreParentElems=function(){t.ignoreParentELems=$L("[ignore-parent]:not([ignore-parent = 'false'])")}),t.resetContainer||(t.resetContainer=function(){$L(t.container).removeClass("showZoomContainer"),t.container.style.removeProperty("top"),t.container.style.removeProperty("right"),t.container.style.removeProperty("left")}),t.setControlKey(),t.setContainerCSS(),t.getIgnoreParentElems(),t.mouseMove||(t.mouseMove=function(e){function n(){let n;t.controlKeyPressed=!0;let o=function(e){let t=document.createRange();t.selectNode(e.target);let n,a=t.getClientRects();if(a.length>150)return[!1,e.target.getBoundingClientRect()];if(1==a.length)return[!0,e.target.getBoundingClientRect()];for(let t=1;t<a.length;t++)if(e.clientY>=a[t].top&&e.clientY<=a[t].bottom&&e.clientX>=a[t].left&&e.clientX<=a[t].right){n=a[t];break}return n&&e.clientY>=n.top&&e.clientY<=n.bottom&&e.clientX>=n.left&&e.clientX<=n.right?[!0,n]:[!1,n]}(e),r=o[0],i=o[1];if(r){n=$L(e.target).nodeFinder();for(let n=0;n<t.ignoreParentELems.length;n++)if(e.target===t.ignoreParentELems[n])return;try{let e=n.finalTarget[0];n.finalTargetContext=n.finalTargetContext?n.finalTargetContext.trim():"",function(e){"SPAN"===e.nodeName&&$L(configObj.target).closest("lyte-calculator").length>0&&(t.isInside=!0)}(e);let o=n.finalTargetContext;t.container.style.fontSize="60px",n.finalTargetContext&&0!==n.finalTargetContext.length&&($L(t.container).addClass("showZoomContainer"),t.container.innerText=o,a(e,i))}catch(e){}}else t.resetContainer()}function a(e,n){if(n){let o=window.scrollY,r=window.scrollX,i=parseInt(window.getComputedStyle(e).fontSize)+10,l=n.top,s=n.left,c=n.bottom,g=t.container.getBoundingClientRect(),f=g.height,m=g.width;window.innerWidth-s>m?(t.container.style.hasOwnProperty("right")&&(t.container.style.right="unset"),t.container.style.left=s+r+"px"):window.innerWidth-s<m&&(t.container.style.hasOwnProperty("left")&&(t.container.style.left="unset"),t.container.style.right="5px"),window.innerHeight-c>f?(t.container.style.hasOwnProperty("bottom")&&(t.container.style.bottom="unset"),t.container.style.top=c+o+"px"):l>f?(t.container.style.hasOwnProperty("top")&&(t.container.style.top="unset"),t.container.style.bottom=window.innerHeight-l-o+"px"):(currentContFontSize=parseInt(window.getComputedStyle(t.container).fontSize),currentContFontSize>=i&&(t.container.style.fontSize=currentContFontSize-2+"px",a(e,n))),0===parseInt(t.container.style.left)&&(t.container.style.left="5px")}}t.getIgnoreParentElems(),(t.altControl&&e.altKey||t.shiftControl&&e.shiftKey||t.metaControl&&e.metaKey)&&n()}),t.keyUp||(t.keyUp=function(e){let n;"altKey"===t.controlKey?n="Alt":"shiftKey"===t.controlKey?n="Shift":"metaKey"===t.controlKey&&(n="Meta"),e.key===n&&t.controlKeyPressed&&(t.controlKeyPressed=!1,t.insideOutFlag=!1,isOut=!1,t.resetContainer())}),$L(document).mousemove(t.mouseMove),$L(document).keyup(t.keyUp),window.addEventListener("blur",(function(e){t.resetContainer()}))):"destroy"===e&&($L(document).off("mousemove",t.mouseMove),$L(document).off("keyup",t.keyUp),document.querySelector(".lyteZoomContainer").remove(),t.container=t.controlKeyPressed=t.insideOutFlag=t.ignoreParentELems=t.prevFlagVal=t.currentValue=t.currentCoord=t.isInside=t.previousCoord=t.altControl=t.metaControl=t.shiftControl=t.windowWidth=t.setControlKey=t.setContainerCSS=t.getIgnoreParentElems=t.resetContainer=t.mouseMove=t.keyUp=t.controlKey=null)},$L&&($L.prototype.nodeFinder=function(e){let t,n,a=!0,o=!1,r=!1,i=!1,l=[],s=function(){},c=[],g=!1;function f(e,t){return $L(e).find(t).length>0||$L(e)[0]===t}function m(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function d(e){return e&&""!==e?(e=(e=e.replaceAll("\n"," ")).replaceAll("\t","    ")).trim():""}configObj={target:this[0]},priorityArray=[["P"],["INPUT","LABEL","TEXTAREA","BUTTON","LEGEND","SELECT","OPTION","OUTPUT","IMG"],["EM","B","I","CITE","Q","SMALL","SPAN","STRONG","U","WBR","label","textarea","CRUX-TEXT-COMPONENT"],["LYTE-ACCORDION-HEADER","LYTE-ACCORDION-BODY","LYTE-ALERT-HEADER","LYTE-ALERT-CONTENT","LYTE-MODAL-CONTENT","LYTE-AUTOCOMPLETE-DESCRIPTION","LYTE-AUTOCOMPLETE-LABEL","LYTE-BREADCRUMB-BODY","LYTE-BREADCRUMB-ITEM","LYTE-YIELD","LYTE-DRAWER-LABEL","LYTE-DRAWER-ITEM","LYTE-DROP-ITEM","LYTE-DROP-BUTTON","LYTE-DROP-LABEL","LYTE-EXPTABLE-TD","LYTE-EXPTABLE-TH","LYTE-GRID-CONTENT","LYTE-MENU-ITEM","LYTE-MENU-LABEL","LYTE-MENU-DESCRIPTION","LYTE-MODAL-HEADER","LYTE-NAV-ITEM","LYTE-POPOVER-HEADER","LYTE-STEP-HEAD","LYTE-STEP-BODY","LYTE-TAB-TITLE","LYTE-TAB-CONTENT","LYTE-TH","LYTE-TD","LYTE-TEXT","LYTE-TOUR-STEP-HEAD","LYTE-TOUR-STEP-CONTENT"],["DIV","A"],[]];class y{constructor(){this.finalTarget=[],this.finalTargetContext=void 0,this.findNode=function(){let e=configObj.index;e&&m(configObj.target)?0===e[0]?this.finalTarget.push(configObj.target):1===e[0]?function(e){if("INPUT"===configObj.target.nodeName||"TEXTAREA"===configObj.target.nodeName)if($L(configObj.target).siblings("label").length>0||""!=configObj.target.value){let t=$L(configObj.target).siblings("label");for(let n=0;n<t.length;n++)$L(t[n]).attr("for")===$L(configObj.target).attr("id")&&e.finalTarget.push(configObj.target,t[n]);0===e.finalTarget.length&&e.finalTarget.push(configObj.target)}else e.finalTarget.push(configObj.target);else e.finalTarget.push(configObj.target)}(this):2===e[0]?function(e){let t=$L(configObj.target).parent()[0],n=!0;$L(configObj.target).siblings().length>0&&!r&&(i=!0,e.finalTarget[0]=t),"P"!==t.nodeName&&"DIV"!==t.nodeName||r?n=!0:(n=!1,e.finalTarget[0]=t),n&&(e.finalTarget[0]=configObj.target)}(this):(3===e[0]||4===e[0])&&function(e){e.finalTarget.push(configObj.target)}(this):function(e){a&&e.finalTarget.push(configObj.target)}(this)},this.findContext=function(){let e=configObj.index;try{e&&m(configObj.target)?0===e[0]?(t=this).finalTargetContext=d(t.finalTarget[0].innerText):1===e[0]?function(e){if("INPUT"===configObj.target.nodeName||"TEXTAREA"===configObj.target.nodeName){let t,n,a,o;n=e.finalTarget[0].value,o=$L(e.finalTarget[0]).attr("aria-label"),a=$L(e.finalTarget[0]).attr("placeholder"),t=e.finalTarget[1]?d(e.finalTarget[1].innerText):void 0,o&&""!=o?e.finalTargetContext=""!=n?o+"("+n+")":o:t&&""!=t?e.finalTargetContext=""!=n?t+"("+n+")":t:a&&""!=a?e.finalTargetContext=""!=n?a+"("+n+")":a:""!=n?e.finalTargetContext=n:""===n&&void 0===a&&void 0===t&&void 0===o&&(e.finalTargetContext="")}else if("IMG"===configObj.target.nodeName){let t=$L(configObj.target).attr("alt");$L(configObj.target).attr("src"),t&&(e.finalTargetContext=t)}else if("SELECT"===configObj.target.nodeName){let t=d($L(configObj.target).children("option")[0].innerText);if($L(configObj.target).siblings("label").length>0){let n=$L(configObj.target).siblings("label");for(let t=0;t<n.length;t++)$L(n[t]).attr("for")===$L(configObj.target).attr("id")&&(e.finalTargetContext=d(n[t].innerText));e.finalTargetContext=e.finalTargetContext+"("+t+")"}else e.finalTargetContext=t}else e.finalTargetContext=d(e.finalTarget[0].innerText)}(this):2===e[0]||3===e[0]?function(e){e.finalTargetContext=d(e.finalTarget[0].innerText)}(this):4===e[0]&&function(e){let t=e.finalTarget[0].children;if(0!==t.length){let n,a=d(e.finalTarget[0].innerText),o=d(t[0].innerText);for(let r=0;r<t.length;r++)-1===priorityArray[2].indexOf(t[r].nodeName)?(n=a.match(o).index-1,e.finalTargetContext=a.slice(0,n)):e.finalTargetContext=d(e.finalTarget[0].innerText)}else e.finalTargetContext=d(e.finalTarget[0].innerText)}(this):function(e){a&&(e.finalTargetContext=d(e.finalTarget[0].innerText))}(this),$L(configObj.target).attr("lt-prop-title")&&(this.finalTargetContext=this.finalTargetContext+$L(configObj.target).attr("lt-prop-title")),""!==this.finalTargetContext&&void 0!==this.finalTargetContext||($L(configObj.target).attr("aria-label")?this.finalTargetContext=$L(configObj.target).attr("aria-label"):$L(configObj.target).attr("aria-labelledby")&&(this.finalTargetContext=$L("#"+$L(configObj.target).attr("aria-labelledby")).innerText))}catch(e){}var t}}}return e&&(e.customNodes&&(l=e.customNodes),e.contextFunction&&(s=e.contextFunction)),function(){t=Array.from(document.querySelectorAll("[ignore-context]")||document.querySelectorAll('[ignore-context = "true"]'));for(let e=0;e<t.length;e++)"false"===$L(t[e]).attr("ignore-context")&&(t.splice(e,1),t.length>1&&e--)}(),l.forEach((function(e){$L(e).length>1?Array.from($L(e)).forEach((function(e){c.push(e)})):1===$L(e).length&&c.push(e)})),function(){if("LYTE-"===configObj.target.nodeName.slice(0,5))for(let e=0;e<priorityArray[3].length&&configObj.target.nodeName!==priorityArray[3][e];e++)e===priorityArray[3].length-1&&(a=!1)}(),$L("lyte-calculator").length>0&&(o=!0),o&&"SPAN"===configObj.target.nodeName&&$L(configObj.target).closest("lyte-calculator").length>0&&(r=!0),function(){configObj.mapObjects=new Map;for(let e=0;e<priorityArray.length;e++)for(let t=0;t<priorityArray[e].length;t++)configObj.mapObjects.set(priorityArray[e][t],[e,priorityArray[e].indexOf(priorityArray[e][t])])}(),configObj.index=configObj.mapObjects.get(configObj.target.nodeName),function(){let e=!0;t.forEach((function(t){(configObj.target===t||f(t,configObj.target))&&(e=!1)})),e&&(n=new y,n.findNode(),c.forEach((function(e){f(e,configObj.target)&&(g=!0)})),c.indexOf(configObj.target)>-1||g?s():n.findContext())}(),""!==n.finalTargetContext&&n.finalTargetContext||(configObj.target.hasAttribute("lt-prop-title")?n.finalTargetContext=d(configObj.target.getAttribute("lt-prop-title")):$L(configObj.target).closest("[lt-prop-title]").length>0&&(n.finalTargetContext=d($L(configObj.target).closest("[lt-prop-title]")[0].getAttribute("lt-prop-title")))),n}),$L&&($L.prototype.readingMask=function(e){var t=this[0];if(t.elementBCR||t.once||t.mask||t.freeze||t.tabPressed||t.maskStyle||t.freezeStyle||t.activeElementBCR||t.activeElement||t.maskBCR||t.activeElemChange||t.inital||(t.elementBCR=t.getBoundingClientRect(),t.once=!0,t.mask=document.createElement("DIV"),t.freezeLayer=document.createElement("DIV"),t.tabPressed=!1,t.maskStyle=t.mask.style,t.freezeStyle=t.freezeLayer.style,t.activeElement,t.activeElementBCR,t.cursorX,t.cursorY,t.maskBCR,t.inital=!0,t.activeElemChange=function(){},e&&e.activeElemChange&&(t.activeElemChange=e.activeElemChange)),t.tabKeyUp||(t.tabKeyUp=function(e){var n,a,o,r;"Tab"===e.key?(t.tabPressed=!0,t.activeElement=document.activeElement,t.activeElementBCR=t.activeElement.getBoundingClientRect(),t.maskStyle.display="block",t.freezeStyle.display="block",n=t.activeElementBCR.height,a=t.activeElementBCR.width,o=t.activeElementBCR.top,r=t.activeElementBCR.left,t.maskStyle.width=a+"px",t.maskStyle.height=n+"px",t.maskStyle.top=o-5+"px",t.maskStyle.left=r-5+"px",t.activeElemChange(),document.addEventListener("scroll",t.scrollFn)):"Escape"===e.key&&(t.tabPressed=!1,t.maskStyle.width=maskWidth,t.maskStyle.height=maskHeight,t.maskStyle.top=Math.min(t.elementBCR.bottom-t.maskBCR.height,Math.max(t.elementBCR.top,t.cursorY-t.maskBCR.height/2))-5+"px",t.maskStyle.left=Math.min(t.elementBCR.right-t.maskBCR.width,Math.max(t.elementBCR.left,t.cursorX-t.maskBCR.width/2))-5+"px")}),t.scrollFn||(t.scrollFn=function(e){t.tabPressed&&(t.activeElementBCR=t.activeElement.getBoundingClientRect(),t.maskStyle.top=t.activeElementBCR.top-5+"px",t.maskStyle.left=t.activeElementBCR.left-5+"px")}),t.maskOver||(t.maskOver=function(e){t.once&&(t.maskStyle.display="block",t.freezeStyle.display="block",t.elementBCR=t.getBoundingClientRect(),t.once=!1)}),t.maskMove||(t.maskMove=function(n){if(t.tabPressed=!1,t.maskStyle.width=maskWidth,t.maskStyle.height=maskHeight,e.event&&t.inital)t.cursorX=e.event.clientX,t.cursorY=e.event.clientY,t.inital=!1;else{if(!e.event&&t.inital)return t.cursorX=window.innerWidth/2,t.cursorY=window.innerHeight/2,t.maskStyle.top=t.cursorY-parseInt(maskHeight)/2+"px",t.maskStyle.left=t.cursorX-parseInt(maskWidth)/2+"px",void(t.inital=!1);t.cursorX=n.clientX,t.cursorY=n.clientY}t.maskBCR=t.mask.getBoundingClientRect(),t.maskStyle.top=Math.min(window.innerHeight-t.maskBCR.height,Math.max(0,t.cursorY-t.maskBCR.height/2))-5+"px",t.maskStyle.left=Math.min(window.innerWidth-t.maskBCR.width,Math.max(0,t.cursorX-t.maskBCR.width/2))-5+"px"}),t.maskLeave||(t.maskLeave=function(e){t.once=!0,t.maskStyle.display="none"}),"destroy"!==e)$L("body")[0].appendChild(t.freezeLayer),$L(t.freezeLayer)[0].appendChild(t.mask),function(e){e&&e.maskWidth?"number"==typeof e.maskWidth?maskWidth=e.maskWidth+"px":maskWidth=e.maskWidth:maskWidth="500px",e&&e.maskHeight?"number"==typeof e.maskHeight?maskHeight=e.maskHeight+"px":maskHeight=e.maskHeight:maskHeight="100px",e&&e.freezeLayerColor?freezeLayerColor=e.freezeLayerColor:freezeLayerColor="black",e&&e.freezeLayerOpacity?freezeLayerOpacity=e.freezeLayerOpacity:freezeLayerOpacity="0.5",e&&e.zIndex?zIndex=e.zIndex:zIndex=9999,e&&e.customClass&&$L(t.mask).addClass(e.customClass)}(e),t.mask.id="maskarea",t.maskStyle.position="absolute",t.maskStyle.zIndex=zIndex,t.maskStyle.display="none",t.maskStyle.padding="5px",t.maskStyle.backgroundColor="gray",t.maskStyle.pointerEvents="none",t.freezeLayer.id="freeze",t.freezeStyle.position="fixed",t.freezeStyle.width="100%",t.freezeStyle.height="100%",t.freezeStyle.zIndex=zIndex,t.freezeStyle.backgroundColor=freezeLayerColor,t.freezeStyle.top="0",t.freezeStyle.left="0",t.freezeStyle.display="none",t.freezeStyle.opacity=freezeLayerOpacity,t.freezeStyle.pointerEvents="none",t.freezeStyle.mixBlendMode="hard-light",$L(t).mouseover(t.maskOver),$L(t).mousemove(t.maskMove),$L(t).mouseleave(t.maskLeave),$L("body").keyup(t.tabKeyUp),t.maskOver(),t.maskMove();else if("destroy"===e){$L(t).off("mouseenter",t.maskOver),$L(t).off("mousemove",t.maskMove),$L(t).off("mouseleave",t.maskLeave),$L("body").off("keyup",t.tabKeyUp),document.removeEventListener("scroll",t.scrollFn);const e=$L("#maskarea")[0],n=$L("#freeze")[0];e&&n&&(e.remove(),n.remove()),t.mask=t.freezeLayer=t.maskStyle=t.freezeStyle=t.elementBCR=t.once=t.inital=t.tabPressed=t.activeElementBCR=t.activeElement=t.maskOver=t.maskLeave=t.maskMove=t.activeElemChange=t.tabKeyUp=t.cursorX=t.cursorY=t.maskBCR=t=null}}),Lyte.Component.register("lyte-skip-to",{_template:'<template tag-name="lyte-skip-to"> <template is="for" items="{{ltPropData}}" item="item" index="index"> <div class="lyteSkipToClass" tabindex="0" dom-index="{{index}}">{{item.message}}</div> </template> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"for",position:[1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}],_observedAttributes:["ltPropData"],data:function(){return{ltPropData:Lyte.attr("array",{default:[{}]})}},init:function(){var e=this;document.addEventListener("keydown",(t=>{if("Enter"==t.key&&document.activeElement){var n=parseInt($L(document.activeElement).attr("dom-index"));if(n>=0){var a=e.getData("ltPropData")[n];if(a.target)$L(a.target)[0].focus();else if(a.container){let e=_lyteUiUtils.getFirstFocusableElem(a.container);e&&e.focus()}}}}))},actions:{},methods:{}});
