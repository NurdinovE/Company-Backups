Lyte.Router.registerRoute("crm",{queryParams:["headless","callbackcode","menuless","fromZohoOne"],getDependencies:function(){var e=[];return"crm.tab.module.custom-view.list"!==this.transition.target&&"crm.tab.module.custom-view.kanban"!==this.transition.target&&"crm.tab.module.custom-view.canvas"!==this.transition.target&&"crm.tab.module.custom-view.zia"!==this.transition.target||(e=e.concat(networkUtils.returnDependencyFiles(["lyte-initial-ui-comp3.js","crux-initial-comp1.js"],ResourceConstants.CRMClient))),this.transition.target.startsWith("crm.gamification")||(e=e.concat(networkUtils.returnDependencyFiles(["user_type.js","crm-lyte-initial.js","crm-lyte-initial-mixins2.js"],ResourceConstants.CRMClient))),!Crm.isHeadless&&featuresAvailable.NEXTGENUI_ENABLED&&(e=e.concat(networkUtils.returnDependencyFiles(["supported_actions_model.js"],ResourceConstants.CRMClient)),!Crm.isHeadless&&featuresAvailable.TEAMSPACE_ENABLED&&(e=e.concat(networkUtils.returnDependencyFiles(["crm-teamspace-model.js"],ResourceConstants.CRMClient)))),Crm.lux&&(e=e.concat(networkUtils.returnDependencyFiles(["crm-lux-store.js"],ResourceConstants.CRMClient))),e},getResources:function(){var e=Crm.userDetails.LOCALE,t="en_US.js";-1!==app.uiCompLocale.indexOf(e)&&(t=e+".js");var n=Crm.userDetails.LOCALE,s="crux_en_US.js",r=Crm.userDetails.RELEVANT_LOCALE;-1!==app.cruxCompLocale.indexOf(n)?s="crux_"+n+".js":-1!==app.cruxCompLocale.indexOf(r)&&(s="crux_"+r+".js");var o=networkUtils.returnDependencyFiles([t,s,"lyteuieditor/"+t],ResourceConstants.CRMClient);o=o.concat(networkUtils.returnDependencyFiles(["zohocrm_ccService.js"],ResourceConstants.CRM)),Crm.lux&&(o=(o=o.concat(networkUtils.returnDependencyFiles(["LuxHandler.js"],ResourceConstants.CRMClient))).concat(networkUtils.returnDependencyFiles(["zohocrm_chart.js"],ResourceConstants.CRM)));var i=[];i=(i=(i=i.concat(networkUtils.returnDependencyFiles([networkUtils.getI18nJSUrl("gamescopenotifications"),networkUtils.getI18nJSUrl("ProfileMenu")],ResourceConstants.CRM))).concat(networkUtils.returnDependencyFiles(["crm-motivator-notification-popup.css","motivator-notification-card.css","crux-table-component-v1.css","crm-ui-loaders.css"],ResourceConstants.CRMClient,ResourceConstants.LESSDEFAULT))).concat(networkUtils.returnDependencyFiles(["crm-motivator-notification-popup.js","motivator-notification-card.js","gamescope-helpers.js","gamescope-game-team.js"],ResourceConstants.CRMClient)),Crm.lux&&(i=i.concat(networkUtils.returnDependencyFiles(["devex/lux-modules/lyte-widget-in-parent.js"],ResourceConstants.CRMClient))),o=o.concat(i),!0===Crm.userDetails.RTL_ENABLED&&(o=o.concat(networkUtils.returnDependencyFiles(["cscript/crm-cscript-create-rtl.css"],ResourceConstants.CRMClient)));var a=["lyte-initial-ui-comp1.js","lyte-initial-ui-comp2.js","crux-initial-comp2.js","crm-lyte-initial-components.js","crm-ui-loaders.js"];if(this.transition.target.startsWith("crm.gamification")||(a=a.concat(["crm-menu-components.js"])),["crm.tab.module.custom-view.list","crm.tab.module.custom-view.kanban","crm.tab.module.custom-view.canvas","crm.tab.module.custom-view.zia"].includes(this.transition.target)||(a=a.concat(["lyte-initial-ui-comp3.js","crux-initial-comp1.js"])),void 0!==Crm.userDetails.PROFILE_POPUP){var c=[networkUtils.getI18nJSUrl("onboardingPageRevampProfileMenu")],l=networkUtils.returnDependencyFiles(c,ResourceConstants.CRM);o=o.concat(l)}o=(o=o.concat(networkUtils.returnDependencyFiles(["zohocrm_crm_formulainit.js","zohocrm_transDelUserScheduler.js","zohocrm_wfAuditLog.js","zohocrm_customerOnBoarding_initial.js","zohocrm_crmRelatedList.js","zcrm_productDetails.js"],ResourceConstants.CRM))).concat(networkUtils.returnDependencyFiles(a,ResourceConstants.CRMClient));var u=[];return("SupportProfileInternal"===Crm.userDetails.PROFILE_NAME||Crm.userDetails.isSupportAccessExitSessionEnabled)&&(u=(u=(u=(u=(u=u.concat(networkUtils.returnDependencyFiles(["crm-support-access-logout-session.js","lyte-draggable.js","crm-support-access-model.js"],ResourceConstants.CRMClient))).concat(networkUtils.returnDependencyFiles(["crm-ui-loaders.js"],ResourceConstants.CRMClient))).concat(networkUtils.returnDependencyFiles(["crm-support-access-logout-session.css"],ResourceConstants.CRMClient,ResourceConstants.LESSDEFAULT))).concat(networkUtils.returnDependencyFiles(["crm-ui-loaders.css"],ResourceConstants.CRMClient,ResourceConstants.LESSDEFAULT))).concat(networkUtils.returnDependencyFiles([networkUtils.getI18nJSUrl("supportaccess")],ResourceConstants.CRM)),o=o.concat(u)),o=o.concat(networkUtils.returnDependencyFiles(["crm-keyboard-shortcutsmixin.js"],ResourceConstants.CRMClient)),Crm.userDetails.isKeyboardShortcutsEnabled&&(o=o.concat(networkUtils.returnDependencyFiles(["lyte-shortcut.js"],ResourceConstants.CRMClient))),o=o.concat(networkUtils.returnDependencyFiles([networkUtils.getI18nJSUrl("keyboardshortcutsactions")],ResourceConstants.CRM)),!Crm.isHeadless&&featuresAvailable.NEXTGENUI_ENABLED&&(o=(o=(o=o.concat(networkUtils.returnDependencyFiles(["crm-nextgenui-components.js","crm-nextgenui-loader-components.js","lyte-nav.js","lyte-resize.js","lyte-beta-modal.js"],ResourceConstants.CRMClient))).concat(networkUtils.returnDependencyFiles(["crm-nextgenui-components.css","lyte-beta-modal.css"],ResourceConstants.CRMClient,ResourceConstants.LESSDEFAULT))).concat(networkUtils.returnDependencyFiles([networkUtils.getI18nJSUrl("nextgenui")],ResourceConstants.CRM)),featuresAvailable.TEAM_MODULE_ENABLED&&(o=(o=(o=o.concat(networkUtils.returnDependencyFiles([networkUtils.getI18nJSUrl("ManageUsers")],ResourceConstants.CRM))).concat(networkUtils.returnDependencyFiles([networkUtils.getI18nJSUrl("createModuleModal")],ResourceConstants.CRM))).concat(networkUtils.returnDependencyFiles([networkUtils.getI18nJSUrl("profilePage"),networkUtils.getI18nJSUrl("PrivateProfileDifference")],ResourceConstants.CRM))),!0===Crm.userDetails.RTL_ENABLED&&(o=o.concat(networkUtils.returnDependencyFiles(["crm-nextgenui-components-rtl.css"],ResourceConstants.CRMClient,ResourceConstants.LESSDEFAULT))),featuresAvailable.TEAMSPACE_ENABLED&&(o=(o=o.concat(networkUtils.returnDependencyFiles(["crm-left-menu-teamspace.js","crm-teamspace-helper.js","crm-teamspace-notifyadmin.js"],ResourceConstants.CRMClient))).concat(networkUtils.returnDependencyFiles([networkUtils.getI18nJSUrl("teamspace")],ResourceConstants.CRM)))),!Crm.isHeadless&&featuresAvailable.NEXTGENUI_ONBOARDING&&(o=(o=(o=o.concat(networkUtils.returnDependencyFiles(["crm-nextgenui-onboarding.js"],ResourceConstants.CRMClient))).concat(networkUtils.returnDependencyFiles(["crm-nextgenui-popup.css"],ResourceConstants.CRMClient,ResourceConstants.LESSDEFAULT))).concat(networkUtils.returnDependencyFiles([networkUtils.getI18nJSUrl("nextgenuipopup")],ResourceConstants.CRM))),CScriptLib&&(Crm.userDetails.CSCRIPT_PRELOAD&&(o=o.concat(networkUtils.returnDependencyFiles(["crm-cscript-initial-loader.css"],ResourceConstants.CRMClient,ResourceConstants.LESSDEFAULT))),featuresAvailable.CSCRIPT_COMMANDS&&(o=o.concat(networkUtils.returnDependencyFiles(["cscript/crm-cscript-hotkeys.js"],ResourceConstants.CRMClient)).concat(networkUtils.returnDependencyFiles(["cscript/crm-cscript-hotkeys.css"],ResourceConstants.CRMClient,ResourceConstants.LESSDEFAULT)).concat(networkUtils.returnDependencyFiles([networkUtils.getI18nJSUrl("commands")],ResourceConstants.CRM)))),"undefined"!=typeof featuresAvailable&&featuresAvailable.DATA_HUB&&(o=o.concat(networkUtils.returnDependencyFiles(["datahub/crm-datahub-global-mixin.js","datahub/crm-datahub-engine.js"],ResourceConstants.CRMClient))),void 0!==this.transition.info.queryParams.fromZohoOne&&"true"===this.transition.info.queryParams.fromZohoOne&&(o=(o=o.concat(networkUtils.returnDependencyFiles(["unified-services.js"],ResourceConstants.CRMClient))).concat(Crm.unifiedServiceLibURL)),Crm.userDetails.isAccessibilityConfigSupported&&(o=(o=(o=(o=(o=(o=o.concat(networkUtils.returnDependencyFiles(["lyte-zoomer.js","lyte-draggable.js"],ResourceConstants.CRMClient))).concat(networkUtils.returnDependencyFiles(["lyte-zoomer.css"],ResourceConstants.CRMClient))).concat(networkUtils.returnDependencyFiles(["crm-accessibility.css"],ResourceConstants.CRMClient,ResourceConstants.LESSDEFAULT))).concat(networkUtils.returnDependencyFiles([networkUtils.getI18nJSUrl("accessibilityARIA")],ResourceConstants.CRM))).concat(networkUtils.returnDependencyFiles(["globalVoiceAssistance.js"],ResourceConstants.CRMClient))).concat(networkUtils.returnDependencyFiles(["crm-voice-assistance-shortcut.css"],ResourceConstants.CRMClient,ResourceConstants.LESSDEFAULT))),o=o.concat(networkUtils.returnDependencyFiles([networkUtils.getI18nJSUrl("ariaLabel")],ResourceConstants.CRM))},renderTemplate:function(e,t){if(!Crm.isHeadless&&featuresAvailable.NEXTGENUI_ENABLED){var n={};for(key in Crm.nextGenInfo)["last_accessed_team_space","last_notified_time"].includes(key)||(n[key]=Crm.nextGenInfo[key]);var s=Crm.nextGenInfo&&Crm.nextGenInfo.left_panel_width?Crm.nextGenInfo.left_panel_width:200;document.querySelector(":root").style.setProperty("--crm-nxtgen-left-secondarybar-width",s+"px"),e.user_view_preference=n,e.team_space=store.peekAll("team_space"),document.querySelector("crm-left-menu")||setTimeout((function(){Lyte.Component.render("crm-left-menu",{class:"dF crm-leftmenu-tab",id:"crm-left-menu",licenseType:Crm.userDetails.LICENSE_TYPE,ntcEnabledUser:Crm.userDetails.NTC_ENABLED,feedsEnabled:Crm.userDetails.isFeedsEnabled,isPaidUser:Crm.userDetails.ISPAID_USER,showChatNonAdmin:Crm.showChatNonAdmin},".nextGenUILeftMenu")}),0),featuresAvailable.TEAMSPACE_ENABLED&&(e.team_spaces_configuration=Crm.nextGenInfo.team_spaces_configuration)}else if(!Crm.isHeadless)return e.newMailCount=newMailCount,e.showMailMagnet=showMailMagnet,e.feedsEnabled=isFeedsEnabled,e.issandboxacc=isSandboxAcc,e.issandboxdevacc=isSandboxDevAcc,e.isdevelopment=Crm.env.isDevelopment,e.onlineStoreAvlbl=Crm.onlineStoreAvailabel,e.ntcEnabledUser=Crm.ntcEnabledUser,e.editionName=Crm.editionName,e.isfreeedition=Crm.isfreeedition,e.showTabGroup=Crm.showTabGroupList,e.clientPortalName=Crm.clientPortalName,e.companyName=Crm.companyName,e.companyLogo=Crm.companyLogo,e.showEdition=showEdition,e.showChatNonAdmin=Crm.showChatNonAdmin,e["lt-prop-landmark"]="true",e.role="navigation",e["lt-prop-landmark-label"]=I18n.getMsg("crm.landmark.nav",I18n.getMsg("crm.label.menu")),e["aria-label"]=I18n.getMsg("crm.label.menu"),{outlet:"#mainMenuTabDiv",component:"crm-menu"}},actions:{onBeforeLoad:function(){var e=$L("crm-profile-menu")[0];Crm.userDetails.PROFILE_POPUP&&void 0!==e&&("Home"===this.transition.info.dynamicParams[0]&&"inprogress"===Crm.userDetails.PROFILE_POPUP?(Crm.userDetails.RIGHT_PANEL_POPUP="closed",e.component.setData({showQuickSetupPopup:!1,showquickSetupPopupMinimize:!1,cardPopup:!1})):e.component.setData("cardPopup",!0),"opened"===Crm.userDetails.RIGHT_PANEL_POPUP&&e.component.actions.highlightChange())},willTransition:function(){1==permissionDenied&&(permissionDenied=!1)},onError:function(e,t){$("html").addClass("page_initial_loading_hide"),$(".dummy_Body").hide();var n=$L("#leftMenuLoader");if(n&&n.length>0&&(n[0].classList.contains("crm-initldt-primhide")||(n[0].classList.add("crm-initldt-primhide"),n.hide())),e.status===crmConstants.errorStatusCode)return t.permError=!0,!1;if("string"==typeof e.responseText&&"crm"!==t.target){var s=networkUtils.getOrgSpecificURL(Crm.getCrmBasePath()+"/"),r=window.location.pathname.split(s)[1];return this.replaceWith("crm.crm-error",r).data=e.responseText,!1}}},beforeModel:function(){Lyte.injectServices("globalServices"),Lyte.injectServices("globalAccessibilityServices"),Crm.userDetails.isAccessibilityConfigSupported&&Lyte.injectServices("globalVoiceAssistance"),2===Crm.userDetails.ORG_TYPE&&Lyte.injectServices("routerServices"),void 0!==this.transition.info.queryParams.fromZohoOne&&"true"===this.transition.info.queryParams.fromZohoOne&&Lyte.injectServices("unifiedServices"),userInfo&&store.pushPayload("user",userInfo.users),store.pushPayload("tab_group",tabInfo.tab_groups),"undefined"!=typeof CrmPlusImpl&&CrmPlusImpl.getOtherPortalsList(),!Crm.isHeadless&&featuresAvailable.TEAMSPACE_ENABLED&&store.pushPayload("team_space",Crm.nextGenInfo&&Crm.nextGenInfo.team_spaces?Crm.nextGenInfo.team_spaces:[])},model:function(){if(crmTab.tabList=Object.keys(moduleApiMapping),!Crm.isHeadless&&featuresAvailable.NEXTGENUI_ENABLED&&Crm.nextGenInfo&&!Crm.nextGenInfo.hasOwnProperty("team_spaces"))return Lyte.resolvePromises({team_space:store.findAll("team_space")});var e=store.peekAll("tab_group"),t=e.length,n=store.peekAll("tab_group").filterBy({default:!0})[0],s=!1;!Crm.userDetails.IS_ADMIN&&tabInfo.showAllTabsOnlyToAdmin&&"0"===n.id&&t>1&&(n.$.set("default",!1),e.filter((e=>"0"!==e.id))[0].$.set("default",!0),s=!0);for(var r=0;r<t;r++)if(e[r].default){if(window.clientPortalName){for(var o=e[r].modules.sortBy("sequence_number"),i=o.length,a=0;a<i;a++)if(o[a].module_name===Crm.userDetails.CLIENT_TYPE){var c=o[a];o.splice(a,1),o.splice(0,0,c)}return{tabModules:o,defaultTabGroupChanged:s}}return{tabModules:e[r].modules.sortBy("sequence_number"),defaultTabGroupChanged:s}}},afterRender:function(e,t){if(CScriptLib&&_cscript&&(_cscript._hotEngine._engine&&!_cscript._hotEngine._init&&CScript.Engine.Hot.Init(),_cscript._crm_rendered=!0),"undefined"!=typeof featuresAvailable&&featuresAvailable.DATA_HUB)try{CScript.InitializeDH()}catch(e){murphy.error(e)}(crmTab.tabList=Object.keys(moduleApiMapping),Crm.userDetails.CUSTOMIZE_INFO.hasOwnProperty("keyboard_shortcuts"))?(Crm.userDetails.isKeyboardShortcutsEnabled=!0,Lyte.Router.getRouteInstance().transition.info.route.includes("crm.gamification")||store.findAll("keyboard_shortcuts").then((function(e){e.forEach((function(e){"General"!==e.category&&"Navigation"!==e.category&&"Switch Tabs"!==e.category||!Crm.userDetails.isKeyboardShortcutsEnabled||Lyte.registeredMixins["crm-keyboard-shortcutsmixin"].bindShortcuts(e.category,e.components)}))}))):Crm.userDetails.isKeyboardShortcutsEnabled=!1;Crm.userDetails.isAccessibilityConfigSupported&&(Crm.userDetails.isAccessibilityUpdated?this.globalAccessibilityServices.accessibilityAPI().then(function(e){this.globalAccessibilityServices.initialVariablesetter(e),this.globalAccessibilityServices.accessibilityConfigInitialization(e),e&&e.accessibility.motor.voice_assistant.enable&&Lyte.Service.getInjected("globalVoiceAssistance").insertVAinWMS(!0)}.bind(this)):this.globalAccessibilityServices.initialVariablesetter());var n=null!=t&&null!=t.queryParams&&"true"==t.queryParams.headless;if("crm.tab.dashboards.view.expand"===this.transition.info.route||n)$(".dummy_Topband").hide(),$(document.body).css("background-color","transparent");else{var s;if(this.transition.info.route.indexOf("crm.tab")>-1){var r=$(".lyteMenuItems .lyteMenuActive").data("value");if(-1!=this.transition.info.route.indexOf("crm.tab.module"))s=this.getRouteInstance("crm.tab.module").getDynamicParam();else{var o=this.transition.info.route.split(".")[2];s=o.charAt(0).toUpperCase()+o.slice(1)}crmTab.isZBCustomModule(s)?s=crmTab.isBooksIntegrated()?"Zoho Books":"Zoho Invoice":crmTab.isZExpenseSubModule(s)&&(s="Zoho Expense"),window.clientPortalName||!crmTab.isZCpqTab(s)&&!crmTab.isZCpqSubTab(s)||(s="ZohoCPQ"),"OneFeeds"==s?s="Feeds":"Voc"===s&&(s=moduleRecordMapping["Voice Of Customer"]?"Voice Of Customer":"Voice of the Customer",crmTab&&crmTab.showVocPromoTab&&(e.vocPromoByDefault=!Crm.userDetails.SERVICES_PROMO_VISIBILITY&&validationUtils.isEmpty(crmTab.requiredPromoTabs)&&!crmTab.needPseudoProjectsTab||!Crm.isHeadless&&"undefined"!=typeof CrmPlusImpl&&CrmPlusImpl.isLoadedInCrmplus(),e.vocPromoSelected=!e.vocPromoByDefault)),"NewReports"===s&&(s=this.getRouteInstance("crm.tab.newReports.records")&&this.getRouteInstance("crm.tab.newReports.records").getQueryParams()&&"viewAppointments"===this.getRouteInstance("crm.tab.newReports.records").getQueryParams().action?"Appointments":"Reports"),"NewForecasts"===s&&(s="Forecasts"),"Reports"===s&&this.getRouteInstance("crm.tab.reports.records")&&this.getRouteInstance("crm.tab.reports.records").getQueryParams()&&"viewAppointments"===this.getRouteInstance("crm.tab.reports.records").getQueryParams().action&&(s="Appointments"),"NewForecasts"===s&&(s="Forecasts"),r!=s&&(e.selected=moduleRecordMapping[s],null==e.selected&&moduleRecordMapping[s.replace(" ","/")]&&(e.selected=moduleRecordMapping[s.replace(" ","/")]))}}if(null!=t&&null!=t.queryParams&&"true"==t.queryParams.headless||Lyte.Component.render("crm-calendar-menu",{},"body"),setTimeout((function(){if(null!=t&&null!=t.queryParams&&"true"==t.queryParams.headless?($("#mainMenuTabDiv").hide(),$("#wmstoolbar").hide()):($("#mainMenuTabDiv").show(),$("#wmstoolbar").show()),!n)if(!Crm.isHeadless&&featuresAvailable.NEXTGENUI_ENABLED){var s=$L("#mainMenuTabDiv");s&&s.hide();var r=document.querySelector("crm-left-menu");if(r){r=r.component;var o="modules",i=e.user_view_preference?e.user_view_preference:null;i&&(o=i.last_accessed_menu?i.last_accessed_menu:o);var a=null;if(featuresAvailable.TEAMSPACE_ENABLED){featuresAvailable.TEAM_MODULE_ENABLED&&r.setData("lastAccessedRequesterModule",i?i.last_accessed_requester_module:i),r.setData("renderTeamspace",!0);var c=document.querySelector("crm-left-menu-teamspace").component;c.setData("skipRedirection",!0),a=c.getSelectedModuleOnCrmLoad(c,e.selected,i),c.setTeamspaceOnCrmLoad(c,e,a)}else r.setData("renderTabGroup",!0);if(r.setData("selectedMenu",o),"modules"===o&&a){var l={id:a.id,api_name:a.api_name};r.setData("lastAccessedModule",l)}else r.setData("lastAccessedModule",i.last_accessed_module);r.setData("lastAccessedMarketplace",i.last_accessed_component);var u=Lyte.Router.getRouteInstance().routeName,m=Lyte.Router.getRouteInstance().transition.target;"crm"===u?r.executeMethod("checkAndChangeMenu"):m.startsWith("crm.settings.section.extensions")?r.executeMethod("renderMarketplace"):(r.setData("selectedMenu","modules"),r.executeMethod("showModules")),r.setData("showProfilePic",!0),setTimeout((function(){r.resize()}),400)}}else{var d=document.querySelector("crm-menu");if(d){var p="https://"+Crm.userDetails.CLIENT_PORTAL_URL+app.crmNamespace+"/login.sas";d.component.setData({showProfilePic:!0,clientPortalLogoutUrl:"https://"+Crm.userDetails.CLIENT_PORTAL_URL+"/accounts/p/"+Crm.userDetails.CLIENT_PORTAL_ID+"/logout?servicename="+RebrandLinkUtil.getProperties().CRMSERVICENAME+"&serviceurl="+p})}var C=document.querySelector("crm-tab");C&&C.remove(),d&&d.setData("loadTabGroup",!0),delete e.role,delete e["lt-prop-landmark"],Lyte.Component.render("crm-tab",e,".crmMenuLeft")}}),0),Lyte.Component.render("crm-motivator-notification-popup",{},"body"),$L&&$L.prototype.scrollTo){var i=$L.prototype.scrollTo;$L.prototype.scrollTo=function(e){var t=Array.from(arguments);return e&&window.$&&e instanceof $&&(t[0]=$L(e)),i.apply(this,t)}}("SupportProfileInternal"===Crm.userDetails.PROFILE_NAME||Crm.userDetails.isSupportAccessExitSessionEnabled)&&($L("crm-support-access-logout-session").length>0||Lyte.Component.render("crm-support-access-logout-session",{},"body"));let a=!!Crm.userDetails.actDepBannerPop&&moduleRecordMapping.Activities.viewable,c=$L("crm-activity-depreciation-banner").length>0;if(c)c&&Lyte.Component.render("crm-activity-depreciation-banner",{showActBanner:a},"body");else{let e=networkUtils.returnDependencyFiles(["crm-activity-depreciation-banner.js"],ResourceConstants.CRMClient);e=e.concat(networkUtils.returnDependencyFiles(["crm-activity-banner.css"],ResourceConstants.CRMClient,ResourceConstants.LESSDEFAULT));let t=networkUtils.returnDependencyFiles([networkUtils.getI18nJSUrl("activitydepbanner")],ResourceConstants.CRM),n=e.concat(t);Lyte.injectResources(n,void 0,(function(){Lyte.Component.render("crm-activity-depreciation-banner",{showActBanner:a},"body")}))}let l=!!(Crm.userDetails.smsTermsChangeBannerPop&&Crm.userDetails.ORG_CREATED_TIME<17304858e5),u=$L("crm-sms-terms-change-banner").length>0;if(u)u&&Lyte.Component.render("crm-sms-terms-change-banner",{termsAndConditionsPopup:l},"body");else{let e=networkUtils.returnDependencyFiles(["crm-sms-terms-change-banner.js"],ResourceConstants.CRMClient);e=e.concat(networkUtils.returnDependencyFiles(["crm-sms-terms-change-banner.css"],ResourceConstants.CRMClient,ResourceConstants.LESSDEFAULT));let t=networkUtils.returnDependencyFiles([networkUtils.getI18nJSUrl("smstermschangebanner")],ResourceConstants.CRM),n=e.concat(t);Lyte.injectResources(n,void 0,(function(){Lyte.Component.render("crm-sms-terms-change-banner",{termsAndConditionsPopup:l},"body")}))}store.triggerAction("dummy","dummyAction",{url:"/zgssearch/fetchHandlerInfo",method:"GET"}).then((e=>{Lyte.injectResources([`${networkUtils.getCdnUrl()}${e["gshandler.js"].filename}`],void 0,(()=>{zgssearch.initZGSHandler({gsrebrand:""})}))}))}}),app.cscript_registry({route_name:"crm",category:{value:"Commands",name:I18n.getMsg("Commands")},config:[{enabled:function(){return featuresAvailable.CSCRIPT_COMMANDS},name:I18n.getMsg("Commands"),unique_name:"commands",handlers:[],display_tag:!1,preview_route:function(){return{route:"crm.tab.module.begin",dynamicParams:["Home"]}},selectors:[],hide_event_type:!0,events:function(){return{name:"commands",template:"commands-sample.js",child_label:I18n.getMsg("Commands")}}}]}),Lyte.Router.registerRoute("crm.ccactions",{queryParams:["action_type","ruleId","journey_id","module","isEdit","isView",""],getResources:function(){this.recieveMessage(),this.sendMessagetoParent(this.getQueryParams().journey_id);var e=[];e=(e=(e=(e=(e=(e=(e=e.concat(networkUtils.returnDependencyFiles(["zohocrm_ccService.js"],ResourceConstants.CRM))).concat(networkUtils.returnDependencyFiles(["zohocrm_changeOwner.js"],ResourceConstants.CRM))).concat(networkUtils.returnDependencyFiles(["zohocrm_custombuttonsetup.js"],ResourceConstants.CRM))).concat(networkUtils.returnDependencyFiles(["crm-cc-iactions.js","setup/crm-actions-readmode-model.js","crm-createrecord-mixin.js","automation/common/crm-mergefield-multilevel.js","lyte-caret.js","crux-combo-box.js","crm-automation-userswrapper.js","crm-automation-userswrapper.css","cc-dependencies.js","crm-userassociations-datastore.js"],ResourceConstants.CRMClient))).concat(networkUtils.returnDependencyFiles(["zohocrm_wfTags.js","zohocrm_orchestration.js"],ResourceConstants.CRM))).concat(networkUtils.returnDependencyFiles(["zohocrm_workflow.js","ccCrmActions.css"],ResourceConstants.CRM))).concat(networkUtils.returnDependencyFiles(["icons.css"],ResourceConstants.CRMClient,ResourceConstants.LESSDEFAULT));var t=networkUtils.returnDependencyFiles(["lyte-daterangepicker.js","lyte-dateselect.js","crm-lyte-initial-components.js"],ResourceConstants.CRMClient);t=(t=(t=t.concat(networkUtils.returnDependencyFiles([networkUtils.getI18nJSUrl("createrecordaction")],ResourceConstants.CRM))).concat(networkUtils.returnDependencyFiles([networkUtils.getI18nJSUrl("CCIFrameAction")],ResourceConstants.CRM))).concat(networkUtils.returnDependencyFiles([networkUtils.getI18nJSUrl("GoogleChat")],ResourceConstants.CRM));var n=networkUtils.returnDependencyFiles(["zcrm_custom_functions.min.js",networkUtils.getI18nJSUrl("customfunctions")],ResourceConstants.CRM),s=networkUtils.returnDependencyFiles(["zohocrm_workflow.js","zohocrm_automationactions_usage.js"],ResourceConstants.CRM),r=fetchAutomationFunctionFiles(),o=s.concat(r);return(o=o.concat(fetchWFParamterComponentFiles())).concat(t).concat(n),o.concat(t).concat(n).concat(e)},model:function(e){let t={};return Lyte.objectUtils(t,"add","action_type",e.queryParams.action_type),Lyte.objectUtils(t,"add","ruleId",e.queryParams.ruleId),Lyte.objectUtils(t,"add","isEdit",e.queryParams.isEdit),Lyte.objectUtils(t,"add","isView",e.queryParams.isView),Lyte.objectUtils(t,"add","module",e.queryParams.module),Lyte.objectUtils(t,"add","journey_id",e.queryParams.journey_id),Lyte.objectUtils(t,"add","rule_type",e.queryParams.rule_type),(window.ccIFrameActionJObj,new Promise((e=>{const n=()=>{!t.isEdit&&!t.isView||window.ccIFrameActionJObj?(Lyte.objectUtils(t,"add","action_obj",window.ccIFrameActionJObj?JSON.parse(window.ccIFrameActionJObj):void 0),e()):setTimeout(n,0)};n()}))).then((()=>t))},renderTemplate:function(){return{outlet:"#show",component:"crm-cc-actions"}},recieveMessage:function(){window.addEventListener("message",(function(e){e.data&&e.data.ccIFrameActionJObj?window.ccIFrameActionJObj=e.data.ccIFrameActionJObj:window.process=e.data}))},sendMessagetoParent:function(e){var t,n=new URL(document.location.href).searchParams.get("frameorigin"),s=document.createElement("a");s.href=n,n=s.origin,t={processId:e,action:"ActionRendered"},parent.postMessage(t,n)}}),Lyte.Router.registerRoute("crm.wildcard",{afterRender:function(){"iam-security-error"===this.getDynamicParam()&&"undefined"!=typeof FeedbackChat&&FeedbackChat.enableTracking()}}),Lyte.Router.registerRoute("crm.abm",{getResources:function(){var e=networkUtils.returnDependencyFiles(["crm-abm-container.js"],ResourceConstants.CRMClient);return e=e.concat(networkUtils.returnDependencyFiles(["abm-app.css"],ResourceConstants.CRMClient,ResourceConstants.LESSDEFAULT)),crmplusImplTriggerActions("selectEntity",["module","ABM"]),e},beforeModel:function(){crmTab.isABMAvailable||renderingUtils.displayPermissionDenied(null,null,I18n.getMsg("crm.security.error"))},model:function(){var e=this.getABMUrl();return crmplusImplTriggerActions("showLoading"),cookieUtils.setCookie("abm_iframe","true",1,"/crm/"+crmPortal+"/abm/"),"undefined"!=typeof CrmPlusImpl&&CrmPlusImpl.isLoadedInCrmplus()||(window.location.href=window.location.origin+"/crm/"+crmPortal+"/abm/home"),this.addABMEventListener(),{frameSource:e}},renderTemplate:function(){return{outlet:"#show",component:"crm-abm-container"}}},{mixins:["crm-menu-utils"]});
