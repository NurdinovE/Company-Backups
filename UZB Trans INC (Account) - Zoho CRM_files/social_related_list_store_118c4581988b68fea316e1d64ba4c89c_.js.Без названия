store.registerModel("social_related_list",{brands:Lyte.attr("array"),accounts:Lyte.attr("array"),SOCIALPROFILES:Lyte.attr("object"),new_social:Lyte.attr("boolean"),CREATEDTIME:Lyte.attr("string"),id:Lyte.attr("string"),SOCIALPROFILES_BY_BRANDS:Lyte.attr("object"),info:Lyte.attr("object"),streamsOnly:Lyte.attr("boolean"),allAccounts:Lyte.attr("object"),brandParent:Lyte.attr("object"),personalAcc:Lyte.attr("object"),brandPages:Lyte.attr("object"),personalReauthAcc:Lyte.attr("object"),perm:Lyte.attr("object"),accIdVsPerm:Lyte.attr("object"),pingsEnabled:Lyte.attr("boolean"),integPermission:Lyte.attr("boolean"),socialAdmin:Lyte.attr("boolean"),TWFollowInfo:Lyte.attr("object")}),store.registerAdapter("social_related_list",{namespace:"crm/v2/related_list",buildURL:function(t,e,a,r,o,l,c){return o=c&&c.source&&"canvas"===c.source?o.replace("related_list/social_related_list","Social/canvas/profiles/"+c.module+"/"+c.entityId):a&&"personal"===a.type?o.replace("related_list/social_related_list","Social/accounts"):o.replace(t,"social")}}),store.registerSerializer("social_related_list",{payloadKey:function(){return"social_related_list"},normalizeResponse:function(t,e,a,r,o,l,c,s){var n=a.social_related_list||a.SocialObj||a;return n.brandParent={},n.personalAcc={},n.accIdVsPerm={},$.each(n.accounts,(function(t,e){"brand"===e.type?n.brandParent[e.network]=e.id:"Personal"===e.type&&(n.personalAcc[e.network]=e.id),n.accIdVsPerm[e.id]=e.perm_type})),n.id||(n.id=Math.floor(1e5*Math.random()+1)),a={social_related_list:n}}});
