Lyte.Component.registerHelper("setWidthforParticipantImageBlock",(function(e,t){var n=t>1?27:32;if(t<3)var r=(t-1)*n+32;else r=2*n+32;return"width:"+r+"px"})),Lyte.Component.registerHelper("getTimeGranularityForTrendChart",(function(e,t,n,r){if("today"===e||"thisweek"===e)return!1;var s=Lyte.registeredMixins.gamescope.getTimeGranularityForTrendChart(e,[t,n]),g={year:4,month:3,week:2,day:1};return"day"!==s&&g[r]<=g[s]})),Lyte.Component.registerHelper("gsStringify",(function(e){return JSON.stringify(e)})),Lyte.Component.registerHelper("getClockTimeFormat",(function(e,t){var n=new Date(e);return"date"===t?$L.moment(n).i18N("MM/DD/YYYY"):$L.moment(n).i18N("HH:mm:ss")})),Lyte.Component.registerHelper("getBadgeNameMap",(function(e){return{"crm.game.badge1":"gs_badge1","crm.game.badge2":"gs_badge2","crm.game.badge3":"gs_badge3","crm.game.badge4":"gs_badge4","crm.game.badge5":"gs_badge5"}[e]})),Lyte.Component.registerHelper("isGameLimitExceed",(function(e){return"ongoing"===e&&Lyte.registeredMixins.gamescope_config.isgsFeatureLimitExceed("Ongoing")})),Lyte.Component.registerHelper("getGameLoaderMsg",(function(e){return e&&"upcoming"===e.status?I18n.getMsg("gs.ug.loadertxt",Lyte.Component.registeredHelpers.motivatorDateTimeFormatter(e.start_time)):I18n.getMsg("gs.og.loadertxt")})),Lyte.Component.registerHelper("getSlideNumber",(function(e,t,n){var r=n?1:0;return e+1+"/"+(t.length-r)})),Lyte.Component.registerHelper("compareString",(function(e,t){if(e)return e.toLowerCase()===t})),Lyte.Component.registerHelper("getGameTimeLineName",(function(e){var t="user"===e.type?I18n.getMsg("gs.users"):I18n.getMsg("gs.teams");return I18n.getMsg("gs.graphHeading")+" "+e.top_performer_count+" "+t})),Lyte.Component.registerHelper("gameLog",(function(e){return Lyte.Component.registeredHelpers.log("%c"+e,"color:blue")})),Lyte.Component.registerHelper("checkTimeFrame",(function(e,t,n){var r=new Date(e).getTime(),s=new Date(t).getTime(),g=new Date(n).getTime();return s<r&&r<g})),Lyte.Component.registerHelper("getGameAlertMsg",(function(e){return"NO_PERMISSION"===e?I18n.getMsg("gs.security.error"):"FIELD_NOT_AVAILABLE"===e?I18n.getMsg("crm.gamescope.field.permission.alert"):I18n.getMsg("gs.common.error")})),Lyte.Component.registerHelper("getTeamIconText",(function(e){return e?e.trim().substr(0,1).toUpperCase():""})),Lyte.Component.registerHelper("getGamescopeFeatureLimits",(function(e){return Lyte.registeredMixins.gamescope_config.getGamescopeFeatureLimits(e)})),Lyte.Component.registerHelper("isGsThreeDotMenuAccessible",(function(){return Crm.userDetails.permissions.Crm_Implied_Manage_Motivator})),Lyte.Component.registerHelper("getApiValueFromKey",(function(e){return"daily"===e?"Day":"weekly"===e?"week":"month"})),Lyte.Component.registerHelper("getRepateI18nValueFromKey",(function(e){var t;switch(e){case"daily":t=I18n.getMsg("gs.daily");break;case"weekly":t=I18n.getMsg("gs.weekly");break;case"monthly":t=I18n.getMsg("gs.monthly")}return t})),Lyte.Component.registerHelper("getGameModuleLabelByApiName",(function(e,t){if(0!==store.peekAll("module").length){var n=$u.indexBy(store.peekAll("module"),"api_name");if(n[e])return t?I18n.getMsg(n[e].singular_label):I18n.getMsg(n[e].plural_label)}else{var r=Crm.moduleInfo;for(var s in r){var g=r[s];if(g.apiname===e)return t?g.translatedSingularLabel:g.translatedPluralLabel}}return e})),Lyte.Component.registerHelper("getDateFromISOFormat",(function(e){var t=e.split("T")[0];return!t||t.length<1?"":new CrmDate(t).getDateInUserPattern()})),Lyte.Component.registerHelper("getGameParticipantPoint",(function(e,t,n){var r;return e.forEach((function(e){e.id===t&&(r=e[n])})),r})),Lyte.Component.registerHelper("motivatorFullDateFormatter",(function(e){var t=e?new CrmDate(e):new CrmDate;return I18n.getMsg(t.getDateInPattern("MMM"))+t.getDateInPattern(" dd, yyyy")})),Lyte.Component.registerHelper("motivatorDateFormatter",(function(e){var t=e?new CrmDate(e):new CrmDate;return t.isCurrentYear()?I18n.getMsg(t.getDateInPattern("MMM"))+t.getDateInPattern(" dd"):I18n.getMsg(t.getDateInPattern("MMM"))+t.getDateInPattern(" dd, yyyy")})),Lyte.Component.registerHelper("motivatorDurationDateFormatter",(function(e,t){var n=e?new CrmDate(e):new CrmDate,r=t?new CrmDate(t):new CrmDate,s=n.isCurrentYear()?I18n.getMsg(n.getDateInPattern("MMM"))+n.getDateInPattern(" dd"):I18n.getMsg(n.getDateInPattern("MMM"))+n.getDateInPattern(" dd, yyyy"),g=r.isCurrentYear()?I18n.getMsg(r.getDateInPattern("MMM"))+r.getDateInPattern(" dd"):I18n.getMsg(r.getDateInPattern("MMM"))+r.getDateInPattern(" dd, yyyy");return n.getDateInPattern("dd/MM/yy")===r.getDateInPattern("dd/MM/yy")?s+" "+n.getTimeInUserPattern()+" - "+g+" "+r.getTimeInUserPattern():s+" - "+g})),Lyte.Component.registerHelper("motivatorNotificationTimeFormat",(function(e,t){if(!e)return t;var n=$L.moment().fromNow($L.moment(e)),r=n[n.property].value;return 1===r?I18n.getMsg("gs.notified.time",[r,I18n.getMsg("gs.noty."+n.property.slice(0,n.property.length-1))]):I18n.getMsg("gs.notified.time",[r,I18n.getMsg("gs.noty."+n.property)])})),Lyte.Component.registerHelper("motivatorDurationDateTimeFormatter",(function(e,t){return Lyte.Component.registeredHelpers.motivatorDateTimeFormatter(e)+" - "+Lyte.Component.registeredHelpers.motivatorDateTimeFormatter(t)})),Lyte.Component.registerHelper("motivatorDateTimeFormatter",(function(e){return(e?new CrmDate(e):new CrmDate).getDateTimeInUserPattern()})),Lyte.Component.registerHelper("motivatorListPageDateTimeFormatter",(function(e,t){return("created"===t?I18n.getMsg("gs.createdon"):I18n.getMsg("gs.lastmodifiedon"))+" "+Lyte.Component.registeredHelpers.motivatorDateTimeFormatter(e)})),Lyte.Component.registerHelper("motivatorGameScoreboardFormatter",(function(e,t){var n=e?new CrmDate(e):new CrmDate,r=t?new CrmDate(t):new CrmDate,s=n.isCurrentYear()?I18n.getMsg(n.getDateInPattern("MMM"))+n.getDateInPattern(" dd"):I18n.getMsg(n.getDateInPattern("MMM"))+n.getDateInPattern(" dd, yyyy"),g=r.isCurrentYear()?I18n.getMsg(r.getDateInPattern("MMM"))+r.getDateInPattern(" dd"):I18n.getMsg(r.getDateInPattern("MMM"))+r.getDateInPattern(" dd, yyyy");return s+" "+n.getTimeInUserPattern()+" - "+g+" "+r.getTimeInUserPattern()})),Lyte.Component.registerHelper("upcomingGameFromDateFormatter",(function(e,t){var n=e?new CrmDate(e):new CrmDate,r=t?new CrmDate(t):new CrmDate,s=n.isCurrentYear()?I18n.getMsg(n.getDateInPattern("MMM"))+n.getDateInPattern(" dd"):I18n.getMsg(n.getDateInPattern("MMM"))+n.getDateInPattern(" dd, yyyy");return n.getDateInPattern("dd/MM/yy")===r.getDateInPattern("dd/MM/yy")?s:s+" - "+n.getTimeInUserPattern()})),Lyte.Component.registerHelper("upcomingGameToDateFormatter",(function(e,t){var n=e?new CrmDate(e):new CrmDate,r=t?new CrmDate(t):new CrmDate,s=r.isCurrentYear()?I18n.getMsg(r.getDateInPattern("MMM"))+r.getDateInPattern(" dd"):I18n.getMsg(r.getDateInPattern("MMM"))+r.getDateInPattern(" dd, yyyy");return n.getDateInPattern("dd/MM/yy")===r.getDateInPattern("dd/MM/yy")?n.getTimeInUserPattern()+" - "+r.getTimeInUserPattern():s+" - "+r.getTimeInUserPattern()})),Lyte.Component.registerHelper("capitalizeFirstLetter",(function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),Lyte.Component.registerHelper("getOrgLogoURL",(function(){return Crm.userDetails.org_logo?"/crm/viewInLineImage?fileContent="+Crm.userDetails.org_logo:networkUtils.getImageUrl("companylogonew.svg",ResourceConstants.CRM)})),Lyte.Component.registerHelper("customDateFormater",(function(e){var t=e?new Date(e):new Date,n=e?new CrmDate(e):new CrmDate,r=(t.getDate()+"").length>1?t.getDate():"0"+t.getDate();return n.isCurrentYear()?I18n.getMsg($L.moment(t).format("MMM"))+" "+r:I18n.getMsg($L.moment(t).format("MMM"))+" "+r+", "+t.getFullYear()})),Lyte.Component.registerHelper("customDateFormaterForCompare",(function(e,t){var n,r=e?$L.moment(e):$L.moment();switch(t){case"today":case"thisweek":case"customRange":n=I18n.getMsg(r.format("MMM"))+" "+r.date()+", "+r.fullYear();break;case"thismonth":case"thisquarter":n=I18n.getMsg(r.format("MMM"))+" "+r.fullYear();break;case"thisyear":n=r.fullYear()}return n})),Lyte.Component.registerHelper("unescapeforTitle",(function(e){return Lyte.Component.registeredHelpers.unescape(e).innerText})),Lyte.Component.registerHelper("getDateInUserDatePatternFromISODate",(function(e){if(e){var t=Utils.ISO8601toDateObject(e);return Utils.getDateInUserDatePattern(t)}return""})),Lyte.Component.registerHelper("userDatePattern",(function(){return Crm.userDetails.DATE_PATTERN.replace(/'/g,"")})),Lyte.Component.registerHelper("isChatBarEnabled",(function(){return isChatEnabled})),Lyte.Component.registerHelper("getTeamLogoUrl",(function(e,t,n){if(n)r=n;else var r=store.peekRecord("game_team",e).logo_id;return crmBasePath+"/GetTeamLogo.do?actionName=readGameTeamLogo&encfileId="+r+"&size="+t})),Lyte.Component.registerHelper("motivatorDateFormatterKPIList",(function(e){var t=Crm.userDetails.TIME_ZONE;t=t.replace(".",":");var n=(e=e.includes("T")?e:e+"T00:00:00"+t)?new CrmDate(e):new CrmDate;return n.isCurrentYear()?I18n.getMsg(n.getDateInPattern("MMM"))+n.getDateInPattern(" dd"):I18n.getMsg(n.getDateInPattern("MMM"))+n.getDateInPattern(" dd, yyyy")})),Lyte.Component.registerHelper("hasTeamLogo",(function(e){var t=store.peekRecord("game_team",e)?store.peekRecord("game_team",e).logo_id:"";return!(!t||"3567276567257625276576526562527652765267272672876"===t)})),Lyte.Component.registerHelper("setmaxWidthtoParticipanticon",(function(e){return"max-width:"+100/(e=e>=5?5:e)+"%"})),Lyte.Component.registerHelper("isGsNotyHeaderExist",(function(e){return 0===e||Lyte.Component.registeredHelpers.getGsNotyHeaderDateFormat(this.getData("notifications")[e-1].notified_time)!==Lyte.Component.registeredHelpers.getGsNotyHeaderDateFormat(this.getData("notifications")[e].notified_time)})),Lyte.Component.registerHelper("getGsNotyHeaderDateFormat",(function(e){var t=e?new CrmDate(e):new CrmDate;return t.getDateInPattern("DD/MM/YYYY")===$L.moment().format("DD/MM/YYYY")?I18n.getMsg("gs.today"):t.getDateInPattern("DD/MM/YYYY")===$L.moment().subtract(1,"date").format("DD/MM/YYYY")?I18n.getMsg("gs.yesterday"):Lyte.Component.registeredHelpers.motivatorDateFormatter(e)})),Lyte.Component.registerHelper("getGsNotyFilterDisplayName",(function(e){var t=I18n.getMsg("gs.all");switch(e){case"game":t=I18n.getMsg("gs.game");break;case"target":t=I18n.getMsg("gs.target");break;case"read":t=I18n.getMsg("gs.noty.fltr.rd");break;case"unread":t=I18n.getMsg("gs.noty.fltr.unrd");break;case"favourite":t=I18n.getMsg("gs.fav");break;default:t=I18n.getMsg("gs.all")}return t})),Lyte.Component.registerHelper("generateMessage",(function(e){if(e){var t=e.message_info.related_info;if("added"===e.message_info.type&&"game"===e.feature)return t&&e.message_info.done_by.id===Crm.userDetails.USER_ID?I18n.getMsg("gs.noty.gm.add",[I18n.getMsg("gs.cap.you"),I18n.getMsg("gs.have")]):I18n.getMsg("gs.noty.gm.add",[I18n.getMsg("gs.noty.usr_hyper",ZSEC.Encoder.encodeForHTML(e.message_info.done_by.name)),I18n.getMsg("gs.has")]);if("added"===e.message_info.type&&"target"===e.feature)return t&&e.message_info.done_by.id===Crm.userDetails.USER_ID?I18n.getMsg("gs.noty.trg.add",[I18n.getMsg("gs.cap.you"),I18n.getMsg("gs.have")]):I18n.getMsg("gs.noty.trg.add",[I18n.getMsg("gs.noty.usr_hyper",ZSEC.Encoder.encodeForHTML(e.message_info.done_by.name)),I18n.getMsg("gs.has")]);if("removed"===e.message_info.type&&"game"===e.feature)return t&&e.message_info.done_by.id===Crm.userDetails.USER_ID?I18n.getMsg("gs.noty.gm.rmv",[I18n.getMsg("gs.cap.you"),I18n.getMsg("gs.have")]):I18n.getMsg("gs.noty.gm.rmv",[I18n.getMsg("gs.noty.usr_hyper",ZSEC.Encoder.encodeForHTML(e.message_info.done_by.name)),I18n.getMsg("gs.has")]);if("removed"===e.message_info.type&&"target"===e.feature)return t&&e.message_info.done_by.id===Crm.userDetails.USER_ID?I18n.getMsg("gs.noty.trg.rmv",[I18n.getMsg("gs.cap.you"),I18n.getMsg("gs.have")]):I18n.getMsg("gs.noty.trg.rmv",[I18n.getMsg("gs.noty.usr_hyper",ZSEC.Encoder.encodeForHTML(e.message_info.done_by.name)),I18n.getMsg("gs.has")]);if("team_change"===e.message_info.type)return I18n.getMsg("gs.noty.gm.add.team",I18n.getMsg("gs.noty.b1user",ZSEC.Encoder.encodeForHTML(e.message_info.movement_info.moved_to.resource.name)));if("started"===e.message_info.type)return I18n.getMsg("gs.noty.gm.srt");if("updated"===e.message_info.type&&"game"===e.feature)return e.message_info.done_by.id===Crm.userDetails.USER_ID?I18n.getMsg("gs.noty.gm.upt",[I18n.getMsg("gs.cap.you"),I18n.getMsg("gs.have")]):I18n.getMsg("gs.noty.gm.upt",[I18n.getMsg("gs.noty.usr_hyper",ZSEC.Encoder.encodeForHTML(e.message_info.done_by.name)),I18n.getMsg("gs.has")]);if("deleted"===e.message_info.type&&"game"===e.feature)return e.message_info.done_by.id===Crm.userDetails.USER_ID?I18n.getMsg("gs.noty.gm.del",[I18n.getMsg("gs.cap.you"),I18n.getMsg("gs.have")]):I18n.getMsg("gs.noty.gm.del",[I18n.getMsg("gs.noty.usr_hyper",ZSEC.Encoder.encodeForHTML(e.message_info.done_by.name)),I18n.getMsg("gs.has")]);if("updated"===e.message_info.type&&"target"===e.feature)return e.message_info.done_by.id===Crm.userDetails.USER_ID?I18n.getMsg("gs.noty.trg.upt",[I18n.getMsg("gs.cap.you"),I18n.getMsg("gs.have")]):I18n.getMsg("gs.noty.trg.upt",[I18n.getMsg("gs.noty.usr_hyper",ZSEC.Encoder.encodeForHTML(e.message_info.done_by.name)),I18n.getMsg("gs.has")]);if("deleted"===e.message_info.type&&"target"===e.feature)return e.message_info.done_by.id===Crm.userDetails.USER_ID?I18n.getMsg("gs.noty.trg.del",[I18n.getMsg("gs.cap.you"),I18n.getMsg("gs.have")]):I18n.getMsg("gs.noty.trg.del",[I18n.getMsg("gs.noty.usr_hyper",ZSEC.Encoder.encodeForHTML(e.message_info.done_by.name)),I18n.getMsg("gs.has")]);if("updated"===e.message_info.type&&"kpi"===e.feature)return e.message_info.done_by.id===Crm.userDetails.USER_ID?I18n.getMsg("gs.noty.kpi.upt",[I18n.getMsg("gs.cap.you"),I18n.getMsg("gs.have")]):I18n.getMsg("gs.noty.kpi.upt",[I18n.getMsg("gs.noty.usr_hyper",ZSEC.Encoder.encodeForHTML(e.message_info.done_by.name)),I18n.getMsg("gs.has")]);if("deleted"===e.message_info.type&&"kpi"===e.feature)return e.message_info.done_by.id===Crm.userDetails.USER_ID?I18n.getMsg("gs.noty.kpi.del",[I18n.getMsg("gs.cap.you"),I18n.getMsg("gs.have")]):I18n.getMsg("gs.noty.kpi.del",[I18n.getMsg("gs.noty.usr_hyper",ZSEC.Encoder.encodeForHTML(e.message_info.done_by.name)),I18n.getMsg("gs.has")]);if("created"===e.message_info.type&&"game"===e.feature){var n=ZSEC.Encoder.encodeForHTML(e.message_info.done_by.name),r=e.message_info.done_by.id,s=Crm.userDetails.USER_ID===r,g=t.some((e=>r===e.resource.id)),a=t.some((e=>Crm.userDetails.USER_ID===e.resource.id)),o="team"===t[0].type,i=!a&&!s,m=t.length;if(o||i){var y=ZSEC.Encoder.encodeForHTML(t[0].resource.name),u=ZSEC.Encoder.encodeForHTML(t[1].resource.name);return s?2===m?I18n.getMsg("gs.noty.gm.create",[I18n.getMsg("gs.noty.usr_hyper",I18n.getMsg("gs.cap.you")),I18n.getMsg("gs.have"),I18n.getMsg("gs.noty.b2user",[y,u])]):I18n.getMsg("gs.noty.gm.create.more",[I18n.getMsg("gs.noty.usr_hyper",I18n.getMsg("gs.cap.you")),I18n.getMsg("gs.have"),I18n.getMsg("gs.noty.b2user",[y,u]),m-2]):2===m?I18n.getMsg("gs.noty.gm.create",[I18n.getMsg("gs.noty.usr_hyper",n),I18n.getMsg("gs.has"),I18n.getMsg("gs.noty.b2user",[y,u])]):I18n.getMsg("gs.noty.gm.create.more",[I18n.getMsg("gs.noty.usr_hyper",n),I18n.getMsg("gs.has"),I18n.getMsg("gs.noty.b2user",[y,u]),m-2])}if(s){if(g){var M=t.filter((e=>r!==e.resource.id));y=ZSEC.Encoder.encodeForHTML(M[0].resource.name);if(2===m)return I18n.getMsg("gs.noty.gm.create.with",[I18n.getMsg("gs.noty.usr_hyper",I18n.getMsg("gs.cap.you")),I18n.getMsg("gs.have"),I18n.getMsg("gs.noty.b1user",y)]);if(3===m){u=ZSEC.Encoder.encodeForHTML(M[1].resource.name);return I18n.getMsg("gs.noty.gm.create.with",[I18n.getMsg("gs.noty.usr_hyper",I18n.getMsg("gs.cap.you")),I18n.getMsg("gs.have"),I18n.getMsg("gs.noty.b2user",[y,u])])}u=ZSEC.Encoder.encodeForHTML(M[1].resource.name);return I18n.getMsg("gs.noty.gm.create.more.with",[I18n.getMsg("gs.noty.usr_hyper",I18n.getMsg("gs.cap.you")),I18n.getMsg("gs.have"),I18n.getMsg("gs.noty.b2user",[y,u]),m-2])}y=ZSEC.Encoder.encodeForHTML(t[0].resource.name),u=ZSEC.Encoder.encodeForHTML(t[1].resource.name);return 2===m?I18n.getMsg("gs.noty.gm.create",[I18n.getMsg("gs.noty.usr_hyper",I18n.getMsg("gs.cap.you")),I18n.getMsg("gs.have"),I18n.getMsg("gs.noty.b2user",[y,u])]):I18n.getMsg("gs.noty.gm.create.more",[I18n.getMsg("gs.noty.usr_hyper",I18n.getMsg("gs.cap.you")),I18n.getMsg("gs.have"),I18n.getMsg("gs.noty.b2user",[y,u]),m-2])}if(a){M=t.filter((e=>Crm.userDetails.USER_ID!==e.resource.id)),y=ZSEC.Encoder.encodeForHTML(M[0].resource.name);if(2===m)return I18n.getMsg("gs.noty.gm.create.with",[I18n.getMsg("gs.noty.usr_hyper",n),I18n.getMsg("gs.has"),I18n.getMsg("gs.noty.b2user",[I18n.getMsg("gs.sml.you"),y])]);if(m>2)return I18n.getMsg("gs.noty.gm.create.more.with",[I18n.getMsg("gs.noty.usr_hyper",n),I18n.getMsg("gs.has"),I18n.getMsg("gs.noty.b2user",[I18n.getMsg("gs.sml.you"),y]),m-2])}}if("created"===e.message_info.type&&"target"===e.feature){var d=e.message_info.done_by.id===Crm.userDetails.USER_ID?I18n.getMsg("gs.cap.you"):I18n.getMsg("gs.noty.usr_hyper",ZSEC.Encoder.encodeForHTML(e.message_info.done_by.name)),p=e.message_info.done_by.id===Crm.userDetails.USER_ID?I18n.getMsg("gs.have"):I18n.getMsg("gs.has");return I18n.getMsg("gs.noty.trg.create",[d,p])}return"completed"===e.message_info.type&&"game"===e.feature?I18n.getMsg("gs.noty.gm.cpl",[e.message_info.related_info.length,e.message_info.game_total_participants_count]):"completed"===e.message_info.type&&"target"===e.feature?e.message_info.done_by.id===Crm.userDetails.USER_ID?I18n.getMsg("gs.noty.trg.achv",[I18n.getMsg("gs.cap.you"),I18n.getMsg("gs.have")]):I18n.getMsg("gs.noty.trg.achv",[I18n.getMsg("gs.noty.usr_hyper",ZSEC.Encoder.encodeForHTML(e.message_info.done_by.name)),I18n.getMsg("gs.has")]):e.message}})),Lyte.Component.registerHelper("gsNPanelBgCheck",(function(e,t){return t?"gs_np_modal_content":e?"gs_np_modal_emptycontent":"gs_np_modal_content"})),Lyte.Component.registerHelper("motivatorNotficationsHandler",(function(e){if(e){var t=$L("gamescope-index")[0];if(!Crm.isMotivatorNotificationDisabled){var n=$L("crm-motivator-notification-popup")[0];if(!t&&($L("#diNotificationDiv").is(":visible")||$L("#remainder-notifi").is(":visible")||$L(".sticky-notes-wrapper").is(":visible")||$L(".noFreeze").is(":visible")||$L(".freezeLayer1").is(":visible")||$L(".searchTopbandOpen").is(":visible")||$L(".crmMenuQuickLink").is(":visible")||$L(".crmMenuCalendar").is(":visible")||$L(".open").is(":visible")||$L(".lyteModalFromTop").is(":visible")||$L(".zcrm-show").is(":visible")||$L(".moreActionListview").is(":visible")||$L(".alphaContentNew").is(":visible")||$L(".wms_notebook_container").is(":visible")||$L(".lyteModalFromRight").is(":visible"))){var r=$L("#motivatorBlinkIcon");return r.removeClass("motivator_icon_blink"),void r.addClass("motivator_icon_blink")}t||(isLoadedInCRMPlusIFrame()?(CrmPlusImpl.trigger("setNotificationCount",["salesmotivator",0,!1,!0]),Crm.isSMNotificationPushedToCrmPlus=!0):"game"===e.feature&&"completed"===e.message_info.type?store.findAll("game_team").then((function(){Lyte.arrayUtils(n.getData("notifications"),"push",e)}),(function(){Lyte.arrayUtils(n.getData("notifications"),"push",e)})):Lyte.arrayUtils(n.getData("notifications"),"push",e))}var s=$L("motivator-notification-panel")[0];if(s&&s.getData("showNotificationsModal")){var g=s.getData("selectedNotifyType");e.feature===g||"all"===g||"unread"===g?(store.pushPayload("motivator_notifications",[e]),e.isNew=!0,Lyte.arrayUtils(s.getData("newMessages"),"insertAt",0,JSON.parse(JSON.stringify(e))),s.setData("newMsgCount",s.getData("newMessages").length)):Lyte.Component.registeredHelpers.animateMotivatorNotficationBell()}else if(t){var a=JSON.parse(JSON.stringify(e));if(a.message_info)a.message_info.done_by.id===Crm.userDetails.USER_ID?(t.setData("bellDotAnim",!1),setTimeout((function(){t.setData("bellDotAnim",!0)}),800)):Lyte.Component.registeredHelpers.animateMotivatorNotficationBell()}}})),Lyte.Component.registerHelper("animateMotivatorNotficationBell",(function(){var e=$L("gamescope-index")[0];e.setData("bellTopAnim",!1),e.setData("bellBotAnim",!1),setTimeout((function(){e.setData("bellTopAnim",!0),e.setData("bellBotAnim",!0),e.setData("bellDotAnim",!1),setTimeout((function(){e.setData("bellDotAnim",!0)}),800)}),800)}));
