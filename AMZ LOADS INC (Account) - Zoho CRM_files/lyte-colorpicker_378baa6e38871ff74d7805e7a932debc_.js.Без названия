if(!ColorPicker_Util)var ColorPicker_Util={component:null,baseConverter:function(t,e,o){if(10==o)return parseInt(t,16);if(16==o)return("0"+parseInt(t).toString(16)).slice(-2);t=(t+="").toUpperCase();for(var r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",a=0,l=0;l<=t.length;l++)a+=r.indexOf(t.charAt(l))*Math.pow(e,t.length-l-1);t="";for(l=Math.floor(Math.log(a)/Math.log(o));l>=0;l--){var i=Math.floor(a/Math.pow(o,l));t+=r.charAt(i),a-=i*Math.pow(o,l)}return 0==t.length&&(t=0),t||(t=0),t},convert3DigitTo6DigitRgbCode:function(t){return t[0]+t[0]+t[1]+t[1]+t[2]+t[2]},getHsvByRgbCode:function(t){t=t.replace("#","");var e,o,r,a,l,i,n=ColorPicker_Util.baseConverter(t.substr(0,2),16,10),c=ColorPicker_Util.baseConverter(t.substr(2,2),16,10),s=ColorPicker_Util.baseConverter(t.substr(4,2),16,10);return 0==n&&0==c&&0==s?i={hue:0,saturation:0,brightness:0}:(n/=255,c/=255,s/=255,r=0,(e=Math.max(n,c,s))==(o=Math.min(n,c,s))?(r=0,a=0):(n==e?r=(c-s)/(e-o)/1:c==e?r=2+(s-n)/1/(e-o)/1:s==e&&(r=4+(n-c)/(e-o)/1),a=(e-o)/e),l=e,(r*=60)<0&&(r+=360),(i={}).hue=r,i.saturation=a,i.brightness=l,i)},getRgbCodeByRgbColors:function(t,e,o){t=ColorPicker_Util.baseConverter(t,10,16),e=ColorPicker_Util.baseConverter(e,10,16),o=ColorPicker_Util.baseConverter(o,10,16);for(t+="",e+="",o+="";t.length<2;)t="0"+t;for(;e.length<2;)e="0"+e;for(;o.length<2;)o="0"+o;return(t+""+e+o).toUpperCase()},getRgbColorsByRgbCode:function(t){var e={};return e.red=ColorPicker_Util.baseConverter(t.substr(0,2),16,10),e.green=ColorPicker_Util.baseConverter(t.substr(2,2),16,10),e.blue=ColorPicker_Util.baseConverter(t.substr(4,2),16,10),e},getRgbColorsByHsv:function(t,e,o){360==t&&(t=0);var r,a,l,i,n,c,s,p=Math.floor(t/60);switch(e>1&&(e/=100),o>1&&(o/=100),n=o*(1-e),c=o*(1-(i=t/60-p)*e),s=o*(1-(1-i)*e),p){case 0:r=o,a=s,l=n;break;case 1:r=c,a=o,l=n;break;case 2:r=n,a=o,l=s;break;case 3:r=n,a=c,l=o;break;case 4:r=s,a=n,l=o;break;default:r=o,a=n,l=c}return 0==e&&(r=o,a=o,l=o),r*=255,a*=255,l*=255,{red:r=Math.round(r),green:a=Math.round(a),blue:l=Math.round(l)}},getRgbCodeByHsv:function(t,e,o){for(;t>=360;)t-=360;var r=ColorPicker_Util.getRgbColorsByHsv(t,e,o);return ColorPicker_Util.getRgbCodeByRgbColors(r.red,r.green,r.blue)},getCmykByRgbColors:function(t){var e,o=1-t[0]/255,r=1-t[1]/255,a=1-t[2]/255,l=Math.min(o,r,a);return o=(o-l)/(1-l),r=(r-l)/(1-l),a=(a-l)/(1-l),e=l,[o=isNaN(o)?0:o,r=isNaN(r)?0:r,a=isNaN(a)?0:a,e]},getRgbColorsByCmyk:function(t,e,o,r){t>1&&(t/=100),e>1&&(e/=100),o>1&&(o/=100),r>1&&(r/=100);var a=255*(1-t)*(1-r),l=255*(1-e)*(1-r),i=255*(1-o)*(1-r);return{red:a=Math.round(a),green:l=Math.round(l),blue:i=Math.round(i)}},getRgbCodeByCmyk:function(t,e,o,r){var a=ColorPicker_Util.getRgbColorsByCmyk(t,e,o,r);return ColorPicker_Util.getRgbCodeByRgbColors(a.red,a.green,a.blue)},getDecimalToHexAlphaCode:function(t){return t>100&&(t=100),t<0&&(t=0),t=Math.round(255*t/100),ColorPicker_Util.baseConverter(t,10,16)},getHexToDecimalAlphaCode:function(t){return(t=ColorPicker_Util.baseConverter(t,16,10))>255&&(t=255),t<0&&(t=0),Math.round(100*t/255)},getLeftPos:function(t){if(document.getBoxObjectFor&&"INPUT"!=t.tagName&&"SELECT"!=t.tagName&&"TEXTAREA"!=t.tagName)return document.getBoxObjectFor(t).x;for(var e=t.offsetLeft;null!=(t=t.offsetParent);)"HTML"!=t.tagName&&(e+=t.offsetLeft,document.all&&(e+=t.clientLeft));return e},getTopPos:function(t){if(document.getBoxObjectFor&&"INPUT"!=t.tagName&&"SELECT"!=t.tagName&&"TEXTAREA"!=t.tagName)return document.getBoxObjectFor(t).y;for(var e=t.offsetTop;null!=(t=t.offsetParent);)"HTML"!=t.tagName&&(e+=t.offsetTop-t.scrollTop,document.all&&(e+=t.clientTop));return e},getColorPicker:function(t){return t.closest("colorpicker-ui")},splitIntoSubArray:function(t,e){for(var o=[];t.length>0;)o.push(t.splice(0,e));return o}};if(!ColorPicker_EventUtil)var ColorPicker_EventUtil={__stopPropagation:!1,__eventBound:!1,__initOpacityMove:function(t,e){if(e){"mousedown"==t.type&&(document.addEventListener("mousemove",ColorPicker_EventUtil.__mm=function(t){ColorPicker_EventUtil.__moveOnOpacityTrack(t,e)}),document.addEventListener("mouseup",ColorPicker_EventUtil.__mu=function(t){ColorPicker_EventUtil.__endDrag(t,e)})),"touchstart"==t.type&&(document.addEventListener("touchmove",ColorPicker_EventUtil.__tm=function(t){ColorPicker_EventUtil.__moveOnOpacityTrack(t,e)}),document.addEventListener("touchend",ColorPicker_EventUtil.__te=function(t){ColorPicker_EventUtil.__endDrag(t,e)})),e.setData("opacityStatus",1),e.setData("calledForHueMove",!0);var o=e.$node.querySelector(".opacityslider__track");return e.setData("opacityTrackSize",o.offsetWidth),e.setData("posXOpacity",ColorPicker_Util.getLeftPos(o)),ColorPicker_EventUtil.__moveOnOpacityTrack(t,e),!1}},__initHueMove:function(t,e){if(e){"mousedown"==t.type&&(document.addEventListener("mousemove",ColorPicker_EventUtil.__mm=function(t){ColorPicker_EventUtil.__moveOnHueBar(t,e)}),document.addEventListener("mouseup",ColorPicker_EventUtil.__mu=function(t){ColorPicker_EventUtil.__endDrag(t,e)})),"touchstart"==t.type&&(document.addEventListener("touchmove",ColorPicker_EventUtil.__tm=function(t){ColorPicker_EventUtil.__moveOnHueBar(t,e)}),document.addEventListener("touchend",ColorPicker_EventUtil.__te=function(t){ColorPicker_EventUtil.__endDrag(t,e)})),e.setData("setPrevCmyk",!1),e.setData("hueStatus",1),e.setData("calledForHueMove",!0);var o=e.$node.querySelector(".colorSlider_hueBar");return e.setData("hueBarSize",o.offsetWidth),e.setData("poxXHue",ColorPicker_Util.getLeftPos(o)),ColorPicker_EventUtil.__moveOnHueBar(t,e),!1}},__initPaletteMove:function(t,e){if(e){if(e.setData("setPrevCmyk",!1),"mousedown"==t.type){var o=e.$node.closest("lyte-wormhole");!e.getData("cpInline")&&o&&o.component.parent&&o.component.parent.closest("lyte-colorpicker").getData("ltPropCloseOnBodyClick")&&o.component.parent.setData("ltPropCloseOnBodyClick",!1),document.addEventListener("mousemove",ColorPicker_EventUtil.__mm=function(t){ColorPicker_EventUtil.__moveOnPalette(t,e)}),document.addEventListener("mouseup",ColorPicker_EventUtil.__mu=function(t){ColorPicker_EventUtil.__endDrag(t,e)})}if("touchstart"==t.type){o=e.$node.closest("lyte-wormhole");!e.getData("cpInline")&&o&&o.component.parent&&o.component.parent.closest("lyte-colorpicker").getData("ltPropCloseOnBodyClick")&&o.component.parent.setData("ltPropCloseOnBodyClick",!1),document.addEventListener("touchmove",ColorPicker_EventUtil.__tm=function(t){ColorPicker_EventUtil.__moveOnPalette(t,e)}),document.addEventListener("touchend",ColorPicker_EventUtil.__te=function(t){ColorPicker_EventUtil.__endDrag(t,e)})}var r=e.getData("posdivElPalette"),a=e.getData("circleOffsetBecauseOfWinWidget"),l=e.$node.querySelector("#colorDiv"),i=l.getBoundingClientRect(),n=e.getData("circleOffsetSize");return document.all&&(t=event||window.event),e.__ffHackWinWidget(),r.x=i.left+a,r.y=i.top+a,e.setData("paletteSize",{height:l.offsetHeight,width:l.offsetWidth}),e.setData("posdivElPalette",r),e.setData("dragStatus",1),e.setData("paletteMaxX",l.offsetWidth-n),e.setData("paletteMaxY",l.offsetHeight-n),ColorPicker_EventUtil.__moveOnPalette(t,e),r=null,l=null,!1}},__moveOnPalette:function(t,e){if(e){"mousedown"!=t.type&&"mousemove"!=t.type||t.preventDefault();var o=e.getData("posdivElPalette"),r=e.getData("circleOffsetSize"),a=e.$node.querySelector(".colorSlider_palette_circle");if(1!=e.getData("dragStatus"))return;if(e.getData("clickOnPaletteInProgress"))return;e.setData("clickOnPaletteInProgress",!0),e.setData("dragged",!0),document.all&&(t=event);var l,i,n=o.x,c=o.y;"mousedown"!=t.type&&"mousemove"!=t.type||(l=t.clientX-n-r,i=t.clientY-c-r),"touchstart"!=t.type&&"touchmove"!=t.type||(l=t.touches[0].clientX-n-r,i=t.touches[0].clientY-c-r),l<-1*r&&(l=-1*r),i<-1*r&&(i=-1*r),l>e.getData("paletteMaxX")&&(l=e.getData("paletteMaxX")),i>e.getData("paletteMaxY")&&(i=e.getData("paletteMaxY")),a.style.left=l+"px",a.style.top=i+"px",e.setData("currentSaturation",Math.round((l+r)/e.getData("paletteSize").width*100)),e.setData("currentBrightness",100-Math.round((i+r)/e.getData("paletteSize").height*100)),e.__setCurrentRgbCode(),e.__updateRgbInForm(),e.__changeColorInOpacityTrack(),e.__setOpacityColorPreviewDiv(),e.executeOnChange(),e.setData("clickOnPaletteInProgress",!1),o=null,a=null,r=null}},__moveOnHueBar:function(t,e){if(e){if("mousedown"!=t.type&&"mousemove"!=t.type||t.preventDefault(),1!=e.getData("hueStatus"))return;e.setData("dragged",!0),document.all&&(t=event);var o,r=e.getData("sliderOffset"),a=e.getData("poxXHue");"mousedown"!=t.type&&"mousemove"!=t.type||(o=t.clientX+document.documentElement.scrollLeft-a-r),"touchstart"!=t.type&&"touchmove"!=t.type||(o=t.touches[0].clientX+document.documentElement.scrollLeft-a-r),o>e.getData("hueBarSize")-r&&(o=e.getData("hueBarSize")-r),o<0-r&&(o=0-r),e.$node.querySelector(".colorSlider_sliderHandle").style.left=o+"px";var l=Math.round((e.getData("hueBarSize")-(o+r))*(360/e.getData("hueBarSize")));l>=360&&(l=360),e.setData("currentHue",l),e.__setCurrentRgbCode(),e.__setPaletteBgColor(),e.__updateRgbInForm(),e.__changeColorInOpacityTrack(),e.__setOpacityColorPreviewDiv(),e.executeOnChange()}},__moveOnOpacityTrack:function(t,e){if(e){if("mousedown"!=t.type&&"mousemove"!=t.type||t.preventDefault(),1!=e.getData("opacityStatus"))return;document.all&&(t=event);var o,r=e.getData("posXOpacity"),a=e.getData("sliderOffset");"mousedown"!=t.type&&"mousemove"!=t.type||(o=t.clientX+document.documentElement.scrollLeft-r-a),"touchstart"!=t.type&&"touchmove"!=t.type||(o=t.touches[0].clientX+document.documentElement.scrollLeft-r-a),o>e.getData("opacityTrackSize")-a&&(o=e.getData("opacityTrackSize")-a),o<0-a&&(o=0-a);var l=parseInt((o+a)/e.getData("opacityTrackSize")*100);e.$node.querySelector(".opacityslider__circlethumb").style.left=o+"px",e.setData("opacity",l),e.__setOpacityColorPreviewDiv(),e.__updateOpacityInForm(),e.executeOnChange()}},__endDrag:function(t,e){if(e&&e.$node){if(t.preventDefault(),0==e.getData("dragStatus")&&0==e.getData("hueStatus")&&0==e.getData("opacityStatus"))return;"mouseup"==t.type&&(document.removeEventListener("mousemove",ColorPicker_EventUtil.__mm),document.removeEventListener("mouseup",ColorPicker_EventUtil.__mu),ColorPicker_EventUtil.__mm=void 0,ColorPicker_EventUtil.__mu=void 0),"touchend"==t.type&&(document.removeEventListener("touchmove",ColorPicker_EventUtil.__tm),document.removeEventListener("touchend",ColorPicker_EventUtil.__te),ColorPicker_EventUtil.__tm=void 0,ColorPicker_EventUtil.__te=void 0),ColorPicker_EventUtil.__stopPropagation=!0,1==e.getData("dragStatus")&&e.__updateRgbInForm(),e.setData("dragStatus",0),e.setData("hueStatus",0),e.setData("opacityStatus",0),e.getData("dragged")&&e.setData("dragged",!1),0!=e.getData("counter")&&e.setData("counter",0),e.getData("restrictOnChange")&&e.setData("restrictOnChange",!1);var o=e.getData("cpInline")?e.$node.closest(".lytePopover"):null;o&&o._callee.ltProp("stopClick",!0)}ColorPicker_Util.component=null;var r=e.$node.closest("lyte-wormhole");!e.getData("cpInline")&&r&&r.component.parent&&r.component.parent.closest("lyte-colorpicker").getData("ltPropCloseOnBodyClick")&&setTimeout((function(){r.component.parent.setData("ltPropCloseOnBodyClick",!0)}),10)}};Lyte.Component.register("colorpicker-ui",{_template:'<template tag-name="colorpicker-ui"> <template is="if" value="{{cpBasicColorPicker}}"><template case="true"> <div class="lyteColorPicker__default"> <template is="if" value="{{cpYield}}"><template case="true"> <lyte-yield yield-name="colorpickeryield"></lyte-yield> </template></template> <template is="if" value="{{cpNoFillButton}}"><template case="true"> <div class="lyteColorPicker__nocolorbutton" onclick="{{action(&quot;noFillExecute&quot;,event)}}"> <span class="lyteColorPicker__noFill"> </span> <span class="lyteColorPicker__text">{{cpNoFillLabel}}</span> </div> </template></template> <div class="lyteColorPicker__palettecontainer LCP_predefinedPallete" tabindex="0" aria-label="{{cpPaletteLabel}}"> <div class="lyteColorPicker__paletteheading">{{cpPaletteLabel}}</div> <div class="lyteColorPicker__palette {{if(cpAccent,\'lyteColorPickerAccentColorPalette\',\'\')}}"> <div role="grid"> <template is="for" items="{{cpAvailableColors}}" item="colorArray" index="rowindexVal"> <ul class="lyteColorPicker__shades default__colors {{if(cpShowHiddenColor,\'lyteColorPickerShowHiddenColor\',\'\')}}" role="row"> <template is="for" items="{{colorArray}}" item="color" index="indexVal"> <li class="lyteColorPicker__colorpan {{if(cpAccent,\'lyteColorPickerAccentColor\',\'\')}}" onmouseenter="{{action(\'colorhover\',event,color,this,\'themeColor\')}}" lt-prop-title="{{if(cpAccent,lyteUiColorpickerAccentTooltip(cpAccentColor[indexVal],rowindexVal),lyteUiRgbToHex(color))}}" data-color="{{lyteUiRgbToHex(color)}}" lt-prop-tooltip-config="{&quot;position&quot; : &quot;bottom&quot;,&quot;showdelay&quot; : &quot;1000&quot;}" onclick="{{action(&quot;selectColor&quot;,event,color)}}" tabindex="-1" data-row="{{rowindexVal}}" data-col="{{indexVal}}" aria-label="{{lyteUiRgbToHex(color)}}" role="cell" aria-selected="false">{{color}}</li> </template> </ul> </template> </div> </div> </div> <template is="if" value="{{cpStandardColors}}"><template case="true"> <div class="lyteColorPicker__palettecontainer LCP_standardColorCont" tabindex="0" aria-label="{{lyteUiI18n(&quot;Standard.Colors&quot;)}}"> <div class="lyteColorPicker__paletteheading">{{lyteUiI18n("Standard.Colors")}}</div> <div class="lyteColorPicker__palette"> <ul class="standard__colors"> <template is="for" items="{{cpStandardColorArray}}" item="color" index="indexVal"> <li class="lyteColorPicker__colorpan" onmouseenter="{{action(\'colorhover\',event,color,this,\'standardColor\')}}" lt-prop-title="{{lyteUiRgbToHex(color)}}" lt-prop-tooltip-config="{&quot;position&quot; : &quot;bottom&quot;,&quot;showdelay&quot; : &quot;1000&quot;}" onclick="{{action(&quot;selectColor&quot;,event,color)}}" data-col="{{indexVal}}" tabindex="-1" aria-label="{{lyteUiRgbToHex(color)}}" aria-selected="false">{{color}}</li> </template> </ul> </div> </div> </template></template> <template is="if" value="{{cpUsedColors}}"><template case="true"> <div class="lyteColorPicker__palettecontainer usedColor__container" tabindex="0" aria-label="{{lyteUiI18n(&quot;Recently.Used.Colors&quot;)}}"> <div class="lyteColorPicker__paletteheading">{{lyteUiI18n("Recently.Used.Colors")}}</div> <div class="lyteColorPicker__palette"> <ul class="lyteColorPickerUsedColors used__colors"> <template is="for" items="{{usedColors}}" item="color" index="indexVal"> <li class="lyteColorPicker__colorpan {{lyteUiAddPE(color)}}" onmouseenter="{{action(\'colorhover\',event,color,this,\'usedColor\')}}" lt-prop-title="{{lyteUiRgbToHex(color)}}" lt-prop-tooltip-config="{&quot;position&quot; : &quot;bottom&quot;,&quot;showdelay&quot; : &quot;1000&quot;}" onclick="{{action(&quot;selectColor&quot;,event,color)}}" tabindex="-1" data-col="{{indexVal}}" aria-label="{{lyteUiRgbToHex(color)}}" aria-selected="false">{{color}}</li> <template is="if" value="{{lyteUiCPInsertBreak(indexVal)}}"><template case="true"> <br> </template></template> </template> </ul> </div> </div> </template></template> <template is="if" value="{{cpAdvancedColorButton}}"><template case="true"> <div class="lyteColorPicker__navigatable lyteColorPicker__morecolorbutton" onclick="{{action(&quot;goToAdvancedCP&quot;,event)}}" role="button" tabindex="0"> <span class="lyteColorPicker__icon"></span> <span class="lyteColorPicker__text">{{lyteUiI18n("Advanced.Colors")}}</span> <span class="lyteColorpickerForwardArrow h-alignright LCP_rightArrow"></span> </div> </template></template> </div> </template><template case="false"> <div class="lyteColorPicker--advanced"> <div class="lyteColorPicker__maparea"> <div class="colorDiv" id="colorDiv"> <div id="lyteCPImgDiv"></div> <div class="colorSlider_palette_circle colorSlider_palette_circleBlack"></div> </div> </div> <div class="lyteColorPicker__previewDiv lyteColorPicker__sliderDiv"> <div> <div class="colorSlider_hue"> <div class="colorSlider_sliderHandle"> </div> <div class="colorSlider_hueBar_border"> <div class="colorSlider_hueBar"></div> </div> </div> <div class="lyteColorPicker__opacityslider"> <div class="opacityslider__circlethumb"></div> <div class="lyteColorPicker__transparentbg"> <div class="opacityslider__track"></div> </div> </div> </div> <div class="lyteCP__transparentbg"> <div class="previewDiv" onmouseover="{{action(&quot;onOverColorPreviewDiv&quot;,event)}}" onclick="{{action(&quot;copyValueToClipboard&quot;)}}" lt-prop-title="{{lyteUiI18n(\'Copy.Color.value.to.Clipboard\')}}" lt-prop-tooltip-config="{&quot;position&quot; : &quot;bottom&quot;}"></div> </div> </div> <div class="lyteColorPicker__previewDiv"> <div class="selectFormat"> <lyte-dropdown lt-prop-box-class="{{cpDropBoxClass}}" class="cPDropDown" lt-prop-yield="true" lt-prop-freeze="false" lt-prop-tabindex="1" on-option-selected="{{method(&quot;changeFormatView&quot;)}}" tabindex="0"> <template is="registerYield" yield-name="yield"> <lyte-drop-button class="colorPickerDD"> <span class="lyteMarginRight lyteDropdownLabel">{{dropButtonValue}}</span> <lyte-icon class="dropdown"></lyte-icon> </lyte-drop-button> <lyte-drop-box class="lyteCPDropbox {{cpDropBoxClass}}"> <lyte-drop-body> <template is="for" items="{{cpColorFormats}}" item="item" index="indexVal"> <lyte-drop-item data-value="{{item}}"> {{item}} </lyte-drop-item> </template> </lyte-drop-body> </lyte-drop-box> </template> </lyte-dropdown> </div><div class="showValue"> <lyte-table lt-prop-yield="true" class="cpValFormatIp" lt-prop-prevent-scrollbar="true" lt-prop-role="colorpicker"> <template is="registerYield" yield-name="yield"> <lyte-table-structure> <lyte-tbody> <template is="if" value="{{ifEquals(dropButtonValue,lyteUiI18n(&quot;HEX&quot;))}}"><template case="true"> <lyte-tr> <lyte-td> <lyte-input id="lyteCPShowValue" lt-prop-type="text" lt-prop-appearance="box" lt-prop-maxlength="7" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;HEX&quot;)}}" onkeydown="{{action(&quot;inputKeyDown&quot;,event,this,&quot;HEX&quot;)}}" on-blur="{{method(&quot;onInputBlur&quot;,&quot;HEX&quot;)}}" lt-prop-direction="vertical" lt-prop-aria="true" lt-prop-aria-attributes="{&quot;aria-labelledby&quot; : &quot;lytecp_HEX_label&quot;}"> </lyte-input> </lyte-td> <lyte-td> <lyte-input id="lyteCP__A" lt-prop-type="text" lt-prop-appearance="box" lt-prop-maxlength="3" onkeydown="{{action(&quot;inputKeyDown&quot;,event,this,&quot;A&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;A&quot;)}}" on-blur="{{method(&quot;onInputBlur&quot;,&quot;A&quot;)}}" lt-prop-direction="vertical" lt-prop-aria="true" lt-prop-aria-attributes="{&quot;aria-labelledby&quot; : &quot;lytecp_HEX_alpha_label&quot;}"> </lyte-input> </lyte-td> </lyte-tr> <lyte-tr class="lyteCPHexText" role="row"> <lyte-td id="lytecp_HEX_label">HEX</lyte-td> <lyte-td id="lytecp_HEX_alpha_label" class="lyteColorPicker_alpha">{{lyteUiSetAlphaLabel(cpOpacityLabel)}}</lyte-td> </lyte-tr> </template><template case="false"><template is="if" value="{{ifEquals(dropButtonValue,lyteUiI18n(&quot;RGB&quot;))}}"><template case="true"> <lyte-tr role="row"> <lyte-td> <lyte-input id="lyteCP__R" lt-prop-type="text" lt-prop-appearance="box" lt-prop-direction="vertical" lt-prop-maxlength="3" onkeydown="{{action(&quot;inputKeyDown&quot;,event,this,&quot;R&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;R&quot;)}}" on-blur="{{method(&quot;onInputBlur&quot;,&quot;R&quot;)}}" lt-prop-aria="true" lt-prop-aria-attributes="{&quot;aria-labelledby&quot; : &quot;lytecp_R_label&quot;}"> </lyte-input> </lyte-td> <lyte-td> <lyte-input id="lyteCP__G" lt-prop-type="text" lt-prop-appearance="box" lt-prop-direction="vertical" lt-prop-maxlength="3" onkeydown="{{action(&quot;inputKeyDown&quot;,event,this,&quot;G&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;G&quot;)}}" on-blur="{{method(&quot;onInputBlur&quot;,&quot;G&quot;)}}" lt-prop-aria="true" lt-prop-aria-attributes="{&quot;aria-labelledby&quot; : &quot;lytecp_G_label&quot;}"> </lyte-input> </lyte-td> <lyte-td> <lyte-input id="lyteCP__B" lt-prop-type="text" lt-prop-appearance="box" lt-prop-direction="vertical" lt-prop-maxlength="3" onkeydown="{{action(&quot;inputKeyDown&quot;,event,this,&quot;B&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;B&quot;)}}" on-blur="{{method(&quot;onInputBlur&quot;,&quot;B&quot;)}}" lt-prop-aria="true" lt-prop-aria-attributes="{&quot;aria-labelledby&quot; : &quot;lytecp_B_label&quot;}"> </lyte-input> </lyte-td> <lyte-td> <lyte-input id="lyteCP__A" lt-prop-type="text" lt-prop-appearance="box" lt-prop-maxlength="3" onkeydown="{{action(&quot;inputKeyDown&quot;,event,this,&quot;A&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;A&quot;)}}" on-blur="{{method(&quot;onInputBlur&quot;,&quot;A&quot;)}}" lt-prop-direction="vertical" lt-prop-aria="true" lt-prop-aria-attributes="{&quot;aria-labelledby&quot; : &quot;lytecp_RGB_alpha_label&quot;}"> </lyte-input> </lyte-td> </lyte-tr> <lyte-tr> <lyte-td id="lytecp_R_label">R</lyte-td> <lyte-td id="lytecp_G_label">G</lyte-td> <lyte-td id="lytecp_B_label">B</lyte-td> <lyte-td id="lytecp_RGB_alpha_label" class="lyteColorPicker_alpha">{{lyteUiSetAlphaLabel(cpOpacityLabel)}}</lyte-td> </lyte-tr> </template><template case="false"><template is="if" value="{{ifEquals(dropButtonValue,lyteUiI18n(&quot;HSV&quot;))}}"><template case="true"> <lyte-tr> <lyte-td> <lyte-input id="lyteCP__H" lt-prop-type="text" lt-prop-maxlength="3" lt-prop-appearance="box" lt-prop-direction="vertical" onkeydown="{{action(&quot;inputKeyDown&quot;,event,this,&quot;H&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;H&quot;)}}" on-blur="{{method(&quot;onInputBlur&quot;,&quot;H&quot;)}}" lt-prop-aria="true" lt-prop-aria-attributes="{&quot;aria-labelledby&quot; : &quot;lytecp_H_label&quot;}"> </lyte-input> </lyte-td> <lyte-td> <lyte-input id="lyteCP__S" lt-prop-type="text" lt-prop-maxlength="3" lt-prop-appearance="box" lt-prop-direction="vertical" onkeydown="{{action(&quot;inputKeyDown&quot;,event,this,&quot;S&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;S&quot;)}}" on-blur="{{method(&quot;onInputBlur&quot;,&quot;S&quot;)}}" lt-prop-aria="true" lt-prop-aria-attributes="{&quot;aria-labelledby&quot; : &quot;lytecp_S_label&quot;}"> </lyte-input> </lyte-td> <lyte-td> <lyte-input id="lyteCP__V" lt-prop-type="text" lt-prop-maxlength="3" lt-prop-appearance="box" lt-prop-direction="vertical" onkeydown="{{action(&quot;inputKeyDown&quot;,event,this,&quot;V&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;V&quot;)}}" on-blur="{{method(&quot;onInputBlur&quot;,&quot;V&quot;)}}" lt-prop-aria="true" lt-prop-aria-attributes="{&quot;aria-labelledby&quot; : &quot;lytecp_V_label&quot;}"> </lyte-input> </lyte-td> <lyte-td> <lyte-input id="lyteCP__A" lt-prop-type="text" lt-prop-appearance="box" lt-prop-maxlength="3" onkeydown="{{action(&quot;inputKeyDown&quot;,event,this,&quot;A&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;A&quot;)}}" on-blur="{{method(&quot;onInputBlur&quot;,&quot;A&quot;)}}" lt-prop-direction="vertical" lt-prop-aria="true" lt-prop-aria-attributes="{&quot;aria-labelledby&quot; : &quot;lytecp_HSV_alpha_label&quot;}"> </lyte-input> </lyte-td> </lyte-tr> <lyte-tr> <lyte-td id="lytecp_H_label">H</lyte-td> <lyte-td id="lytecp_S_label">S</lyte-td> <lyte-td id="lytecp_V_label">V</lyte-td> <lyte-td id="lytecp_HSV_alpha_label" class="lyteColorPicker_alpha">{{lyteUiSetAlphaLabel(cpOpacityLabel)}}</lyte-td> </lyte-tr> </template><template case="false"><template is="if" value="{{ifEquals(dropButtonValue,lyteUiI18n(&quot;CMYK&quot;))}}"><template case="true"> <lyte-tr> <lyte-td> <lyte-input id="lyteCP__C" class="lyteCP_CMYK" lt-prop-type="text" lt-prop-maxlength="3" lt-prop-appearance="box" lt-prop-direction="vertical" onkeydown="{{action(&quot;inputKeyDown&quot;,event,this,&quot;C&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;C&quot;)}}" on-blur="{{method(&quot;onInputBlur&quot;,&quot;C&quot;)}}" lt-prop-aria="true" lt-prop-aria-attributes="{&quot;aria-labelledby&quot; : &quot;lytecp_C_label&quot;}"> </lyte-input> </lyte-td> <lyte-td> <lyte-input id="lyteCP__M" class="lyteCP_CMYK" lt-prop-type="text" lt-prop-maxlength="3" lt-prop-appearance="box" lt-prop-direction="vertical" onkeydown="{{action(&quot;inputKeyDown&quot;,event,this,&quot;M&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;M&quot;)}}" on-blur="{{method(&quot;onInputBlur&quot;,&quot;M&quot;)}}" lt-prop-aria="true" lt-prop-aria-attributes="{&quot;aria-labelledby&quot; : &quot;lytecp_M_label&quot;}"> </lyte-input> </lyte-td> <lyte-td> <lyte-input id="lyteCP__Y" class="lyteCP_CMYK" lt-prop-type="text" lt-prop-maxlength="3" lt-prop-appearance="box" lt-prop-direction="vertical" onkeydown="{{action(&quot;inputKeyDown&quot;,event,this,&quot;Y&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;Y&quot;)}}" on-blur="{{method(&quot;onInputBlur&quot;,&quot;Y&quot;)}}" lt-prop-aria="true" lt-prop-aria-attributes="{&quot;aria-labelledby&quot; : &quot;lytecp_Y_label&quot;}"> </lyte-input> </lyte-td> <lyte-td> <lyte-input id="lyteCP__K" class="lyteCP_CMYK" lt-prop-type="text" lt-prop-maxlength="3" lt-prop-appearance="box" lt-prop-direction="vertical" onkeydown="{{action(&quot;inputKeyDown&quot;,event,this,&quot;K&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;K&quot;)}}" on-blur="{{method(&quot;onInputBlur&quot;,&quot;K&quot;)}}" lt-prop-aria="true" lt-prop-aria-attributes="{&quot;aria-labelledby&quot; : &quot;lytecp_K_label&quot;}"> </lyte-input> </lyte-td> </lyte-tr> <lyte-tr> <lyte-td id="lytecp_C_label">C</lyte-td> <lyte-td id="lytecp_M_label">M</lyte-td> <lyte-td id="lytecp_Y_label">Y</lyte-td> <lyte-td id="lytecp_K_label">K</lyte-td> </lyte-tr> </template></template></template></template></template></template></template></template> </lyte-tbody> </lyte-table-structure> </template> </lyte-table> <input id="lyteCPHiddenInput" tabindex="-1" aria-hidden="true"> </div> </div> <template is="if" value="{{cpInline}}"><template case="true"> <template is="if" value="{{cpMoreColorOptionSelected}}"><template case="true"> <div class="lyteColorPicker__commandbar"> <lyte-button class="LCP_backbtn" lt-prop-size="small" lt-prop-appearance="default" onclick="{{action(&quot;fromAdvCPtoBasic&quot;,event)}}" tabindex="0"> <template is="registerYield" yield-name="text">{{lyteUiI18n(cpBackBtnText)}}</template> </lyte-button> </div> </template></template> </template><template case="false"> <div class="lyteColorPicker__commandbar"> <template is="if" value="{{cpMoreColorOptionSelected}}"><template case="true"> <lyte-button class="LCP_backbtn" lt-prop-size="small" lt-prop-appearance="default" onclick="{{action(&quot;fromAdvCPtoBasic&quot;,event)}}" tabindex="0"> <template is="registerYield" yield-name="text">{{lyteUiI18n(cpBackBtnText)}}</template> </lyte-button> <lyte-button class="LCP_done" lt-prop-size="small" lt-prop-appearance="primary" onclick="{{action(&quot;callOnSelect&quot;,event,true)}}" tabindex="0"> <template is="registerYield" yield-name="text">{{lyteUiI18n(cpDoneBtnText)}}</template> </lyte-button> </template><template case="false"> <lyte-button class="LCP_cancel" lt-prop-size="small" style="margin-left: auto; margin-right: 7px;" lt-prop-appearance="default" onclick="{{action(&quot;closeColorPicker&quot;,event)}}" tabindex="0"> <template is="registerYield" yield-name="text">{{lyteUiI18n(cpCancelBtnText)}}</template> </lyte-button> <lyte-button class="LCP_done" lt-prop-size="small" lt-prop-appearance="primary" onclick="{{action(&quot;callOnSelect&quot;,event,true)}}" tabindex="0"> <template is="registerYield" yield-name="text">{{lyteUiI18n(cpApplyBtnText)}}</template> </lyte-button> </template></template> </div> </template></template> </div> </template></template> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]}},default:{}},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,3,0]}]}},default:{}},{type:"attr",position:[1,5]},{type:"text",position:[1,5,1,0]},{type:"attr",position:[1,5,3]},{type:"attr",position:[1,5,3,1,1]},{type:"for",position:[1,5,3,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}]},{type:"attr",position:[1,7]},{type:"if",position:[1,7],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"attr",position:[1,3,1,1]},{type:"for",position:[1,3,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}]}},default:{}},{type:"attr",position:[1,9]},{type:"if",position:[1,9],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"attr",position:[1,3,1,1]},{type:"for",position:[1,3,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[]}},default:{}}]}]}},default:{}},{type:"attr",position:[1,11]},{type:"if",position:[1,11],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,3,0]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1,3,3,1]},{type:"attr",position:[1,5,1,1]},{type:"registerYield",position:[1,5,1,1,1],dynamicNodes:[{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"attr",position:[3,1,1]},{type:"for",position:[3,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3]}]},{type:"componentDynamic",position:[1,5,1,1]},{type:"registerYield",position:[1,5,2,1,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"componentDynamic",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3,1]},{type:"componentDynamic",position:[1,3,1]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]},{type:"componentDynamic",position:[3,1]},{type:"text",position:[3,3,0]},{type:"componentDynamic",position:[3,3]},{type:"componentDynamic",position:[3]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"componentDynamic",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3,1]},{type:"componentDynamic",position:[1,3,1]},{type:"componentDynamic",position:[1,3]},{type:"attr",position:[1,5,1]},{type:"componentDynamic",position:[1,5,1]},{type:"componentDynamic",position:[1,5]},{type:"attr",position:[1,7,1]},{type:"componentDynamic",position:[1,7,1]},{type:"componentDynamic",position:[1,7]},{type:"componentDynamic",position:[1]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3,3]},{type:"componentDynamic",position:[3,5]},{type:"text",position:[3,7,0]},{type:"componentDynamic",position:[3,7]},{type:"componentDynamic",position:[3]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"componentDynamic",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3,1]},{type:"componentDynamic",position:[1,3,1]},{type:"componentDynamic",position:[1,3]},{type:"attr",position:[1,5,1]},{type:"componentDynamic",position:[1,5,1]},{type:"componentDynamic",position:[1,5]},{type:"attr",position:[1,7,1]},{type:"componentDynamic",position:[1,7,1]},{type:"componentDynamic",position:[1,7]},{type:"componentDynamic",position:[1]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3,3]},{type:"componentDynamic",position:[3,5]},{type:"text",position:[3,7,0]},{type:"componentDynamic",position:[3,7]},{type:"componentDynamic",position:[3]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"componentDynamic",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3,1]},{type:"componentDynamic",position:[1,3,1]},{type:"componentDynamic",position:[1,3]},{type:"attr",position:[1,5,1]},{type:"componentDynamic",position:[1,5,1]},{type:"componentDynamic",position:[1,5]},{type:"attr",position:[1,7,1]},{type:"componentDynamic",position:[1,7,1]},{type:"componentDynamic",position:[1,7]},{type:"componentDynamic",position:[1]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3,3]},{type:"componentDynamic",position:[3,5]},{type:"componentDynamic",position:[3,7]},{type:"componentDynamic",position:[3]}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,5,2,1]},{type:"attr",position:[1,7]},{type:"if",position:[1,7],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"registerYield",position:[1,1,1],dynamicNodes:[{type:"text",position:[0]}]},{type:"componentDynamic",position:[1,1]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"text",position:[0]}]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"registerYield",position:[3,1],dynamicNodes:[{type:"text",position:[0]}]},{type:"componentDynamic",position:[3]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"text",position:[0]}]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"registerYield",position:[3,1],dynamicNodes:[{type:"text",position:[0]}]},{type:"componentDynamic",position:[3]}]}},default:{}}]}},default:{}}]}},default:{}}],_observedAttributes:["cpDraggable","cpCloseOnBodyClick","cpCloseOnSelection","cpAdvancedColorButton","cpAppearance","cpAccent","cpAccentColor","cpStandardColors","cpUsedColors","cpBasicColorPicker","cpSelectedColor","cpOriginElement","cpWrapperClass","cpCurrentRgbCode","cpBoundary","cpScrollable","cpYield","cpNoFillButton","cpNoFillLabel","cpPaletteLabel","cpInline","cpColorFormats","cpDoneBtnText","cpCancelBtnText","cpBackBtnText","cpApplyBtnText","cpStandardColorArray","cpDuration","cpBoardColor","cpAvailableColors","cpMoreColorOptionSelected","cpOpacityLabel","cpUsedColorsNumber","cpDropBoxClass","stopObserverOnBoardColorChange","usedColors","polygonPoints","noFillPath","moreColorsPath","currentHue","currentBrightness","currentSaturation","paletteSize","circleOffsetSize","circleOffsetBecauseOfWinWidget","posdivElPalette","dragStatus","paletteMaxX","paletteMaxY","clickOnPaletteInProgress","component","hueStatus","poxYHue","poxXHue","dropButtonValue","basicDimensions","calledForHueMove","advCPDimensions","changedColor","tooltipTextChanged","inputChangeEvnt","hueBarSize","opacityStatus","opacityTrackSize","posXOpacity","opacity","sliderOffset","dragged","counter","cmykColors","setPrevCmyk","restrictOnChange","prevColor","cpShowHiddenColor","colorFormat"],data:function(){return{cpDraggable:Lyte.attr("boolean",{default:!1}),cpCloseOnBodyClick:Lyte.attr("boolean",{default:!0}),cpCloseOnSelection:Lyte.attr("boolean",{default:!1}),cpAdvancedColorButton:Lyte.attr("boolean",{default:!0}),cpAppearance:Lyte.attr("string",{default:"callout"}),cpAccent:Lyte.attr("boolean",{default:!1}),cpAccentColor:Lyte.attr("array",{default:[]}),cpStandardColors:Lyte.attr("boolean",{default:!0}),cpUsedColors:Lyte.attr("boolean",{default:!0}),cpBasicColorPicker:Lyte.attr("boolean",{default:!0}),cpSelectedColor:Lyte.attr("object",{default:null}),cpOriginElement:Lyte.attr("string",{default:""}),cpWrapperClass:Lyte.attr("string",{default:"lyteColorPickerPopover"}),cpCurrentRgbCode:Lyte.attr("string",{default:"90c3d4"}),cpBoundary:Lyte.attr("object",{default:null}),cpScrollable:Lyte.attr("boolean",{default:!0}),cpYield:Lyte.attr("boolean",{default:!1}),cpNoFillButton:Lyte.attr("boolean",{default:!1}),cpNoFillLabel:Lyte.attr("string",{default:""}),cpPaletteLabel:Lyte.attr("string",{default:""}),cpInline:Lyte.attr("boolean",{default:!1}),cpColorFormats:Lyte.attr("array"),cpDoneBtnText:Lyte.attr("string",{default:"lyte.colorpicker.done"}),cpCancelBtnText:Lyte.attr("string",{default:"lyte.colorpicker.cancel"}),cpBackBtnText:Lyte.attr("string",{default:"lyte.colorpicker.back"}),cpApplyBtnText:Lyte.attr("string",{default:"lyte.colorpicker.apply"}),cpStandardColorArray:Lyte.attr("array",{default:[]}),cpDuration:Lyte.attr("number",{default:600}),cpBoardColor:Lyte.attr("string"),cpAvailableColors:Lyte.attr("array",{default:[]}),cpMoreColorOptionSelected:Lyte.attr("boolean",{default:!1}),cpOpacityLabel:Lyte.attr("string"),cpUsedColorsNumber:Lyte.attr("number",{default:10}),cpDropBoxClass:Lyte.attr("string",{default:""}),stopObserverOnBoardColorChange:Lyte.attr("boolean",{default:!1}),usedColors:Lyte.attr("array"),polygonPoints:Lyte.attr("string",{default:"4.4,10.3 3.7,9.6 6.7,6.5 3.6,3.4 4.4,2.7 8.1,6.5"}),noFillPath:Lyte.attr("string",{default:"M8,0C3.6,0,0,3.6,0,8s3.6,8,8,8s8-3.6,8-8S12.4,0,8,0z M8,1c1.8,0,3.3,0.7,4.6,1.7l-9.9,9.9C1.7,11.3,1,9.8,1,8 C1,4.1,4.1,1,8,1z M8,15c-1.8,0-3.3-0.7-4.6-1.7l9.9-9.9C14.3,4.7,15,6.2,15,8C15,11.9,11.9,15,8,15z"}),moreColorsPath:Lyte.attr("string",{default:"M299.7-0.2C128.3-0.2-7,134,0.2,305.2C7.4,476.9,138,577.3,259.7,595.9c88.2,13.4,107.8-45.1,87.3-67.3 c-35.5-38.3-22.6-68.6-7.3-82.5c17.4-15.7,50.3-17.3,77.3-13.8c65.5,8.5,175-40,182.2-144.8C611,116.5,471.1-0.2,299.7-0.2z M118.1,299.7c-27.7,0-50.1-22.4-50.1-50.1c0-27.7,22.4-50.1,50.1-50.1c27.7,0,50.1,22.4,50.1,50.1 C168.2,277.3,145.8,299.7,118.1,299.7z M217.6,166.6c-27.7,0-50.1-22.4-50.1-50.1c0-27.7,22.4-50.1,50.1-50.1 c27.7,0,50.1,22.4,50.1,50.1C267.7,144.1,245.2,166.6,217.6,166.6z M384.9,166.9c-27.7,0-50.1-22.4-50.1-50.1 c0-27.7,22.4-50.1,50.1-50.1c27.7,0,50.1,22.4,50.1,50.1C435,144.4,412.6,166.9,384.9,166.9z M485.2,299.9 c-27.7,0-50.1-22.4-50.1-50.1c0-27.7,22.4-50.1,50.1-50.1c27.7,0,50.1,22.4,50.1,50.1C535.2,277.5,512.8,299.9,485.2,299.9z"}),currentHue:Lyte.attr("number",{default:0}),currentBrightness:Lyte.attr("number",{default:100}),currentSaturation:Lyte.attr("number",{default:100}),paletteSize:Lyte.attr("object"),circleOffsetSize:Lyte.attr("number",{default:6}),circleOffsetBecauseOfWinWidget:Lyte.attr("number",{default:0}),posdivElPalette:Lyte.attr("object",{default:{}}),dragStatus:Lyte.attr("number",{default:0}),paletteMaxX:Lyte.attr("number",{default:0}),paletteMaxY:Lyte.attr("number",{default:0}),clickOnPaletteInProgress:Lyte.attr("boolean",{default:!1}),component:Lyte.attr("object",{default:null}),hueStatus:Lyte.attr("number",{default:0}),poxYHue:Lyte.attr("number",{default:0}),poxXHue:Lyte.attr("number",{default:0}),dropButtonValue:Lyte.attr("string",{default:"HEX"}),basicDimensions:Lyte.attr("object",{default:{width:222,height:362}}),calledForHueMove:Lyte.attr("boolean",{default:!1}),advCPDimensions:Lyte.attr("object",{default:{width:280,height:322}}),changedColor:Lyte.attr("object"),tooltipTextChanged:Lyte.attr("boolean",{default:!1}),inputChangeEvnt:Lyte.attr("boolean",{default:!1}),hueBarSize:Lyte.attr("number"),opacityStatus:Lyte.attr("number",{default:0}),opacityTrackSize:Lyte.attr("number"),posXOpacity:Lyte.attr("number",{default:0}),opacity:Lyte.attr("number"),sliderOffset:Lyte.attr("number",{default:4}),dragged:Lyte.attr("boolean",{default:!1}),counter:Lyte.attr("number"),cmykColors:Lyte.attr("array",{default:[]}),setPrevCmyk:Lyte.attr("boolean",{default:"false"}),restrictOnChange:Lyte.attr("boolean",{default:!1}),prevColor:Lyte.attr("object",{default:{}}),cpShowHiddenColor:Lyte.attr("boolean",{default:!1}),colorFormat:Lyte.attr("object",{default:{R:"Red",G:"Green",B:"Blue",H:"Hue",S:"Saturation",V:"Brightness",C:"Cyan",M:"Magenta",Y:"Yellow",K:"Key",A:"Opacity"}})}},didConnect:function(){var t=this;this.$node.selectColor=function(e){if(e){if(!(e.rgb&&e.rgb.length||e.hex&&e.hex.length||e["hex-alpha"]&&e["hex-alpha"].length||e.cmyk&&e.cmyk.length))return void t.nofillFunc(void 0)}else if(!e)return void t.nofillFunc(void 0);t.setData("cpSelectedColor",e);var o=t.getData("usedColors");if(!((e=t.getData("cpSelectedColor")).nofill||o[0]&&o[0].hex&&o[0].hex===e.hex)){var r=t.getData("cpCurrentRgbCode"),a=ColorPicker_Util.getRgbColorsByRgbCode(r),l=t.getData("cmykColors"),i=t.getData("opacity")<100?"advanced":"basic";e={hex:"#"+r,rgb:"rgb("+a.red+", "+a.green+", "+a.blue+")",opacity:t.getData("opacity"),"hex-alpha":"#"+r+ColorPicker_Util.getDecimalToHexAlphaCode(t.getData("opacity")),rgba:"rgba("+a.red+", "+a.green+", "+a.blue+", "+t.getData("opacity")/100+")",cmyk:l,type:t.getData("cpSelectedColor")?t.getData("cpSelectedColor").type:i,nofill:t.getData("cpSelectedColor")?t.getData("cpSelectedColor").nofill:null};t.setData("cpSelectedColor",e),t.addedUsedColor()}};var e=null;this.$node.addEventListener("keydown",(function(o){var r=document.activeElement,a=o.keyCode;if(9===a)$L('.lyteColorPicker__colorpan[tabindex="0"]',t.$node)[0]&&$L('.lyteColorPicker__colorpan[tabindex="0"]',t.$node)[0].setAttribute("tabindex",-1);else if(8===a)r&&r.classList.contains("lyteColorPicker__colorpan")?r.setAttribute("tabindex",-1):r.classList.contains("cPDropDown")&&(r.component.data.ltPropAriaButton="color Format");else if(13===a)if(r.classList.contains("lyteColorPicker__morecolorbutton"))r.click(),t.$node.focus();else if(r.classList.contains("LCP_predefinedPallete")||r.classList.contains("LCP_standardColorCont")||r.classList.contains("usedColor__container")){e=r,(d=r.querySelector('[tabindex="0"]')||r.querySelector(".lyteColorPicker__colorpan")).setAttribute("tabindex",0),d.focus()}else(r.classList.contains("lyteColorPicker__colorpan")||r.classList.contains("LCP_backbtn"))&&r.click();else if(27===a)r.classList.contains("lyteColorPicker__colorpan")&&e&&(r.setAttribute("tabindex",-1),e.focus());else if(37===a){if(r.classList.contains("lyteColorPicker__colorpan")){var l=parseInt(r.dataset.col),i=r.parentNode.querySelector('[data-col="'+(l-1)+'"]');i&&(r.setAttribute("tabindex",-1),i.setAttribute("tabindex",0),i.focus())}else if(r.classList.contains("lyteColorPicker__palettecontainer")){(d=r.querySelector('[tabindex="0"]')||r.querySelector(".lyteColorPicker__colorpan")).setAttribute("tabindex",0),d.focus()}}else if(39===a){if(r.classList.contains("lyteColorPicker__colorpan")){l=parseInt(r.dataset.col);var n=r.parentNode.querySelector('[data-col="'+(l+1)+'"]');n&&(r.setAttribute("tabindex",-1),n.setAttribute("tabindex",0),n.focus())}else if(r.classList.contains("lyteColorPicker__palettecontainer")){(d=r.querySelector('[tabindex="0"]')||r.querySelector(".lyteColorPicker__colorpan")).setAttribute("tabindex",0),d.focus()}}else if(38==a){if(r.classList.contains("lyteColorPicker__colorpan")){var c=parseInt(r.dataset.row);l=parseInt(r.dataset.col);c-=1;var s=r.parentNode.parentNode.querySelector('[data-row="'+c+'"][ data-col="'+l+'"]');if(s){for(var p="none"!=window.getComputedStyle(s.parentNode).display;!p;)c-=1,s=s.parentNode.parentNode.querySelector('[data-row="'+c+'"][ data-col="'+l+'"]'),p="none"!=window.getComputedStyle(s.parentNode).display;r.setAttribute("tabindex",-1),s.setAttribute("tabindex",0),s.focus()}}else if(r.classList.contains("lyteColorPicker__palettecontainer")){(d=r.querySelector('[tabindex="0"]')||r.querySelector(".lyteColorPicker__colorpan")).setAttribute("tabindex",0),d.focus()}}else if(40===a)if(r.classList.contains("lyteColorPicker__colorpan")){c=parseInt(r.dataset.row),l=parseInt(r.dataset.col);c+=1;var u=r.parentNode.parentNode.querySelector('[data-row="'+c+'"][ data-col="'+l+'"]');if(u){for(p="none"!=window.getComputedStyle(u.parentNode).display;!p;)c+=1,u=u.parentNode.parentNode.querySelector('[data-row="'+c+'"][ data-col="'+l+'"]'),p="none"!=window.getComputedStyle(u.parentNode).display;r.setAttribute("tabindex",-1),u.setAttribute("tabindex",0),u.focus()}}else if(r.classList.contains("lyteColorPicker__palettecontainer")){var d;(d=r.querySelector('[tabindex="0"]')||r.querySelector(".lyteColorPicker__colorpan")).setAttribute("tabindex",0),d.focus()}})),this.setData("component",this)},observeColorChange:function(){if(!this.getData("cpBasicColorPicker")&&!this.getData("stopObserverOnBoardColorChange")&&this.inputEle&&this.isCurrentRgbCodeDifferent()){var t=this.getData("cpBoardColor");this.__setCurrentRgbCodeFromBoardColor(),this.setData("inputChangeEvnt",!0),this.setRgbColor("#"+this.getData("cpCurrentRgbCode")),this.__updateRgbInForm(),(/rgba/.test(t)||/#/.test(t)&&9==t.length)&&this.__updateOpacityInForm()}this.getData("stopObserverOnBoardColorChange")&&this.setData("stopObserverOnBoardColorChange",!1)}.observes("cpBoardColor"),cpAvailableColorsObserver:function(){this.initializeBasicColorPicker(void 0,this.$node)}.observes("cpAvailableColors"),isCurrentRgbCodeDifferent:function(){var t,e=this.getData("cpBoardColor"),o=this.getData("cpCurrentRgbCode");if(/#/.test(e))9==e.length&&(t=e.substring(1,7)),7==e.length?t=e.substring(1):4==e.length&&(t=ColorPicker_Util.convert3DigitTo6DigitRgbCode(e.substring(1)));else if(/rgba/.test(e)){var r=e.substring(5,e.length-1).split(",");t=ColorPicker_Util.getRgbCodeByRgbColors(r[0],r[1],r[2])}else if(/rgb/.test(e)){r=e.substring(4,e.length-1).split(",");t=ColorPicker_Util.getRgbCodeByRgbColors(r[0],r[1],r[2])}return!t||t.toUpperCase()!=o.toUpperCase()},addPasteEvent:function(){var t=this.$node,e=this.getData("dropButtonValue"),o=this;e===_lyteUiUtils.i18n("HEX")?(t.querySelector("#lyteCPShowValue input").addEventListener("paste",(function(t){o.pasteFunc(t,"HEX")})),t.querySelector("#lyteCP__A input").addEventListener("paste",(function(t){o.pasteFunc(t,"A")}))):e===_lyteUiUtils.i18n("RGB")?(t.querySelector("#lyteCP__R input").addEventListener("paste",(function(t){o.pasteFunc(t,"R")})),t.querySelector("#lyteCP__G input").addEventListener("paste",(function(t){o.pasteFunc(t,"G")})),t.querySelector("#lyteCP__B input").addEventListener("paste",(function(t){o.pasteFunc(t,"B")})),t.querySelector("#lyteCP__A input").addEventListener("paste",(function(t){o.pasteFunc(t,"A")}))):e===_lyteUiUtils.i18n("HSV")?(t.querySelector("#lyteCP__H input").addEventListener("paste",(function(t){o.pasteFunc(t,"H")})),t.querySelector("#lyteCP__S input").addEventListener("paste",(function(t){o.pasteFunc(t,"S")})),t.querySelector("#lyteCP__V input").addEventListener("paste",(function(t){o.pasteFunc(t,"V")})),t.querySelector("#lyteCP__A input").addEventListener("paste",(function(t){o.pasteFunc(t,"A")}))):e===_lyteUiUtils.i18n("CMYK")&&(t.querySelector("#lyteCP__C input").addEventListener("paste",(function(t){o.pasteFunc(t,"C")})),t.querySelector("#lyteCP__M input").addEventListener("paste",(function(t){o.pasteFunc(t,"M")})),t.querySelector("#lyteCP__Y input").addEventListener("paste",(function(t){o.pasteFunc(t,"Y")})),t.querySelector("#lyteCP__K input").addEventListener("paste",(function(t){o.pasteFunc(t,"K")})))},initializeAdvColorPicker:function(t,e,o){this.setData("dropButtonValue",this.getData("cpColorFormats")[0]);e.querySelector("#lyteCPImgDiv");var r=e.querySelector("#colorDiv"),a=(e.querySelector(".colorSlider_palette_circle"),e.querySelector(".lyteColorPicker--advanced"));a.addedEvents||(e.querySelector(".colorSlider_hue").addEventListener("mousedown",(function(t){return ColorPicker_Util.component=ColorPicker_Util.getColorPicker(t.target).component,ColorPicker_EventUtil.__initHueMove(t,ColorPicker_Util.component)})),r.addEventListener("mousedown",(function(t){return ColorPicker_Util.component=ColorPicker_Util.getColorPicker(t.target).component,ColorPicker_EventUtil.__initPaletteMove(t,ColorPicker_Util.component)})),e.querySelector(".colorSlider_hueBar").addEventListener("mousedown",(function(t){ColorPicker_Util.component=ColorPicker_Util.getColorPicker(t.target).component,ColorPicker_EventUtil.__moveOnHueBar(t,ColorPicker_Util.component)})),e.querySelector(".colorSlider_hue").addEventListener("touchstart",(function(t){return ColorPicker_Util.component=ColorPicker_Util.getColorPicker(t.target).component,ColorPicker_EventUtil.__initHueMove(t,ColorPicker_Util.component)})),r.addEventListener("touchstart",(function(t){return ColorPicker_Util.component=ColorPicker_Util.getColorPicker(t.target).component,ColorPicker_EventUtil.__initPaletteMove(t,ColorPicker_Util.component)})),e.querySelector(".colorSlider_hueBar").addEventListener("touchstart",(function(t){ColorPicker_Util.component=ColorPicker_Util.getColorPicker(t.target).component,ColorPicker_EventUtil.__moveOnHueBar(t,ColorPicker_Util.component)})),e.querySelector(".lyteColorPicker__opacityslider").addEventListener("mousedown",(function(t){return ColorPicker_Util.component=ColorPicker_Util.getColorPicker(t.target).component,ColorPicker_EventUtil.__initOpacityMove(t,ColorPicker_Util.component)})),e.querySelector(".lyteColorPicker__opacityslider").addEventListener("touchstart",(function(t){return ColorPicker_Util.component=ColorPicker_Util.getColorPicker(t.target).component,ColorPicker_EventUtil.__initOpacityMove(t,ColorPicker_Util.component)})),e.querySelector(".opacityslider__track").addEventListener("mousedown",(function(t){ColorPicker_Util.component=ColorPicker_Util.getColorPicker(t.target).component,ColorPicker_EventUtil.__moveOnOpacityTrack(t,ColorPicker_Util.component)})),e.querySelector(".opacityslider__track").addEventListener("touchstart",(function(t){ColorPicker_Util.component=ColorPicker_Util.getColorPicker(t.target).component,ColorPicker_EventUtil.__moveOnOpacityTrack(t,ColorPicker_Util.component)})),a.addedEvents=!0),this.setData("paletteSize",{height:r.offsetHeight,width:r.offsetWidth}),this.setData("hueBarSize",e.querySelector(".colorSlider_hueBar").offsetWidth),this.setData("opacityTrackSize",e.querySelector(".opacityslider__track").offsetWidth),(void 0===this.getData("opacity")||this.getData("opacity")&&this.getData("opacity")<0)&&this.setData("opacity",100),this.selectedColor(),this.getData("cpBoardColor")&&this.__setCurrentRgbCodeFromBoardColor(),this.getData("inputChangeEvnt")&&this.setData("inputChangeEvnt",!1),this.setRgbColor("#"+this.getData("cpCurrentRgbCode"),null,o),this.addPasteEvent(),e=null,r=null},initializeBasicColorPicker:function(t,e){for(var o=e.querySelectorAll(".default__colors > li"),r=0;r<o.length;r++)o[r].style.background=o[r].textContent;if(this.getData("cpStandardColors")){o=e.querySelectorAll(".standard__colors > li");for(r=0;r<o.length;r++)o[r].style.background=o[r].textContent}if(this.getData("cpUsedColors")){o=e.querySelectorAll(".used__colors > li");for(r=0;r<o.length;r++)o[r].style.background=o[r].textContent}if(this.getData("cpColorPreview")&&this.getData("cpCurrentRgbCode"))ColorPicker_Util.getRgbColorsByRgbCode(this.getData("cpCurrentRgbCode"));var a=this;$L.fastdom.mutate((function(){var t=a.getData("cpSelectedColor"),e=$L(".lyteCPSelectedColor");if(e.length&&e.removeClass("lyteCPSelectedColor"),t&&!t.nofill&&Object.keys(t).length){var o;o=a.getData("cpAccent")?a.$node.querySelector('[data-color="'+t.hex+'"]'):a.$node.querySelector('[lt-prop-title="'+t.hex+'"]');var r=ColorPicker_Util.getDecimalToHexAlphaCode(a.getData("opacity"));t.hex+r===t["hex-alpha"]&&o?t.hex+r===t["hex-alpha"]&&a.getData("opacity")<100&&(o=a.$node.querySelector('[lt-prop-title="'+t["hex-alpha"].toUpperCase()+'"]')):o=a.$node.querySelector('[lt-prop-title="'+t["hex-alpha"].toUpperCase()+'"]'),o&&o.classList.add("lyteCPSelectedColor")}})),o=null,t||this.selectedColor()},executeOnBeforeOpen:function(){this.getMethods("onBeforeOpen")&&this.executeMethod("onBeforeOpen")},addedUsedColor:function(){var t=this.getData("usedColors"),e=this.getData("cpSelectedColor").rgba;-1!=t.indexOf(e)?Lyte.arrayUtils(this.getData("usedColors"),"removeAt",t.indexOf(e),1):Lyte.arrayUtils(this.getData("usedColors"),"removeAt",this.getData("cpUsedColorsNumber")-1,1),Lyte.arrayUtils(this.getData("usedColors"),"insertAt",0,e);var o=this;$L.fastdom.mutate((function(){setTimeout((function(){var t=o.getData("cpSelectedColor"),e=ColorPicker_Util.getDecimalToHexAlphaCode(o.getData("opacity"));if(t&&!t.nofill&&Object.keys(t).length){var r,a;a=o.getData("cpAccent")?(r=o.$node.querySelector('[data-color="'+t.hex+'"]'))?r.dataset.color:"":(r=o.$node.querySelector('[lt-prop-title="'+t.hex+'"]'))?r.getAttribute("lt-prop-title"):"";var l=o.$node.querySelector(".lyteCPSelectedColor");l&&l.classList.remove("lyteCPSelectedColor"),r&&a+e===t["hex-alpha"]?a+e===t["hex-alpha"]&&o.getData("opacity")<100&&(r=o.$node.querySelector('[lt-prop-title="'+t["hex-alpha"].toUpperCase()+'"]')):r=o.$node.querySelector('[lt-prop-title="'+t["hex-alpha"].toUpperCase()+'"]'),r&&r.classList.add("lyteCPSelectedColor")}}),100)}));var r=this.$node.querySelectorAll(".usedColor__container li")[0];r&&(r.style.background=e),this.getData("calledForHueMove")&&this.setData("calledForHueMove",!1)},executeOnSelect:function(t,e,o){this.getData("usedColors");this.data.cpSelectedColor&&(this.data.cpSelectedColor.nofill=!1),this.__setSelectedColor(o),this.addedUsedColor(),this.getMethods("onSelect")&&t&&this.executeMethod("onSelect",t,e,this.getData("calledForHueMove"))},executeOnOpen:function(){this.getMethods("onOpen")&&this.executeMethod("onOpen")},executeOnClose:function(t){this&&this.inputEle&&(this.inputEle=null),this.$node.closest("lyte-wormhole")&&this.$node.closest("lyte-wormhole")._callee.parentElement.setData("ltPropShow",!1)},executeOnCancelButton:function(t){this.getMethods("onCancelButton")&&this.executeMethod("onCancelButton",t)},executeOnChange:function(){this.__setSelectedColor(),this.isColorValueEqual()||(this.setData("prevColor",this.getData("cpSelectedColor")),this.getMethods("onChange")&&this.executeMethod("onChange",event,this.getData("cpSelectedColor"),this))},isColorValueEqual:function(){var t=this.getData("prevColor"),e=this.getData("cpSelectedColor");if(Object.keys(t).length===Object.keys(e).length){for(key in t)if(t[key]!=e[key])return!1;return!0}return!1},validateInputValue:function(t,e){var o=e.getData("ltPropValue");"HEX"===t?4==o.length||7==o.length?e.classList.contains("lyteCp__Invalid")&&e.classList.remove("lyteCp__Invalid"):(e.classList.add("lyteCp__Invalid"),this.getMethods("onInputError")&&this.executeMethod("onInputError","HEX"==t?"HEX":this.getData("colorFormat")[t])):"R"!=t&&"G"!=t&&"B"!=t&&"H"!=t&&"S"!=t&&"V"!=t&&"C"!=t&&"M"!=t&&"Y"!=t&&"K"!=t&&"A"!=t||(o.length>0&&o.length<4?e.classList.contains("lyteCp__Invalid")&&e.classList.remove("lyteCp__Invalid"):(e.classList.add("lyteCp__Invalid"),this.getMethods("onInputError")&&this.executeMethod("onInputError","HEX"==t?"HEX":this.getData("colorFormat")[t])))},__setSelectedColor:function(t){var e=this.getData("cpCurrentRgbCode"),o=ColorPicker_Util.getRgbColorsByRgbCode(e),r=this.getData("cmykColors");if("CMYK"!=this.getData("dropButtonValue")){var a=ColorPicker_Util.getRgbColorsByHsv(this.getData("currentHue"),this.getData("currentSaturation")/100,this.getData("currentBrightness")/100),l=ColorPicker_Util.getCmykByRgbColors([a.red,a.green,a.blue]);if(r.length){var i=ColorPicker_Util.getRgbCodeByCmyk(l[0],l[1],l[2],l[3]);i!=ColorPicker_Util.getRgbCodeByCmyk(r[0],r[1],r[2],r[3])&&i==e&&(r=l,this.setData("cmykColors",r))}else r=l,this.setData("cmykColors",r)}var n=this.getData("opacity")<100?"advanced":"basic",c={hex:"#"+e,rgb:"rgb("+o.red+", "+o.green+", "+o.blue+")",opacity:this.getData("opacity"),"hex-alpha":"#"+e+ColorPicker_Util.getDecimalToHexAlphaCode(this.getData("opacity")),rgba:"rgba("+o.red+", "+o.green+", "+o.blue+", "+this.getData("opacity")/100+")",cmyk:r,type:this.getData("cpSelectedColor")?this.getData("cpSelectedColor").type:n,nofill:this.getData("cpSelectedColor")?this.getData("cpSelectedColor").nofill:null};if(this.getData("cpAccent")&&t&&t.classList.contains("lyteColorPickerAccentColor")&&t.dataset.row){var s=this.getData("cpAccentColor")[t.dataset.col].colorTone[t.dataset.row-1];s&&(c.colorTone={toneType:s.toneType,tonePercent:s.tonePercent})}this.setData("cpSelectedColor",c)},setRgbColor:function(t,e,o){var r=ColorPicker_Util.getHsvByRgbCode(t);this.setData("currentHue",e||r.hue),this.setData("currentBrightness",100*r.brightness),this.setData("currentSaturation",100*r.saturation),this.__changeViewAfterColorChange(o),this.__setSelectedColor()},__changeViewAfterColorChange:function(t){this.__setCurrentRgbCode(),this.__setPaletteBgColor(),this.__setSliderPos(),this.getData("inputChangeEvnt")?this.setData("inputChangeEvnt",!1):this.__updateRgbInForm(t),this.__setSmallCirclePosition(),this.__changeColorInOpacityTrack(),this.__setOpacityColorPreviewDiv(),this.__updateOpacityInForm()},__setCurrentRgbCodeFromBoardColor:function(){var t=this.getData("cpBoardColor");if(/#/.test(t))9==t.length?(this.setData("opacity",ColorPicker_Util.getHexToDecimalAlphaCode(t.substring(7))),this.setData("cpCurrentRgbCode",t.substring(1,7))):7==t.length?this.setData("cpCurrentRgbCode",t.substring(1)):4==t.length&&this.setData("cpCurrentRgbCode",ColorPicker_Util.convert3DigitTo6DigitRgbCode(t.substring(1)));else if(/rgba/.test(t)){var e=t.substring(5,t.length-1).split(",");this.setData("opacity",100*e[3]),this.setData("cpCurrentRgbCode",ColorPicker_Util.getRgbCodeByRgbColors(e[0],e[1],e[2]))}else if(/rgb/.test(t)){e=t.substring(4,t.length-1).split(",");this.setData("cpCurrentRgbCode",ColorPicker_Util.getRgbCodeByRgbColors(e[0],e[1],e[2]))}},__setCurrentRgbCode:function(t){var e=t||ColorPicker_Util.getRgbCodeByHsv(this.getData("currentHue"),this.getData("currentSaturation")/100,this.getData("currentBrightness")/100);this.setData("stopObserverOnBoardColorChange",!0),this.setData("cpBoardColor","#"+e),this.setData("cpCurrentRgbCode",e),this.getData("stopObserverOnBoardColorChange")&&this.setData("stopObserverOnBoardColorChange",!1)},__setPaletteBgColor:function(){try{this.$node.querySelector("#colorDiv").style.backgroundColor="#"+ColorPicker_Util.getRgbCodeByHsv(this.getData("currentHue"),1,1)}catch(t){}},__setSliderPos:function(){var t=Math.round(this.getData("hueBarSize")-this.getData("currentHue")/360*this.getData("hueBarSize"));this.$node.querySelector(".colorSlider_sliderHandle").style.left=t-this.getData("sliderOffset")+"px"},__setSmallCirclePosition:function(){var t=this.getData("currentBrightness"),e=this.getData("currentSaturation"),o=this.getData("paletteSize"),r=this.getData("circleOffsetSize"),a=this.$node.querySelector(".colorSlider_palette_circle"),l=Math.round(e*(o.width/100))-r,i=o.height-Math.round(t*(o.height/100))-r;a.style.left=l+"px",a.style.top=i+"px",a.className=a.className.replace("colorSlider_palette_circleBlack",""),t>80&&(a.className=a.className+"colorSlider_palette_circleBlack"),a=null},__ffHackWinWidget:function(){var t=this.$node;t.querySelector(".lyteColorPicker--advanced").parentNode.className&&t.querySelector(".lyteColorPicker--advanced").parentNode.className.indexOf("windowContent")>=0&&!document.all&&this.setData("circleOffsetBecauseOfWinWidget",0)},__setBgColorPreviewDiv:function(){this.$node.querySelector(".previewDiv").style.backgroundColor="#"+this.getData("cpCurrentRgbCode")},__updateRgbInForm:function(t){var e=this.$node,o=e.querySelector(".selectFormat").querySelector("lyte-dropdown").getData("ltPropSelected");if(this.setData("dropButtonValue",o),o===_lyteUiUtils.i18n("HEX"))e.querySelector("#lyteCPShowValue").setData("ltPropValue","#"+this.getData("cpCurrentRgbCode")),this.inputEle.value="#"+this.getData("cpCurrentRgbCode")+ColorPicker_Util.getDecimalToHexAlphaCode(this.getData("opacity")),this.setData("counter",1),!t&&this.getData("setPrevCmyk")&&this.setData("setPrevCmyk",!1);else if(o===_lyteUiUtils.i18n("RGB")){var r=ColorPicker_Util.getRgbColorsByRgbCode(this.getData("cpCurrentRgbCode"));e.querySelector("#lyteCP__R").component.setData("ltPropValue",r.red+""),e.querySelector("#lyteCP__G").component.setData("ltPropValue",r.green+""),e.querySelector("#lyteCP__B").component.setData("ltPropValue",r.blue+""),this.setData("counter",3),this.inputEle.value="rgba("+r.red+", "+r.green+", "+r.blue+", "+this.getData("opacity")/100+")",!t&&this.getData("setPrevCmyk")&&this.setData("setPrevCmyk",!1)}else if(o===_lyteUiUtils.i18n("HSV")){var a=Math.round(this.getData("currentHue")),l=Math.round(this.getData("currentSaturation")),i=Math.round(this.getData("currentBrightness"));e.querySelector("#lyteCP__H").component.setData("ltPropValue",a+""),e.querySelector("#lyteCP__S").component.setData("ltPropValue",l+""),e.querySelector("#lyteCP__V").component.setData("ltPropValue",i+""),this.setData("counter",3),this.inputEle.value="hsv("+a+","+l+"%,"+i+"%,"+this.getData("opacity")/100+")",!t&&this.getData("setPrevCmyk")&&this.setData("setPrevCmyk",!1)}else if(o===_lyteUiUtils.i18n("CMYK")){var n;r=ColorPicker_Util.getRgbColorsByHsv(this.getData("currentHue"),this.getData("currentSaturation")/100,this.getData("currentBrightness")/100);this.getData("setPrevCmyk")&&4==this.getData("cmykColors").length?n=this.getData("cmykColors"):(n=ColorPicker_Util.getCmykByRgbColors([r.red,r.green,r.blue]),!t&&this.getData("setPrevCmyk")&&this.setData("setPrevCmyk",!1)),e.querySelector("#lyteCP__C").component.setData("ltPropValue",Math.round(100*n[0])+""),e.querySelector("#lyteCP__M").component.setData("ltPropValue",Math.round(100*n[1])+""),e.querySelector("#lyteCP__Y").component.setData("ltPropValue",Math.round(100*n[2])+""),e.querySelector("#lyteCP__K").component.setData("ltPropValue",Math.round(100*n[3])+""),this.setData("cmykColors",n),this.setData("counter",4),this.inputEle.value="cmyk("+Math.round(100*n[0])+"%,"+Math.round(100*n[1])+"%,"+Math.round(100*n[2])+"%,"+Math.round(100*n[3])+"%)"}},__setOpacitySliderPos:function(){var t=this.$node,e=this.getData("opacity")*this.getData("opacityTrackSize")/100;t.querySelector(".opacityslider__circlethumb").style.left=e-this.getData("sliderOffset")+"px"},__changeColorInOpacityTrack:function(){this.$node.querySelector(".opacityslider__track").style.backgroundImage="linear-gradient(to right, transparent, #"+this.getData("cpCurrentRgbCode")+")"},__setOpacityColorPreviewDiv:function(){var t=this.$node,e=ColorPicker_Util.getRgbColorsByRgbCode(this.getData("cpCurrentRgbCode"));t.querySelector(".previewDiv").style.backgroundColor="rgba("+e.red+","+e.green+","+e.blue+","+this.getData("opacity")/100+")"},__updateOpacityInForm:function(){var t=this.$node;if(t.querySelector("#lyteCP__A")){if(t.querySelector("#lyteCP__A").component.setData("ltPropValue",this.getData("opacity")),this.getData("dropButtonValue")==_lyteUiUtils.i18n("HEX")&&(this.inputEle.value="#"+this.getData("cpCurrentRgbCode")+ColorPicker_Util.getDecimalToHexAlphaCode(this.getData("opacity"))),this.getData("dropButtonValue")==_lyteUiUtils.i18n("RGB")){var e=ColorPicker_Util.getRgbColorsByRgbCode(this.getData("cpCurrentRgbCode"));this.inputEle.value="rgba("+e.red+", "+e.green+", "+e.blue+", "+this.getData("opacity")/100+")"}if(this.getData("dropButtonValue")==_lyteUiUtils.i18n("HSV")){var o=Math.round(this.getData("currentHue")),r=Math.round(this.getData("currentSaturation")),a=Math.round(this.getData("currentBrightness"));this.inputEle.value="hsv("+o+","+r+"%,"+a+"%,"+this.getData("opacity")/100+")"}}},defaultSelectedColor:function(t,e,o){if("rgba(0, 0, 0, 0)"!=e){var r,a=this.$node.querySelector(".lyteCPSelectedColor");a&&(a.classList.remove("lyteCPSelectedColor"),a.setAttribute("aria-selected",!1)),o&&(o.classList.add("lyteCPSelectedColor"),o.setAttribute("aria-selected",!0)),/rgba/.test(e)?(r=e.substring(5,e.length-1).split(","),this.setData("opacity",100*r[3])):(r=e.substring(4,e.length-1).split(","),this.setData("opacity",100)),this.__setCurrentRgbCode(ColorPicker_Util.getRgbCodeByRgbColors(r[0],r[1],r[2]));var l=ColorPicker_Util.getHsvByRgbCode("#"+this.getData("cpCurrentRgbCode"));this.setData("currentHue",l.hue),this.setData("currentBrightness",100*l.brightness),this.setData("currentSaturation",100*l.saturation),this.executeOnSelect(t,void 0,o),this.executeOnBasicColorChange(t)}},executeOnBasicColorChange:function(t){this.isColorValueEqual()||(this.setData("prevColor",this.getData("cpSelectedColor")),this.getMethods("onBasicColorChange")&&this.executeMethod("onBasicColorChange",t,this.getData("cpSelectedColor"),this))},observeSelectedColorChange:function(){this.selectedColor()}.observes("cpSelectedColor"),selectedColor:function(){var t=this.getData("cpSelectedColor");if(t&&Object.keys(t).length){var e;if(t.rgb&&t.rgb.length)e=t.rgb;else if(t.hex&&t.hex.length){3==(r=t.hex.slice(1)).length&&(r=ColorPicker_Util.convert3DigitTo6DigitRgbCode(r)),e="rgb("+(n=ColorPicker_Util.getRgbColorsByRgbCode(r)).red+", "+n.green+", "+n.blue+")"}else if(t["hex-alpha"]&&t["hex-alpha"].length){3==(r=t["hex-alpha"].slice(1)).length&&(r=ColorPicker_Util.convert3DigitTo6DigitRgbCode(r)),n=ColorPicker_Util.getRgbColorsByRgbCode(r);var o=ColorPicker_Util.getHexToDecimalAlphaCode(r.substr(6,4));t.opacity=o,this.setData("opacity",o),e="rgb("+n.red+", "+n.green+", "+n.blue+")"}else if(t.cmyk&&t.cmyk.length){var r=t.cmyk;e="rgb("+(n=ColorPicker_Util.getRgbColorsByCmyk(r[0],r[1],r[2],r[3])).red+", "+n.green+", "+n.blue+")"}if(void 0!==t.opacity?this.setData("opacity",t.opacity):this.setData("opacity",100),t.nofill||!e||"basic"!=t.type&&null!=t.type)if(t)a=(e=t.rgb).replace(/[^\d,]/g,"").split(",");else var a="rgb(0,0,0)".replace(/[^\d,]/g,"").split(",");else{a=e.replace(/[^\d,]/g,"").split(",");var l;r=ColorPicker_Util.getRgbCodeByRgbColors(a[0],a[1],a[2]);l=this.getData("cpAccent")?this.$node.querySelector('[data-color= "#'+r+'"]'):this.$node.querySelector('[lt-prop-title= "#'+r+'"]');var i=ColorPicker_Util.getDecimalToHexAlphaCode(this.getData("opacity"));if(t["hex-alpha"]&&t.hex+i!==t["hex-alpha"]||!l?l=this.$node.querySelector('[lt-prop-title="'+t["hex-alpha"]+'"]'):t.hex+i===t["hex-alpha"]&&this.getData("opacity")<100&&(l=this.$node.querySelector('[lt-prop-title="'+t.hex+i.toUpperCase()+'"]')),l&&!l.classList.contains("lyteCPSelectedColor")){var n=ColorPicker_Util.getRgbColorsByRgbCode(r+i);r=(o=t.opacity)?"rgba("+n.red+", "+n.green+", "+n.blue+", "+this.getData("opacity")/100+")":"rgb("+n.red+", "+n.green+", "+n.blue+")",this.defaultSelectedColor(null,r,l)}else if(!l){n=ColorPicker_Util.getRgbColorsByRgbCode(r);this.data.cpSelectedColor.rgba="rgba("+n.red+", "+n.green+", "+n.blue+", "+this.getData("opacity")/100+")"}}var c=this.getData("cpCurrentRgbCode");this.setData("cpCurrentRgbCode",ColorPicker_Util.getRgbCodeByRgbColors(a[0],a[1],a[2])),this.setData("cpBoardColor","#"+this.getData("cpCurrentRgbCode")),this.getData("cpCurrentRgbCode")!=c&&0==this.getData("cpBasicColorPicker")&&this.setRgbColor("#"+this.getData("cpCurrentRgbCode"),null,!0)}else $L(".lyteCPSelectedColor",this.childComp).removeClass("lyteCPSelectedColor")},pasteFunc:function(t,e){var o=t.target,r=o.selectionStart,a=o.selectionEnd,l=o.value;if(r==a)l+=(t.clipboardData||window.clipboardData).getData("text").trim();else{var i=l.substring(0,r)+(t.clipboardData||window.clipboardData).getData("text").trim(),n=l.substring(a);n.length>0&&(i+=n),l=i}"HEX"===e?(1==l.length&&"#"!=l[0]||l.length>7||l.length>0&&("#"!=l[0]||-1!=l.substring(1).indexOf("#")))&&(t.preventDefault(),t.stopPropagation()):"R"==e||"G"==e||"B"==e?(""===l||isNaN(l)||l&&(parseInt(l)<0||parseInt(l)>255))&&(t.preventDefault(),t.stopPropagation()):"H"==e?(""===l||isNaN(l)||l&&(parseInt(l)<0||parseInt(l)>360))&&(t.preventDefault(),t.stopPropagation()):"S"!=e&&"V"!=e&&"C"!=e&&"M"!=e&&"Y"!=e&&"K"!=e&&"A"!=e||(""===l||isNaN(l)||l&&(parseInt(l)<0||parseInt(l)>100))&&(t.preventDefault(),t.stopPropagation())},didDestroy:function(){this.tId&&(clearInterval(this.tId),this.tId=!1)},nofillFunc:function(t){$L(".lyteCPSelectedColor",this.childComp).removeClass("lyteCPSelectedColor"),this.setData("cpSelectedColor",{hex:"#000000",rgb:"rgb(0,0,0)",rgba:"rgba(0,0,0,0)",opacity:0,nofill:!0}),this.setData("opacity",0),this.getData("calledForHueMove")&&this.setData("calledForHueMove",!1),this.getMethods("onSelect")&&t&&this.executeMethod("onSelect",t,void 0,this.getData("calledForHueMove"))},fromAdvCPtoBasic:function(t){this.setData("cpMoreColorOptionSelected",!1);var e=this.$node,o=this.getData("basicDimensions");if(this.getData("cpInline"))this.setData("cpBasicColorPicker",!0);else{var r=e.closest(".lytePopover");r.querySelector("lyte-popover-content");r.style.width=o.width+"px",r.style.maxWidth=o.width+"px",this.setData("cpBasicColorPicker",!0),r._callee.component.computeOffsetImpl()}this.$node.focus(),this.initializeBasicColorPicker(t,e),r=null},goToAdvancedCP:function(t){var e=this.$node,o=this.getData("cpSelectedColor");null!=o&&(this.setData("cpCurrentRgbCode",o.hex?o.hex.substring(1):"FF0000"),"cmyk"in o?(this.setData("cmykColors",o.cmyk),this.setData("setPrevCmyk",!0)):this.setData("cmykColors",[])),this.setData("cpMoreColorOptionSelected",!0);var r=this.getData("advCPDimensions");if(this.getData("cpInline"))this.setData("cpBasicColorPicker",!1);else{var a=e.closest(".lytePopover"),l=a.getBoundingClientRect();l.height;a.style.width=r.width+"px",a.style.maxWidth=r.width+"px",this.setData("cpBasicColorPicker",!1),a._callee.component.computeOffsetImpl(),l=null,null,a=null}this.inputEle=e.querySelector("#lyteCPHiddenInput"),this.initializeAdvColorPicker(t,e,!0),e=null,o=null,r=null},basicColorpickerObs:function(){this.getData("cpBasicColorPicker")?this.fromAdvCPtoBasic():this.goToAdvancedCP()}.observes("cpBasicColorPicker"),methods:{inputValueChanged:function(t,e,o){var r=this.$node;if("HEX"===t&&(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/i.test(e.newValue)?(this.setData("inputChangeEvnt",!0),7==e.newValue.length?this.__setCurrentRgbCode(e.newValue.substring(1)):4==e.newValue.length&&this.__setCurrentRgbCode(ColorPicker_Util.convert3DigitTo6DigitRgbCode(e.newValue.substring(1))),this.getData("dragged")||1==this.getData("dragStatus")||1==this.getData("hueStatus")||this.getData("counter")?(this.setData("dragged",!1),this.getData("counter")&&(this.setData("counter",this.getData("counter")-1),this.getData("counter")||(this.setData("restrictOnChange",!0),this.__updateOpacityInForm()))):(this.setRgbColor("#"+this.getData("cpCurrentRgbCode")),this.executeOnChange())):/^([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/i.test(e.newValue)&&(this.setData("inputChangeEvnt",!0),6==e.newValue.length?this.__setCurrentRgbCode(e.newValue):3==e.newValue.length&&this.__setCurrentRgbCode(ColorPicker_Util.convert3DigitTo6DigitRgbCode(e.newValue)),this.getData("dragged")||1==this.getData("dragStatus")||1==this.getData("hueStatus")||this.getData("counter")?(this.setData("dragged",!1),this.getData("counter")&&(this.setData("counter",this.getData("counter")-1),this.getData("counter")||(this.setData("restrictOnChange",!0),this.__updateOpacityInForm()))):(this.setRgbColor("#"+this.getData("cpCurrentRgbCode")),this.executeOnChange()))),"R"===t||"G"===t||"B"===t){this.setData("inputChangeEvnt",!0);var a=r.querySelector("#lyteCP__R").component.getData("ltPropValue"),l=r.querySelector("#lyteCP__G").component.getData("ltPropValue"),i=r.querySelector("#lyteCP__B").component.getData("ltPropValue");a&&l&&i&&(this.__setCurrentRgbCode(ColorPicker_Util.getRgbCodeByRgbColors(a,l,i)),this.getData("dragged")||1==this.getData("dragStatus")||1==this.getData("hueStatus")||this.getData("counter")?(this.setData("dragged",!1),this.getData("counter")&&(this.setData("counter",this.getData("counter")-1),this.getData("counter")||(this.setData("restrictOnChange",!0),this.__updateOpacityInForm()))):(this.setRgbColor("#"+this.getData("cpCurrentRgbCode")),this.executeOnChange()))}if("H"===t||"S"===t||"V"===t){this.setData("inputChangeEvnt",!0);var n=r.querySelector("#lyteCP__H").component.getData("ltPropValue"),c=r.querySelector("#lyteCP__S").component.getData("ltPropValue"),s=r.querySelector("#lyteCP__V").component.getData("ltPropValue");n&&c&&s&&(this.__setCurrentRgbCode(ColorPicker_Util.getRgbCodeByHsv(n,c,s)),this.getData("dragged")||1==this.getData("dragStatus")||1==this.getData("hueStatus")||this.getData("counter")?(this.setData("dragged",!1),this.getData("counter")&&(this.setData("counter",this.getData("counter")-1),this.getData("counter")||(this.setData("restrictOnChange",!0),this.__updateOpacityInForm()))):(this.setRgbColor("#"+this.getData("cpCurrentRgbCode"),"H"===t&&360==n?360:void 0),this.executeOnChange()))}if("C"===t||"M"===t||"Y"===t||"K"===t){this.setData("inputChangeEvnt",!0);var p=r.querySelector("#lyteCP__C").component.getData("ltPropValue"),u=r.querySelector("#lyteCP__M").component.getData("ltPropValue"),d=r.querySelector("#lyteCP__Y").component.getData("ltPropValue"),y=r.querySelector("#lyteCP__K").component.getData("ltPropValue");p&&u&&d&&y&&(this.setData("cmykColors",[p/100,u/100,d/100,y/100]),this.__setCurrentRgbCode(ColorPicker_Util.getRgbCodeByCmyk(p,u,d,y)),this.getData("dragged")||1==this.getData("dragStatus")||1==this.getData("hueStatus")||this.getData("counter")?(this.setData("dragged",!1),this.getData("counter")&&this.setData("counter",this.getData("counter")-1)):(this.setRgbColor("#"+this.getData("cpCurrentRgbCode")),this.executeOnChange()))}if("A"===t){var h=r.querySelector("#lyteCP__A").component.getData("ltPropValue");h&&(this.setData("opacity",parseInt(h)),1!=this.getData("opacityStatus")&&(this.__setOpacitySliderPos(),this.__setOpacityColorPreviewDiv(),this.getData("restrictOnChange")?this.setData("restrictOnChange",!1):this.executeOnChange()))}this.validateInputValue(t,o)},onInputBlur:function(t,e,o){switch(t){case"HEX":o.setData("ltPropValue","#"+this.getData("cpCurrentRgbCode"));break;case"R":var r=ColorPicker_Util.getRgbColorsByRgbCode(this.getData("cpCurrentRgbCode"));o.setData("ltPropValue",r.red+"");break;case"G":r=ColorPicker_Util.getRgbColorsByRgbCode(this.getData("cpCurrentRgbCode"));o.setData("ltPropValue",r.green+"");break;case"B":r=ColorPicker_Util.getRgbColorsByRgbCode(this.getData("cpCurrentRgbCode"));o.setData("ltPropValue",r.blue+"");break;case"H":o.setData("ltPropValue",Math.round(this.getData("currentHue"))+"");break;case"S":o.setData("ltPropValue",Math.round(this.getData("currentSaturation"))+"");break;case"V":o.setData("ltPropValue",Math.round(this.getData("currentBrightness"))+"");break;case"C":o.setData("ltPropValue",Math.round(100*this.getData("cmykColors")[0])+"");break;case"M":o.setData("ltPropValue",Math.round(100*this.getData("cmykColors")[1])+"");break;case"Y":o.setData("ltPropValue",Math.round(100*this.getData("cmykColors")[2])+"");break;case"K":o.setData("ltPropValue",Math.round(100*this.getData("cmykColors")[3])+"");break;case"A":o.setData("ltPropValue",this.getData("opacity"))}},changeFormatView:function(t,e){"LYTE-DROP-BOX"==_lyteUiUtils.getCurrentTarget(t).tagName&&(this.__updateRgbInForm(!0),this.addPasteEvent())}},actions:{colorhover:function(t,e,o,r){this.getMethods("onColorHover")&&this.executeMethod("onColorHover",e,o,r)},onPaste:function(t,e){this.pasteFunc(t,e)},inputKeyDown:function(t,e,o){var r=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"];if("HEX"==o)if(t.shiftKey&&51==(t.keyCode||t.which)||!t.shiftKey&&!t.metaKey&&(t.keyCode||t.which)>=48&&(t.keyCode||t.which)<=57||(t.keyCode||t.which)>=65&&(t.keyCode||t.which)<=70||(t.keyCode||t.which)>=97&&(t.keyCode||t.which)<=102||(t.keyCode||t.which)>=96&&(t.keyCode||t.which)<=105||8==(t.keyCode||t.which)||35==(t.keyCode||t.which)||(t.keyCode||t.which)>=37&&(t.keyCode||t.which)<=40||46==(t.keyCode||t.which)){var a=(s=e.querySelector("input")).selectionStart,l=s.selectionEnd,i=s.value;if(8==(t.keyCode||t.which))return void(a==i.length?i=i.slice(0,-1):a>0&&(i=i.slice(0,a-1)+i.slice(a)));if(46==(t.keyCode||t.which))return void(a<i.length&&(i=i.slice(0,a)+i.slice(a+1)));if(-1!=r.indexOf(t.key))return;if(!t.ctrlKey&&!t.metaKey||65!=(t.keyCode||t.which)&&67!=(t.keyCode||t.which)){var n=-1!=r.indexOf(t.key)?"":t.key;if((t.keyCode||t.which)>=96&&(t.keyCode||t.which)<=105){var c=t.keyCode||t.which;c-=48,n=String.fromCharCode(c)}i=a==l?i.slice(0,a)+n+i.slice(a):i.slice(0,a)+i.slice(l)+n}(1==i.length&&"#"!=i[0]||i.length>0&&("#"!=i[0]||-1!=i.substring(1).indexOf("#")))&&(t.preventDefault(),t.stopPropagation())}else(t.ctrlKey||t.metaKey)&&86==(t.keyCode||t.which)||9==t.keyCode||(t.preventDefault(),t.stopPropagation());else if(!t.shiftKey&&!t.metaKey&&(t.keyCode||t.which)>=48&&(t.keyCode||t.which)<=57||8==(t.keyCode||t.which)||46==(t.keyCode||t.which)||(t.keyCode||t.which)>=37&&(t.keyCode||t.which)<=40||(t.keyCode||t.which)>=96&&(t.keyCode||t.which)<=105||(t.ctrlKey||t.metaKey)&&(65==(t.keyCode||t.which)||67==(t.keyCode||t.which))){var s;a=(s=e.querySelector("input")).selectionStart,l=s.selectionEnd,i=s.value;if(8==(t.keyCode||t.which))return void(a==i.length?i=i.slice(0,-1):a>0&&(i=i.slice(0,a-1)+i.slice(a)));if(46==(t.keyCode||t.which))return void(a<i.length&&(i=i.slice(0,a)+i.slice(a+1)));if(!t.ctrlKey&&!t.metaKey||65!=(t.keyCode||t.which)&&67!=(t.keyCode||t.which)){n=-1!=r.indexOf(t.key)?"":t.key;if((t.keyCode||t.which)>=96&&(t.keyCode||t.which)<=105){c=t.keyCode||t.which;c-=48,n=String.fromCharCode(c)}i=a==l?i.slice(0,a)+n+i.slice(a):i.slice(0,a)+i.slice(l)+n}"R"==o||"G"==o||"B"==o?i&&(parseInt(i)<0||parseInt(i)>255)&&(t.preventDefault(),t.stopPropagation()):"H"==o?i&&(parseInt(i)<0||parseInt(i)>360)&&(t.preventDefault(),t.stopPropagation()):"S"!=o&&"V"!=o&&"C"!=o&&"M"!=o&&"Y"!=o&&"K"!=o&&"A"!=o||i&&(parseInt(i)<0||parseInt(i)>100)&&(t.preventDefault(),t.stopPropagation())}else(t.ctrlKey||t.metaKey)&&86==(t.keyCode||t.which)||9==t.keyCode||(t.preventDefault(),t.stopPropagation())},callOnSelect:function(t,e){this.executeOnSelect(t,e)},selectColor:function(t,e){this.defaultSelectedColor(t,e,t.target)},goToAdvancedCP:function(t){if(!this.getData("cpInline")){var e=this.$node.closest(".lytePopover").getBoundingClientRect(),o=e.height;this.setData("basicDimensions",{width:e.width,height:o})}this.setData("cpBasicColorPicker",!1)},noFillExecute:function(t){this.nofillFunc(t)},defaultColorExecute:function(t){var e="rgb(0, 0, 0)",o=e.substring(4,e.length-1).split(","),r={hex:"#"+ColorPicker_Util.getRgbCodeByRgbColors(o[0],o[1],o[2]),rgb:e,opacity:this.getData("opacity"),nofill:!1};this.setData("cpSelectedColor",r),this.executeOnSelect(t)},closeColorPicker:function(t){this.executeOnClose(t),this.executeOnCancelButton(t)},fromAdvCPtoBasic:function(t){this.setData("cpBasicColorPicker",!0)},copyValueToClipboard:function(t){var e=this.$node;e.querySelector("lyte-dropdown").ltProp("selected");this.inputEle.select();try{document.execCommand("copy");this.getData("tooltipTextChanged")||(e.querySelector(".previewDiv").setAttribute("lt-prop-title",_lyteUiUtils.i18n("Color.value.copied")),this.setData("tooltipTextChanged",!0),$L.fastdom.mutate((function(){e.querySelector(".previewDiv").dispatchEvent(new Event("mousemove"))})))}catch(t){}},onOverColorPreviewDiv:function(t){var e=this.$node;this.getData("tooltipTextChanged")&&(e.querySelector(".previewDiv").setAttribute("lt-prop-title",_lyteUiUtils.i18n("Copy.Color.value.to.Clipboard")),this.setData("tooltipTextChanged",!1))}}}),Lyte.Component.register("lyte-colorpicker",{_template:'<template tag-name="lyte-colorpicker"> <template is="if" value="{{ltPropInline}}"><template case="true"> <div class="lyteColorPicker"> <div class="lyteColorPicker__showhidecontainer"> <colorpicker-ui cp-accent="{{ltPropAccent}}" cp-accent-color="{{ltPropAccentColor}}" cp-advanced-color-button="{{ltPropAdvancedColorButton}}" on-basic-color-change="{{method(&quot;executeOnBasicColorChange&quot;)}}" on-cancel-button="{{method(&quot;cancelPopColorPicker&quot;)}}" cp-standard-colors="{{ltPropStandardColors}}" cp-used-colors="{{ltPropUsedColors}}" cp-basic-color-picker="{{lbind(ltPropBasicColorPicker)}}" cp-wrapper-class="{{ltPropWrapperClass}}" cp-current-rgb-code="{{ltPropCurrentRgbCode}}" cp-no-fill-button="{{ltPropNoFillButton}}" cp-no-fill-label="{{ltPropNoFillLabel}}" cp-palette-label="{{ltPropPaletteLabel}}" cp-inline="{{ltPropInline}}" cp-color-formats="{{lbind(ltPropColorFormats)}}" cp-done-btn-text="{{lbind(ltPropDoneBtnText)}}" cp-cancel-btn-text="{{lbind(ltPropCancelBtnText)}}" cp-back-btn-text="{{lbind(ltPropBackBtnText)}}" cp-apply-btn-text="{{lbind(ltPropApplyBtnText)}}" cp-standard-color-array="{{ltPropStandardColorArray}}" cp-board-color="{{lbind(ltPropBoardColor)}}" cp-selected-color="{{lbind(ltPropSelectedColor)}}" cp-available-colors="{{availableColors}}" used-colors="{{lbind(ltPropUsedColorsList)}}" cp-more-color-option-selected="{{lbind(moreColorOptionSelected)}}" cp-opacity-label="{{ltPropOpacityLabel}}" cp-used-colors-number="{{ltPropUsedColorsNumber}}" opacity="{{ltPropOpacity}}" cp-close-on-selection="{{ltPropCloseOnSelection}}" cp-close-on-body-click="{{ltPropCloseOnBodyClick}}" on-select="{{method(&quot;executeOnSelect&quot;)}}" on-change="{{method(&quot;executeOnChange&quot;)}}" on-close="{{method(&quot;executeOnClose&quot;)}}" on-input-error="{{method(&quot;executeOnInputError&quot;)}}" cp-yield="{{ltPropYield}}" on-color-hover="{{method(\'colorHover\')}}" cp-show-hidden-color="{{ltPropShowHiddenColor}}"> <template is="if" value="{{ltPropYield}}"><template case="true"> <template is="registerYield" yield-name="colorpickerYield"> <lyte-yield yield-name="cpyield"></lyte-yield> </template> </template></template> </colorpicker-ui> </div> </div> </template><template case="false"> <lyte-popover class="lyteColorPicker popColorPicker" on-close="{{method(&quot;closePopColorPicker&quot;)}}" on-show="{{method(&quot;showColorPickerPopover&quot;,event)}}" lt-prop-focus-on-close="{{ltPropFocusOnClose}}"> <template is="registerYield" yield-name="popover"> <lyte-popover-content class="lyteColorPicker__showhidecontainer"> <colorpicker-ui cp-accent="{{ltPropAccent}}" cp-accent-color="{{ltPropAccentColor}}" cp-drop-box-class="{{ltPropDropBoxClass}}" cp-advanced-color-button="{{ltPropAdvancedColorButton}}" on-basic-color-change="{{method(&quot;executeOnBasicColorChange&quot;)}}" on-cancel-button="{{method(&quot;cancelPopColorPicker&quot;)}}" cp-standard-colors="{{ltPropStandardColors}}" cp-used-colors="{{ltPropUsedColors}}" cp-basic-color-picker="{{lbind(ltPropBasicColorPicker)}}" cp-wrapper-class="{{ltPropWrapperClass}}" cp-current-rgb-code="{{ltPropCurrentRgbCode}}" cp-no-fill-button="{{ltPropNoFillButton}}" cp-no-fill-label="{{ltPropNoFillLabel}}" cp-palette-label="{{ltPropPaletteLabel}}" cp-inline="{{ltPropInline}}" cp-color-formats="{{lbind(ltPropColorFormats)}}" cp-done-btn-text="{{lbind(ltPropDoneBtnText)}}" cp-cancel-btn-text="{{lbind(ltPropCancelBtnText)}}" cp-back-btn-text="{{lbind(ltPropBackBtnText)}}" cp-apply-btn-text="{{ltPropApplyBtnText}}" cp-standard-color-array="{{ltPropStandardColorArray}}" cp-board-color="{{lbind(ltPropBoardColor)}}" cp-selected-color="{{lbind(ltPropSelectedColor)}}" cp-available-colors="{{availableColors}}" used-colors="{{lbind(ltPropUsedColorsList)}}" cp-more-color-option-selected="{{lbind(moreColorOptionSelected)}}" cp-opacity-label="{{ltPropOpacityLabel}}" cp-used-colors-number="{{ltPropUsedColorsNumber}}" opacity="{{ltPropOpacity}}" cp-close-on-selection="{{ltPropCloseOnSelection}}" cp-close-on-body-click="{{ltPropCloseOnBodyClick}}" on-select="{{method(&quot;executeOnSelect&quot;)}}" on-change="{{method(&quot;executeOnChange&quot;)}}" on-close="{{method(&quot;executeOnClose&quot;)}}" on-input-error="{{method(&quot;executeOnInputError&quot;)}}" cp-yield="{{ltPropYield}}" on-color-hover="{{method(\'colorHover\')}}" cp-show-hidden-color="{{ltPropShowHiddenColor}}"> <template is="if" value="{{ltPropYield}}"><template case="true"> <template is="registerYield" yield-name="colorpickeryield"> <lyte-yield yield-name="cpyield"></lyte-yield> </template> </template></template> </colorpicker-ui> </lyte-popover-content> </template> </lyte-popover> </template></template> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"attr",position:[1,1,1,1]},{type:"if",position:[1,1,1,1],cases:{true:{dynamicNodes:[{type:"registerYield",position:[1],dynamicNodes:[{type:"insertYield",position:[1]}]}]}},default:{}},{type:"componentDynamic",position:[1,1,1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"registerYield",position:[1],dynamicNodes:[{type:"insertYield",position:[1]}]}]}},default:{}},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]}},default:{}}],_observedAttributes:["ltPropShow","ltPropDraggable","ltPropCloseOnBodyClick","ltPropCloseOnSelection","ltPropAdvancedColorButton","ltPropAppearance","ltPropStandardColors","ltPropUsedColors","ltPropBasicColorPicker","ltPropSelectedColor","ltPropOriginElement","ltPropWrapperClass","ltPropCurrentRgbCode","ltPropBoundary","ltPropScrollable","ltPropNoFillButton","ltPropNoFillLabel","ltPropPaletteLabel","ltPropInline","ltPropColorFormats","ltPropDoneBtnText","ltPropCancelBtnText","ltPropBackBtnText","ltPropApplyBtnText","ltPropStandardColorArray","ltPropDuration","ltPropBoardColor","ltPropOpacityLabel","ltPropPopover","ltPropUsedColorsNumber","ltPropUsedColorsList","ltPropOpacity","ltPropFreeze","ltPropAccent","ltPropAccentColor","ltPropDropBoxClass","ltPropFocusOnClose","ltPropShowHiddenColor","moreColorOptionSelected","availableColors","usedColors","colorpicker","dropButtonValue","ltPropYield"],data:function(){return{ltPropShow:Lyte.attr("boolean",{default:!1}),ltPropDraggable:Lyte.attr("boolean",{default:!1}),ltPropCloseOnBodyClick:Lyte.attr("boolean",{default:!0}),ltPropCloseOnSelection:Lyte.attr("boolean",{default:!1}),ltPropAdvancedColorButton:Lyte.attr("boolean",{default:!0}),ltPropAppearance:Lyte.attr("string",{default:"callout"}),ltPropStandardColors:Lyte.attr("boolean",{default:!0}),ltPropUsedColors:Lyte.attr("boolean",{default:!0}),ltPropBasicColorPicker:Lyte.attr("boolean",{default:!0}),ltPropSelectedColor:Lyte.attr("object",{default:null}),ltPropOriginElement:Lyte.attr("string",{default:""}),ltPropWrapperClass:Lyte.attr("string",{default:"lyteColorPickerPopover"}),ltPropCurrentRgbCode:Lyte.attr("string",{default:"90c3d4"}),ltPropBoundary:Lyte.attr("object",{default:null}),ltPropScrollable:Lyte.attr("boolean",{default:!0}),ltPropNoFillButton:Lyte.attr("boolean",{default:!1}),ltPropNoFillLabel:Lyte.attr("string",{default:""}),ltPropPaletteLabel:Lyte.attr("string",{default:""}),ltPropInline:Lyte.attr("boolean",{default:!1}),ltPropColorFormats:Lyte.attr("array",{default:["HEX","RGB","HSV","CMYK"]}),ltPropDoneBtnText:Lyte.attr("string",{default:"lyte.colorpicker.done"}),ltPropCancelBtnText:Lyte.attr("string",{default:"lyte.colorpicker.cancel"}),ltPropBackBtnText:Lyte.attr("string",{default:"lyte.colorpicker.back"}),ltPropApplyBtnText:Lyte.attr("string",{default:"lyte.colorpicker.apply"}),ltPropStandardColorArray:Lyte.attr("array",{default:[]}),ltPropDuration:Lyte.attr("number",{default:600}),ltPropBoardColor:Lyte.attr("string",{default:"#90c3d4"}),ltPropOpacityLabel:Lyte.attr("string"),ltPropPopover:Lyte.attr("object",{default:{}}),ltPropUsedColorsNumber:Lyte.attr("number",{default:10}),ltPropUsedColorsList:Lyte.attr("array",{default:[]}),ltPropOpacity:Lyte.attr("number",{default:100}),ltPropFreeze:Lyte.attr("boolean",{default:!1}),ltPropAccent:Lyte.attr("boolean",{default:!1}),ltPropAccentColor:Lyte.attr("array",{default:[]}),ltPropDropBoxClass:Lyte.attr("string",{default:""}),ltPropFocusOnClose:Lyte.attr("boolean",{default:!1}),ltPropShowHiddenColor:Lyte.attr("boolean",{default:!1}),moreColorOptionSelected:Lyte.attr("boolean",{default:!1}),availableColors:Lyte.attr("array",{default:[]}),usedColors:Lyte.attr("array"),colorpicker:Lyte.attr("object",{default:null}),dropButtonValue:Lyte.attr("string",{default:"HEX"}),ltPropYield:Lyte.attr("boolean",{default:!1})}},init:function(){if(this.getData("ltPropAccent")){var t=this.generateAccentColor();this.setData("availableColors",t)}else{this.setData("availableColors",[["rgb(255, 255, 255)","rgb(239, 22, 22)","rgb(239, 130, 22)","rgb(239, 177, 22)","rgb(93, 195, 90)","rgb(56, 215, 187)","rgb(22, 208, 239)","rgb(57, 142, 243)","rgb(197, 22, 239)","rgb(239, 22, 111)"],["rgb(153, 153, 153)","rgb(249, 162, 162)","rgb(249, 205, 162)","rgb(249, 224, 162)","rgb(190, 231, 189)","rgb(175, 239, 228)","rgb(162, 236, 249)","rgb(176, 210, 250)","rgb(232, 162, 249)","rgb(249, 162, 197)"],["rgb(102, 102, 102)","rgb(245, 115, 115)","rgb(245, 180, 115)","rgb(245, 208, 115)","rgb(158, 219, 156)","rgb(136, 231, 214)","rgb(115, 227, 245)","rgb(136, 187, 248)","rgb(220, 115, 245)","rgb(245, 115, 169)"],["rgb(51, 51, 51)","rgb(242, 69, 69)","rgb(242, 155, 69)","rgb(242, 193, 69)","rgb(125, 207, 123)","rgb(96, 223, 201)","rgb(69, 217, 242)","rgb(97, 165, 245)","rgb(209, 69, 242)","rgb(242, 69, 140)"],["rgb(25, 25, 25)","rgb(171, 12, 12)","rgb(171, 91, 12)","rgb(171, 125, 12)","rgb(56, 146, 53)","rgb(32, 158, 136)","rgb(12, 148, 171)","rgb(12, 97, 198)","rgb(140, 12, 171)","rgb(171, 12, 77)"],["rgb(0, 0, 0)","rgb(73, 5, 5)","rgb(73, 39, 5)","rgb(73, 54, 5)","rgb(24, 63, 23)","rgb(14, 68, 58)","rgb(5, 64, 73)","rgb(5, 42, 85)","rgb(60, 5, 73)","rgb(73, 5, 33)"]])}if(0==this.getData("ltPropStandardColorArray").length){this.setData("ltPropStandardColorArray",["rgb(192, 0, 0)","rgb(255, 0, 0)","rgb(255, 192, 0)","rgb(255, 255, 0)","rgb(146, 208, 80)","rgb(0, 176, 80)","rgb(0, 176, 240)","rgb(0, 112, 192)","rgb(0, 32, 96)","rgb(112, 48, 160)"])}for(var e=this.getData("ltPropColorFormats"),o=0;o<e.length;o++)e[o]=_lyteUiUtils.i18n(e[o])||e[o];this.setData("ltPropColorFormats",e);var r=[],a=this.getData("ltPropUsedColorsNumber");this.getData("ltPropUsedColorsList").length>0&&(r=this.getData("ltPropUsedColorsList").slice());for(o=r.length;o<a;o++)r.push("noColor");this.setData("ltPropUsedColorsList",r.slice(0,a))},didConnect:function(){var t=$L("colorpicker-ui",this.$node)[0];(t=t||this.childComp)&&(this.$node.selectColor=t.selectColor)},updateAccentColor:function(){var t=this.generateAccentColor();this.setData("availableColors",t)}.observes("ltPropAccentColor"),generateAccentColor:function(){var t=this.getData("ltPropAccentColor");if(t&&(!t||t.length)){var e,o=[];o.push([]),t.forEach((function(t){o[0].push(t.accentColor),e=t}));for(var r=t.length,a=e.colorTone.length+1,l=1;l<a;l++){o.push([]);for(var i=0;i<r;i++)o[l].push($L.colorManipulator(t[i].accentColor).findAccentColor(t[i].colorTone[l-1]))}return o}},showbasicColorpicker:function(){},showColorPicker:function(){if(this.getData("ltPropNoFillLabel")||this.setData("ltPropNoFillLabel",_lyteUiUtils.i18n("No.Fill")),this.getData("ltPropPaletteLabel")||this.setData("ltPropPaletteLabel",_lyteUiUtils.i18n("Theme.Colors")),this.getData("ltPropInline"))this.executeOnBeforeOpen(),this.$node.style.display="inline-block",this.setData("colorpicker",this.$node.querySelector("colorpicker-ui").component),this.getData("ltPropColorFormats").length>0&&this.setData("dropButtonValue",this.getData("ltPropColorFormats")[0]),this.getData("ltPropBasicColorPicker")?this.getData("colorpicker").initializeBasicColorPicker(event||window.event,this.$node):(this.getData("colorpicker").inputEle=this.getData("colorpicker").$node.querySelector("#lyteCPHiddenInput"),this.getData("colorpicker").initializeAdvColorPicker(event||window.event,this.$node)),this.executeOnOpen();else{var t=this.$node.querySelector(".popColorPicker");if(this.getData("ltPropShow")){this.getData("ltPropColorFormats").length>0&&this.setData("dropButtonValue",this.getData("ltPropColorFormats")[0]),t.ltProp("showCloseButton",!1),this.getData("ltPropBoundary")&&t.ltProp("boundary",this.getData("ltPropBoundary"));for(var e=Object.keys(this.getData("ltPropPopover")),o=0;o<e.length;o++)t.ltProp(e[o],this.getData("ltPropPopover")[e[o]]);t.ltProp({windowSpacing:{left:1,right:1,top:1,bottom:1},contentPadding:"0px",originElem:this.getData("ltPropOriginElement"),wrapperClass:this.getData("ltPropWrapperClass"),type:this.getData("ltPropAppearance"),duration:this.getData("ltPropDuration"),closeOnBodyClick:this.getData("ltPropCloseOnBodyClick"),freeze:this.getData("ltPropFreeze"),scrollable:this.getData("ltPropScrollable"),draggable:!1,show:!0}),this.executeOnBeforeOpen()}else t.ltProp&&t.ltProp("show",!1)}}.observes("ltPropShow","ltPropInline","ltPropBasicColorPicker").on("didConnect"),observeOpacityChanges:function(){var t=this.getData("colorpicker"),e=this.getData("ltPropOpacity");t&&e>=0&&e<=100&&(t.setData("opacity",e),t.__updateOpacityInForm())}.observes("ltPropOpacity"),executeOnBeforeOpen:function(){this.getMethods("onBeforeOpen")&&this.executeMethod("onBeforeOpen",this)},executeOnOpen:function(){this.getMethods("onOpen")&&this.executeMethod("onOpen",this)},executeOnCloseFn:function(t){this.getMethods("onClose")&&this.executeMethod("onClose",t,this)},executeOnCancel:function(t){this.getMethods("onCancelButton")&&this.executeMethod("onCancelButton",t,this)},didDestroy:function(){this.setData("colorpicker",null)},wrapperClass:function(){},methods:{colorHover:function(t,e,o){var r=e.dataset.col;if(this.getMethods("onColorHover")){if("themeColor"==o)var a=this.getData("availableColors")[0][r];this.executeMethod("onColorHover",t,e,o,a)}},cancelPopColorPicker:function(t){this.executeOnCancel(t)},closePopColorPicker:function(t){if(this.executeOnCloseFn(t),this.getData("moreColorOptionSelected")){var e=this;e.tId=setTimeout((function(){e.getData("colorpicker").setData("cpBasicColorPicker",!0),e.getData("colorpicker").setData("cpMoreColorOptionSelected",!1),e.tId=!1}),400)}var o=this.childComp.querySelector(".popoverWrapper");o&&o.classList.contains("lyteColorpickerVisible")&&o.classList.remove("lyteColorpickerVisible"),this.setData("ltPropShow",!1)},showColorPickerPopover:function(){this.childComp=this.$node.querySelector("lyte-popover").component.childComp;var t=this.childComp.querySelector(".popoverWrapper");t.classList.add("lyteColorpickerVisible"),this.setData("colorpicker",t.querySelector("colorpicker-ui").component),this.$node.selectColor||(this.$node.selectColor=t.querySelector("colorpicker-ui").selectColor),t.querySelector("lyte-popover-content").style.height="auto";var e=this.getData("colorpicker");if(this.getData("ltPropBasicColorPicker")?e.initializeBasicColorPicker(event,t):(e.inputEle=e.$node.querySelector("#lyteCPHiddenInput"),e.initializeAdvColorPicker(event,t)),this.getData("ltPropDraggable")){var o=t.querySelector(".lytePopover"),r=t.querySelector("lyte-popover-header")||t.querySelector("lyte-popover-content");o.id="draggableColor",r.id="draghandle",$L("#draggableColor").draggable({handle:["#draghandle"]})}this.$node.querySelector("lyte-popover").component.computeOffsetImpl(),this.executeOnOpen(),t=null},executeOnClose:function(t){this.executeOnCloseFn(t)},executeOnSelect:function(t,e,o){this.getMethods("onSelect")&&this.executeMethod("onSelect",t,this.getData("ltPropSelectedColor"),this),(this.getData("ltPropCloseOnSelection")&&this.getData("ltPropBasicColorPicker")||!0===e)&&!o&&this.setData("ltPropShow",!1)},executeOnChange:function(t){this.getMethods("onChange")&&this.executeMethod("onChange",t,this.getData("ltPropSelectedColor"),this)},executeOnBasicColorChange:function(t){this.getMethods("onBasicColorChange")&&this.executeMethod("onBasicColorChange",t,this.getData("ltPropSelectedColor"),this)},executeOnInputError:function(t){this.getMethods("onInputError")&&this.executeMethod("onInputError",t)}}}),document.addEventListener("click",(function(t){if(ColorPicker_EventUtil.__stopPropagation)ColorPicker_EventUtil.__stopPropagation=!1;else{for(var e=t.target;!e.classList.contains("lyteColorpickerVisible")&&"LYTE-DROP-BOX"!=e.tagName&&"HTML"!=e.tagName;)if(!(e=e.parentElement))return;if("HTML"==e.tagName){var o=document.querySelector(".lyteColorpickerVisible");o&&o.parentElement.parentElement._callee.parentElement.component.getData("ltPropCloseOnBodyClick")&&o.parentElement.parentElement._callee.parentElement.ltProp("show",!1)}}}),!0),Lyte.Component.registerHelper("lyteUiColorpickerAccentTooltip",(function(t,e){if(t)return 0==e?t.colorType:t.colorTone[e-1]?t.colorType+" - "+t.colorTone[e-1].toneType+" "+t.colorTone[e-1].tonePercent+"%":void 0}));
