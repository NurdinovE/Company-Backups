!function(){var e=Handlebars.template,a=Handlebars.templates=Handlebars.templates||{};a.centralNotificationMenu=e({1:function(e,a,n,t,l){return' <td class="notifyContain sel" id="#notifications" onclick="crmNTCGlobal.fetchGlobalNotifications(); crmNTCGlobal.tabAction(this);"><a class="setuplink">'+e.escapeExpression(n.getI18n.call(null!=a?a:{},"crm.ntc.label.listview.notificationHeading",{name:"getI18n",hash:{},data:l}))+' <span id="signals_count" class="notiNumCount" style="display:none"></span></a></td> '},3:function(e,a,n,t,l){return' <td class="notifyContain" id="#feeds" onclick="getUNSNotificationList(); crmNTCGlobal.tabAction(this);"><a class="setuplink">'+e.escapeExpression(n.getI18n.call(null!=a?a:{},"Feeds",{name:"getI18n",hash:{},data:l}))+' <span id="feeds_count" class="notiNumCount" style="display:none"></span></a></td> '},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){var i,s=null!=a?a:{};return'<div class="tabClass" id="nc-tabs-menu"> <table class="commentabmenu"> <tbody> <tr> '+(null!=(i=n.if.call(s,null!=a?a.ntc_enabled:a,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=n.if.call(s,null!=a?a.feeds_enabled:a,{name:"if",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l}))?i:"")+" </tr> </tbody> </table> </div> "},useData:!0}),a.centralNotifications=e({compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){var i;return'<div id="nc-tabs-container"> '+(null!=(i=e.invokePartial(t.centralNotificationMenu,a,{name:"centralNotificationMenu",data:l,helpers:n,partials:t,decorators:e.decorators}))?i:"")+' <div class="alignLeft pR notify-content w100_per"> <div id="notificationList" class="notificationFeedsEle"></div> </div> <div class="cBoth"></div> </div> <div id="GNCSettings" class="GNCSettings bg_white pA top0 right0" style="display:none;height:100%"></div> '},usePartial:!0,useData:!0}),a.cvNotificationShowMore=e({1:function(e,a,n,t,l){var i;return" "+(null!=(i=n.unless.call(null!=a?a:{},null!=a?a.global:a,{name:"unless",hash:{},fn:e.program(2,l,0),inverse:e.program(4,l,0),data:l}))?i:"")+" "},2:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.escapeExpression;return" <button onclick=\"crmNTC.fetchMoreModuleNotifications('"+o(n.encodeJS.call(s,null!=a?a.module:a,{name:"encodeJS",hash:{},data:l}))+"', '"+o(n.encodeJS.call(s,null!=(i=null!=a?a.info:a)?i.last_index:i,{name:"encodeJS",hash:{},data:l}))+'\')" class="newwhitebtn">'+o(n.getI18n.call(s,"crm.wf.summary.label.ShowInstantActions",{name:"getI18n",hash:{},data:l}))+"</button> "},4:function(e,a,n,t,l){return' <button onclick="crmNTCGlobal.fetchMoreGlobalNotifications()" class="newwhitebtn">'+e.escapeExpression(n.getI18n.call(null!=a?a:{},"crm.wf.summary.label.ShowInstantActions",{name:"getI18n",hash:{},data:l}))+"</button> "},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){var i;return" "+(null!=(i=n.if.call(null!=a?a:{},null!=(i=null!=a?a.info:a)?i.more_records:i,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")},useData:!0}),a.emptySignalNotification=e({1:function(e,a,n,t,l){return' <div class="ntc-notification-head" id="notifications"> <span class="setuplink"> SalesSignals <span id="signals_count" class="notiNumCount"></span> </span> <span onclick="SalesSignals.closeGlobalNotifications();" style="display:block;right: 16px;top: 15px;z-index:1;" class="svgIcons ico-close-small2 cP op8 pA"></span> </div> '},3:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.escapeExpression;return' <div class="p30 aligncenter fontsmooth"> <img class="signal-on-board-image mB20 mT60" src="'+o(n.getCrmImageUrl.call(s,"SalesSignals_Formation_opt_lightmode.gif",{name:"getCrmImageUrl",hash:{},data:l}))+'" data-image-mode="true"/> <h5 class="crm-font-bold crm-heading-font-size m0 mB18 signalTextClr aligncenter">'+o(n.getI18n.call(s,"crm.ntc.manage.title",{name:"getI18n",hash:{},data:l}))+'</h5> <p class="w90_per aligncenter m0Auto signal-on-board-text"> '+o(n.getI18n.call(s,"crm.ntc.txt.onboarding",{name:"getI18n",hash:{},data:l}))+' </p> <link-to lt-prop-route="crm.settings.section.sales-signals" lt-prop-custom> <a class="primarybtn mR0 mT25 dIB" data-zcqa="salesSignalsSettings" data-tooltip="'+o(n.getI18n.call(s,"crm.ntc.label.settings.notificationTitle",{name:"getI18n",hash:{},data:l}))+'" target="_blank" '+(null!=(i=n.isSignalIframeOpen.call(s,{name:"isSignalIframeOpen",hash:{},fn:e.program(4,l,0),inverse:e.noop,data:l}))?i:"")+"> "+o(n.getI18n.call(s,"crm.ntc.txt.configure",{name:"getI18n",hash:{},data:l}))+" </a> </link-to> </div>  "},4:function(e,a,n,t,l){return'href ="'+e.escapeExpression(n.getCrmBasePath.call(null!=a?a:{},{name:"getCrmBasePath",hash:{},data:l}))+'/settings/sales-signals"'},6:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.escapeExpression;return' <div class="p30 aligncenter fontsmooth mT30"> <img class="signal-on-board-image mB20 mT60" src="'+o(n.getCrmImageUrl.call(s,"SalesSignals_Formation_opt_lightmode.gif",{name:"getCrmImageUrl",hash:{},data:l}))+'" data-image-mode="true"/> <p class="w90_per aligncenter m0Auto signal-on-board-text">'+o(n.getI18n.call(s,"crm.ntc.txt.nosignals",{name:"getI18n",hash:{},data:l}))+'</p> <div> <div id="notifySett" class="'+(null!=(i=n.isSignalIframeOpen.call(s,{name:"isSignalIframeOpen",hash:{},fn:e.program(7,l,0),inverse:e.program(9,l,0),data:l}))?i:"")+'"> <div class="dF aiCenter lyteTabAlignEnd"> <link-to lt-prop-route="crm.settings.section.sales-signals" lt-prop-custom> <a class="ntc-settingIcon mR10 pR10 cP" data-zcqa="salesSignalsSettings" data-tooltip="'+o(n.getI18n.call(s,"crm.ntc.label.settings.notificationTitle",{name:"getI18n",hash:{},data:l}))+'" target="_blank" '+(null!=(i=n.isSignalIframeOpen.call(s,{name:"isSignalIframeOpen",hash:{},fn:e.program(4,l,0),inverse:e.noop,data:l}))?i:"")+">"+o(n.getI18n.call(s,"crm.label.settings",{name:"getI18n",hash:{},data:l}))+'</a> </link-to> <a class="ntc-help" data-zcqa="salesSignalsHelp" lt-prop-title="'+o(n.getI18n.call(s,"crm.label.context.help",{name:"getI18n",hash:{},data:l}))+'" lt-prop-tooltip-config=\'{"position":"top"}\' onclick="openHelp(\'openHelp(\''+(null!=(i=n.isSignalIframeOpen.call(s,{name:"isSignalIframeOpen",hash:{},fn:e.program(11,l,0),inverse:e.program(13,l,0),data:l}))?i:"")+'\')\')" href="javascript:;"><crmutil-icon icon-name="help-square" icon-class="zcicn-help-square  crmBaseIcon "></crmutil-icon></a> </div> </div> '},7:function(e,a,n,t,l){return"emptySignalBtmIframe"},9:function(e,a,n,t,l){return"emptySignalBtm"},11:function(e,a,n,t,l){return e.escapeExpression(n.getHelpUrlForSignalsIFrame.call(null!=a?a:{},"help.salesSignals",{name:"getHelpUrlForSignalsIFrame",hash:{},data:l}))},13:function(e,a,n,t,l){return e.escapeExpression(n.getHelpUrl.call(null!=a?a:{},"help.salesSignals",{name:"getHelpUrl",hash:{},data:l}))},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){var i,s=null!=a?a:{};return" "+(null!=(i=n.isSignalIframeOpen.call(s,{name:"isSignalIframeOpen",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=n.ifNoSignals.call(s,{name:"ifNoSignals",hash:{},fn:e.program(3,l,0),inverse:e.program(6,l,0),data:l}))?i:"")},useData:!0}),a.globalSignal=e({1:function(e,a,n,t,l){return' <div class="ntc-notification-head" id="notifications"> <span class="setuplink"> SalesSignals <span id="signals_count" class="notiNumCount"></span> </span> <span onclick="SalesSignals.closeGlobalNotifications();" style="display:block;right: 16px;top: 15px;z-index:1;" class="svgIcons ico-close-small2 cP op8 pA"></span> </div> '},3:function(e,a,n,t,l){return"SalesSignals.globalNotificationScroll();"},5:function(e,a,n,t,l){return"crmNTCGlobal.globalNotificationScroll();"},7:function(e,a,n,t,l){return"globalSignalBtmIframe"},9:function(e,a,n,t,l){return"globalSignalBtmDiv"},11:function(e,a,n,t,l){return'href ="'+e.escapeExpression(n.getCrmBasePath.call(null!=a?a:{},{name:"getCrmBasePath",hash:{},data:l}))+'/settings/sales-signals"'},13:function(e,a,n,t,l){return e.escapeExpression(n.getHelpUrlForSignalsIFrame.call(null!=a?a:{},"help.salesSignals",{name:"getHelpUrlForSignalsIFrame",hash:{},data:l}))},15:function(e,a,n,t,l){return e.escapeExpression(n.getHelpUrl.call(null!=a?a:{},"help.salesSignals",{name:"getHelpUrl",hash:{},data:l}))},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.escapeExpression;return" "+(null!=(i=n.isSignalIframeOpen.call(s,{name:"isSignalIframeOpen",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+' <div id="notificationGrpList" class="pR oH" onscroll="'+(null!=(i=n.isSignalIframeOpen.call(s,{name:"isSignalIframeOpen",hash:{},fn:e.program(3,l,0),inverse:e.program(5,l,0),data:l}))?i:"")+'"> <ul id="notificationGroupList" class="m0 p0 oH" style="height:auto !important;"> '+(null!=(i=e.invokePartial(t.notificationGroups,a,{name:"notificationGroups",data:l,helpers:n,partials:t,decorators:e.decorators}))?i:"")+' </ul> <div id="globalNotificationShowMore" class="aligncenter mT30"> '+(null!=(i=e.invokePartial(t.cvNotificationShowMore,a,{name:"cvNotificationShowMore",data:l,helpers:n,partials:t,decorators:e.decorators}))?i:"")+' </div> </div> <div id="notifySett" class="'+(null!=(i=n.isSignalIframeOpen.call(s,{name:"isSignalIframeOpen",hash:{},fn:e.program(7,l,0),inverse:e.program(9,l,0),data:l}))?i:"")+'"> <a class="ntc-deactive-link" data-zcqa="markAllSignalAsRead" onclick="crmNTCGlobal.markAllAsRead();" href="javascript:;">'+o(n.getI18n.call(s,"crm.ntc.label.mark.all.as.read",{name:"getI18n",hash:{},data:l}))+'</a> <div class="dF aiCenter"> <link-to lt-prop-route="crm.settings.section.sales-signals" lt-prop-custom> <a class="ntc-settingIcon mR10 pR10 cP" data-zcqa="salesSignalsSettings" data-tooltip="'+o(n.getI18n.call(s,"crm.ntc.label.settings.notificationTitle",{name:"getI18n",hash:{},data:l}))+'" target="_blank" '+(null!=(i=n.isSignalIframeOpen.call(s,{name:"isSignalIframeOpen",hash:{},fn:e.program(11,l,0),inverse:e.noop,data:l}))?i:"")+">"+o(n.getI18n.call(s,"crm.label.settings",{name:"getI18n",hash:{},data:l}))+'</a> </link-to> <a class="ntc-help" data-zcqa="salesSignalsHelp" lt-prop-title="'+o(n.getI18n.call(s,"crm.label.context.help",{name:"getI18n",hash:{},data:l}))+'" lt-prop-tooltip-config=\'{"position":"top"}\' onclick="openHelp(\''+(null!=(i=n.isSignalIframeOpen.call(s,{name:"isSignalIframeOpen",hash:{},fn:e.program(13,l,0),inverse:e.program(15,l,0),data:l}))?i:"")+'\')" href="javascript:;"> <crmutil-icon icon-name="help-square" icon-class="zcicn-help-square  crmBaseIcon "></crmutil-icon> </a> </div> </div> <div id="signalWidget"></div> '},usePartial:!0,useData:!0}),a.notificationGroup=e({1:function(e,a,n,t,l){return" "},3:function(e,a,n,t,l){return"ntc-unread"},5:function(e,a,n,t,l){return"true"},7:function(e,a,n,t,l){var i;return',"photoFileId":"'+e.escapeExpression(e.lambda(null!=(i=null!=a?a.record:a)?i.photoFileId:i,a))+'"'},9:function(e,a,n,t,l){var i;return', "COMPANY": "'+e.escapeExpression(e.lambda(null!=(i=null!=a?a.record:a)?i.company:i,a))+'"'},11:function(e,a,n,t,l){var i,s=e.lambda,o=e.escapeExpression;return', "ACCOUNTID": "'+o(s(null!=(i=null!=(i=null!=a?a.record:a)?i.account:i)?i.id:i,a))+'", "ACCOUNTNAME": "'+o(s(null!=(i=null!=(i=null!=a?a.record:a)?i.account:i)?i.name:i,a))+'"'},13:function(e,a,n,t,l){return" ntc-visited "},15:function(e,a,n,t,l){return" crmNTCDetailView.showFullDetailView(this);crmNTC.showFullNotifications(this); "},17:function(e,a,n,t,l){return" crmNTC.showFullNotifications(this); crmNTCDetailView.showFullDetailView(this) "},19:function(e,a,n,t,l){var i,s=null!=a?a:{};return' <div class="ntc-pic pR '+(null!=(i=n.ifEntityOnline.call(s,null!=(i=null!=a?a.module:a)?i.api_name:i,null!=(i=null!=a?a.record:a)?i.id:i,{name:"ifEntityOnline",hash:{},fn:e.program(20,l,0),inverse:e.noop,data:l}))?i:"")+'"> <img class="ntc-propic" src="'+e.escapeExpression(n.getRelDetailsImgUrl.call(s,null!=(i=null!=a?a.module:a)?i.api_name:i,null!=(i=null!=a?a.record:a)?i.id:i,null!=(i=null!=a?a.record:a)?i.photoFileId:i,{name:"getRelDetailsImgUrl",hash:{},data:l}))+'" ></img></div> '},20:function(e,a,n,t,l){return"ntc-online"},22:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.escapeExpression;return' <div class="ntc-pic pR ntc-emtpic '+(null!=(i=n.ifEntityOnline.call(s,null!=(i=null!=a?a.module:a)?i.api_name:i,null!=(i=null!=a?a.record:a)?i.id:i,{name:"ifEntityOnline",hash:{},fn:e.program(20,l,0),inverse:e.noop,data:l}))?i:"")+'" style="background-position: '+o(n.getRandomGradient.call(s,{name:"getRandomGradient",hash:{},data:l}))+';">'+o(n.getFirstChar.call(s,null!=(i=null!=a?a.record:a)?i.name:i,{name:"getFirstChar",hash:{},data:l}))+"</div> "},24:function(e,a,n,t,l){return" has-account "},26:function(e,a,n,t,l){var i;return' <lyte-text lt-prop-value="'+e.escapeExpression(e.lambda(null!=(i=null!=a?a.record:a)?i.name:i,a))+'"></lyte-text> '},28:function(e,a,n,t,l){var i;return' <lyte-text lt-prop-value="Deleted '+e.escapeExpression(e.lambda(null!=(i=null!=a?a.module:a)?i.api_name:i,a))+'"></lyte-text> '},30:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.escapeExpression;return' <span class="ntc-chat-now pR" onclick="crmNTCGlobal.startChat(\''+o(n.encodeJS.call(s,null!=(i=null!=a?a.module:a)?i.api_name:i,{name:"encodeJS",hash:{},data:l}))+"','"+o(n.encodeJS.call(s,null!=(i=null!=a?a.record:a)?i.id:i,{name:"encodeJS",hash:{},data:l}))+'\')"> <span class="onlineAvail ico-chat-green-filled svgIcons top0 vaM"></span> <span class="crm-base-font-size pR mL3">Chat Now</span> </span> '},32:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.escapeExpression;return' <span class="ntc-chat-now pR dN" onclick="crmNTCGlobal.startChat(\''+o(n.encodeJS.call(s,null!=(i=null!=a?a.module:a)?i.api_name:i,{name:"encodeJS",hash:{},data:l}))+"','"+o(n.encodeJS.call(s,null!=(i=null!=a?a.record:a)?i.id:i,{name:"encodeJS",hash:{},data:l}))+'\')"> <span class="onlineAvail ico-chat-green-filled svgIcons top0 vaM"></span> <span class="crm-base-font-size pR mL3">Chat Now</span> </span> '},34:function(e,a,n,t,l){return' <span class="ntc-chat-now compAlertnotify fR">'+e.escapeExpression(n.getI18n.call(null!=a?a:{},"zoho.email.incoming.competitors",{name:"getI18n",hash:{},data:l}))+"</span> "},36:function(e,a,n,t,l){return" <div lt-prop-title = '"+e.escapeExpression(n.getI18n.call(null!=a?a:{},"crm.zia.email.selfmarketing2.signals.hover",{name:"getI18n",hash:{},data:l}))+'\' onclick="crmNTCGlobal.emailsAISelfMarketing()" class="br50per cP crm-signal-zia-icon flexAlignCenter h32 jcCenter w32 vH pA right0"> <span class="zcicncss-zialogo zcicn-cssIcons zcicn_white_mask"></span> </div> '},38:function(e,a,n,t,l){var i;return" "+e.escapeExpression(e.lambda(null!=(i=null!=a?a.record:a)?i.company:i,a))+" "},40:function(e,a,n,t,l){var i;return" "+e.escapeExpression(e.lambda(null!=(i=null!=(i=null!=a?a.record:a)?i.account:i)?i.name:i,a))+" "},42:function(e,a,n,t,l,i,s){var o;return" "+(null!=(o=n.renderSingleNotification.call(null!=a?a:{},l&&l.index,a,null!=(o=null!=s[1]?s[1].module:s[1])?o.apiname:o,null!=(o=null!=s[1]?s[1].record:s[1])?o.id:o,{name:"renderSingleNotification",hash:{},data:l}))?o:"")+" "},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l,i,s){var o,r=null!=a?a:{},c=e.lambda,d=e.escapeExpression;return' <li class="pL0 pB0 positionRelative ntc-entity-group '+(null!=(o=n.noUnreadNotification.call(r,null!=a?a.notifications:a,{name:"noUnreadNotification",hash:{},fn:e.program(1,l,0,i,s),inverse:e.program(3,l,0,i,s),data:l}))?o:"")+'" data-ntc-isRead="'+(null!=(o=n.noUnreadNotification.call(r,null!=a?a.notifications:a,{name:"noUnreadNotification",hash:{},fn:e.program(5,l,0,i,s),inverse:e.noop,data:l}))?o:"")+"\" data-ntc-entityId='"+d(c(null!=(o=null!=a?a.record:a)?o.id:o,a))+'\' data-ntc-entityObj=\'{"entityId": "'+d(c(null!=(o=null!=a?a.record:a)?o.id:o,a))+'","is_appointment_enabled": "'+d(c(null!=(o=null!=a?a.module:a)?o.is_appointment_enabled:o,a))+'","entityEmail": "'+d(c(null!=(o=null!=a?a.record:a)?o.email:o,a))+'"'+(null!=(o=n.ifAllTruthy.call(r,null!=(o=null!=a?a.record:a)?o.photoFileId:o,{name:"ifAllTruthy",hash:{},fn:e.program(7,l,0,i,s),inverse:e.noop,data:l}))?o:"")+',"entitySecondaryEmail":"'+d(c(null!=(o=null!=a?a.record:a)?o.secondary_email:o,a))+'", "assosciatedModuleName": "'+d(c(null!=(o=null!=a?a.record:a)?o.assosciated_module:o,a))+'", "moduleSysRefName": "'+d(c(null!=(o=null!=a?a.module:a)?o.sys_ref_name:o,a))+'","module": "'+d(c(null!=(o=null!=a?a.module:a)?o.api_name:o,a))+'","fullName": "'+d(n.getEncodedName.call(r,null!=(o=null!=a?a.record:a)?o.name:o,{name:"getEncodedName",hash:{},data:l}))+'", "phoneNum": "'+d(c(null!=(o=null!=a?a.record:a)?o.phoneNum:o,a))+'" '+(null!=(o=n.ifEquals.call(r,null!=(o=null!=a?a.module:a)?o.api_name:o,"Leads",{name:"ifEquals",hash:{},fn:e.program(9,l,0,i,s),inverse:e.noop,data:l}))?o:"")+(null!=(o=n.ifEquals.call(r,null!=a?a.module:a,"Contacts",{name:"ifEquals",hash:{},fn:e.program(11,l,0,i,s),inverse:e.noop,data:l}))?o:"")+' }\'> <span class="left-Arrow-ntc" style="display:none"></span> <div class="notificationgrpListRow '+(null!=(o=n.noUnreadNotification.call(r,null!=a?a.notifications:a,{name:"noUnreadNotification",hash:{},fn:e.program(13,l,0,i,s),inverse:e.noop,data:l}))?o:"")+' " onclick="'+(null!=(o=n.isSignalIframeOpen.call(r,{name:"isSignalIframeOpen",hash:{},fn:e.program(15,l,0,i,s),inverse:e.program(17,l,0,i,s),data:l}))?o:"")+'"> <table> <tbody> <tr> <td rowspan="2" width="30" class="vaT"> '+(null!=(o=n.ifAllTruthy.call(r,null!=(o=null!=a?a.module:a)?o.api_name:o,null!=(o=null!=a?a.record:a)?o.photoFileId:o,{name:"ifAllTruthy",hash:{},fn:e.program(19,l,0,i,s),inverse:e.program(22,l,0,i,s),data:l}))?o:"")+' </td> <td class="pL10 pR '+(null!=(o=n.isNotValidAccount.call(r,null!=(o=null!=a?a.module:a)?o.api_name:o,null!=(o=null!=a?a.record:a)?o.company:o,null!=(o=null!=(o=null!=a?a.record:a)?o.account:o)?o.name:o,{name:"isNotValidAccount",hash:{},fn:e.program(24,l,0,i,s),inverse:e.noop,data:l}))?o:"")+'"> <div class="crm-base-font-size ntc-noti-head mB5">  <span class="signalModules mR10">'+d(n.getModuleSingularLabel.call(r,null!=(o=null!=a?a.module:a)?o.api_name:o,{name:"getModuleSingularLabel",hash:{},data:l}))+'</span> <a href="'+d(n.getEntityUrl.call(r,null!=(o=null!=a?a.record:a)?o.id:o,null!=(o=null!=a?a.module:a)?o.api_name:o,{name:"getEntityUrl",hash:{},data:l}))+'" class="ntc-name-ellipsis" target="_blank"> '+(null!=(o=n.if.call(r,null!=(o=null!=a?a.record:a)?o.name:o,{name:"if",hash:{},fn:e.program(26,l,0,i,s),inverse:e.program(28,l,0,i,s),data:l}))?o:"")+" </a> "+(null!=(o=n.ifEntityOnline.call(r,null!=(o=null!=a?a.module:a)?o.api_name:o,null!=(o=null!=a?a.record:a)?o.id:o,{name:"ifEntityOnline",hash:{},fn:e.program(30,l,0,i,s),inverse:e.program(32,l,0,i,s),data:l}))?o:"")+" "+(null!=(o=n.showCompetitorAlertTag.call(r,null!=a?a.notifications:a,{name:"showCompetitorAlertTag",hash:{},fn:e.program(34,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "+(null!=(o=n.isSelfMarketingAvailable.call(r,null!=a?a.notifications:a,{name:"isSelfMarketingAvailable",hash:{},fn:e.program(36,l,0,i,s),inverse:e.noop,data:l}))?o:"")+' </div> <div class="crm-small-font-size signalTextClr mT5"> '+(null!=(o=n.ifEquals.call(r,null!=(o=null!=a?a.module:a)?o.api_name:o,"Leads",{name:"ifEquals",hash:{},fn:e.program(38,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "+(null!=(o=n.ifEquals.call(r,null!=(o=null!=a?a.module:a)?o.api_name:o,"Contacts",{name:"ifEquals",hash:{},fn:e.program(40,l,0,i,s),inverse:e.noop,data:l}))?o:"")+' </div> <div class="notifyBodyEle pT12">  '+(null!=(o=n.renderFirstNotification.call(r,null!=a?a.notifications:a,null!=(o=null!=a?a.module:a)?o.api_name:o,null!=(o=null!=a?a.record:a)?o.id:o,{name:"renderFirstNotification",hash:{},data:l}))?o:"")+'   <div class="innerNotify fs min-innerNotify" style="display:none"> <ul width="100%" class="pL0 m0">  '+(null!=(o=n.each.call(r,null!=a?a.notifications:a,{name:"each",hash:{},fn:e.program(42,l,0,i,s),inverse:e.noop,data:l}))?o:"")+' </ul> </div>  </div> </td>  </tr> </tbody> </table> </div> <div style="clear:both"></div> </li> '},useData:!0,useDepths:!0}),a.notificationGroups=e({1:function(e,a,n,t,l){var i;return" "+(null!=(i=e.invokePartial(t.notificationGroup,a,{name:"notificationGroup",data:l,helpers:n,partials:t,decorators:e.decorators}))?i:"")+" "},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){var i;return null!=(i=n.each.call(null!=a?a:{},null!=a?a.group_notifications:a,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:""},usePartial:!0,useData:!0}),a.ntcDetailView=e({1:function(e,a,n,t,l,i,s){var o,r=null!=a?a:{},c=e.escapeExpression,d=e.lambda;return' <a class="'+c(n.getNTCIconClass.call(r,a,{name:"getNTCIconClass",hash:{},data:l}))+" "+(null!=(o=n.if_eq.call(r,l&&l.index,0,{name:"if_eq",hash:{},fn:e.program(2,l,0,i,s),inverse:e.noop,data:l}))?o:"")+'" id="ntcDVIcon-'+c(d(null!=a?a.NOTIFICATIONID:a,a))+'" onclick="crmNTCDetailView.scrollToNtcFrame(\''+c(d(null!=a?a.NOTIFICATIONID:a,a))+'\')" data-ntc-object="'+c(n.JSONtoString.call(r,a,{name:"JSONtoString",hash:{},data:l}))+'" data-entity-object="'+c(n.JSONtoString.call(r,null!=s[1]?s[1].entityObj:s[1],{name:"JSONtoString",hash:{},data:l}))+'"> '+c(n.getNTCTypeText.call(r,null!=a?a.CATEGORY:a,null!=a?a.SIGNALHEADING:a,{name:"getNTCTypeText",hash:{},data:l}))+" </a> "},2:function(e,a,n,t,l){return" nc-active "},4:function(e,a,n,t,l){var i=e.escapeExpression;return' <div id="ntc-detailViewContent-'+i(e.lambda(null!=a?a.NOTIFICATIONID:a,a))+'" class="ntc-detailv-content pR"> <div class="ntc-busyBtn" style="display: block;"><img src="'+i(n.getCrmImageUrl.call(null!=a?a:{},"moreloading1_lightmode.gif",{name:"getCrmImageUrl",hash:{},data:l}))+'" class="w16 h16" data-image-mode="true"></div> <div class="ntc-emptyDiv" id="ntcEmptyDiv" style="display: none;"></div> </div> '},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l,i,s){var o,r=null!=a?a:{};return' <div class="signalPopContent pR"> '+(null!=(o=e.invokePartial(t.ntcBusinessCard,null!=a?a.entityObj:a,{name:"ntcBusinessCard",data:l,helpers:n,partials:t,decorators:e.decorators}))?o:"")+' <div class="ntc-ico-sidebar" id="ntcIcoSidebar"> <span class="ntc-slide-nav ntc-slide-lt cP" data-slide="left" onclick="crmNTCDetailView.navigateNotificationMenu(this)"> <span class="svgIconsImg ntc-slide-left cP">&laquo;</span> </span> <div class="ntc-ico-sidebar-wrap" id="ntcIcoSidebarWrap"> <div class="ntc-ico-sidebar-inner" id="ntcIcoSidebarInner" style="width:1000px;"> '+(null!=(o=n.each.call(r,null!=a?a.notificationObjs:a,{name:"each",hash:{},fn:e.program(1,l,0,i,s),inverse:e.noop,data:l}))?o:"")+' </div> </div> <span class="ntc-slide-nav ntc-slide-rt cP" data-slide="right" onclick="crmNTCDetailView.navigateNotificationMenu(this)"> <span class="svgIconsImg ntc-slide-right cP">&raquo;</span> </span> </div> <div class="ntc-div-content pR" id="ntcDivContent"> <div id="ntcInnerDivContent"> <div> '+(null!=(o=n.each.call(r,null!=a?a.notificationObjs:a,{name:"each",hash:{},fn:e.program(4,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" </div> </div> </div>  </div>"},usePartial:!0,useData:!0,useDepths:!0}),a.ntcSupportSettings=e({compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){var i,s=null!=a?a:{};return'<tr> <td> <div class="groupItems dIB"> '+(null!=(i=n.renderNTCTopLevelSettings.call(s,"Zoho Support","Support","NTC_support_setting","",null!=(i=null!=a?a.configured_integrations:a)?i.zoho_support:i,null!=a?a.enabled_notifications:a,"[16,17,18,19,21,23,24,25,26,27,28,30,31,32,33]",{name:"renderNTCTopLevelSettings",hash:{},data:l}))?i:"")+' <div class="dIB fL NCSubOption"> <ul id="ncSupportSettings"> '+(null!=(i=n.renderNTCSecondaryLevelSettings.call(s,"NTC_support_setting","new_ticket","crm.ntc.label.settings.support.newTicket",'["Leads", "Contacts", "crm.ntc.label.settings.potentialCustomer", "crm.ntc.label.settings.customer"]',"[16,17,18,19]",null!=(i=null!=a?a.configured_integrations:a)?i.zoho_support:i,null!=a?a.enabled_notifications:a,{name:"renderNTCSecondaryLevelSettings",hash:{},data:l}))?i:"")+" "+(null!=(i=n.renderNTCSecondaryLevelSettings.call(s,"NTC_support_setting","new_comment","crm.ntc.label.settings.support.newComment",'["Leads", "Contacts", "crm.ntc.label.settings.potentialCustomer", "crm.ntc.label.settings.customer"]',"[25,26,27,28]",null!=(i=null!=a?a.configured_integrations:a)?i.zoho_support:i,null!=a?a.enabled_notifications:a,{name:"renderNTCSecondaryLevelSettings",hash:{},data:l}))?i:"")+" "+(null!=(i=n.renderNTCSecondaryLevelSettings.call(s,"NTC_support_setting","new_response","crm.ntc.label.settings.support.newResponse",'["Leads", "Contacts", "crm.ntc.label.settings.potentialCustomer", "crm.ntc.label.settings.customer"]',"[30,31,32,33]",null!=(i=null!=a?a.configured_integrations:a)?i.zoho_support:i,null!=a?a.enabled_notifications:a,{name:"renderNTCSecondaryLevelSettings",hash:{},data:l}))?i:"")+" "+(null!=(i=n.renderNTCSubSetting.call(s,"NTC_support_setting","ticket_overdue","crm.ntc.label.settings.support.ticketOverdue",23,null!=(i=null!=a?a.configured_integrations:a)?i.zoho_support:i,null!=a?a.enabled_notifications:a,{name:"renderNTCSubSetting",hash:{},data:l}))?i:"")+" "+(null!=(i=n.renderNTCSubSetting.call(s,"NTC_support_setting","ticket_escalated","crm.ntc.label.settings.support.ticketEscalated",24,null!=(i=null!=a?a.configured_integrations:a)?i.zoho_support:i,null!=a?a.enabled_notifications:a,{name:"renderNTCSubSetting",hash:{},data:l}))?i:"")+" "+(null!=(i=n.renderNTCSubSetting.call(s,"NTC_support_setting","new_rating","crm.ntc.label.settings.support.newRating",21,null!=(i=null!=a?a.configured_integrations:a)?i.zoho_support:i,null!=a?a.enabled_notifications:a,{name:"renderNTCSubSetting",hash:{},data:l}))?i:"")+' </ul> </div> <span class="cBoth"></span> </div> </td> </tr> '},useData:!0}),a.signalBusinessCard=e({1:function(e,a,n,t,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <div id="ntcBusinessCard'+o(s(null!=(i=null!=a?a.entityObj:a)?i.entityId:i,a))+'"> <div class="ntc-bc-header pR"> <div class="aligncenter pT20 pR20 pB0 pL20 pR">  <span class="ntc-photo dIB cDefault"> '+(null!=(i=n.ifAllTruthy.call(r,null!=(i=null!=a?a.entityObj:a)?i.module:i,null!=(i=null!=a?a.entityObj:a)?i.entityId:i,null!=(i=null!=a?a.entityObj:a)?i.photoFileId:i,{name:"ifAllTruthy",hash:{},fn:e.program(2,l,0),inverse:e.program(5,l,0),data:l}))?i:"")+' </span> <div class="dvTitle pT15 mB10 cP"> <a href="'+o(n.getEntityUrl.call(r,null!=(i=null!=a?a.entityObj:a)?i.entityId:i,null!=(i=null!=a?a.entityObj:a)?i.module:i,{name:"getEntityUrl",hash:{},data:l}))+'" target="_blank" class="crm-medium-large-font-size crm-font-bold signalTextClr">'+o(s(null!=(i=null!=a?a.entityObj:a)?i.fullName:i,a))+'</a> </div> <div class="crm-base-font-size nc-bc-company w100_per"> '+(null!=(i=n.ifEquals.call(r,null!=a?a.module:a,"Leads",{name:"ifEquals",hash:{},fn:e.program(7,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=n.ifEquals.call(r,null!=a?a.module:a,"Contacts",{name:"ifEquals",hash:{},fn:e.program(9,l,0),inverse:e.noop,data:l}))?i:"")+' </div> <span class="signalModules mT5">'+o(n.getModuleSingularLabelForIFrame.call(r,null!=(i=null!=a?a.entityObj:a)?i.module:i,{name:"getModuleSingularLabelForIFrame",hash:{},data:l}))+'</span> <div class="ntc-bc-contact crm-base-font-size"> '+(null!=(i=n.ifEntityOnline.call(r,null!=a?a.module:a,null!=a?a.entityId:a,{name:"ifEntityOnline",hash:{},fn:e.program(11,l,0),inverse:e.program(13,l,0),data:l}))?i:"")+" "+(null!=(i=n.isNotEmpty.call(r,null!=(i=null!=a?a.entityObj:a)?i.phoneNum:i,{name:"isNotEmpty",hash:{},fn:e.program(15,l,0),inverse:e.program(17,l,0),data:l}))?i:"")+" "+(null!=(i=n.isSendMailPermissionAvailable.call(r,null!=a?a.module:a,{name:"isSendMailPermissionAvailable",hash:{},fn:e.program(19,l,0),inverse:e.noop,data:l}))?i:"")+' </div> <div class="ntc-bc-activity" onclick="crmNTCDetailView.showSignalActivityDiv(this); sE(event)"><crmutil-icon icon-name="plus" icon-class="zcicn-plus iconWhite zcicn12"></crmutil-icon></div> <div id="signalsActivityDiv" class="eventActionsMenu wsNowrap" style="display:none; z-index: 300;position: absolute;" data-options="ACTIVITYPERSONALITY" onclick="sE(event)"> <span class="dummyForLeftPanel createlink readOnlyMode" onclick="crmNTC.quickCreate(\'NewTask\', \'salessignals\', \''+o(s(null!=(i=null!=a?a.entityObj:a)?i.module:i,a))+"', '"+o(s(null!=(i=null!=a?a.entityObj:a)?i.entityId:i,a))+"',event,this);\">"+o(n.getI18n.call(r,"crm.label.newTask",{name:"getI18n",hash:{},data:l}))+"</span> <span class=\"dummyForLeftPanel createlink readOnlyMode\" onclick=\"crmNTC.quickCreate('NewEvent', 'salessignals', '"+o(s(null!=(i=null!=a?a.entityObj:a)?i.module:i,a))+"', '"+o(s(null!=(i=null!=a?a.entityObj:a)?i.entityId:i,a))+"',event,this)\">"+o(n.getI18n.call(r,"crm.label.newEvent",n.getModuleDisplayName.call(r,!0,!0,{name:"getModuleDisplayName",hash:{},data:l}),{name:"getI18n",hash:{},data:l}))+"</span> <span class=\"dummyForLeftPanel createlink readOnlyMode\" onclick=\"crmNTC.quickCreate('NewCall', 'salessignals', '"+o(s(null!=(i=null!=a?a.entityObj:a)?i.module:i,a))+"', '"+o(s(null!=(i=null!=a?a.entityObj:a)?i.entityId:i,a))+"',event,this)\">"+o(n.getI18n.call(r,"crm.label.newCall",{name:"getI18n",hash:{},data:l}))+'</span> </div> <input type="hidden" id="ss_module" name="module" value="'+o(s(null!=(i=null!=a?a.entityObj:a)?i.module:i,a))+'"> <input type="hidden" id="ss_entityId" name="entityId" value="'+o(s(null!=(i=null!=a?a.entityObj:a)?i.entityId:i,a))+'"> <input type="hidden" id="ss_entityName" name="entityName" value="'+o(s(null!=(i=null!=a?a.entityObj:a)?i.fullName:i,a))+'"> </div> </div> <div class="ntcBcContent ntc-bc-content pR pT20 pR20 pB20 pL30 mT15 boxBB" id="ntcBcContent"> <div class="ntc-busyBtn" style="display: block;"> <span class="dIB ntc-loader"></span> </div> </div> </div> '},2:function(e,a,n,t,l){var i,s=null!=a?a:{};return' <div class="ntc-pic pR '+(null!=(i=n.ifEntityOnline.call(s,null!=(i=null!=a?a.entityObj:a)?i.module:i,null!=(i=null!=a?a.entityObj:a)?i.entityId:i,{name:"ifEntityOnline",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l}))?i:"")+'"> <img class="ntc-propic" src="'+e.escapeExpression(n.getRelDetailsImgUrl.call(s,null!=(i=null!=a?a.entityObj:a)?i.module:i,null!=(i=null!=a?a.entityObj:a)?i.entityId:i,null!=(i=null!=a?a.entityObj:a)?i.photoFileId:i,{name:"getRelDetailsImgUrl",hash:{},data:l}))+'" ></img> </div> '},3:function(e,a,n,t,l){return"ntc-online"},5:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.escapeExpression;return' <div class="ntc-pic ntc-emtpic pR '+(null!=(i=n.ifEntityOnline.call(s,null!=(i=null!=a?a.entityObj:a)?i.module:i,null!=(i=null!=a?a.entityObj:a)?i.entityId:i,{name:"ifEntityOnline",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l}))?i:"")+'" style="background-position: '+o(n.getRandomGradient.call(s,{name:"getRandomGradient",hash:{},data:l}))+';">'+o(n.getFirstChar.call(s,null!=(i=null!=a?a.entityObj:a)?i.fullName:i,{name:"getFirstChar",hash:{},data:l}))+" </div> "},7:function(e,a,n,t,l){var i;return" <span>"+e.escapeExpression(e.lambda(null!=(i=null!=a?a.entityObj:a)?i.COMPANY:i,a))+"</span> "},9:function(e,a,n,t,l){var i=e.escapeExpression;return' <a  href="'+i(n.getEntityUrl.call(null!=a?a:{},null!=a?a.ACCOUNTID:a,"Accounts",{name:"getEntityUrl",hash:{},data:l}))+'" target="_blank">'+i(e.lambda(null!=a?a.ACCOUNTNAME:a,a))+"</a> "},11:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.escapeExpression;return" <a target='_blank' class=\"ntc-bc-ct active readOnlyMode\" href='"+o(n.getChatLink.call(s,null!=(i=null!=a?a.entityObj:a)?i.module:i,null!=(i=null!=a?a.entityObj:a)?i.entityId:i,{name:"getChatLink",hash:{},data:l}))+'\'><crmutil-icon icon-name="chat-curved" icon-class="zcicn-chat-curved zcicn14 mR5"></crmutil-icon>'+o(n.getI18n.call(s,"Chat",{name:"getI18n",hash:{},data:l}))+"</a> "},13:function(e,a,n,t,l){var i=null!=a?a:{},s=e.escapeExpression;return' <span class="ntc-bc-ct" onmouseover="renderingUtils.zctt.showtt(\''+s(n.getI18n.call(i,"crm.chat.offline",{name:"getI18n",hash:{},data:l}))+'\')" onmouseout="renderingUtils.zctt.hidett()"><crmutil-icon icon-name="chat-curved" icon-class="zcicn-chat-curved zcicn14 mR5"></crmutil-icon>'+s(n.getI18n.call(i,"Chat",{name:"getI18n",hash:{},data:l}))+s(n.getI18n.call(i,"Chat",{name:"getI18n",hash:{},data:l}))+"</span> "},15:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.escapeExpression,r=e.lambda;return' <span class="ntc-bc-ct  ntc-bc-sep  active readOnlyMode" onclick="crmNTCGlobal.call(\''+o(n.encodeJS.call(s,null!=(i=null!=a?a.entityObj:a)?i.phoneNum:i,{name:"encodeJS",hash:{},data:l}))+"', '"+o(r(null!=(i=null!=a?a.entityObj:a)?i.entityId:i,a))+"', '"+o(r(null!=(i=null!=a?a.entityObj:a)?i.module:i,a))+"', '"+o(n.encodeJS.call(s,null!=(i=null!=a?a.entityObj:a)?i.fullName:i,{name:"encodeJS",hash:{},data:l}))+'\'); sE();"><crmutil-icon icon-name="call-blue-filled" icon-class="zcicn-call-blue-filled zcicn16 mR5"></crmutil-icon>'+o(n.getI18n.call(s,"Call",{name:"getI18n",hash:{},data:l}))+"</span> "},17:function(e,a,n,t,l){var i=null!=a?a:{},s=e.escapeExpression;return' <span class="ntc-bc-ct  ntc-bc-sep" onmouseover="renderingUtils.zctt.showtt(\''+s(n.getI18n.call(i,"crm.signal.phone.not.configured.text",{name:"getI18n",hash:{},data:l}))+'\')" onmouseout="renderingUtils.zctt.hidett()"><crmutil-icon icon-name="call-blue-filled" icon-class="zcicn-call-blue-filled zcicn16 mR5"></crmutil-icon>'+s(n.getI18n.call(i,"Call",{name:"getI18n",hash:{},data:l}))+"</span> "},19:function(e,a,n,t,l){var i;return" "+(null!=(i=n.isNotEmpty.call(null!=a?a:{},null!=(i=null!=a?a.entityObj:a)?i.entityEmail:i,{name:"isNotEmpty",hash:{},fn:e.program(20,l,0),inverse:e.program(22,l,0),data:l}))?i:"")+" "},20:function(e,a,n,t,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <span class="ntc-bc-ct  active readOnlyMode" onclick="EntSendMail(\''+o(s(null!=(i=null!=a?a.entityObj:a)?i.module:i,a))+"','"+o(s(null!=(i=null!=a?a.entityObj:a)?i.entityId:i,a))+"','salessignals','"+o(n.getModuleSingularLabelForIFrame.call(r,null!=(i=null!=a?a.entityObj:a)?i.module:i,{name:"getModuleSingularLabelForIFrame",hash:{},data:l}))+'\')"><crmutil-icon icon-name="mail-envolope" icon-class="zcicn-mail-envolope mR5"></crmutil-icon>'+o(n.getI18n.call(r,"Email",{name:"getI18n",hash:{},data:l}))+"</span> "},22:function(e,a,n,t,l){var i=null!=a?a:{},s=e.escapeExpression;return' <span class="ntc-bc-ct" onmouseover="renderingUtils.zctt.showtt(\''+s(n.getI18n.call(i,"crm.signal.email.not.configured.text",{name:"getI18n",hash:{},data:l}))+'\')" onmouseout="renderingUtils.zctt.hidett()"><crmutil-icon icon-name="mail-envolope" icon-class="zcicn-mail-envolope mR5"></crmutil-icon>'+s(n.getI18n.call(i,"Email",{name:"getI18n",hash:{},data:l}))+"</span> "},24:function(e,a,n,t,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <div id="ntcBusinessCard'+o(s(null!=a?a.entityId:a,a))+'" data-maxwidth="" class="ntc-businessCard"> <div class="ntc-bc-header pR"> <div class="aligncenter pT20 pR20 pB0 pL20 pR"> <span class="ntc-photo dIB cDefault"> '+(null!=(i=n.ifAllTruthy.call(r,null!=a?a.module:a,null!=a?a.entityId:a,null!=a?a.photoFileId:a,{name:"ifAllTruthy",hash:{},fn:e.program(25,l,0),inverse:e.program(27,l,0),data:l}))?i:"")+' </span> <div class="dvTitle pT15 mB10 cP"><a href="'+o(n.getEntityUrl.call(r,null!=a?a.entityId:a,null!=a?a.module:a,{name:"getEntityUrl",hash:{},data:l}))+'" target="_blank" class="signalTextClr crm-medium-large-font-size crm-font-bold">'+o(s(null!=a?a.fullName:a,a))+'</a></div> <div class="nc-bc-company w100_per"> '+(null!=(i=n.ifEquals.call(r,null!=a?a.module:a,"Leads",{name:"ifEquals",hash:{},fn:e.program(29,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=n.ifEquals.call(r,null!=a?a.module:a,"Contacts",{name:"ifEquals",hash:{},fn:e.program(31,l,0),inverse:e.noop,data:l}))?i:"")+' </div> <span class="signalModules mT5">'+o(n.getModuleSingularLabel.call(r,null!=a?a.module:a,{name:"getModuleSingularLabel",hash:{},data:l}))+'</span> <div class="ntc-bc-contact crm-base-font-size"> '+(null!=(i=n.isLeadOrContactModule.call(r,null!=a?a.module:a,{name:"isLeadOrContactModule",hash:{},fn:e.program(33,l,0),inverse:e.program(45,l,0),data:l}))?i:"")+" </div> "+(null!=(i=n.isActivitySupportedForModule.call(r,null!=a?a.module:a,{name:"isActivitySupportedForModule",hash:{},fn:e.program(56,l,0),inverse:e.noop,data:l}))?i:"")+' </div> </div> <div class="ntcBcContent ntc-bc-content pR pT20 pR20 pB20 pL30 mT15 boxBB" id="ntcBcContent"> <div class="ntc-busyBtn" style="display: block;"> <span class="dIB ntc-loader"></span> </div> </div> </div> '},25:function(e,a,n,t,l){var i,s=null!=a?a:{};return' <div class="ntc-pic pR '+(null!=(i=n.ifEntityOnline.call(s,null!=a?a.module:a,null!=a?a.entityId:a,{name:"ifEntityOnline",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l}))?i:"")+'"> <img class="ntc-propic" src="'+e.escapeExpression(n.getRelDetailsImgUrl.call(s,null!=a?a.module:a,null!=a?a.entityId:a,null!=a?a.photoFileId:a,{name:"getRelDetailsImgUrl",hash:{},data:l}))+'" ></img> </div> '},27:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.escapeExpression;return' <div class="ntc-pic ntc-emtpic pR '+(null!=(i=n.ifEntityOnline.call(s,null!=a?a.module:a,null!=a?a.entityId:a,{name:"ifEntityOnline",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l}))?i:"")+'" style="background-position: '+o(n.getRandomGradient.call(s,{name:"getRandomGradient",hash:{},data:l}))+';">'+o(n.getFirstChar.call(s,null!=a?a.fullName:a,{name:"getFirstChar",hash:{},data:l}))+" </div> "},29:function(e,a,n,t,l){return' <span class="crm-base-font-size signalTextClr">'+e.escapeExpression(e.lambda(null!=a?a.COMPANY:a,a))+"</span> "},31:function(e,a,n,t,l){var i=e.escapeExpression;return' <a href="'+i(n.getEntityUrl.call(null!=a?a:{},null!=a?a.ACCOUNTID:a,"Accounts",{name:"getEntityUrl",hash:{},data:l}))+'" target="_blank" class="crm-base-font-size signalTextClr">'+i(e.lambda(null!=a?a.ACCOUNTNAME:a,a))+"</a> "},33:function(e,a,n,t,l){var i,s=null!=a?a:{};return"  "+(null!=(i=n.ifEntityOnline.call(s,null!=a?a.module:a,null!=a?a.entityId:a,{name:"ifEntityOnline",hash:{},fn:e.program(34,l,0),inverse:e.program(36,l,0),data:l}))?i:"")+" "+(null!=(i=n.isNotEmpty.call(s,null!=a?a.phoneNum:a,{name:"isNotEmpty",hash:{},fn:e.program(38,l,0),inverse:e.program(40,l,0),data:l}))?i:"")+" "+(null!=(i=n.isSendMailPermissionAvailable.call(s,null!=a?a.module:a,{name:"isSendMailPermissionAvailable",hash:{},fn:e.program(42,l,0),inverse:e.noop,data:l}))?i:"")+" "},34:function(e,a,n,t,l){var i=null!=a?a:{},s=e.escapeExpression;return" <a target='_blank' class=\"ntc-bc-ct active readOnlyMode\" href='"+s(n.getChatLink.call(i,null!=a?a.module:a,null!=a?a.entityId:a,{name:"getChatLink",hash:{},data:l}))+'\'><crmutil-icon icon-name="chat-curved" icon-class="zcicn-chat-curved zcicn14 mR5"></crmutil-icon>'+s(n.getI18n.call(i,"Chat",{name:"getI18n",hash:{},data:l}))+"</a> "},36:function(e,a,n,t,l){var i=null!=a?a:{},s=e.escapeExpression;return' <span class="ntc-bc-ct" onmouseover="renderingUtils.zctt.showtt(\''+s(n.getI18n.call(i,"crm.chat.offline",{name:"getI18n",hash:{},data:l}))+'\')" onmouseout="renderingUtils.zctt.hidett()"><crmutil-icon icon-name="chat-curved" icon-class="zcicn-chat-curved zcicn14 mR5"></crmutil-icon>'+s(n.getI18n.call(i,"Chat",{name:"getI18n",hash:{},data:l}))+"</span> "},38:function(e,a,n,t,l){var i=null!=a?a:{},s=e.escapeExpression,o=e.lambda;return' <span class="ntc-bc-ct active readOnlyMode" onclick="crmNTCGlobal.call(\''+s(n.encodeJS.call(i,null!=a?a.phoneNum:a,{name:"encodeJS",hash:{},data:l}))+"', '"+s(o(null!=a?a.entityId:a,a))+"', '"+s(o(null!=a?a.module:a,a))+"', '"+s(n.encodeJS.call(i,null!=a?a.fullName:a,{name:"encodeJS",hash:{},data:l}))+'\'); sE();"><crmutil-icon icon-name="call-blue-filled" icon-class="zcicn-call-blue-filled zcicn16 mR5"></crmutil-icon>'+s(n.getI18n.call(i,"Call",{name:"getI18n",hash:{},data:l}))+"</span> "},40:function(e,a,n,t,l){var i=null!=a?a:{},s=e.escapeExpression;return' <span class="ntc-bc-ct" onmouseover="renderingUtils.zctt.showtt(\''+s(n.getI18n.call(i,"crm.signal.phone.not.configured.text",{name:"getI18n",hash:{},data:l}))+'\')" onmouseout="renderingUtils.zctt.hidett()"><crmutil-icon icon-name="call-blue-filled" icon-class="zcicn-call-blue-filled zcicn16 mR5"></crmutil-icon>'+s(n.getI18n.call(i,"Call",{name:"getI18n",hash:{},data:l}))+"</span> "},42:function(e,a,n,t,l){var i;return" "+(null!=(i=n.isNotEmpty.call(null!=a?a:{},null!=a?a.entityEmail:a,{name:"isNotEmpty",hash:{},fn:e.program(43,l,0),inverse:e.program(22,l,0),data:l}))?i:"")+" "},43:function(e,a,n,t,l){var i=e.lambda,s=e.escapeExpression,o=null!=a?a:{};return' <span class="ntc-bc-ct active readOnlyMode" onclick="EntSendMail(\''+s(i(null!=a?a.module:a,a))+"','"+s(i(null!=a?a.entityId:a,a))+"','salessignals','"+s(n.getModuleSingularLabel.call(o,null!=a?a.module:a,{name:"getModuleSingularLabel",hash:{},data:l}))+'\')"><crmutil-icon icon-name="mail-envolope" icon-class="zcicn-mail-envolope mR5"></crmutil-icon>'+s(n.getI18n.call(o,"Email",{name:"getI18n",hash:{},data:l}))+"</span> "},45:function(e,a,n,t,l){var i,s=null!=a?a:{};return"  "+(null!=(i=n.ifEntityOnline.call(s,null!=a?a.module:a,null!=a?a.entityId:a,{name:"ifEntityOnline",hash:{},fn:e.program(34,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=n.isNotEmpty.call(s,null!=a?a.phoneNum:a,{name:"isNotEmpty",hash:{},fn:e.program(46,l,0),inverse:e.program(48,l,0),data:l}))?i:"")+" "+(null!=(i=n.isSendMailPermissionAvailable.call(s,null!=a?a.module:a,{name:"isSendMailPermissionAvailable",hash:{},fn:e.program(50,l,0),inverse:e.noop,data:l}))?i:"")+" "},46:function(e,a,n,t,l){var i=null!=a?a:{},s=e.escapeExpression,o=e.lambda;return' <span class="ntc-bc-ct  ntc-bc-sep  active readOnlyMode" onclick="crmNTCGlobal.call(\''+s(n.encodeJS.call(i,null!=a?a.phoneNum:a,{name:"encodeJS",hash:{},data:l}))+"', '"+s(o(null!=a?a.entityId:a,a))+"', '"+s(o(null!=a?a.module:a,a))+"', '"+s(n.encodeJS.call(i,null!=a?a.fullName:a,{name:"encodeJS",hash:{},data:l}))+'\'); sE();"><crmutil-icon icon-name="call-blue-filled" icon-class="zcicn-call-blue-filled zcicn16 mR5"></crmutil-icon>'+s(n.getI18n.call(i,"Call",{name:"getI18n",hash:{},data:l}))+"</span> "},48:function(e,a,n,t,l){var i;return" "+(null!=(i=n.isNullStr.call(null!=a?a:{},null!=a?a.phoneNum:a,{name:"isNullStr",hash:{},fn:e.program(17,l,0),inverse:e.noop,data:l}))?i:"")+" "},50:function(e,a,n,t,l){var i;return" "+(null!=(i=n.isNotEmpty.call(null!=a?a:{},null!=a?a.entityEmail:a,{name:"isNotEmpty",hash:{},fn:e.program(51,l,0),inverse:e.program(53,l,0),data:l}))?i:"")+" "},51:function(e,a,n,t,l){var i=e.lambda,s=e.escapeExpression,o=null!=a?a:{};return' <span class="ntc-bc-ct  active readOnlyMode" onclick="EntSendMail(\''+s(i(null!=a?a.module:a,a))+"','"+s(i(null!=a?a.entityId:a,a))+"','salessignals','"+s(n.getModuleSingularLabel.call(o,null!=a?a.module:a,{name:"getModuleSingularLabel",hash:{},data:l}))+'\')"><crmutil-icon icon-name="mail-envolope" icon-class="zcicn-mail-envolope mR5"></crmutil-icon>'+s(n.getI18n.call(o,"Email",{name:"getI18n",hash:{},data:l}))+"</span> "},53:function(e,a,n,t,l){var i;return" "+(null!=(i=n.isNullStr.call(null!=a?a:{},null!=a?a.entityEmail:a,{name:"isNullStr",hash:{},fn:e.program(54,l,0),inverse:e.noop,data:l}))?i:"")+" "},54:function(e,a,n,t,l){var i=null!=a?a:{},s=e.escapeExpression;return' <span class="ntc-bc-ct " onmouseover="renderingUtils.zctt.showtt(\''+s(n.getI18n.call(i,"crm.signal.email.not.configured.text",{name:"getI18n",hash:{},data:l}))+'\')" onmouseout="renderingUtils.zctt.hidett()"><crmutil-icon icon-name="mail-envolope" icon-class="zcicn-mail-envolope mR5"></crmutil-icon>'+s(n.getI18n.call(i,"Email",{name:"getI18n",hash:{},data:l}))+"</span> "},56:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.lambda,r=e.escapeExpression;return' <div class="ntc-bc-activity" onclick="crmNTCDetailView.showSignalActivityDiv(this); sE(event)"><crmutil-icon icon-name="plus" icon-class="zcicn-plus iconWhite zcicn12"></crmutil-icon></div> <div id="signalsActivityDiv" class="eventActionsMenu wsNowrap" style="display:none; z-index: 300;position: absolute;" data-options="ACTIVITYPERSONALITY" onclick="sE(event)"> '+(null!=(i=n.ifEquals.call(s,n.getUserDetail.call(s,"TaskPopup",{name:"getUserDetail",hash:{},data:l}),!0,{name:"ifEquals",hash:{},fn:e.program(57,l,0),inverse:e.program(59,l,0),data:l}))?i:"")+" <span class=\"dummyForLeftPanel createlink readOnlyMode\" onclick=\"crmNTC.quickCreate('NewEvent', 'salessignals', '"+r(o(null!=a?a.module:a,a))+"', '"+r(o(null!=a?a.entityId:a,a))+"',event,this)\">"+r(n.getI18n.call(s,"crm.label.newEvent",n.getModuleDisplayName.call(s,!0,!0,{name:"getModuleDisplayName",hash:{},data:l}),{name:"getI18n",hash:{},data:l}))+"</span> <span class=\"dummyForLeftPanel createlink readOnlyMode\" onclick=\"crmNTC.quickCreate('NewCall', 'salessignals', '"+r(o(null!=a?a.module:a,a))+"', '"+r(o(null!=a?a.entityId:a,a))+"',event,this)\">"+r(n.getI18n.call(s,"crm.label.newCall",{name:"getI18n",hash:{},data:l}))+"</span> "+(null!=(i=n.ifEquals.call(s,null!=a?a.is_appointment_enabled:a,!0,{name:"ifEquals",hash:{},fn:e.program(61,l,0),inverse:e.noop,data:l}))?i:"")+' </div> <input type="hidden" id="ss_module" name="module" value="'+r(o(null!=a?a.module:a,a))+'"> <input type="hidden" id="ss_entityId" name="entityId" value="'+r(o(null!=a?a.entityId:a,a))+'"> <input type="hidden" id="ss_entityName" name="entityName" value="'+r(o(null!=a?a.fullName:a,a))+'"> '},57:function(e,a,n,t,l){var i=null!=a?a:{},s=e.escapeExpression;return' <span class="dummyForLeftPanel createlink readOnlyMode" onclick="crmRelatedList.relTaskCreate(this,\''+s(n.encodeJS.call(i,null!=a?a.entityId:a,{name:"encodeJS",hash:{},data:l}))+"','salessignals','"+s(n.encodeJS.call(i,null!=a?a.module:a,{name:"encodeJS",hash:{},data:l}))+"')\">"+s(n.getI18n.call(i,"crm.label.newTask",{name:"getI18n",hash:{},data:l}))+"</span> "},59:function(e,a,n,t,l){var i=e.lambda,s=e.escapeExpression;return" <span class=\"dummyForLeftPanel createlink readOnlyMode\" onclick=\"crmNTC.quickCreate('NewTask', 'salessignals', '"+s(i(null!=a?a.module:a,a))+"', '"+s(i(null!=a?a.entityId:a,a))+"',event,this)\">"+s(n.getI18n.call(null!=a?a:{},"crm.label.newTask",{name:"getI18n",hash:{},data:l}))+"</span> "},61:function(e,a,n,t,l){var i=e.lambda,s=e.escapeExpression,o=null!=a?a:{};return" <span class=\"dummyForLeftPanel createlink readOnlyMode\" onclick=\"crmNTC.quickCreate('NewAppointment', 'salessignals', '"+s(i(null!=a?a.module:a,a))+"', '"+s(i(null!=a?a.entityId:a,a))+"',event,this)\">"+s(n.getI18n.call(o,"crm.label.newEvent",n.getSingleUserModMap.call(o,"Appointments",{name:"getSingleUserModMap",hash:{},data:l}),{name:"getI18n",hash:{},data:l}))+"</span> "},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){var i;return" "+(null!=(i=n.isSignalIframeOpen.call(null!=a?a:{},{name:"isSignalIframeOpen",hash:{},fn:e.program(1,l,0),inverse:e.program(24,l,0),data:l}))?i:"")+" "},useData:!0}),a.signalBusinessCardContent=e({1:function(e,a,n,t,l){var i;return" "+(null!=(i=n.isValidJsonObj.call(null!=a?a:{},a,{name:"isValidJsonObj",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l}))?i:"")+" "},2:function(e,a,n,t,l){var i;return' <div class="nt-bcrow"> <span class="bcDropDownTd alignLeft pR ntc-bc-label fs">'+e.escapeExpression(e.lambda(null!=(i=null!=a?a.fieldObj:a)?i.displaylabel:i,a))+' </span> <div class="ntc-bc-field ntc-bc-email pR10">'+(null!=(i=e.invokePartial(t.uiTypeTemplate,null!=a?a.fieldObj:a,{name:"uiTypeTemplate",data:l,helpers:n,partials:t,decorators:e.decorators}))?i:"")+"</div> </div> "},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){var i;return'<div id="ntcBcDiv" class="ntcBcDiv pR"> <div class="dF flexDC"> '+(null!=(i=n.each.call(null!=a?a:{},a,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+" </div> </div>"},usePartial:!0,useData:!0}),a.signalBusinessMessageDetailView=e({1:function(e,a,n,t,l){var i;return' <div class="ntc-detailv-para"> <div> <div class="ntc-detailv-content">'+e.escapeExpression(e.lambda(null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.message:i,a))+"</div> </div> </div> "},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.escapeExpression;return' <div class="ntc-detailv-inner pR"> '+(null!=(i=n.isNotEmpty.call(s,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.message:i,{name:"isNotEmpty",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+' <div class="ntc-foot-links"> <a href="javascript:;" class="btn-rlsecondary" data-id="social" data-zcqa="bm_signal_view_conv" onclick="crmNTCDetailView.loadBMConversation(\''+o(e.lambda(null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.conversation_id:i,a))+"')\">"+o(n.getI18n.call(s,"crm.signal.view.conv.link",{name:"getI18n",hash:{},data:l}))+'</a> <div class="cBoth"></div> </div> </div>'},useData:!0}),a.signalCampaignDetailView=e({1:function(e,a,n,t,l){var i,s=e.escapeExpression;return'  <span class="signalLabelClr crm-base-font-size mB10 dIB">'+s(n.getI18n.call(null!=a?a:{},"Last Opened",{name:"getI18n",hash:{},data:l}))+" - "+s(e.lambda(null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.LAST_OPENED_TIME:i,a))+"</span> "},3:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.escapeExpression;return' <div class="signalsCampaignEle"> <table class="signalsCampaignTable mB5"> <tr> <td class="signalCampaigntablehead">'+o(n.getI18n.call(s,"crm.signal.link.text",{name:"getI18n",hash:{},data:l}))+'</td> <td class="signalCampaigntablehead">'+o(n.getI18n.call(s,"Last Clicked",{name:"getI18n",hash:{},data:l}))+'</td> <td class="signalCampaigntablehead">'+o(n.getI18n.call(s,"crm.label.click",{name:"getI18n",hash:{},data:l}))+"</td> </tr> "+(null!=(i=n.each.call(s,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.CLICKDETAILS:i,{name:"each",hash:{},fn:e.program(4,l,0),inverse:e.noop,data:l}))?i:"")+" </table> </div> "},4:function(e,a,n,t,l){var i=e.lambda,s=e.escapeExpression,o=null!=a?a:{};return' <tr> <td class="ntc-camp-link signalCampaigntablelist"><a href="'+s(i(null!=a?a.url:a,a))+'" class="link" target="_blank" onmouseover="renderingUtils.zctt.showtt(\''+s(n.encodeJS.call(o,null!=a?a.url:a,{name:"encodeJS",hash:{},data:l}))+'\')" onmouseout="renderingUtils.zctt.hidett()">'+s(n.removeProtocol.call(o,null!=a?a.url:a,{name:"removeProtocol",hash:{},data:l}))+'</a></td>  <td class="ntc-camp-action signalCampaigntablelist">'+s(i(null!=a?a.urlLastClickedTime:a,a))+'</td> <td class="ntc-camp-count signalCampaigntablelist">'+s(i(null!=a?a.urlTotalClickCount:a,a))+" </td> </tr> "},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.escapeExpression,r=e.lambda;return' <div class="ntc-detailv-inner pR"> <div class="ntc-detailv-para"> <div> <div class="ntc-detailv-subject crm-font-bold crmBaseColor crm-subheading-font-size pB5"><span class="crm-subheading-font-size crmBaseColor ntc-detail-head crm-font-regular">'+o(n.getSubjectForCampaign.call(s,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.CAMPAIGNSUBJECT:i,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.CAMPAIGNNAME:i,{name:"getSubjectForCampaign",hash:{},data:l}))+'</span></div> <div class="ntc-detailv-content"> '+(null!=(i=n.isNotEmpty.call(s,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.LAST_OPENED_TIME:i,{name:"isNotEmpty",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=n.isNotEmpty.call(s,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.CLICKDETAILS:i,{name:"isNotEmpty",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l}))?i:"")+' </div> </div> </div> <div class="ntc-foot-links"> <a href="javascript:;" class="btn-rlsecondary" data-id="campaign" onclick="crmNTCDetailView.campaignDetailViewPopup(\''+o(r(null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.signal:i)?i.namespace:i,a))+"','"+o(r(null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.PREVIEWURL:i,a))+"','"+o(r(null!=(i=null!=a?a.entityObj:a)?i.entityId:i,a))+"','"+o(r(null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.CAMPAIGNID:i,a))+"')\">"+o(n.getI18n.call(s,"crm.signal.view.campaign.link",{name:"getI18n",hash:{},data:l}))+'</a> <div class="cBoth"></div> </div> </div>'},useData:!0}),a.signalCommonDetailView=e({1:function(e,a,n,t,l){return" "},3:function(e,a,n,t,l){var i;return' <div class="ntc-detailv-para"> <div> <div class="ntc-detailv-content">'+(null!=(i=n.formatHTML.call(null!=a?a:{},null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.message:i,{name:"formatHTML",hash:{},data:l}))?i:"")+"</div> </div> </div> "},5:function(e,a,n,t,l){return"  "},7:function(e,a,n,t,l){var i;return" "+(null!=(i=n.showWidgetOption.call(null!=a?a:{},null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.signal:i)?i.type:i,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.signal:i)?i.widget:i,{name:"showWidgetOption",hash:{},fn:e.program(8,l,0),inverse:e.noop,data:l}))?i:"")+" "},8:function(e,a,n,t,l){var i,s=e.lambda,o=e.escapeExpression;return" <span class=\"fR svgIconsImg newWindowIcon mB7\" onclick=\"WidgetHandler.SalesSignals.render(WidgetHandler.getWidget('SalesSignals','"+o(s(null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.signal:i)?i.id:i,a))+"'), "+o(n.getDataForWidget.call(null!=a?a:{},null!=a?a.notificationObj:a,null!=a?a.entityObj:a,{name:"getDataForWidget",hash:{},data:l}))+", '"+o(s(null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.signal:i)?i.id:i,a))+"');\"></span> "},10:function(e,a,n,t,l){var i;return" "+(null!=(i=e.invokePartial(t.signalIframeDetailView,a,{name:"signalIframeDetailView",hash:{entityObj:null!=a?a.entityObj:a,notificationObj:null!=a?a.notificationObj:a},data:l,helpers:n,partials:t,decorators:e.decorators}))?i:"")+" "},12:function(e,a,n,t,l){var i;return" "+(null!=(i=n.getOpenTypeForNotification.call(null!=a?a:{},null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.actions:i,{name:"getOpenTypeForNotification",hash:{},fn:e.program(13,l,0),inverse:e.program(15,l,0),data:l}))?i:"")+" "},13:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.escapeExpression;return" <a target='_blank' href='"+o(n.getActionUrl.call(s,null!=a?a.notificationObj:a,{name:"getActionUrl",hash:{},data:l}))+'\' class="crm-small-font-size mT5 dIB"><span class="btn-rlsecondary"> '+o(n.getI18n.call(s,null!=(i=null!=(i=null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.actions:i)?i[0]:i)?i.display_name:i,{name:"getI18n",hash:{},data:l}))+"</span> </a> "},15:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.escapeExpression;return" <span onclick=\"crmNTCGlobal.openNotificationActionInPopup('"+o(n.getActionUrl.call(s,null!=a?a.notificationObj:a,{name:"getActionUrl",hash:{},data:l}))+'\')" class="btn-rlsecondary">'+o(n.getI18n.call(s,null!=(i=null!=(i=null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.actions:i)?i[0]:i)?i.display_name:i,{name:"getI18n",hash:{},data:l}))+"</span> "},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){var i,s=null!=a?a:{};return' <div class="ntc-detailv-inner pR"> <div class="ntc-detailv-para"> <div class="ntc-detailv-subject crm-font-bold crmBaseColor crm-medium-large-font-size pB5"> <span class="crm-subheading-font-size crmBaseColor ntc-detail-head crm-font-regular"> '+e.escapeExpression(e.lambda(null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.subject:i,a))+" </span> </div> "+(null!=(i=n.showSignalIframe.call(s,null!=(i=null!=a?a.notificationObj:a)?i.signal:i,{name:"showSignalIframe",hash:{},fn:e.program(1,l,0),inverse:e.program(3,l,0),data:l}))?i:"")+' </div> <div class="ntc-foot-links"> '+(null!=(i=n.isSignalIframeOpen.call(s,{name:"isSignalIframeOpen",hash:{},fn:e.program(5,l,0),inverse:e.program(7,l,0),data:l}))?i:"")+" "+(null!=(i=n.showSignalIframe.call(s,null!=(i=null!=a?a.notificationObj:a)?i.signal:i,{name:"showSignalIframe",hash:{},fn:e.program(10,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=n.showDetailViewLink.call(s,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.signal:i)?i.namespace:i,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.actions:i,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.signal:i)?i.type:i,{name:"showDetailViewLink",hash:{},fn:e.program(12,l,0),inverse:e.noop,data:l}))?i:"")+" </div> </div> "},usePartial:!0,useData:!0}),a.signalDetailView=e({1:function(e,a,n,t,l){var i;return' <div id="ntcInnerDivContent" class="ntcInnerDivContent pR"> '+(null!=(i=e.invokePartial(t.signalDetailViewTemplate,a,{name:"signalDetailViewTemplate",data:l,helpers:n,partials:t,decorators:e.decorators}))?i:"")+" </div> "},3:function(e,a,n,t,l){var i;return' <div class="signalPopContent pR"> '+(null!=(i=e.invokePartial(t.signalBusinessCard,null!=a?a.entityObj:a,{name:"signalBusinessCard",data:l,helpers:n,partials:t,decorators:e.decorators}))?i:"")+' <div id="ntcDivContent" class="ntc-div-content pR"  onscroll="crmNTCDetailView.showMoreSignalsDetailsOnScroll()" > <div id="ntcInnerDivContent" class="ntcInnerDivContent pR"> '+(null!=(i=e.invokePartial(t.signalDetailViewTemplate,a,{name:"signalDetailViewTemplate",data:l,helpers:n,partials:t,decorators:e.decorators}))?i:"")+' </div> <span id="signalDetailViewClose" onclick="crmNTCDetailView.closeDetailView()"><crmutil-icon icon-name="close-9" icon-class="zcicn-close-9 zcicn12  zcicn_616E88 "></crmutil-icon></span> </div> <span class="ntc-bc-toggle" id="ntcCollapseView" onclick="crmNTCDetailView.toggleSignalBusinessCard(this); sE(event)"><crmutil-icon icon-name="slide" icon-class="zcicn-slide zcicn_616E88"></crmutil-icon></span> </div> '},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){var i;return" "+(null!=(i=n.isSignalIframeOpen.call(null!=a?a:{},{name:"isSignalIframeOpen",hash:{},fn:e.program(1,l,0),inverse:e.program(3,l,0),data:l}))?i:"")},usePartial:!0,useData:!0}),a.signalDetailViewTemplate=e({1:function(e,a,n,t,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <div id="ntc-detailv-'+o(s(null!=a?a.id:a,a))+'" class="ntc-detailv-detail pR" data-notificationtype="'+o(s(null!=(i=null!=a?a.signal:a)?i.namespace:i,a))+'"> <div class="mB5 ntc-detailv-title">  '+(null!=(i=n.isPlatformExtensionSignal.call(r,null!=(i=null!=a?a.signal:a)?i.namespace:i,{name:"isPlatformExtensionSignal",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=n.isUserCustomExtension.call(r,null!=(i=null!=a?a.signal:a)?i.type:i,{name:"isUserCustomExtension",hash:{},fn:e.program(4,l,0),inverse:e.program(6,l,0),data:l}))?i:"")+' <span class="nc-rtime mL10" onmouseover="renderingUtils.zctt.showtt(\''+o(n.encodeJS.call(r,null!=(i=null!=a?a.date:a)?i.tooltip:i,{name:"encodeJS",hash:{},data:l}))+'\')" onmouseout="renderingUtils.zctt.hidett()">'+o(s(null!=(i=null!=a?a.date:a)?i.display:i,a))+'</span> </div> <div id="ntc-detailv-content-'+o(s(null!=a?a.id:a,a))+'" class="mT5 mL45"> <div class="ntc-busyBtn" style="display: block;"> <span class="dIB ntc-loader"></span> </div> </div> </div> '},2:function(e,a,n,t,l){var i;return' <span class="ntc-detailv-Appicon mR15"> <img class="nc-platform-image" src="'+e.escapeExpression(n.getExtensionSignalIconUrl.call(null!=a?a:{},null!=(i=null!=(i=null!=a?a.signal:a)?i.icon:i)?i.id:i,null!=(i=null!=(i=null!=a?a.signal:a)?i.icon:i)?i.sand_box_zgid:i,{name:"getExtensionSignalIconUrl",hash:{},data:l}))+'"></img> </span> '},4:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.escapeExpression;return' <span class="ntc-detailv-Appicon mR15"> <img class="nc-platform-image" src="'+o(n.getZohoUserCustomSignalIconUrl.call(s,null!=(i=null!=a?a.signal:a)?i.icon:i,null!=(i=null!=a?a.signal:a)?i.id:i,{name:"getZohoUserCustomSignalIconUrl",hash:{},data:l}))+'"></img></span> <span class="nc-dlabel">'+o(n.getSignalHeading.call(s,a,{name:"getSignalHeading",hash:{},data:l}))+"</span> "},6:function(e,a,n,t,l){var i,s=null!=a?a:{};return' <span class="ntc-detailv-Appicon mR15"> <span class="signalAppicon"> '+(null!=(i=n.isPartOf.call(s,"Webinar,Message",null!=(i=null!=(i=null!=a?a.signal:a)?i.extension:i)?i.namespace:i,{name:"isPartOf",hash:{},fn:e.program(7,l,0),inverse:e.program(9,l,0),data:l}))?i:"")+' </span> </span> <span class="nc-dlabel">'+e.escapeExpression(n.getSignalHeading.call(s,a,{name:"getSignalHeading",hash:{},data:l}))+"</span> "},7:function(e,a,n,t,l){return' <span class="'+e.escapeExpression(n.getNTCIconClass.call(null!=a?a:{},a,{name:"getNTCIconClass",hash:{},data:l}))+' pR"></span> '},9:function(e,a,n,t,l){var i,s=null!=a?a:{};return' <crmutil-icon icon-name="'+(null!=(i=n.isZohoExtensionSignal.call(s,null!=(i=null!=a?a.signal:a)?i.namespace:i,null!=(i=null!=a?a.signal:a)?i.type:i,{name:"isZohoExtensionSignal",hash:{},fn:e.program(10,l,0),inverse:e.program(12,l,0),data:l}))?i:"")+'" icon-class="zcicn-'+(null!=(i=n.isZohoExtensionSignal.call(s,null!=(i=null!=a?a.signal:a)?i.namespace:i,null!=(i=null!=a?a.signal:a)?i.type:i,{name:"isZohoExtensionSignal",hash:{},fn:e.program(10,l,0),inverse:e.program(12,l,0),data:l}))?i:"")+" zcicn-"+(null!=(i=n.isZohoExtensionSignal.call(s,null!=(i=null!=a?a.signal:a)?i.namespace:i,null!=(i=null!=a?a.signal:a)?i.type:i,{name:"isZohoExtensionSignal",hash:{},fn:e.program(10,l,0),inverse:e.program(12,l,0),data:l}))?i:"")+'-colored zcicn-color-mixed zcicn_616E88"></crmutil-icon> '},10:function(e,a,n,t,l){return e.escapeExpression(n.getNTCIconClass.call(null!=a?a:{},a,{name:"getNTCIconClass",hash:{},data:l}))},12:function(e,a,n,t,l){return" ntc-platform-icon-large "},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){var i;return"  "+(null!=(i=n.each.call(null!=a?a:{},null!=a?a.notificationObjs:a,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")},useData:!0}),a.signalEmailContent=e({1:function(e,a,n,t,l){return" <span class='dIB vaM "+e.escapeExpression(n.getSentimentIconClass.call(null!=a?a:{},null!=a?a.notificationObj:a,{name:"getSentimentIconClass",hash:{},data:l}))+"'></span> "},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){var i,s=e.lambda,o=e.escapeExpression;return'<div class="ntc-detailv-inner pR ntc-emailframe"> <div id="ntcEmailIframeWrap'+o(s(null!=(i=null!=a?a.notificationObj:a)?i.id:i,a))+'" class="ntcEmailIframeWrap"> <div class="ntc-detailv-subject pB5 pR dF w100_per"> '+(null!=(i=n.isSentimentAvailable.call(null!=a?a:{},null!=a?a.notificationObj:a,{name:"isSentimentAvailable",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+' <span class="ntc-detail-head pR10 dIB crm-base-font-size">'+o(s(null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.SUBJECT:i,a))+'</span> <span class="link ntc-nw-open mT3 cP" onclick="'+o(s(null!=a?a.mailPoupupLink:a,a))+'"><crmutil-icon icon-name="expand-sm" icon-class="zcicn-expand-sm zcicn12  zcicn_616E88 "></crmutil-icon></span> </div> <iframe id="emailDetailIframeContent'+o(s(null!=(i=null!=a?a.notificationObj:a)?i.id:i,a))+'" scrolling="no" style="opacity:1; width:100%; height:100%;clear: both; " src= "/crm/html/content1.html" class="iframeHeightBasedOnMailContent" ></iframe> </div> </div> '},useData:!0}),a.signalEmailDetailView=e({1:function(e,a,n,t,l){return" <span class='dIB vaM "+e.escapeExpression(n.getSentimentIconClass.call(null!=a?a:{},null!=a?a.notificationObj:a,{name:"getSentimentIconClass",hash:{},data:l}))+"'></span> "},3:function(e,a,n,t,l){var i,s=e.escapeExpression;return' <crm-competitor-mention-list data-zcqa="zComp_mentioned_tags_'+s(e.lambda(null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.SUBJECT:i,a))+'" meta-data="'+s(n.ObjToString.call(null!=a?a:{},null!=(i=null!=a?a.notificationObj:a)?i.metadata:i,{name:"ObjToString",hash:{},data:l}))+'"></crm-competitor-mention-list> '},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.escapeExpression;return' <div class="ntc-detailv-inner pR ntc-emailframe"> <div class="ntc-detailv-para"> <div> <div class="ntc-detailv-subject crm-font-bold crmBaseColor crm-medium-large-font-size pB5"> '+(null!=(i=n.isSentimentAvailable.call(s,null!=a?a.notificationObj:a,{name:"isSentimentAvailable",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+' <span class="crm-subheading-font-size crmBaseColor ntc-detail-head">'+o(n.getAuthorisedSubject.call(s,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.SUBJECT:i,{name:"getAuthorisedSubject",hash:{},data:l}))+"</span> </div> </div> </div> "+(null!=(i=n.isCompetitorAlert.call(s,null!=a?a.notificationObj:a,{name:"isCompetitorAlert",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l}))?i:"")+' <div class="ntc-foot-links">  <span class="btn-rlsecondary" data-id="survey" onclick=\'crmNTCDetailView.showMailContentInner('+o(n.JSONtoString.call(s,null!=a?a.notificationObj:a,{name:"JSONtoString",hash:{},data:l}))+","+o(n.JSONtoString.call(s,null!=a?a.entityObj:a,{name:"JSONtoString",hash:{},data:l}))+")'>"+o(n.getI18n.call(s,"crm.signal.view.email.link",{name:"getI18n",hash:{},data:l}))+'</span> <div class="cBoth"></div> </div> <div class="ntc-busyBtn" style="display: none;"> <span class="dIB ntc-loader"></span> </div> </div> '},useData:!0}),a.signalErrorMessage=e({1:function(e,a,n,t,l){return' <div id="signalErrorMsg" class="signal-detail-error"> <span class="mR10"><crmutil-icon icon-name="info-rounded" icon-class="zcicn-info-rounded crmBaseIcon"></crmutil-icon></span> <div class="crm-base-font-size signalTextClr">'+e.escapeExpression(n.getI18n.call(null!=a?a:{},null!=a?a.error_message:a,{name:"getI18n",hash:{},data:l}))+"</div> </div> "},3:function(e,a,n,t,l){var i=null!=a?a:{},s=e.escapeExpression;return' <div id="signalErrorMsg" class="signal-detail-popup-error"> <div class="dIB pR w80_per"> <span class="mR10"><crmutil-icon icon-name="info-rounded" icon-class="zcicn-info-rounded crmBaseIcon"></crmutil-icon></span> <div class=" crm-heading-font-size signalTextClr">'+s(n.getI18n.call(i,null!=a?a.error_heading:a,{name:"getI18n",hash:{},data:l}))+'</div><div class="pT15 crm-base-font-size pL10 signalTextClr">'+s(n.getI18n.call(i,null!=a?a.error_message:a,{name:"getI18n",hash:{},data:l}))+"</div> </div> </div> "},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){var i;return(null!=(i=n.isEmailNotificationType.call(null!=a?a:{},null!=a?a.notificationType:a,{name:"isEmailNotificationType",hash:{},fn:e.program(1,l,0),inverse:e.program(3,l,0),data:l}))?i:"")+" "},useData:!0}),a.signalIframeDetailView=e({compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return'<div class=""> <div id="ntcPlatformIframeWrap_'+o(s(null!=(i=null!=a?a.notificationObj:a)?i.id:i,a))+'" class="ntcPlatformIframeWrap"> <input type="submit" id="ntcPlatformIframeSwitch_'+o(s(null!=(i=null!=a?a.notificationObj:a)?i.id:i,a))+'" style="display:none;" onclick="WidgetHandler.SalesSignals.show('+o(n.getDataForIFrame.call(r,null!=a?a.notificationObj:a,{name:"getDataForIFrame",hash:{},data:l}))+","+o(n.getDataForIFrame.call(r,null!=a?a.entityObj:a,{name:"getDataForIFrame",hash:{},data:l}))+')" ></input> <iframe id="signalPlatformIframeContent_'+o(s(null!=(i=null!=a?a.notificationObj:a)?i.id:i,a))+'" scrolling="yes" style="" src=""></iframe> </div> </div>'},useData:!0}),a.signalMissedCallDetailView=e({1:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.escapeExpression,r=e.lambda;return' <span class="fL">'+o(n.getI18n.call(s,"crm.signal.telephony.missed.call.other.text",null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.missedUserName:i,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.CUSTNUMBER:i,{name:"getI18n",hash:{},data:l}))+'</span> <a href="javascript:;" class="ntc-call-outer mL15" onclick="crmNTCGlobal.call(\''+o(r(null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.CUSTNUMBER:i,a))+"', '"+o(r(null!=(i=null!=a?a.entityObj:a)?i.entityId:i,a))+"', '"+o(r(null!=(i=null!=a?a.entityObj:a)?i.module:i,a))+"', '"+o(n.encodeJS.call(s,null!=(i=null!=a?a.entityObj:a)?i.fullName:i,{name:"encodeJS",hash:{},data:l}))+'\'); sE();"><span id="calllabel1" style="display: inline;">'+o(n.getI18n.call(s,"Call",{name:"getI18n",hash:{},data:l}))+"</span></a> "},3:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.escapeExpression,r=e.lambda;return' <span class="fL">'+o(n.getI18n.call(s,"crm.signal.telephony.missed.call.self.text",null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.CUSTNUMBER:i,{name:"getI18n",hash:{},data:l}))+'</span><a href="javascript:;" class="ntc-call-outer mL15" onclick="crmNTCGlobal.call(\''+o(r(null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.CUSTNUMBER:i,a))+"', '"+o(r(null!=(i=null!=a?a.entityObj:a)?i.entityId:i,a))+"', '"+o(r(null!=(i=null!=a?a.entityObj:a)?i.module:i,a))+"', '"+o(n.encodeJS.call(s,null!=(i=null!=a?a.entityObj:a)?i.fullName:i,{name:"encodeJS",hash:{},data:l}))+'\'); sE();"><span id="calllabel1" style="display: inline;">'+o(n.getI18n.call(s,"Call",{name:"getI18n",hash:{},data:l}))+"</span></a> "},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){var i;return' <div class="ntc-detailv-inner pR"> <div class="ntc-detailv-para"> <div class="dF aiCenter"> '+(null!=(i=n.isNotEmpty.call(null!=a?a:{},null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.missedUserName:i,{name:"isNotEmpty",hash:{},fn:e.program(1,l,0),inverse:e.program(3,l,0),data:l}))?i:"")+' <div class="cBoth"></div> </div> </div> </div>'},useData:!0}),a.signalMissedChatDetailView=e({1:function(e,a,n,t,l){return"block"},3:function(e,a,n,t,l){return"none"},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.escapeExpression;return'<div class="ntc-detailv-inner pR"> <div class="ntc-detailv-para"> <div> <div class="ntc-detailv-content">'+o(n.safeEncodeHTML.call(s,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.chatContent:i,{name:"safeEncodeHTML",hash:{},data:l}))+'</div> </div> </div>  <div class="ntc-foot-links ntc-detail-foot-chat" style="display:'+(null!=(i=n.ifEntityOnline.call(s,null!=(i=null!=a?a.entityObj:a)?i.module:i,null!=(i=null!=a?a.entityObj:a)?i.entityId:i,{name:"ifEntityOnline",hash:{},fn:e.program(1,l,0),inverse:e.program(3,l,0),data:l}))?i:"")+"\" > <a target='_blank' href='"+o(n.getChatLink.call(s,null!=(i=null!=a?a.entityObj:a)?i.module:i,null!=(i=null!=a?a.entityObj:a)?i.entityId:i,{name:"getChatLink",hash:{},data:l}))+'\' class="btn-rlsecondary">'+o(n.getI18n.call(s,"crm.ntc.txt.chat.startchat",{name:"getI18n",hash:{},data:l}))+"</a> </div> </div> </div>"},useData:!0}),a.signalPlatformExtension=e({1:function(e,a,n,t,l){var i;return" "+(null!=(i=n.getOpenTypeForNotification.call(null!=a?a:{},null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.actions:i,{name:"getOpenTypeForNotification",hash:{},fn:e.program(2,l,0),inverse:e.program(4,l,0),data:l}))?i:"")+" "},2:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.escapeExpression;return" <a target='_blank' href='"+o(n.encodeJS.call(s,n.getActionUrl.call(s,null!=a?a.notificationObj:a,{name:"getActionUrl",hash:{},data:l}),{name:"encodeJS",hash:{},data:l}))+'\' class="btn-rlsecondary">'+o(n.getActionDispName.call(s,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.actions:i,{name:"getActionDispName",hash:{},data:l}))+"</a> "},4:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.escapeExpression;return' <a href="javascript:;" onclick="crmNTCGlobal.openNotificationActionInPopup(\''+o(n.encodeJS.call(s,n.getActionUrl.call(s,null!=a?a.notificationObj:a,{name:"getActionUrl",hash:{},data:l}),{name:"encodeJS",hash:{},data:l}))+'\')" class="btn-rlsecondary">'+o(n.getActionDispName.call(s,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.actions:i,{name:"getActionDispName",hash:{},data:l}))+"</a> "},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){var i,s=null!=a?a:{};return'<div class="ntc-detailv-inner pR"> <div class="ntc-detailv-para"> <div> <div class="ntc-detailv-content">'+(null!=(i=n.formatHTML.call(s,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.message:i,{name:"formatHTML",hash:{},data:l}))?i:"")+'</div> </div> </div> <div class="ntc-foot-links"> '+(null!=(i=n.showDetailViewLink.call(s,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.signal:i)?i.namespace:i,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.actions:i,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.signal:i)?i.type:i,{name:"showDetailViewLink",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+" </div> </div>"},useData:!0}),a.signalPopupDetailView=e({compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){return'<div class="pR"> <span onclick="crmNTCDetailView.hideDetailViewPopup(); sE(event)" style="float:right;display:block;right: 16px;top: 13px;z-index:1;text-align:center;" class="newPopupCloseIcon svgIcons ico-close-small2 cP op8 pA"></span> </div> <div class="zcrm-content"> <div class="popup-model-content" style="overflow:hidden;"> <div id="loadMsg" class="aligncenter"><div class="dIB"><span class="ntc-loader" style="display:block"></span></div></div> <div id="signalPopupInnerDiv" class="signalPopupInnerDiv pR" style="display: block;"></div> </div> </div>'},useData:!0}),a.signalShowMoreButton=e({compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){return'<div id="signalDetailsShowMore" class="aligncenter"> <button onclick="crmNTCDetailView.showMoreSignalsDetails()" class="newwhitebtn">Show More</button> </div>'},useData:!0}),a.signalSocialDetailView=e({1:function(e,a,n,t,l){var i;return' <div class="ntc-detailv-para"> <div class="ntc-detailv-content">'+(null!=(i=e.lambda(null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.text:i,a))?i:"")+" </div> </div> "+(null!=(i=n.if.call(null!=a?a:{},null!=(i=null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.entities:i)?i.media:i,{name:"if",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l}))?i:"")+" "},2:function(e,a,n,t,l){var i;return' <div class="ntc-detailv-para"> '+(null!=(i=n.each.call(null!=a?a:{},null!=(i=null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.entities:i)?i.media:i,{name:"each",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l}))?i:"")+" </div> "},3:function(e,a,n,t,l){return' <div class="what mT10 pB15"> <img src="'+e.escapeExpression(e.lambda(null!=a?a.media_url_https:a,a))+'" class="contentimage" onload=""></img> </div> '},5:function(e,a,n,t,l){var i,s=null!=a?a:{};return' <div class="ntc-detailv-para"> <div class="ntc-detailv-content"> '+(null!=(i=e.lambda(null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.message:i,a))?i:"")+" </div> </div> "+(null!=(i=n.if.call(s,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.isPic:i,{name:"if",hash:{},fn:e.program(6,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=n.if.call(s,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.convo:i,{name:"if",hash:{},fn:e.program(8,l,0),inverse:e.noop,data:l}))?i:"")+" "},6:function(e,a,n,t,l){var i;return' <div class="ntc-detailv-media"> <div class="what mT10"> <img src="'+e.escapeExpression(e.lambda(null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.picture:i,a))+'" class="contentimage" onload=""></img> </div> </div> '},8:function(e,a,n,t,l){var i;return" "+(null!=(i=n.if.call(null!=a?a:{},null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.attachments:i,{name:"if",hash:{},fn:e.program(9,l,0),inverse:e.noop,data:l}))?i:"")+" "},9:function(e,a,n,t,l){var i;return' <div class="ntc-detailv-media"> <div class="kso_sharedlink p5 dIB pL20 pR20 mT5"> '+(null!=(i=n.each.call(null!=a?a:{},null!=(i=null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.attachments:i)?i.data:i,{name:"each",hash:{},fn:e.program(10,l,0),inverse:e.noop,data:l}))?i:"")+" </div> </div> "},10:function(e,a,n,t,l){var i;return" "+(null!=(i=n.if.call(null!=a?a:{},null!=a?a.image:a,{name:"if",hash:{},fn:e.program(11,l,0),inverse:e.program(13,l,0),data:l}))?i:"")+" "},11:function(e,a,n,t,l){return' <img src="'+e.escapeExpression(e.lambda(null!=a?a.image:a,a))+'" class="contentimage" onload=""></img> '},13:function(e,a,n,t,l){var i=e.escapeExpression,s=e.lambda;return' <a href="'+i(n.getRebrandKey.call(null!=a?a:{},"FB_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+i(s(null!=a?a.link:a,a))+'" onclick="sE(event);">'+i(s(null!=a?a.name:a,a))+"</a> "},15:function(e,a,n,t,l){var i=null!=a?a:{},s=e.escapeExpression;return' <span class="btn-rlsecondary" data-id="social" onclick="crmNTCDetailView.socialDetailViewPopup(\''+s(n.getSocialParams.call(i,null!=a?a.notificationObj:a,{name:"getSocialParams",hash:{},data:l}))+"')\">"+s(n.getI18n.call(i,"crm.signal.view.post.link",{name:"getI18n",hash:{},data:l}))+"</span> "},17:function(e,a,n,t,l){var i=null!=a?a:{},s=e.escapeExpression;return' <span class="btn-rlsecondary" data-id="social" onclick="crmNTCDetailView.socialDetailViewPopup(\''+s(n.getSocialParams.call(i,null!=a?a.notificationObj:a,{name:"getSocialParams",hash:{},data:l}))+"')\">"+s(n.getI18n.call(i,"crm.signal.view.comment.link",{name:"getI18n",hash:{},data:l}))+"</span> "},19:function(e,a,n,t,l){var i=null!=a?a:{},s=e.escapeExpression;return' <span class="btn-rlsecondary" data-id="social" onclick="crmNTCDetailView.socialDetailViewPopup(\''+s(n.getSocialParams.call(i,null!=a?a.notificationObj:a,{name:"getSocialParams",hash:{},data:l}))+"')\">"+s(n.getI18n.call(i,"crm.signal.view.conv.link",{name:"getI18n",hash:{},data:l}))+"</span> "},21:function(e,a,n,t,l){var i=null!=a?a:{},s=e.escapeExpression;return' <span class="btn-rlsecondary" data-id="social" onclick="crmNTCDetailView.socialDetailViewPopup(\''+s(n.getSocialParams.call(i,null!=a?a.notificationObj:a,{name:"getSocialParams",hash:{},data:l}))+"')\">"+s(n.getI18n.call(i,"crm.signal.view.reply.link",{name:"getI18n",hash:{},data:l}))+"</span> "},23:function(e,a,n,t,l){var i=null!=a?a:{},s=e.escapeExpression;return' <span class="btn-rlsecondary" data-id="social" onclick="crmNTCDetailView.socialDetailViewPopup(\''+s(n.getSocialParams.call(i,null!=a?a.notificationObj:a,{name:"getSocialParams",hash:{},data:l}))+"')\">"+s(n.getI18n.call(i,"crm.signal.view.tweet.link",{name:"getI18n",hash:{},data:l}))+"</span> "},25:function(e,a,n,t,l){var i=null!=a?a:{},s=e.escapeExpression;return' <span class="btn-rlsecondary" data-id="social" onclick="crmNTCDetailView.socialDetailViewPopup(\''+s(n.getSocialParams.call(i,null!=a?a.notificationObj:a,{name:"getSocialParams",hash:{},data:l}))+"')\">"+s(n.getI18n.call(i,"crm.signal.view.message.link",{name:"getI18n",hash:{},data:l}))+"</span> "},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){var i,s=null!=a?a:{};return' <div class="ntc-detailv-inner pR"> '+(null!=(i=n.if_eq.call(s,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.network:i,"twitter",{name:"if_eq",hash:{},fn:e.program(1,l,0),inverse:e.program(5,l,0),data:l}))?i:"")+' <div class="ntc-foot-links"> '+(null!=(i=n.showViewPostLink.call(s,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.signal:i)?i.namespace:i,{name:"showViewPostLink",hash:{},fn:e.program(15,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=n.showViewCommentLink.call(s,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.signal:i)?i.namespace:i,{name:"showViewCommentLink",hash:{},fn:e.program(17,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=n.showViewConvLink.call(s,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.signal:i)?i.namespace:i,{name:"showViewConvLink",hash:{},fn:e.program(19,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=n.showViewReplyLink.call(s,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.signal:i)?i.namespace:i,{name:"showViewReplyLink",hash:{},fn:e.program(21,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=n.showViewTweetLink.call(s,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.signal:i)?i.namespace:i,{name:"showViewTweetLink",hash:{},fn:e.program(23,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=n.showViewMessageLink.call(s,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.signal:i)?i.namespace:i,{name:"showViewMessageLink",hash:{},fn:e.program(25,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=n.showViewPostLinkForLike.call(s,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.signal:i)?i.namespace:i,{name:"showViewPostLinkForLike",hash:{},fn:e.program(15,l,0),inverse:e.noop,data:l}))?i:"")+' <div class="cBoth"></div> </div> </div>'},useData:!0}),a.signalSupportDetailView=e({1:function(e,a,n,t,l){var i,s=e.escapeExpression;return' <div> <span class="dIB mR5">'+s(n.getI18n.call(null!=a?a:{},"Rating",{name:"getI18n",hash:{},data:l}))+' :</span><span class="dIB ntc-bad-rating crmNegativeColor">'+s(e.lambda(null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.rating:i,a))+"</span> </div> "},3:function(e,a,n,t,l){var i;return" "+(null!=(i=n.isNotEmpty.call(null!=a?a:{},null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.ticketOwnerName:i,{name:"isNotEmpty",hash:{},fn:e.program(4,l,0),inverse:e.program(6,l,0),data:l}))?i:"")+" "},4:function(e,a,n,t,l){var i;return' <p class="pT5 pB10"> '+e.escapeExpression(n.getI18n.call(null!=a?a:{},"crm.signal.support.ticket.escalated.owner.text",null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.level:i,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.ticketOwnerName:i,{name:"getI18n",hash:{},data:l}))+" </p> "},6:function(e,a,n,t,l){var i;return" "+(null!=(i=n.ifAllTruthy.call(null!=a?a:{},null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.level:i,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.ESCALATED_BY_DAYS:i,{name:"ifAllTruthy",hash:{},fn:e.program(7,l,0),inverse:e.program(9,l,0),data:l}))?i:"")+" "},7:function(e,a,n,t,l){var i;return' <p class="pT5 pB10"> '+e.escapeExpression(n.getI18n.call(null!=a?a:{},"crm.signal.support.ticket.escalated.level.with.days.text",null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.level:i,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.ESCALATED_BY_DAYS:i,{name:"getI18n",hash:{},data:l}))+" </p> "},9:function(e,a,n,t,l){var i;return" "+(null!=(i=n.isNotEmpty.call(null!=a?a:{},null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.level:i,{name:"isNotEmpty",hash:{},fn:e.program(10,l,0),inverse:e.noop,data:l}))?i:"")+" "},10:function(e,a,n,t,l){var i;return' <p class="pT5 pB10">'+e.escapeExpression(n.getI18n.call(null!=a?a:{},"crm.signal.support.ticket.escalated.level.text",null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.level:i,{name:"getI18n",hash:{},data:l}))+"</p> "},12:function(e,a,n,t,l){var i;return" "+(null!=(i=e.lambda(null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.commentDesc:i,a))?i:"")+" "},14:function(e,a,n,t,l){var i;return" "+(null!=(i=n.isNotEmpty.call(null!=a?a:{},null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.CONTENT:i,{name:"isNotEmpty",hash:{},fn:e.program(15,l,0),inverse:e.noop,data:l}))?i:"")+" "},15:function(e,a,n,t,l){var i;return" "+e.escapeExpression(e.lambda(null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.CONTENT:i,a))+" "},17:function(e,a,n,t,l){var i,s=e.lambda,o=e.escapeExpression;return' <span class="btn-rlsecondary mR10" onclick="crmNTCDetailView.supportDetailPopupView(\''+o(s(null!=(i=null!=a?a.notificationObj:a)?i.id:i,a))+"','"+o(s(null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.encryptedTicketId:i,a))+'\')" data-id="support">'+o(n.getI18n.call(null!=a?a:{},"crm.signal.view.request.link",{name:"getI18n",hash:{},data:l}))+"</span> "},19:function(e,a,n,t,l){var i,s=e.lambda,o=e.escapeExpression;return' <span class="btn-rlsecondary mR10" onclick="crmNTCDetailView.supportDetailPopupView(\''+o(s(null!=(i=null!=a?a.notificationObj:a)?i.id:i,a))+"','"+o(s(null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.encryptedTicketId:i,a))+'\')" data-id="support">'+o(n.getI18n.call(null!=a?a:{},"crm.signal.view.response.link",{name:"getI18n",hash:{},data:l}))+"</span> "},21:function(e,a,n,t,l){var i,s=e.lambda,o=e.escapeExpression;return' <span class="btn-rlsecondary mR10" onclick="crmNTCDetailView.supportDetailPopupView(\''+o(s(null!=(i=null!=a?a.notificationObj:a)?i.id:i,a))+"','"+o(s(null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.encryptedTicketId:i,a))+'\')" data-id="support">'+o(n.getI18n.call(null!=a?a:{},"crm.signal.view.comment.link",{name:"getI18n",hash:{},data:l}))+"</span> "},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){var i,s=null!=a?a:{};return' <div class="ntc-detailv-inner pR"> <div class="ntc-detailv-para"> '+(null!=(i=n.showRating.call(s,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.signal:i)?i.namespace:i,{name:"showRating",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=n.showEscalationLevel.call(s,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.signal:i)?i.namespace:i,{name:"showEscalationLevel",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l}))?i:"")+' <div> <div class="ntc-detailv-subject crm-font-bold crmBaseColor crm-medium-large-font-size pB5"> <span class="crm-subheading-font-size crmBaseColor ntc-detail-head crm-font-regular">'+(null!=(i=n.getSubject.call(s,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.subject:i,{name:"getSubject",hash:{},data:l}))?i:"")+'</span> </div> <div class="ntc-detailv-content"> '+(null!=(i=n.showCommentDesc.call(s,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.signal:i)?i.namespace:i,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.commentDesc:i,{name:"showCommentDesc",hash:{},fn:e.program(12,l,0),inverse:e.program(14,l,0),data:l}))?i:"")+' </div> </div> <div class="ntc-foot-links"> '+(null!=(i=n.showViewRequestLink.call(s,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.signal:i)?i.namespace:i,{name:"showViewRequestLink",hash:{},fn:e.program(17,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=n.showViewResponseLink.call(s,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.signal:i)?i.namespace:i,{name:"showViewResponseLink",hash:{},fn:e.program(19,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=n.showViewCommentLink.call(s,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.signal:i)?i.namespace:i,{name:"showViewCommentLink",hash:{},fn:e.program(21,l,0),inverse:e.noop,data:l}))?i:"")+' <div class="cBoth"></div> </div> </div> </div>'},useData:!0}),a.signalSurveyDetailView=e({1:function(e,a,n,t,l){var i;return' <div class="ntc-detailv-para"> <div> <div class="ntc-detailv-subject crm-font-bold crmBaseColor crm-medium-large-font-size pB5"> <span class="crm-subheading-font-size crmBaseColor ntc-detail-head crm-font-regular">'+e.escapeExpression(n.safeEncodeHTML.call(null!=a?a:{},null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.SURVEYTITLE:i,{name:"safeEncodeHTML",hash:{},data:l}))+"</span> </div> </div> </div> "},3:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.escapeExpression;return' <a href="'+o(n.getVisitSurveyLink.call(s,null!=(i=null!=a?a.notificationObj:a)?i.metadata:i,{name:"getVisitSurveyLink",hash:{},data:l}))+'" target="_blank" class="btn-rlsecondary" data-id="survey">'+o(n.getI18n.call(s,"crm.signal.view.survey",{name:"getI18n",hash:{},data:l}))+'</a> <div class="cBoth"></div> '},5:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.escapeExpression,r=e.lambda;return' <span class="btn-rlsecondary" data-id="survey" onclick="crmNTCDetailView.surveyDetailPopupView(\''+o(n.encodeJS.call(s,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.signal:i)?i.namespace:i,{name:"encodeJS",hash:{},data:l}))+"','"+o(r(null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.UNIQUEID:i,a))+"','"+o(r(null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.RESPONSEID:i,a))+"','"+o(r(null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.EMAIL:i,a))+"')\">"+o(n.getI18n.call(s,"crm.signal.view.response.link",{name:"getI18n",hash:{},data:l}))+'</span> <div class="cBoth"></div> '},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){var i,s=null!=a?a:{};return' <div class="ntc-detailv-inner pR"> '+(null!=(i=n.if.call(s,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.SURVEYTITLE:i,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+' <div class="ntc-foot-links"> '+(null!=(i=n.if.call(s,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.metadata:i)?i.visited:i,{name:"if",hash:{},fn:e.program(3,l,0),inverse:e.program(5,l,0),data:l}))?i:"")+" </div> </div>"},useData:!0}),a.signalWidgetPopupContainer=e({compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){return e.escapeExpression(n.log.call(null!=a?a:{},"Rendered Signal Widget Popup from New Handlebar",{name:"log",hash:{},data:l}))+' <div class="zi35 vaM zcrm-modal zcrm-effect zcrm-show signalPopupContainer" id="SignalWidgetPopup"> <div class="signalWidgetPopup bg_white"> <div class="fR pR pT25 pR20"> <span onclick="WidgetHandler.SalesSignals.close();" class="newPopupCloseIcon svgIcons ico-close-small2 cP op8 dIB" ></span> </div> <div id="signalWidgetPopupTitle" class="popup-model-header crm-heading-font-size crm-font-bold crmHeadingColor"> <span id="reportName"></span> </div> <div id="SignalWidgetPopUpRespContent"></div> </div> </div> '},useData:!0}),a.singleNotification=e({1:function(e,a,n,t,l){return" "+e.escapeExpression(n.getNTCIconClass.call(null!=a?a:{},null!=a?a.notificationObj:a,{name:"getNTCIconClass",hash:{},data:l}))+" "},3:function(e,a,n,t,l){return"none"},5:function(e,a,n,t,l){return"block"},7:function(e,a,n,t,l){var i;return' <img class="nc-platform-image" src="'+e.escapeExpression(n.getExtensionSignalIconUrl.call(null!=a?a:{},null!=(i=null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.signal:i)?i.icon:i)?i.id:i,null!=(i=null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.signal:i)?i.icon:i)?i.sand_box_zgid:i,{name:"getExtensionSignalIconUrl",hash:{},data:l}))+'"></img> '},9:function(e,a,n,t,l){var i;return" "+(null!=(i=n.isSentimentAvailable.call(null!=a?a:{},null!=a?a.notificationObj:a,{name:"isSentimentAvailable",hash:{},fn:e.program(10,l,0),inverse:e.noop,data:l}))?i:"")+' <span class="ntcTxt ntcTxtShort crm-base-font-size crmNotFoundColor" onmouseover="" onmouseout="renderingUtils.zctt.hidett()"> '},10:function(e,a,n,t,l){return" <span class='dIB vaM "+e.escapeExpression(n.getSentimentIconClass.call(null!=a?a:{},null!=a?a.notificationObj:a,{name:"getSentimentIconClass",hash:{},data:l}))+"'></span> "},12:function(e,a,n,t,l){var i;return" "+(null!=(i=n.isSentimentAvailable.call(null!=a?a:{},null!=a?a.notificationObj:a,{name:"isSentimentAvailable",hash:{},fn:e.program(10,l,0),inverse:e.noop,data:l}))?i:"")+' <span class="ntcTxt ntcTxtShort crm-base-font-size crmNotFoundColor"> '},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.escapeExpression,r=e.lambda;return'<li class="no-incomeList pL25 pB7 cDefault pR '+(null!=(i=n.isZohoExtensionSignal.call(s,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.signal:i)?i.namespace:i,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.signal:i)?i.type:i,{name:"isZohoExtensionSignal",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+'" data-ntcObj="'+o(n.JSONtoString.call(s,null!=a?a.notificationObj:a,{name:"JSONtoString",hash:{},data:l}))+'" data-notification-id="'+o(r(null!=(i=null!=a?a.notificationObj:a)?i.NOTIFICATIONID:i,a))+"\" onclick=\"crmNTCDetailView.showDetailView(this); sE(event);\" onmouseover=\"$(this).find('.callNow').css('visibility','visible');sE(event);\" onmouseout=\"$(this).find('.callNow').css('visibility','hidden');sE(event);\" style=\"display:"+(null!=(i=n.if_eq.call(s,null!=a?a.index:a,0,{name:"if_eq",hash:{},fn:e.program(3,l,0),inverse:e.program(5,l,0),data:l}))?i:"")+'"> '+(null!=(i=n.isPlatformExtensionSignal.call(s,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.signal:i)?i.type:i,{name:"isPlatformExtensionSignal",hash:{},fn:e.program(7,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=n.showTitleOnMouseover.call(s,null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.signal:i)?i.namespace:i,{name:"showTitleOnMouseover",hash:{},fn:e.program(9,l,0),inverse:e.program(12,l,0),data:l}))?i:"")+" "+o(n.getNTCText.call(s,null!=a?a.notificationObj:a,null!=a?a.module:a,null!=a?a.entityId:a,{name:"getNTCText",hash:{},data:l}))+' </span> <span class="nc-rtime fR" data-signalTime="'+o(r(null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.date:i)?i.tooltip:i,a))+'"> '+o(r(null!=(i=null!=(i=null!=a?a.notificationObj:a)?i.date:i)?i.display:i,a))+" </span> </li> "},useData:!0}),a.wrappedNotification=e({1:function(e,a,n,t,l){return' <span class="'+e.escapeExpression(n.getNTCIconClass.call(null!=a?a:{},null!=a?a.first_notification:a,{name:"getNTCIconClass",hash:{},data:l}))+' pR"></span> '},3:function(e,a,n,t,l){var i,s=null!=a?a:{};return' <crmutil-icon icon-name="'+(null!=(i=n.isZohoExtensionSignal.call(s,null!=(i=null!=(i=null!=a?a.first_notification:a)?i.signal:i)?i.namespace:i,null!=(i=null!=(i=null!=a?a.first_notification:a)?i.signal:i)?i.type:i,{name:"isZohoExtensionSignal",hash:{},fn:e.program(4,l,0),inverse:e.program(6,l,0),data:l}))?i:"")+'" icon-class="zcicn-'+(null!=(i=n.isZohoExtensionSignal.call(s,null!=(i=null!=(i=null!=a?a.first_notification:a)?i.signal:i)?i.namespace:i,null!=(i=null!=(i=null!=a?a.first_notification:a)?i.signal:i)?i.type:i,{name:"isZohoExtensionSignal",hash:{},fn:e.program(4,l,0),inverse:e.program(6,l,0),data:l}))?i:"")+" zcicn-"+(null!=(i=n.isZohoExtensionSignal.call(s,null!=(i=null!=(i=null!=a?a.first_notification:a)?i.signal:i)?i.namespace:i,null!=(i=null!=(i=null!=a?a.first_notification:a)?i.signal:i)?i.type:i,{name:"isZohoExtensionSignal",hash:{},fn:e.program(4,l,0),inverse:e.program(6,l,0),data:l}))?i:"")+'-colored zcicn-color-mixed zcicn_616E88 "></crmutil-icon> '},4:function(e,a,n,t,l){return e.escapeExpression(n.getNTCIconClass.call(null!=a?a:{},null!=a?a.first_notification:a,{name:"getNTCIconClass",hash:{},data:l}))},6:function(e,a,n,t,l){return" ntc-platform "},8:function(e,a,n,t,l){var i;return' <img class="nc-platform-image" src="'+e.escapeExpression(n.getExtensionSignalIconUrl.call(null!=a?a:{},null!=(i=null!=(i=null!=(i=null!=a?a.first_notification:a)?i.signal:i)?i.icon:i)?i.id:i,null!=(i=null!=(i=null!=(i=null!=a?a.first_notification:a)?i.signal:i)?i.icon:i)?i.sand_box_zgid:i,{name:"getExtensionSignalIconUrl",hash:{},data:l}))+'"></img> '},10:function(e,a,n,t,l){var i;return" "+(null!=(i=n.isSignalIframeOpen.call(null!=a?a:{},{name:"isSignalIframeOpen",hash:{},fn:e.program(11,l,0),inverse:e.program(13,l,0),data:l}))?i:"")+" "},11:function(e,a,n,t,l){var i;return' <img class="nc-platform-image" src="'+e.escapeExpression(n.getZohoUserCustomSignalIconUrl.call(null!=a?a:{},null!=(i=null!=(i=null!=a?a.first_notification:a)?i.signal:i)?i.icon:i,null!=(i=null!=(i=null!=a?a.first_notification:a)?i.signal:i)?i.id:i,{name:"getZohoUserCustomSignalIconUrl",hash:{},data:l}))+'"></img> '},13:function(e,a,n,t,l){var i;return' <img class="nc-platform-image lazy" src="" data-src="'+e.escapeExpression(n.getZohoUserCustomSignalIconUrl.call(null!=a?a:{},null!=(i=null!=(i=null!=a?a.first_notification:a)?i.signal:i)?i.icon:i,null!=(i=null!=(i=null!=a?a.first_notification:a)?i.signal:i)?i.id:i,{name:"getZohoUserCustomSignalIconUrl",hash:{},data:l}))+'"></img> '},15:function(e,a,n,t,l){var i,s=null!=a?a:{};return" "+(null!=(i=n.isSentimentAvailable.call(s,null!=a?a.first_notification:a,{name:"isSentimentAvailable",hash:{},fn:e.program(16,l,0),inverse:e.noop,data:l}))?i:"")+' <span class="ntcTxt ntcTxtShort" onmouseover="renderingUtils.zctt.showtt(\''+e.escapeExpression(n.encodeJS.call(s,n.getNTCTitleText.call(s,null!=(i=null!=(i=null!=a?a.first_notification:a)?i.signal:i)?i.namespace:i,null!=(i=null!=a?a.first_notification:a)?i.metadata:i,{name:"getNTCTitleText",hash:{},data:l}),{name:"encodeJS",hash:{},data:l}))+'\')" onmouseout="renderingUtils.zctt.hidett()"> '},16:function(e,a,n,t,l){return" <span class='dIB vaM "+e.escapeExpression(n.getSentimentIconClass.call(null!=a?a:{},null!=a?a.first_notification:a,{name:"getSentimentIconClass",hash:{},data:l}))+"'></span> "},18:function(e,a,n,t,l){var i;return" "+(null!=(i=n.isSentimentAvailable.call(null!=a?a:{},null!=a?a.first_notification:a,{name:"isSentimentAvailable",hash:{},fn:e.program(16,l,0),inverse:e.noop,data:l}))?i:"")+' <span class="ntcTxt ntcTxtShort"> '},20:function(e,a,n,t,l){var i,s=e.lambda,o=e.escapeExpression;return' <span class="vmore fR"> <span class="notC">'+o(s(null!=a?a.unseenCount:a,a))+'</span> </span> <span class="nc-rtime fR" data-signalTime="'+o(s(null!=(i=null!=(i=null!=a?a.first_notification:a)?i.date:i)?i.tooltip:i,a))+'" style="display:none"> '+o(s(null!=(i=null!=(i=null!=a?a.first_notification:a)?i.date:i)?i.display:i,a))+" </span> "},22:function(e,a,n,t,l){var i,s=e.lambda,o=e.escapeExpression;return' <span class="nc-rtime fR" data-signalTime="'+o(s(null!=(i=null!=(i=null!=a?a.first_notification:a)?i.date:i)?i.tooltip:i,a))+'" style="display:block"> '+o(s(null!=(i=null!=(i=null!=a?a.first_notification:a)?i.date:i)?i.display:i,a))+" </span> "},24:function(e,a,n,t,l){var i,s=e.escapeExpression;return' <crm-competitor-mention-list data-zcqa="zComp_mentioned_tags_'+s(e.lambda(null!=(i=null!=(i=null!=a?a.first_notification:a)?i.metadata:i)?i.SUBJECT:i,a))+'" meta-data="'+s(n.ObjToString.call(null!=a?a:{},null!=(i=null!=a?a.first_notification:a)?i.metadata:i,{name:"ObjToString",hash:{},data:l}))+'" hide-data="true"></crm-competitor-mention-list> '},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){var i,s=e.escapeExpression,o=null!=a?a:{};return' <div class="min-innerNotifywrapped"> <ul width="100%" class="pL0 m0"> <li class="no-incomeList cDefault fontsmooth pR" data-notification-id="'+s(e.lambda(null!=(i=null!=a?a.first_notification:a)?i.id:i,a))+"\" onmouseover=\"sE(event);$(this).find('.callNow').css('visibility','visible');\" onmouseout=\"sE(event);$(this).find('.callNow').css('visibility','hidden');\"> <div class=\"dF signalAppEle\"> <span class=\"signalAppicon mR8 mT2\"> "+(null!=(i=n.isPartOf.call(o,"Webinar,Message",null!=(i=null!=(i=null!=(i=null!=a?a.first_notification:a)?i.signal:i)?i.extension:i)?i.namespace:i,{name:"isPartOf",hash:{},fn:e.program(1,l,0),inverse:e.program(3,l,0),data:l}))?i:"")+" </span> "+(null!=(i=n.isPlatformExtensionSignal.call(o,null!=(i=null!=(i=null!=a?a.first_notification:a)?i.signal:i)?i.namespace:i,{name:"isPlatformExtensionSignal",hash:{},fn:e.program(8,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=n.isUserCustomExtension.call(o,null!=(i=null!=(i=null!=a?a.first_notification:a)?i.signal:i)?i.type:i,{name:"isUserCustomExtension",hash:{},fn:e.program(10,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=n.showTitleOnMouseover.call(o,null!=(i=null!=(i=null!=a?a.first_notification:a)?i.signal:i)?i.namespace:i,{name:"showTitleOnMouseover",hash:{},fn:e.program(15,l,0),inverse:e.program(18,l,0),data:l}))?i:"")+" "+s(n.getNTCText.call(o,null!=a?a.first_notification:a,null!=a?a.module:a,null!=a?a.entityId:a,{name:"getNTCText",hash:{},data:l}))+" </span> </span> </div> "+(null!=(i=n.ifGreaterOne.call(o,null!=a?a.unseenCount:a,{name:"ifGreaterOne",hash:{},fn:e.program(20,l,0),inverse:e.program(22,l,0),data:l}))?i:"")+" </li> "+(null!=(i=n.isCompetitorAlert.call(o,null!=a?a.first_notification:a,{name:"isCompetitorAlert",hash:{},fn:e.program(24,l,0),inverse:e.noop,data:l}))?i:"")+" </ul> </div>"},useData:!0})}();var crmNTCHelpers={name:""};Handlebars.registerHelper("getNTCIconClass",(function(e){return crmNTCGlobal.getNTCIconClass(e)})),Handlebars.registerHelper("getEntityUrl",(function(e,a){return Crm.getCrmBasePath()+"/tab/"+a+"/"+e})),Handlebars.registerHelper("noUnreadNotification",(function(e,a){for(var n=e.length,t=0;t<n;t++)if(!e[t].read)return a.inverse(this);return a.fn(this)})),Handlebars.registerHelper("getNTCText",(function(e){var a="[No Subject]";if(e.signal.namespace===crmNTC.MAIL_INCOMING||e.signal.namespace===crmNTC.MAIL_INCOMING_NEW||e.signal.namespace===crmNTC.MAIL_INCOMING_COMPETITORS_ALERT||e.signal.namespace===crmNTC.MAIL_INCOMING_COMPETITORS_ALERT_NEW){var n=Handlebars.Utils.escapeExpression(e.metadata.SUBJECT||"[No Subject]");a=I18n.getMsg("crm.ntc.txt.mail.new",[n])}else if(e.signal.namespace===crmNTC.SURVEY_RESPONDED||e.signal.namespace===crmNTC.SURVEY_RESPONDED_NEW){var t=Handlebars.Utils.escapeExpression(e.metadata.SURVEYTITLE);a=I18n.getMsg("crm.ntc.txt.survey.responded",[t])}else if(e.signal.namespace===crmNTC.SURVEY_VISITED||e.signal.namespace===crmNTC.SURVEY_VISITED_NEW){t=Handlebars.Utils.escapeExpression(e.metadata.SURVEYTITLE);a=I18n.getMsg("crm.ntc.txt.survey.visited",[t])}else if(e.signal.namespace===crmNTC.MAILTRACKING_OPEN||e.signal.namespace===crmNTC.MAILTRACKING_OPEN_NEW){n="#####TEST#SUBJECT#####"===(n=Handlebars.Utils.escapeExpression(e.metadata.SUBJECT||"[No Subject]"))?"[Subject Hidden]":n,a=I18n.getMsg("crm.ntc.txt.mailTracking.open",[n])}else if(e.signal.namespace===crmNTC.MAILTRACKING_CLICK||e.signal.namespace===crmNTC.MAILTRACKING_CLICK_NEW){n="#####TEST#SUBJECT#####"===(n=Handlebars.Utils.escapeExpression(e.metadata.SUBJECT||"[No Subject]"))?"[Subject Hidden]":n,a=I18n.getMsg("crm.ntc.txt.mailTracking.click",[n])}else if(e.signal.namespace===crmNTC.MAILTRACKING_BOUNCE||e.signal.namespace===crmNTC.MAILTRACKING_BOUNCE_NEW){n="#####TEST#SUBJECT#####"===(n=Handlebars.Utils.escapeExpression(e.metadata.SUBJECT||"[No Subject]"))?"[Subject Hidden]":n,a=I18n.getMsg("crm.ntc.txt.mailTracking.bounce",[n])}else if(e.signal.namespace===crmNTC.CAMPAIGN_OPEN||e.signal.namespace===crmNTC.CAMPAIGN_OPEN_NEW){var l=Handlebars.Utils.escapeExpression(e.metadata.CAMPAIGNNAME);a=I18n.getMsg("crm.ntc.txt.campaign.open",[l])}else if(e.signal.namespace===crmNTC.CAMPAIGN_CLICK||e.signal.namespace===crmNTC.CAMPAIGN_CLICK_NEW){l=Handlebars.Utils.escapeExpression(e.metadata.CAMPAIGNNAME);a=I18n.getMsg("crm.ntc.txt.campaign.click",[l])}else if(e.signal.namespace===crmNTC.CAMPAIGN_BOUNCE||e.signal.namespace===crmNTC.CAMPAIGN_BOUNCE_NEW){l=Handlebars.Utils.escapeExpression(e.metadata.CAMPAIGNNAME);a=I18n.getMsg("crm.ntc.txt.campaign.bounce",[l])}else if(e.signal.namespace===crmNTC.CAMPAIGN_SOFT_BOUNCE||e.signal.namespace===crmNTC.CAMPAIGN_SOFT_BOUNCE_NEW){l=Handlebars.Utils.escapeExpression(e.metadata.CAMPAIGNNAME);a=I18n.getMsg("crm.ntc.txt.campaign.soft.bounce",[l])}else if(e.signal.namespace===crmNTC.CALL_MISSED||e.signal.namespace===crmNTC.CALL_MISSED_NEW){var i=Handlebars.Utils.escapeExpression(e.metadata.CUSTNUMBER);a=I18n.getMsg("crm.ntc.txt.call.missed",[i])}else if(e.signal.namespace===crmNTC.SALESIQ_CHAT_MISSED||e.signal.namespace===crmNTC.SALESIQ_CHAT_MISSED_NEW){var s=Handlebars.Utils.escapeExpression(e.metadata.chatContent);a=I18n.getMsg("crm.ntc.txt.chat.missed",[s])}else if(-1!=crmNTC.SUPPORT_NEW_TICKET_TYPES.indexOf(e.signal.namespace)){var o=e.metadata.ticketNo?Handlebars.Utils.escapeExpression("#"+e.metadata.ticketNo):Handlebars.Utils.escapeExpression(e.metadata.subject);a=I18n.getMsg("crm.ntc.txt.support.newTicket",[o])}else if(e.signal.namespace===crmNTC.SUPPORT_NEW_RATING||e.signal.namespace===crmNTC.SUPPORT_NEW_RATING_NEW){o=e.metadata.ticketNo?Handlebars.Utils.escapeExpression("#"+e.metadata.ticketNo):Handlebars.Utils.escapeExpression(e.metadata.subject);a=I18n.getMsg("crm.ntc.txt.support.newRating",[o])}else if(e.signal.namespace===crmNTC.SUPPORT_TICKET_OVERDUE||e.signal.namespace===crmNTC.SUPPORT_TICKET_OVERDUE_NEW){o=e.metadata.ticketNo?Handlebars.Utils.escapeExpression("#"+e.metadata.ticketNo):Handlebars.Utils.escapeExpression(e.metadata.subject);a=I18n.getMsg("crm.ntc.txt.support.overdue",[o])}else if(e.signal.namespace===crmNTC.SUPPORT_TICKET_ESCALATED||e.signal.namespace===crmNTC.SUPPORT_TICKET_ESCALATED_NEW){o=e.metadata.ticketNo?Handlebars.Utils.escapeExpression("#"+e.metadata.ticketNo):Handlebars.Utils.escapeExpression(e.metadata.subject);a=I18n.getMsg("crm.ntc.txt.support.escalated",[o])}else if(-1!=crmNTC.SUPPORT_NEW_COMMENT_TYPES.indexOf(e.signal.namespace)){o=e.metadata.ticketNo?Handlebars.Utils.escapeExpression("#"+e.metadata.ticketNo):Handlebars.Utils.escapeExpression(e.metadata.subject);a="zoho.support.newcomment.mention"===e.signal.namespace?I18n.getMsg("crm.ntc.txt.support.newMention",[o]):I18n.getMsg("crm.ntc.txt.support.newComment",[o])}else if(-1!=crmNTC.SUPPORT_NEW_RESPONSE_TYPES.indexOf(e.signal.namespace)){o=e.metadata.ticketNo?Handlebars.Utils.escapeExpression("#"+e.metadata.ticketNo):Handlebars.Utils.escapeExpression(e.metadata.subject);a=I18n.getMsg("crm.ntc.txt.support.newResponse",[o])}else if(e.signal.namespace===crmNTC.SOCIAL_FB_NEW_POST||e.signal.namespace===crmNTC.SOCIAL_FB_NEW_POST_NEW){var r=Handlebars.Utils.escapeExpression(e.metadata.message);a=I18n.getMsg("crm.ntc.txt.fb.post",[r])}else if(e.signal.namespace===crmNTC.SOCIAL_FB_NEW_COMMENT||e.signal.namespace===crmNTC.SOCIAL_FB_NEW_COMMENT_NEW){var c=Handlebars.Utils.escapeExpression(e.metadata.message);a=I18n.getMsg("crm.ntc.txt.fb.comment",[c])}else if(e.signal.namespace===crmNTC.SOCIAL_FB_NEW_LIKE||e.signal.namespace===crmNTC.SOCIAL_FB_NEW_LIKE_NEW)a=I18n.getMsg("crm.ntc.txt.fb.like");else if(e.signal.namespace===crmNTC.SOCIAL_FB_DM||e.signal.namespace===crmNTC.SOCIAL_FB_DM_NEW)a=I18n.getMsg("crm.ntc.txt.fb.dm",[]);else if(e.signal.namespace===crmNTC.SOCIAL_TW_MENTION||e.signal.namespace===crmNTC.SOCIAL_TW_MENTION_NEW){var d=Handlebars.Utils.escapeExpression(e.metadata.message);a=I18n.getMsg("crm.ntc.txt.twitter.mention",[d])}else if(e.signal.namespace===crmNTC.SOCIAL_TW_REPLY||e.signal.namespace===crmNTC.SOCIAL_TW_REPLY_NEW){var u=Handlebars.Utils.escapeExpression(e.metadata.message);a=I18n.getMsg("crm.ntc.txt.twitter.reply",[u])}else if(e.signal.namespace===crmNTC.SOCIAL_TW_DM||e.signal.namespace===crmNTC.SOCIAL_TW_DM_NEW)a=I18n.getMsg("crm.ntc.txt.twitter.dm",[]);else if(e.signal.namespace===crmNTC.PLATFORM_EXTENSION_SIGNAL)a=Handlebars.Utils.escapeExpression(e.metadata.subject);else if(e.signal.namespace===crmNTC.MESSAGE_NEWMESSAGE){r=decodeURIComponent(e.metadata.message.replace(/\+/g,"%20"));r=Handlebars.Utils.escapeExpression(r),a=I18n.getMsg("crm.ntc.txt.message.newmessage",[r])}else a=e.signal.namespace===crmNTC.MESSAGE_READ?I18n.getMsg("crm.ntc.txt.message.read"):e.signal.namespace===crmNTC.SUPPORT_TICKET_PRIORITY_CHANGE||e.signal.namespace===crmNTC.SUPPORT_TICKET_PRIORITY_CHANGE_NEW?I18n.getMsg("crm.tasks.priority")+" "+I18n.getMsg("crm.button.change"):e.signal.namespace===crmNTC.SUPPORT_TICKET_STATUS_CHANGE||e.signal.namespace===crmNTC.SUPPORT_TICKET_STATUS_CHANGE_NEW?I18n.getMsg("crm.tasks.status")+" "+I18n.getMsg("crm.button.change"):e.signal.namespace===crmNTC.SUPPORT_NEW_COMMENT_SUPPORT_REP||e.signal.namespace===crmNTC.SUPPORT_NEW_COMMENT_SUPPORT_REP_NEW?I18n.getMsg("crm.signal.support.new.comment.text"):Handlebars.Utils.escapeExpression(e.signal.display_label)+" - "+Handlebars.Utils.escapeExpression(e.metadata.subject);return new Handlebars.SafeString(a)})),Handlebars.registerHelper("getSignalHeading",(function(e){var a="[No Heading]",n=e.signal.namespace;if(n===crmNTC.MAIL_INCOMING||n===crmNTC.MAIL_INCOMING_NEW)a=I18n.getMsg("crm.signal.incoming.heading.text");else if(n===crmNTC.MAILTRACKING_OPEN||n===crmNTC.MAILTRACKING_OPEN_NEW)a=I18n.getMsg("crm.signal.mailtracking.open.text");else if(n===crmNTC.MAILTRACKING_CLICK||n===crmNTC.MAILTRACKING_CLICK_NEW)a=I18n.getMsg("crm.signal.mailtracking.click.text");else if(n===crmNTC.MAILTRACKING_BOUNCE||n===crmNTC.MAILTRACKING_BOUNCE_NEW)a=I18n.getMsg("crm.signal.mailtracking.bounce.text");else if(n===crmNTC.SURVEY_RESPONDED||n===crmNTC.SURVEY_RESPONDED_NEW)a=I18n.getMsg("crm.signal.survey.responded.text");else if(n===crmNTC.SURVEY_VISITED||n===crmNTC.SURVEY_VISITED_NEW)a=I18n.getMsg("crm.signal.survey.visited.text");else if(n===crmNTC.CAMPAIGN_OPEN||n===crmNTC.CAMPAIGN_OPEN_NEW)a=I18n.getMsg("crm.signal.campaign.open.text");else if(n===crmNTC.CAMPAIGN_CLICK||n===crmNTC.CAMPAIGN_CLICK_NEW)a=I18n.getMsg("crm.signal.campaign.click.text");else if(n===crmNTC.CAMPAIGN_BOUNCE||n===crmNTC.CAMPAIGN_BOUNCE_NEW)a=I18n.getMsg("crm.signal.campaign.bounce.text");else if(n===crmNTC.CAMPAIGN_SOFT_BOUNCE||n===crmNTC.CAMPAIGN_SOFT_BOUNCE_NEW)a=I18n.getMsg("crm.signal.campaign.soft.bounce.text");else if(n===crmNTC.CALL_MISSED||n===crmNTC.CALL_MISSED_NEW)a=I18n.getMsg("crm.signal.telephony.missed.call.text");else if(n===crmNTC.SALESIQ_CHAT_MISSED||n===crmNTC.SALESIQ_CHAT_MISSED_NEW)a=I18n.getMsg("crm.signal.salesiq.missed.chat.text");else if(n===crmNTC.SOCIAL_FB_NEW_POST||n===crmNTC.SOCIAL_FB_NEW_POST_NEW)a=e.metadata.page_name?I18n.getMsg("crm.signal.social.fb.new.post.text",[e.metadata.page_name]):I18n.getMsg("crm.signal.social.fb.new.post.no.pagename.text");else if(n===crmNTC.SOCIAL_FB_NEW_COMMENT||n===crmNTC.SOCIAL_FB_NEW_COMMENT_NEW)a=e.metadata.page_name?I18n.getMsg("crm.signal.social.fb.new.comment.text",[e.metadata.page_name]):I18n.getMsg("crm.signal.social.fb.new.comment.no.pagename.text");else if(n===crmNTC.SOCIAL_FB_DM||n===crmNTC.SOCIAL_FB_DM_NEW)a=I18n.getMsg("crm.signal.social.fb.conversation.text");else if(n===crmNTC.SOCIAL_FB_NEW_LIKE||n===crmNTC.SOCIAL_FB_NEW_LIKE_NEW)a=I18n.getMsg("crm.signal.social.fb.like.text",[e.metadata.page_name]);else if(n===crmNTC.SOCIAL_TW_MENTION||n===crmNTC.SOCIAL_TW_MENTION_NEW)a=I18n.getMsg("crm.signal.social.tw.mention.text");else if(n===crmNTC.SOCIAL_TW_REPLY)a=I18n.getMsg("crm.signal.social.tw.reply.text");else if(n===crmNTC.SOCIAL_TW_DM)a=I18n.getMsg("crm.signal.social.tw.dm.text");else if(-1!=crmNTC.SUPPORT_NEW_TICKET_TYPES.indexOf(e.signal.namespace))a=I18n.getMsg("crm.signal.support.new.ticket.text");else if(-1!=crmNTC.SUPPORT_NEW_COMMENT_TYPES.indexOf(e.signal.namespace))if(n===crmNTC.SUPPORT_NEW_COMMENT_MENTION||n===crmNTC.SUPPORT_NEW_COMMENT_MENTION_NEW)a=a=(a=I18n.getMsg("crm.signal.social.tw.mention.text")).replace(I18n.getMsg("crm.nsocial.title.twitter"),I18n.getMsg("crm.signal.support.rating.text").split("-")[0].trim());else{var t=e.metadata.isEscalated,l=e.metadata.isOverdueTicket;a=void 0!==t&&"true"===t?I18n.getMsg("crm.signal.support.new.comment.escalated.text"):void 0!==l&&"true"===l?I18n.getMsg("crm.signal.support.new.comment.overdue.text"):I18n.getMsg("crm.signal.support.new.comment.text")}else if(-1!=crmNTC.SUPPORT_NEW_RESPONSE_TYPES.indexOf(e.signal.namespace)){t=e.metadata.isEscalated,l=e.metadata.isOverdueTicket;a=void 0!==t&&"true"===t?I18n.getMsg("crm.signal.support.new.response.escalated.text"):void 0!==l&&"true"===l?I18n.getMsg("crm.signal.support.new.response.overdue.text"):I18n.getMsg("crm.signal.support.new.response.text")}else if(n===crmNTC.SUPPORT_NEW_RATING||n===crmNTC.SUPPORT_NEW_RATING_NEW)a=I18n.getMsg("crm.signal.support.rating.text");else if(n===crmNTC.SUPPORT_TICKET_OVERDUE||n===crmNTC.SUPPORT_TICKET_OVERDUE_NEW)if(void 0!==e.metadata.overdueInfo){var i=e.metadata.overdueInfo.DATEFORDISPLAY;a=I18n.getMsg("crm.signal.support.ticket.overdue.by.text",[i])}else a=I18n.getMsg("crm.signal.support.ticket.overdue.text");else a=n===crmNTC.SUPPORT_TICKET_ESCALATED||n===crmNTC.SUPPORT_TICKET_ESCALATED_NEW?I18n.getMsg("crm.signal.support.ticket.escalated.text"):n===crmNTC.SUPPORT_TICKET_PRIORITY_CHANGE||n===crmNTC.SUPPORT_TICKET_PRIORITY_CHANGE_NEW?I18n.getMsg("crm.signal.support.ticket.status.change.text"):n===crmNTC.PLATFORM_EXTENSION_SIGNAL?I18n.getMsg(e.signal.extension.display_label)+" - "+I18n.getMsg(e.signal.display_label):n===crmNTC.MESSAGE_NEWMESSAGE||n===crmNTC.MESSAGE_READ?Handlebars.Utils.escapeExpression(e.metadata.channel_name+" - "+e.signal.display_label):n===crmNTC.SUPPORT_TICKET_PRIORITY_CHANGE||n===crmNTC.SUPPORT_TICKET_PRIORITY_CHANGE_NEW?I18n.getMsg("crm.tasks.priority")+" "+I18n.getMsg("crm.button.change"):n===crmNTC.SUPPORT_TICKET_STATUS_CHANGE||n===crmNTC.SUPPORT_TICKET_STATUS_CHANGE_NEW?I18n.getMsg("crm.tasks.status")+" "+I18n.getMsg("crm.button.change"):n===crmNTC.SUPPORT_NEW_COMMENT_SUPPORT_REP||n===crmNTC.SUPPORT_NEW_COMMENT_SUPPORT_REP_NEW?a=I18n.getMsg("crm.signal.support.new.comment.text"):I18n.getMsg(e.signal.extension.display_label)+" - "+I18n.getMsg(e.signal.display_label);return new Handlebars.SafeString(a)})),Handlebars.registerHelper("getNTCTypeText",(function(e,a){return e===crmNTC.ZOHO_EXTENSION_TYPE?I18n.getMsg(a,[]):a})),Handlebars.registerHelper("getRandomGradient",(function(){var e=["0px 0px","-34px 0px","-67px 0px","-101px 0px","-133px 0px","0px -36px","-35px -36px","-67px -36px","-101px -36px","-134px -36px"];return e[Math.floor(Math.random()*e.length)]})),Handlebars.registerHelper("getFirstChar",(function(e){return e?e.charAt(0):""})),Handlebars.registerHelper("ifGreaterOne",(function(e,a){return e>1?a.fn(this):a.inverse(this)})),Handlebars.registerHelper("ifArrayContains",(function(e,a,n){return e&&a&&-1!=e.indexOf(a)?n.fn():n.inverse()})),Handlebars.registerHelper("ifSelected",(function(e,a,n){return e&&void 0!==a&&a<e.length&&1==e[a]?n.fn():n.inverse()})),Handlebars.registerHelper("getArrayElementByIndex",(function(e,a){return e&&void 0!==a&&a<e.length?e[a]:null})),Handlebars.registerHelper("renderFirstNotification",(function(e,a,n){for(var t=!0,l=0,i=e.length;l<i;l++)if(e[l].read){t=!1;break}return Handlebars.templates.wrappedNotification({first_notification:e[0],unseen_notifications:e,unseen_count:e.length,module:a,entityId:n,noUnreadSignals:t,unseenCount:l})})),Handlebars.registerHelper("renderSingleNotification",(function(e,a,n,t){return Handlebars.templates.singleNotification({index:e,notificationObj:a,module:n,entityId:t})})),Handlebars.registerHelper("renderNTCTopLevelSettings",(function(e,a,n,t,l,i,s){var o=!1;if(s){for(var r=(s=JSON.parse(s)).length,c=0;c<r;c++)if(-1!=i.indexOf(s[c])){o=!0;break}}else o=-1!=i.indexOf(t);return Handlebars.templates.topLevelSettings({setting_name:e,setting_label:I18n.getMsg(a),setting_id:n,notification_type:t,is_configured:l,enabled:o})})),Handlebars.registerHelper("renderNTCSubSetting",(function(e,a,n,t){return Handlebars.templates.subSettings({signalSettingObj:e,extensionid:a,is_integ_configured:n,extensionObj:t})})),Handlebars.registerHelper("renderNTCSecondaryLevelSettings",(function(e,a,n,t){return Handlebars.templates.secondaryLevelSettings({signalSettingObj:e,extensionid:a,is_integ_configured:n,extensionObj:t})})),Handlebars.registerHelper("renderNTCChatSetting",(function(e,a,n,t,l){var i={};return i.chatType=l,0==l?(i.labelSuffix="_CliqCB",i.classlabel="NTCCliqCB",i.isChecked=crmNTCSettings.getSignalStatusForChannel(e.notify_via,"cliq")):1==l?(i.labelSuffix="_SlackCB",i.classlabel="NTCSlackCB",i.isChecked=crmNTCSettings.getSignalStatusForChannel(e.notify_via,"slack")):2==l&&(i.labelSuffix="_CiscoCB",i.classlabel="NTCCiscoCB",i.isChecked=crmNTCSettings.getSignalStatusForChannel(e.notify_via,"cisco")),Handlebars.templates.ntcChatConfig({signalSettingObj:e,extensionid:a,is_integ_configured:n,extensionObj:t,chatObj:i})})),Handlebars.registerHelper("renderNTCSecondryLevelChatSetting",(function(e,a,n,t,l){var i={};return i.chatType=l,0==l?(i.labelSuffix="_CliqCB",i.classlabel="NTCCliqCB",i.isChecked=crmNTCSettings.getSignalStatusForChannel(e.notify_via,"cliq")):1==l?(i.labelSuffix="_SlackCB",i.classlabel="NTCSlackCB",i.isChecked=crmNTCSettings.getSignalStatusForChannel(e.notify_via,"slack")):(2==l||2==l)&&(i.labelSuffix="_CiscoCB",i.classlabel="NTCCiscoCB",i.isChecked=crmNTCSettings.getSignalStatusForChannel(e.notify_via,"cisco")),Handlebars.templates.ntcChatSecondaryLevelSettings({signalSettingObj:e,extensionid:a,is_integ_configured:n,extensionObj:t,chatObj:i})})),Handlebars.registerHelper("renderTeamsForSS",(function(e,a){var n=!1;return null!=a&&(n=!0),Handlebars.templates.PopulateTeams({teams:e,teamexist:n,selectedteam:a})})),Handlebars.registerHelper("campaginClicksTT",(function(e){for(var a=crmNTC.getNTCFullDateTime(e[0]),n=e.length,t=1;t<n;t++)a+=" <br> "+crmNTC.getNTCFullDateTime(e[t]);return a})),Handlebars.registerHelper("ntcDateFormat",(function(e){if(e){e=e.replace(" ","T");var a=new Date(e),n=new Date;return a.getFullYear()!=n.getFullYear()?$.datepicker.formatDate("M d, yy",a):a.getDate()!=n.getDate()||a.getMonth()!=n.getMonth()?$.datepicker.formatDate("M d",a):Utils.getTimeInUserFormat(a,!0)}})),Handlebars.registerHelper("ntcFullDateTime",(function(e){return crmNTC.getNTCFullDateTime(e)})),Handlebars.registerHelper("getNotificationIds",(function(e){return e.map((function(e){return e.NOTIFICATIONID}))})),Handlebars.registerHelper("ifObj",(function(e,a){if(null!==e)return"object"==typeof e?a.fn(this):a.inverse(this)})),Handlebars.registerHelper("ifEntityOnline",(function(e,a,n){return crmNTCGlobal.isEntityOnline(e,a)?n.fn(this):n.inverse(this)})),Handlebars.registerHelper("isCompetitorAlert",(function(e,a){return e&&e.signal&&(e.signal.namespace===crmNTC.MAIL_INCOMING_COMPETITORS_ALERT||e.signal.namespace===crmNTC.MAIL_INCOMING_COMPETITORS_ALERT_NEW)?a.fn(this):a.inverse(this)})),Handlebars.registerHelper("isSelfMarketingAvailable",(function(e,a){return e&&e[0]&&e[0].metadata&&e[0].metadata.hasOwnProperty("SENTIMENT")&&"Negative"===e[0].metadata.SENTIMENT&&Crm.userDetails.isSelfMarketingEnabled?a.fn(this):a.inverse(this)})),Handlebars.registerHelper("showCompetitorAlertTag",(function(e,a){return e[0].signal.namespace===crmNTC.MAIL_INCOMING_COMPETITORS_ALERT_NEW||e.filter((function(e){return e.signal.namespace===crmNTC.MAIL_INCOMING_COMPETITORS_ALERT_NEW&&!e.read})).length>0?a.fn(this):a.inverse(this)})),Handlebars.registerHelper("getChatLink",(function(e,a){return crmNTCGlobal.getChatLink(e,a)})),Handlebars.registerHelper("ifNotEmptyObj",(function(e,a){return $.isEmptyObject(e)?a.inverse(this):a.fn(this)})),Handlebars.registerHelper("ifAllTruthy",(function(){for(var e=arguments.length-1,a=0;a<=e-1;a++)if(!arguments[a])return arguments[e].inverse(this);return arguments[e].fn(this)})),Handlebars.registerHelper("ntcSocialEnabled",(function(){return Crm.userDetails.NTC_SOCIAL_ENABLED?arguments[arguments.length-1].fn(this):arguments[arguments.length-1].inverse(this)})),Handlebars.registerHelper("numeric",(function(e){return e||0})),Handlebars.registerHelper("getIntegrationSetupLink",(function(e){var a="";return e==crmNTC.EXT_EMAILTRACKING||e==crmNTC.EXT_EMAILTRACKING_NEW?a=Crm.getCrmBasePath()+"/settings/email-settings?action=mailSelect":e==crmNTC.EXT_SURVEY||e==crmNTC.EXT_SURVEY_NEW?a=Crm.getCrmBasePath()+"/settings/extensions/zoho/survey":e==crmNTC.EXT_TELEPHONY||e==crmNTC.EXT_TELEPHONY_NEW?a=Crm.getCrmBasePath()+"/settings/telephony":e==crmNTC.EXT_CAMPAIGNS||e==crmNTC.EXT_CAMPAIGNS_NEW?a=Crm.isVertical?Crm.getCrmBasePath()+"/ShowSetup.do?tab=webInteg&subTab=zohoApps":Crm.getCrmBasePath()+"/settings/extensions/zoho/campaigns":e==crmNTC.EXT_SALESIQ||e==crmNTC.EXT_SALESIQ_NEW?a=Crm.getCrmBasePath()+"/settings/extensions/zoho/visit":e==crmNTC.EXT_TWITTER||e==crmNTC.EXT_TWITTER_NEW||e==crmNTC.EXT_FACEBOOK||e==crmNTC.EXT_FACEBOOK_NEW?a=Crm.getCrmBasePath()+"/settings/extensions/social":e==crmNTC.EXT_SUPPORT||e==crmNTC.EXT_SUPPORT_NEW?a=Crm.getCrmBasePath()+"/settings/extensions/zoho/desk":e===crmNTC.EXT_BACKSTAGE||e===crmNTC.EXT_BACKSTAGE_NEW?a=Crm.getCrmBasePath()+"/settings/extensions/zoho/backstage":e===crmNTC.EXT_WEBINAR||e===crmNTC.EXT_WEBINAR_NEW?a=Crm.getCrmBasePath()+"/settings/extensions/zoho/webinar":e===crmNTC.EXT_MESSAGE&&(a=Crm.getCrmBasePath()+"/settings/messages"),new Handlebars.SafeString(a)})),Handlebars.registerHelper("getSubjectForCampaign",(function(e,a){return e||(a||"[No Subject]")})),Handlebars.registerHelper("getSubject",(function(e,a){return void 0!==e&&""!==e?Handlebars.Utils.escapeExpression(e):void 0!==a&&""!==a?Handlebars.Utils.escapeExpression(a):"[No Subject]"})),Handlebars.registerHelper("getNTCTitleText",(function(e,a){var n="[No Subject]";return-1!=crmNTC.EMAIL_TYPES.indexOf(e)?n=""!==a.SUBJECT?"#####TEST#SUBJECT#####"===a.SUBJECT?"[Subject Hidden]":a.SUBJECT:n:-1!=crmNTC.CAMPAIGN_TYPES.indexOf(e)?n=void 0!==a.CAMPAIGNSUBJECT&&""!==a.CAMPAIGNSUBJECT?a.CAMPAIGNSUBJECT:a.CAMPAIGNNAME:-1!=crmNTC.SUPPORT_TYPES.indexOf(e)?n=a.subject:crmNTC.SURVEY_RESPONDED===e||crmNTC.SURVEY_RESPONDED_NEW===e?n=a.SURVEYTITLE:crmNTC.SALESIQ_CHAT_MISSED!==e&&crmNTC.SALESIQ_CHAT_MISSED_NEW!==e||(n=a.chatContent),Handlebars.Utils.escapeExpression(n)})),Handlebars.registerHelper("showTitleOnMouseover",(function(e,a){return-1!=crmNTC.EMAIL_TYPES.indexOf(e)||-1!=crmNTC.CAMPAIGN_TYPES.indexOf(e)||-1!=crmNTC.SUPPORT_TYPES.indexOf(e)||crmNTC.SURVEY_RESPONDED===e||crmNTC.SALESIQ_CHAT_MISSED===e||crmNTC.SURVEY_RESPONDED_NEW===e||crmNTC.SALESIQ_CHAT_MISSED_NEW===e?a.fn(this):a.inverse(this)})),Handlebars.registerHelper("showRating",(function(e,a){return e===crmNTC.SUPPORT_NEW_RATING?a.fn(this):a.inverse(this)})),Handlebars.registerHelper("showEscalationLevel",(function(e,a){return e===crmNTC.SUPPORT_TICKET_ESCALATED||e===crmNTC.SUPPORT_TICKET_ESCALATED_NEW?a.fn(this):a.inverse(this)})),Handlebars.registerHelper("showViewRequestLink",(function(e,a){return-1!=crmNTC.SUPPORT_NEW_TICKET_TYPES.indexOf(e)||e===crmNTC.SUPPORT_NEW_RATING||e===crmNTC.SUPPORT_TICKET_ESCALATED||e===crmNTC.SUPPORT_TICKET_OVERDUE||e===crmNTC.SUPPORT_NEW_RATING_NEW||e===crmNTC.SUPPORT_TICKET_ESCALATED_NEW||e===crmNTC.SUPPORT_TICKET_OVERDUE_NEW||e===crmNTC.SUPPORT_TICKET_STATUS_CHANGE||e===crmNTC.SUPPORT_TICKET_PRIORITY_CHANGE||crmNTC.SUPPORT_NEW_COMMENT_SUPPORT_REP||e===crmNTC.SUPPORT_TICKET_STATUS_CHANGE_NEW||e===crmNTC.SUPPORT_TICKET_PRIORITY_CHANGE_NEW||crmNTC.SUPPORT_NEW_COMMENT_SUPPORT_REP_NEW?a.fn(this):a.inverse(this)})),Handlebars.registerHelper("showViewResponseLink",(function(e,a){return-1!=crmNTC.SUPPORT_NEW_RESPONSE_TYPES.indexOf(e)?a.fn(this):a.inverse(this)})),Handlebars.registerHelper("showViewCommentLink",(function(e,a){return-1!=crmNTC.SUPPORT_NEW_COMMENT_TYPES.indexOf(e)||e===crmNTC.SOCIAL_FB_NEW_COMMENT||e===crmNTC.SOCIAL_FB_NEW_COMMENT_NEW?a.fn(this):a.inverse(this)})),Handlebars.registerHelper("showViewPostLink",(function(e,a){return e===crmNTC.SOCIAL_FB_NEW_POST||e===crmNTC.SOCIAL_FB_NEW_POST_NEW?a.fn(this):a.inverse(this)})),Handlebars.registerHelper("showViewConvLink",(function(e,a){return e===crmNTC.SOCIAL_FB_DM||e===crmNTC.SOCIAL_FB_DM_NEW?a.fn(this):a.inverse(this)})),Handlebars.registerHelper("showViewReplyLink",(function(e){return e===crmNTC.SOCIAL_TW_REPLY||e===crmNTC.SOCIAL_TW_REPLY_NEW?arguments[arguments.length-1].fn(this):arguments[arguments.length-1].inverse(this)})),Handlebars.registerHelper("showViewTweetLink",(function(e,a){return e===crmNTC.SOCIAL_TW_MENTION||e===crmNTC.SOCIAL_TW_MENTION_NEW?a.fn(this):a.inverse(this)})),Handlebars.registerHelper("showViewMessageLink",(function(e,a){return e===crmNTC.SOCIAL_TW_DM||e===crmNTC.SOCIAL_TW_DM_NEW?a.fn(this):a.inverse(this)})),Handlebars.registerHelper("showViewPostLinkForLike",(function(e,a){return e===crmNTC.SOCIAL_FB_NEW_LIKE||e===crmNTC.SOCIAL_FB_NEW_LIKE_NEW?a.fn(this):a.inverse(this)})),Handlebars.registerHelper("showViewBMConvLink",(function(e,a){return e===crmNTC.MESSAGE_NEWMESSAGE||e===crmNTC.MESSAGE_READ?a.fn(this):a.inverse(this)})),Handlebars.registerHelper("removeMailContent",(function(e){var a=JSON.stringify(e),n=JSON.parse(a);return void 0!==n.METADATA.mailContent&&delete n.METADATA.mailContent,JSON.stringify(n)})),Handlebars.registerHelper("getSocialParams",(function(e){var a=crmNTCDetailView.getDetailViewSocialParams(e);return JSON.stringify(a)})),Handlebars.registerHelper("showCommentDesc",(function(e,a,n){return-1!==crmNTC.SUPPORT_NEW_COMMENT_TYPES.indexOf(e)&&validationUtils.isNotEmpty(a)?n.fn(this):n.inverse(this)})),Handlebars.registerHelper("isNotValidAccount",(function(e,a,n,t){return"Leads"===e&&validationUtils.isEmpty(a)||"Contacts"===e&&validationUtils.isEmpty(n)?t.fn(this):t.inverse(this)})),Handlebars.registerHelper("getViewEmailContentLink",(function(e,a){var n=a.metadata,t=a.signal.namespace,l=n.MID,i=Crm.userDetails.USER_ID,s=a.module.api_name,o=a.record.id,r="Sent",c="ALLUSERSMAILS";return t!==crmNTC.MAIL_INCOMING&&t!==crmNTC.MAIL_INCOMING_NEW&&t!==crmNTC.MAIL_INCOMING_COMPETITORS_ALERT&&t!==crmNTC.MAIL_INCOMING_COMPETITORS_ALERT_NEW||(r="Received",c=n.mailType),"viewMailForSignal('"+l+"','"+i+"','"+s+"','"+o+"','"+c+"','"+r+"','"+e.entityEmail+"',true)"})),Handlebars.registerHelper("isNotificationSupported",(function(e,a,n){return e&crmNTC.FEATURES.SALES_SIGNALS?n.fn(this):n.inverse(this)})),Handlebars.registerHelper("isChatNotificationSupported",(function(e,a){return e&crmNTC.FEATURES.NOTIFY_VIA_CHAT?a.fn(this):a.inverse(this)})),Handlebars.registerHelper("showDetailViewLink",(function(e,a,n,t){return e===crmNTC.PLATFORM_EXTENSION_SIGNAL&&a&&1==a.length||n===crmNTC.ZOHO_USER_EXTENSION_TYPE&&a&&1==a.length||-1===crmNTC.predefinedSignals.indexOf(e)&&a&&1==a.length?t.fn(this):t.inverse(this)})),Handlebars.registerHelper("isZohoExtensionSignal",(function(e,a){return e!==crmNTC.PLATFORM_EXTENSION_SIGNAL&&a!==crmNTC.ZOHO_USER_EXTENSION_TYPE?arguments[arguments.length-1].fn(this):arguments[arguments.length-1].inverse(this)})),Handlebars.registerHelper("isPlatformExtensionSignal",(function(e,a){return e===crmNTC.PLATFORM_EXTENSION_SIGNAL?a.fn(this):a.inverse(this)})),Handlebars.registerHelper("getModuleSingularLabel",(function(e){var a=Crm.userDetails.MODULE_LIST[e];if(a)return a.singular_label})),Handlebars.registerHelper("getModuleSingularLabelForIFrame",(function(e){var a=JSON.parse(JSON.stringify({Leads:"Lead",Contacts:"Contact"}));return a.hasOwnProperty(e)?a[e]:""})),Handlebars.registerHelper("isEmailNotificationType",(function(e,a){return-1!=crmNTC.EMAIL_TYPES.indexOf(e)?a.fn(this):a.inverse(this)})),Handlebars.registerHelper("isAllSignalsDisabled",(function(e,a){for(var n=e.length,t=0;t<n;t++)if(1==e[t].is_enabled)return a.inverse(this);return a.fn(this)})),Handlebars.registerHelper("getSignalHelpText",(function(e){return crmNTCSettings.signalsInfo[e][0]})),Handlebars.registerHelper("getSignalHelpUrl",(function(e){return crmNTCSettings.signalsInfo[e][1]})),Handlebars.registerHelper("signalHelpDocStatus",(function(e,a){return crmNTCSettings.signalsInfo[e][2]?a.fn(this):a.inverse(this)})),Handlebars.registerHelper("ifExtensionHelpContentExists",(function(e,a){return e in crmNTCSettings.signalsInfo?a.fn(this):a.inverse(this)})),Handlebars.registerHelper("getActionUrl",(function(e){if(e&&e.metadata&&e.metadata.actions&&e.metadata.actions[0]&&e.metadata.actions[0].url)return e.signal&&e.signal.type&&e.signal.type===crmNTC.ZOHO_EXTENSION_TYPE?Crm.getCrmBasePath()+e.metadata.actions[0].url:e.metadata.actions[0].url})),Handlebars.registerHelper("getActionDispName",(function(e){return e[0].display_name})),Handlebars.registerHelper("getExtensionSignalIconUrl",(function(e,a){return e&&a?"/crm/viewImage?fileId="+e+"&zgId="+Crm.currentZgid:networkUtils.getImageUrl("nophoto.png",ResourceConstants.CRM)})),Handlebars.registerHelper("getOpenTypeForNotification",(function(e,a){return"tab"===e[0].open_in?a.fn(this):a.inverse(this)})),Handlebars.registerHelper("addHTMLTags",(function(e,a,n,t){for(var l=!0;e.includes(a)&&l;)(l=e.substr(e.indexOf(a)+1,e.length).includes(a))&&(e=(e=e.replace(a,n)).replace(a,t));return e})),Handlebars.registerHelper("formatHTML",(function(e){if(!e)return"";for(var a=Handlebars.helpers.safeEncodeHTML(e).split("~br~"),n="",t=a.length,l=0;l<t;l++)a[l]=Handlebars.helpers.addHTMLTags(a[l],"*","<b>","</b>"),a[l]=Handlebars.helpers.addHTMLTags(a[l],"^","<i>","</i>"),n=n+a[l]+(0!=t?" <br/> ":"");return n})),Handlebars.registerHelper("getProductName",(function(e){return I18n.getMsg(e,[Crm.partnerName])})),Handlebars.registerHelper("getSentimentIconClass",(function(e){var a="";return e.metadata.hasOwnProperty("SENTIMENT")&&Crm.userDetails.isSelfMarketingEnabled?a="":e.metadata.hasOwnProperty("SENTIMENT")&&"Positive"===e.metadata.SENTIMENT?a="sentimentPositive":e.metadata.hasOwnProperty("SENTIMENT")&&"Negative"===e.metadata.SENTIMENT?a="sentimentNegative":e.metadata.hasOwnProperty("SENTIMENT")&&"Neutral"===e.metadata.SENTIMENT?a="sentimentNeutral":e.metadata.hasOwnProperty("SENTIMENT")&&"CNS"===e.metadata.SENTIMENT&&(a="sentimentCNSafter"),a})),Handlebars.registerHelper("isSentimentAvailable",(function(e,a){return e&&e.metadata.hasOwnProperty("SENTIMENT")&&("Positive"===e.metadata.SENTIMENT||"Negative"===e.metadata.SENTIMENT||"Neutral"===e.metadata.SENTIMENT)||"CNS"===e.metadata.SENTIMENT?a.fn(this):a.inverse(this)})),Handlebars.registerHelper("isSignalIframeOpen",(function(e){return SalesSignalsWrapper.isSignalIFrameOpen?e.fn(this):e.inverse(this)})),Handlebars.registerHelper("ifNotificationUnread",(function(e,a){return 0==e.ISSEEN?a.fn(this):a.inverse(this)})),Handlebars.registerHelper("getUnseenNotificationsCount",(function(e){for(var a=0,n=e.length;a<n&&!e[a].ISSEEN;a++);return a})),Handlebars.registerHelper("getHelpUrlForSignalsIFrame",(function(){var e=window.location.host.split("."),a=e[e.length-1].split(":")[0];"cn"===a&&(a="com.cn");return"https://www.zoho."+a+"/crm/help/salessignals/salessignals-configuration.html?src=product"})),Handlebars.registerHelper("isSignalEnabledForChannel",(function(e,a,n,t){return a="Microsoft_Teams"===(a="GoogleChat"===(a="Slack"===(a="Cliq"===(a="Cisco"===a?"cisco":a)?"cliq":a)?"slack":a)?"google_chat":a)?"microsoft_teams":a,crmNTCSettings.getSignalStatusForChannel(e,a,n)?t.fn(this):t.inverse(this)})),Handlebars.registerHelper("ifNoSignals",(function(e){return crmNTCGlobal.isCrmNotificationCenterEmpty?e.fn(this):e.inverse(this)})),Handlebars.registerHelper("getDisplayContentForSignalsInTimeline",(function(e){var a="";switch(e.action){case"email-bounce":a="<b>"+I18n.getMsg("Email")+" "+I18n.getMsg("Bounced")+"</b> - "+e.displayContent.subject;break;case"email-opened":a="<b>"+I18n.getMsg("Email")+" "+I18n.getMsg("Opened")+"</b> - "+e.displayContent.subject;break;case"email-clicked":a="<b>"+I18n.getMsg("Email")+" "+I18n.getMsg("Clicked")+"</b> - "+e.displayContent.subject;break;case"chat-missed":a="<b>"+I18n.getMsg("crm.signal.salesiq.missed.chat.text")+"</b> - "+e.displayContent.message;break;case"call-missed":a="<b>"+I18n.getMsg("crm.activities.call.defaultsubject.incomingmissed",e.displayContent.phone)+"</b>";break;case"Received":a="<span>"+I18n.getMsg("Email")+" "+I18n.getMsg("Received")+"</span><span class='tl_s'>-</span><span class='p10 crm-small-font-size black' title='Email'>"+e.displayContent.subject+"</span><div><span class='tl_by'>by</span> <span class='crm-small-font-size'  purpose='showUserBC' data-params='{\"userId\":\""+e.displayContent.userid+"\"}'>"+e.owner+"</span> <span class='tl_dat' title='"+crmNTC.getNTCFullDateTime(e.ToolTipDate)+"'>"+e.DisplayDate+"</span></div>"}return a})),Handlebars.registerHelper("getVisitSurveyLink",(function(e){return RebrandLinkUtil.getProperties().URLPROTOCOL+"://"+RebrandLinkUtil.getProperties().ZSURVEYATTENDURL+"/zs/"+e.UNIQUEID+"?fromService=ZCRM"})),Handlebars.registerHelper("isCategoryEmpty",(function(e,a){return 0==e.length?a.fn(this):a.inverse(this)})),Handlebars.registerHelper("getColSpanBasedOnChannels",(function(e,a,n){var t=crmNTC.getSupportedChannelsCount(e,a);return 0!=n&&(t+=1),t})),Handlebars.registerHelper("isChannel",(function(e,a,n){return e===a?n.fn(this):n.inverse(this)})),Handlebars.registerHelper("getDefaultNamespaceForManageSignalsFilter",(function(){return crmNTCSettings.getDefaultNamespaceForManageSignalsFilter()})),Handlebars.registerHelper("isUserCustomExtension",(function(e,a){return e===crmNTC.ZOHO_USER_EXTENSION_TYPE?a.fn(this):a.inverse(this)})),Handlebars.registerHelper("getZohoUserCustomSignalIconUrl",(function(e,a){return e?crmNTCGlobal.getCrmPrefix()+"/NotificationCenter.do?action=getSignalIcon&signalId="+a+"&key="+(new Date).getTime().toString():networkUtils.getImageUrl("nophoto.png",ResourceConstants.CRM)})),Handlebars.registerHelper("showWidgetOption",(function(e,a,n){return crmNTC.ZOHO_USER_EXTENSION_TYPE&&void 0!==a&&a.hasOwnProperty("id")?n.fn(this):n.inverse(this)})),Handlebars.registerHelper("getDataForWidget",(function(e,a){var n=crmNTCGlobal.getPageLoadDataForWidget(e,a);return JSON.stringify(n)})),Handlebars.registerHelper("showSignalIframe",(function(e,a){var n=e.widget;return void 0!==n&&n.hasOwnProperty("id")?a.fn(this):a.inverse(this)})),Handlebars.registerHelper("getWidgetSrcUrl",(function(e){var a=e.id,n=WidgetHandler.WidgetConfig.SalesSignals[a];return null!=n?n.START_URL:""})),Handlebars.registerHelper("getDataForIFrame",(function(e){return JSON.stringify(e)})),Handlebars.registerHelper("isZohoCustomSignalsAvailable",(function(e){var a=store.peekAll("signal").filter(crmNTCSettings.filterOutCustomSignals),n=a.length;if(n)for(var t=0;t<n;t++)if(!a[t].$.isNew)return e.fn(this);return e.inverse(this)})),Handlebars.registerHelper("getPlatformsCount",(function(e){var a=1;return e.other_platforms&&e.other_platforms.chatConfig.is_chat_configured&&(a+=1),e.other_platforms.slack&&e.other_platforms.slack.isSlackAvailableForSignals&&e.other_platforms.slack.selectedteam&&(a+=1),e.other_platforms&&e.other_platforms.isCiscoTeamsConfigured&&(a+=1),e.other_platforms&&e.other_platforms.isMicrosoftTeamsConfigured&&(a+=1),a})),Handlebars.registerHelper("isNoCustomSignalAvailable",(function(e){return 0===store.peekAll("signal").filter(crmNTCSettings.filterOutCustomSignals).length?e.fn(this):e.inverse(this)})),Handlebars.registerHelper("getBrandName",(function(){return Crm.brandName})),Handlebars.registerHelper("getMaxReachedMessage",(function(){return I18n.getMsg("crm.ntc.manage.message.signal.limit.exceeded",Crm.userDetails.NTC_ZOHO_CUSTOM_SIGNALS_MAX_COUNT)})),Handlebars.registerHelper("getEncodedName",(function(e){return e&&e.includes('"entityId":')&&(e=$ESAPI.encoder().encodeForHTML(e)),e})),Handlebars.registerHelper("isCreateSignalAvailable",(function(e){return Crm.userDetails.NTC_ZOHO_CUSTOM_SIGNALS_COUNT<Crm.userDetails.NTC_ZOHO_CUSTOM_SIGNALS_MAX_COUNT?e.fn(this):e.inverse(this)})),Handlebars.registerHelper("getWidthBasedOnChannel",(function(e){var a=1;return e&&e.chatConfig.is_chat_configured&&(a+=1),e&&e.isCiscoTeamsConfigured&&(a+=1),e&&e.isMicrosoftTeamsConfigured&&(a+=1),e&&e.slack&&e.slack.isSlackAvailableForSignals&&e.slack.selectedteam&&(a+=1),100/a})),Handlebars.registerHelper("isSignalAvailableForChannel",(function(e,a,n){return a&&e&&(e.extension.type!==crmNTC.ZOHO_EXTENSION_TYPE||-1!==[crmNTC.MESSAGE_NEWMESSAGE,crmNTC.MESSAGE_READ].indexOf(e.namespace))?n.fn(this):n.inverse(this)})),Handlebars.registerHelper("getExtNamespaceForAutomationPlaceHolder",(function(e){return crmNTC.extNewVsOldNamespaceMapping.hasOwnProperty(e)?crmNTC.extNewVsOldNamespaceMapping[e]:e})),Handlebars.registerHelper("getNamespaceForAutomationPlaceHolder",(function(e){return crmNTC.newVsOldNamespaceMapping.hasOwnProperty(e)?crmNTC.newVsOldNamespaceMapping[e]:e})),Handlebars.registerHelper("getExtNamespaceForAutomationPlaceHolder",(function(e){return crmNTC.extNewVsOldNamespaceMapping.hasOwnProperty(e)?crmNTC.extNewVsOldNamespaceMapping[e]:e})),Handlebars.registerHelper("isNullStr",(function(e,a){return"NULL"===e?a.fn(this):a.inverse(this)})),Handlebars.registerHelper("isLeadOrContactModule",(function(e,a){return"Leads"===e||"Contacts"===e?a.fn(this):a.inverse(this)})),Handlebars.registerHelper("isActivitySupportedForModule",(function(e,a){return"Solutions"===e||"Visits"===e?a.inverse(this):a.fn(this)})),Handlebars.registerHelper("isSendMailPermissionAvailable",(function(e,a){return!Crm.SEND_MAIL_BUTTON_HIDE||void 0!==Crm.userDetails.permissions["Crm_Implied_Send_Mail_"+e]&&Crm.userDetails.permissions["Crm_Implied_Send_Mail_"+e]?a.fn(this):a.inverse(this)})),Handlebars.registerHelper("getAuthorisedSubject",(function(e){var a="[No Subject]";return a=""!==e?"#####TEST#SUBJECT#####"===e?"[Subject Hidden]":e:a,Handlebars.Utils.escapeExpression(a)})),function(){var e=Handlebars.template,a=Handlebars.templates=Handlebars.templates||{};a.CrmNotes_AddNewNotes=e({1:function(e,a,n,t,l){return" <span id='noteAttachMoreFiles' class='hide zDattachment dIB'></span><span id=\"noteAttachFiles\" class=\"zDattachment\" ></span> "},3:function(e,a,n,t,l){return" portalNoAttIcn "},5:function(e,a,n,t,l){var i;return" "+(null!=(i=n.if.call(null!=a?a:{},null!=a?a.isClientPortalConfigured:a,{name:"if",hash:{},fn:e.program(6,l,0),inverse:e.noop,data:l}))?i:"")+" "},6:function(e,a,n,t,l){return' <div id=\'sharetoclientdiv\' class="fg1 pL20 pT10"> <label class="newCustomchkbox-md oH dIF aiCenter"> <input id=\'sharetoclient\' type=\'checkbox\' value="sharetoclient" onchange="$(this).next(\'span\').toggleClass(\'customCheckBoxChecked\'); Notes.validateSave();"> <span class="vaM chkbxIcon"></span> <span class="dIB vaM crm-small-font-size feedsGrayclr pL5">'+e.escapeExpression(n.getI18n.call(null!=a?a:{},"custmr.prtl.notes.shr.to.custmr",{name:"getI18n",hash:{},data:l}))+"</span> </label> </div> "},8:function(e,a,n,t,l){return'onclick="Crm.showStorageExceedPopup();" '},10:function(e,a,n,t,l){return" onclick=\"Crm.trackSpotLightAction('Note Added',{'Version':'NEW UI'})\" "},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return'<div id="fullInfoNoteDiv" class="p10 fL w100_per"> <div> <input type="hidden" value="'+o(s(null!=a?a.userID:a,a))+'" name="curUserId" id="curUserId" ></input> <input type="hidden" value="null" name="editNoteId" id="editNoteId" ></input> <input type="hidden" value="'+o(s(null!=a?a.related_notes_entityId:a,a))+'" name="relNEID" id="relNEID" ></input> <input type="hidden" value="'+o(s(null!=a?a.entityMap_rel_notes_entId:a,a))+'" name="relParentId" id="relParentId" ></input> <input type="hidden" value="'+o(s(null!=a?a.related_notes_module:a,a))+'" name="note_module" id="note_module" ></input> <div class="pL12 pR10" id="notes-element-parent"> <table width="'+o(s(null!=a?a.addNoteWidth:a,a))+'" cellpadding="0" cellspacing="0" border="0" style="border-spacing:0px;"> <tr id="title_tr"> <td><input onfocus="Notes.initNote(\'open\');" tabindex="0" class="borderNone w100_per p5 lh20 crm-base-font-size" style="height:30px; box-sizing: border-box;" id="note_process" data-zcqa="notesProcess" placeholder="'+o(n.getI18n.call(r,"crm.general.addnote",{name:"getI18n",hash:{},data:l}))+'..." ></td> </tr> <tr> <td id="note_parent_td"><table width="100%" cellpadding="0" cellspacing="0" id="note_content" style="display: none;"> <tbody> <tr> <td id="notesTitleSec" class="pR"><span class="dim" id="dvcreatenotespan" style="display: none;">'+o(n.getI18n.call(r,"crm.note.title",{name:"getI18n",hash:{},data:l}))+'</span> <span id="dummyspanWidth" class="crm-base-font-size"></span> <span id="showHideTitle" class="fL" style="display: none;"> <input type="text" value="" tabindex="1000" maxlength="120" class="addNotesTitle ellipsistext crm-font-bold lh20 crm-base-font-size" placeholder="'+o(n.getI18n.call(r,"crm.general.addtitle",{name:"getI18n",hash:{},data:l}))+'..." name="note_subject" id="note_subject" onkeypress="if(event.keyCode==13){Notes.addNote();this.blur();}" onblur="Notes.notesTitleChk();" onfocus="Notes.onNoteFocus(\'title\');" onkeydown="Notes.editNotesTitle(\'add\');" oninput="Notes.validateSave();"> </span> <div class="cBoth"></div> </td> </tr> <tr> <td><div class="w100_per feed_newpost_textarea_bg openNotes" id=\'notesWrapper\'> <div class="notescontent-revamp w100_per"> <textarea tabindex="0" aria-multiline="true" role="textbox" aria-placeholder="'+o(n.getI18n.call(r,"crm.general.addnote",{name:"getI18n",hash:{},data:l}))+'" class="borderNone w100_per crm-base-font-size dvpT0" style="height:60px; overflow:auto !important; resize:vertical !important;padding: 5px;" id="noteContentTxt" data-zcqa="notesContentTxt" onclick="bindMentions(this,\'noteContentTxt\');" onfocus="Notes.onNoteFocus(\'content\');" oninput="Notes.validateSave();"></textarea>  </div> <div class="notesbuttonlayer-revamp flexAlignCenter spaceBetween feedButtonLayer"> <div class="flexAlignCenter cNotesAttach_wrapper"> <a id="note_desktop" role="button" lt-prop-aria-keydown="true" class="attachFileNew dF aiCenter oH pR" href="javascript:;" aria-label="attachFiles" tabindex="'+o(n.getTabindexForNotes.call(r,{name:"getTabindexForNotes",hash:{},data:l}))+'"> <input name="notefile" class="smFile file0 h20"  id="noteAttachFile" data-zcqa="notesAttachFile" tabindex=\'-1\'> '+(null!=(i=n.ifCondLogic.call(r,null!=a?a.isClientPortalUser:a,"=",!1,"||",null!=a?a.hasCreateAttPerm:a,"=",!0,{name:"ifCondLogic",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+' </input> <span class="crm-small-font-size feedsGrayclr dvnotesgray" >'+o(n.getI18n.call(r,"crm.label.attach.file",{name:"getI18n",hash:{},data:l}))+'</span> </a> <div id="addTitleSpan" class="pL7 mL7 mT1 '+(null!=(i=n.ifCondLogic.call(r,null!=a?a.hasCreateAttPerm:a,"!=",!0,"&&",null!=a?a.isClientPortalUser:a,"=",!0,{name:"ifCondLogic",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l}))?i:"")+'"><span tabindex="'+o(n.getTabindexForNotes.call(r,{name:"getTabindexForNotes",hash:{},data:l}))+'" class="cP crm-small-font-size feedsGrayclr" role="button" lt-prop-aria-keydown="true" data-zcqa="notesaddTitle" aria-label="'+o(n.getI18n.call(r,"crm.general.addtitle",{name:"getI18n",hash:{},data:l}))+'" onclick="Notes.initNote(\'addtitle\')">'+o(n.getI18n.call(r,"crm.general.addtitle",{name:"getI18n",hash:{},data:l}))+"</span></div> </div> "+(null!=(i=n.ifNotEquals.call(r,null!=a?a.isClientPortalUser:a,"true",{name:"ifNotEquals",hash:{},fn:e.program(5,l,0),inverse:e.noop,data:l}))?i:"")+' <div class="dF aiCenter cNotes_ButtonContainer"> <div id="smartPromptNotesOutlet" class="mR5"></div> <input type="button" tabindex="'+o(n.getTabindexForNotes.call(r,{name:"getTabindexForNotes",hash:{},data:l}))+'" aria-label="'+o(n.getI18n.call(r,"crm.button.cancel",{name:"getI18n",hash:{},data:l}))+'" class="newgraybtn newgraynotesbtn bt-mediumnewgraybtn" id="cancel_comment" data-zcqa="notesCancelComment" onclick="Notes.resetFileCount();Notes.initNote(\'close\');" value="'+o(n.getI18n.call(r,"crm.button.cancel",{name:"getI18n",hash:{},data:l}))+'"> <input id="save_comment" tabindex="0" aria-label="'+o(n.getI18n.call(r,"crm.button.save",{name:"getI18n",hash:{},data:l}))+'" data-zcqa="notesSaveComment" type="button" class="primarybtn mR0 primarynotesbtn bt-mediumprimarybtn" value="'+o(n.getI18n.call(r,"crm.button.save",{name:"getI18n",hash:{},data:l}))+'" '+(null!=(i=n.if.call(r,n.checkStorage.call(r,{name:"checkStorage",hash:{},data:l}),{name:"if",hash:{},fn:e.program(8,l,0),inverse:e.program(10,l,0),data:l}))?i:"")+' disabled> </div> </div> </div> </tr> <tr> <td><div id="alreadyAttached" class="pT10 w100_per"></div> </tr> <tr><td><div id="addAttachment"> <span id="showErrorMsg"></span> <div class="addAttachmentCtnNewFeeds" id="addAttachmentCtnNewFeeds"></div> <div id="noteMoreFiles" class="attachzone" ></div> </div> </td> </tr> </tbody> </table></td> </tr> </table> </div> </div> </div> <div class="cBoth"></div> <div id="attributionDetails">&nbsp;</div> '},useData:!0}),a.CrmNotes_DetailsPage=e({1:function(e,a,n,t,l){return' <div class="ntit feedsTextclr cP" onClick="toggleNotes();"> '},3:function(e,a,n,t,l){return' <div class="ntit tabindex="0" lt-prop-aria-keydown="true" aria-label="'+e.escapeExpression(n.getI18n.call(null!=a?a:{},"crm.label.notes",{name:"getI18n",hash:{},data:l}))+'" feedsTextclr cP" onClick="Notes.toggleNotes();"> '},5:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.lambda,r=e.escapeExpression;return' <div class="dF jcFlextEnd pR aiCenter"> <div id = "ziaNotesSummayOutlet"> </div> <div id="comboBox" tabindex="0" role="combobox" aria-haspopup="listbox" lt-prop-aria-keydown="true" continue-propagation="true" aria-controls="OptionlistNotesNew" class="pR" onclick="Notes.showOptions(this);sE(event)"> '+(null!=(i=n.ifEquals.call(s,"sel",null!=a?a.recentSelectClass:a,{name:"ifEquals",hash:{},fn:e.program(6,l,0),inverse:e.program(9,l,0),data:l}))?i:"")+' <span id="downArrow" data-zcqa="notesOrderChange" class="dIB top10 right6 zcicn-arrow-solid-down-sm-mask zcicn-cssIcons zcicn_blue_mask pA"></span> </div> <div id="OptionlistNotesNew" tabindex="0" role="listbox" class="OptionlistNotesNew pA bg_white zi10 dN" style="border: 1px solid var(--menuBorder);width: auto;" data-close="true"> '+(null!=(i=n.if.call(s,null!=a?a.isFilter:a,{name:"if",hash:{},fn:e.program(12,l,0),inverse:e.noop,data:l}))?i:"")+' <ul class="recentNotesList mL0 mR0 pL0 pR0 pB0 mT5 mB5"> <li class="crmBaseColor p5 pL0 pR20 cP OptionlistNotesNewLi '+r(o(null!=a?a.recentSelectClass:a,a))+' navigationClass" onclick="Notes.toogleNotesVersion(this);" id="allNotes"><span class="dIB"></span>'+r(n.getI18n.call(s,"crm.note.recent.first",{name:"getI18n",hash:{},data:l}))+'</li> <li class="crmBaseColor p5 pL0 pR20 cP OptionlistNotesNewLi '+r(o(null!=a?a.recentClass:a,a))+' navigationClass" onclick="Notes.toogleNotesVersion(this);" id="accountsNotesonly"><span class="dIB"></span>'+r(n.getI18n.call(s,"crm.note.recent.last",{name:"getI18n",hash:{},data:l}))+"</li> </ul> </div> </div> "},6:function(e,a,n,t,l){var i;return" "+(null!=(i=n.getUserDetail.call(null!=a?a:{},"detailView_newUI",{name:"getUserDetail",hash:{},fn:e.program(7,l,0),inverse:e.noop,data:l}))?i:"")+" "},7:function(e,a,n,t,l){return" "+e.escapeExpression(n.getI18n.call(null!=a?a:{},"crm.note.recent.first",{name:"getI18n",hash:{},data:l}))+" "},9:function(e,a,n,t,l){var i;return" "+(null!=(i=n.getUserDetail.call(null!=a?a:{},"detailView_newUI",{name:"getUserDetail",hash:{},fn:e.program(10,l,0),inverse:e.noop,data:l}))?i:"")+" "},10:function(e,a,n,t,l){return" "+e.escapeExpression(n.getI18n.call(null!=a?a:{},"crm.note.recent.last",{name:"getI18n",hash:{},data:l}))+" "},12:function(e,a,n,t,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <ul class="mL0 mR0 pL0 pR0 pB5 mT5 mB5 p0 br_bottom_border1" onclick="sE(event)"> <li class="crmBaseColor p5 pL0 pR20 cP '+o(s(null!=a?a.allnotesSelect:a,a))+'" onClick="Notes.selectBox(\''+(null!=(i=s(null!=a?a.related_notes_entityId:a,a))?i:"")+'\',this);" id="allNotes"><span class="dIB"></span>'+o(n.getI18n.call(r,"crm.label.all",{name:"getI18n",hash:{},data:l}))+"</li> "+(null!=(i=n.ifEquals.call(r,!0,null!=a?a.showModuleOnlyNotes:a,{name:"ifEquals",hash:{},fn:e.program(13,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=n.ifEquals.call(r,!0,null!=a?a.showProjectNotes:a,{name:"ifEquals",hash:{},fn:e.program(15,l,0),inverse:e.noop,data:l}))?i:"")+' <li style="display:none;"><p id="notesTypeHolder" isallnotes="'+o(s(null!=a?a.isallnotes:a,a))+'" style="display:none;">'+o(s(null!=a?a.content:a,a))+"</p></li> </ul> "},13:function(e,a,n,t,l){var i,s=e.lambda,o=e.escapeExpression;return' <li class="crmBaseColor p5 pL0 pR20 cP '+o(s(null!=a?a.contactsSelect:a,a))+'" onClick="Notes.selectBox(\''+(null!=(i=s(null!=a?a.related_notes_entityId:a,a))?i:"")+'\',this);" id="accountsNotesonly"><span class="dIB"></span>'+o(n.getI18n.call(null!=a?a:{},"crm.territory.label.only",null!=a?a.tab_label:a,{name:"getI18n",hash:{},data:l}))+"</li> "},15:function(e,a,n,t,l){var i,s=e.lambda,o=e.escapeExpression;return' <li class="crmBaseColor p5 pL0 pR20 cP '+o(s(null!=a?a.projectsSelect:a,a))+' OptionlistNotesNewLi" onClick="Notes.selectBox(\''+(null!=(i=s(null!=a?a.related_notes_entityId:a,a))?i:"")+'\',this);" id="projectNotesOnly"><span class="dIB"></span>'+o(n.getI18n.call(null!=a?a:{},"crm.territory.label.only","Projects",{name:"getI18n",hash:{},data:l}))+' <i onmouseenter="renderingUtils.zctt.showtt(I18n.getMsg(\'crm.project.sync.notes.info\'))" onmouseleave="renderingUtils.zctt.hidett();" class="icon_roundinfo cP dIB mL5 vaM"></i> </li> '},17:function(e,a,n,t,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <div id="toggleNotes" class="'+o(s(null!=a?a.showMoreWidth:a,a))+' flex-grid-skeleton mB0"> '+(null!=(i=n.ifCondLogic.call(r,null!=a?a.isOlderNotes:a,"=",!0,"||",null!=a?a.isOlderVersionNotes:a,"=",!0,{name:"ifCondLogic",hash:{},fn:e.program(18,l,0),inverse:e.program(21,l,0),data:l}))?i:"")+' <input type="hidden" name="tIdx" id="tIdx" value="'+(null!=(i=s(null!=a?a.tIdx:a,a))?i:"")+'" ></input> <div class="actnotes fL '+o(s(null!=a?a.showMoreWidth:a,a))+'" id="actnotes"> '+(null!=(i=e.invokePartial(t.actnotesDetailsPage,a,{name:"actnotesDetailsPage",data:l,helpers:n,partials:t,decorators:e.decorators}))?i:"")+" </div> "+(null!=(i=n.ifCondLogic.call(r,null!=a?a.isOlderNotes:a,"=",!0,"||",null!=a?a.isOlderVersionNotes:a,"=",!0,{name:"ifCondLogic",hash:{},fn:e.program(21,l,0),inverse:e.program(24,l,0),data:l}))?i:"")+" "},18:function(e,a,n,t,l){var i;return" "+(null!=(i=n.if.call(null!=a?a:{},null!=a?a.addNewNote:a,{name:"if",hash:{},fn:e.program(19,l,0),inverse:e.noop,data:l}))?i:"")+" "},19:function(e,a,n,t,l){var i;return" "+(null!=(i=e.invokePartial(t.addnewNotes,a,{name:"addnewNotes",data:l,helpers:n,partials:t,decorators:e.decorators}))?i:"")+" "},21:function(e,a,n,t,l){var i;return" "+(null!=(i=n.if.call(null!=a?a:{},null!=a?a.isMore:a,{name:"if",hash:{},fn:e.program(22,l,0),inverse:e.noop,data:l}))?i:"")+" "},22:function(e,a,n,t,l){var i;return" "+(null!=(i=e.invokePartial(t.showMore,a,{name:"showMore",data:l,helpers:n,partials:t,decorators:e.decorators}))?i:"")+" "},24:function(e,a,n,t,l){var i;return" "+(null!=(i=n.if.call(null!=a?a:{},null!=a?a.addNewNote:a,{name:"if",hash:{},fn:e.program(19,l,0),inverse:e.noop,data:l}))?i:"")+" </div> <div class='cBoth'></div> "},26:function(e,a,n,t,l){var i;return" "+(null!=(i=n.ifNotEquals.call(null!=a?a:{},null!=a?a.addNewNote:a,"true",{name:"ifNotEquals",hash:{},fn:e.program(27,l,0),inverse:e.noop,data:l}))?i:"")+" "},27:function(e,a,n,t,l){return' <div class="norec portalNoRec">'+e.escapeExpression(n.getI18n.call(null!=a?a:{},"crm.new.label.no.records",{name:"getI18n",hash:{},data:l}))+"</div> "},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <input type="hidden" id="TotalNotesCount" value="'+o(s(null!=a?a.TotalNotesCount:a,a))+'" ></input> <input type="hidden" id="currentCount" value="'+o(s(null!=a?a.currentCount:a,a))+'" ></input> <table class="'+o(s(null!=a?a.showMoreWidth:a,a))+" "+o(s(null!=a?a.selectClass:a,a))+' dvnotesTable dvcompHeader mB15 cxPropAriaSkip" cellpadding="0" cellspacing="0"> <input type="hidden" id="model" value="'+o(s(null!=a?a.selectValue:a,a))+"\" ></input> <tbody> <tr><td class='NoteHeadtitle'> "+(null!=(i=n.ifEquals.call(r,"true",null!=a?a.isPrintAction:a,{name:"ifEquals",hash:{},fn:e.program(1,l,0),inverse:e.program(3,l,0),data:l}))?i:"")+" "+o(n.getI18n.call(r,"crm.label.notes",{name:"getI18n",hash:{},data:l}))+" </div> </td> <td class='NoteHeadDropDown'> "+(null!=(i=n.unless.call(r,null!=a?a.isPrintAction:a,{name:"unless",hash:{},fn:e.program(5,l,0),inverse:e.noop,data:l}))?i:"")+" </td></tr></tbody> </table> "+(null!=(i=n.ifCondLogicForThreeCond.call(r,null!=a?a.addNewNote:a,"=",!0,null!=a?a.isClientPortalUser:a,"=",!1,null!=a?a.TotalNotesCount:a,">",0,"||",{name:"ifCondLogicForThreeCond",hash:{},fn:e.program(17,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=n.ifCondLogic.call(r,null!=a?a.TotalNotesCount:a,"=",0,"&&",null!=a?a.isClientPortalUser:a,"=",!0,{name:"ifCondLogic",hash:{},fn:e.program(26,l,0),inverse:e.noop,data:l}))?i:"")+" "},usePartial:!0,useData:!0}),a.CrmNotes_DetailsPageNotesList=e({1:function(e,a,n,t,l,i,s){var o,r=null!=a?a:{};return" "+(null!=(o=n.if.call(r,null!=s[1]?s[1].isOlderVersionNotes:s[1],{name:"if",hash:{},fn:e.program(2,l,0,i,s),inverse:e.program(6,l,0,i,s),data:l}))?o:"")+" "+(null!=(o=e.invokePartial(t.actnotesSinglePage,a,{name:"actnotesSinglePage",data:l,helpers:n,partials:t,decorators:e.decorators}))?o:"")+" "+(null!=(o=n.if.call(r,null!=s[1]?s[1].isOlderVersionNotes:s[1],{name:"if",hash:{},fn:e.program(10,l,0,i,s),inverse:e.program(14,l,0,i,s),data:l}))?o:"")+" "},2:function(e,a,n,t,l,i,s){var o;return" "+(null!=(o=n.if.call(null!=a?a:{},null!=s[1]?s[1].isFirstTime:s[1],{name:"if",hash:{},fn:e.program(3,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "},3:function(e,a,n,t,l,i,s){var o;return" "+(null!=(o=n.logicalOper.call(null!=a?a:{},l&&l.index,"==",null!=s[1]?s[1].OldHidden:s[1],{name:"logicalOper",hash:{},fn:e.program(4,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "},4:function(e,a,n,t,l){return' <div id="hiddenNotes" style="display:none;" > '},6:function(e,a,n,t,l,i,s){var o;return" "+(null!=(o=n.if.call(null!=a?a:{},null!=s[1]?s[1].isFirstTime:s[1],{name:"if",hash:{},fn:e.program(7,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "},7:function(e,a,n,t,l){var i;return" "+(null!=(i=n.if.call(null!=a?a:{},l&&l.first,{name:"if",hash:{},fn:e.program(8,l,0),inverse:e.noop,data:l}))?i:"")+" "},8:function(e,a,n,t,l){return' <div id="hiddenNotes" style="display:none;"> '},10:function(e,a,n,t,l,i,s){var o;return" "+(null!=(o=n.if.call(null!=a?a:{},null!=s[1]?s[1].isFirstTime:s[1],{name:"if",hash:{},fn:e.program(11,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "},11:function(e,a,n,t,l){var i;return" "+(null!=(i=n.if.call(null!=a?a:{},l&&l.last,{name:"if",hash:{},fn:e.program(12,l,0),inverse:e.noop,data:l}))?i:"")+" "},12:function(e,a,n,t,l){return" </div> "},14:function(e,a,n,t,l,i,s){var o;return" "+(null!=(o=n.if.call(null!=a?a:{},null!=s[1]?s[1].isFirstTime:s[1],{name:"if",hash:{},fn:e.program(15,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "},15:function(e,a,n,t,l,i,s){var o;return" "+(null!=(o=n.logicalOper.call(null!=a?a:{},l&&l.index,"==",null!=s[1]?s[1].hiddenLimit:s[1],{name:"logicalOper",hash:{},fn:e.program(12,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l,i,s){var o,r=null!=a?a:{};return'  <link href="'+e.escapeExpression(n.getStaticCssPathFromHelper.call(r,"zohocrm_maps.css",{name:"getStaticCssPathFromHelper",hash:{},data:l}))+'" rel="stylesheet" type="text/css" /> '+(null!=(o=n.each.call(r,null!=a?a.notes:a,{name:"each",hash:{},fn:e.program(1,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "},usePartial:!0,useData:!0,useDepths:!0}),a.CrmNotes_DetailsPageOlder=e({1:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.escapeExpression;return' <div class="mT30 pR dvmT0"> <div id="comboBox" class="fR mL10 cP pR borderNone dvmR0" onclick="Notes.showOptions(this);sE(event)"> <span id="downArrow" data-zcqa="notesOrderChange" class="fR mT5 mB3 notesArrowDownNew" style="margin-left: 5px; opacity: 0.7;"></span> </div> <div class="OptionlistNotesNew pA bg_white  zi10 hide" style="border: 1px solid var(--menuBorder);width: auto;"> '+(null!=(i=n.if.call(s,null!=a?a.isFilter:a,{name:"if",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l}))?i:"")+' </ul> <ul class="recentNotesList mL0 mR0 pL0 pR0 pB0 mT5 mB5"> <li class="crmBaseColor p5 pL0 pR20 cP sel OptionlistNotesNewLi" onclick="Notes.toogleNotesVersion(this);" id="allNotes"><span class="dIB"></span>'+o(n.getI18n.call(s,"crm.note.recent.first",{name:"getI18n",hash:{},data:l}))+'</li> <li class="crmBaseColor p5 pL0 pR20 cP OptionlistNotesNewLi" onclick="Notes.toogleNotesVersion(this);" id="accountsNotesonly"><span class="dIB"></span>'+o(n.getI18n.call(s,"crm.note.recent.last",{name:"getI18n",hash:{},data:l}))+"</li> </ul> </div> </div> "},2:function(e,a,n,t,l){var i;return" "+(null!=(i=n.if.call(null!=a?a:{},null!=a?a.isAllNotes:a,{name:"if",hash:{},fn:e.program(3,l,0),inverse:e.program(5,l,0),data:l}))?i:"")+" "},3:function(e,a,n,t,l){var i,s=e.lambda,o=null!=a?a:{},r=e.escapeExpression;return' <ul class="mL0 mR0 pL0 pR0 pB5 mT5 mB5 p0 br_bottom_border1" onclick="sE(event)"> <li class="crmBaseColor p5 pL0 pR20 cP sel" onClick="Notes.selectBox(\''+(null!=(i=s(null!=a?a.related_notes_entityId:a,a))?i:"")+'\',this);" id="allNotes"><span class="dIB"></span>'+r(n.getI18n.call(o,"crm.label.all",{name:"getI18n",hash:{},data:l}))+'</li> <li class="crmBaseColor p5 pL0 pR20 cP" onClick="Notes.selectBox(\''+(null!=(i=s(null!=a?a.related_notes_entityId:a,a))?i:"")+'\',this);" id="accountsNotesonly"><span class="dIB"></span>'+r(n.getI18n.call(o,"crm.territory.label.only",null!=a?a.tab_label:a,{name:"getI18n",hash:{},data:l}))+'</li> <li style="display:none;"><p id="notesTypeHolder" isallnotes="true" style="display:none;">'+r(n.getI18n.call(o,"crm.label.all",{name:"getI18n",hash:{},data:l}))+"</p></li> </ul> "},5:function(e,a,n,t,l){var i,s=e.lambda,o=null!=a?a:{},r=e.escapeExpression;return' <ul class="m0 p0 pB5 br_bottom_border1" onclick="sE(event)"> <li class="crmBaseColor p5 pL0 pR20 cP" onClick="Notes.selectBox(\''+(null!=(i=s(null!=a?a.related_notes_entityId:a,a))?i:"")+'\',this);" id="allNotes"><span class="dIB"></span>'+r(n.getI18n.call(o,"crm.label.all",{name:"getI18n",hash:{},data:l}))+'</li> <li class="crmBaseColor p5 pL0 pR20 cP sel" onClick="Notes.selectBox(\''+(null!=(i=s(null!=a?a.related_notes_entityId:a,a))?i:"")+'\',this);" id="accountsNotesonly"><span class="dIB"></span>'+r(n.getI18n.call(o,"crm.territory.label.only",null!=a?a.tab_label:a,{name:"getI18n",hash:{},data:l}))+'</li> <li style="display:none;"><p id="notesTypeHolder" isallnotes="false" style="display:none;">'+r(n.getI18n.call(o,"crm.territory.label.only",null!=a?a.tab_label:a,{name:"getI18n",hash:{},data:l}))+"</p></li> </li> "},7:function(e,a,n,t,l){var i,s=e.lambda,o=null!=a?a:{},r=e.escapeExpression;return' <div id="fullInfoNoteDiv" class="fL w100_per mB15" style="box-sizing: border-box;background:#eff2f4"> <div> <input type="hidden" value="'+(null!=(i=s(null!=a?a.userID:a,a))?i:"")+'" name="curUserId" id="curUserId" ></input> <input type="hidden" value="null" name="editNoteId" id="editNoteId" ></input> <input type="hidden" value="'+(null!=(i=s(null!=a?a.related_notes_entityId:a,a))?i:"")+'" name="relNEID" id="relNEID" ></input> <input type="hidden" value="'+(null!=(i=s(null!=a?a.entityMap_rel_notes_entId:a,a))?i:"")+'" name="relParentId" id="relParentId" ></input> <input type="hidden" value="'+(null!=(i=s(null!=a?a.related_notes_module:a,a))?i:"")+'" name="note_module" id="note_module" ></input> \x3c!--<div class="fL cBoth pL10 singleNoteBorder"><div class="feedsImgHolder32"><img align="absmiddle" src="'+(null!=(i=s(null!=a?a.CONTACTSURL:a,a))?i:"")+"?ID="+(null!=(i=s(null!=a?a.zuId:a,a))?i:"")+'&amp;fs=thumb"></div></div>--\x3e <div class="fL" style="padding-left: 12px;"> <table width="574" cellpadding="0" cellspacing="0" border="0" style="border-spacing:0px;"> <tr id="title_tr"> <td><input onclick="Notes.initNote(\'open\');" class="borderNone w100_per p5 lh20 crm-base-font-size" style="height:30px; box-sizing: border-box;" id="note_process" data-zcqa="notesProcess" placeholder="'+r(n.getI18n.call(o,"crm.general.addnote",{name:"getI18n",hash:{},data:l}))+'..." ></td> </tr> <tr> <td id="note_parent_td"><table width="100%" cellpadding="0" cellspacing="0" id="note_content" style="display: none;"> <tbody> <tr> <td id="notesTitleSec" class="pR"><span class="dim" id="dvcreatenotespan" style="display: none;">'+(null!=(i=n.getI18n.call(o,"crm.note.title",{name:"getI18n",hash:{},data:l}))?i:"")+'</span> <span id="dummyspanWidth" class="crm-base-font-size"></span> <span id="showHideTitle" class="fL" style="display: none;"> <span class="crm-small-font-size notesgray fL pR10 pT3 mB5 cP" style="display: none;" id="addtitletop" onclick="Notes.showNotesTitle()">Add title</span> <input type="text" tabindex="999" value="" maxlength="120" class="addNotesTitle ellipsistext crm-font-bold lh20 crm-base-font-size" placeholder="'+r(n.getI18n.call(o,"crm.general.addtitle",{name:"getI18n",hash:{},data:l}))+'..." name="note_subject" id="note_subject" onkeypress="if(event.keyCode==13){Notes.addNote();this.blur();}" onblur="Notes.notesTitleChk();" onkeydown="Notes.editNotesTitle(\'add\');"></td> </span> <div class="cBoth"></div> </tr> <tr> <td><div class="w100_per"> <div class="w100_per"> <textarea tabindex="1000" class="borderNone w100_per crm-base-font-size lh20 mT5" style="height:60px; overflow:auto !important; resize:vertical !important;padding: 5px;" id="noteContentTxt" data-zcqa="notesContentTxt" onclick="bindMentions(this,\'noteContentTxt\');"></textarea> </div> <div class="pT10"> <a id="note_desktop" tabIndex="-1" class="attachFileNew positionRelative vaM detailsPageAttach fL oH pT10" style="width: 100px;" href="javascript:;"> <input type="file" tabIndex="-1" name="notefile" class="smFile file0 h20" id="noteAttachFile" data-zcqa="notesAttachFile" onChange="Notes.hideAttachError();Notes.addFile(this);" style="background: none;left: 0; top: 6px;"> <span id=\'noteAttachMoreFiles\' class=\'hide zDattachment dIB\'></span><span id="noteAttachFiles" class="zDattachment dIB fL"></span></input> <span class="fL crm-small-font-size notesgray pL5 pR10 lh14">'+(null!=(i=n.getI18n.call(o,"crm.label.attach.file",{name:"getI18n",hash:{},data:l}))?i:"")+'</span> </a> <div class="fL pL5 pT10 dvpL20 lh14" id="addTitleSpan"><span class="fL cP crm-small-font-size notesgray" data-zcqa="notesaddTitle" onclick="Notes.initNote(\'addtitle\')">'+r(n.getI18n.call(o,"crm.general.addtitle",{name:"getI18n",hash:{},data:l}))+'</span></div> <div class="fR"> <input type="button" tabindex="1002" class="newgraybtn newgraynotesbtn bt-mediumnewgraybtn" id="cancel_comment" data-zcqa="notesCancelComment" onclick="Notes.resetFileCount();Notes.initNote(\'close\');" value="'+r(n.getI18n.call(o,"crm.button.cancel",{name:"getI18n",hash:{},data:l}))+'"> <input id="save_comment" tabindex="1001" data-zcqa="notesSaveComment" type="button" class="primarybtn mR0 primarynotesbtn bt-mediumprimarybtn" value="'+r(n.getI18n.call(o,"crm.button.save",{name:"getI18n",hash:{},data:l}))+'" '+(null!=(i=n.if.call(o,n.checkStorage.call(o,{name:"checkStorage",hash:{},data:l}),{name:"if",hash:{},fn:e.program(8,l,0),inverse:e.program(10,l,0),data:l}))?i:"")+'> </div> <div class="cBoth"></div> </div> </td> </tr> <tr> <td><div id="alreadyAttached" class="pT10 w100_per"></div> </tr> <tr><td><div id="addAttachment"> <span id="showErrorMsg"></span> <div class="addAttachmentCtnNewFeeds" id="addAttachmentCtnNewFeeds"></div> <div id="noteMoreFiles"></div> </div> </td> </tr> </tbody> </table></td> </tr> </table> </div> </div> </div> <div class="cBoth"></div> '},8:function(e,a,n,t,l){return'onclick="Crm.showStorageExceedPopup();" '},10:function(e,a,n,t,l){return" onclick=\"Crm.trackAction('Note Added');Crm.trackSpotLightAction('Note Added');return Notes.addNoteWithAttachment($(this).closest('table'))\" "},12:function(e,a,n,t,l,i,s){var o,r=null!=a?a:{},c=e.lambda;return" "+(null!=(o=n.if.call(r,null!=s[1]?s[1].isFirstTime:s[1],{name:"if",hash:{},fn:e.program(13,l,0,i,s),inverse:e.noop,data:l}))?o:"")+' <div id = "'+(null!=(o=c(null!=a?a.nId:a,a))?o:"")+'" class="singleNoteBorder addedNotesList pT7 pB7"> <table cellpadding="0" cellspacing="0" class="w100_per"> <tr class="n pR w100_per"> '+(null!=(o=n.unless.call(r,null!=a?a.isPrintAction:a,{name:"unless",hash:{},fn:e.program(16,l,0,i,s),inverse:e.noop,data:l}))?o:"")+' <td class=" pL10 pR10 w100_per pR" > <div class="pB5 cBafter"> <div id="ntitle_'+(null!=(o=c(null!=a?a.nId:a,a))?o:"")+'" class="crm-font-bold wwBreakWord crm-base-font-size dispAddNotesTitle">'+(null!=(o=c(null!=a?a.noteTitle:a,a))?o:"")+'</div> <pre id="noteContWithRegex_'+(null!=(o=c(null!=a?a.nId:a,a))?o:"")+'" style="display: none;" wrap="soft">'+(null!=(o=c(null!=a?a.noteContentWithRegex:a,a))?o:"")+"</pre> "+(null!=(o=n.ifEquals.call(r,null!=a?a.setype:a,"Notes",{name:"ifEquals",hash:{},fn:e.program(18,l,0,i,s),inverse:e.program(23,l,0,i,s),data:l}))?o:"")+" "+(null!=(o=n.if.call(r,null!=a?a.isVoiceNote:a,{name:"if",hash:{},fn:e.program(32,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "+(null!=(o=n.if.call(r,null!=a?a.haveAttachment:a,{name:"if",hash:{},fn:e.program(34,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "+(null!=(o=n.if.call(r,null!=a?a.isPrintAction:a,{name:"if",hash:{},fn:e.program(46,l,0,i,s),inverse:e.program(48,l,0,i,s),data:l}))?o:"")+" </td> </tr> </table> </div> "+(null!=(o=n.if.call(r,null!=s[1]?s[1].isFirstTime:s[1],{name:"if",hash:{},fn:e.program(60,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "},13:function(e,a,n,t,l,i,s){var o;return" "+(null!=(o=n.logicalOper.call(null!=a?a:{},l&&l.index,"==",null!=s[2]?s[2].OldHidden:s[2],{name:"logicalOper",hash:{},fn:e.program(14,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "},14:function(e,a,n,t,l){return' <div id="hiddenNotes" style="display:none;"> '},16:function(e,a,n,t,l,i,s){var o,r=e.lambda;return' <td class="vaT notesUserImg"><span class="feedsImgHolder16 dIB mT7 pL5"><img align="absmiddle" src="'+(null!=(o=r(null!=s[2]?s[2].CONTACTSURL:s[2],a))?o:"")+"?ID="+(null!=(o=r(null!=a?a.modifiedZuid:a,a))?o:"")+'&amp;fs=thumb"></span></td> '},18:function(e,a,n,t,l){var i;return" "+(null!=(i=n.if.call(null!=a?a:{},null!=a?a.displayShortNote:a,{name:"if",hash:{},fn:e.program(19,l,0),inverse:e.program(21,l,0),data:l}))?i:"")+" "},19:function(e,a,n,t,l){var i,s=e.lambda;return' <span id="tempNote_'+(null!=(i=s(null!=a?a.nId:a,a))?i:"")+'"><pre id="tncontent_'+(null!=(i=s(null!=a?a.nId:a,a))?i:"")+'" class="pre crm-base-font-size fL cBoth crmBaseColor p5 pT10" wrap="soft">'+(null!=(i=s(null!=a?a.tempNote:a,a))?i:"")+'... <a href="javascript:void(0)" class="notesSeemore" onclick="show(\'fullNote_'+(null!=(i=s(null!=a?a.nId:a,a))?i:"")+"'),hide('tempNote_"+(null!=(i=s(null!=a?a.nId:a,a))?i:"")+"')\">"+(null!=(i=n.getI18n.call(null!=a?a:{},"crm.label.More",{name:"getI18n",hash:{},data:l}))?i:"")+'</a></pre><span style="clear:left;"></span></span> <span id="fullNote_'+(null!=(i=s(null!=a?a.nId:a,a))?i:"")+'" style="display: none"><pre id="ncontent_'+(null!=(i=s(null!=a?a.nId:a,a))?i:"")+'" class="pre crm-base-font-size fL cBoth crmBaseColor p5 pT10" wrap="soft">'+(null!=(i=s(null!=a?a.noteContent:a,a))?i:"")+'</pre> <span style="clear:left;"></span></span> '},21:function(e,a,n,t,l){var i,s=e.lambda;return' <pre id="ncontent_'+(null!=(i=s(null!=a?a.nId:a,a))?i:"")+'" wrap="soft" class="pre crm-base-font-size fL cBoth crmBaseColor p5 pT10">'+(null!=(i=s(null!=a?a.noteContent:a,a))?i:"")+'</pre><span style="clear:left;"></span> '},23:function(e,a,n,t,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <span class="map-marker-greenbg"></span> <span id="checkintitle_'+o(s(null!=a?a.nId:a,a))+'" class="crmBaseColor vaT"> <span class="vaT">'+o(n.getI18n.call(r,"crm.label.checkedin",{name:"getI18n",hash:{},data:l}))+"</span> "+(null!=(i=n.if.call(r,null!=a?a.isPrimAvail:a,{name:"if",hash:{},fn:e.program(24,l,0),inverse:e.noop,data:l}))?i:"")+(null!=(i=n.if.call(r,null!=a?a.isValidCity:a,{name:"if",hash:{},fn:e.program(30,l,0),inverse:e.noop,data:l}))?i:"")+' </span> \x3c!-- <span class="notesdgray-txt vaT"></span> --\x3e <div class="cBoth"></div> </div> <div id="checkincontent_'+o(s(null!=a?a.nId:a,a))+'" wrap="soft" class="pre lh18 cBoth crmBaseColor">'+o(s(null!=a?a.noteContent:a,a))+'</div> <input type="hidden" id="checkin_latitude" data-params=\'{"noteId":"'+o(s(null!=a?a.nId:a,a))+'", "latitude":"'+o(s(null!=a?a.latitude:a,a))+'", "longitude":"'+o(s(null!=a?a.longitude:a,a))+'"}\'></input> <a href="https://www.google.com/maps?q='+o(s(null!=a?a.latitude:a,a))+","+o(s(null!=a?a.longitude:a,a))+'" target="_blank" title="'+o(s(null!=a?a.checkInCity:a,a))+'"><div id="mapContainer_'+o(s(null!=a?a.nId:a,a))+'" class="mapContCheckin mT15 mB10 cP"></div></a> '},24:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.escapeExpression,r=e.lambda;return' <a class="notesbluetxt vaT" href="'+o(n.getCrmBasePath.call(s,{name:"getCrmBasePath",hash:{},data:l}))+"/EntityInfo.do?module="+o(r(null!=a?a.primModule:a,a))+"&amp;id="+o(r(null!=a?a.primEntId:a,a))+'" title="'+o(r(null!=a?a.primEntName:a,a))+'" target="_blank">'+o(r(null!=a?a.primEntName:a,a))+"</a> "+(null!=(i=n.if.call(s,null!=a?a.isSecAvail:a,{name:"if",hash:{},fn:e.program(25,l,0),inverse:e.noop,data:l}))?i:"")+" "},25:function(e,a,n,t,l){var i;return' <span class="notesbluetxt vaT">(</span>'+(null!=(i=n.ifEquals.call(null!=a?a:{},null!=a?a.primModule:a,"Leads",{name:"ifEquals",hash:{},fn:e.program(26,l,0),inverse:e.program(28,l,0),data:l}))?i:"")+'<span class="notesbluetxt vaT">)</span> '},26:function(e,a,n,t,l){return'<span class="notesdgray-txt vaT">'+e.escapeExpression(e.lambda(null!=a?a.secEntName:a,a))+"</span>"},28:function(e,a,n,t,l){var i=e.escapeExpression,s=e.lambda;return'<a class="notesbluetxt vaT" href="'+i(n.getCrmBasePath.call(null!=a?a:{},{name:"getCrmBasePath",hash:{},data:l}))+"/EntityInfo.do?module="+i(s(null!=a?a.secModule:a,a))+"&amp;id="+i(s(null!=a?a.secEntId:a,a))+'" title="'+i(s(null!=a?a.secEntName:a,a))+'" target="_blank">'+i(s(null!=a?a.secEntName:a,a))+"</a>"},30:function(e,a,n,t,l){var i=e.lambda,s=e.escapeExpression;return' <span class="notesbluetxt vaT">@</span> <a class="notesbluetxt vaT" href="https://www.google.com/maps?q='+s(i(null!=a?a.latitude:a,a))+","+s(i(null!=a?a.longitude:a,a))+'" target="_blank" title="'+s(i(null!=a?a.checkInCity:a,a))+'">'+s(i(null!=a?a.checkInCity:a,a))+"</a> "},32:function(e,a,n,t,l){var i,s=e.lambda,o=null!=a?a:{},r=e.escapeExpression;return' <a class="crm-small-font-size dIB p5" id="voice_'+(null!=(i=s(null!=a?a.nId:a,a))?i:"")+'" href="javascript:showExportMenu(\''+r(n.getCrmBasePath.call(o,{name:"getCrmBasePath",hash:{},data:l}))+"/specific/ViewAttachment?fileId="+r(s(null!=a?a.fileId:a,a))+"&module="+(null!=(i=s(null!=a?a.relModuleName:a,a))?i:"")+"&nId="+(null!=(i=s(null!=a?a.nId:a,a))?i:"")+"&parentId="+(null!=(i=s(null!=a?a.mainEntId:a,a))?i:"")+"&creatorId="+(null!=(i=s(null!=a?a.creatorId:a,a))?i:"")+"&id="+(null!=(i=s(null!=a?a.nId:a,a))?i:"")+"&name="+r(s(null!=a?a.fileName:a,a))+"','"+(null!=(i=s(null!=a?a.fileType:a,a))?i:"")+"','voice_"+(null!=(i=s(null!=a?a.nId:a,a))?i:"")+"',undefined,'true');\"> "+r(s(null!=a?a.fileName:a,a))+' <img src="'+r(n.getCrmImageUrl.call(o,"voicefileicon.png",{name:"getCrmImageUrl",hash:{},data:l}))+'" class="" border="0" hspace="3" align="absmiddle"> </a> '},34:function(e,a,n,t,l,i,s){var o;return' <div id="noteAttachments" class="imagePreview fL cBoth"> <input type="hidden" name="totalFilesSize" id="totalFilesSize" value="'+(null!=(o=e.lambda(null!=a?a.totalFilesSize:a,a))?o:"")+'" ></input> '+(null!=(o=n.each.call(null!=a?a:{},null!=a?a.attachments:a,{name:"each",hash:{},fn:e.program(35,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" </div> "},35:function(e,a,n,t,l,i,s){var o,r=e.lambda;return' <div class="singlePreview"> <table> <tr><td style="width:100px; height:100px"> '+(null!=(o=n.if.call(null!=a?a:{},null!=a?a.isImage:a,{name:"if",hash:{},fn:e.program(36,l,0,i,s),inverse:e.program(38,l,0,i,s),data:l}))?o:"")+' </td></tr> <tr><td class="fileTitle" title="'+(null!=(o=r(null!=a?a.attachFileName:a,a))?o:"")+" "+(null!=(o=r(null!=a?a.attachFileSize:a,a))?o:"")+'"> '+(null!=(o=r(null!=a?a.trimmedFileName:a,a))?o:"")+' <input type="hidden" name="fileSize" id="fileSize" value="'+(null!=(o=r(null!=a?a.sizeInBytes:a,a))?o:"")+'" ></input> <input type="hidden" name="attachmentId" id="attachmentId" value="'+(null!=(o=r(null!=a?a.attachmentId:a,a))?o:"")+'" ></input> </td></tr> </table> </div> '},36:function(e,a,n,t,l,i,s){var o,r=e.lambda,c=null!=a?a:{},d=e.escapeExpression;return' <a title="'+(null!=(o=r(null!=a?a.attachFileName:a,a))?o:"")+'" class="imageGallery" rel="'+(null!=(o=r(null!=s[2]?s[2].nId:s[2],a))?o:"")+'" href="'+d(n.getCrmBasePath.call(c,{name:"getCrmBasePath",hash:{},data:l}))+"/ViewImage?fileId="+(null!=(o=r(null!=a?a.attachFileId:a,a))?o:"")+"&name="+(null!=(o=r(null!=a?a.attachFileName:a,a))?o:"")+"&downLoadMode=default&creatorId="+(null!=(o=r(null!=a?a.creatorId:a,a))?o:"")+"&parentId="+(null!=(o=r(null!=s[2]?s[2].mainEntId:s[2],a))?o:"")+"&nId="+(null!=(o=r(null!=s[2]?s[2].nId:s[2],a))?o:"")+"&module="+(null!=(o=r(null!=s[2]?s[2].relModuleName:s[2],a))?o:"")+'"> <img src="'+d(n.getCrmBasePath.call(c,{name:"getCrmBasePath",hash:{},data:l}))+"/ViewImage?fileId="+(null!=(o=r(null!=a?a.attachFileId:a,a))?o:"")+"&name="+(null!=(o=r(null!=a?a.attachFileName:a,a))?o:"")+"&downLoadMode=default&creatorId="+(null!=(o=r(null!=a?a.creatorId:a,a))?o:"")+"&parentId="+(null!=(o=r(null!=s[2]?s[2].mainEntId:s[2],a))?o:"")+"&nId="+(null!=(o=r(null!=s[2]?s[2].nId:s[2],a))?o:"")+"&module="+(null!=(o=r(null!=s[2]?s[2].relModuleName:s[2],a))?o:"")+'" style="max-width:100px;max-height:100px;" title="'+(null!=(o=r(null!=a?a.attachFileName:a,a))?o:"")+'"> </a> '},38:function(e,a,n,t,l,i,s){var o;return" "+(null!=(o=n.if_nq.call(null!=a?a:{},null!=a?a.downLoadMode:a,"",{name:"if_nq",hash:{},fn:e.program(39,l,0,i,s),inverse:e.program(44,l,0,i,s),data:l}))?o:"")+" "},39:function(e,a,n,t,l,i,s){var o;return" "+(null!=(o=n.ifEquals.call(null!=a?a:{},null!=a?a.downLoadMode:a,"pdfViewPlugin",{name:"ifEquals",hash:{},fn:e.program(40,l,0,i,s),inverse:e.program(42,l,0,i,s),data:l}))?o:"")+" "},40:function(e,a,n,t,l,i,s){var o,r=e.lambda;return' <a  class="cP" onClick="javascript:openSheetForExport(\''+e.escapeExpression(n.getCrmBasePath.call(null!=a?a:{},{name:"getCrmBasePath",hash:{},data:l}))+"/specific/ViewAttachment?fileId="+(null!=(o=r(null!=a?a.attachFileId:a,a))?o:"")+"&module="+(null!=(o=r(null!=s[4]?s[4].relModuleName:s[4],a))?o:"")+"&nId="+(null!=(o=r(null!=s[4]?s[4].nId:s[4],a))?o:"")+"&parentId="+(null!=(o=r(null!=s[4]?s[4].mainEntId:s[4],a))?o:"")+"&creatorId="+(null!=(o=r(null!=a?a.creatorId:a,a))?o:"")+"&id="+(null!=(o=r(null!=a?a.attachmentId:a,a))?o:"")+"&name="+(null!=(o=r(null!=a?a.attachFileName:a,a))?o:"")+"&downLoadMode=pdfViewPlugin','pdfViewPlugin');sE(event);\"  title=\""+(null!=(o=r(null!=a?a.attachFileName:a,a))?o:"")+'"> '+(null!=(o=r(null!=a?a.trimmedFileName:a,a))?o:"")+"</a> "},42:function(e,a,n,t,l,i,s){var o,r=e.lambda;return' <a  class="cP" onClick="javascript:openSheetForExport(\''+e.escapeExpression(n.getCrmBasePath.call(null!=a?a:{},{name:"getCrmBasePath",hash:{},data:l}))+"/specific/ViewAttachment?fileId="+(null!=(o=r(null!=a?a.attachFileId:a,a))?o:"")+"&module="+(null!=(o=r(null!=s[4]?s[4].relModuleName:s[4],a))?o:"")+"&nId="+(null!=(o=r(null!=s[4]?s[4].nId:s[4],a))?o:"")+"&parentId="+(null!=(o=r(null!=s[4]?s[4].mainEntId:s[4],a))?o:"")+"&creatorId="+(null!=(o=r(null!=a?a.creatorId:a,a))?o:"")+"&id="+(null!=(o=r(null!=a?a.attachmentId:a,a))?o:"")+"&name="+(null!=(o=r(null!=a?a.attachFileName:a,a))?o:"")+"&downLoadMode="+(null!=(o=r(null!=a?a.downLoadMode:a,a))?o:"")+'\');sE(event);"  title="'+(null!=(o=r(null!=a?a.attachFileName:a,a))?o:"")+'"> '+(null!=(o=r(null!=a?a.trimmedFileName:a,a))?o:"")+"</a> "},44:function(e,a,n,t,l,i,s){var o,r=e.lambda;return' <a href="'+e.escapeExpression(n.getCrmBasePath.call(null!=a?a:{},{name:"getCrmBasePath",hash:{},data:l}))+"/specific/ViewAttachment?fileId="+(null!=(o=r(null!=a?a.attachFileId:a,a))?o:"")+"&module="+(null!=(o=r(null!=s[4]?s[4].relModuleName:s[4],a))?o:"")+"&nId="+(null!=(o=r(null!=s[4]?s[4].nId:s[4],a))?o:"")+"&parentId="+(null!=(o=r(null!=s[4]?s[4].mainEntId:s[4],a))?o:"")+"&creatorId="+(null!=(o=r(null!=a?a.creatorId:a,a))?o:"")+"&id="+(null!=(o=r(null!=a?a.attachmentId:a,a))?o:"")+"&name="+(null!=(o=r(null!=a?a.attachFileName:a,a))?o:"")+'&downLoadMode=default" title="Download"> '+(null!=(o=r(null!=a?a.trimmedFileName:a,a))?o:"")+"</a> "},46:function(e,a,n,t,l){var i,s=e.lambda,o=e.escapeExpression;return' <span class="mT7 dB crm-small-font-size crmNotFoundColor fL cBoth pL0"><span class="fL">'+o(s(null!=a?a.dispModuleName:a,a))+'</span><span class="pL5 pR5 fL">-</span><span class="fL">'+o(s(null!=a?a.mainEntityName:a,a))+'</span><span class="fL pL10 pR10">&#x2022;</span><span class="fL pR5 pL10">'+o(s(null!=a?a.modifiedDateFull:a,a))+'</span> <span class="fL pR5 notesgray dIB">'+o(n.getI18n.call(null!=a?a:{},"crm.label.simply.by",{name:"getI18n",hash:{},data:l}))+'</span> <span class="fL pR5 notesgray dIB" data-title="'+o(s(null!=a?a.modiName:a,a))+'">'+(null!=(i=s(null!=a?a.modiName:a,a))?i:"")+"</span> </span> "},48:function(e,a,n,t,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <span class="note_edit_div w100_per dIB fL cBoth" style="box-sizing: border-box;"></span> <div class="mT5 dB crm-small-font-size crmNotFoundColor fL cBoth lh20 notesBtmDet"> <span class="notesModdet fL"> <span class="notesgray fL ellipsistext" style="max-width: 100px;" title="'+o(s(null!=a?a.dispModuleName:a,a))+'">'+o(s(null!=a?a.dispModuleName:a,a))+'</span> <span class="pL5 pR5 fL">-</span> <a class="crm-small-font-size notesbluetxt fL smalledit ellipsistext" data-zcqa="notesModule" style="max-width: 100px;" href="'+o(n.getCrmBasePath.call(r,{name:"getCrmBasePath",hash:{},data:l}))+"/EntityInfo.do?module="+(null!=(i=s(null!=a?a.relModuleName:a,a))?i:"")+"&id="+(null!=(i=s(null!=a?a.mainEntId:a,a))?i:"")+'" target=_blanks title="'+o(s(null!=a?a.mainEntityName:a,a))+'">'+o(s(null!=a?a.mainEntityName:a,a))+'</a> </span> <span class="fL pL10 pR10 notesDot">&#x2022;</span> '+(null!=(i=n.ifEquals.call(r,null!=a?a.setype:a,"Notes",{name:"ifEquals",hash:{},fn:e.program(49,l,0),inverse:e.noop,data:l}))?i:"")+' <span class="fL pR5 notesgray dIB" data-title="'+o(s(null!=a?a.modifiedDateFull:a,a))+'"><span class="timerIcon-notes fL mR5"></span>'+o(s(null!=a?a.modifiedDate:a,a))+'</span> <span class="fL pR5 notesgray dIB">'+o(n.getI18n.call(r,"crm.label.simply.by",{name:"getI18n",hash:{},data:l}))+'</span> <span class="fL pR5 notesgray dIB" data-title="'+o(s(null!=a?a.modiName:a,a))+'"><span class="mT2 fL mR5"></span>'+(null!=(i=s(null!=a?a.modiName:a,a))?i:"")+"</span> "+(null!=(i=n.ifEquals.call(r,null!=a?a.setype:a,"Notes",{name:"ifEquals",hash:{},fn:e.program(51,l,0),inverse:e.noop,data:l}))?i:"")+' </div> <span class="note_reply_div w100_per dIB fL cBoth mT8 p10" style="display:none;"></span> '},49:function(e,a,n,t,l){var i,s=e.lambda,o=e.escapeExpression;return' <a href="javascript:;" class="fL smalledit notesgray ellipsistext" data-zcqa="notesAdd" style="max-width: 100px;" onclick="Notes.doReply(\''+o(s(null!=a?a.mainEntId:a,a))+"','"+(null!=(i=s(null!=a?a.mainEntityNameJS:a,a))?i:"")+"','"+o(s(null!=a?a.relModuleName:a,a))+"',this,'"+o(s(null!=a?a.i18nModName:a,a))+"')\"> "+o(n.getI18n.call(null!=a?a:{},"crm.label.add.note",{name:"getI18n",hash:{},data:l}))+'</a><span class="fL pL10 pR10 notesDot">&#x2022;</span> '},51:function(e,a,n,t,l){var i,s=null!=a?a:{};return' <span class="pA bg_white notesActionMoreDot notes_actions_container" id="noteOper_'+(null!=(i=e.lambda(null!=a?a.nId:a,a))?i:"")+'" style="visibility: hidden;top: 10px;right: 0px"> '+(null!=(i=n.if.call(s,null!=a?a.isEditAllowed:a,{name:"if",hash:{},fn:e.program(52,l,0),inverse:e.program(54,l,0),data:l}))?i:"")+" "+(null!=(i=n.if.call(s,null!=a?a.isDelAllowed:a,{name:"if",hash:{},fn:e.program(56,l,0),inverse:e.program(58,l,0),data:l}))?i:"")+" </span> "},52:function(e,a,n,t,l){var i,s=e.lambda;return" <a href=\"javascript:Notes.editNote('"+(null!=(i=s(null!=a?a.nId:a,a))?i:"")+"','"+(null!=(i=s(null!=a?a.seId:a,a))?i:"")+"','"+(null!=(i=s(null!=a?a.relModuleName:a,a))?i:"")+'\');" class="notesActionbtn mR10" data-zcqa="notesEdit" lt-prop-title="'+e.escapeExpression(n.getI18n.call(null!=a?a:{},"crm.button.edit",{name:"getI18n",hash:{},data:l}))+'"><span class="svgIconsImg edit-Icon-new mT2 vaM"></span></a> '},54:function(e,a,n,t,l){return' <span class="crmBaseColor notesActionbtn mR10"><span class="svgIconsImg mT2 edit-Icon-new vaM" style="opacity:0.3"></span></span> '},56:function(e,a,n,t,l){var i,s=e.lambda,o=e.escapeExpression;return' <a href="javascript:;" class="notesActionbtnDel" data-zcqa="notesDelete" data-onclick="javascript:Notes.deleteNote(\''+(null!=(i=s(null!=a?a.nId:a,a))?i:"")+"','"+(null!=(i=s(null!=a?a.mainEntId:a,a))?i:"")+"','"+o(s(null!=a?a.relModuleName:a,a))+"');\" onclick=\"showDeletePopup('ntitle_"+(null!=(i=s(null!=a?a.nId:a,a))?i:"")+"', 'crm.label.yes', '', '', this, 'Notes');\" lt-prop-title=\""+o(n.getI18n.call(null!=a?a:{},"crm.button.delete",{name:"getI18n",hash:{},data:l}))+'"><span class="svgIconsImg mT2 delete-Icon-new vaM"></span></a> '},58:function(e,a,n,t,l){return' <span class="crmBaseColor notesActionbtnDel"><span class="svgIconsImg mT2 delete-Icon-new vaM mL2" style="opacity:0.3"></span></span> '},60:function(e,a,n,t,l){var i;return" "+(null!=(i=n.if.call(null!=a?a:{},l&&l.last,{name:"if",hash:{},fn:e.program(61,l,0),inverse:e.noop,data:l}))?i:"")+" "},61:function(e,a,n,t,l){return" </div> "},63:function(e,a,n,t,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <div id="showMore" class="fL w100_per mB1"> <table class="w600" cellpadding="0" cellspacing="0"> <tr> <td class="vaT p10"> <div class="pL10 notesbluetxt cP crm-small-font-size " onclick="Notes.loadNotes(\''+(null!=(i=s(null!=a?a.related_notes_entityId:a,a))?i:"")+"',true,'"+o(s(null!=a?a.related_notes_module:a,a))+"','"+(null!=(i=s(null!=a?a.entityMap_rel_notes_entId:a,a))?i:"")+"')\">"+o(n.getI18n.call(r,"crm.note.view.previous",{name:"getI18n",hash:{},data:l}))+'</div> </td><td  class="vaT p10"> <div class="fR crmNotFoundColor pR10 cP crm-small-font-size"> <span id=\'dispcurrentCount\'>'+o(s(null!=a?a.currentCount:a,a))+'</span> <span class="notesgray">'+o(n.getI18n.call(r,"of",{name:"getI18n",hash:{},data:l}))+"</span> <span id='dispTotalNotesCount'>"+o(s(null!=a?a.TotalNotesCount:a,a))+"</span> </div> </td></tr> </table> </div> "},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l,i,s){var o,r=e.lambda,c=e.escapeExpression,d=null!=a?a:{};return'  <input type="hidden" id="TotalNotesCount" value="'+c(r(null!=a?a.TotalNotesCount:a,a))+'" ></input> <input type="hidden" id="currentCount" value="'+c(r(null!=a?a.currentCount:a,a))+'" ></input> <input type="hidden" id="model" value="detailPanelOlder"></input> <table class="w600" cellpadding="0" cellspacing="0"> <tbody> <tr><td> <div class="ntit mT15 dvmT0" onClick="toggleNotes();" style="cursor: pointer;"> '+c(n.getI18n.call(d,"crm.label.notes",{name:"getI18n",hash:{},data:l}))+" \x3c!-- "+c(n.getI18n.call(d,"crm.label.notes.modules",null!=a?a.tab_label:a,{name:"getI18n",hash:{},data:l}))+" --\x3e </div> </td> <td> "+(null!=(o=n.unless.call(d,null!=a?a.isPrintAction:a,{name:"unless",hash:{},fn:e.program(1,l,0,i,s),inverse:e.noop,data:l}))?o:"")+' </td> </tr></tbody> </table> <div id="toggleNotes" class="fL mB20 w600"> '+(null!=(o=n.if.call(d,null!=a?a.addNewNote:a,{name:"if",hash:{},fn:e.program(7,l,0,i,s),inverse:e.noop,data:l}))?o:"")+' <input type="hidden" name="tIdx" id="tIdx" value="'+(null!=(o=r(null!=a?a.tIdx:a,a))?o:"")+'" ></input> <div class="actnotes fL w600" id="actnotes"> '+(null!=(o=n.each.call(d,null!=a?a.notes:a,{name:"each",hash:{},fn:e.program(12,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" </div> "+(null!=(o=n.if.call(d,null!=a?a.isMore:a,{name:"if",hash:{},fn:e.program(63,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" </div> "},useData:!0,useDepths:!0}),a.CrmNotes_DetailsPageSingleNote=e({1:function(e,a,n,t,l){var i=e.escapeExpression;return' <td class="vaT notesUserImg"><span class="feedsImgHolder16 dIB mT7 pL5"><img align="absmiddle" src="'+i(e.lambda(null!=a?a.CONTACTSURL:a,a))+"?ID="+i(n.encodeURL.call(null!=a?a:{},null!=a?a.modifiedZuid:a,{name:"encodeURL",hash:{},data:l}))+'&amp;fs=thumb"></span></td> '},3:function(e,a,n,t,l){return' <div id="ntitle_'+e.escapeExpression(e.lambda(null!=a?a.nId:a,a))+'" class="crm-font-bold wwBreakWord crm-base-font-size dispAddNotesTitle" style="display:block"></div> '},5:function(e,a,n,t,l){var i,s=e.lambda,o=e.escapeExpression;return' <div id="ntitle_'+o(s(null!=a?a.nId:a,a))+'" class="crm-font-bold wwBreakWord crm-base-font-size dispAddNotesTitle" tabindex="0" aria-label="'+o(s(null!=a?a.noteTitle:a,a))+'">'+(null!=(i=s(null!=a?a.noteTitle:a,a))?i:"")+"</div> "},7:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.lambda,r=e.escapeExpression;return" "+(null!=(i=n.if.call(s,null!=a?a.displayShortNote:a,{name:"if",hash:{},fn:e.program(8,l,0),inverse:e.noop,data:l}))?i:"")+' <pre id="ncontent_'+r(o(null!=a?a.nId:a,a))+'" wrap="soft" class="pre crm-base-font-size fL cBoth crmBaseColor p5 pT10 '+(null!=(i=n.if.call(s,null!=a?a.displayShortNote:a,{name:"if",hash:{},fn:e.program(10,l,0),inverse:e.noop,data:l}))?i:"")+'" tabindex="0" aria-label="'+r(o(null!=a?a.noteContent:a,a))+'">'+(null!=(i=o(null!=a?a.noteContent:a,a))?i:"")+'</pre><span style="clear:left;"></span> '},8:function(e,a,n,t,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <span id="tempNote_'+o(s(null!=a?a.nId:a,a))+'"><pre id="tncontent_'+o(s(null!=a?a.nId:a,a))+'" class="pre crm-base-font-size fL cBoth crmBaseColor p5 pT10" wrap="soft">'+(null!=(i=s(null!=a?a.tempNote:a,a))?i:"")+'... <a href="javascript:void(0)" class="notesSeemore" onclick="show(\'ncontent_'+o(n.encodeJS.call(r,null!=a?a.nId:a,{name:"encodeJS",hash:{},data:l}))+"'),hide('tempNote_"+o(n.encodeJS.call(r,null!=a?a.nId:a,{name:"encodeJS",hash:{},data:l}))+"')\">"+o(n.getI18n.call(r,"crm.label.More",{name:"getI18n",hash:{},data:l}))+'</a></pre><span style="clear:left;"></span></span> '},10:function(e,a,n,t,l){return" dN "},12:function(e,a,n,t,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <span class="map-marker-greenbg"></span> <span id="checkintitle_'+o(s(null!=a?a.nId:a,a))+'" class="crmBaseColor vaT"> <span class="vaT">'+o(n.getI18n.call(r,"crm.label.checkedin",{name:"getI18n",hash:{},data:l}))+"</span> "+(null!=(i=n.if.call(r,null!=a?a.isPrimAvail:a,{name:"if",hash:{},fn:e.program(13,l,0),inverse:e.noop,data:l}))?i:"")+(null!=(i=n.if.call(r,null!=a?a.isValidCity:a,{name:"if",hash:{},fn:e.program(19,l,0),inverse:e.noop,data:l}))?i:"")+' </span> <div class="cBoth"></div> </div> <div id="checkincontent_'+o(s(null!=a?a.nId:a,a))+'" wrap="soft" class="pre lh18 cBoth crmBaseColor">'+(null!=(i=s(null!=a?a.noteContent:a,a))?i:"")+'</div> <input type="hidden" id="checkin_latitude" data-params=\'{"noteId":"'+o(s(null!=a?a.nId:a,a))+'", "latitude":"'+o(s(null!=a?a.latitude:a,a))+'", "longitude":"'+o(s(null!=a?a.longitude:a,a))+"\"}'></input> <a  onclick=\"findMap('"+o(n.encodeJS.call(r,null!=a?a.latitude:a,{name:"encodeJS",hash:{},data:l}))+","+o(n.encodeJS.call(r,null!=a?a.longitude:a,{name:"encodeJS",hash:{},data:l}))+"','','location')\"; title=\""+o(s(null!=a?a.checkInCity:a,a))+'"><div id="mapContainer_'+o(s(null!=a?a.nId:a,a))+'" class="mapContCheckin mT15 mB10 cP"></div></a> '},13:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.escapeExpression,r=e.lambda;return' <a class="notesbluetxt vaT" href="'+o(n.getCrmBasePath.call(s,{name:"getCrmBasePath",hash:{},data:l}))+"/EntityInfo.do?module="+o(n.encodeURIComponent.call(s,null!=a?a.primModule:a,{name:"encodeURIComponent",hash:{},data:l}))+"&amp;id="+o(n.encodeURL.call(s,null!=a?a.primEntId:a,{name:"encodeURL",hash:{},data:l}))+'" title="'+o(r(null!=a?a.primEntName:a,a))+'" target="_blank">'+o(r(null!=a?a.primEntName:a,a))+"</a> "+(null!=(i=n.if.call(s,null!=a?a.isSecAvail:a,{name:"if",hash:{},fn:e.program(14,l,0),inverse:e.noop,data:l}))?i:"")+" "},14:function(e,a,n,t,l){var i;return' <span class="notesbluetxt vaT">(</span>'+(null!=(i=n.ifEquals.call(null!=a?a:{},null!=a?a.primModule:a,"Leads",{name:"ifEquals",hash:{},fn:e.program(15,l,0),inverse:e.program(17,l,0),data:l}))?i:"")+'<span class="notesbluetxt vaT">)</span> '},15:function(e,a,n,t,l){return'<span class="notesdgray-txt vaT">'+e.escapeExpression(e.lambda(null!=a?a.secEntName:a,a))+"</span>"},17:function(e,a,n,t,l){var i=null!=a?a:{},s=e.escapeExpression,o=e.lambda;return'<a class="notesbluetxt vaT" href="'+s(n.getCrmBasePath.call(i,{name:"getCrmBasePath",hash:{},data:l}))+"/EntityInfo.do?module="+s(n.encodeURIComponent.call(i,null!=a?a.secModule:a,{name:"encodeURIComponent",hash:{},data:l}))+"&amp;id="+s(n.encodeURL.call(i,null!=a?a.secEntId:a,{name:"encodeURL",hash:{},data:l}))+'" title="'+s(o(null!=a?a.secEntName:a,a))+'" target="_blank">'+s(o(null!=a?a.secEntName:a,a))+"</a>"},19:function(e,a,n,t,l){var i=null!=a?a:{},s=e.escapeExpression,o=e.lambda;return' <span class="notesbluetxt vaT">@</span> <a class="notesbluetxt vaT" onclick="findMap(\''+s(n.encodeJS.call(i,null!=a?a.latitude:a,{name:"encodeJS",hash:{},data:l}))+","+s(n.encodeJS.call(i,null!=a?a.longitude:a,{name:"encodeJS",hash:{},data:l}))+"','','location');\" title=\""+s(o(null!=a?a.checkInCity:a,a))+'">'+s(o(null!=a?a.checkInCity:a,a))+"</a> "},21:function(e,a,n,t,l){var i=e.lambda,s=e.escapeExpression,o=null!=a?a:{};return' <a class="crm-small-font-size dIB p5" id="voice_'+s(i(null!=a?a.nId:a,a))+'" href="javascript:showExportMenu(\''+s(n.getCrmBasePath.call(o,{name:"getCrmBasePath",hash:{},data:l}))+"/specific/ViewAttachment?fileId="+s(n.encodeJS.call(o,null!=a?a.fileId:a,{name:"encodeJS",hash:{},data:l}))+"&module="+s(n.encodeJS.call(o,null!=a?a.relModuleName:a,{name:"encodeJS",hash:{},data:l}))+"&nId="+s(n.encodeJS.call(o,null!=a?a.nId:a,{name:"encodeJS",hash:{},data:l}))+"&parentId="+s(n.encodeJS.call(o,null!=a?a.mainEntId:a,{name:"encodeJS",hash:{},data:l}))+"&creatorId="+s(n.encodeJS.call(o,null!=a?a.creatorId:a,{name:"encodeJS",hash:{},data:l}))+"&id="+s(n.encodeJS.call(o,null!=a?a.nId:a,{name:"encodeJS",hash:{},data:l}))+"&name="+s(n.encodeJS.call(o,null!=a?a.fileName:a,{name:"encodeJS",hash:{},data:l}))+"','"+s(n.encodeJS.call(o,null!=a?a.fileType:a,{name:"encodeJS",hash:{},data:l}))+"','voice_"+s(n.encodeJS.call(o,null!=a?a.nId:a,{name:"encodeJS",hash:{},data:l}))+"',undefined,'true');\"> "+s(i(null!=a?a.fileName:a,a))+' <img src="'+s(n.getCrmImageUrl.call(o,"voicefileicon.png",{name:"getCrmImageUrl",hash:{},data:l}))+'" class="" border="0" hspace="3" align="absmiddle"> </a> <span class="cP icon_play notPlaying dIB" onclick="playAudio(this,\''+s(n.encodeJS.call(o,null!=a?a.nId:a,{name:"encodeJS",hash:{},data:l}))+'\')" style="margin-left: 10px;" onmouseover="Lyte.registeredMixins[\'crm-related-list-utils\'].setPlayOrPauseMessage(this);" title="Play"></span> <audio id="'+s(i(null!=a?a.nId:a,a))+'_audio" class="mT10" hidden="true" src="'+s(n.getCrmBasePath.call(o,{name:"getCrmBasePath",hash:{},data:l}))+"/specific/ViewAttachment?fileId="+s(n.encodeURL.call(o,null!=a?a.fileId:a,{name:"encodeURL",hash:{},data:l}))+"&module="+s(n.encodeURL.call(o,null!=a?a.relModuleName:a,{name:"encodeURL",hash:{},data:l}))+"&parentId="+s(n.encodeURL.call(o,null!=a?a.mainEntId:a,{name:"encodeURL",hash:{},data:l}))+"&creatorId="+s(n.encodeURL.call(o,null!=a?a.creatorId:a,{name:"encodeURL",hash:{},data:l}))+"&id="+s(n.encodeURL.call(o,null!=a?a.nId:a,{name:"encodeURL",hash:{},data:l}))+"&name="+s(n.encodeURL.call(o,null!=a?a.fileName:a,{name:"encodeURL",hash:{},data:l}))+'" controls="" preload="none"></audio> '},23:function(e,a,n,t,l,i,s){var o;return' <div id="noteAttachments" class="imagePreview fL cBoth"> <input type="hidden" name="totalFilesSize" id="totalFilesSize" value="'+e.escapeExpression(e.lambda(null!=a?a.totalFilesSize:a,a))+'" ></input> '+(null!=(o=n.each.call(null!=a?a:{},null!=a?a.attachments:a,{name:"each",hash:{},fn:e.program(24,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" </div> "},24:function(e,a,n,t,l,i,s){var o,r=null!=a?a:{},c=e.lambda,d=e.escapeExpression;return' <div class="singlePreview"> <table> <tr class="attachmentHover"><td style="width:100px; height:100px" class="attachment-notes pR"> '+(null!=(o=n.if.call(r,null!=a?a.isImage:a,{name:"if",hash:{},fn:e.program(25,l,0,i,s),inverse:e.program(30,l,0,i,s),data:l}))?o:"")+" </td></tr> "+(null!=(o=n.unless.call(r,null!=s[1]?s[1].isPrintAction:s[1],{name:"unless",hash:{},fn:e.program(35,l,0,i,s),inverse:e.noop,data:l}))?o:"")+' </table> <span class="crm-small-font-size aligncenter dB p5" title="'+d(c(null!=a?a.attachFileName:a,a))+" "+d(c(null!=a?a.attachFileSize:a,a))+'">'+d(c(null!=a?a.trimmedFileName:a,a))+"</span> </div> "},25:function(e,a,n,t,l,i,s){var o;return" "+(null!=(o=n.if.call(null!=a?a:{},null!=s[1]?s[1].isPrintAction:s[1],{name:"if",hash:{},fn:e.program(26,l,0,i,s),inverse:e.program(28,l,0,i,s),data:l}))?o:"")+" "},26:function(e,a,n,t,l,i,s){var o=null!=a?a:{},r=e.escapeExpression;return' <img src="'+r(n.getCrmBasePath.call(o,{name:"getCrmBasePath",hash:{},data:l}))+"/EntityImageAttach.do?&actionName=readImage&fileId="+r(n.encodeURL.call(o,null!=a?a.encAttachFileId:a,{name:"encodeURL",hash:{},data:l}))+"&entityId="+r(n.encodeURL.call(o,null!=s[1]?s[1].mainEntId:s[1],{name:"encodeURL",hash:{},data:l}))+"&action_module="+r(n.encodeURIComponent.call(o,null!=s[1]?s[1].relModuleName:s[1],{name:"encodeURIComponent",hash:{},data:l}))+'" style="max-width:100px;max-height:100px;" title="'+r(e.lambda(null!=a?a.attachFileName:a,a))+'"> '},28:function(e,a,n,t,l,i,s){var o=e.lambda,r=e.escapeExpression,c=null!=a?a:{};return' <a title="'+r(o(null!=a?a.attachFileName:a,a))+'" class="imageGallery" rel="'+r(o(null!=a?a.nId:a,a))+'" href="'+r(n.getCrmBasePath.call(c,{name:"getCrmBasePath",hash:{},data:l}))+"/ViewImage?fileId="+r(n.encodeURL.call(c,null!=a?a.attachFileId:a,{name:"encodeURL",hash:{},data:l}))+"&name="+r(n.encodeURIComponent.call(c,null!=a?a.attachFileName:a,{name:"encodeURIComponent",hash:{},data:l}))+"&downLoadMode=default&creatorId="+r(n.encodeURL.call(c,null!=a?a.creatorId:a,{name:"encodeURL",hash:{},data:l}))+"&parentId="+r(n.encodeURL.call(c,null!=s[1]?s[1].mainEntId:s[1],{name:"encodeURL",hash:{},data:l}))+"&nId="+r(n.encodeURL.call(c,null!=s[1]?s[1].nId:s[1],{name:"encodeURL",hash:{},data:l}))+"&module="+r(n.encodeURIComponent.call(c,null!=s[1]?s[1].relModuleName:s[1],{name:"encodeURIComponent",hash:{},data:l}))+'"> <img src="'+r(n.getCrmBasePath.call(c,{name:"getCrmBasePath",hash:{},data:l}))+"/EntityImageAttach.do?&actionName=readImage&fileId="+r(n.encodeURL.call(c,null!=a?a.encAttachFileId:a,{name:"encodeURL",hash:{},data:l}))+"&entityId="+r(n.encodeURL.call(c,null!=s[1]?s[1].mainEntId:s[1],{name:"encodeURL",hash:{},data:l}))+"&action_module="+r(n.encodeURIComponent.call(c,null!=s[1]?s[1].relModuleName:s[1],{name:"encodeURIComponent",hash:{},data:l}))+'" style="max-width:100px;max-height:100px;" title="'+r(o(null!=a?a.attachFileName:a,a))+'"> </a> '},30:function(e,a,n,t,l,i,s){var o;return" "+(null!=(o=n.if_nq.call(null!=a?a:{},null!=a?a.downLoadMode:a,"",{name:"if_nq",hash:{},fn:e.program(31,l,0,i,s),inverse:e.program(33,l,0,i,s),data:l}))?o:"")+" "},31:function(e,a,n,t,l,i,s){var o=null!=a?a:{},r=e.escapeExpression,c=e.lambda;return' <a  class="cP" onClick="javascript:openSheetForExport(\''+r(n.getCrmBasePath.call(o,{name:"getCrmBasePath",hash:{},data:l}))+"/specific/ViewAttachment?fileId="+r(n.encodeJS.call(o,null!=a?a.attachFileId:a,{name:"encodeJS",hash:{},data:l}))+"&module="+r(n.encodeJS.call(o,null!=s[1]?s[1].relModuleName:s[1],{name:"encodeJS",hash:{},data:l}))+"&nId="+r(n.encodeJS.call(o,null!=s[1]?s[1].nId:s[1],{name:"encodeJS",hash:{},data:l}))+"&parentId="+r(n.encodeJS.call(o,null!=s[1]?s[1].mainEntId:s[1],{name:"encodeJS",hash:{},data:l}))+"&creatorId="+r(n.encodeJS.call(o,null!=a?a.creatorId:a,{name:"encodeJS",hash:{},data:l}))+"&id="+r(n.encodeJS.call(o,null!=a?a.attachmentId:a,{name:"encodeJS",hash:{},data:l}))+"&name="+r(n.encodeURIComponentWithEncodeJS.call(o,null!=a?a.attachFileName:a,{name:"encodeURIComponentWithEncodeJS",hash:{},data:l}))+"&downLoadMode="+r(n.encodeJS.call(o,null!=a?a.downLoadMode:a,{name:"encodeJS",hash:{},data:l}))+"','"+r(n.encodeJS.call(o,null!=a?a.downLoadMode:a,{name:"encodeJS",hash:{},data:l}))+'\');sE(event);"  title="'+r(c(null!=a?a.attachFileName:a,a))+'"> '+r(c(null!=a?a.trimmedFileName:a,a))+"</a> "},33:function(e,a,n,t,l,i,s){var o=null!=a?a:{},r=e.escapeExpression,c=e.lambda;return' <a href="'+r(n.getCrmBasePath.call(o,{name:"getCrmBasePath",hash:{},data:l}))+"/specific/ViewAttachment?fileId="+r(n.encodeURL.call(o,null!=a?a.attachFileId:a,{name:"encodeURL",hash:{},data:l}))+"&module="+r(n.encodeURIComponent.call(o,null!=s[1]?s[1].relModuleName:s[1],{name:"encodeURIComponent",hash:{},data:l}))+"&nId="+r(n.encodeURL.call(o,null!=s[1]?s[1].nId:s[1],{name:"encodeURL",hash:{},data:l}))+"&parentId="+r(n.encodeURL.call(o,null!=s[1]?s[1].mainEntId:s[1],{name:"encodeURL",hash:{},data:l}))+"&creatorId="+r(n.encodeURL.call(o,null!=a?a.creatorId:a,{name:"encodeURL",hash:{},data:l}))+"&id="+r(n.encodeURL.call(o,null!=a?a.attachmentId:a,{name:"encodeURL",hash:{},data:l}))+"&name="+r(n.encodeURIComponent.call(o,null!=a?a.attachFileName:a,{name:"encodeURIComponent",hash:{},data:l}))+'&downLoadMode=default" title="'+r(c(null!=a?a.trimmedFileName:a,a))+'"> '+r(c(null!=a?a.trimmedFileName:a,a))+"</a> "},35:function(e,a,n,t,l,i,s){var o,r=e.lambda,c=e.escapeExpression,d=null!=a?a:{};return' <tr><td class="fileTitle vH p0 pR" title="'+c(r(null!=a?a.attachFileName:a,a))+" "+c(r(null!=a?a.attachFileSize:a,a))+'"> <div class="NotesActionButtons vH"> <div class="footerAnimate aligncenter dB" style="position: absolute;"> '+(null!=(o=n.if.call(d,null!=a?a.isImage:a,{name:"if",hash:{},fn:e.program(36,l,0,i,s),inverse:e.program(38,l,0,i,s),data:l}))?o:"")+" <a onmouseover=\"crmui.toolTip_show(this,'center','"+c(n.getI18n.call(d,"crm.view.attachment.download",{name:"getI18n",hash:{},data:l}))+'\')" onmouseout="crmui.toolTip_hide()" class="download-icon-attachment dN" href="'+c(n.getCrmBasePath.call(d,{name:"getCrmBasePath",hash:{},data:l}))+"/specific/ViewAttachment?fileId="+c(n.encodeURL.call(d,null!=a?a.attachFileId:a,{name:"encodeURL",hash:{},data:l}))+"&module="+c(n.encodeURIComponent.call(d,null!=s[1]?s[1].relModuleName:s[1],{name:"encodeURIComponent",hash:{},data:l}))+"&nId="+c(n.encodeURL.call(d,null!=s[1]?s[1].nId:s[1],{name:"encodeURL",hash:{},data:l}))+"&parentId="+c(n.encodeURL.call(d,null!=s[1]?s[1].mainEntId:s[1],{name:"encodeURL",hash:{},data:l}))+"&creatorId="+c(n.encodeURL.call(d,null!=a?a.creatorId:a,{name:"encodeURL",hash:{},data:l}))+"&id="+c(n.encodeURL.call(d,null!=a?a.attachmentId:a,{name:"encodeURL",hash:{},data:l}))+"&name="+c(n.encodeURIComponent.call(d,null!=a?a.attachFileName:a,{name:"encodeURIComponent",hash:{},data:l}))+'&downLoadMode=default" data-zcqa="download-icon-attachment_'+c(r(null!=a?a.attachFileName:a,a))+'"></a> </div> </div> <input type="hidden" name="fileSize" id="fileSize" value="'+c(r(null!=a?a.sizeInBytes:a,a))+'" ></input> <input type="hidden" name="attachmentId" id="attachmentId" value="'+c(r(null!=a?a.attachmentId:a,a))+'" ></input> </td></tr> '},36:function(e,a,n,t,l,i,s){var o=e.escapeExpression,r=null!=a?a:{};return' <a data-zcqa="'+o(e.lambda(null!=a?a.attachFileName:a,a))+'_view" class="view-icon-attachment cboxElement mR10 dIB" onmouseover="crmui.toolTip_show(this,\'center\',\''+o(n.getI18n.call(r,"crm.label.view",{name:"getI18n",hash:{},data:l}))+'\')" onmouseout="crmui.toolTip_hide()" href="'+o(n.getCrmBasePath.call(r,{name:"getCrmBasePath",hash:{},data:l}))+"/ViewImage?fileId="+o(n.encodeURL.call(r,null!=a?a.attachFileId:a,{name:"encodeURL",hash:{},data:l}))+"&name="+o(n.encodeURIComponent.call(r,null!=a?a.attachFileName:a,{name:"encodeURIComponent",hash:{},data:l}))+"&downLoadMode=default&creatorId="+o(n.encodeURL.call(r,null!=a?a.creatorId:a,{name:"encodeURL",hash:{},data:l}))+"&parentId="+o(n.encodeURL.call(r,null!=s[1]?s[1].mainEntId:s[1],{name:"encodeURL",hash:{},data:l}))+"&nId="+o(n.encodeURL.call(r,null!=s[1]?s[1].nId:s[1],{name:"encodeURL",hash:{},data:l}))+"&module="+o(n.encodeURIComponent.call(r,null!=s[1]?s[1].relModuleName:s[1],{name:"encodeURIComponent",hash:{},data:l}))+'"></a> '},38:function(e,a,n,t,l,i,s){var o;return" "+(null!=(o=n.if_nq.call(null!=a?a:{},null!=a?a.downLoadMode:a,"",{name:"if_nq",hash:{},fn:e.program(39,l,0,i,s),inverse:e.program(41,l,0,i,s),data:l}))?o:"")+" "},39:function(e,a,n,t,l,i,s){var o=e.escapeExpression,r=null!=a?a:{};return' <a data-zcqa="'+o(e.lambda(null!=a?a.attachFileName:a,a))+'_view" class="view-icon-attachment cboxElement mR10 dIB" onmouseover="crmui.toolTip_show(this,\'center\',\''+o(n.getI18n.call(r,"crm.label.view",{name:"getI18n",hash:{},data:l}))+'\')" onmouseout="crmui.toolTip_hide()" onClick="javascript:openSheetForExport(\''+o(n.getCrmBasePath.call(r,{name:"getCrmBasePath",hash:{},data:l}))+"/specific/ViewAttachment?fileId="+o(n.encodeJS.call(r,null!=a?a.attachFileId:a,{name:"encodeJS",hash:{},data:l}))+"&module="+o(n.encodeJS.call(r,null!=s[1]?s[1].relModuleName:s[1],{name:"encodeJS",hash:{},data:l}))+"&nId="+o(n.encodeJS.call(r,null!=s[1]?s[1].nId:s[1],{name:"encodeJS",hash:{},data:l}))+"&parentId="+o(n.encodeJS.call(r,null!=s[1]?s[1].mainEntId:s[1],{name:"encodeJS",hash:{},data:l}))+"&creatorId="+o(n.encodeJS.call(r,null!=a?a.creatorId:a,{name:"encodeJS",hash:{},data:l}))+"&id="+o(n.encodeJS.call(r,null!=a?a.attachmentId:a,{name:"encodeJS",hash:{},data:l}))+"&name="+o(n.encodeURIComponentWithEncodeJS.call(r,null!=a?a.attachFileName:a,{name:"encodeURIComponentWithEncodeJS",hash:{},data:l}))+"&downLoadMode="+o(n.encodeJS.call(r,null!=a?a.downLoadMode:a,{name:"encodeJS",hash:{},data:l}))+"','"+o(n.encodeJS.call(r,null!=a?a.downLoadMode:a,{name:"encodeJS",hash:{},data:l}))+"');sE(event);\" ></a> "},41:function(e,a,n,t,l,i,s){var o=null!=a?a:{},r=e.escapeExpression;return' <a href="'+r(n.getCrmBasePath.call(o,{name:"getCrmBasePath",hash:{},data:l}))+"/specific/ViewAttachment?fileId="+r(n.encodeURL.call(o,null!=a?a.attachFileId:a,{name:"encodeURL",hash:{},data:l}))+"&module="+r(n.encodeURIComponent.call(o,null!=s[1]?s[1].relModuleName:s[1],{name:"encodeURIComponent",hash:{},data:l}))+"&nId="+r(n.encodeURL.call(o,null!=s[1]?s[1].nId:s[1],{name:"encodeURL",hash:{},data:l}))+"&parentId="+r(n.encodeURL.call(o,null!=s[1]?s[1].mainEntId:s[1],{name:"encodeURL",hash:{},data:l}))+"&creatorId="+r(n.encodeURL.call(o,null!=a?a.creatorId:a,{name:"encodeURL",hash:{},data:l}))+"&id="+r(n.encodeURL.call(o,null!=a?a.attachmentId:a,{name:"encodeURL",hash:{},data:l}))+"&name="+r(n.encodeURIComponent.call(o,null!=a?a.attachFileName:a,{name:"encodeURIComponent",hash:{},data:l}))+'&downLoadMode=default" title="'+r(e.lambda(null!=a?a.trimmedFileName:a,a))+'"></a> '},43:function(e,a,n,t,l){var i=e.lambda,s=e.escapeExpression;return' <span class="mT7 dB crm-small-font-size crmNotFoundColor fL cBoth pL0"><span class="fL">'+s(i(null!=a?a.dispModuleName:a,a))+'</span><span class="pL5 pR5 fL">-</span><span class="fL">'+s(i(null!=a?a.mainEntityName:a,a))+'</span><span class="fL pL10 pR10">&#x2022;</span><span class="fL pR5 pL10">'+s(i(null!=a?a.modifiedDateFull:a,a))+'</span> <span class="fL pR5 notesgray dIB">'+s(n.getI18n.call(null!=a?a:{},"crm.label.simply.by",{name:"getI18n",hash:{},data:l}))+'</span> <span class="fL pR5 notesgray dIB cDefault">'+s(i(null!=a?a.modiName:a,a))+"</span> </span> "},45:function(e,a,n,t,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <span class="note_edit_div w100_per dIB fL cBoth boxBB"></span> <div class="mT5 crm-small-font-size crmNotFoundColor fL cBoth lh20 notesBtmDet"> <span class="notesModdet fL"> <span class="notesgray fL ellipsistext cDefault" style="max-width: 100px;" title="'+o(s(null!=a?a.dispModuleName:a,a))+'" tabindex="0" aria-label="'+o(s(null!=a?a.dispModuleName:a,a))+'">'+o(s(null!=a?a.dispModuleName:a,a))+'</span> <span class="pL5 pR5 fL">-</span> <a class="crm-small-font-size notesbluetxt fL smalledit ellipsistext" data-zcqa="notesModule" onClick="Crm.trackSpotLightAction(\'Lookup Click\',{\'Module\':\''+o(s(null!=a?a.relModuleName:a,a))+'\'});" onmouseenter="crmLookupBusinessCard.showLookupDetails(this)" onmouseout="crmui.hideTooltip()" data-params=\'{ "module":"'+o(s(null!=a?a.relModuleName:a,a))+'","id":"'+o(s(null!=a?a.mainEntId:a,a))+'" }\' style="max-width: 100px;" href="'+o(n.getCrmBasePath.call(r,{name:"getCrmBasePath",hash:{},data:l}))+"/EntityInfo.do?module="+o(n.encodeURIComponent.call(r,null!=a?a.relModuleName:a,{name:"encodeURIComponent",hash:{},data:l}))+"&id="+o(n.encodeURL.call(r,null!=a?a.mainEntId:a,{name:"encodeURL",hash:{},data:l}))+'" target=_blanks tabindex="0" aria-label="'+o(s(null!=a?a.mainEntityName:a,a))+'" title="'+o(s(null!=a?a.mainEntityName:a,a))+'">'+o(s(null!=a?a.mainEntityName:a,a))+"</a> "+(null!=(i=n.if.call(r,null!=a?a.notes_projectName:a,{name:"if",hash:{},fn:e.program(46,l,0),inverse:e.noop,data:l}))?i:"")+' </span> <span class="fL pL10 pR10 notesDot">&#x2022;</span> '+(null!=(i=n.ifEquals.call(r,null!=a?a.setype:a,"Notes",{name:"ifEquals",hash:{},fn:e.program(48,l,0),inverse:e.noop,data:l}))?i:"")+' <span class="fL pR5 notesgray dIB" data-title="'+o(s(null!=a?a.modifiedDateFull:a,a))+'" ><span class="timerIcon-notes fL mR5"  tabindex="0" aria-label="'+o(s(null!=a?a.modifiedDate:a,a))+'"></span>'+o(s(null!=a?a.modifiedDate:a,a))+'</span> <span class="fL pR5 notesgray dIB" tabindex="0"  aria-label="'+o(n.getI18n.call(r,"crm.label.simply.by",{name:"getI18n",hash:{},data:l}))+'">'+o(n.getI18n.call(r,"crm.label.simply.by",{name:"getI18n",hash:{},data:l}))+'</span> <span class="fL pR5 notesgray dIB" tabindex="0" aria-label="'+o(s(null!=a?a.modiName:a,a))+'">'+o(s(null!=a?a.modiName:a,a))+"</span> "+(null!=(i=n.if.call(r,null!=a?a.roleName:a,{name:"if",hash:{},fn:e.program(50,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=n.if.call(r,null!=a?a.isSharedToClient:a,{name:"if",hash:{},fn:e.program(52,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=n.ifEquals.call(r,null!=a?a.setype:a,"Notes",{name:"ifEquals",hash:{},fn:e.program(56,l,0),inverse:e.noop,data:l}))?i:"")+' </div> <span class="note_reply_div w100_per dIB fL cBoth mT8 p10" style="display:none;"></span> '},46:function(e,a,n,t,l){var i=e.lambda,s=e.escapeExpression;return' <span class="pL5 pR5 fL">-</span> <link-to lt-prop-route="crm.tab.projects" lt-prop-qp=\'{"projectId":"'+s(i(null!=a?a.notes_projectId:a,a))+'"}\' lt-prop-target="_blank" lt-prop-rel="noopener noreferrer"><a>'+s(i(null!=a?a.notes_projectName:a,a))+"</a></link-to> "},48:function(e,a,n,t,l){var i=null!=a?a:{},s=e.escapeExpression;return' <a href="javascript:;" tabindex="0" aria-label="'+s(n.getI18n.call(i,"crm.label.add.note",{name:"getI18n",hash:{},data:l}))+'" class="fL smalledit notesgray ellipsistext newNoteAddCls" data-zcqa="notesAdd" style="max-width: 100px;" onclick="Notes.doReply(\''+s(n.encodeJS.call(i,null!=a?a.seId:a,{name:"encodeJS",hash:{},data:l}))+"','"+s(n.encodeJS.call(i,null!=a?a.relModuleName:a,{name:"encodeJS",hash:{},data:l}))+"')\"> "+s(n.getI18n.call(i,"crm.label.add.note",{name:"getI18n",hash:{},data:l}))+'</a><span class="fL pL10 pR10 notesDot newNoteAddCls">&#x2022;</span> '},50:function(e,a,n,t,l){return' <span class="fL pR5 notesgray dIB pL5 mR3 portal_roll_name lh20 h20 boxBB crm-base-font-size" >'+e.escapeExpression(e.lambda(null!=a?a.roleName:a,a))+"</span> "},52:function(e,a,n,t,l){var i;return" "+(null!=(i=n.unless.call(null!=a?a:{},null!=a?a.isClientPortalUser:a,{name:"unless",hash:{},fn:e.program(53,l,0),inverse:e.noop,data:l}))?i:"")+" "},53:function(e,a,n,t,l){var i;return" "+(null!=(i=n.unless.call(null!=a?a:{},null!=a?a.roleName:a,{name:"unless",hash:{},fn:e.program(54,l,0),inverse:e.noop,data:l}))?i:"")+" "},54:function(e,a,n,t,l){var i=e.lambda,s=e.escapeExpression;return' <input type="hidden" id="nsharedtoclient_'+s(i(null!=a?a.nId:a,a))+'" ></input> <span class="fL pR5 notesgray dIB" id= "shared_'+s(i(null!=a?a.nId:a,a))+'">'+s(n.getI18n.call(null!=a?a:{},"custmr.prtl.notes.shrd.with.custmr",{name:"getI18n",hash:{},data:l}))+"</span> "},56:function(e,a,n,t,l){var i;return' <span class="pA bg_white notes_actions_container" id="noteOper_'+e.escapeExpression(e.lambda(null!=a?a.nId:a,a))+'"  style="visibility: hidden;top: 10px;right: 0px"> '+(null!=(i=n.if.call(null!=a?a:{},null!=a?a.isEditDeleteByOwnerEnabled:a,{name:"if",hash:{},fn:e.program(57,l,0),inverse:e.program(68,l,0),data:l}))?i:"")+" </span> "},57:function(e,a,n,t,l){var i,s=null!=a?a:{};return" "+(null!=(i=n.if.call(s,null!=a?a.isEditAllowed:a,{name:"if",hash:{},fn:e.program(58,l,0),inverse:e.program(60,l,0),data:l}))?i:"")+" "+(null!=(i=n.if.call(s,null!=a?a.isDelAllowed:a,{name:"if",hash:{},fn:e.program(63,l,0),inverse:e.program(65,l,0),data:l}))?i:"")+" "},58:function(e,a,n,t,l){var i=null!=a?a:{},s=e.escapeExpression;return' <a  aria-label="editNote" href="javascript:Notes.editNote(\''+s(n.encodeJS.call(i,null!=a?a.nId:a,{name:"encodeJS",hash:{},data:l}))+"','"+s(n.encodeJS.call(i,null!=a?a.seId:a,{name:"encodeJS",hash:{},data:l}))+"','"+s(n.encodeJS.call(i,null!=a?a.relModuleName:a,{name:"encodeJS",hash:{},data:l}))+'\');" class="notesActionbtn mR10" data-zcqa="notesEdit" lt-prop-title="'+s(n.getI18n.call(i,"crm.button.edit",{name:"getI18n",hash:{},data:l}))+'"><span class="svgIconsImg edit-Icon-new vaM"></span></a> '},60:function(e,a,n,t,l){var i;return" "+(null!=(i=n.ifCondLogic.call(null!=a?a:{},null!=a?a.isEditDisabled:a,"=",!0,"&&",null!=a?a.isClientPortalUser:a,"=",!1,{name:"ifCondLogic",hash:{},fn:e.program(61,l,0),inverse:e.noop,data:l}))?i:"")+" "},61:function(e,a,n,t,l){return' <span lt-prop-title="'+e.escapeExpression(n.getI18n.call(null!=a?a:{},"crm.tooltip.note.insufficient.permission",{name:"getI18n",hash:{},data:l}))+'" class="disabled notesActionbtn mR10"><span class="svgIconsImg  edit-Icon-new vaM" style="opacity:0.3"></span></span> '},63:function(e,a,n,t,l){var i=null!=a?a:{},s=e.escapeExpression;return' <a href="javascript:;" aria-label="deleteNote" class="notesActionbtnDel" data-zcqa="notesDelete" data-onclick="javascript:Notes.deleteNote(\''+s(n.encodeJS.call(i,null!=a?a.nId:a,{name:"encodeJS",hash:{},data:l}))+"','"+s(n.encodeJS.call(i,null!=a?a.mainEntId:a,{name:"encodeJS",hash:{},data:l}))+"');\" onclick=\"showDeletePopup('ntitle_"+s(n.encodeJS.call(i,null!=a?a.nId:a,{name:"encodeJS",hash:{},data:l}))+"', 'crm.label.yes', '', '', this, 'Notes');\" lt-prop-title=\""+s(n.getI18n.call(i,"crm.button.delete",{name:"getI18n",hash:{},data:l}))+'"><span class="svgIconsImg  delete-Icon-new vaM mL2"></span></a> '},65:function(e,a,n,t,l){var i;return" "+(null!=(i=n.ifCondLogic.call(null!=a?a:{},null!=a?a.isDeleteDisabled:a,"=",!0,"&&",null!=a?a.isClientPortalUser:a,"=",!1,{name:"ifCondLogic",hash:{},fn:e.program(66,l,0),inverse:e.noop,data:l}))?i:"")+" "},66:function(e,a,n,t,l){return' <span lt-prop-title="'+e.escapeExpression(n.getI18n.call(null!=a?a:{},"crm.tooltip.note.insufficient.permission",{name:"getI18n",hash:{},data:l}))+'" class="disabled notesActionbtnDel"><span class="svgIconsImg  delete-Icon-new vaM mL2" style="opacity:0.3"></span></span> '},68:function(e,a,n,t,l){var i,s=null!=a?a:{};return" "+(null!=(i=n.ifEquals.call(s,null!=a?a.isEditAllowed:a,"true",{name:"ifEquals",hash:{},fn:e.program(69,l,0),inverse:e.program(71,l,0),data:l}))?i:"")+" "+(null!=(i=n.ifEquals.call(s,null!=a?a.isDelAllowed:a,"true",{name:"ifEquals",hash:{},fn:e.program(73,l,0),inverse:e.program(75,l,0),data:l}))?i:"")+" "},69:function(e,a,n,t,l){var i=null!=a?a:{},s=e.escapeExpression;return" <a href=\"javascript:Notes.editNote('"+s(n.encodeJS.call(i,null!=a?a.nId:a,{name:"encodeJS",hash:{},data:l}))+"','"+s(n.encodeJS.call(i,null!=a?a.seId:a,{name:"encodeJS",hash:{},data:l}))+"','"+s(n.encodeJS.call(i,null!=a?a.relModuleName:a,{name:"encodeJS",hash:{},data:l}))+'\');" class="notesActionbtn mR10" data-zcqa="notesEdit" lt-prop-title="'+s(n.getI18n.call(i,"crm.button.edit",{name:"getI18n",hash:{},data:l}))+'"><span class="svgIconsImg edit-Icon-new  vaM"></span></a> '},71:function(e,a,n,t,l){var i;return null!=(i=n.ifNotEquals.call(null!=a?a:{},null!=a?a.isClientPortalUser:a,"true",{name:"ifNotEquals",hash:{},fn:e.program(61,l,0),inverse:e.noop,data:l}))?i:""},73:function(e,a,n,t,l){var i=null!=a?a:{},s=e.escapeExpression;return' <a href="javascript:;" class="notesActionbtnDel" data-zcqa="notesDelete" data-onclick="javascript:Notes.deleteNote(\''+s(n.encodeJS.call(i,null!=a?a.nId:a,{name:"encodeJS",hash:{},data:l}))+"','"+s(n.encodeJS.call(i,null!=a?a.mainEntId:a,{name:"encodeJS",hash:{},data:l}))+"');\" onclick=\"showDeletePopup('ntitle_"+s(n.encodeJS.call(i,null!=a?a.nId:a,{name:"encodeJS",hash:{},data:l}))+"', 'crm.label.yes', '', '', this, 'Notes');\" lt-prop-title=\""+s(n.getI18n.call(i,"crm.button.delete",{name:"getI18n",hash:{},data:l}))+'"><span class="svgIconsImg  delete-Icon-new vaM mL2"></span></a> '},75:function(e,a,n,t,l){var i;return null!=(i=n.ifNotEquals.call(null!=a?a:{},null!=a?a.isClientPortalUser:a,"true",{name:"ifNotEquals",hash:{},fn:e.program(66,l,0),inverse:e.noop,data:l}))?i:""},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l,i,s){var o,r=e.lambda,c=e.escapeExpression,d=null!=a?a:{};return' <div id = "'+c(r(null!=a?a.nId:a,a))+'"  data-module="'+c(r(null!=a?a.relModuleName:a,a))+'" class="singleNoteBorder addedNotesList pT7 pB7" name="singleNote"> <table cellpadding="0" cellspacing="0" class="w100_per"> <tr class="n pR w100_per pB0"> '+(null!=(o=n.unless.call(d,null!=a?a.isPrintAction:a,{name:"unless",hash:{},fn:e.program(1,l,0,i,s),inverse:e.noop,data:l}))?o:"")+' <td class=" pL10 pR10 w100_per pR"> <div class="crm-small-font-size crmBaseColor" id="nid_'+c(r(null!=a?a.nId:a,a))+'" onclick=detailView.navigateToTimeline(this)></div> <div class="pB5 cBafter feedchatDesEle"> '+(null!=(o=n.ifEquals.call(d,null!=a?a.noteTitle:a,null,{name:"ifEquals",hash:{},fn:e.program(3,l,0,i,s),inverse:e.program(5,l,0,i,s),data:l}))?o:"")+' <pre id="noteContWithRegex_'+c(r(null!=a?a.nId:a,a))+'" style="display: none;" wrap="soft">'+c(r(null!=a?a.noteContentWithRegex:a,a))+"</pre> "+(null!=(o=n.ifEquals.call(d,null!=a?a.setype:a,"Notes",{name:"ifEquals",hash:{},fn:e.program(7,l,0,i,s),inverse:e.program(12,l,0,i,s),data:l}))?o:"")+" "+(null!=(o=n.if.call(d,null!=a?a.isVoiceNote:a,{name:"if",hash:{},fn:e.program(21,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "+(null!=(o=n.if.call(d,null!=a?a.haveAttachment:a,{name:"if",hash:{},fn:e.program(23,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "+(null!=(o=n.if.call(d,null!=a?a.isPrintAction:a,{name:"if",hash:{},fn:e.program(43,l,0,i,s),inverse:e.program(45,l,0,i,s),data:l}))?o:"")+" </td> </tr> </table> </div> "},useData:!0,useDepths:!0}),a.CrmNotes_ShowMore=e({compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <div id="showMore" class="fL w100_per mB1"> <table class="'+o(s(null!=a?a.showMoreWidth:a,a))+' dvw770" cellpadding="0" cellspacing="0"> <tr> <td class="vaT p10"> <div class="pL10 notesbluetxt cP crm-small-font-size " onclick="Notes.loadNotes(\''+(null!=(i=s(null!=a?a.related_notes_entityId:a,a))?i:"")+"',true,'"+o(n.encodeJS.call(r,null!=a?a.related_notes_module:a,{name:"encodeJS",hash:{},data:l}))+"','"+(null!=(i=s(null!=a?a.entityMap_rel_notes_entId:a,a))?i:"")+"')\">"+o(n.getI18n.call(r,"crm.note.view.previous",{name:"getI18n",hash:{},data:l}))+'</div> </td><td  class="vaT p10"> <div class="fR crmNotFoundColor pR10 cP crm-small-font-size"> <span id=\'dispcurrentCount\'>'+o(s(null!=a?a.currentCount:a,a))+'</span> <span class="notesgray">'+o(n.getI18n.call(r,"of",{name:"getI18n",hash:{},data:l}))+"</span> <span id='dispTotalNotesCount'>"+o(s(null!=a?a.TotalNotesCount:a,a))+"</span> </div> </td></tr> </table> </div> "},useData:!0})}();var deskInteg=function(){var e={},a=void 0,n=void 0,t=[],l=0,i="",s=7,o={},r={},c="",d="",u="",m="",p=void 0,g=!1,h="",f=Crm.getCrmBasePath()+"/deskIntegration.do?action=",v=f+"refreshData",I=Crm.getCrmBasePath()+"/Search.do?searchmodule=Potentials",b=f+"linkToPotential",C=f+"updateTickets",N=f+"getTickets",T=f+"updateTicketFields",k=f+"deleteTickets",S=f+"getAgents",E=f+"manageStats",_=f+"getStats",y=f+"hideDeskTab",x=f+"getFieldProperties",O=f+"getMyDeskInfo",w=void 0,L=void 0,P=void 0,R=void 0,M=void 0,A=void 0,U=["EMAIL","ADDN_EMAIL"],D={get:function(e){return $L(e)}};return{init:function(){t=[],l=0,i="",s=7,o={},r={},w=void 0,L=void 0,p=void 0,P=void 0,R=void 0,M=void 0,A=void 0,n=void 0},setSelectedRowId:function(e){t.push(e)},setDetailTicketId:function(e){i=e},getSelectedRowCount:function(){return l},getCurrentTicketType:function(){var e=D.get("#ticketFilterSelect").val();return"Potentials"===(Crm.userDetails.isRelatedListLyteEnabled?Lyte.Globals.get("relatedList.module"):crmRelatedList.Module)&&("Potentials"==e?D.get("#linkToThisPotential").hide():D.get("#linkToThisPotential").show()),e},getCurrentTicketPage:function(){var e=D.get("#ticketPageTable #ticketPage").val(),a=parseInt(e);return isNaN(a)?0:a},loadDeskintegration:function(e){if(Handlebars.registerPartial("zdeskTickets",Handlebars.templates.zdeskTickets),0==Object.keys(e).length)D.get("#deskLoadingDiv div").text(I18n.getMsg("crm.new.label.no.records"));else{n=e.ticketHeadings,h=e.contactServerUrl;var a=Handlebars.templates.zdeskIntegration(e),t=D.get("#supportdiv").children("#deskIntegDiv");0==t.length&&(t=D.get("#supportdiv").children("table")),0==t.length?D.get("#supportdiv").append(a):t.replaceWith(a),s=e.tickets?e.tickets.length:0,a=Handlebars.templates.zdeskTickets(e.page),D.get("#ticketPageTable").replaceWith(a),D.get("#zdeskColumns").html(Handlebars.templates.zdeskCustomHeaders(e)),$L("#zdeskColumns").find("ul").sortable({cancel:".cancelSort"}),thirdPartyUtils.bindPerfectScroll($L("#menuColumnListView")),thirdPartyUtils.bindSelect2($L("#ticketFilterSelect")),deskInteg.summarizeTickets(e),deskInteg.populateIntegDetails(e),deskInteg.clearSelect(),populateRLCount(D.get('div[ddname="SUPPORTPERSONALITY"]').attr("ddid")),deskInteg.handleNewTicketLink(e),D.get("#deskRefresh").show()}deskInteg.getCurrentTicketType()},handleNewTicketLink:function(e){s>0||"All"!=D.get("#ticketFilterSelect").val()?(D.get("#deskRelatedListMenu").show(),deskInteg.displayDeskWindow()&&$("[id='addNewIcP_Zoho Desk']").removeClass("dN")):(D.get("#deskRelatedListMenu").hide(),D.get("#ticketsTable #desk_tickets_thead_row").hide(),"crm.zdesk.notickets"==e.ticketError&&deskInteg.displayDeskWindow()&&(D.get("#noTicket_newTicketLink").show(),$("[id='addNewIcP_Zoho Desk']").removeClass("dN")))},displayDeskWindow:function(a){return a&&g?!(!e||!e.associatedDepartmentIds)&&e.associatedDepartmentIds.indexOf(a)>-1:g},closeDeskPopup:function(){window.removeEventListener("message",deskInteg.receiveDeskMessage,!1),closeDashletDiv("lookupdiv"),$("#lookupdiv").removeAttr("style").empty(),deskInteg.handleScroll(!1)},showDeskPopup:function(e){deskInteg.loadCurrentUserInfo((function(){renderingUtils.freezeBackground();deskInteg.createPopup("<div id=\"ticketDetailPrev\" class='pFixed deskNavCircle leftNavCont' onClick=\"deskInteg.showTicketDetail(-1)\"'><span class='previous dIB vaM'></span></div><div class='deskOptionHider pA'></div><div class='fR deskIframeCloseCont pA'><div class='svgIcons ico-close-small2 cP mL6 mR5 mT5 dIB' onClick=\"deskInteg.closeDeskPopup();\"></div></div><div class='cBoth'><div id=\"ticketDetailNext\" class='pFixed deskNavCircle rightNavCont' onClick=\"deskInteg.showTicketDetail(1)\"><span class='next dIB vaM'></span></div></div><iframe  id='deskIframe' frameborder='0' src='' style='overflow:auto;width: 1250px; height: 620px;'></iframe>",{width:"1250px",height:"620px",overflow:"visible"}),deskInteg.changeIframeTicket(e),$(document).on("keyup.zDeskIframe",(function(e){39==e.keyCode?deskInteg.showTicketDetail(1):37==e.keyCode&&deskInteg.showTicketDetail(-1)})),window.addEventListener("message",deskInteg.receiveDeskMessage,!1),deskInteg.handleScroll(!0)}))},showDeskPopupForWidgets:function(e,a){Crm.trackSpotLightAction("ZDesk - Ticket Detail View Widget"),deskInteg.loadCurrentUserInfo((function(){deskInteg.createPopup("<div class='fR deskIframeCloseCont pA'><div class='svgIcons ico-close-small2 cP mL6 mR5  dIB vaM' onClick=\"deskInteg.closeDeskPopup();\"></div></div><div class='cBoth'></div><iframe  id='deskIframe' frameborder='0' src='' style='overflow:auto;width: 1250px; height: 620px;'></iframe>",{width:"1250px",height:"620px",overflow:"visible"});var n=deskInteg.getUrlForTicketDetailView(e,a);$("#lookupdiv #deskIframe").attr("src",n),window.addEventListener("message",deskInteg.receiveDeskMessage,!1),deskInteg.handleScroll(!0)}))},createPopup:function(e,a){var n=$("#lookupdiv");n.html(e),renderingUtils.freezeBackground(),n.css(a),mailsetCenter("lookupdiv")},handleScroll:function(e){var a=$L("#dvinner");if(e)$("#scrollTopDiv").hide(),a.css("overflow","hidden");else{var n=a.scrollTop();a.css("overflow","auto"),a.scrollTop(n-1)}},getUrlForTicketDetailView:function(e,a){var n="//"+c+"/support/"+m+"/",t=Crm.isFromSalesInbox?SalesInbox.userDetails:Crm.userDetails;return n=this.displayDeskWindow(a)?t&&t.zDeskIntegration&&t.zDeskIntegration.portalName&&t.zDeskIntegration.ticketModName?(n="//"+c+"/agent/"+Crm.userDetails.zDeskIntegration.portalName+"/all/"+Crm.userDetails.zDeskIntegration.ticketModName)+"/details/"+encodeURIComponent(e)+"?frameorigin="+encodeURIComponent(d)+"&fromService=zohocrm":n+"ShowHomePage.do?frameorigin="+encodeURIComponent(d)+"&isDeskAddOnRequest=true#Cases/dv/"+encodeURIComponent(e)+"?isDeskAddOnRequest=true":n+"ShowEntityInfo.do?frameorigin="+encodeURIComponent(d)+"&module=Cases&id="+encodeURIComponent(e)+"&isCrmCall=true&crmsupportzgid="+encodeURIComponent(u)+"&showThreads=true"},updateDetailsForRL:function(e){e&&e.datePattern&&(p=e.datePattern,g=e.portalUser),deskInteg.displayDeskWindow()||$("#supportdiv #newTicketLink").remove(),U=e&&e.module_emailColumns?e.module_emailColumns:["EMAIL","ADDN_EMAIL"]},getDeskTickets:function(e,a,n,t){Crm.trackSpotLightAction("ZDesk - Ticket Fetch");var l={pageToken:a,ticketType:deskInteg.getCurrentTicketType(),module:Crm.userDetails.isRelatedListLyteEnabled?Lyte.Globals.get("relatedList.module"):crmRelatedList.Module},i=deskInteg.getKeyValueForTicketCriteria();l[i.key]=i.value,l[csrfParamName]=csrfToken,deskInteg.initiateAjaxCall(N,"POST",l,(function(a){deskInteg.populateTicketsTable(a,n),e&&e.iFramecallback&&e.iFramecallback(e.loadLast),t&&deskInteg.handleNewTicketLink(a)}))},populateTicketsTable:function(e,a){s=e.tickets?e.tickets.length:0,D.get("#ticketsTable #desk_tickets_thead_row").show(),D.get("#desk_tickets_tbody").html(Handlebars.templates.zdeskTickets(e)),D.get("#ticketPageTable").length>0?D.get("#ticketPageTable").replaceWith(Handlebars.templates.zdeskTickets(e.page)):D.get("#ticketsTable").after(Handlebars.templates.zdeskTickets(e.page)),0!=a&&populateRLCount(D.get('div[ddname="SUPPORTPERSONALITY"]').attr("ddid"),!1,a),deskInteg.clearSelect(),deskInteg.displayDeskWindow()&&$("[id='addNewIcP_Zoho Desk']").removeClass("dN")},showTicketDetail:function(e){Crm.trackSpotLightAction("ZDesk - Ticket Detail Quick Navigation");var a=i,n=null;if(1==e?n=$("#desk_tickets_tbody tr#ticket_"+a).next():-1==e&&(n=$("#desk_tickets_tbody tr#ticket_"+a).prev()),n)if(1==n.length)a=n.attr("id").replace("ticket_",""),deskInteg.changeIframeTicket(a);else{var t={type:"click",iFramecallback:function(e){var a=(e?D.get("#desk_tickets_tbody tr").last():D.get("#desk_tickets_tbody tr").eq(0)).attr("id");a?(a=a.replace("ticket_",""),deskInteg.changeIframeTicket(a)):deskInteg.closeDeskPopup()}};1==e?D.get("#ticketPageTable #ticketNext a").trigger(t):(t.loadLast=!0,D.get("#ticketPageTable #ticketPrev a").trigger(t))}},changeIframeTicket:function(e){var a=$("#desk_tickets_tbody tr#ticket_"+e),n=D.get("#desk_tickets_tbody tr").index(a),t=a.find("td.mainTicketDetail").attr("data-caseId"),l=a.attr("data-dept"),o=deskInteg.getUrlForTicketDetailView(t,l);$("#lookupdiv #deskIframe").attr("src",o);var r=deskInteg.getCurrentTicketPage();0==n&&r<1?$("#ticketDetailPrev").hide():$("#ticketDetailPrev").show(),n<s-1||D.get("#ticketNext a").length>0?$("#ticketDetailNext").show():$("#ticketDetailNext").hide(),i=e,Crm.trackSpotLightAction("ZDesk - Ticket Detail View")},getKeyValueForTicketCriteria:function(){var e={},a="",n=null,t=Crm.userDetails.isRelatedListLyteEnabled?Lyte.Globals.get("relatedList.module"):crmRelatedList.Module;if("Accounts"==t||"Potentials"==t)n=Crm.userDetails.isRelatedListLyteEnabled?Lyte.Globals.get("relatedList.entityId"):crmRelatedList.EntityId;else if(U)for(var l=U.length,i=0;i<l;i++){var s=$("#subvalue_"+U[i]).text();(s=s?s.trim():s)&&validationUtils.isValidEmail(s)&&(a=a?a+","+s:s)}return a.length>0?(e.key="email",e.value=a):n&&(e.key="moduleId",e.value=n),e},showColList:function(){$("#zdeskColumns").show()},saveColModify:function(){var e=Crm.userDetails.isRelatedListLyteEnabled?Lyte.Globals.get("relatedList.module"):crmRelatedList.Module,a=Crm.userDetails.isRelatedListLyteEnabled?Lyte.Globals.get("relatedList.entityId"):crmRelatedList.EntityId;Crm.trackSpotLightAction("ZDesk - Ticket Columns Update"),deskCache.clear(a);var n=[];D.get("#zdeskColumns").find("#columnListId input:checked").each((function(){n.push($(this).attr("id").split("_")[1])}));var t={ticketType:deskInteg.getCurrentTicketType(),module:e,moduleId:a,deskstats:"true"};t.pageToken=deskInteg.getCurrentTicketPage(),t.fields=JSON.stringify(n);var l=deskInteg.getKeyValueForTicketCriteria();t[l.key]=l.value,t[csrfParamName]=csrfToken,deskInteg.initiateAjaxCall(T,"POST",t,(function(e){deskInteg.loadDeskintegration(e)})),D.get("#zdeskColumns").hide()},cancelColModify:function(){$("#zdeskColumns").hide()},showTktFldUpdPop:function(){var e=D.get("#tktFldPop").find("#updateFieldName option"),t=D.get("#tktFldPop").find("#updateFieldName");0==e.length?deskInteg.loadFieldProperties((function(){for(var e={},l=n.length,i=0;i<l;i++){var s=n[i];a[s.name]&&(e[s.name]=a[s.name])}var o={updateableFields:e,datePattern:p},r=Handlebars.templates.zdeskUpdateTickets(o);D.get("#deskIntegDiv").append(r),populateTimeVal($("#dateText .ddTime"));var c=D.get("#tktFldPop").find("#updateFieldName option");thirdPartyUtils.bindSelect2(D.get("#tktFldPop select")),(t=D.get("#tktFldPop").find("#updateFieldName")).val(c.eq(0).val()),t.val(t.val()).trigger("change"),deskInteg.showHideAssigneeUpdate(),mailsetCenter("tktFldPop"),D.get("#tktFldPop").css("position","fixed"),renderingUtils.freezeBackground()})):(t.val(t.val()).trigger("change"),mailsetCenter("tktFldPop"),D.get("#tktFldPop").css("position","fixed"),deskInteg.showHideAssigneeUpdate(),renderingUtils.freezeBackground()),Crm.trackSpotLightAction("ZDesk - Update Ticket Popup ")},showHideAssigneeUpdate:function(){var e=D.get("#tktFldPop").find("#updateFieldName"),a=e.find('option[value="assigneeId"]');if(a.length>0){var n=a.is(":disabled");if(1==l&&n||l>1&&!n){a.prop("disabled",!n),thirdPartyUtils.bindSelect2(D.get("#tktFldPop select"));var t=e.find("option");e.val(t.eq(0).val()),e.val(e.val()).trigger("change")}}},loadFieldProperties:function(e){a?e&&e():deskInteg.initiateAjaxCall(x,"GET",void 0,(function(n){a={};for(var t=n.field_properties,l=t.length,i=0;i<l;i++){var s=t[i];a[s.name]=s}e&&e()}))},loadCurrentUserInfo:function(a){g&&$.isEmptyObject(e)?deskInteg.initiateAjaxCall(O,"GET",void 0,(function(n){e=n,Crm.userDetails.zDeskIntegration.portalName=n.portalName,Crm.userDetails.zDeskIntegration.ticketModName=n.ticketModName,a&&a()}),(function(){a&&a()})):a&&a()},updateNewValueField:function(e){var n=$(e).find("option:selected").val(),t=a[n];D.get("#tktFldPop  #errorMsg_TicketField").hide();var l="crm.zdesk.update.choose";if("assigneeId"==t.name)deskInteg.showAgentsForDepartment();else if("DateTime"==t.type)D.get("#fieldUpdSelectOption").hide(),D.get("#tktFldPop #fieldUpdTextOption").show(),D.get("#tktFldPop #fieldUpdTextOption").find("#plainText").hide(),D.get("#tktFldPop #fieldUpdTextOption").find("#dateText").show();else{D.get("#fieldUpdSelectOption").hide();var i="Phone"==t.type?"Number":t.type;D.get("#tktFldPop #fieldUpdTextOption").find(".newinputText").empty(),D.get("#tktFldPop #fieldUpdTextOption").prop("type",i),D.get("#tktFldPop #fieldUpdTextOption").prop("maxlength",t.maxLength),D.get("#tktFldPop #fieldUpdTextOption").show(),D.get("#tktFldPop #fieldUpdTextOption").find("#plainText").show(),D.get("#tktFldPop #fieldUpdTextOption").find("#dateText").hide(),l="crm.zdesk.update.enter"}D.get("#tktFldPop #deskupdateFieldMsg").text(I18n.getMsg(l,t.i18NLabel))},updateFields:function(e,n){Crm.trackSpotLightAction("ZDesk - Ticket Update");var l={isCustomField:!1};if(!e){e=D.get("#tktFldPop  select#updateFieldName").val(),l=a[e];var i=D.get("#tktFldPop  #errorMsg_TicketField"),s=!0;switch(n=D.get("#tktFldPop #fieldUpdTextOption input").val(),l.type){case"Phone":case"Number":s=validationUtils.isValidInteger(n);break;case"Email":s=validationUtils.isValidEmail(n);break;case"Text":s=""!=n&&n.length<=l.maxLength;break;case"LookUp":case"Picklist":n=D.get("#tktFldPop  select#fieldUpdSelect").val();break;case"DateTime":var o=D.get("#tktFldPop  #fieldUpdTextOption #dateText"),r=o.find("#deskDate").val(),c=o.find("#deskTime").val();n=r+" "+c+" "+o.find("#ticket_date_ampmSpan").text(),s=r&&c}if(!s)return i.html(I18n.getMsg("crm.field.valid.check",l.i18NLabel)),void i.show()}var d={fieldName:e,fieldValue:n,isCustomField:l.isCustomField,fieldType:l.type};d.ids=t;var u={ticketType:deskInteg.getCurrentTicketType(),module:Crm.userDetails.isRelatedListLyteEnabled?Lyte.Globals.get("relatedList.module"):crmRelatedList.Module,moduleId:Crm.userDetails.isRelatedListLyteEnabled?Lyte.Globals.get("relatedList.entityId"):crmRelatedList.EntityId};u.pageToken=deskInteg.getCurrentTicketPage();var m=deskInteg.getKeyValueForTicketCriteria();u[m.key]=m.value,u.ticketJson=JSON.stringify(d),u[csrfParamName]=csrfToken;var p=d.ids;deskInteg.initiateAjaxCall(C,"POST",u,(function(e){deskInteg.populateTicketsTable(e,!1),deskInteg.closeTicketUpdatePop();for(var a=D.get("#ticketsTable"),n=p.length,t=0;t<n;t++){a.find("tr#ticket_"+p[t]).addClass("deskBgAnim")}setTimeout((function(){deskInteg.removeAnimClass(p)}),2e3)}),(function(){deskInteg.closeTicketUpdatePop()}))},deleteTickets:function(){Crm.trackSpotLightAction("ZDesk - Ticket Delete");var e={ticketType:deskInteg.getCurrentTicketType(),module:Crm.userDetails.isRelatedListLyteEnabled?Lyte.Globals.get("relatedList.module"):crmRelatedList.Module,moduleId:Crm.userDetails.isRelatedListLyteEnabled?Lyte.Globals.get("relatedList.entityId"):crmRelatedList.EntityId};e.pageToken=deskInteg.getCurrentTicketPage();var a=deskInteg.getKeyValueForTicketCriteria();e[a.key]=a.value;var n={ids:t};e.ticketJson=JSON.stringify(n),e[csrfParamName]=csrfToken,deskInteg.initiateAjaxCall(k,"POST",e,(function(e){hideAnimatePopup("deleteDeskTicketConfirmation"),deskInteg.populateTicketsTable(e,!1)}),(function(){hideAnimatePopup("deleteDeskTicketConfirmation")}))},toggleStats:function(e){var a=D.get("#deskTicketsSummary").is(":hidden"),n={viewStats:a};n[csrfParamName]=csrfToken;var t=$(e);a?(D.get("#deskTicketsSummary").slideDown(),t.text(I18n.getMsg("crm.zdesk.hidestats"))):(D.get("#deskTicketsSummary").slideUp(),t.text(I18n.getMsg("crm.zdesk.showstats"))),deskInteg.initiateAjaxCall(E,"POST",n)},summarizeTickets:function(e){var a=Crm.userDetails.isRelatedListLyteEnabled?Lyte.Globals.get("relatedList.entityId"):crmRelatedList.EntityId;!1===deskCache.get(a)&&deskCache.set(a,e.ticketStats,36e5);var n=deskCache.get(a);if(n){deskInteg.updateTicketStats(n),w=n.encryptedContactId,L=n.encryptedAccountId;var t=n.contactId;if(e.tickets&&t)for(var l=e.tickets.length,i=0;i<l;i++){var s=e.tickets[i];if(s.contactId==t){var o=s.contact;if(o){(R=o.lastName)&&o.firstName&&(R=o.firstName+" "+R),M=o.email,A=o.phone,P=o.account?o.account.accountName:void 0;break}}}var r=deskInteg.getKeyValueForTicketCriteria();if("email"==r.key&&n.statsEmail){var c=r.value.split(",");if((c=c.filter((function(e,a,n){return a==n.indexOf(e)}))).length>1){var d=$("#deskTicketsSummary #select_deskstats"),u="",m=c.length,p=$ESAPI.encoder();for(i=0;i<m;i++)u+='<option value="'+p.encodeForHTMLAttribute(c[i])+'">'+p.encodeForHTML(c[i])+"</option>";d.append(u),d.val(n.statsEmail),thirdPartyUtils.bindSelect2(d),$("#deskTicketsSummary #deskstatsEmail").show()}else n.totalTickets<1&&deskInteg.hideStatsSection()}else n.totalTickets<1&&deskInteg.hideStatsSection()}else deskInteg.hideStatsSection()},hideStatsSection:function(){D.get("#ticketStatLink").remove(),D.get("#deskTicketsSummary").hide()},updateTicketStats:function(e){var a=$("#deskTicketsSummary"),n=a.find("#cusHapRate,#happiness_smiley"),t=a.find("#no_happinessrating");if(e){var l=e.customerHappiness;if(a.find("#totalTickets").text(e.totalTickets),a.find("#overdueTickets").text(e.overdueTickets),a.find("#avgSolTime").find("span").eq(0).text(e.resolutionTime),a.find("#avgResTime").find("span").eq(0).text(e.responseTime),l){var i=parseInt(l.okCount)+parseInt(l.goodCount)+parseInt(l.badCount);if(i>0){var s=parseInt(l.goodPercentage)/i*100;s=deskInteg.roundOff(s,0),a.find("#cusHapRate").text(s+"%");var o=$("#happiness_smiley");return s>70?(o.removeClass("sadSmiley confusedSmiley"),o.addClass("happySmiley")):s>35?(o.removeClass("happySmiley sadSmiley"),o.addClass("confusedSmiley")):(o.removeClass("happySmiley confusedSmiley"),o.addClass("sadSmiley")),n.show(),void t.hide()}}}else a.find("#totalTickets").text("0"),a.find("#overdueTickets").text("0"),a.find("#avgSolTime").find("span").eq(0).text("00:00"),a.find("#avgResTime").find("span").eq(0).text("00:00");n.hide(),t.show()},getTicketStats:function(){var e=Crm.userDetails.isRelatedListLyteEnabled?Lyte.Globals.get("relatedList.module"):crmRelatedList.Module,a=Crm.userDetails.isRelatedListLyteEnabled?Lyte.Globals.get("relatedList.entityId"):crmRelatedList.EntityId;Crm.trackSpotLightAction("ZDesk - Ticket Stats Fetch");var n={module:e,moduleId:a};n.email=D.get("#select_deskstats").val(),n[csrfParamName]=csrfToken,deskInteg.initiateAjaxCall(_,"POST",n,(function(e){deskInteg.updateTicketStats(e.ticketStats)}))},getAgentsDepartments:function(e,a){if(r[e])a&&a(e);else{var n={departmentId:e};deskInteg.initiateAjaxCall(S,"GET",n,(function(n){r[n.departmentId]=n.departmentAgents;for(var t=n.departmentAgents.length,l=0;l<t;l++){var i=n.departmentAgents[l];o[i]=n.agents[i]}a&&a(e)}))}},showAgentsForDepartment:function(){for(var e=$L("#ticketsTable"),a=null,n=t.length,l=0;l<n;l++){var i=t[l];a=e.find("tr#ticket_"+i).attr("data-dept");break}deskInteg.getAgentsDepartments(a,(function(e){var a=r[e],t=$L("#fieldUpdSelect"),l="<option  value=''>Unassigned</option>";n=a.length;for(var i=$ESAPI.encoder(),s=0;s<n;s++){var c=a[s],d=o[c];if(d){var u=d.firstName?d.firstName+" "+d.lastName:d.lastName;l=l+"<option  value='"+i.encodeForHTMLAttribute(d.id+"")+"'>"+i.encodeForHTML(u)+"</option>"}}t.html(l),t.val("").trigger("change"),$L("#fieldUpdTextOption").hide(),$L("#fieldUpdSelectOption").show()}))},closeTicketUpdatePop:function(){D.get("#tktFldPop").hide(),renderingUtils.removeFreezeLayer()},updatePotentialValue:function(e){e.stopImmediatePropagation();var a,n=$(this),t=n.get(0).tagName;"A"!=t&&"a"!=t||(n=n.closest("tr").find("input:radio"));var l=n.attr("id");a=l.substring(l.indexOf("_")+1),hideAnimatePopup("topBandPopup",!0);var i=document.querySelector("crm-zdesk-rl-body").component;i.actions.linkToPotential.bind(i)(a)},linkToPotential:function(e){var a=document.querySelector("crm-zdeskbody-rl").component,n=document.querySelector("crm-zdeskaction-rl").component;if(Crm.trackSpotLightAction("ZDesk - Ticket Link Potential"),!e){var l=$("crm-zdeskbody-rl")[0].component;if("Potentials"!==l.getData("module"))return;e=l.getData("entityId")}renderingUtils.freezeBackground();var i={potentialId:e};i.ticketIds=JSON.stringify(t),i[csrfParamName]=csrfToken,deskInteg.initiateAjaxCall(b,"POST",i,(function(e){if("success"==e.status){var t=e.linkedTickets,l=t.length,i={},s={};s.potentialId=e.potentialId,s.potential=e.potentialName;var o=a.data.ticketPotentials;if(Object.keys(a.data.ticketPotentials).length>0){i=o;for(var r=0;r<l;r++)Lyte.objectUtils(o,"add",t[r],s)}else{for(r=0;r<l;r++)i[t[r]]=s;a.setData("ticketPotentials",i)}n.methods.getDeskTickets.bind(n)(void 0,n.getCurrentTicketPage(),!1,!0,n.data.module,n.data.entityId,n.data.email),n.actions.clearSelect.call(n),crmui.showMsgBand("success",I18n.getMsg(e.message),3e3),deskInteg.clearSelect()}else crmui.showMsgBand("error",I18n.getMsg(e.message),3e3);renderingUtils.removeFreezeLayer()}))},removeAnimClass:function(e){for(var a=e.length,n=D.get("#ticketsTable"),t=0;t<a;t++){var l=e[t];n.find("tr#ticket_"+l).removeClass("deskBgAnim")}},unlinkTickets:function(){var e={potentialId:0};e.ticketIds=JSON.stringify(t);var a=t,n=t.length;e[csrfParamName]=csrfToken;var l=document.querySelector("crm-zdeskbody-rl").component,i=document.querySelector("crm-zdeskaction-rl").component;deskInteg.initiateAjaxCall(b,"POST",e,(function(e){if("success"==e.status){for(var t=l.data.ticketPotentials,s=0;s<n;s++)Lyte.objectUtils(t,"delete",a[s]);i.actions.clearSelect.call(i),deskInteg.clearSelect(),crmui.showMsgBand("success",I18n.getMsg(e.message),3e3)}else crmui.showMsgBand("error",I18n.getMsg(e.message),3e3)}),(function(){crmui.showMsgBand("error",I18n.getMsg("crm.zdesk.err.unlink"),3e3)}))},showCreateTicketPopup:function(){var e=Crm.userDetails.isRelatedListLyteEnabled?Lyte.Globals.get("relatedList.module"):crmRelatedList.Module,a="//"+c+"/support/"+m+"/ShowHomePage.do?frameorigin="+encodeURIComponent(d);a+="&isDeskAddOnRequest=true#Cases/new?isDeskAddOnRequest=true";var n="Potentials"===e;if(Crm.trackSpotLightAction("ZDesk - Create Ticket",{Module:e}),!M)if(n){var t=$("#associatedContEmail").val();M=t&&validationUtils.isValidEmail(t)?t:M}else{var l=deskInteg.getKeyValueForTicketCriteria();"email"==l.key&&(M=l.value.split(",")[0])}R||"Accounts"===e||(R=n?$("#associatedContName").val():$("#subvalue_LASTNAME").text())||$("[id=entity_name]").each((function(){return!(R=$(this).val())})),P||(P="Accounts"===e?$("#subvalue_ACCOUNTNAME").text():$("#subvalue_ACCOUNTID").text()),R&&(a=a+"&"+encodeURIComponent("property(Contact Name)")+"="+encodeURIComponent(R)),w&&(a=a+"&"+encodeURIComponent("property(whoName:Contact Name)")+"="+w),L&&(a=a+"&"+encodeURIComponent("property(actName:Account Name)")+"="+L),M&&(a=a+"&"+encodeURIComponent("property(Email)")+"="+encodeURIComponent(M)),A&&(a=a+"&"+encodeURIComponent("property(Phone)")+"="+encodeURIComponent(A)),P&&(a=a+"&"+encodeURIComponent("property(Account Name)")+"="+encodeURIComponent(P));deskInteg.createPopup("<div class='fR deskIframeCloseCont pA'><div class='svgIcons ico-close-small2 cP mL6 mR5 mT5 dIB' onClick=\"deskInteg.hideCreateTicketPopup();\"></div></div><div class='cBoth'></div><span id='loadMsg'><center>Loading New Ticket Page ....</center></span><iframe onload=\"document.getElementById('loadMsg').style.display='none';\" class='oA' id='createTicketIframe' frameborder='0' src='' style='width: 1250px; height: 590px;'></iframe>",{width:"1250px",height:"590px",overflow:"visible"}),deskInteg.handleScroll(!0),$("#lookupdiv #createTicketIframe").attr("src",a)},hideCreateTicketPopup:function(){closeDashletDiv("lookupdiv"),$("#lookupdiv").removeAttr("style").empty(),deskInteg.handleScroll(!1),deskInteg.getDeskTickets(void 0,deskInteg.getCurrentTicketPage(),!1,!0)},populatePotentialPopup:function(){var e=Crm.userDetails.isRelatedListLyteEnabled?Lyte.Globals.get("relatedList.module"):crmRelatedList.Module,a=Crm.userDetails.isRelatedListLyteEnabled?Lyte.Globals.get("relatedList.entityId"):crmRelatedList.EntityId,n=I;"Accounts"===e?n=n+"&accountId="+a:"Contacts"===e&&(n=n+"&productId="+a),n+="&newModel=true",n+="&fromzdesk=true",commonUtils.openCustomLookup(n,void 0,"topBandPopup",renderingUtils.windowWidth-300,void 0,void 0,void 0,!0)},editPotentialLookUp:function(e,a){e.html(a),e.find("#contactDiv").hide(),e.find("table input:radio").unbind("click").on("click",deskInteg.updatePotentialValue);var n=e.find("table td a");n.each((function(){$(this).prop("onclick",null)})),n.on("click",deskInteg.updatePotentialValue),e.find("#newEntityButton").hide()},initiateAjaxCall:function(e,a,n,t,l,i,s){commonUtils.showHideLoadingDiv(!0);var o=function(e,a){l&&l(e,a),commonUtils.showHideLoadingDiv(!1)};(new crmRequestPool).initiate({action:e,type:a,headers:s,data:n,success:function(e,a){e&&"object"==typeof e?function(e,a){t&&t(e,a),commonUtils.showHideLoadingDiv(!1)}(e,a):i?(i.html(e),i.show(),commonUtils.showHideLoadingDiv(!1)):o(e,a)},error:function(e,a){o(e,a)}})},updateRowSelection:function(e){var a=$(e),n=a.prop("checked"),i=a.parents("tr").eq(0).attr("id").replace("ticket_",""),s=a.parents(".flipCard");if(n)t.push(i),l++,s.addClass("flipped");else{var o=t.indexOf(i);t.splice(o,1),l--,s.removeClass("flipped")}deskInteg.ticketActionDisplay()},ticketActionDisplay:function(){D.get("#selectedTicketCount").text(l),0==l?(D.get(".ticket_noselect").show(),D.get(".ticket_select").hide()):(D.get(".ticket_noselect").hide(),D.get(".ticket_select").show())},clearSelect:function(){D.get("#desk_tickets_tbody tr .rowSelectorCkbox").prop("checked",!1),D.get("#desk_tickets_tbody tr .flipCard").removeClass("flipped"),t=[],l=0,deskInteg.ticketActionDisplay()},showSubjectTooltip:function(e){var a=$(e).text();e.scrollWidth>e.offsetWidth&&crmui.toolTip_show(e,"left",a)},showHideAgentInfoBC:function(e,a){if(e){var n=$(a),t=n.offset(),l=JSON.parse(n.parents("td").eq(0).attr("data-params"));D.get("#deskTicketBC").addClass("userbcpopup");var i=D.get("#deskTicketBC").find(".emailicon");i.text(l.emailId),i.attr("href","mailto:"+l.emailId);var s=h+"/file?ID="+l.zuid+"&fs=thumb";D.get("#deskTicketBC").find("#agentImg").attr("src",s),D.get("#deskTicketBC").find("#bcAgentName").text(l.firstName+" "+l.lastName),D.get("#deskTicketBC").css({top:t.top+30,left:t.left-200}).show()}else"deskTicketBC"!=$(a.relatedTarget).attr("id")&&(D.get("#deskTicketBC").removeClass("userbcpopup"),D.get("#deskTicketBC").hide())},populateIntegDetails:function(e){if(e){var a=RebrandLinkUtil.getProperty("ZSUPPORTURL");"https:"==location.protocol&&(a=(a=a.replace("9090","9443")).replace("8080","8443")),c=a;var n=Crm.userDetails.isCrmPlusDomain?window.location.host:document.domain.includes("zcrm.zoho")?RebrandLinkUtil.getProperty("ZCRMURL"):RebrandLinkUtil.getProperty("CRMURL");d=RebrandLinkUtil.getProperty("URLPROTOCOL")+"://"+n,"undefined"!=typeof CrmPlusLib&&CrmPlusLib.isLoadedInCrmplusFrame&&CrmPlusLib.getFrameOriginForURL&&(d=CrmPlusLib.getFrameOriginForURL()+","+d),u=e.crmsupportzgid,m=e.portalName,void 0!==e.portalUser&&(g=e.portalUser)}},receiveDeskMessage:function(e){e.origin==location.protocol+"//"+c&&(Crm.trackSpotLightAction("ZDesk - Ticket Comment"),e.source.postMessage(Crm.userDetails.ZUID,e.origin))},refreshData:function(){var e=Crm.userDetails.isRelatedListLyteEnabled?Lyte.Globals.get("relatedList.module"):crmRelatedList.Module,n=Crm.userDetails.isRelatedListLyteEnabled?Lyte.Globals.get("relatedList.entityId"):crmRelatedList.EntityId;if(Crm.trackSpotLightAction("ZDesk - Ticket Refresh"),deskCache.clear(n),p){D.get("#deskRefresh").removeClass("ref_complete").addClass("ref_loading");var t=deskInteg.getCurrentTicketType(),l={pageToken:0,ticketType:t,module:e,moduleId:n,deskstats:"true"},i=deskInteg.getKeyValueForTicketCriteria();$.isEmptyObject(i)?D.get("#deskRefresh").removeClass("ref_loading").addClass("ref_complete"):(l[i.key]=i.value,l[csrfParamName]=csrfToken,deskInteg.initiateAjaxCall(v,"POST",l,(function(e){if(Object.keys(e).length>1){deskInteg.init(),a=void 0;var n=Handlebars.templates.zdeskActions(e);D.get("#supportdiv").html(n),deskInteg.updateDetailsForRL(e.SupportObj),deskInteg.loadDeskintegration(e),D.get("#ticketFilterSelect").val(t)}D.get("#deskRefresh").removeClass("ref_loading").addClass("ref_complete op5 eventNone")})))}},roundOff:function(e,a){return Number(Math.round(e+"e"+a)+"e-"+a)},getUserImage:function(e){return e?h+"/file?ID="+e+"&fs=thumb":null},hideDeskTab:function(){var e={};e[csrfParamName]=csrfToken,deskInteg.initiateAjaxCall(y,"POST",e,(function(){setTimeout(crmTab.reloadTabMenu,2e3),$("#tab_Home").trigger("click")}))}}}(),deskCache={cacheData:{},get:function(e){return!(!deskCache.cacheData.hasOwnProperty(e)||!deskCache.cacheData[e])&&deskCache.cacheData[e].val},set:function(e,a,n){deskCache.clear(e);var t=!1;n&&parseInt(n)>0&&(t=setTimeout((function(){deskCache.clear(e)}),parseInt(n))),deskCache.cacheData[e]={expiry:n,val:a,timeout:t}},clear:function(e){return!!deskCache.cacheData.hasOwnProperty(e)&&(deskCache.cacheData[e]&&deskCache.cacheData[e].timeout&&clearTimeout(deskCache.cacheData[e].timeout),delete deskCache.cacheData[e],!0)}};!function(){var e=Handlebars.template,a=Handlebars.templates=Handlebars.templates||{};a.zdeskActions=e({1:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.escapeExpression;return' <div class="mB10" id="deskRelatedListMenu" style="display:none"> <div class="mB20 dvmB0"> <div id="deskTicketsSummary" class="dvmB20 pT20 pR20 pB0 pL0 deskStatsSummary pR" '+(null!=(i=n.if.call(s,null!=(i=null!=a?a.SupportObj:a)?i.showStats:i,{name:"if",hash:{},fn:e.program(2,l,0),inverse:e.program(4,l,0),data:l}))?i:"")+' > <div id="deskstatsEmail" class="createSelect newChosenSel crm-font-bold mB20" style=\'display:none\'> <select id=\'select_deskstats\' onchange="deskInteg.getTicketStats()" > </select> </div> <table class="w100_per deskRelStatTable" cellpadding="0" cellspacing="0"> <tbody> <tr> <td class="statTd"> <p class="statDesc">'+o(n.getI18n.call(s,"crm.zdesk.stats.overall",{name:"getI18n",hash:{},data:l}))+'</p> <p id="totalTickets" class="statVal">0</p> </td> <td class="statTd"> <p class="statDesc">'+o(n.getI18n.call(s,"crm.zdesk.stats.overdue",{name:"getI18n",hash:{},data:l}))+'</p> <p id="overdueTickets" class="statVal">0</p> </td> <td class="statTd"> <p class="statDesc">'+o(n.getI18n.call(s,"crm.zdesk.stats.response",{name:"getI18n",hash:{},data:l}))+'</p> <p id="avgResTime" class="statVal dIB" onmouseenter="crmui.toolTip_show(this, \'center\', \''+o(n.getI18n.call(s,"crm.zdesk.stats.msg",{name:"getI18n",hash:{},data:l}))+'\')" onmouseleave="crmui.toolTip_hide()"> <span>00:00</span><span class="statSubtleText mL5">'+o(n.getI18n.call(s,"crm.workflow.scheduler.hours",{name:"getI18n",hash:{},data:l}))+'</span> </p> </td> <td class="statTd"> <p class="statDesc">'+o(n.getI18n.call(s,"crm.zdesk.stats.resolution",{name:"getI18n",hash:{},data:l}))+'</p> <p id="avgSolTime" class="statVal dIB" onmouseenter="crmui.toolTip_show(this, \'center\', \''+o(n.getI18n.call(s,"crm.zdesk.stats.msg",{name:"getI18n",hash:{},data:l}))+'\')" onmouseleave="crmui.toolTip_hide()"> <span>00:00</span><span class="statSubtleText mL5">'+o(n.getI18n.call(s,"crm.workflow.scheduler.hours",{name:"getI18n",hash:{},data:l}))+'</span> </p> </td> <td class="statTd"> <p class="statDesc">'+o(n.getI18n.call(s,"crm.zdesk.stats.happiness",{name:"getI18n",hash:{},data:l}))+'</p> <p class="statVal"> <span id="cusHapRate" class="vaM">0%</span> <span id="happiness_smiley" class="happySmiley vaM mB1"></span> <span id="no_happinessrating" class="crmNotFoundColor crm-base-font-size">'+o(n.getI18n.call(s,"crm.zdesk.noratings",{name:"getI18n",hash:{},data:l}))+'</span> </p> </td> </tr> </tbody> </table> </div> </div> <div class="pT5 flexAlignCenter spaceBetween"> <div class="dIB ticket_select" style="display: none;"> <div class="dIB"> <span id="selectedTicketCount" class="crm-font-bold crm-small-font-size">0</span> <span class="crmNotFoundColor crm-small-font-size">'+o(n.getI18n.call(s,"crm.zdesk.ticketselect",{name:"getI18n",hash:{},data:l}))+'</span> </div> <a class="cP mL10 crm-small-font-size" onClick="deskInteg.clearSelect();">'+o(n.getI18n.call(s,"crm.zdesk.clear",{name:"getI18n",hash:{},data:l}))+'</a> </div> <div class="newSelect ticket_noselect" id="deskTicketFilter"> <select id="ticketFilterSelect" data-zcqa="desk_ticketfilter" onChange="deskInteg.getDeskTickets(\'\',0);"> <option selected value="All">All Tickets</option> '+(null!=(i=n.if.call(s,null!=(i=null!=a?a.SupportObj:a)?i.potentialModule:i,{name:"if",hash:{},fn:e.program(6,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=n.each.call(s,null!=(i=null!=a?a.SupportObj:a)?i.ticketTypes:i,{name:"each",hash:{},fn:e.program(9,l,0),inverse:e.noop,data:l}))?i:"")+' <option value="Overdue">Overdue Tickets</option> <option value="High">High Priority Tickets</option> </select> </div> <div data-zcqa="ticketOperations" class="dIB ticket_select" style="display: none;"> '+(null!=(i=n.if.call(s,null!=(i=null!=a?a.SupportObj:a)?i.portalUser:i,{name:"if",hash:{},fn:e.program(11,l,0),inverse:e.program(13,l,0),data:l}))?i:"")+" "+(null!=(i=n.if.call(s,null!=(i=null!=a?a.SupportObj:a)?i.potentialModule:i,{name:"if",hash:{},fn:e.program(15,l,0),inverse:e.program(17,l,0),data:l}))?i:"")+" "+(null!=(i=n.if.call(s,null!=(i=null!=a?a.SupportObj:a)?i.showPotential:i,{name:"if",hash:{},fn:e.program(20,l,0),inverse:e.program(25,l,0),data:l}))?i:"")+' </div> </div> <div class="fR pR pT5"> <a id=\'ticketStatLink\' data-zcqa="desk_togglestats" class="cP dIB vaM ticket_noselect showHideStatLink" onClick="deskInteg.toggleStats(this)"> '+(null!=(i=n.if.call(s,null!=(i=null!=a?a.SupportObj:a)?i.showStats:i,{name:"if",hash:{},fn:e.program(30,l,0),inverse:e.program(32,l,0),data:l}))?i:"")+" </a> "+(null!=(i=n.if.call(s,null!=(i=null!=a?a.SupportObj:a)?i.portalUser:i,{name:"if",hash:{},fn:e.program(34,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=n.if.call(s,null!=(i=null!=a?a.SupportObj:a)?i.crmAdmin:i,{name:"if",hash:{},fn:e.program(36,l,0),inverse:e.noop,data:l}))?i:"")+' </div> <div class="cBoth"></div> </div> <div id="deleteDeskTicketConfirmation" class="zcrm-modal zcrm-effect zcrm-show" style="display: none;"> <div id="" class="zcrm-content"> <form> <div class="popup-model-content noBoxShadow fontsmooth" style="width: 700px;overflow:hidden;"> <div class="crmBaseColor"> <div class="crm-font-regular crm-medium-large-font-size content aligncenter">'+o(n.getI18n.call(s,"crm.zdesk.delete.ticket",{name:"getI18n",hash:{},data:l}))+'</div> </div> <div class="aligncenter mT25"> <input type="button" class="redbtn"  data-zcqa="desk_deleleticketconfirm" value="'+o(n.getI18n.call(s,"crm.label.delete",{name:"getI18n",hash:{},data:l}))+'" onclick="deskInteg.deleteTickets()"> <input name="cancel" class="newgraybtn" type="button" value="'+o(n.getI18n.call(s,"crm.label.no",{name:"getI18n",hash:{},data:l}))+'" onclick="hideAnimatePopup(\'deleteDeskTicketConfirmation\')"> </div> </div> </form> </div> </div> '},2:function(e,a,n,t,l){return' style="border-bottom: 1px solid #EDF0F4;" '},4:function(e,a,n,t,l){return' style="border-bottom: 1px solid #e7e7e7; display: none;" '},6:function(e,a,n,t,l){var i,s=null!=a?a:{};return" <option "+(null!=(i=n.if_gt.call(s,null!=(i=null!=a?a.SupportObj:a)?i.potentialTickets:i,"0",{name:"if_gt",hash:{},fn:e.program(7,l,0),inverse:e.noop,data:l}))?i:"")+' value="Potentials">'+e.escapeExpression(n.getI18n.call(s,"crm.zdesk.potentialticket",null!=(i=null!=a?a.SupportObj:a)?i.potentialSingular:i,{name:"getI18n",hash:{},data:l}))+"</option> "},7:function(e,a,n,t,l){return" selected "},9:function(e,a,n,t,l){var i=e.lambda,s=e.escapeExpression;return' <option value="'+s(i(null!=a?a.value:a,a))+'">'+s(i(null!=a?a.value:a,a))+" Tickets</option> "},11:function(e,a,n,t,l){var i=null!=a?a:{},s=e.escapeExpression;return' <input type="button" class="newwhitebtn dIB" data-zcqa="desk_updateticket"\n\t\t\t\tonClick="deskInteg.showTktFldUpdPop()" value="'+s(n.getI18n.call(i,"crm.zdesk.updatefield",{name:"getI18n",hash:{},data:l}))+'"> <input type="button" class="newwhitebtn dIB" data-zcqa="desk_closeticket"\n\t\t\t\tonClick="deskInteg.updateFields(\'status\', \'Closed\')" value="'+s(n.getI18n.call(i,"crm.button.close",{name:"getI18n",hash:{},data:l}))+'"> '},13:function(e,a,n,t,l){var i=null!=a?a:{},s=e.escapeExpression;return' <div class="dIB ticketDisabledButton" onmouseenter="crmui.showTooltip(\''+s(n.getI18n.call(i,"crm.zdesk.user.needportal.brandchange",n.getIntegrationName.call(i,"ZOHO_DESK",{name:"getIntegrationName",hash:{},data:l}),{name:"getI18n",hash:{},data:l}))+'\', \'false\', \'left\')" onmouseleave="crmui.hideTooltip()"> <input type="button" class="newwhitebtn dIB eventNone" value="'+s(n.getI18n.call(i,"crm.zdesk.updatefield",{name:"getI18n",hash:{},data:l}))+'"> </div> <div class="dIB ticketDisabledButton" onmouseenter="crmui.showTooltip(\''+s(n.getI18n.call(i,"crm.zdesk.user.needportal.brandchange",n.getIntegrationName.call(i,"ZOHO_DESK",{name:"getIntegrationName",hash:{},data:l}),{name:"getI18n",hash:{},data:l}))+'\', \'false\', \'left\')" onmouseleave="crmui.hideTooltip()"> <input type="button" class="newwhitebtn dIB eventNone" value="'+s(n.getI18n.call(i,"crm.button.close",{name:"getI18n",hash:{},data:l}))+'"> </div> '},15:function(e,a,n,t,l){var i;return' <input type="button" class="newwhitebtn dIB" id="linkToThisPotential" data-zcqa="desk_linkthispotential"\n\t\t\t\t\tonClick="deskInteg.linkToPotential();" value="'+e.escapeExpression(n.getI18n.call(null!=a?a:{},"crm.zdesk.thispotential",null!=(i=null!=a?a.SupportObj:a)?i.potentialSingular:i,{name:"getI18n",hash:{},data:l}))+'"> '},17:function(e,a,n,t,l){var i;return" "+(null!=(i=n.if.call(null!=a?a:{},null!=(i=null!=a?a.SupportObj:a)?i.showPotential:i,{name:"if",hash:{},fn:e.program(18,l,0),inverse:e.noop,data:l}))?i:"")+" "},18:function(e,a,n,t,l){var i;return' <input type="button" class="newwhitebtn dIB" id="linkToPotential" data-zcqa="desk_linkpotential"\n\t\t\t\t\tonClick="deskInteg.populatePotentialPopup()" value="'+e.escapeExpression(n.getI18n.call(null!=a?a:{},"crm.zdesk.linkpotential",null!=(i=null!=a?a.SupportObj:a)?i.potentialLabel:i,{name:"getI18n",hash:{},data:l}))+'"> '},20:function(e,a,n,t,l){var i,s=null!=a?a:{};return' <div class="dIB"> <div class="pR"> <span class="newbutton mL5 newwhitebtn moredot_h2_35 moredotparentBtn" onClick="sE(event);$(this).next().show()"></span> <div class="ddM mL5" data-close="true" style="top: 35px; z-index: 10; display: none;"> <ul> <li> '+(null!=(i=n.if.call(s,null!=(i=null!=a?a.SupportObj:a)?i.portalUser:i,{name:"if",hash:{},fn:e.program(21,l,0),inverse:e.program(23,l,0),data:l}))?i:"")+' </li> <li> <a class="dIB" id="linkToPotential" data-zcqa="desk_unlink"\n\t\t\t\t\t\t\t\t\tonClick="deskInteg.unlinkTickets()">'+e.escapeExpression(n.getI18n.call(s,"crm.zdesk.unlink",null!=(i=null!=a?a.SupportObj:a)?i.potentialLabel:i,{name:"getI18n",hash:{},data:l}))+"</a> </li> </ul> </div> </div> </div> "},21:function(e,a,n,t,l){return' <a class="dIB" id="tktDelBtn" data-zcqa="desk_deleteticket"\n\t\t\t\t\t\t\t\t\tonClick="showAnimatePopup(\'deleteDeskTicketConfirmation\')">'+e.escapeExpression(n.getI18n.call(null!=a?a:{},"crm.button.delete",{name:"getI18n",hash:{},data:l}))+"</a> "},23:function(e,a,n,t,l){var i=null!=a?a:{},s=e.escapeExpression;return' <div class="dIB ticketDisabledButton" onmouseenter="crmui.showTooltip(\''+s(n.getI18n.call(i,"crm.zdesk.user.needportal.brandchange",n.getIntegrationName.call(i,"ZOHO_DESK",{name:"getIntegrationName",hash:{},data:l}),{name:"getI18n",hash:{},data:l}))+"', 'false', 'center')\" onmouseleave=\" $('#wf_tooltip').hide()\"> <a class=\"dIB eventNone\" id=\"tktDelBtn\">"+s(n.getI18n.call(i,"crm.button.delete",{name:"getI18n",hash:{},data:l}))+"</a> </div> "},25:function(e,a,n,t,l){var i;return" "+(null!=(i=n.if.call(null!=a?a:{},null!=(i=null!=a?a.SupportObj:a)?i.portalUser:i,{name:"if",hash:{},fn:e.program(26,l,0),inverse:e.program(28,l,0),data:l}))?i:"")+" "},26:function(e,a,n,t,l){return' <input type="button" class="newwhitebtn dIB" id="tktDelBtn" data-zcqa="desk_ticketdelete"\n\t\t\t\t\t\t\t\t\tonClick="showAnimatePopup(\'deleteDeskTicketConfirmation\')" value="'+e.escapeExpression(n.getI18n.call(null!=a?a:{},"crm.button.delete",{name:"getI18n",hash:{},data:l}))+'"> '},28:function(e,a,n,t,l){var i=null!=a?a:{},s=e.escapeExpression;return' <div class="dIB ticketDisabledButton" onmouseenter="crmui.showTooltip(\''+s(n.getI18n.call(i,"crm.zdesk.user.needportal.brandchange",n.getIntegrationName.call(i,"ZOHO_DESK",{name:"getIntegrationName",hash:{},data:l}),{name:"getI18n",hash:{},data:l}))+'\', \'false\', \'left\')" onmouseleave="crmui.hideTooltip()"> <input type="button" class="newwhitebtn dIB eventNone" id="tktDelBtn" value="'+s(n.getI18n.call(i,"crm.button.delete",{name:"getI18n",hash:{},data:l}))+'"> </div> '},30:function(e,a,n,t,l){return" "+e.escapeExpression(n.getI18n.call(null!=a?a:{},"crm.zdesk.hidestats",{name:"getI18n",hash:{},data:l}))+" "},32:function(e,a,n,t,l){return" "+e.escapeExpression(n.getI18n.call(null!=a?a:{},"crm.zdesk.showstats",{name:"getI18n",hash:{},data:l}))+" "},34:function(e,a,n,t,l){return' <a id="newTicketLink" data-zcqa="desk_createticket" class="cP dIB vaM ticket_noselect createlink"\n\t\t\tonClick="deskInteg.showCreateTicketPopup()"> '+e.escapeExpression(n.getI18n.call(null!=a?a:{},"crm.zdesk.newticket",{name:"getI18n",hash:{},data:l}))+"</a> "},36:function(e,a,n,t,l){var i=null!=a?a:{},s=e.escapeExpression;return' <div class="newRlEdit dIB vaM ticket_noselect" data-zcqa="desk_colchange" style="visibility: visible;"\n\t\t\tonClick="deskInteg.showColList(); sE(event)"></div> <div class="ddMenus pT0 pB0 boxShadowMask mB30 pA right0" id="zdeskColumns"\n\t\t\tdata-close="true" onClick="sE(event)"\n\t\t\tstyle="min-width: 200px; top: 0px; right: 0px; display: none;"> <div class="pR"> <span class="setupsearchicon" style="left: 10px;"></span> <input\n\t\t\t\t\ttype="text" class="setupsearch" style="width: 100%;"> </div> <div class="menuDiv"> <div id="menuColumnListView"> <ul id="relateList"\n\t\t\t\t\t\tclass="sortable m0 p10 relateListCheck ui-sortable"> </ul> </div> <div class="columnListBtn"> <input type="button" class="primarybtn" data-zcqa="desk_colchangedone" value="'+s(n.getI18n.call(i,"crm.button.save",{name:"getI18n",hash:{},data:l}))+'"\n\t\t\t\t\t\tonClick="deskInteg.saveColModify()"> <input type="button"\n\t\t\t\t\t\tclass="newwhitebtn" value="'+s(n.getI18n.call(i,"crm.button.cancel",{name:"getI18n",hash:{},data:l}))+'"\n\t\t\t\t\t\tonClick="deskInteg.cancelColModify()"> </div> </div> </div> '},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){var i;return(null!=(i=n.if.call(null!=a?a:{},null!=(i=null!=a?a.SupportObj:a)?i.datePattern:i,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+"  "},useData:!0}),a.zdeskCustomHeaders=e({1:function(e,a,n,t,l){var i;return" "+(null!=(i=n.if.call(null!=a?a:{},null!=a?a.isDisabledinCRM:a,{name:"if",hash:{},fn:e.program(2,l,0),inverse:e.program(4,l,0),data:l}))?i:"")+" "},2:function(e,a,n,t,l){return' <li class="ccNotSelected cancelSort op5"><label> <input\n\t\t\t\t\ttype="checkbox" disabled checked> <span></span> <span>'+e.escapeExpression(e.lambda(null!=a?a.i18NLabel:a,a))+'</span> <span\n\t\t\t\t\tclass="mandatoryColor">*</span> </label></li> '},4:function(e,a,n,t,l){var i;return' <li class="ccNotSelected"> <label> <input type="checkbox" '+(null!=(i=n.if.call(null!=a?a:{},null!=a?a.isVisibleinCRM:a,{name:"if",hash:{},fn:e.program(5,l,0),inverse:e.noop,data:l}))?i:"")+" > <span></span> <span>"+e.escapeExpression(e.lambda(null!=a?a.i18NLabel:a,a))+"</span> </label> </li> "},5:function(e,a,n,t,l){return" checked "},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.escapeExpression;return'<div class="pR"> <span class="setupsearchicon" style="left: 10px;"></span> \x3c!-- <input\n\t\ttype="text" class="setupsearch" style="width: 100%;"> --\x3e <input type="text" id="columnlistsearch" data-zcqa="columnlistsearch"\n\t\tautocomplete="off" class="setupsearch"\n\t\tstyle="font-size: var(--crm-extra-medium-font-size); padding: 8px 10px 8px 30px; width: 100%;"\n\t\tplaceholder="Search"\n\t\tonkeyup="searchColumnList(\'columnListId\', event, this.value)"> </div> <div class="menuDiv"> <div id="menuColumnListView"\n\t\tclass="pR oH"\n\t\tstyle="max-height: 418px;"> <ul id="columnListId"\n\t\t\tclass="m0 p10 relateListCheck deskRelCheckList"\n\t\t\tstyle="min-height: 0px !important; height: auto !important; max-height: none !important;"> '+(null!=(i=n.each.call(s,null!=a?a.ticketFields:a,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+' </ul> </div> <div class="columnListBtn"> <input type="button" class="primarybtn" value="'+o(n.getI18n.call(s,"crm.button.save",{name:"getI18n",hash:{},data:l}))+'"\n\t\t\tonclick="deskInteg.saveColModify()"> <input type="button"\n\t\t\tclass="newwhitebtn" value="'+o(n.getI18n.call(s,"crm.button.cancel",{name:"getI18n",hash:{},data:l}))+'"\n\t\t\tonclick="deskInteg.cancelColModify()"> </div> </div>'},useData:!0}),a.zdeskIntegration=e({1:function(e,a,n,t,l){return' <table border="0" width="100%" cellspacing="0" cellpadding="0"\n\t\talign="center" class="norec pR30 fontsmooth"> <tr> <td valign="top" id="supportDiv"> <div class="pR30 fontsmooth mR5">'+e.escapeExpression(n.getI18n.call(null!=a?a:{},null!=a?a.deskError:a,{name:"getI18n",hash:{},data:l}))+"</div> </td> </tr> </table> "},3:function(e,a,n,t,l){var i;return' <div class="mB30 mT20"> <table id="ticketsTable" cellpadding="0" cellspacing="0"\n\t\t\tclass="w100_per pR"> <thead> <tr id="desk_tickets_thead_row" class="relList_headrow"> <th class="relList_headele firstCol"> <label class="vH"> <span class="customCheckBox"></span> </label> </th> '+(null!=(i=n.each.call(null!=a?a:{},null!=a?a.ticketHeadings:a,{name:"each",hash:{},fn:e.program(4,l,0),inverse:e.noop,data:l}))?i:"")+' </tr> </thead> <tbody id="desk_tickets_tbody">'+(null!=(i=e.invokePartial(t.zdeskTickets,a,{name:"zdeskTickets",data:l,helpers:n,partials:t,decorators:e.decorators}))?i:"")+' </tbody> </table> <div class="mB30 mT10"> <div class="fR"> <table id="ticketPageTable"></table> </div> <div class="cBoth"></div> </div> </div> '},4:function(e,a,n,t,l){return' <th class="relList_headele">'+e.escapeExpression(e.lambda(null!=a?a.i18NLabel:a,a))+"</th> "},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){var i;return'<div id="deskIntegDiv"> '+(null!=(i=n.if.call(null!=a?a:{},null!=a?a.deskError:a,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.program(3,l,0),data:l}))?i:"")+' <div id="deskTicketBC" onmouseleave="deskInteg.showHideAgentInfoBC(false, event)" class="" style="display: none;"> <div class="pR"> <div class="up_space pA"> <img id="agentImg" class="up_size fL" src=""> </div> <div class="userbc_info"> <div class="crm-font-bold crm-base-font-size pT10 pB5 userinfoMax"> <span id="bcAgentName" class="dIB" style="max-width: 350px;"> </span> </div> <a class="emailicon lh24 crmBaseColor dB" href="mailto:"></a> </div> <div id="actionLayer" class="aligncenter"></div> </div> </div>  </div>  '},usePartial:!0,useData:!0}),a.zdeskTickets=e({1:function(e,a,n,t,l,i,s){var o;return" "+(null!=(o=n.each.call(null!=a?a:{},null!=a?a.tickets:a,{name:"each",hash:{},fn:e.program(2,l,0,i,s),inverse:e.noop,data:l,blockParams:i}))?o:"")+" "},2:function(e,a,n,t,l,i,s){var o,r=e.lambda,c=e.escapeExpression;return' <tr class="relList_datarow topband_dv_row" id="ticket_'+c(r(null!=a?a.id:a,a))+'" data-dept="'+c(r(null!=a?a.departmentId:a,a))+'"> <td class="relList_dataele  firstCol"> <div class="flipContainer"> <div class="flipCard"> <div class="flipFront flipper"> <div class="ticketSourceIconCont"> <div class="ticketSourceIcon '+c(r(null!=a?a.channel:a,a))+'_Icon"></div> </div> </div> <div class="flipBack flipper"> <div class="deskRelCkBoxCont"> <div class="mAuto"> <label> <input type="checkbox" class="desk_hidden_ckbox rowSelectorCkbox" onClick="deskInteg.updateRowSelection(this)"> <span class="span_ckbox"></span> </label> </div> </div> </div> </div> </div> </td> '+(null!=(o=n.each.call(null!=a?a:{},null!=s[1]?s[1].ticketKeys:s[1],{name:"each",hash:{},fn:e.program(3,l,0,i,s),inverse:e.noop,data:l,blockParams:i}))?o:"")+" </tr> "},3:function(e,a,n,t,l,i,s){var o;return" "+(null!=(o=n.if.call(null!=a?a:{},null!=a?a.mainTicketDetail:a,{name:"if",hash:{},fn:e.program(4,l,0,i,s),inverse:e.program(14,l,0,i,s),data:l,blockParams:i}))?o:"")+" "},4:function(e,a,n,t,l,i,s){var o,r=e.lambda,c=e.escapeExpression,d=null!=a?a:{};return' <td class="relList_dataele mainTicketDetail cP" data-caseId="'+c(r(null!=s[1]?s[1].encryptedId:s[1],a))+'" onClick="javascript:deskInteg.showDeskPopup(\''+c(n.encodeJS.call(d,null!=s[1]?s[1].id:s[1],{name:"encodeJS",hash:{},data:l,blockParams:i}))+"')\" onmouseenter=\"$(this).parent().css('background-color', '#EDF0F4')\" onmouseleave=\"$(this).parent().css('background-color', '')\"> \x3c!-- <div class=\"dIB vaT mR10 mT5\"> <div class=\"ticketSourceIcon "+c(r(null!=s[1]?s[1].channel:s[1],a))+'_Icon"></div> </div> --\x3e <div class="dIB mL5"> <div class="mB5"> <span class="ticket_id dIB crm-base-font-size vaM crm-font-bold">#'+c(r(null!=s[1]?s[1].ticketNumber:s[1],a))+"</span> "+(null!=(o=n.isOverDue.call(d,null!=s[1]?s[1].status:s[1],null!=s[1]?s[1].dueDate:s[1],{name:"isOverDue",hash:{},fn:e.program(5,l,2,i,s),inverse:e.noop,data:l,blockParams:i}))?o:"")+" </div> "+(null!=(o=n.if.call(d,null!=s[2]?s[2].ticketPotentials:s[2],{name:"if",hash:{},fn:e.program(7,l,0,i,s),inverse:e.noop,data:l,blockParams:i}))?o:"")+' <p class="crm-small-font-size tOE oH crm-font-regular dIB vaM" style="max-width: 300px;"\n\t\t\t\tonmouseenter="deskInteg.showSubjectTooltip(this)"\n\t\t\t\tonmouseleave="crmui.toolTip_hide()">'+c(r(null!=s[1]?s[1].subject:s[1],a))+'</p> <div class="dIB vaM mL10"> <div class="conversationThreadIcon op03"> </div> </div> <div class="dIB pR mR5"> <span class="dIB pA ticketThreadCount aligncenter">'+c(r(null!=s[1]?s[1].threadCount:s[1],a))+'</span> </div> </div> <div class="dIB fR vaM"> <div class="commentIcon mT13 cP op5" > </div> <div class="pR mR30 '+(null!=(o=n.lessThan.call(d,null!=s[1]?s[1].commentCount:s[1],1,{name:"lessThan",hash:{},fn:e.program(12,l,0,i,s),inverse:e.noop,data:l,blockParams:i}))?o:"")+'"> <span class="dIB pA bg_white commentCountCircle aligncenter">'+c(r(null!=s[1]?s[1].commentCount:s[1],a))+'</span> </div> </div> <div class="cBoth"></div> </td> '},5:function(e,a,n,t,l,i){var s=e.escapeExpression;return' <span\n\t\t\t\t\tclass="h_duedate h_overdue mL10"\n\t\t\t\t\tonmouseover="crmui.showTooltip(\''+s(n.encodeJS.call(null!=a?a:{},i[0][1],{name:"encodeJS",hash:{},data:l,blockParams:i}))+"',false,'left',this )\"\n\t\t\t\t\tonmouseout=\"crmui.hideTooltip()\">"+s(e.lambda(i[0][0],a))+"</span> "},7:function(e,a,n,t,l,i,s){var o,r=null!=a?a:{};return' <div class="linkToPotImg mT1 dIB vaM" '+(null!=(o=n.if.call(r,n.getObjectByKey.call(r,null!=s[2]?s[2].ticketPotentials:s[2],null!=s[1]?s[1].id:s[1],{name:"getObjectByKey",hash:{},data:l}),{name:"if",hash:{},fn:e.program(8,l,0,i,s),inverse:e.program(10,l,0,i,s),data:l}))?o:"")+'> <span class="Potentials-small mR5 vaM" style="margin-left: 0px;"></span> </div> '},8:function(e,a,n,t,l){return" "},10:function(e,a,n,t,l){return' style="display:none" '},12:function(e,a,n,t,l){return" vH "},14:function(e,a,n,t,l,i,s){var o;return" "+(null!=(o=n.if.call(null!=a?a:{},null!=a?a.assigneeDetail:a,{name:"if",hash:{},fn:e.program(15,l,0,i,s),inverse:e.program(20,l,0,i,s),data:l,blockParams:i}))?o:"")+" "},15:function(e,a,n,t,l,i,s){var o;return" "+(null!=(o=n.if.call(null!=a?a:{},null!=s[1]?s[1].agent:s[1],{name:"if",hash:{},fn:e.program(16,l,0,i,s),inverse:e.program(18,l,0,i,s),data:l}))?o:"")+" "},16:function(e,a,n,t,l,i,s){var o,r=null!=a?a:{},c=e.escapeExpression,d=e.lambda;return' <td class="relList_dataele assigneeTd" data-params="'+c(n.ObjToString.call(r,null!=s[1]?s[1].agent:s[1],{name:"ObjToString",hash:{},data:l}))+'" onmouseleave="deskInteg.showHideAgentInfoBC(false, event);"> <div class="dIB vaM mR10"> <img class="circle_30"\n\t\t\t\t\t\tsrc="'+c(n.getUserImg.call(r,null!=(o=null!=s[1]?s[1].agent:s[1])?o.zuid:o,{name:"getUserImg",hash:{},data:l}))+'"> </div> <div class="dIB vaM cP" onmouseenter="deskInteg.showHideAgentInfoBC(true, this);"> <span class="assigneeName">'+c(d(null!=(o=null!=s[1]?s[1].agent:s[1])?o.firstName:o,a))+" "+c(d(null!=(o=null!=s[1]?s[1].agent:s[1])?o.lastName:o,a))+"</span> </div> </td> "},18:function(e,a,n,t,l){return' <td class="relList_dataele assigneeTd" data-params=""> </td> '},20:function(e,a,n,t,l,i,s){var o;return" "+(null!=(o=n.if.call(null!=a?a:{},null!=a?a.isCustomField:a,{name:"if",hash:{},fn:e.program(21,l,0,i,s),inverse:e.program(27,l,0,i,s),data:l,blockParams:i}))?o:"")+" "},21:function(e,a,n,t,l,i,s){var o;return" "+(null!=(o=n.if.call(null!=a?a:{},null!=a?a.isDateField:a,{name:"if",hash:{},fn:e.program(22,l,0,i,s),inverse:e.program(25,l,0,i,s),data:l,blockParams:i}))?o:"")+" "},22:function(e,a,n,t,l,i,s){var o,r=null!=a?a:{};return' <td class="relList_dataele dateDetail"> '+(null!=(o=n.getTimeInUserTZ.call(r,n.getObjectByKey.call(r,null!=s[1]?s[1].customFields:s[1],null!=a?a.name:a,{name:"getObjectByKey",hash:{},data:l,blockParams:i}),null!=a?a.name:a,{name:"getTimeInUserTZ",hash:{},fn:e.program(23,l,2,i,s),inverse:e.noop,data:l,blockParams:i}))?o:"")+" </td> "},23:function(e,a,n,t,l,i){var s=e.lambda,o=e.escapeExpression;return' <span class="cDefault" onmouseover="crmui.showTooltip(\''+o(s(i[0][1],a))+"',false,'center',this)\" onmouseout=\"crmui.hideTooltip()\">"+o(s(i[0][0],a))+"</span> "},25:function(e,a,n,t,l,i,s){return' <td class="relList_dataele">'+e.escapeExpression(n.getObjectByKey.call(null!=a?a:{},null!=s[1]?s[1].customFields:s[1],null!=a?a.name:a,{name:"getObjectByKey",hash:{},data:l}))+" </td> "},27:function(e,a,n,t,l,i,s){var o;return" "+(null!=(o=n.if.call(null!=a?a:{},null!=a?a.isDateField:a,{name:"if",hash:{},fn:e.program(28,l,0,i,s),inverse:e.program(30,l,0,i,s),data:l,blockParams:i}))?o:"")},28:function(e,a,n,t,l,i,s){var o,r=null!=a?a:{};return' <td class="relList_dataele dateDetail"> '+(null!=(o=n.getTimeInUserTZ.call(r,n.getObjectByKey.call(r,s[1],null!=a?a.name:a,{name:"getObjectByKey",hash:{},data:l}),null!=a?a.name:a,{name:"getTimeInUserTZ",hash:{},fn:e.program(23,l,2,i,s),inverse:e.noop,data:l}))?o:"")+" </td> "},30:function(e,a,n,t,l,i,s){var o;return" "+(null!=(o=n.if.call(null!=a?a:{},null!=a?a.crmContact:a,{name:"if",hash:{},fn:e.program(31,l,0,i,s),inverse:e.program(34,l,0,i,s),data:l,blockParams:i}))?o:"")+" "},31:function(e,a,n,t,l,i,s){var o;return' <td class="relList_dataele"> '+(null!=(o=n.executeIfObjPresent.call(null!=a?a:{},null!=s[2]?s[2].emailContacts:s[2],null!=(o=null!=s[1]?s[1].contact:s[1])?o.email:o,{name:"executeIfObjPresent",hash:{},fn:e.program(32,l,1,i,s),inverse:e.noop,data:l,blockParams:i}))?o:"")+" </td> "},32:function(e,a,n,t,l,i){var s,o=e.lambda,r=e.escapeExpression;return' <link-to lt-prop-route="crm.tab.module.entity" lt-prop-dp=\'["Contacts","'+r(o(null!=(s=i[0][0])?s.contactId:s,a))+'"]\' lt-prop-target="blank"> '+r(o(null!=(s=i[0][0])?s.contact:s,a))+" </link-to> "},34:function(e,a,n,t,l,i,s){var o;return" "+(null!=(o=n.if.call(null!=a?a:{},null!=a?a.crmPotential:a,{name:"if",hash:{},fn:e.program(35,l,0,i,s),inverse:e.program(38,l,0,i,s),data:l,blockParams:i}))?o:"")+" "},35:function(e,a,n,t,l,i,s){var o;return' <td id="deskPotentialtd" class="relList_dataele"> '+(null!=(o=n.executeIfObjPresent.call(null!=a?a:{},null!=s[2]?s[2].ticketPotentials:s[2],null!=s[1]?s[1].id:s[1],{name:"executeIfObjPresent",hash:{},fn:e.program(36,l,1,i,s),inverse:e.noop,data:l,blockParams:i}))?o:"")+" </td> "},36:function(e,a,n,t,l,i){var s,o=e.lambda,r=e.escapeExpression;return' <link-to lt-prop-route="crm.tab.module.entity" lt-prop-dp=\'["Potentials","'+r(o(null!=(s=i[0][0])?s.potentialId:s,a))+'"]\' lt-prop-target="blank"> '+r(o(null!=(s=i[0][0])?s.potential:s,a))+" </link-to> "},38:function(e,a,n,t,l,i,s){var o,r=null!=a?a:{};return' <td class="relList_dataele '+(null!=(o=n.ifEquals.call(r,null!=a?a.name:a,"status",{name:"ifEquals",hash:{},fn:e.program(39,l,0,i,s),inverse:e.noop,data:l}))?o:"")+'">'+e.escapeExpression(n.getObjectByKey.call(r,s[1],null!=a?a.name:a,{name:"getObjectByKey",hash:{},data:l}))+"</td> "},39:function(e,a,n,t,l,i,s){return" status_"+e.escapeExpression(e.lambda(null!=s[1]?s[1].status:s[1],a))+" "},41:function(e,a,n,t,l){var i;return" "+(null!=(i=n.if.call(null!=a?a:{},null!=a?a.ticketError:a,{name:"if",hash:{},fn:e.program(42,l,0),inverse:e.program(44,l,0),data:l}))?i:"")+" "},42:function(e,a,n,t,l){var i=null!=a?a:{},s=e.escapeExpression;return' <tr> <td valign="top" id="supportDiv" colspan="15"> <div class="norec pR30  fontsmooth">'+s(n.getI18n.call(i,null!=a?a.ticketError:a,{name:"getI18n",hash:{},data:l}))+' <a style="display:none"  id="noTicket_newTicketLink" class="cP dIB vaM createlink" onclick="deskInteg.showCreateTicketPopup()" >'+s(n.getI18n.call(i,"crm.zdesk.newticket",{name:"getI18n",hash:{},data:l}))+"</a> </div> </td> </tr> "},44:function(e,a,n,t,l){var i;return' <table id="ticketPageTable"> '+(null!=(i=n.ifCondLogic.call(null!=a?a:{},null!=a?a.next:a,"=","true","||",null!=a?a.pageNum:a,">","0",{name:"ifCondLogic",hash:{},fn:e.program(45,l,0),inverse:e.noop,data:l}))?i:"")+" </table> "},45:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.lambda,r=e.escapeExpression;return' <tbody> <tr> <td id="ticketPrev"> '+(null!=(i=n.if_gt.call(s,null!=a?a.pageNum:a,0,{name:"if_gt",hash:{},fn:e.program(46,l,0),inverse:e.program(48,l,0),data:l}))?i:"")+' </td> <input type="hidden" id="ticketPage" value="'+r(o(null!=a?a.pageNum:a,a))+'" > <td class="vaM" ><b>'+r(o(null!=a?a.from:a,a))+" to "+r(o(null!=a?a.to:a,a))+' </b> </td> <td id="ticketNext"> '+(null!=(i=n.if_eq.call(s,null!=a?a.next:a,"true",{name:"if_eq",hash:{},fn:e.program(50,l,0),inverse:e.program(52,l,0),data:l}))?i:"")+" </td> </tr> </tbody> "},46:function(e,a,n,t,l){return' <a class="link dIB vaM" data-zcqa="desk_prevpage"\tonClick=\'deskInteg.getDeskTickets(event,'+e.escapeExpression(n.arithResult.call(null!=a?a:{},null!=a?a.pageNum:a,"-",1,{name:"arithResult",hash:{},data:l}))+',false)\'> <span class="previous dIB"></span> </a> '},48:function(e,a,n,t,l){return' <span class="previous_disabled dIB vaM"></span> '},50:function(e,a,n,t,l){return' <a class="link dIB vaM" data-zcqa="desk_nextpage" onClick=\'deskInteg.getDeskTickets(event,'+e.escapeExpression(n.arithResult.call(null!=a?a:{},null!=a?a.pageNum:a,"+",1,{name:"arithResult",hash:{},data:l}))+',true);\'> <span class="next dIB"></span> </a> '},52:function(e,a,n,t,l){return' <span class="nextDisabled dIB vaM"></span> '},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l,i,s){var o;return" "+(null!=(o=n.if.call(null!=a?a:{},null!=a?a.tickets:a,{name:"if",hash:{},fn:e.program(1,l,0,i,s),inverse:e.program(41,l,0,i,s),data:l,blockParams:i}))?o:"")+"  "},useData:!0,useDepths:!0,useBlockParams:!0}),a.zdeskUpdateTickets=e({1:function(e,a,n,t,l){var i=e.lambda,s=e.escapeExpression;return' <option value="'+s(i(null!=a?a.name:a,a))+'">'+s(i(null!=a?a.i18NLabel:a,a))+"</option> "},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,l){var i,s=null!=a?a:{},o=e.escapeExpression;return' <div id="tktFldPop"\n\tstyle="min-width: 600px; display: block; left: 720px; top: 143px; margin-left: -220px; margin-top: -133px; position: fixed;"\n\tclass="br_border4 br3 bg_white zi31"> <p class="tktFldPopHead crm-font-bold">'+o(n.getI18n.call(s,"crm.label.updateField",{name:"getI18n",hash:{},data:l}))+'</p> <div class="pL30 pR30"> <div class="tabDivCreate"> <div class="labelTabCreate pL5 pR fL">'+o(n.getI18n.call(s,"crm.zdesk.update.sel",{name:"getI18n",hash:{},data:l}))+'</div> <div class="labelValCreate fL"> <div class="createSelect newChosenSel"> <select id="updateFieldName" data-zcqa="desk_fieldselect" onchange="deskInteg.updateNewValueField(this)"> '+(null!=(i=n.each.call(s,null!=a?a.updateableFields:a,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+' </select> </div> </div> <div class="cBoth"></div> </div> <div class="tabDivCreate"> <div id="deskupdateFieldMsg" class="labelTabCreate pL5 pR fL">'+o(n.getI18n.call(s,"crm.zdesk.update.enter",{name:"getI18n",hash:{},data:l}))+'</div> <div class="labelValCreate fL"> <div class="createSelect newChosenSel" id="fieldUpdSelectOption"> <select id="fieldUpdSelect" data-zcqa="desk_picklistfield"></select> </div> <div id="fieldUpdTextOption" class="" style="display: none;"> <div id="plainText" data-zcqa="desk_textfield" style="display: none;"> <input type="text" class="textField"> </div> <div id="dateText"> <input id="deskDate" data-zcqa="desk_datefield" type="text" class="textField fL" style="width: 85px;" placeholder="'+o(e.lambda(null!=a?a.datePattern:a,a))+'" onClick="crmCalendar.showCalendar(event)"> <span> <input id="deskTime" type="text" class="textField ddTime" fldlabel="ticket_date" isproperty="true" placeholder="hh:mm" style="padding: 0px 5px !important;"> <span id="ticket_date_ampmSpan" class="fL ampmSpan" style="padding-top: 0px;"></span> <input type="hidden" name="property(ticket_dateampm)" value="AM"> </span> <div class="cBoth"></div> </div> <span class="errMsg errorMsgDesc" id="errorMsg_TicketField" style="clear: both; color: rgb(221, 0, 0); font-size: var(--crm-extra-medium-font-size); display: block;"></span> </div> </div> <div class="cBoth"></div> </div> </div> <div class="p20 alignRight"> <input type="button" class="newwhitebtn mR20" value="'+o(n.getI18n.call(s,"crm.button.cancel",{name:"getI18n",hash:{},data:l}))+'" data-zcqa="desk_updatecancel"\n\t\t\tonclick="deskInteg.closeTicketUpdatePop()"> <input type="button" data-zcqa="desk_ticketupdate"\n\t\t\tclass="primarybtn" value="'+o(n.getI18n.call(s,"crm.button.update",{name:"getI18n",hash:{},data:l}))+'" onclick="deskInteg.updateFields()"> </div> </div> '},useData:!0})}();var dsNotificationScheduler={fiveSecondsMinimize:null,initProgressDiv:function(){var e=$("#wmsstatusbar"),a=$("#dsProgressIcon"),n=e.find("tr");if(n.find(a).length<=0){n.prepend('<td id="dsProgressIcon" class="pR dN"><div class="cP pR crm-wms-icon pT5 w40" onclick="dsNotificationScheduler.hideInSchedularBar(this);"><span class="svgIcons rls-progress-icon dIB"></span></div></td>')}},minimizeSchedular:function(){dsNotificationScheduler.fiveSecondsMinimize=setTimeout((function(){$("#dsSchNotificationPopup").removeClass("schedularOpen"),$("#dsProgressIcon").find(".crm-wms-icon").addClass("insideBar")}),5e3)},initSchDiv:function(e){if(0===$("#dsSchNotificationPopup").length){var a='<div id="dsSchNotificationPopup" class="pFixed schedularProgress-pop schedularOpen"><div class="schedularPop-Header"><h2 class="crm-subheading-font-size pT7 pR10 pB7 pL18 crm-font-regular">';a+=I18n.getMsg(e),a+='<a href="javascript:;" id="dsTitle" class="dB fR minimizeSchedularPop pR mT5" onclick="dsNotificationScheduler.minimizeSchedularPopup();"></a></h2></div><ul class="m0 pL20 pR20 tduScheduledList"></ul>',$("body").append(a)}},minimizeSchedularPopup:function(){$("#dsSchNotificationPopup").removeClass("schedularOpen"),$("#dsProgressIcon").find(".crm-wms-icon").addClass("insideBar"),dsNotificationScheduler.permenentRemovePop()},hideInSchedularBar:function(e){var a=$(e);a.hasClass("insideBar")?($("#dsSchNotificationPopup").addClass("schedularOpen"),a.removeClass("insideBar")):($("#dsSchNotificationPopup").removeClass("schedularOpen"),a.addClass("insideBar"),dsNotificationScheduler.permenentRemovePop()),clearTimeout(dsNotificationScheduler.fiveSecondsMinimize)},permenentRemovePop:function(){0===$(".progressBarAnime").length&&($("#dsSchNotificationPopup").removeClass("schedularOpen",(function(){var e=$("#dsSchNotificationPopup");e.find("ul.tduScheduledList").empty(),e.remove()})),$("#dsProgressIcon").addClass("dN"))},addOrUpdateSchedulerStatus:function(e,a,n){this.initProgressDiv(),$("#dsProgressIcon").removeClass("dN"),this.initSchDiv(a);var t=$("#picklist_pop_"+e.id),l=$("#dsSchNotificationPopup"),i=l.find("ul.tduScheduledList");"progress"===e.status?dsNotificationScheduler.minimizeSchedular():clearTimeout(dsNotificationScheduler.fiveSecondsMinimize),0===t.length?(dsNotificationScheduler.minimizeSchedular(),i.append('<li class="m0 p20 tduScheduledList scheduledDataList picklistReplaceList" id ="picklist_pop_'+e.id+'">'),t=$("#picklist_pop_"+e.id),l.addClass("schedularOpen")):t.empty();var s=networkUtils.returnDependencyFiles(["crm-datasharing-notification.js"],ResourceConstants.CRMClient);Lyte.injectResources(s,void 0,(function(){if("progress"===e.status||"success"===e.status||"error"===e.status){var a=[],t=[];n&&n.length>0&&("success"===e.status?(t=n.filter((e=>e.isSkipped)),0===(a=n.filter((e=>!1===e.isSkipped))).length&&(e.status="skipped")):t=n),Lyte.Component.render("crm-datasharing-notification",{title:e.title,message:e.message,skippedMessage:e.skippedMessage,status:e.status,jobId:e.id,successRules:a,failedRules:t,module:e.module},"#picklist_pop_"+e.id)}if(dsNotificationScheduler.updateIconInTitleBar(),l.addClass("schedularOpen"),l.find("li").length>3){var s=renderingUtils.windowHeight/4*3;i.css("max-height",s).addClass("oA")}}))},updateIconInTitleBar:function(){0===$(".progressBarAnime").length?$("#dsTitle").removeClass("minimizeSchedularPop").addClass("closeSchedularPop"):$("#dsTitle").removeClass("closeSchedularPop").addClass("minimizeSchedularPop")}},automationActionsNotificationScheduler={singleRecordOffloadTimeout:null,changeOwnerOffloadTimeout:null,massUpdateOffloadTimeout:null,popupTimeout:null,initProgressDiv:function(){var e=$("#wmsstatusbar"),a=$("#wfActionsProgressIcon"),n=e.find("tr");if(n.find(a).length<=0){n.prepend('<td id="wfActionsProgressIcon" class="pR dN"><div class="cP pR crm-wms-icon pT5 w40" onclick="automationActionsNotificationScheduler.hideInSchedularBar();"><span class="svgIcons rls-progress-icon dIB"></span></div></td>')}},initSchDiv:function(e){if(0===$("#automationSchNotificationPopup").length){var a='<div id="automationSchNotificationPopup" class="pFixed schedularProgress-pop"><div class="schedularPop-Header"><h2 class="crm-subheading-font-size pT7 pR10 pB7 pL18 crm-font-regular">';a+=e,a+='<a href="javascript:;" class="dB fR minimizeSchedularPop pR mT5" onclick="automationActionsNotificationScheduler.minimizeSchedularPopup();"></a></h2></div><ul class="m0 pL20 pR20 tduScheduledList"></ul>',$("body").append(a)}},minimizeSchedularPopup:function(){$("#automationSchNotificationPopup").removeClass("schedularOpen"),$("#wfActionsProgressIcon").find(".crm-wms-icon").addClass("insideBar")},hideInSchedularBar:function(){var e=$("#automationSchNotificationPopup");e.hasClass("schedularOpen")?e.removeClass("schedularOpen"):e.addClass("schedularOpen")},addOrUpdateWFPopupStatus:function(e,a){this.initProgressDiv(),$("#wfActionsProgressIcon").removeClass("dN"),this.initSchDiv(a);var n=$("#wfActions_"),t=$("#automationSchNotificationPopup"),l=t.find("ul.tduScheduledList");0===n.length?(l.append('<li class="m0 p20 tduScheduledList scheduledDataList picklistReplaceList" id ="wfActions_'+e.id+'">'),n=$("#wfActions_"+e.id)):n.empty();var i=networkUtils.returnDependencyFiles(["crm-datasharing-notification.js"],ResourceConstants.CRMClient);i=i.concat(networkUtils.returnDependencyFiles([networkUtils.getI18nJSUrl("automationActionsNotification")],ResourceConstants.CRM)),Lyte.injectResources(i,void 0,(function(){if("progress"!==e.status&&"success"!==e.status&&"error"!==e.status||Lyte.Component.render("crm-datasharing-notification",{title:e.title,message:e.message,status:e.status,jobId:e.id},"#wfActions_"+e.id),$(".schedularMsg").find("p").removeClass("succesIcoSchedular"),t.addClass("schedularOpen"),e.jobId&&t.addClass(e.jobId),t.find("li").length>3){var a=renderingUtils.windowHeight/4*3;l.css("max-height",a).addClass("oA")}})),clearTimeout(automationActionsNotificationScheduler.popupTimeout),automationActionsNotificationScheduler.popupTimeout=setTimeout((function(){automationActionsNotificationScheduler.popupTimeout=null,automationActionsNotificationScheduler.minimizeSchedularPopup()}),5e3)},showAutomationSchNotificationProgress:function(e){$("#automationSchNotificationPopup").remove();var a=networkUtils.returnDependencyFiles([networkUtils.getI18nJSUrl("automationActionsNotification")],ResourceConstants.CRM);Lyte.injectResources(a,void 0,(function(){var a={};a.message=I18n.getMsg("crm.automation.workflow.notification.inprogress.message"),a.status="success",a.jobId=e,automationActionsNotificationScheduler.addOrUpdateWFPopupStatus(a,I18n.getMsg("crm.automation.workflow.notification.inprogress.title"))}))},showNotificationInProgress:function(e,a,n){var t,l={};l.jobId=e,refreshPageForBulkWorkFlowScheduler(l),null!=a&&a.remove(),automationActionsNotificationScheduler.showAutomationSchNotificationProgress(),1==n?t="_singleRecord":n>1&&n<10?t="_2to9":n>=10&&n<100?t="10to99":n>=100&&(t="above99"),Crm.client_tracking("automationSchNotificationPopup"+t)},setTimeoutForAutomationActionsOffload:function(e){var a;return 1==e?a=1e3:e>1&&e<100?a=3e3:e>=100&&(a=5e3),a}};