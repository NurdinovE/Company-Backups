!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.ZWAF=e()}(this,function(){"use strict";var et=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){var i=e,r=[],n=!0,e=!1,s=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done)&&(r.push(a.value),!i||r.length!==i);n=!0);}catch(t){e=!0,s=t}finally{try{!n&&o.return&&o.return()}finally{if(e)throw s}}return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")},it=function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t};function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function rt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}a=void 0,l=function(t){function d(t){return(t>>>24&255|t>>>8&65280|(65280&t)<<8|(255&t)<<24)>>>0}var G=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];function h(t){return t instanceof ArrayBuffer?new Uint8Array(t):ArrayBuffer.isView(t)?t instanceof Uint8Array?t:new Uint8Array(t.buffer,t.byteOffset,t.byteLength):void 0}function n(t){var e=t.map(function(t){return t.byteLength}).reduce(function(t,e){return t+e},0),i=new Uint8Array(e),r=0,n=!0,e=!1,s=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var h=a.value;i.set(h,r),r+=h.length}}catch(t){e=!0,s=t}finally{try{!n&&o.return&&o.return()}finally{if(e)throw s}}return i}function l(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,t=h(t);if(t)return function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,i=e>>>16&65535,r=(e&=65535,t.length),n=0;for(;o<=r;){r-=o;for(var s=o/16;e+=t[n++],i+=e,e+=t[n++],i+=e,e+=t[n++],i+=e,e+=t[n++],i+=e,e+=t[n++],i+=e,e+=t[n++],i+=e,e+=t[n++],i+=e,e+=t[n++],i+=e,e+=t[n++],i+=e,e+=t[n++],i+=e,e+=t[n++],i+=e,e+=t[n++],i+=e,e+=t[n++],i+=e,e+=t[n++],i+=e,e+=t[n++],i+=e,e+=t[n++],i+=e,--s;);e%=a,i+=a}if(r){for(;16<=r;)r-=16,e+=t[n++],i+=e,e+=t[n++],i+=e,e+=t[n++],i+=e,e+=t[n++],i+=e,e+=t[n++],i+=e,e+=t[n++],i+=e,e+=t[n++],i+=e,e+=t[n++],i+=e,e+=t[n++],i+=e,e+=t[n++],i+=e,e+=t[n++],i+=e,e+=t[n++],i+=e,e+=t[n++],i+=e,e+=t[n++],i+=e,e+=t[n++],i+=e,e+=t[n++],i+=e;for(;r--;)e+=t[n++],i+=e;e%=a,i%=a}return e|i<<16}(t,e);throw new TypeError("source must be a BufferSource")}var a=65521,o=5552;function c(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,t=h(t);if(t)return U(t,e);throw new TypeError("source must be a BufferSource")}var D=new Uint32Array([1]),U=1===new Uint8Array(D.buffer,0,1)[0]?function(t){var e=~(1<arguments.length&&void 0!==arguments[1]?arguments[1]:0),i=t.byteOffset,r=0,n=t.byteLength,s=f[0],a=f[1],o=f[2],h=f[3];for(;n&&3&i;)e=s[255&(e^t[r++])]^e>>>8,n--,i++;var l=new Uint32Array(t.buffer,i,n>>>2),c=0;for(;32<=n;)e^=l[c++],e=h[255&e]^o[e>>>8&255]^a[e>>>16&255]^s[e>>>24],e^=l[c++],e=h[255&e]^o[e>>>8&255]^a[e>>>16&255]^s[e>>>24],e^=l[c++],e=h[255&e]^o[e>>>8&255]^a[e>>>16&255]^s[e>>>24],e^=l[c++],e=h[255&e]^o[e>>>8&255]^a[e>>>16&255]^s[e>>>24],e^=l[c++],e=h[255&e]^o[e>>>8&255]^a[e>>>16&255]^s[e>>>24],e^=l[c++],e=h[255&e]^o[e>>>8&255]^a[e>>>16&255]^s[e>>>24],e^=l[c++],e=h[255&e]^o[e>>>8&255]^a[e>>>16&255]^s[e>>>24],e^=l[c++],e=h[255&e]^o[e>>>8&255]^a[e>>>16&255]^s[e>>>24],n-=32;for(;4<=n;)e^=l[c++],e=h[255&e]^o[e>>>8&255]^a[e>>>16&255]^s[e>>>24],n-=4;if(n)for(r+=4*c;e=s[255&(e^t[r++])]^e>>>8,--n;);return e=~e}:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=~d(e),r=t.byteOffset,n=0,s=t.byteLength,a=f[4],o=f[5],h=f[6],l=f[7];for(;s&&3&r;)i=a[i>>>24^t[n++]]^i<<8,s--,r++;var c=new Uint32Array(t.buffer,r,s>>>2),u=0;for(;32<=s;)i^=c[u++],i=a[255&i]^o[i>>>8&255]^h[i>>>16&255]^l[i>>>24],i^=c[u++],i=a[255&i]^o[i>>>8&255]^h[i>>>16&255]^l[i>>>24],i^=c[u++],i=a[255&i]^o[i>>>8&255]^h[i>>>16&255]^l[i>>>24],i^=c[u++],i=a[255&i]^o[i>>>8&255]^h[i>>>16&255]^l[i>>>24],i^=c[u++],i=a[255&i]^o[i>>>8&255]^h[i>>>16&255]^l[i>>>24],i^=c[u++],i=a[255&i]^o[i>>>8&255]^h[i>>>16&255]^l[i>>>24],i^=c[u++],i=a[255&i]^o[i>>>8&255]^h[i>>>16&255]^l[i>>>24],i^=c[u++],i=a[255&i]^o[i>>>8&255]^h[i>>>16&255]^l[i>>>24],s-=32;for(;4<=s;)i^=c[u++],i=a[255&i]^o[i>>>8&255]^h[i>>>16&255]^l[i>>>24],s-=4;if(s)for(n+=4*u;i=a[i>>>24^t[n++]]^i<<8,--s;);return d(i=~i)};var f=function(){for(var t=new ArrayBuffer(8192),e=[new Uint32Array(t,0,256),new Uint32Array(t,1024,256),new Uint32Array(t,2048,256),new Uint32Array(t,3072,256),new Uint32Array(t,4096,256),new Uint32Array(t,5120,256),new Uint32Array(t,6144,256),new Uint32Array(t,7168,256)],i=0;i<256;i++){for(var r=i,n=0;n<8;n++)r=1&r?3988292384^r>>>1:r>>>1;e[0][i]=r,e[4][i]=d(r)}for(var s=0;s<256;s++)for(var a=e[0][s],o=1;o<4;o++)a=e[0][255&a]^a>>>8,e[o][s]=a,e[o+4][s]=d(a);return e}(),u=16384,B=(it(e,[{key:"append",value:function(t){this.next_in=t,this.avail_in=t.length,this.next_in_index=0}},{key:"read_buf",value:function(t,e){return this.next_in.subarray(t,t+e)}},{key:"read_into_buf",value:function(t,e,i){var r=this.avail_in;return 0===(r=i<r?i:r)?0:(t.set(this.next_in.subarray(this.next_in_index,this.next_in_index+r),e),this.avail_in-=r,this.next_in_index+=r,this.total_in+=r,r)}},{key:"flush_pending",value:function(t){var e=t.pending;0!==(e=e>this.avail_out?this.avail_out:e)&&(this.next_out.set(t.pending_buf.subarray(t.pending_out,t.pending_out+e),this.next_out_index),this.next_out_index+=e,t.pending_out+=e,this.total_out+=e,this.avail_out-=e,t.pending-=e,0===t.pending)&&(t.pending_out=0)}}]),e);function e(){rt(this,e),this.avail_in=0,this.next_in_index=0,this.next_out=new Uint8Array(u),this.avail_out=this.next_out.byteLength,this.next_out_index=0,this.total_in=this.total_out=0,this.msg=""}function F(){var f=void 0,_=0,y=void 0,m=0,v=0,b=0,g=0,p=0,w=0,k=0,x=void 0,A=0,E=void 0,S=0;return{init:function(t,e,i,r,n,s){f=0,w=t,k=e,x=i,A=r,E=n,S=s},proc:function(t,e,i){for(var r=void 0,n=void 0,s=void 0,a=0,o=0,h=0,l=void 0,c=void 0,u=void 0,d=void 0,h=e.next_in_index,l=e.avail_in,a=t.bitb,o=t.bitk,u=(c=t.write)<t.read?t.read-c-1:t.end-c;;)switch(f){case 0:if(258<=u&&10<=l&&(t.bitb=a,t.bitk=o,e.avail_in=l,e.total_in+=h-e.next_in_index,e.next_in_index=h,t.write=c,i=function(t,e,i,r,n,s,a,o){var h,l=void 0,c=void 0,u=void 0,d=void 0,f=void 0,_=void 0,y=void 0,m=void 0,v=void 0,b=void 0,g=void 0,p=void 0,w=void 0,y=o.next_in_index,m=o.avail_in,f=a.bitb,_=a.bitk,b=(v=a.write)<a.read?a.read-v-1:a.end-v,k=G[t],x=G[e];do{for(;_<20;)m--,f|=(255&o.next_in[y++])<<_,_+=8;if(0===(d=(c=i)[w=3*((u=r)+(l=f&k))]))f>>=c[w+1],_-=c[w+1],a.window[v++]=c[w+2],b--;else for(;;){if(f>>=c[w+1],_-=c[w+1],0!=(16&d)){for(d&=15,g=c[w+2]+(f&G[d]),f>>=d,_-=d;_<15;)m--,f|=(255&o.next_in[y++])<<_,_+=8;for(d=(c=n)[w=3*((u=s)+(l=f&x))];;){if(f>>=c[w+1],_-=c[w+1],0!=(16&d)){for(d&=15;_<d;)m--,f|=(255&o.next_in[y++])<<_,_+=8;if(h=c[w+2]+(f&G[d]),f>>=d,_-=d,b-=g,h<=v)p=v-h,a.window[v++]=a.window[p++],a.window[v++]=a.window[p++],g-=2;else{for(p=v-h;(p+=a.end)<0;);if((d=a.end-p)<g){for(g-=d;a.window[v++]=a.window[p++],0!=--d;);p=0}}for(;a.window[v++]=a.window[p++],0!=--g;);break}if(0!=(64&d))return o.msg="invalid distance code",m+=g=_>>3<(g=o.avail_in-m)?_>>3:g,y-=g,_-=g<<3,a.bitb=f,a.bitk=_,o.avail_in=m,o.total_in+=y-o.next_in_index,o.next_in_index=y,a.write=v,-3;d=c[w=3*(u+(l=(l+=c[w+2])+(f&G[d])))]}break}if(0!=(64&d))return 0!=(32&d)?(m+=g=_>>3<(g=o.avail_in-m)?_>>3:g,y-=g,_-=g<<3,a.bitb=f,a.bitk=_,o.avail_in=m,o.total_in+=y-o.next_in_index,o.next_in_index=y,a.write=v,1):(o.msg="invalid literal/length code",m+=g=_>>3<(g=o.avail_in-m)?_>>3:g,y-=g,_-=g<<3,a.bitb=f,a.bitk=_,o.avail_in=m,o.total_in+=y-o.next_in_index,o.next_in_index=y,a.write=v,-3);if(0===(d=c[w=3*(u+(l=(l+=c[w+2])+(f&G[d])))])){f>>=c[w+1],_-=c[w+1],a.window[v++]=c[w+2],b--;break}}}while(258<=b&&10<=m);return m+=g=_>>3<(g=o.avail_in-m)?_>>3:g,y-=g,_-=g<<3,a.bitb=f,a.bitk=_,o.avail_in=m,o.total_in+=y-o.next_in_index,o.next_in_index=y,a.write=v,0}(w,k,x,A,E,S,t,e),h=e.next_in_index,l=e.avail_in,a=t.bitb,o=t.bitk,u=(c=t.write)<t.read?t.read-c-1:t.end-c,0!==i)){f=1===i?7:9;break}v=w,y=x,m=A,f=1;case 1:for(r=v;o<r;){if(0===l)return t.bitb=a,t.bitk=o,e.avail_in=l,e.total_in+=h-e.next_in_index,e.next_in_index=h,t.write=c,t.inflate_flush(e,i);i=0,l--,a|=(255&e.next_in[h++])<<o,o+=8}if(n=3*(m+(a&G[r])),a>>>=y[n+1],o-=y[n+1],0===(s=y[n]))b=y[n+2],f=6;else if(0!=(16&s))g=15&s,_=y[n+2],f=2;else if(0==(64&s))v=s,m=n/3+y[n+2];else{if(0==(32&s))return f=9,e.msg="invalid literal/length code",i=-3,t.bitb=a,t.bitk=o,e.avail_in=l,e.total_in+=h-e.next_in_index,e.next_in_index=h,t.write=c,t.inflate_flush(e,i);f=7}break;case 2:for(r=g;o<r;){if(0===l)return t.bitb=a,t.bitk=o,e.avail_in=l,e.total_in+=h-e.next_in_index,e.next_in_index=h,t.write=c,t.inflate_flush(e,i);i=0,l--,a|=(255&e.next_in[h++])<<o,o+=8}_+=a&G[r],a>>=r,o-=r,v=k,y=E,m=S,f=3;case 3:for(r=v;o<r;){if(0===l)return t.bitb=a,t.bitk=o,e.avail_in=l,e.total_in+=h-e.next_in_index,e.next_in_index=h,t.write=c,t.inflate_flush(e,i);i=0,l--,a|=(255&e.next_in[h++])<<o,o+=8}if(n=3*(m+(a&G[r])),a>>=y[n+1],o-=y[n+1],0!=(16&(s=y[n])))g=15&s,p=y[n+2],f=4;else{if(0!=(64&s))return f=9,e.msg="invalid distance code",i=-3,t.bitb=a,t.bitk=o,e.avail_in=l,e.total_in+=h-e.next_in_index,e.next_in_index=h,t.write=c,t.inflate_flush(e,i);v=s,m=n/3+y[n+2]}break;case 4:for(r=g;o<r;){if(0===l)return t.bitb=a,t.bitk=o,e.avail_in=l,e.total_in+=h-e.next_in_index,e.next_in_index=h,t.write=c,t.inflate_flush(e,i);i=0,l--,a|=(255&e.next_in[h++])<<o,o+=8}p+=a&G[r],a>>=r,o-=r,f=5;case 5:for(d=c-p;d<0;)d+=t.end;for(;0!==_;){if(0===u&&0===(u=c===t.end&&0!==t.read?(c=0)<t.read?t.read-c-1:t.end-c:u)&&(t.write=c,i=t.inflate_flush(e,i),u=(c=t.write)<t.read?t.read-c-1:t.end-c,0===(u=c===t.end&&0!==t.read?(c=0)<t.read?t.read-c-1:t.end-c:u)))return t.bitb=a,t.bitk=o,e.avail_in=l,e.total_in+=h-e.next_in_index,e.next_in_index=h,t.write=c,t.inflate_flush(e,i);t.window[c++]=t.window[d++],u--,d===t.end&&(d=0),_--}f=0;break;case 6:if(0===u&&0===(u=c===t.end&&0!==t.read?(c=0)<t.read?t.read-c-1:t.end-c:u)&&(t.write=c,i=t.inflate_flush(e,i),u=(c=t.write)<t.read?t.read-c-1:t.end-c,0===(u=c===t.end&&0!==t.read?(c=0)<t.read?t.read-c-1:t.end-c:u)))return t.bitb=a,t.bitk=o,e.avail_in=l,e.total_in+=h-e.next_in_index,e.next_in_index=h,t.write=c,t.inflate_flush(e,i);i=0,t.window[c++]=b,u--,f=0;break;case 7:if(7<o&&(o-=8,l++,h--),t.write=c,i=t.inflate_flush(e,i),u=(c=t.write)<t.read?t.read-c-1:t.end-c,t.read!==t.write)return t.bitb=a,t.bitk=o,e.avail_in=l,e.total_in+=h-e.next_in_index,e.next_in_index=h,t.write=c,t.inflate_flush(e,i);f=8;case 8:return i=1,t.bitb=a,t.bitk=o,e.avail_in=l,e.total_in+=h-e.next_in_index,e.next_in_index=h,t.write=c,t.inflate_flush(e,i);case 9:return i=-3,t.bitb=a,t.bitk=o,e.avail_in=l,e.total_in+=h-e.next_in_index,e.next_in_index=h,t.write=c,t.inflate_flush(e,i);default:return i=-2,t.bitb=a,t.bitk=o,e.avail_in=l,e.total_in+=h-e.next_in_index,e.next_in_index=h,t.write=c,t.inflate_flush(e,i)}}}}var Y=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],q=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],M=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],H=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],Z=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],Q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],S=15,L=void 0,V=[0],K=new Int32Array(S+1),C=new Int32Array(3),I=new Int32Array(S),P=new Int32Array(S+1);function W(t,e,i,r,n,s,a,o,h,l,c){for(var u,d=void 0,f=void 0,_=void 0,y=void 0,m=void 0,v=void 0,b=void 0,g=void 0,p=void 0,w=void 0,k=void 0,x=void 0,A=void 0,E=void 0,p=0,y=i;K[t[e+p]]++,p++,0!==--y;);if(K[0]===i)return a[0]=-1,o[0]=0;for(b=o[0],m=1;m<=S&&0===K[m];m++);for(b<(v=m)&&(b=m),y=S;0!==y&&0===K[y];y--);for((u=y)<b&&(b=y),o[0]=b,A=1<<m;m<y;m++,A<<=1)if((A-=K[m])<0)return-3;if((A-=K[y])<0)return-3;for(K[y]+=A,P[1]=m=0,p=1,x=2;0!=--y;)P[x]=m+=K[p],x++,p++;for(p=y=0;0!==(m=t[e+p])&&(c[P[m]++]=y),p++,++y<i;);for(i=P[u],P[0]=y=0,_=-1,k=-b,E=w=I[p=0]=0;v<=u;v++)for(d=K[v];0!=d--;){for(;k+b<v;){if(_++,E=b<(E=u-(k+=b))?b:E,d+1<(f=1<<(m=v-k))&&(f-=d+1,x=v,m<E))for(;++m<E&&!((f<<=1)<=K[++x]);)f-=K[x];if(1400<l[0]+(E=1<<m))return-3;I[_]=w=l[0],l[0]+=E,0!==_?(P[_]=y,C[0]=m,C[1]=b,C[2]=w-I[_-1]-(m=y>>>k-b),h.set(C,3*(I[_-1]+m))):a[0]=w}for(C[1]=v-k,i<=p?C[0]=192:c[p]<r?(C[0]=c[p]<256?0:96,C[2]=c[p++]):(C[0]=s[c[p]-r]+16+64,C[2]=n[c[p++]-r]),f=1<<v-k,m=y>>>k;m<E;m+=f)h.set(C,3*(w+m));for(m=1<<v-1;0!=(y&m);m>>>=1)y^=m;for(y^=m,g=(1<<k)-1;(y&g)!==P[_];)_--,g=(1<<(k-=b))-1}return 0!==A&&1!==u?-5:0}function j(t){L=new Int32Array(t);for(var e=0;e<S+1;e++)K[e]=0,I[e]=0,P[e]=0;for(var i=0;i<3;i++)C[i]=0}var J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],O=(it(i,[{key:"reset",value:function(){this.bitk=0,this.bitb=0,this.read=0,this.write=0,this.last=0}},{key:"inflate_flush",value:function(t,e){var i=void 0,r=void 0,n=void 0,r=t.next_out_index;return 0!==(i=(i=((n=this.read)<=this.write?this.write:this.end)-n)>t.avail_out?t.avail_out:i)&&-5===e&&(e=0),t.avail_out-=i,t.total_out+=i,t.next_out.set(this.window.subarray(n,n+i),r),r+=i,(n+=i)===this.end&&(n=0,this.write===this.end&&(this.write=0),0!==(i=(i=this.write-n)>t.avail_out?t.avail_out:i)&&-5===e&&(e=0),t.avail_out-=i,t.total_out+=i,t.next_out.set(this.window.subarray(n,n+i),r),r+=i,n+=i),t.next_out_index=r,this.read=n,e}},{key:"proc",value:function(t,e){for(var i,r,n,s,a,o,h,l,c,u,d,f,_,y=void 0,m=void 0,v=void 0,b=void 0,g=void 0,p=void 0,w=void 0,k=void 0,x=0,A=0,E=new Uint8Array(320),S=[0],K=[0],C=this.codes,I=this.hufts,b=t.next_in_index,g=t.avail_in,m=this.bitb,v=this.bitk,w=(p=this.write)<this.read?this.read-p-1:this.end-p;;)switch(this.mode){case 0:if(this.last)return 1;for(;v<3;){if(0===g)return this.bitb=m,this.bitk=v,t.avail_in=g,t.total_in+=b-t.next_in_index,t.next_in_index=b,this.write=p,this.inflate_flush(t,e);e=0,g--,m|=(255&t.next_in[b++])<<v,v+=8}switch(this.last=1&(y=7&m),y>>>1){case 0:m=m>>>3>>>(y=7&(v-=3)),v-=y,this.mode=1;break;case 1:var z=[0],T=[0],N=[[]],R=[[]];d=T,f=N,_=R,z[0]=9,d[0]=5,f[0]=Y,_[0]=q,C.init(z[0],T[0],N[0],0,R[0],0),m>>>=3,v-=3,this.mode=6;break;case 2:m>>>=3,v-=3,this.mode=3;break;case 3:return m>>>=3,v-=3,this.mode=9,t.msg="invalid block type",e=-3,this.bitb=m,this.bitk=v,t.avail_in=g,t.total_in+=b-t.next_in_index,t.next_in_index=b,this.write=p,this.inflate_flush(t,e)}break;case 1:for(;v<32;){if(0===g)return this.bitb=m,this.bitk=v,t.avail_in=g,t.total_in+=b-t.next_in_index,t.next_in_index=b,this.write=p,this.inflate_flush(t,e);e=0,g--,m|=(255&t.next_in[b++])<<v,v+=8}if((~m>>>16&65535)!=(65535&m))return this.mode=9,t.msg="invalid stored block lengths",e=-3,this.bitb=m,this.bitk=v,t.avail_in=g,t.total_in+=b-t.next_in_index,t.next_in_index=b,this.write=p,this.inflate_flush(t,e);x=65535&m,m=v=0,this.mode=0!==x?2:0!==this.last?7:0;break;case 2:if(0===g)return this.bitb=m,this.bitk=v,t.avail_in=g,t.total_in+=b-t.next_in_index,t.next_in_index=b,this.write=p,this.inflate_flush(t,e);if(0===w&&0===(w=p===this.end&&0!==this.read?(p=0)<this.read?this.read-p-1:this.end-p:w)&&(this.write=p,e=this.inflate_flush(t,e),w=(p=this.write)<this.read?this.read-p-1:this.end-p,0===(w=p===this.end&&0!==this.read?(p=0)<this.read?this.read-p-1:this.end-p:w)))return this.bitb=m,this.bitk=v,t.avail_in=g,t.total_in+=b-t.next_in_index,t.next_in_index=b,this.write=p,this.inflate_flush(t,e);e=0,w<(y=g<(y=x)?g:y)&&(y=w),this.window.set(t.read_buf(b,y),p),b+=y,g-=y,p+=y,w-=y,0===(x-=y)&&(this.mode=0!==this.last?7:0);break;case 3:for(;v<14;){if(0===g)return this.bitb=m,this.bitk=v,t.avail_in=g,t.total_in+=b-t.next_in_index,t.next_in_index=b,this.write=p,this.inflate_flush(t,e);e=0,g--,m|=(255&t.next_in[b++])<<v,v+=8}if(i=y=16383&m,29<(31&y)||29<(y>>5&31))return this.mode=9,t.msg="too many length or distance symbols",e=-3,this.bitb=m,this.bitk=v,t.avail_in=g,t.total_in+=b-t.next_in_index,t.next_in_index=b,this.write=p,this.inflate_flush(t,e);for(y=258+(31&y)+(y>>5&31),k=0;k<y;k++)E[k]=0;for(m>>>=14,v-=14,A=0,this.mode=4;A<4+(i>>>10);){for(;v<3;){if(0===g)return this.bitb=m,this.bitk=v,t.avail_in=g,t.total_in+=b-t.next_in_index,t.next_in_index=b,this.write=p,this.inflate_flush(t,e);e=0,g--,m|=(255&t.next_in[b++])<<v,v+=8}E[J[A++]]=7&m,m>>>=3,v-=3}for(;A<19;)E[J[A++]]=0;if(S[0]=7,u=E,F=S,U=K,B=I,O=t,j(19),-3===(u=W(u,V[0]=0,19,19,null,null,U,F,B,V,L))?O.msg="oversubscribed dynamic bit lengths tree":-5!==u&&0!==F[0]||(O.msg="incomplete dynamic bit lengths tree",u=-3),0!==(y=u))return-3===(e=y)&&(this.mode=9),this.bitb=m,this.bitk=v,t.avail_in=g,t.total_in+=b-t.next_in_index,t.next_in_index=b,this.write=p,this.inflate_flush(t,e);for(A=0,this.mode=5;;){if(258+(31&(y=i))+(y>>5&31)<=A)break;for(var P,D=void 0,y=S[0];v<y;){if(0===g)return this.bitb=m,this.bitk=v,t.avail_in=g,t.total_in+=b-t.next_in_index,t.next_in_index=b,this.write=p,this.inflate_flush(t,e);e=0,g--,m|=(255&t.next_in[b++])<<v,v+=8}if(y=I[3*(K[0]+(m&G[y]))+1],(P=I[3*(K[0]+(m&G[y]))+2])<16)m>>>=y,v-=y,E[A++]=P;else{for(k=18===P?7:P-14,D=18===P?11:3;v<y+k;){if(0===g)return this.bitb=m,this.bitk=v,t.avail_in=g,t.total_in+=b-t.next_in_index,t.next_in_index=b,this.write=p,this.inflate_flush(t,e);e=0,g--,m|=(255&t.next_in[b++])<<v,v+=8}if(v-=y,D+=(m>>>=y)&G[k],m>>>=k,v-=k,258+(31&(y=i))+(y>>5&31)<(k=A)+D||16===P&&k<1)return this.mode=9,t.msg="invalid bit length repeat",e=-3,this.bitb=m,this.bitk=v,t.avail_in=g,t.total_in+=b-t.next_in_index,t.next_in_index=b,this.write=p,this.inflate_flush(t,e);for(P=16===P?E[k-1]:0;E[k++]=P,0!=--D;);A=k}}K[0]=-1;var U=[9],B=[6],F=[0],O=[0];if(u=257+(31&y),r=1+(y>>5&31),n=E,s=U,a=B,o=F,h=O,l=I,c=t,j(288),0!==(y=0!==(o=W(n,V[0]=0,u,257,M,H,o,s,l,V,L))||0===s[0]?(-3===o?c.msg="oversubscribed literal/length tree":(c.msg="incomplete literal/length tree",o=-3),o):(j(288),0!==(o=W(n,u,r,0,Z,Q,h,a,l,V,L))||0===a[0]&&257<u?(-3===o?c.msg="oversubscribed distance tree":o=(c.msg=-5===o?"incomplete distance tree":"empty distance tree with lengths",-3),o):0)))return-3===y&&(this.mode=9),e=y,this.bitb=m,this.bitk=v,t.avail_in=g,t.total_in+=b-t.next_in_index,t.next_in_index=b,this.write=p,this.inflate_flush(t,e);C.init(U[0],B[0],I,F[0],I,O[0]),this.mode=6;case 6:if(this.bitb=m,this.bitk=v,t.avail_in=g,t.total_in+=b-t.next_in_index,t.next_in_index=b,this.write=p,1!==(e=C.proc(this,t,e)))return this.inflate_flush(t,e);if(b=t.next_in_index,g=t.avail_in,m=this.bitb,v=this.bitk,w=(p=this.write)<this.read?this.read-p-1:this.end-p,(e=0)===this.last){this.mode=0;break}this.mode=7;case 7:if(this.write=p,e=this.inflate_flush(t,e),w=(p=this.write)<this.read?this.read-p-1:this.end-p,this.read!==this.write)return this.bitb=m,this.bitk=v,t.avail_in=g,t.total_in+=b-t.next_in_index,t.next_in_index=b,this.write=p,this.inflate_flush(t,e);this.mode=8;case 8:return e=1,this.bitb=m,this.bitk=v,t.avail_in=g,t.total_in+=b-t.next_in_index,t.next_in_index=b,this.write=p,this.inflate_flush(t,e);case 9:return e=-3,this.bitb=m,this.bitk=v,t.avail_in=g,t.total_in+=b-t.next_in_index,t.next_in_index=b,this.write=p,this.inflate_flush(t,e);default:return e=-2,this.bitb=m,this.bitk=v,t.avail_in=g,t.total_in+=b-t.next_in_index,t.next_in_index=b,this.write=p,this.inflate_flush(t,e)}}},{key:"set_dictionary",value:function(t,e,i){this.window.set(t.subarray(e,e+i),0),this.read=this.write=i}}]),i);function i(t){rt(this,i),this.codes=F(),this.hufts=new Int32Array(4200),this.mode=0,this.bitk=0,this.bitb=0,this.read=0,this.write=0,this.last=0,this.end=t,this.window=new Uint8Array(t)}it(r,[{key:"inflate",value:function(t){var e=void 0;if(!t||!t.next_in)return-2;for(var i=-5;;)switch(this.mode){case 0:if(0===t.avail_in)return i;if(31!==(e=t.next_in[t.next_in_index])){this.mode=2;break}this.mode=1,i=0,t.avail_in--,t.total_in++,t.next_in_index++;case 1:if(0===t.avail_in)return i;if(i=0,t.avail_in--,t.total_in++,139!==(e=t.next_in[t.next_in_index++])){this.mode=32,t.msg="invalid gzip id";break}this.isGZip=!0,this.mode=2;case 2:if(0===t.avail_in)return i;if(i=0,t.avail_in--,t.total_in++,this.method=t.next_in[t.next_in_index++],8!=(15&this.method)){this.mode=32,t.msg="unknown compression method";break}if(8+(this.method>>4)>this.wbits){this.mode=32,t.msg="invalid window size";break}this.mode=3;case 3:if(0===t.avail_in)return i;if(i=0,t.avail_in--,t.total_in++,e=255&t.next_in[t.next_in_index++],this.isGZip){this.gflags=e,this.mode=9;break}if(((this.method<<8)+e)%31!=0){this.mode=32,t.msg="incorrect header check";break}if(0==(32&e)){this.mode=22;break}this.mode=4;case 4:if(0===t.avail_in)return i;i=0,t.avail_in--,t.total_in++,this.dictChecksum=(255&t.next_in[t.next_in_index++])<<24&4278190080,this.mode=5;case 5:if(0===t.avail_in)return i;i=0,t.avail_in--,t.total_in++,this.dictChecksum|=(255&t.next_in[t.next_in_index++])<<16&16711680,this.mode=6;case 6:if(0===t.avail_in)return i;i=0,t.avail_in--,t.total_in++,this.dictChecksum|=(255&t.next_in[t.next_in_index++])<<8&65280,this.mode=7;case 7:return 0===t.avail_in?i:(i=0,t.avail_in--,t.total_in++,this.dictChecksum|=255&t.next_in[t.next_in_index++],this.mode=8,2);case 8:return this.mode=32,t.msg="need dictionary",-2;case 9:case 10:case 11:case 12:if(0===t.avail_in)return i;if(i=0,t.avail_in--,t.total_in++,e=255&t.next_in[t.next_in_index++],this.mtime=this.mtime>>>8|e<<24,12!==this.mode){this.mode++;break}this.mode=13;case 13:case 14:case 20:case 21:if(0===t.avail_in)return i;i=0,t.avail_in--,t.total_in++,t.next_in_index++,14===this.mode?4&this.gflags?this.mode=15:8&this.gflags?this.mode=18:16&this.gflags?this.mode=19:2&this.gflags?this.mode=20:this.mode=22:this.mode++;break;case 15:case 16:if(0===t.avail_in)return i;if(i=0,t.avail_in--,t.total_in++,e=255&t.next_in[t.next_in_index++],this.xlen=this.xlen>>>8|e<<24,15===this.mode)break;this.xlen=this.xlen>>>16;case 17:if(0===t.avail_in)return i;i=0,t.avail_in--,t.total_in++,t.next_in_index++,this.xlen--,0===this.xlen&&(8&this.gflags?this.mode=18:16&this.gflags?this.mode=19:2&this.gflags?this.mode=20:this.mode=22);break;case 18:case 19:if(0===t.avail_in)return i;i=0,t.avail_in--,t.total_in++,0!==(e=255&t.next_in[t.next_in_index++])?18===this.mode&&(this.name+=String.fromCharCode(e)):19!==this.mode&&16&this.gflags?this.mode=19:2&this.gflags?this.mode=20:this.mode=22;break;case 22:if(-3===(i=this.blocks.proc(t,i))){this.mode=32;break}if(1!==i)return i;if(i=0,this.blocks.reset(),0===this.method){this.mode=31;break}this.mode=23;case 23:case 24:case 25:case 26:if(0===t.avail_in)return i;i=0,t.avail_in--,t.total_in++,e=255&t.next_in[t.next_in_index++],this.isGZip?this.fullChecksum=this.fullChecksum>>>8|e<<24:this.fullChecksum=this.fullChecksum<<8|e,this.mode++,27!==this.mode||this.isGZip||(this.mode=31);break;case 27:case 28:case 29:case 30:if(0===t.avail_in)return i;i=0,t.avail_in--,t.total_in++,e=255&t.next_in[t.next_in_index++],this.inflatedSize=this.inflatedSize>>>8|e<<24,this.mode++;break;case 31:return 1;case 32:return-3;default:return-2}}},{key:"inflateSetDictionary",value:function(t){var e,i;return 8!==this.mode?-2:!(t=h(t))||(e=0,(i=t.byteLength)>=1<<this.wbits&&(i=(1<<this.wbits)-1,e=t.byteLength-i),l(t)!==this.dictChecksum)?-3:(this.blocks.set_dictionary(t,e,i),this.mode=22,0)}},{key:"isComplete",get:function(){var t=this.blocks,t=(0===t.mode||8===t.mode)&&0===t.bitb&&0===t.bitk;return 31===this.mode&&t}},{key:"fileName",get:function(){return this.name}},{key:"modDate",get:function(){if(0!==this.mtime)return new Date(1e3*this.mtime)}},{key:"checksum",get:function(){return this.fullChecksum}},{key:"fullSize",get:function(){return this.inflatedSize}},{key:"containerFormat",get:function(){return this.isGZip?2:0===this.method?0:1}}]);var z=r;function r(t){rt(this,r),this.isGZip=!1,this.method=0,this.gflags=0,this.name="",this.mtime=0,this.xlen=0,this.dictChecksum=0,this.fullChecksum=0,this.inflatedSize=0,this.wbits=0,this.wbits=15,this.blocks=new O(1<<this.wbits),this.mode=t?22:0}it(s,[{key:"append",value:function(t){var e=h(t);if(!(e instanceof Uint8Array))throw new TypeError("data must be an ArrayBuffer or buffer view");if(0===e.length)return[];var i=this.inflate,r=this.z,n=[],s=!1;r.append(e);do{r.next_out_index=0,r.avail_out=u,0===r.avail_in&&(s=s||!(r.next_in_index=0));var a,o=i.inflate(r);if(s&&-5===o){if(0!==r.avail_in)throw new Error("inflate error: bad input")}else if(2===o){if(!this.customDict)throw new Error("Custom dictionary required for this data");if(0!==i.inflateSetDictionary(this.customDict))throw new Error("Custom dictionary is not valid for this data")}else if(0!==o&&1!==o)throw new Error("inflate error: "+r.msg);if((s||1===o)&&r.avail_in===e.length)throw new Error("inflate error: bad input data")}while(r.next_out_index&&(o=new Uint8Array(r.next_out.subarray(0,r.next_out_index)),a=2===i.containerFormat,void 0===this.checksum&&(this.checksum=a?0:1),this.checksum=(a?c:l)(o,this.checksum),n.push(o)),0<r.avail_in||0===r.avail_out);return n}},{key:"finish",value:function(){var t=this.inflate.checksum,e=this.inflate.fullSize,i=this.inflate.isComplete,t=0===t?"unchecked":t===this.checksum?"match":"mismatch",e=0===e?"unchecked":e===this.z.total_out?"match":"mismatch";return{success:i&&"mismatch"!=t&&"mismatch"!=e,complete:i,checksum:t,fileSize:e,fileName:this.inflate.fileName,modDate:this.inflate.modDate}}}]);var T=s;function s(t){rt(this,s);var e=null==t?void 0:t.raw;if(void 0!==e&&!0!==e&&!1!==e)throw new TypeError("options.raw must be undefined or true or false");e=void 0!==e&&e,t=null==t?void 0:t.dictionary;if(void 0!==t){if(e)throw new RangeError("options.dictionary cannot be set when options.raw is true");if(void 0===h(t))throw new TypeError("options.dictionary must be undefined or a buffer or a buffer view");this.customDict=t}this.inflate=new z(e),this.z=new B}var N=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29],_=(it(y,[{key:"gen_bitlen",value:function(t){for(var e,i,r,n,s,a=this.dyn_tree,o=this.stat_desc.static_tree,h=this.stat_desc.extra_bits,l=this.stat_desc.extra_base,c=this.stat_desc.max_length,u=0,d=0;d<=15;d++)t.bl_count[d]=0;for(a[2*t.heap[t.heap_max]+1]=0,e=t.heap_max+1;e<573;e++)c<(d=a[2*a[2*(i=t.heap[e])+1]+1]+1)&&(d=c,u++),a[2*i+1]=d,i>this.max_code||(t.bl_count[d]++,n=0,l<=i&&(n=h[i-l]),s=a[2*i],t.opt_len+=s*(d+n),o&&(t.static_len+=s*(o[2*i+1]+n)));if(0!==u){do{for(d=c-1;0===t.bl_count[d];)d--}while(t.bl_count[d]--,t.bl_count[d+1]+=2,t.bl_count[c]--,0<(u-=2));for(d=c;0!==d;d--)for(i=t.bl_count[d];0!==i;)(r=t.heap[--e])>this.max_code||(a[2*r+1]!=d&&(t.opt_len+=(d-a[2*r+1])*a[2*r],a[2*r+1]=d),i--)}}},{key:"bi_reverse",value:function(t,e){for(var i=0;i|=1&t,t>>>=1,i<<=1,0<--e;);return i>>>1}},{key:"gen_codes",value:function(t,e,i){for(var r=new Uint16Array(16),n=0,s=1;s<=15;s++)r[s]=n=n+i[s-1]<<1;for(var a=0;a<=e;a++){var o=t[2*a+1];0!==o&&(t[2*a]=this.bi_reverse(r[o]++,o))}}},{key:"build_tree",value:function(t){var e,i,r,n=this.dyn_tree,s=this.stat_desc.static_tree,a=this.stat_desc.elems,o=-1;for(t.heap_len=0,t.heap_max=573,e=0;e<a;e++)0!==n[2*e]?(t.heap[++t.heap_len]=o=e,t.depth[e]=0):n[2*e+1]=0;for(;t.heap_len<2;)n[2*(r=t.heap[++t.heap_len]=o<2?++o:0)]=1,t.depth[r]=0,t.opt_len--,s&&(t.static_len-=s[2*r+1]);for(this.max_code=o,e=Math.floor(t.heap_len/2);1<=e;e--)t.pqdownheap(n,e);for(r=a;e=t.heap[1],t.heap[1]=t.heap[t.heap_len--],t.pqdownheap(n,1),i=t.heap[1],t.heap[--t.heap_max]=e,t.heap[--t.heap_max]=i,n[2*r]=n[2*e]+n[2*i],t.depth[r]=Math.max(t.depth[e],t.depth[i])+1,n[2*e+1]=n[2*i+1]=r,t.heap[1]=r++,t.pqdownheap(n,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],this.gen_bitlen(t),this.gen_codes(n,this.max_code,t.bl_count)}}],[{key:"d_code",value:function(t){return t<256?N[t]:N[256+(t>>>7)]}}]),y);function y(t,e){rt(this,y),this.dyn_tree=t,this.stat_desc=e,this.max_code=0}_._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],_.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],_.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],_.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],_.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],_.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],_.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function m(t,e,i,r,n){rt(this,m),this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=r,this.max_length=n}function v(t,e,i,r,n){return{good_length:t,max_lazy:e,nice_length:i,max_chain:r,func:n}}m.static_ltree=new Uint16Array([12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8]),m.static_dtree=new Uint16Array([0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5]),m.static_l_desc=new m(m.static_ltree,_.extra_lbits,257,286,15),m.static_d_desc=new m(m.static_dtree,_.extra_dbits,0,30,15),m.static_bl_desc=new m(null,_.extra_blbits,0,19,7);var b=[v(0,0,0,0,0),v(4,4,8,4,1),v(4,5,16,8,1),v(4,6,32,32,1),v(4,4,16,16,2),v(8,16,32,32,2),v(8,16,128,128,2),v(8,32,128,256,2),v(32,128,258,1024,2),v(32,258,258,4096,2)];function R(t,e,i,r){var n=t[2*e],t=t[2*i];return n<t||n==t&&r[e]<=r[i]}var g=262,p=32768,w=p-1,k=Math.floor(17/3),X=16384,x=Math.floor(8192),$=(it(A,[{key:"init_block",value:function(){for(var t=0;t<286;t++)this.dyn_ltree[2*t]=0;for(var e=0;e<30;e++)this.dyn_dtree[2*e]=0;for(var i=0;i<19;i++)this.bl_tree[2*i]=0;this.dyn_ltree[512]=1,this.opt_len=this.static_len=0,this.last_lit=this.matches=0}},{key:"pqdownheap",value:function(t,e){for(var i=this.heap,r=i[e],n=e<<1;n<=this.heap_len&&(n<this.heap_len&&R(t,i[n+1],i[n],this.depth)&&n++,!R(t,r,i[n],this.depth));)i[e]=i[n],e=n,n<<=1;i[e]=r}},{key:"scan_tree",value:function(t,e){var i,r=-1,n=t[1],s=0,a=7,o=4;0===n&&(a=138,o=3),t[2*(e+1)+1]=65535;for(var h=0;h<=e;h++)i=n,n=t[2*(h+1)+1],++s<a&&i==n||(s<o?this.bl_tree[2*i]+=s:0!==i?(i!=r&&this.bl_tree[2*i]++,this.bl_tree[32]++):s<=10?this.bl_tree[34]++:this.bl_tree[36]++,r=i,o=(s=0)===n?(a=138,3):i==n?(a=6,3):(a=7,4))}},{key:"build_bl_tree",value:function(){this.scan_tree(this.dyn_ltree,this.l_desc.max_code),this.scan_tree(this.dyn_dtree,this.d_desc.max_code),this.bl_desc.build_tree(this);for(var t=void 0,t=18;3<=t&&0===this.bl_tree[2*_.bl_order[t]+1];t--);return this.opt_len+=3*(t+1)+5+5+4,t}},{key:"put_short",value:function(t){this.pending_buf[this.pending++]=255&t,this.pending_buf[this.pending++]=t>>>8&255}},{key:"send_bits",value:function(t,e){var i;this.bi_valid>16-e?(this.bi_buf|=t<<this.bi_valid&65535,i=this.pending,this.pending_buf[i]=this.bi_buf,this.pending_buf[i+1]=this.bi_buf>>>8,this.pending=i+2,this.bi_buf=t>>>16-this.bi_valid,this.bi_valid+=e-16):(this.bi_buf|=t<<this.bi_valid&65535,this.bi_valid+=e)}},{key:"send_code",value:function(t,e){t*=2;this.send_bits(65535&e[t],65535&e[1+t])}},{key:"send_tree",value:function(t,e){var i,r=-1,n=t[1],s=0,a=7,o=4;0===n&&(a=138,o=3);for(var h=0;h<=e;h++)if(i=n,n=t[2*(h+1)+1],!(++s<a&&i==n)){if(s<o)for(;this.send_code(i,this.bl_tree),0!=--s;);else 0!==i?(i!=r&&(this.send_code(i,this.bl_tree),s--),this.send_code(16,this.bl_tree),this.send_bits(s-3,2)):s<=10?(this.send_code(17,this.bl_tree),this.send_bits(s-3,3)):(this.send_code(18,this.bl_tree),this.send_bits(s-11,7));r=i,o=(s=0)===n?(a=138,3):i==n?(a=6,3):(a=7,4)}}},{key:"send_all_trees",value:function(t,e,i){this.send_bits(t-257,5),this.send_bits(e-1,5),this.send_bits(i-4,4);for(var r=0;r<i;r++)this.send_bits(this.bl_tree[2*_.bl_order[r]+1],3);this.send_tree(this.dyn_ltree,t-1),this.send_tree(this.dyn_dtree,e-1)}},{key:"bi_flush",value:function(){16===this.bi_valid?(this.put_short(this.bi_buf),this.bi_buf=0,this.bi_valid=0):8<=this.bi_valid&&(this.pending_buf[this.pending++]=this.bi_buf,this.bi_buf>>>=8,this.bi_valid-=8)}},{key:"_tr_align",value:function(){this.send_bits(2,3),this.send_code(256,m.static_ltree),this.bi_flush(),1+this.last_eob_len+10-this.bi_valid<9&&(this.send_bits(2,3),this.send_code(256,m.static_ltree),this.bi_flush()),this.last_eob_len=7}},{key:"_tr_tally",value:function(t,e){if(this.pending_buf[x+2*this.last_lit]=t>>>8&255,this.pending_buf[x+2*this.last_lit+1]=255&t,this.pending_buf[49152+this.last_lit]=255&e,this.last_lit++,0===t?this.dyn_ltree[2*e]++:(this.matches++,t--,this.dyn_ltree[2*(_._length_code[e]+256+1)]++,this.dyn_dtree[2*_.d_code(t)]++),0==(8191&this.last_lit)&&2<this.level){for(var i=8*this.last_lit,e=this.strstart-this.block_start,r=0;r<30;r++)i+=this.dyn_dtree[2*r]*(5+_.extra_dbits[r]);if(i>>>=3,this.matches<Math.floor(this.last_lit/2)&&i<Math.floor(e/2))return!0}return this.last_lit===X-1}},{key:"compress_block",value:function(t,e){var i=0;if(0!==this.last_lit)do{var r,n,s=this.pending_buf[x+2*i]<<8&65280|255&this.pending_buf[x+2*i+1],a=255&this.pending_buf[49152+i]}while(i++,0==s?this.send_code(a,t):(r=_._length_code[a],this.send_code(r+256+1,t),0!==(n=_.extra_lbits[r])&&(a-=_.base_length[r],this.send_bits(a,n)),r=_.d_code(--s),this.send_code(r,e),0!==(n=_.extra_dbits[r])&&(s-=_.base_dist[r],this.send_bits(s,n))),i<this.last_lit);this.send_code(256,t),this.last_eob_len=t[513]}},{key:"bi_windup",value:function(){8<this.bi_valid?this.put_short(this.bi_buf):0<this.bi_valid&&(this.pending_buf[this.pending++]=this.bi_buf),this.bi_buf=0,this.bi_valid=0}},{key:"copy_block",value:function(t,e,i){this.bi_windup(),this.last_eob_len=8,i&&(this.put_short(e),this.put_short(~e)),this.pending_buf.set(this.window.subarray(t,t+e),this.pending),this.pending+=e}},{key:"_tr_stored_block",value:function(t,e,i){this.send_bits(0+(i?1:0),3),this.copy_block(t,e,!0)}},{key:"_tr_flush_block",value:function(t,e,i){var r=void 0,n=void 0,s=0;0<this.level?(this.l_desc.build_tree(this),this.d_desc.build_tree(this),s=this.build_bl_tree(),r=this.opt_len+3+7>>>3,(n=this.static_len+3+7>>>3)<=r&&(r=n)):r=n=e+5,e+4<=r&&-1!==t?this._tr_stored_block(t,e,i):n==r?(this.send_bits(2+(i?1:0),3),this.compress_block(m.static_ltree,m.static_dtree)):(this.send_bits(4+(i?1:0),3),this.send_all_trees(this.l_desc.max_code+1,this.d_desc.max_code+1,s+1),this.compress_block(this.dyn_ltree,this.dyn_dtree)),this.init_block(),i&&this.bi_windup()}},{key:"flush_block_only",value:function(t){this._tr_flush_block(0<=this.block_start?this.block_start:-1,this.strstart-this.block_start,t),this.block_start=this.strstart,this.strm.flush_pending(this)}},{key:"fill_window",value:function(){do{var t=65536-this.lookahead-this.strstart;if(0===t&&0===this.strstart&&0===this.lookahead)t=32768;else if(-1===t)t--;else if(65274<=this.strstart){this.window.set(this.window.subarray(32768,65536),0),this.match_start-=32768,this.strstart-=32768,this.block_start-=32768;var e=p,i=e;do{var r=65535&this.head[--i]}while(this.head[i]=32768<=r?r-32768:0,0!=--e);i=e=32768;do{var n=65535&this.prev[--i]}while(this.prev[i]=32768<=n?n-32768:0,0!=--e);t+=32768}if(0===this.strm.avail_in)return;t=this.strm.read_into_buf(this.window,this.strstart+this.lookahead,t)}while(this.lookahead+=t,3<=this.lookahead&&(this.ins_h=255&this.window[this.strstart],this.ins_h=(this.ins_h<<k^255&this.window[this.strstart+1])&w),this.lookahead<g&&0!==this.strm.avail_in)}},{key:"deflate_stored",value:function(t){var e=65535;for(65531<e&&(e=65531);;){if(this.lookahead<=1){if(this.fill_window(),0===this.lookahead&&0===t)return 0;if(0===this.lookahead)break}this.strstart+=this.lookahead,this.lookahead=0;var i=this.block_start+e;if((0===this.strstart||this.strstart>=i)&&(this.lookahead=this.strstart-i,this.strstart=i,this.flush_block_only(!1),0===this.strm.avail_out))return 0;if(32506<=this.strstart-this.block_start&&(this.flush_block_only(!1),0===this.strm.avail_out))return 0}return this.flush_block_only(4===t),0===this.strm.avail_out?4===t?2:0:4===t?3:1}},{key:"longest_match",value:function(t){var e=this.max_chain_length,i=this.strstart,r=this.prev_length,n=32506<this.strstart?this.strstart-32506:0,s=this.nice_match,a=this.window,o=this.strstart+258,h=a[i+r-1],l=a[i+r],c=a[i],u=a[i+1];this.prev_length>=this.good_match&&(e>>=2),s>this.lookahead&&(s=this.lookahead);do{var d=t,f=!0;do{if(a[(d=t)+r]!==l||a[d+r-1]!==h){if((t=this.prev[32767&t])>n&&0!=--e)continue;f=!1}break}while(1);if(!f)break;if(a[d]===c&&a[d+1]===u){i+=2,d+=2;do{var _=(a[i]<<24|a[i+1]<<16|a[i+2]<<8|a[i+3])^(a[d]<<24|a[d+1]<<16|a[d+2]<<8|a[d+3]);if(_){_=Math.clz32(_)>>3;i+=_,d+=_;break}}while(d+=4,(i+=4)<o);var y=258-(o-(i=o<i?o:i)),i=o-258;if(r<y){if(this.match_start=t,s<=(r=y))break;h=a[i+r-1],l=a[i+r]}}}while((t=this.prev[32767&t])>n&&0!=--e);return r<=this.lookahead?r:this.lookahead}},{key:"deflate_fast",value:function(t){for(var e=0,i=void 0;;){if(this.lookahead<g){if(this.fill_window(),this.lookahead<g&&0===t)return 0;if(0===this.lookahead)break}if(3<=this.lookahead&&(this.ins_h=(this.ins_h<<k^255&this.window[this.strstart+2])&w,e=65535&this.head[this.ins_h],this.prev[32767&this.strstart]=this.head[this.ins_h],this.head[this.ins_h]=this.strstart),0!==e&&(this.strstart-e&65535)<=32506&&2!==this.strategy&&(this.match_length=this.longest_match(e)),3<=this.match_length)if(i=this._tr_tally(this.strstart-this.match_start,this.match_length-3),this.lookahead-=this.match_length,this.match_length<=this.max_lazy_match&&3<=this.lookahead){for(this.match_length--;this.strstart++,this.ins_h=(this.ins_h<<k^255&this.window[this.strstart+2])&w,e=65535&this.head[this.ins_h],this.prev[32767&this.strstart]=this.head[this.ins_h],this.head[this.ins_h]=this.strstart,0!=--this.match_length;);this.strstart++}else this.strstart+=this.match_length,this.match_length=0,this.ins_h=255&this.window[this.strstart],this.ins_h=(this.ins_h<<k^255&this.window[this.strstart+1])&w;else i=this._tr_tally(0,255&this.window[this.strstart]),this.lookahead--,this.strstart++;if(i&&(this.flush_block_only(!1),0===this.strm.avail_out))return 0}return this.flush_block_only(4===t),0===this.strm.avail_out?4===t?2:0:4===t?3:1}},{key:"deflate_slow",value:function(t){for(var e,i,r=0,n=void 0;;){if(this.lookahead<g){if(this.fill_window(),this.lookahead<g&&0===t)return 0;if(0===this.lookahead)break}if(3<=this.lookahead&&(this.ins_h=(this.ins_h<<k^255&this.window[this.strstart+2])&w,r=65535&this.head[this.ins_h],this.prev[32767&this.strstart]=this.head[this.ins_h],this.head[this.ins_h]=this.strstart),this.prev_length=this.match_length,i=this.match_start,this.match_length=2,0!==r&&this.prev_length<this.max_lazy_match&&(this.strstart-r&65535)<=32506&&(2!==this.strategy&&(this.match_length=this.longest_match(r)),this.match_length<=5)&&(1===this.strategy||3===this.match_length&&4096<this.strstart-this.match_start)&&(this.match_length=2),3<=this.prev_length&&this.match_length<=this.prev_length){for(e=this.strstart+this.lookahead-3,n=this._tr_tally(this.strstart-1-i,this.prev_length-3),this.lookahead-=this.prev_length-1,this.prev_length-=2;++this.strstart<=e&&(this.ins_h=(this.ins_h<<k^255&this.window[this.strstart+2])&w,r=65535&this.head[this.ins_h],this.prev[32767&this.strstart]=this.head[this.ins_h],this.head[this.ins_h]=this.strstart),0!=--this.prev_length;);if(this.match_available=!1,this.match_length=2,this.strstart++,n&&(this.flush_block_only(!1),0===this.strm.avail_out))return 0}else if(this.match_available){if((n=this._tr_tally(0,255&this.window[this.strstart-1]))&&this.flush_block_only(!1),this.strstart++,this.lookahead--,0===this.strm.avail_out)return 0}else this.match_available=!0,this.strstart++,this.lookahead--}return this.match_available&&(n=this._tr_tally(0,255&this.window[this.strstart-1]),this.match_available=!1),this.flush_block_only(4===t),0===this.strm.avail_out?4===t?2:0:4===t?3:1}},{key:"deflateSetDictionary",value:function(t){var e=t.byteLength,i=e,r=void 0,n=0;if(!t||1!==this.status)return-2;if(!(i<3))for(32506<i&&(n=e-(i=32506)),this.window.set(t.subarray(n,n+i),0),this.strstart=i,this.block_start=i,this.ins_h=255&this.window[0],this.ins_h=(this.ins_h<<k^255&this.window[1])&w,r=0;r<=i-3;r++)this.ins_h=(this.ins_h<<k^255&this.window[r+2])&w,this.prev[32767&r]=this.head[this.ins_h],this.head[this.ins_h]=r;return 0}},{key:"deflate",value:function(t){if(4<t||t<0)return-2;var e=this.strm;if(!e.next_out||!e.next_in&&0!==e.avail_in||3===this.status&&4!=t)return-2;if(0===e.avail_out)return-5;var i=this.last_flush;if(this.last_flush=t,1===this.status&&(this.status=2),0!==this.pending){if(e.flush_pending(this),0===e.avail_out)return this.last_flush=-1,0}else if(0===e.avail_in&&t<=i&&4!==t)return-5;if(3===this.status&&0!==e.avail_in)return-5;if(0!==e.avail_in||0!==this.lookahead||0!==t&&3!==this.status){var r=void 0;switch(b[this.level].func){case 0:r=this.deflate_stored(t);break;case 1:r=this.deflate_fast(t);break;default:r=this.deflate_slow(t)}if(2!=r&&3!==r||(this.status=3),0===r||2===r)return 0===e.avail_out&&(this.last_flush=-1),0;if(1===r){if(1===t)this._tr_align();else if(this._tr_stored_block(0,0,!1),3===t)for(var n=0;n<p;n++)this.head[n]=0;if(e.flush_pending(this),0===e.avail_out)return this.last_flush=-1,0}}return 4!==t?0:1}}]),A);function A(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:6,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(rt(this,A),this.status=1,this.pending_buf=new Uint8Array(65536),this.pending=0,this.pending_out=0,this.last_flush=0,this.window=new Uint8Array(65536),this.prev=new Uint16Array(32768),this.head=new Uint16Array(p),this.ins_h=0,this.block_start=0,this.match_length=2,this.match_available=!1,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=2,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),this.l_desc=new _(this.dyn_ltree,m.static_l_desc),this.d_desc=new _(this.dyn_dtree,m.static_d_desc),this.bl_desc=new _(this.bl_tree,m.static_bl_desc),this.depth=new Uint16Array(573),this.last_lit=0,this.matches=0,this.opt_len=0,this.static_len=0,this.last_eob_len=8,this.bi_buf=0,this.bi_valid=0,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),this.heap_len=0,this.heap_max=573,e<0||9<e||i<0||2<i)throw RangeError("level or strategy is out of range");this.strm=t,this.level=e,this.strategy=i,t.msg="",t.total_in=t.total_out=0,this.init_block();for(var r=0;r<p;++r)this.head[r]=0;this.max_lazy_match=b[e].max_lazy,this.good_match=b[e].good_length,this.nice_match=b[e].nice_length,this.max_chain_length=b[e].max_chain}it(E,[{key:"buildZlibHeader",value:function(){var t=2,e=1,t=(0!==this.dictChecksum&&(t+=4,e=32),new ArrayBuffer(t)),i=new DataView(t);return i.setUint16(0,30720|e),0!==this.dictChecksum&&i.setUint32(2,this.dictChecksum),new Uint8Array(t)}},{key:"buildGZipHeader",value:function(){var t=0,e=[],i=(0<this.fileName.length&&(t|=8,(e=Array.from(this.fileName).map(function(t){t=t.charCodeAt(0);return 255<t?95:t})).push(0)),new ArrayBuffer(10+e.length)),r=new DataView(i),t=(r.setUint16(0,8075),r.setUint16(2,2048|t),Math.floor(Date.now()/1e3)),t=(r.setUint32(4,t,!0),r.setUint16(8,255),new Uint8Array(i));return e.length&&t.set(e,10),t}},{key:"buildTrailer",value:function(){var t="gzip"===this.format,e=new ArrayBuffer(t?8:4),i=new DataView(e);return i.setUint32(0,this.checksum,t),t&&i.setUint32(4,this.origSize,!0),new Uint8Array(e)}},{key:"append",value:function(t){var e=[],t=h(t);if(!(t instanceof Uint8Array))throw new TypeError("data must be an ArrayBuffer or buffer view");if(t.length){"gzip"!==this.format?this.checksum=l(t,this.checksum):this.checksum=c(t,this.checksum),this.origSize+=t.length;var i=this.deflate,r=this.z;r.next_in_index=0,r.next_in=t,r.avail_in=t.length,1===i.status&&("deflate"===this.format?e.push(this.buildZlibHeader()):"gzip"===this.format&&e.push(this.buildGZipHeader()));do{if(r.next_out_index=0,r.avail_out=u,0!==i.deflate(0))throw new Error("deflating: "+r.msg)}while(r.next_out_index&&e.push(new Uint8Array(r.next_out.subarray(0,r.next_out_index))),0<r.avail_in||0===r.avail_out)}return e}},{key:"finish",value:function(){var t=[],e=this.deflate,i=this.z;if(1===e.status)throw new Error("Cannot call finish before at least 1 call to append");do{i.next_out_index=0,i.avail_out=u;var r=e.deflate(4);if(1!==r&&0!==r)throw new Error("deflating: "+i.msg)}while(0<u-i.avail_out&&t.push(new Uint8Array(i.next_out.subarray(0,i.next_out_index))),0<i.avail_in||0===i.avail_out);return"raw"!==this.format&&t.push(this.buildTrailer()),t}}]);var tt=E;function E(t){rt(this,E),this.checksum=1,this.origSize=0,this.dictChecksum=0;var e=null!=(e=null==t?void 0:t.level)?e:6,i=null!=(i=null==t?void 0:t.format)?i:"deflate",r=null==t?void 0:t.dictionary,t=null==t?void 0:t.fileName;if("number"!=typeof e||e<1||9<e)throw new RangeError("level must be between 1 and 9, inclusive");if("gzip"!==i&&"raw"!==i&&"deflate"!==i)throw new RangeError("container must be one of `raw`, `deflate`, `gzip`");if(void 0!==t&&"string"!=typeof t)throw new TypeError("fileName must be a string");if(this.fileName=t||"",this.z=new B,this.deflate=new $(this.z,e,0),r){if("deflate"!==i)throw new TypeError("Can only provide a dictionary for `deflate` containers.");t=h(r);if(!t)throw new TypeError("dictionary must be an ArrayBuffer or buffer view");this.dictChecksum=l(t),this.deflate.deflateSetDictionary(t)}this.format=i,"gzip"===this.format&&(this.checksum=0)}t.Deflater=tt,t.Inflater=T,t.adler32=l,t.crc32=c,t.deflate=function(t,e){if(h(t)instanceof Uint8Array)return(t=(e=new tt(e)).append(t)).push.apply(t,function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(e.finish())),n(t);throw new TypeError("data must be an ArrayBuffer or buffer view")},t.inflate=function(t,e){if(!((t=h(t))instanceof Uint8Array))throw new TypeError("data must be an ArrayBuffer or buffer view");if(t.length<2)throw new Error("data buffer is too small");var e={dictionary:e},i=(r=et(t,2))[0],r=r[1];e.raw=!(120===i&&((i<<8)+r)%31==0||31===i&&139===r);r=(i=new T(e)).append(t);if((e=i.finish()).success)return n(r);if(!e.complete)throw new Error("Unexpected EOF during decompression");if("mismatch"===e.checksum)throw new Error("Data integrity check failed");if("mismatch"===e.fileSize)throw new Error("Data size check failed");throw new Error("Decompression error")},t.mergeBuffers=n,Object.defineProperty(t,"__esModule",{value:!0})},"object"===("undefined"==typeof exports?"undefined":t(exports))&&"undefined"!=typeof module?l(exports):"function"==typeof define&&define.amd?define(["exports"],l):l((a="undefined"!=typeof globalThis?globalThis:a||self).sdZlib={});t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function e(t,e,i,r,n,s,a){if(r||!(e in t))return Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),1}catch(t){}}()?(n=!0===n,s=!0===s,a=!0===a,Object.defineProperty(t,e,{value:i,writable:n,configurable:s,enumerable:a})):(t[e]=i,t)}function n(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}l=void 0,a=function(t,e){var i=Symbol("decContext"),r=Symbol("decTransform"),n=(s.prototype.transform=function(t,e){if(!(t instanceof ArrayBuffer||ArrayBuffer.isView(t)))throw new TypeError("Input data must be a BufferSource");for(var i=0,r=this.inflater_.append(t);i<r.length;i++){var n=r[i];e.enqueue(n)}},s.prototype.flush=function(t){var e=this.inflater_.finish();if(!e.success){if(!e.complete)throw new Error("Unexpected EOF during decompression");if("mismatch"===e.checksum)throw new Error("Data integrity check failed");if("mismatch"===e.fileSize)throw new Error("Data size check failed");throw new Error("Decompression error")}},s);function s(t){this.inflater_=t}Object.defineProperty(o.prototype,"readable",{get:function(){return this[r].readable},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"writable",{get:function(){return this[r].writable},enumerable:!0,configurable:!0});var a=o;function o(t){if("deflate"!==t&&"gzip"!==t)throw new TypeError("format must be one of `deflate`, `gzip`");this[i]=new e.Inflater,this[r]=new TransformStream(new n(this[i]))}var h=Symbol("comContext"),l=Symbol("comTransform"),c=(u.prototype.transform=function(t,e){if(!(t instanceof ArrayBuffer||ArrayBuffer.isView(t)))throw new TypeError("Input data must be a BufferSource");for(var i=0,r=this.deflater_.append(t);i<r.length;i++){var n=r[i];e.enqueue(n)}},u.prototype.flush=function(t){for(var e=0,i=this.deflater_.finish();e<i.length;e++){var r=i[e];t.enqueue(r)}},u);function u(t){this.deflater_=t}function d(t){if("deflate"!==t&&"gzip"!==t)throw new TypeError("format must be one of `deflate`, `gzip`");this[h]=new e.Deflater({format:t}),this[l]=new TransformStream(new c(this[h]))}Object.defineProperty(d.prototype,"readable",{get:function(){return this[l].readable},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"writable",{get:function(){return this[l].writable},enumerable:!0,configurable:!0}),t.CompressionStream=d,t.DecompressionStream=a,Object.defineProperty(t,"__esModule",{value:!0})},"object"===("undefined"==typeof exports?"undefined":t(exports))&&"undefined"!=typeof module?a(exports,require("@stardazed/zlib")):"function"==typeof define&&define.amd?define(["exports","@stardazed/zlib"],a):a((l=l||self).sdStreamsCompression={},l.sdZlib);(function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)})(s,[{key:"debug",value:function(){var t;if(window&&window.console&&this.level!==this.LEVELS.NONE&&this.level===this.LEVELS.DEBUG){for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];(t=window.console).debug.apply(t,i.concat([performance.now()]))}}},{key:"info",value:function(){var t;if(window&&window.console&&this.level!==this.LEVELS.NONE&&!(this.level>this.LEVELS.INFO)){for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];(t=window.console).log.apply(t,i.concat([performance.now()]))}}},{key:"warn",value:function(){var t;if(window&&window.console&&this.level!==this.LEVELS.NONE&&!(this.level>this.LEVELS.WARN)){for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];(t=window.console).warn.apply(t,i.concat([performance.now()]))}}},{key:"error",value:function(){var t;if(window&&window.console&&this.level!==this.LEVELS.NONE&&!(this.level>this.LEVELS.ERROR)){for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];(t=window.console).error.apply(t,i.concat([performance.now()]))}}}]);var i=s;function s(t){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this.LEVELS={NONE:-1,DEBUG:0,INFO:1,WARN:2,ERROR:3},t===this.LEVELS.NONE||t===this.LEVELS.DEBUG||t===this.LEVELS.INFO||t===this.LEVELS.WARN||t===this.LEVELS.ERROR?this.level=t:this.level=this.LEVELS.ERROR}var t=window&&window.ZWAF?window.ZWAF:{version:"7.0.2"},a=new i,o=(t.defineProperty||(t.defineProperty=e),t.logger||(t.logger=a),t["7.0.2"]||(t["7.0.2"]={version:"7.0.2",defineProperty:e,logger:a}),null);function h(){if(o)return o;throw Error("CSRF Details not configured!")}var C={setCSRF:function(t){t.paramName&&t.cookieName&&(o=Promise.resolve([t.paramName,t.cookieName]))},getCSRFName:function(){return h().then(function(t){return t[0]})},getCSRFValue:function(){return h().then(function(t){return t[1]})},getCSRFDetails:h},c=(Object.freeze&&Object.freeze(C),"7.0.2"!==t.version||t.configuration||t.defineProperty(t,"configuration",C,!0,!1,!1,!0),t["7.0.2"].configuration||t.defineProperty(t["7.0.2"],"configuration",C,!0,!1,!1,!0),function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){var i=e,r=[],n=!0,e=!1,s=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done)&&(r.push(a.value),!i||r.length!==i);n=!0);}catch(t){e=!0,s=t}finally{try{!n&&o.return&&o.return()}finally{if(e)throw s}}return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")}),l={};function u(t){var e=new TextEncoder,t=t.map(function(t){return"string"==typeof t?e.encode(t).buffer:t}),i=t.reduce(function(t,e){return t+e.byteLength},0),r=new Uint8Array(i),n=0,s=!0,i=!1,a=void 0;try{for(var o,h=t[Symbol.iterator]();!(s=(o=h.next()).done);s=!0){var l=o.value;r.set(new Uint8Array(l),n),n+=l.byteLength}}catch(t){i=!0,a=t}finally{try{!s&&h.return&&h.return()}finally{if(i)throw a}}return r}function I(t,e){!function(t,e,i){var r=2<arguments.length&&void 0!==i?i:{},r=Object.assign({path:"/",SameSite:"lax","max-age":864e7},r);if(encodeURIComponent){var n,s=encodeURIComponent(t)+"="+encodeURIComponent(e);for(n in r){s+="; "+n;var a=r[n];!0!==a&&(s+="="+a)}document.cookie=s}}(t,"",{path:1<arguments.length&&void 0!==e?e:"/","max-age":-1})}function P(t){t+="=";var e=document.cookie,r=void 0;return e.split("; ").forEach(function(e){if(void 0===r){var i=void 0;try{decodeURIComponent&&(i=decodeURIComponent(e))}catch(t){i=e,ZWAF&&ZWAF.logger&&ZWAF.logger.warn&&ZWAF.logger.warn("Error while trying to decode Cookie value!")}0===i.indexOf(t)&&(r=i.substring(t.length))}}),r}function D(t){return P(t)}function U(t){return window&&window.localStorage&&null!=t?window.localStorage.getItem(t):null}function B(t,e){window&&window.localStorage&&null!=t&&window.localStorage.setItem(t,e)}function F(t){return U(t)}function O(t,e,i,r){if(e){var n=Object.keys(e);if(n.length){var s=!0,a=!1,o=void 0;try{for(var h,l=n[Symbol.iterator]();!(s=(h=l.next()).done);s=!0){var c,u=h.value,d=e[u];void 0===t[u]?t[u]=e[u]:i&&(c=t[u],is(c,Object)&&is(d,Object)?O(c,d,i,r):r&&is(c,Array)&&is(d,Array)&&(t[u]=c.concat(d)))}}catch(t){a=!0,o=t}finally{try{!s&&l.return&&l.return()}finally{if(a)throw o}}}}return t}function d(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}l.createMultipartFormData=function(t){return new Promise(function(s,a){var o=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="----WafFormBoundary",i=0;i<=15;i++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}(),h=[],l=Array.from(t.entries());(function e(i){var t,r,n;i>=l.length?(h.push("--"+o+"--"),(t={}).data=u(h),t.boundary=o,s(t)):(t=c(l[i],2),r=t[0],(n=t[1])instanceof Blob?n.arrayBuffer().then(function(t){h.push("--"+o+"\r\n",'Content-Disposition: form-data; name="'+r+'"; filename="'+n.name+'"\r\n',"Content-Type: "+n.type+"\r\n","\r\n",t,"\r\n"),e(i+1)}).catch(a):(h.push("--"+o+"\r\n",'Content-Disposition: form-data; name="'+r+'"\r\n',"\r\n",n,"\r\n"),e(i+1)))})(0)})},Object.freeze&&Object.freeze(l),"7.0.2"!==t.version||t.RequestUtils||t.defineProperty(t,"RequestUtils",l,!0,!1,!1,!0),t["7.0.2"].RequestUtils||t.defineProperty(t["7.0.2"],"RequestUtils",l,!0,!1,!1,!0);var f={algorithm:"RSA-OAEP",key_hash:"SHA-256",key_size:2048,key_encoding:"Base64",transmission_algorithm:"AES-GCM",publicKeyFormat:"spki",privateKeyFormat:"pkcs8",transmission_key_length:256,transmission_iv_length:12,logLevel:3},z=(function(t,e,i){return e&&d(t.prototype,e),i&&d(t,i),t}(_,[{key:"setLogLevel",value:function(t){this.logger=new i(t)}},{key:"base64ToUint8Array",value:function(t){for(var e=atob(t),i=new Uint8Array(e.length),r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}},{key:"uint8ArrayToBase64",value:function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(t[i]);return btoa(e)}},{key:"convertToBinary",value:function(t){if(t.constructor===ArrayBuffer)return t;if("string"==typeof t)return(new TextEncoder).encode(t).buffer;if(t.constructor===Uint8Array)return t.buffer;throw new Error("Data cannot be converted to Binary!")}},{key:"exportBinary",value:function(t){var e=this;if(t.constructor===Array)return t.map(function(t){return e.exportBinary(t)});if(t.constructor===ArrayBuffer)return this.uint8ArrayToBase64(new Uint8Array(t));if(t.constructor===Uint8Array)return this.uint8ArrayToBase64(t);throw new Error("Data is not in Binary format!")}},{key:"normalizeBinaryData",value:function(t){if(t.constructor===ArrayBuffer)return t;if("string"==typeof t)return this.base64ToUint8Array(t).buffer;if(t.constructor===Uint8Array)return t.buffer;throw new Error("Data cannot be normalized to Binary!")}},{key:"getAsymmetricEncryptionAlgorithmForGeneration",value:function(t,e){return{name:t||this.asymmetricEncryptionAlgorithm,hash:this.asymmetricEncryptionHash,modulusLength:e||this.asymmetricEncryptionKeySize,publicExponent:new Uint8Array([1,0,1])}}},{key:"getAsymmetricEncryptionAlgorithmForImport",value:function(){return{name:this.asymmetricEncryptionAlgorithm,hash:this.asymmetricEncryptionHash}}},{key:"getAsymmetricEncryptionAlgorithmForUsage",value:function(){return{name:this.asymmetricEncryptionAlgorithm}}},{key:"getSymmetricEncryptionAlgorithmForGeneration",value:function(){return{name:this.symmetricKeyEncryptionAlgorithm,length:this.symmetricKeyLength}}},{key:"getSymmetricEncryptionAlgorithmForImport",value:function(){return{name:this.symmetricKeyEncryptionAlgorithm}}},{key:"getSymmetricEncryptionAlgorithmForUsage",value:function(t){return{name:this.symmetricKeyEncryptionAlgorithm,iv:t}}},{key:"generateAsymmetricKeyPair",value:function(t,e){return crypto.subtle.generateKey(this.getAsymmetricEncryptionAlgorithmForGeneration(t,e),!0,[this.KEY_USAGES.ENCRYPT,this.KEY_USAGES.DECRYPT]).catch(function(t){throw new Error("Failed to generate symmetric key! Error: "+t)})}},{key:"importAsymmetricPublicKey",value:function(t){var e;return null===t||t.constructor===CryptoKey?Promise.resolve(t):(t=this.normalizeBinaryData(t),e=this.getAsymmetricEncryptionAlgorithmForImport(),crypto.subtle.importKey(this.asymmetricPublicKeyFormat,t,e,!0,[this.KEY_USAGES.ENCRYPT]).catch(function(t){throw new Error("Failed to import Asymmetric Public Key! Algorithm: "+JSON.stringify(e)+" Error: "+t)}))}},{key:"importAsymmetricPrivateKey",value:function(t){var e;return null===t||t.constructor===CryptoKey?Promise.resolve(t):(t=this.normalizeBinaryData(t),e=this.getAsymmetricEncryptionAlgorithmForImport(),crypto.subtle.importKey(this.asymmetricPrivateKeyFormat,t,e,!0,[this.KEY_USAGES.DECRYPT]).catch(function(t){throw new Error("Failed to import asymmetric private key! Algorithm: "+JSON.stringify(e)+" Error: "+t)}))}},{key:"exportAsymmetricPublicKey",value:function(t){return null===t?Promise.resolve(t):crypto.subtle.exportKey(this.asymmetricPublicKeyFormat,t).catch(function(t){throw new Error("Failed to export asymmetric public key! Error: "+t)})}},{key:"exportAsymmetricPrivateKey",value:function(t){return null===t?Promise.resolve(t):crypto.subtle.exportKey(this.asymmetricPrivateKeyFormat,t).catch(function(t){throw new Error("Failed to export asymmetric private key! Error: "+t)})}},{key:"generateIV",value:function(){return crypto.getRandomValues(new Uint8Array(this.symmetricKeyIVLength))}},{key:"extractIVBytes",value:function(t){return t.slice(t.length-this.symmetricKeyIVLength)}},{key:"extractSymmetricKeyBytes",value:function(t){return t.slice(0,t.length-this.symmetricKeyIVLength)}},{key:"generateSymmetricKey",value:function(){return crypto.subtle.generateKey(this.getSymmetricEncryptionAlgorithmForGeneration(),!0,[this.KEY_USAGES.ENCRYPT,this.KEY_USAGES.DECRYPT]).catch(function(t){throw new Error("Failed to generate symmetric key! Error: "+t)})}},{key:"getSymmetricKey",value:function(t){var e,i,r=this,n=void 0,s=void 0;if(!t||t.constructor!==Object&&t.constructor!==String&&t.constructor!==Uint8Array&&t.constructor!==ArrayBuffer?(n=this.generateSymmetricKey(),s=this.generateIV(),n.then(function(t){r.logger.debug("Symmetric key generated: ",t)})):t.constructor===Object&&t.key&&t.key.constructor===CryptoKey&&t.iv&&t.iv.constructor===Uint8Array?(n=Promise.resolve(t.key),s=t.iv):(e=new Uint8Array(this.normalizeBinaryData(t)),i=this.extractSymmetricKeyBytes(e),s=this.extractIVBytes(e),this.logger.debug("IV Bytes extracted: ",s),(n=this.importSymmetricKey(i)).then(function(t){r.logger.debug("Symmetric key imported: ",t)})),n)return n.then(function(t){return{key:t,iv:s}});this.logger.error("Failed to get symmetric key!",t)}},{key:"importSymmetricKey",value:function(e){var i=this;return crypto.subtle.importKey("raw",e.buffer,this.getSymmetricEncryptionAlgorithmForImport(),!0,[this.KEY_USAGES.ENCRYPT,this.KEY_USAGES.DECRYPT]).catch(function(t){throw i.logger.debug("Encrypted symmetric key bytes: ",e),new Error("Failed to import symmetric key! Error: "+t)})}},{key:"exportSymmetricKey",value:function(t){return crypto.subtle.exportKey("raw",t).catch(function(t){throw new Error("Failed to export symmetric key! Error: "+t)})}},{key:"encryptWithPublicKey",value:function(i,t){var r=this;return this.importAsymmetricPublicKey(t).then(function(t){r.logger.debug("Asymmetric key imported: ",t);var e=r.getAsymmetricEncryptionAlgorithmForUsage();return r._encrypt(i,t,e).catch(function(t){throw new Error("Failed to encrypt the symmetric key with asymmetric public key! Error: "+t)})})}},{key:"decryptWithPrivateKey",value:function(i,t){var r=this;return this.importAsymmetricPrivateKey(t).then(function(t){r.logger.debug("Asymmetric key imported: ",t);var e=r.getAsymmetricEncryptionAlgorithmForUsage();return r._decrypt(i,t,e).catch(function(t){throw r.logger.warn("Failed to decrypt the symmetric key with asymmetric private key! Encrypted symmetric key bytes: ",i),new Error("Failed to decrypt the symmetric key with asymmetric private key! Error: "+t)})})}},{key:"mergeSymmetricKeyAndIV",value:function(t,e){t.constructor===ArrayBuffer&&(t=new Uint8Array(t));var i=new Uint8Array(t.length+e.length);return i.set(t),i.set(e,t.length),i}},{key:"importSymmetricKeyAndIV",value:function(t){var e=this,t=new Uint8Array(t),i=this.extractSymmetricKeyBytes(t),r=this.extractIVBytes(t);return this.logger.debug("IV Bytes extracted: ",r),this.importSymmetricKey(i).then(function(t){return e.logger.debug("AES Key imported: ",t),{key:t,iv:r}})}},{key:"exportSymmetricKeyAndIV",value:function(t,e){var i=this;return this.exportSymmetricKey(t).then(function(t){t=i.mergeSymmetricKeyAndIV(t,e);return i.logger.debug("Symmetric key exported: ",t),t})}},{key:"encryptSymmetricKeyAndIV",value:function(t,e){var i=this;return this.encryptWithPublicKey(t,e).then(function(t){return i.logger.debug("Symmetric key encrypted: ",t),t})}},{key:"decryptSymmetricKeyAndIV",value:function(t,e){var i=this;return this.decryptWithPrivateKey(t,e).then(function(t){return i.logger.debug("AES Key Data decrypted: "),t})}},{key:"_encrypt",value:function(t,e,i){t=this.convertToBinary(t);return crypto.subtle.encrypt(i,e,t)}},{key:"_decrypt",value:function(t,e,i){t=this.normalizeBinaryData(t);return crypto.subtle.decrypt(i,e,t)}},{key:"encrypt",value:function(n,t){var s=this;return this.logger.debug("Encryption started: "),this.getSymmetricKey(t).then(function(t){var i=t.key,t=t.iv,r=s.getSymmetricEncryptionAlgorithmForUsage(t);return s.logger.debug("Symmetric Encryption Algorithm: ",r),s.exportSymmetricKeyAndIV(i,t).then(function(e){var t=(Array.isArray(n)?n:[n]).map(function(t,e){return s.logger.debug("Started encrypting data in "+e+": ",t),s._encrypt(t,i,r).then(function(t){return s.logger.debug("Finished encrypting data in "+e+": ",t),t}).catch(function(t){throw new Error("Failed to encrypt the data using Symmetric Encryption: "+t)})});return Promise.all(t).then(function(t){return s.logger.debug("Encryption finished: "),{key:e,data:1===t.length?t[0]:t}})})})}},{key:"decrypt",value:function(e,t){var n=this;return this.logger.debug("Decryption started: "),this.importSymmetricKeyAndIV(t).then(function(t){var i=t.key,t=t.iv,r=n.getSymmetricEncryptionAlgorithmForUsage(t),t=(e=Array.isArray(e)?e:[e]).map(function(t,e){return n.logger.debug("Started decrypting data in "+e+": ",t),n._decrypt(t,i,r).then(function(t){return n.logger.debug("Completed decrypting data in "+e+": ",t),t}).catch(function(t){throw new Error("Decryption error! Error: "+t)})});return Promise.all(t).then(function(t){return n.logger.debug("Decryption finished: "),1===t.length?t[0]:t})})}}]),_);function _(t){if(!(this instanceof _))throw new TypeError("Cannot call a class as a function");t=O(t||{},f),this.KEY_USAGES={ENCRYPT:"encrypt",DECRYPT:"decrypt"},this.asymmetricEncryptionAlgorithm=t.algorithm,this.asymmetricEncryptionHash=t.key_hash,this.asymmetricEncryptionKeySize=t.key_size,this.asymmetricPublicKeyFormat=t.publicKeyFormat,this.asymmetricPrivateKeyFormat=t.privateKeyFormat,this.symmetricKeyEncryptionAlgorithm=t.transmission_algorithm,this.symmetricKeyLength=t.transmission_key_length,this.symmetricKeyIVLength=t.transmission_iv_length,this.logger=new i(t.logLevel)}var T={privateKey:"MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCIDx6RJqiLUYUOLGBMW2VpmrPnGfnBfH7WWenVyKul0Y3se6LpXJdSf5YwrB7355tM/g3NCzvE2VqJfOAYbi69T3diOfWKtv0M0Xqx0djSr1xpSsO7sYxFAa86Teq/bSwrGBjLrUrTDHoNK3HMYt9u/IMLKGGeZC74KlxWG2kexQS7ADPaUvtt+sbm+4J00hbUZ+6LcCyb+w183zXMPVG5hFC03hyfzVeIDn+wIYP0SCuTIAZordcj+R1E4Nsbf8BgWEUKTJlxvDSSl5tfICV/Z09pZdoBbvru2Lch5lMAiQknskgO7GC0K2EkjEreYGr7k9/jU0i+reDj+aCaKMAhAgMBAAECggEAdZDC8994obGWDDIyH6iVz5OawiWC1zqxCpz03gKgtw6E2QPYOFcGdoXCjFoeBE4/tl6MJFIBmk3J2qVpqhKDFpe0685zKiKGM+5KW56dASf/7QdqbCO1tecHt5SeNDysfqw6uLwLvKO6TujsUxRYRrmwrhJ9j3S31T4dPVZAFhIas9yNCFtVVSoejrsZBTCoccHuOCRzlvYGawBHtRPLQjXfWNjdfcbK6aU7RH3ORagJG3wiJ+GUnlPwwCCxJJaX5E6lYoP/JQfm0S8NOsN57Sm0RpQ7XruU1jSsYPBaoxzu5y5jaOPiSvgndMWBT6Y51Q9TJgH2ef5VzNvhxq94AQKBgQDGCRazu4LhRrm0bY+Ci6T0aqoV18c7lB3K1eKYFUI+dYAJHSoyqKAKG0rV/PxqVzK+rKRLl9+HSIV+G1e2TL9h5oraQAp5p46eXFj+0Lk2y4Z1nVODBmniWMk87/agp7izVLps17mrEaXpA5SyIKo5Sp2mXD3RljcJ+0uUcwjJQQKBgQCv4hnirz7+wq064pU03nWUW9WZHS2OWiDbH+3cqvHMH8mhduQUdz7pasGpH1U0k8PmqWdZBlvWdcZvaQkKdJoPEixOmTrn/ulI8KQEVnOIa4W+fJLctMPBqNZBvQdozq/uX3t3yFmx3YOLyhgPH2ezKVP2yawsOnwAxO6XKQpe4QKBgH6kFUZ+5SWXCu7dGWcMUkKTa41oXdo10A+EU9GZ1rEGhwhNBE09FIsiBOtvSyPd+2+AC9jjmGh08hlA9wh3b/P1cFo9lfVSN5wBxk+9vpPR93yDTYJ+uXur95Tmh7sZRr43srgkBHHnaUfnqFF5HiJhGwvl9Qpwm2Xgs+aM4dOBAoGBAJfHKwVmq5sXjnwRSiccjiTf9vyxpD2C43WVISPbVNwM1mgC/CH5IY42dTan9lRv648iwy+dACWa7wn3fzjJlKTKzvdo3d+UJ+as2y1vGTYxa3INeIMDbyawt2x1Xm6AZmvzc83TVCvcd4drd8WdGVUPpgiC0pQ8SAQ17Zr+bJehAoGADTgia4vtIj14cSkoR0qjK28zkrm4CPmyaB3ds2f3k7C4rrT/Z5j0SmSuv2rj1GfLCg4NrtzNhDkIsW0nIZithu7cClZFM37ZHIevpgCK3h8AV9v1M9mwVxHx8oue2fHTbuW+xZbX6mYF9/QaXqmAbKd1jDriyrgOh0Xn6k/Xet8=",publicKey:"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAiA8ekSaoi1GFDixgTFtlaZqz5xn5wXx+1lnp1cirpdGN7Hui6VyXUn+WMKwe9+ebTP4NzQs7xNlaiXzgGG4uvU93Yjn1irb9DNF6sdHY0q9caUrDu7GMRQGvOk3qv20sKxgYy61K0wx6DStxzGLfbvyDCyhhnmQu+CpcVhtpHsUEuwAz2lL7bfrG5vuCdNIW1Gfui3Asm/sNfN81zD1RuYRQtN4cn81XiA5/sCGD9EgrkyAGaK3XI/kdRODbG3/AYFhFCkyZcbw0kpebXyAlf2dPaWXaAW767ti3IeZTAIkJJ7JIDuxgtCthJIxK3mBq+5Pf41NIvq3g4/mgmijAIQIDAQAB",algorithm:"RSA_2048"},N={privateKey:"MIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQDVDVF6vdb0wKcdJY9G0Oe4X4slqAcZID4Zr1t6GHqTMDU/GTEjWsHgYC5c5vxg+WWP3I0tbLmu7e9Jkz+FIeVFKQz08DoxmPW9/SIvMOlKZzukmGo6r2mR/3OIyT9VICnvIEh2k9GlkiYdOIgOrNpwu+ZSCq6CzTc5YC3p+rpJAi8Fet7Ynan7uI/ysB99HsZnH450rCTMKB1AqBmIDtOgqZs0GqbRyau7BZkZV65jYecZQ0oOi3utkm+1L7U7EixEcZf+AB75TqwMdTIA4uwg3gktoOs8ZDsFgWQfkd10CK8nSs3w6onNqrfcKpiRTKF8qhBdONtPsElqR410572TAgMBAAECggEBAKyV0lhMqnGwEm/Q+kSSe/NmKlEB0WYwMT4bSE4awEi1d5y6qoyKO52oLEaDsxRXU0d7kT2n4q7q/bkrN/x/3brtqxpL88gzsXYLNYLm60SjZbRK51rMuAdV2OCIre4mVPHpw+mSivTF9GwdXFIPAhDqlYQGNSGuXbrzx53PxtHWIaP+nFU/LBMONatyq/h0iNj5HLByLLURgWkPWIiz4W5t4K12OndWAjGenR19DdbnVk5eHWwau1bSZCm750tV+qMemVUVCcSgiiQdzG51rUfvJfTFnyXq0W2qlEKmLFmWfKwrsbk+cE6ZMfE44FxYojywSoKZJ+p2cKRoP1ZGk2ECgYEA6g9hwuMeAW0WnfdnO7NrVSuPsRywRMscArJBA6wJgtnk4OCD1bh+y3obQXafOw5nEUytmOT8LJvCxfqfdL6TsNMglykU4c7ePsbmTo4558iykceI0zD/Dmsr6GncJlG/W9pJE/rXHLKcyVwGlkA141nt6thSRjz0SlK4XC0dEoMCgYEA6QXRH5rsQpBi77FXVHcP9R6GBjy19q5kCro44c8/90qZHwPVCpl50QW63/wNwuk/pnPVBYYV2Q+JVTdYK7xWVWaTlGYdd3ACxM8M/QNsd5vWDGRk2jQTFM7u6bNaxBKgBASDtNXtHK2HIKJCASTXYyQqILs5IlBnAa/iiewje7ECgYBYiCrtQWT3GyEj7RGiNlJR6+E1F+ngi4bzyiLnVapfUTXOjX2wWFG1e2FV2J2QA/meRIehPnPYF66Lnim0SeWpS6KXKpXYd5v+2NMCQa/LaVGJ7JRnda/z7zuzdF8uK1ubTay4nvfAxhqh22ouaOk5LqncW6h7ItEwT6umSfYmKwKBgQCI7QAbYD+gRZO9YSn92hCoao06sQYDtCnZG+A84DmoKE+dp/TRy6mHJ6TN5SB4/fKG7t2n50iDSdvbFTBcUskwWZwywWZjPpCB8WCidBaSmiHHGl8g0SS9P3OoI9ocCQ26DqUN5/7ysQ0MIgxC+9EM0r1mil1iSnicxyuI/BdFoQKBgQDQlKmcSjgft/2EhwN16Ck8+RWQluEG+nmoI/WB+LU56+TQzc3GGXQHjwDnrfX9vGgdBcI62Dk+S+d7HS8YY8XOAPugJ4/G1gABLjniG1N0GyeJmjjP2M+sLmljtxyLVwdz/PXVdT+7mnuwTt3TLEJUcI+EVL4D8oq6L7vwbcYzdQ==",publicKey:"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA1Q1Rer3W9MCnHSWPRtDnuF+LJagHGSA+Ga9behh6kzA1PxkxI1rB4GAuXOb8YPllj9yNLWy5ru3vSZM/hSHlRSkM9PA6MZj1vf0iLzDpSmc7pJhqOq9pkf9ziMk/VSAp7yBIdpPRpZImHTiIDqzacLvmUgqugs03OWAt6fq6SQIvBXre2J2p+7iP8rAffR7GZx+OdKwkzCgdQKgZiA7ToKmbNBqm0cmruwWZGVeuY2HnGUNKDot7rZJvtS+1OxIsRHGX/gAe+U6sDHUyAOLsIN4JLaDrPGQ7BYFkH5HddAivJ0rN8OqJzaq33CqYkUyhfKoQXTjbT7BJakeNdOe9kwIDAQAB",algorithm:"RSA_2048"},R={ORG:"org",SERVICE:"service",COMMON:"common"},G={WAF_ENCRYPTION_HANDSHAKE_URL:"/zwaf/encryption/handshake",WAF_ENCRYPTION_KEY_HEADER:"Waf-Encryption-Key",WAF_ENCRYPTION_ID_HEADER:"Waf-Encryption-Id",WAF_CONTENT_ENCODING_HEADER:"Waf-Content-Encoding"};var L={clientIDCookie:"_zwaf_enc_clientid",serverIDCookie:"_zwaf_enc_serverid",serverPublicKey:"server-public-key",clientKeyExpiry:"client-id-expiry",clientPublicKey:"client-public-key",clientPrivateKey:"client-private-key",wafEncryptionId:"waf-encryption-id",algorithm:"RSA-OAEP",keySize:2048,scope:R.COMMON,handshakeURL:G.WAF_ENCRYPTION_HANDSHAKE_URL,tag:window&&window.location&&window.location.hostname||"null"},a=function e(i){var o=new z,r=null,n=!1,a=null,h=null,l=null,c=null,u=null,s=!1;function d(e,t,r){return o.encrypt(e,t).then(function(t){var e=t.key,i=t.data;return o.encryptSymmetricKeyAndIV(e,r).then(function(t){return{key:(t=o.exportBinary([t,i]))[0],data:t[1]}})}).then(function(t){return o.logger.debug("Encryption complete: ",e),t}).catch(function(t){throw Error("Error while encrypting data: "+t)})}function f(e,t,i){return o.decryptSymmetricKeyAndIV(t,i).then(function(t){return o.decrypt(e,t)}).catch(function(t){throw Error("Error while decrypting data: "+t)})}function _(a){return new Promise(function(r,e){o.logger.debug("Decompressing data");var t=new Blob([a]),i=new(window&&window.DecompressionStream?window:window.sdStreamsCompression).DecompressionStream("gzip"),n=new Response(t).body.pipeThrough(i).getReader(),s=[];return function i(){try{return n.read().then(function(t){var e=t.done,t=t.value;if(!e)return o.logger.debug("Partial decompressed content:",t),s.push(t),i();o.logger.debug("Decompression complete"),r(s)})}catch(t){e("Error while decompressing data: "+t)}}()}).then(function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i].length;for(var r=new Uint8Array(e),n=0,s=0;s<t.length;s++)r.set(t[s],n),n+=t[s].length;return r.buffer})}function y(t,e){var i=Promise.resolve(t);if(e&&!0===e.decompress&&(i=_(t)),e&&!0===e.returnBinary)return i;try{return i.then(function(t){return Array.isArray(t)?t.map(function(t){return(new TextDecoder).decode(t)}):(new TextDecoder).decode(t)})}catch(t){throw o.logger.error(t),o.logger.debug(value),new Error("Failed to decode the decrypted content as string!")}}function m(t){return"_zwaf__"+a.tag+"__"+t}function t(){var t,e,i=void 0,r=!1;return a.scope===R.COMMON?i=h?Promise.resolve(h):b(T):w()&&!s&&(t=U(m(a.serverIDCookie)),e=P(a.serverIDCookie),F(m(a.clientKeyExpiry)))&&w()&&F(m(a.clientPrivateKey))&&F(m(a.serverPublicKey))&&F(m(a.clientIDCookie))&&D(a.clientIDCookie)&&t&&e&&t===e?i=h?Promise.resolve(h):b(g(U(m(a.clientPublicKey)),U(m(a.clientPrivateKey)))):(i=o.generateAsymmetricKeyPair(a.algorithm,a.keySize),r=!0),i.then(function(t){return h=t,o.logger.info("Client Key Pair stored in memory !"),r})}function v(t){var e=!1;return(a.scope===R.COMMON?l?Promise.resolve(l):b(N):t?(e=!0,o.exportAsymmetricPublicKey(h.publicKey).then(function(t){return u=c=null,r=t,n=a.handshakeURL,C.getCSRFDetails().then(function(t){var e=t[0],t=P(t[1]),i=new FormData;return i.append("scope",a.scope),i.append("size",a.keySize),i.append("algorithm",a.algorithm),i.append("data",JSON.stringify({"client-public-key":o.exportBinary(r)})),i.append(e,t),fetch(n,{method:"POST",headers:a.handshakeHeaders||{},body:i}).then(function(t){return t.json()}).then(function(t){if(t[a.serverPublicKey])return t;throw new Error("Failed to fetch Server Public Key!")})}).then(function(t){return c=t[a.clientKeyExpiry]||-1,u=t[a.wafEncryptionId]||null,b(g(t[a.serverPublicKey],null))});var r,n})):l?Promise.resolve(l):b(g(U(m(a.serverPublicKey)),null))).then(function(t){return l=t,o.logger.info("Server Key Pair stored in memory !"),e})}function b(t){return o.importAsymmetricPublicKey(t.publicKey).then(function(e){return o.importAsymmetricPrivateKey(t.privateKey).then(function(t){return g(e,t)})})}function g(t,e){return{publicKey:t,privateKey:e}}function p(){return t().then(function(e){return v(e).then(function(t){return t||e?function(){var t=[];try{var e=P(a.serverIDCookie);B(m(a.serverIDCookie),e)}catch(t){o.logger.error("Failed to store Server ID in localStorage!")}try{var i=o.exportAsymmetricPublicKey(l.publicKey).then(function(t){return B(m(a.serverPublicKey),o.exportBinary(t)),!0});t.push(i)}catch(t){o.logger.error("Failed to store Server Public Key in localStorage!")}try{var r=P(a.clientIDCookie);B(m(a.clientIDCookie),r)}catch(t){o.logger.error("Failed to store Client ID in localStorage!")}e=c+Math.floor(Date.now()/1e3);try{B(m(a.clientKeyExpiry),e)}catch(t){o.logger.error("Failed to store Client Expiry time in localStorage!")}try{u&&B(m(a.wafEncryptionId),u)}catch(t){o.logger.error("Failed to store Waf Encryption ID in localStorage!")}try{var n=o.exportAsymmetricPublicKey(h.publicKey).then(function(t){return B(m(a.clientPublicKey),o.exportBinary(t)),!0});t.push(n)}catch(t){o.logger.error("Failed to store Client Public Key in localStorage!")}try{var s=o.exportAsymmetricPrivateKey(h.privateKey).then(function(t){return B(m(a.clientPrivateKey),o.exportBinary(t)),!0});t.push(s)}catch(t){o.logger.error("Failed to store Client Private Key in localStorage!")}return Promise.all(t).then(function(t){return o.logger.info("Key details stored in localStorage!"),!0})}().then(function(t){return t}):(o.logger.debug("Handshake not needed, ignoring this init call!"),!0)})})}function w(){var t=U(m(a.clientKeyExpiry));if(t=Number(t))return t*=1e3,Date.now()<t}function k(){var t=[a.serverIDCookie,a.serverPublicKey,a.clientIDCookie,a.clientKeyExpiry,a.clientPublicKey,a.clientPrivateKey],e=[a.serverIDCookie,a.clientIDCookie];return t.forEach(function(e){var t,i=m(e);try{F(i)&&(t=i,window)&&window.localStorage&&null!=t&&window.localStorage.removeItem(t)}catch(t){o.logger.error("Failed to delete "+e+" from localStorage!")}}),e.forEach(function(e){try{D(storageKeyName)&&I(storageKeyName)}catch(t){o.logger.error("Failed to delete "+e+" from localStorage!")}}),!0}function x(t){if(n)return t=(t?h:l).publicKey,Promise.resolve(t);throw new Error("ZWAF Encryption Agent not initialized yet!")}function A(t){if(n)return t=(a.scope===R.COMMON&&t?l:h).privateKey,Promise.resolve(t);throw new Error("ZWAF Encryption Agent not initialized yet!")}function E(){if(n||r)return r?o.logger.debug("Handshake in progress so returning the same promise!"):r=p().then(function(t){return r=null,n=t}),r;throw new Error("ZWAF Encryption Agent not initialized yet!")}function S(){return o.getSymmetricKey()}function K(t){return e(t=O(t||{},L))}return K.SCOPES=R,K.constants=G,K.encrypt=function(e,i){return E().then(function(t){return x().then(function(t){return d(e,i,t)})})},K.decrypt=function(e,i,r){return A().then(function(t){return f(e,i,t).then(function(t){return y(t,r)})})},K.encryptAsServer=function(e,i){return E().then(function(t){return x(!0).then(function(t){return d(e,i,t)})})},K.decryptAsServer=function(e,i,r){return A(!0).then(function(t){return f(e,i,t).then(function(t){return y(t,r)})})},K.init=function(t){return n&&o.logger.debug("Encrypt Agent already initialized! Is this call really necessary?"),r&&t.tag===a.tag?o.logger.debug("Init in progress so returning the same promise!"):(a=O(t||{},i),r=p().then(function(t){return r=null,n=t}).catch(function(t){return n=!1,r=null,o.logger.debug("Handshake Failed! ",t),Promise.reject(t)})),r},K.reInit=function(t){return s=!0,a=O(t||{},i),o.logger.debug("Using forced handshake for Encrypt Agent!"),k(),r=p().then(function(t){return r=null,s=!1,n=t})},K.deleteHandshakeDetails=k,K.getKey=function(){return S().then(function(e){return E().then(function(t){return o.exportSymmetricKeyAndIV(e.key,e.iv).then(function(e){return x().then(function(t){return o.encryptSymmetricKeyAndIV(e,t).then(function(t){return o.exportBinary(t)})})})})})},K.getReusableKey=S,K.setLogLevel=function(t){o.setLogLevel(t)},K.getEncryptAgent=function(){return o},K.getWafEncryptionId=function(){if(n||r)return r?(o.logger.debug("Handshake in progress. Please call after Handshake is complete!"),null):U(m(a.wafEncryptionId));throw new Error("ZWAF Encryption Agent not initialized yet!")},K.getPublicKey=x,K.getPrivateKey=A,K}(L);return Object.freeze&&Object.freeze(a),"7.0.2"!==t.version||t.Encryption||t.defineProperty(t,"Encryption",a,!0,!1,!1,!0),t["7.0.2"].Encryption||t.defineProperty(t["7.0.2"],"Encryption",a,!0,!1,!1,!0),t});
