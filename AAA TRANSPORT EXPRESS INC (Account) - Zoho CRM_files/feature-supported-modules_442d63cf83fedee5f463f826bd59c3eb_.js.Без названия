Lyte.Mixin.register("feature-util",{isFeatureSupported:function(e,r){"Potentials"===r?r="Deals":"Events"===r&&(r="Meetings");for(var t=this.getFromFeatureStore(e),u=0,a=t.length;u<a;){if(t[u].module_name==r)return!0;u++}return!1},isNotPartOf:function(e,r){return!r||!e||-1==(e=e.split(",")).indexOf(r.toString())},getFromFeatureStore:function(e){var r=store.peekRecord("feature_supported_modules",e);return r&&r.modules?r.modules:[]}}),store.registerModel("feature_supported_modules",{featureName:Lyte.attr("string",{primaryKey:!0}),modules:Lyte.attr("array")}),store.registerAdapter("feature_supported_modules",{namespace:"crm/v6/settings/modules",headersForRequest:function(){return this.$super.headersForRequest()},buildURL:function(e,r,t,u,a){return a.replace("/feature_supported_modules","")}}),store.registerSerializer("feature_supported_modules",{payloadKey:function(){return"data"},normalizeResponse:function(e,r,t,u,a,o,s){s.feature_name,t.featureName=s.feature_name;var n={};return n.data=t,n}});
