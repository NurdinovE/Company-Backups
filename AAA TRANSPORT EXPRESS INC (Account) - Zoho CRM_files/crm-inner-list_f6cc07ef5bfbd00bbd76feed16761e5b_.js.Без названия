Lyte.Component.register("crm-inner-list",{_template:'<template tag-name="crm-inner-list"> <div class="newListviewLoader"> <span class="cliptextLoader"></span> </div> <template is="if" value="{{expHandlers(expHandlers(from_page,\'!=\',&quot;mass_tools&quot;),\'&amp;&amp;\',expHandlers(expHandlers(showManageColumn,\'||\',isResizeEnabled),\'||\',isClipWrapEnabled))}}"><template case="true"> <span tabindex="0" class="columnCustomization {{if(isOptionOpened,\'cCopenEffects\',\'\')}}" data-zcqa="listView_addColumn" aria-label="{{getI18n(\'crm.listview.options.manage\')}}" lt-prop-title="{{getI18n(\'crm.listview.options.manage\')}}" onclick="{{action(\'showOptionsPopup\')}}" id="addColumn" lt-prop-tooltip-config="{&quot;position&quot;:&quot;Bottom-Left&quot;}" lt-prop-aria-keydown="true" continue-propagation="true" role="button"> <span type="button" class="manageColumnClss"></span> <span id="optionsList" class="dN" onclick="{{action(\'onClick\',event)}}"></span> </span> </template></template> <crux-table-component cx-prop-aria="{{isAccessibilityEnabled}}" cx-prop-express="true" selectable="true" cx-prop-display-row-number="{{latest_ent_row}}" id="listcrux" cx-prop-header="{{customfields}}" cx-prop-label-selector="list_display_label" cx-prop-content="{{customview_records}}" cx-prop-header-row-id="listviewHeaderRow" cx-prop-yield-for-prefix="true" cx-prop-sort-columns="{{if(ifEquals(from_page,\'listview\'),true,false)}}" cx-prop-yield-for-suffix="{{if(list_cv_btn.length,true)}}" cx-prop-body-id="lvTred" cx-prop-enable-body-scroll="true" cx-prop-column-cell-class="sort" cx-prop-field-type-mapping="{{fieldMapping}}" cx-prop-no-records-message="{{no_record_message}}" cx-prop-no-records-zcqa="lvNoRecordsFound" on-sort="{{action(\'showSortDropdown\')}}" cx-prop-sorted-column="{{if(ifEquals(from_page,\'listview\'),if(sortByComp.api_name,sortByComp.api_name,sortByComp.id))}}" cx-prop-sorted-order="{{custom_view.sort_order}}" on-body-row-click="{{action(\'navigateDetailview\')}}" on-mouse-over="{{action(\'showIcons\')}}" on-mouse-out="{{action(\'hideIcons\')}}" on-scroll="{{method(\'tableScroll\')}}" cx-prop-field-type-mapping-selector="api_name" cx-prop-selected-rows="{{selectedIds}}" cx-prop-table-id="{{if(expHandlers(from_page,\'==\',&quot;workflow_reports&quot;),&quot;wfrlistviewtable&quot;,&quot;listViewTable&quot;)}}" cx-prop-data-bind="lyteFastRender" cx-prop-prefix-yields="{{prefixYields}}" cx-prop-suffix-yields="{{suffixYields}}" data-zcqa="listViewTable" class="listviewtable {{module}} {{if(ifEquals(customview_records.length,0),\'NoDataInRecord\')}}" cx-prop-row-zcqa="detailView" cx-prop-module="{{module}}" cx-prop-add-search="false" new="true" cx-prop-selected-row-class="listViewRowSelected" cx-prop-header-yield="{{headerYields}}" on-scroll-set-latest-entity-position="{{method(\'latestEntityIdFromTable\')}}" on-show-more-tags="{{method(\'showMoreTags\')}}" cx-prop-dual-resize="{{isResizeEnabled}}" cx-prop-new-list-view="true" on-resize-end="{{method(\'resizeColumn\')}}" cx-prop-table-class="{{if(clip_mode,\'wrapTextIncluded setMaxWidthForTable\',\'setMaxWidthForTable\')}} {{if(expHandlers(isStickyTable,\'!\'),\'lyteNoStickyTable\',\'\')}} {{if(doEnablePinnedColAnim,\'cxTableLastPinnedColEnableUiAnim\',\'\')}} {{if(ifEquals(featureName,\'merge\'),\'cfm_recordTable\',\'\')}} {{if(expHandlers(from_page,\'===\',\'zia_reasoning_stats\'),\'zRSTableClass\')}}" cx-prop-is-alpha-search-shown="{{if(expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(isEngLocale(),\'&amp;&amp;\',expHandlers(module_info.kanban_view,\'!\')),\'&amp;&amp;\',expHandlers(module_info.zia_view,\'!\')),\'&amp;&amp;\',expHandlers(begin_page,\'!\')),\'&amp;&amp;\',expHandlers(ifEquals(module,\'Appointments\'),\'!\')),\'&amp;&amp;\',expHandlers(isFromModal,\'!\')),true)}}" cx-prop-module-display-field="{{displayfield}}" on-before-set-fix-table-column-width="{{method(\'beforeSetFixTableColumnWidth\')}}" on-after-set-fix-table-column-width="{{method(\'afterSetFixTableColumnWidth\')}}" cx-prop-clip-mode="{{clip_mode}}" cx-prop-prevent-width="{{cv_width_updated}}" cx-prop-sticky-table="{{isStickyTable}}" cx-prop-header-tooltip-class="lvTooltipClass" cx-prop-header-tooltip-config="{&quot;showdelay&quot; : 600, &quot;appearance&quot; : &quot;box&quot;}" cx-prop-tooltip="true" cx-prop-tooltip-props="{&quot;config&quot;:{&quot;showdelay&quot; : 600, &quot;appearance&quot; : &quot;box&quot;}, &quot;class&quot; : &quot;lvTooltipClass&quot;}" on-resize-select="{{method(\'onResizeSelect\')}}" cx-prop-show-sort-icon="{{showSortIcon}}" cx-prop-cell-suffix-yield="true" tabindex="{{if(isAccessibilityEnabled,&quot;0&quot;,&quot;-1&quot;)}}"> <template is="yield" yield-name="header-prefix-1" cx-prop-fixed="enable" cx-prop-style="width:30px" lt-prop-class="listviewFixedColumn"> </template> <template is="yield" yield-name="cellSuffixYield"> <template is="if" value="{{expHandlers(fieldObj.api_name,\'==\',\'Email\')}}"><template case="true"> <span data-zcqa="ebm_block_icon_{{fieldObj.api_name}}" lyte-hovercard="true" onmouseenter="{{action(\'onmouseOverBounceIcon\',event,this,\'Email\')}}" onmouseleave="{{action(\'onmouseOutBounceIcon\',this)}}" id="bounceicon" class="zcicncss-alert-filled zcicn-cssIcons zcicn_sandal_mask emailUnblocking Email {{isEmailBlocked(true)}} mL3 vaM cP"></span> </template><template case="false"><template is="if" value="{{expHandlers(fieldObj.api_name,\'==\',\'Secondary_Email\')}}"><template case="true"> <span data-zcqa="ebm_block_icon_{{fieldObj.api_name}}" lyte-hovercard="true" onmouseenter="{{action(\'onmouseOverBounceIcon\',event,this,\'Secondary_Email\')}}" onmouseleave="{{action(\'onmouseOutBounceIcon\',this)}}" id="bounceicon" class="zcicncss-alert-filled zcicn-cssIcons zcicn_sandal_mask emailUnblocking Secondary_Email {{isEmailBlocked(false)}} mL3 vaM cP"></span> </template></template></template></template> </template> <template is="yield" yield-name="header-prefix-2" cx-prop-fixed="enable" cx-prop-style="width:10px" lt-prop-class="listviewFixedColumn"> <template is="if" value="{{expHandlers(category,\'!==\',&quot;queue&quot;)}}"><template case="true"> <template is="if" value="{{expHandlers(expHandlers(customview_records.length,\'>\',0),\'&amp;&amp;\',expHandlers(clientAccount,\'!\'))}}"><template case="true"><template is="if" value="{{expHandlers(expHandlers(from_page,\'==\',&quot;workflow_reports&quot;),\'&amp;&amp;\',expHandlers(retry_enabled,\'!\'))}}"><template case="true"> <span class="iconlock_ap mL2" lt-prop-title="{{getI18n(\'crm.workflow.reports.retryNotSupported\')}}" lt-prop-tooltip-config="{&quot;position&quot;:&quot;followcursor&quot;, &quot;appearance&quot; : &quot;box&quot;}"></span> </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(cv_system_name,\'&amp;&amp;\',indexOf(cv_system_name,&quot;REVIEWPROCESS&quot;,&quot;>=&quot;,0)),\'&amp;&amp;\',expHandlers(admin,\'!\'))}}"><template case="true"> <span class="iconlock_ap mL2" lt-prop-title="{{getI18n(\'crm.reviewprocess.records.list.review.pending\')}}" lt-prop-tooltip-config="{&quot;position&quot;:&quot;followcursor&quot;, &quot;appearance&quot; : &quot;box&quot;}"></span> </template><template case="false"> <template is="if" value="{{showSelectBox}}"><template case="true"> <lyte-checkbox focusable="true" class="uSelN {{if(expHandlers(expHandlers(expHandlers(from_page,\'==\',&quot;workflow_reports&quot;),\'||\',expHandlers(featureName,\'==\',&quot;merge&quot;)),\'&amp;&amp;\',hideAllSelectCheckBox),&quot;dNImp&quot;,&quot;&quot;)}} {{if(expHandlers(cv_system_name,\'&amp;&amp;\',indexOf(cv_system_name,&quot;IMAGEVALIDATION&quot;,&quot;>=&quot;,0)),&quot;dNImp&quot;,&quot;&quot;)}}" lt-prop-title="{{if(expHandlers(from_page,\'!=\',&quot;workflow_reports&quot;),getI18n(&quot;crm.listview.maximum.records.alert&quot;,100))}}" lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottomright&quot;, &quot;appearance&quot; : &quot;box&quot;, &quot;showdelay&quot; : 1000}" id="selectCheckbox" data-zcqa="{{if(ifEquals(from_page,\'mass_tools\'),\'massTools_selectAllEntity\',\'listView_selectAllEntity\')}}" lt-prop-id="selectAllEntity" lt-prop-class="customCheckBox" on-changed="{{method(&quot;selectAllEntity&quot;)}}"></lyte-checkbox> </template></template> </template></template></template></template> </template></template> </template></template> </template> <template is="yield" yield-name="header-prefix-3" cx-prop-fixed="enable" cx-prop-style="min-width:0px;padding-left:0px !important; padding-right:0px;"> </template> <template is="yield" yield-name="body-prefix-1"> <div class="listIcon wsNowrap" id="icons{{recordObj.id}}"> <div class="aligncenter"> <template is="if" value="{{expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(module,\'==\',&quot;Appointments&quot;),\'||\',expHandlers(module,\'==\',&quot;Activities&quot;)),\'||\',expHandlers(module,\'==\',&quot;Tasks&quot;)),\'||\',expHandlers(module,\'==\',&quot;Calls&quot;)),\'||\',expHandlers(module,\'==\',&quot;Events&quot;)),\'||\',expHandlers(module,\'==\',&quot;Meetings&quot;)),\'||\',clientAccount)}}"><template case="true"> <template is="if" value="{{expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(isFromModal,\'!\'),\'&amp;&amp;\',expHandlers(expHandlers(expHandlers(ifEquals(recordObj.$approved,false),\'&amp;&amp;\',ifEquals(recordObj.$approval.resubmit,false)),\'||\',expHandlers(cv_system_name,\'&amp;&amp;\',indexOf(cv_system_name,&quot;REVIEWPROCESS&quot;,&quot;>=&quot;,0))),\'!\')),\'&amp;&amp;\',expHandlers(expHandlers(expHandlers(recordObj.$approval.resubmit,\'||\',recordObj.$approved),\'||\',recordObj.$review),\'||\',expHandlers(module,\'==\',&quot;Appointments&quot;))),\'&amp;&amp;\',expHandlers(recordObj.$stop_processing,\'!\')),\'&amp;&amp;\',expHandlers(recordObj.$in_merge,\'!\')),\'&amp;&amp;\',expHandlers(recordObj.$review,\'!=\',&quot;Rejected&quot;)),\'&amp;&amp;\',indexOf(module,&quot;Orchestration&quot;,&quot;<&quot;,0))}}"><template case="true"> <crm-view-edit-icon record="{{recordObj}}" module="{{module}}" cvid="{{module_info.custom_view.id}}" module_info="{{module_info}}" notes-badge="{{notesBadge}}" is-note-r-l-visible="{{isNoteRLVisible}}" disable-notes-badge="{{disableNotesBadge}}" from-list-view="true"></crm-view-edit-icon> </template></template> </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(expHandlers(isFromModal,\'!\'),\'&amp;&amp;\',indexOf(module,&quot;Orchestration&quot;,&quot;<&quot;,0)),\'&amp;&amp;\',indexOf(module,&quot;PathFinder&quot;,&quot;<&quot;,0))}}"><template case="true"><template is="if" value="{{expHandlers(expHandlers(expHandlers(from_page,\'==\',&quot;workflow_reports&quot;),\'&amp;&amp;\',expHandlers(recordObj.reason_for_exclusion,\'!==\',null)),\'&amp;&amp;\',expHandlers(moduleActionsMenu.length,\'>\',0))}}"><template case="true"> <span class="icon-hover-effects icon-hover-lg pA lvmoreIcon" data-zcqa="quickActionsMenu" id="quickActionsOptions_{{recordObj.id}}" lt-prop-title="{{getI18n(\'crm.dashboard.more.options\')}}" aria-label="{{getI18n(\'crm.dashboard.more.options\')}}" onclick="{{action(\'onQuickMenuClick\',event)}}"><span class="zcicncss-morehr zcicn-cssIcons zcicn_black_mask zi2 pR"></span></span> </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(ifEquals(recordObj.$approved,false),\'&amp;&amp;\',ifEquals(recordObj.$approval.resubmit,false)),\'||\',expHandlers(cv_system_name,\'&amp;&amp;\',indexOf(cv_system_name,&quot;REVIEWPROCESS&quot;,&quot;>=&quot;,0)))}}"><template case="true"> <template is="if" value="{{expHandlers(expHandlers(expHandlers(admin,\'&amp;&amp;\',expHandlers(recordObj.$review,\'==\',&quot;Rejected&quot;)),\'&amp;&amp;\',showSelectBox),\'&amp;&amp;\',expHandlers(moduleActionsMenu.length,\'>\',0))}}"><template case="true"> <span data-zcqa="quickActionsMenu" id="quickActionsOptions_{{recordObj.id}}" class="icon-hover-effects icon-hover-lg pA lvmoreIcon" onclick="{{action(\'onQuickMenuClick\',event)}}"><span class="zcicncss-morehr zcicn-cssIcons zcicn_black_mask zi2 pR"></span></span> </template></template> </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(expHandlers(clientAccount,\'!\'),\'&amp;&amp;\',showSelectBox),\'&amp;&amp;\',expHandlers(moduleActionsMenu.length,\'>\',0))}}"><template case="true"> <template is="if" value="{{expHandlers(expHandlers(recordObj.$stop_processing,\'!\'),\'||\',expHandlers(recordObj.$stop_processing,\'&amp;&amp;\',expHandlers(actionsForStopProcessingRec.length,\'>\',0)))}}"><template case="true"> <span data-zcqa="quickActionsMenu" tabindex="0" lt-prop-title="{{getI18n(\'crm.dashboard.more.options\')}}" aria-label="{{getI18n(\'crm.dashboard.more.options\')}}" id="quickActionsOptions_{{recordObj.id}}" class="icon-hover-effects icon-hover-lg pA lvmoreIcon" onclick="{{action(\'onQuickMenuClick\',event)}}"><span class="zcicncss-morehr zcicn-cssIcons zcicn_black_mask zi2 pR"></span></span> </template></template> </template></template></template></template></template></template> </template></template></template></template> <template is="if" value="{{expHandlers(activityBadgeUpgrade,\'&amp;&amp;\',expHandlers(isFromConvertedView,\'!\'))}}"><template case="true"> <template is="if" value="{{expHandlers(expHandlers(expHandlers(notesBadge,\'===\',\'enabled\'),\'&amp;&amp;\',showNote),\'&amp;&amp;\',expHandlers(isFromModal,\'||\',expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(module,\'!=\',&quot;Activities&quot;),\'&amp;&amp;\',expHandlers(module,\'!=\',&quot;Tasks&quot;)),\'&amp;&amp;\',expHandlers(module,\'!=\',&quot;Events&quot;)),\'&amp;&amp;\',expHandlers(module,\'!=\',&quot;Calls&quot;)),\'&amp;&amp;\',expHandlers(module,\'!=\',&quot;Appointments&quot;))))}}"><template case="true"> <span id="notesBadge" data-zcqa="noteBadge_{{recordObj.id}}" lt-prop-title="{{if(disableNotesBadge,getI18n(\'crm.creator.error.access\'),if(expHandlers(isNoteRLVisible,\'!\'),getI18n(\'crm.customview.rl.hidden\',getI18n(\'crm.label.notes\'))))}}" lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottomright&quot;, &quot;appearance&quot; : &quot;box&quot;}" class="lvNoteIcon icon-hover-effects icon-hover-lg {{if(disableNotesBadge,\'disabled cNotAllowed\',if(expHandlers(isNoteRLVisible,\'!\'),\'cNotAllowed\'))}} {{if(expHandlers(recordObj.noteCount,\'>\',0),\'recordNotesicon showIcon\',\'createNotesicon\')}}" onclick="{{action(&quot;showWorkQueueNote&quot;,event,this,recordObj)}}" onmouseenter="{{action(\'showLatestNote\',event,this,recordObj)}}" onmouseleave="{{action(\'closeLatestNote\',event)}}"> <span class="zcicncss-notes-lg zcicn-cssIcons zcicncss15 zcicn_black_mask zi2"></span> </span> </template></template> </template></template> </div> </div> </template> <template is="yield" yield-name="body-prefix-2" cx-prop-style="width:18px" data-zcqa="dummy"> <div class="dF"> <template is="if" value="{{expHandlers(from_page,\'==\',&quot;workflow_reports&quot;)}}"><template case="true"> <template is="if" value="{{expHandlers(category,\'!==\',&quot;queue&quot;)}}"><template case="true"> <template is="if" value="{{recordObj.$converted_record}}"><template case="true"> <span class="iconlock_ap mL2" lt-prop-title="{{getI18n(&quot;crm.workflow.reports.convertedRecordMsg&quot;,module_info.singular_label)}}" lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottomright&quot;, &quot;appearance&quot; : &quot;box&quot;}"></span> </template><template case="false"><template is="if" value="{{expHandlers(recordObj.$deleted_record,\'&amp;&amp;\',expHandlers(expHandlers(recordObj.record,\'==\',null),\'||\',expHandlers(recordObj.$retry_enabled,\'!\')))}}"><template case="true"> <span class="iconlock_ap mL2" lt-prop-title="{{getI18n(&quot;crm.workflow.reports.deletedRecordMsg&quot;,module_info.singular_label)}}" lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottomright&quot;, &quot;appearance&quot; : &quot;box&quot;}"></span> </template><template case="false"><template is="if" value="{{expHandlers(recordObj.retry_mode_in_progress,\'===\',\'manual\')}}"><template case="true"> <span class="iconlock_ap mL2" lt-prop-title="{{getI18n(&quot;crm.workflow.reports.retryInProgress&quot;)}}" lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottomright&quot;, &quot;appearance&quot; : &quot;box&quot;}"></span> </template><template case="false"><template is="if" value="{{expHandlers(recordObj.retry_mode_in_progress,\'===\',\'system\')}}"><template case="true"> <span class="iconlock_ap mL2" lt-prop-title="{{getI18n(&quot;crm.workflow.reports.systemRetryInProgress&quot;)}}" lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottomright&quot;, &quot;appearance&quot; : &quot;box&quot;}"></span> </template><template case="false"><template is="if" value="{{recordObj.$retry_limit_reached}}"><template case="true"> <span class="iconlock_ap mL2" lt-prop-title="{{getI18n(&quot;crm.workflow.reports.retryLimitReached&quot;)}}" lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottomright&quot;, &quot;appearance&quot; : &quot;box&quot;}"></span> </template><template case="false"><template is="if" value="{{expHandlers(recordObj.$retry_enabled,\'!\')}}"><template case="true"> <span class="iconlock_ap mL2" lt-prop-title="{{getI18n(&quot;crm.workflow.reports.retryNotSupported&quot;)}}" lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottomright&quot;, &quot;appearance&quot; : &quot;box&quot;}"></span> </template><template case="false"><template is="if" value="{{recordObj.$stop_processing}}"><template case="true"> <span class="iconlock_ap mL2" lt-prop-title="{{getI18n(&quot;crm.workflow.reports.dataProcessingStopped&quot;)}}" lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottomright&quot;, &quot;appearance&quot; : &quot;box&quot;}"></span> </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(recordObj.action.type,\'===\',&quot;email_notification&quot;),\'&amp;&amp;\',expHandlers(recordObj.associated_to,\'===\',null))}}"><template case="true"> <span class="iconlock_ap mL2" lt-prop-title="{{getI18n(&quot;crm.workflow.reports.emailFieldDeleted&quot;)}}" lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottomright&quot;, &quot;appearance&quot; : &quot;box&quot;}"></span> </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(expHandlers(recordObj.action.type,\'===\',&quot;email_notification&quot;),\'&amp;&amp;\',expHandlers(recordObj.Data_Processing_Basis_Details,\'!=\',null)),\'&amp;&amp;\',expHandlers(recordObj.Data_Processing_Basis_Details.Contact_Through_Email,\'!\'))}}"><template case="true"> <span class="iconlock_ap mL2" lt-prop-title="{{getI18n(&quot;crm.workflow.reports.emailConsentBlocked&quot;)}}" lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottomright&quot;, &quot;appearance&quot; : &quot;box&quot;}"></span> </template><template case="false"><template is="if" value="{{expHandlers(recordObj.reason_for_exclusion,\'!==\',null)}}"><template case="true"> <span class="wfRepInfoIcon mL2 dIB zcrm_svgIcons" id="wfRepInfoIcon_{{recordObj.id}}" onmouseover="{{action(&quot;throwEventToParentComp&quot;,this,recordObj,&quot;showRepCheckbox&quot;)}}" lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottomright&quot;, &quot;appearance&quot; : &quot;box&quot;}"></span> <lyte-checkbox class="dN repCheckbox pR innerListcheckBox" onmouseout="{{action(&quot;throwEventToParentComp&quot;,this,recordObj,&quot;hideRepCheckbox&quot;)}}" data-id="selectEntity" id="selectEntity_{{recordObj.id}}" lt-prop-class="{{if(contains(selectedIds,recordObj.id),\'customCheckBoxChecked\',\'customCheckBox\')}}" data-zcqa="selectEntity" on-changed="{{method(&quot;selectedEntity&quot;)}}" onclick="{{action(&quot;stopPropagation&quot;,event)}}" lt-prop-id="{{recordObj.id}}" data-recnum="{{recordObj.recnum}}"></lyte-checkbox> </template><template case="false"> <lyte-checkbox class="repCheckbox innerListcheckBox" lt-prop-title="{{if(recordObj.$deleted_record,getI18n(&quot;crm.event.delete.success.msg&quot;,module_info.singular_label),if(expHandlers(recordObj.$permission_denied,\'===\',true),getI18n(&quot;crm.workflow.reports.permissionDenied&quot;)))}}" data-id="selectEntity" id="selectEntity_{{recordObj.id}}" lt-prop-class="{{if(contains(selectedIds,recordObj.id),\'customCheckBoxChecked\',\'customCheckBox\')}}" data-zcqa="selectEntity" on-changed="{{method(&quot;selectedEntity&quot;)}}" onclick="{{action(&quot;stopPropagation&quot;,event)}}" lt-prop-id="{{recordObj.id}}" data-recnum="{{recordObj.recnum}}"></lyte-checkbox> </template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template><template case="false"><template is="if" value="{{expHandlers(from_page,\'==\',&quot;mass_tools&quot;)}}"><template case="true"><template is="if" value="{{expHandlers(expHandlers(featureName,\'==\',&quot;merge&quot;),\'&amp;&amp;\',expHandlers(expHandlers(recordObj.$sharing_permission,\'==\',&quot;read_only&quot;),\'||\',expHandlers(hasOwnProperty(recordObj,\'$locked_for_me\'),\'&amp;&amp;\',expHandlers(recordObj.$locked_for_me,\'==\',true))))}}"><template case="true"> <span class="iconlock_ap mL2" lt-prop-title="{{getI18n(&quot;crm.label.readonly&quot;)}}" lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottomright&quot;, &quot;appearance&quot; : &quot;box&quot;}"></span> </template><template case="false"> <lyte-checkbox focusable="true" style="user-select:none; -ms-user-select:none; -webkit-user-select:none; -moz-user-select:none;" data-id="selectEntity" id="selectEntity_{{recordObj.id}}" lt-prop-class="{{if(contains(selectedIds,recordObj.id),\'customCheckBoxChecked\',\'customCheckBox\')}}" data-zcqa="selectEntity" on-changed="{{method(&quot;selectedEntity&quot;)}}" onclick="{{action(&quot;stopPropagation&quot;,event)}}" lt-prop-id="{{recordObj.id}}" data-recnum="{{recordObj.recnum}}"></lyte-checkbox> </template></template></template><template case="false"><template is="if" value="{{ifEquals(recordObj.$approval_state,\'zia_vision_pending\')}}"><template case="true"> <span class="dIB vam iconlock_ap vision_waiting_record mL3" lt-prop-title="{{getI18n(&quot;crm.zia.vision.record.failure.msg&quot;)}}" lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottomright&quot;, &quot;appearance&quot; : &quot;box&quot;, &quot;showdelay&quot; : 1000}"></span> </template><template case="false"><template is="if" value="{{ifEquals(recordObj.$approval_state,\'zia_vision_rejected\')}}"><template case="true"> <span class="dIB vam iconlock_ap vision_rejected_record mL3" lt-prop-title="{{getI18n(&quot;crm.zia.vision.rejected.msg&quot;)}}" lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottomright&quot;, &quot;appearance&quot; : &quot;box&quot;, &quot;showdelay&quot; : 1000}"></span> </template><template case="false"><template is="if" value="{{ifEquals(recordObj.$approval_state,\'zia_vision_validation\')}}"><template case="true"> <span class="dIB vam iconlock_ap vision_processing_record mL3" lt-prop-title="{{getI18n(&quot;crm.zia.vision.processing&quot;)}}" lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottomright&quot;, &quot;appearance&quot; : &quot;box&quot;, &quot;showdelay&quot; : 1000}"></span> </template><template case="false"><template is="if" value="{{expHandlers(recordObj.$stop_processing,\'&amp;&amp;\',expHandlers(featureName,\'!==\',&quot;COMPLIANCE&quot;))}}"><template case="true"> <span class="lockedInfoIco_dv lvRecLockIcon dIB svgIcons" lt-prop-title="{{getI18n(&quot;crm.privacy.listview.consent.locked&quot;)}}"></span> </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(ifEquals(recordObj.$approved,false),\'&amp;&amp;\',ifEquals(recordObj.$approval.resubmit,false)),\'||\',expHandlers(cv_system_name,\'&amp;&amp;\',indexOf(cv_system_name,&quot;REVIEWPROCESS&quot;,&quot;>=&quot;,0)))}}"><template case="true"> <template is="if" value="{{expHandlers(expHandlers(admin,\'&amp;&amp;\',expHandlers(recordObj.$review,\'==\',&quot;Rejected&quot;)),\'&amp;&amp;\',showSelectBox)}}"><template case="true"> <lyte-checkbox focusable="true" style="user-select:none; -ms-user-select:none; -webkit-user-select:none; -moz-user-select:none;" data-id="selectEntity" id="selectEntity_{{recordObj.id}}" lt-prop-class="{{if(contains(selectedIds,recordObj.id),\'customCheckBoxChecked\',\'customCheckBox\')}}" data-zcqa="selectEntity" on-changed="{{method(&quot;selectedEntity&quot;)}}" onclick="{{action(&quot;stopPropagation&quot;,event)}}" lt-prop-id="{{recordObj.id}}" data-recnum="{{recordObj.recnum}}"></lyte-checkbox> </template><template case="false"> <span class="{{if(expHandlers(cv_system_name,\'&amp;&amp;\',indexOf(cv_system_name,&quot;REVIEWPROCESS&quot;,&quot;>=&quot;,0)),&quot;zcicncss-waitingreview zcicn-cssIcons dIB vaT mL2 mT2&quot;,&quot;zcicncss-waitingapproval zcicn-cssIcons&quot;)}} mL2" lt-prop-title="{{if(expHandlers(cv_system_name,\'&amp;&amp;\',indexOf(cv_system_name,&quot;REVIEWPROCESS&quot;,&quot;>=&quot;,0)),getI18n(&quot;crm.reviewprocess.record.review.pending&quot;),getI18n(&quot;crm.approvalProcess.label.waitingForApproval&quot;))}}" lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottomright&quot;, &quot;appearance&quot; : &quot;box&quot;, &quot;showdelay&quot; : 1000}"></span> </template></template> </template><template case="false"><template is="if" value="{{recordObj.Locked__s}}"><template case="true"><template is="if" value="{{expHandlers(clientAccount,\'!\')}}"><template case="true"> <lyte-checkbox focusable="true" data-id="selectEntity" id="selectEntity_{{recordObj.id}}" lt-prop-class="{{if(contains(selectedIds,recordObj.id),\'customCheckBoxChecked\',\'customCheckBox\')}}" data-zcqa="selectEntity" on-changed="{{method(&quot;selectedEntity&quot;)}}" onclick="{{action(&quot;stopPropagation&quot;,event)}}" lt-prop-id="{{recordObj.id}}" data-recnum="{{recordObj.recnum}}"></lyte-checkbox> </template></template><template is="if" value="{{recordObj.$locked_for_me}}"><template case="true"> <span data-zcqa="lockedforMe_{{recordObj.id}}" class="dIB mL10 mT3 zcrm_svgIcons rlc_lockIcon vaT" lt-prop-title="{{getI18n(&quot;crm.record.lock.record.locked&quot;)}}"></span> </template><template case="false"> <span data-zcqa="lockedforOthers_{{recordObj.id}}" class="dIB mL10 mT3 zcrm_svgIcons rlc_lockIcon vaT" lt-prop-title="{{getI18n(&quot;crm.record.record.locked.other&quot;)}}"></span> </template></template> </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(clientAccount,\'!\'),\'&amp;&amp;\',showSelectBox)}}"><template case="true"> <lyte-checkbox focusable="true" style="user-select:none; -ms-user-select:none; -webkit-user-select:none; -moz-user-select:none;" data-id="selectEntity" id="selectEntity_{{recordObj.id}}" lt-prop-class="{{if(contains(selectedIds,recordObj.id),\'customCheckBoxChecked\',\'customCheckBox\')}}" data-zcqa="selectEntity" on-changed="{{method(&quot;selectedEntity&quot;)}}" onclick="{{action(&quot;stopPropagation&quot;,event)}}" lt-prop-id="{{recordObj.id}}" data-recnum="{{recordObj.recnum}}"></lyte-checkbox> </template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template> </div> </template> <template is="yield" yield-name="body-prefix-3"> <template is="if" value="{{recordObj.$upcoming_activity}}"><template case="true"> <div class="w120 pA top6 left10" onclick="{{action(\'stopPropagation\',event)}}"> <template is="if" value="{{expHandlers(expHandlers(activityBadgeUpgrade,\'!\'),\'&amp;&amp;\',expHandlers(recordObj.$upcoming_activity.module.api_name,\'!==\',&quot;Appointments__s&quot;))}}"><template case="true"> <template is="if" value="{{isActivitySplitNotDone()}}"><template case="true"> <link-to lt-prop-title="{{recordObj.$upcoming_activity.name}}" lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottom&quot;, &quot;apperance&quot; : &quot;callout&quot;}" lt-prop-tooltip-style="font-size: var(--crm-extra-medium-font-size); max-width: 400px;" class="fL" lt-prop-class="fL mR15 pR0 cP h_duedate {{getTagColor(recordObj.$upcoming_activity.date)}}" lt-prop-target="_blank" lt-prop-route="crm.tab.module.entity" lt-prop-dp="[&quot;Activities&quot;,&quot;{{recordObj.$upcoming_activity.id}}&quot;]" lt-prop-qp="{&quot;sub_module&quot; : &quot;{{recordObj.$upcoming_activity.module.api_name}}&quot; }" lt-prop-rel="noopener noreferrer"> </link-to> </template><template case="false"> <link-to lt-prop-title="{{recordObj.$upcoming_activity.name}}" lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottom&quot;, &quot;apperance&quot; : &quot;callout&quot;}" lt-prop-tooltip-style="font-size: var(--crm-extra-medium-font-size); max-width: 400px;" class="fL" lt-prop-class="fL mR15 pR0 cP h_duedate {{getTagColor(recordObj.$upcoming_activity.date)}}" lt-prop-target="_blank" lt-prop-route="crm.tab.module.entity" lt-prop-dp="[&quot;{{recordObj.$upcoming_activity.module.api_name}}&quot;,&quot;{{recordObj.$upcoming_activity.id}}&quot;]" lt-prop-rel="noopener noreferrer"> {{getDateInUsrLocaleFormat(recordObj.$upcoming_activity.date,recordObj.$upcoming_activity.isNew)}} </link-to> </template></template> </template><template case="false"><template is="if" value="{{expHandlers(activityBadgeUpgrade,\'&amp;&amp;\',expHandlers(hideActivityBadge,\'!\'))}}"><template case="true"> <span data-zcqa="activityBadge_{{recordObj.id}}" onclick="{{action(\'showWorkqueueActivityPopup\',event,this,recordObj)}}" lt-prop-title="{{getActivityBadgeTitle(recordObj)}}" lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottomright&quot;, &quot;appearance&quot; : &quot;box&quot;}" class="{{getActivityBadgeClass(recordObj)}} fL mR15 pR0 cP newActivityBadge {{getActivityBadgeColor(recordObj.$upcoming_activity.date)}} crm-font-semibold crm-medium-small-font-size"> <span class="{{if(ifEquals(recordObj.$upcoming_activity.module.api_name,\'Tasks\'),\'zcicncss-taskssm\',\'\')}} {{if(ifEquals(recordObj.$upcoming_activity.module.api_name,\'Events\'),\'zcicncss-eventssm\',\'\')}} {{if(ifEquals(recordObj.$upcoming_activity.module.api_name,\'Calls\'),\'zcicncss-callssm\',\'\')}} {{if(ifEquals(recordObj.$upcoming_activity.module.api_name,\'Appointments__s\'),\'zcicncss-appointmentssm\',\'\')}} zcicn-cssIcons {{getActivityIconClass(recordObj)}} mR4"></span> {{capitalize(toLowerCase(getDateInUsrLocaleFormat(recordObj.$upcoming_activity.date,recordObj.$upcoming_activity.isNew)))}} </span> </template></template></template></template> </div> </template><template case="false"> <template is="if" value="{{expHandlers(expHandlers(activityBadgeUpgrade,\'&amp;&amp;\',expHandlers(showActivityQuickCreate,\'||\',expHandlers(expHandlers(showActivityQuickCreate,\'!\'),\'&amp;&amp;\',recordObj.$upcoming_activity))),\'&amp;&amp;\',expHandlers(hideActivityBadge,\'!\'))}}"><template case="true"> <div onclick="{{action(\'stopPropagation\',event)}}"> <span data-zcqa="activityBadge_{{recordObj.id}}" lt-prop-title="{{getActivityBadgeTitle(recordObj)}}" lt-prop-tooltip-config="{&quot;position&quot;:&quot;bottomright&quot;, &quot;appearance&quot; : &quot;box&quot;}" class="{{getActivityBadgeClass(recordObj)}} quickActivityMenu lvActivityIcon icon-hover-effects icon-hover-lg activityBadge pA" onclick="{{action(\'showWorkqueueActivityPopup\',event,this,recordObj)}}"> <span class="zcicncss-new-activities zcicn-cssIcons {{if(expHandlers(isActivityRLVisible,\'&amp;&amp;\',expHandlers(disableActivityBadge,\'!\')),getActivityIconClass(recordObj))}} mT1 zi2 {{if(isRtl,\'pR1\',\'mR1\')}}"></span> </span> </div> </template></template> </template></template> </template> <template is="yield" yield-name="header-suffix-1"></template> <template is="if" value="{{isResizeEnabled}}"><template case="true"> <template is="yield" yield-name="header-suffix-2"></template> </template></template> <template is="yield" yield-name="body-suffix-1"> <template is="if" value="{{expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(recordObj.$stop_processing,\'!\'),\'&amp;&amp;\',list_cv_btn.length),\'&amp;&amp;\',expHandlers(recordObj.$review,\'!=\',&quot;Rejected&quot;)),\'&amp;&amp;\',expHandlers(expHandlers(cv_system_name,\'!\'),\'||\',indexOf(cv_system_name,&quot;REVIEWPROCESS&quot;,&quot;==&quot;,expHandlers(1,\'-\')))),\'&amp;&amp;\',expHandlers(isFromModal,\'!\'))}}"><template case="true"> <div id="customButtonDetails_{{recordObj.id}}" class="customButton pR zi6" onclick="{{action(\'stopEvent\')}}"> <div id="customBtn" class="clearFix listViewCB {{if(expHandlers(list_cv_btn.length,\'>\',1),\'lyteClubbedButton\',\'\')}} "> <lyte-button lt-prop-appearance="default" class="cvButtonQuery{{list_cv_btn[0].id}}{{recordObj.id}} lv_cvbtn" lt-prop-text="{{list_cv_btn[0].name}}" lt-prop-value="{{list_cv_btn[0].name}}" onmouseover="{{action(\'mouseOverCustomButton\',\'cvButtonQuery\',list_cv_btn[0].id,encodeJS(list_cv_btn[0].name),encodeJS(list_cv_btn[0].description),recordObj.id)}}" onmouseout="{{action(\'mouseOutCustomButton\')}}" lt-prop-id="custom_button" lt-prop-class="custBtnSortFunc custBtnEachRec" lt-prop-size="small" onclick="{{action(&quot;executeCustomButton&quot;,list_cv_btn[0].id,this)}}"> </lyte-button> <template is="if" value="{{expHandlers(list_cv_btn.length,\'>\',1)}}"><template case="true"> <lyte-button focusable="true" lt-prop-appearance="default" lt-prop-size="small" id="customBtnList" onclick="{{action(\'stopCvBtnPropagation\',event)}}"> <template is="registerYield" yield-name="text"></template> </lyte-button> </template></template> </div> </div> </template></template> </template> <template is="if" value="{{isResizeEnabled}}"><template case="true"> <template is="yield" yield-name="body-suffix-2"></template> </template></template> <template is="yield" yield-name="body-eventtypecolour"> <span class="ellipsistext dB"> <template is="if" value="{{recordObj.$colour_code}}"><template case="true"> <span class="dIB eventColor_lv" data-zcqa="colorspanpl_{{recordObj[fieldObj.api_name]}}" style="background: {{recordObj.$colour_code}}"></span> </template></template> {{recordObj[fieldObj.api_name]}} </span> </template> <template is="yield" yield-name="body-lookup"> <template is="if" value="{{contains(displayfield[module_info.module_name],fieldObj.api_name)}}"><template case="true"><template is="if" value="{{expHandlers(expHandlers(expHandlers(expHandlers(module,\'!=\',&quot;Activities&quot;),\'&amp;&amp;\',expHandlers(module,\'!=\',&quot;Tasks&quot;)),\'&amp;&amp;\',expHandlers(module,\'!=\',&quot;Events&quot;)),\'&amp;&amp;\',expHandlers(module,\'!=\',&quot;Calls&quot;))}}"><template case="true"><template is="if" value="{{isVisitorOnline(module,recordObj.id)}}"><template case="true"> <span id="online-entity-{{recordObj.id}}-lview&quot;+&quot;" class="online-entity vat"></span> </template></template> <a data-zcqa="{{recordObj[fieldObj.api_name]}}" target="{{if(expHandlers(expHandlers(expHandlers(expHandlers(isFromModal,\'&amp;&amp;\',expHandlers(featureName,\'===\',&quot;PORTALS&quot;)),\'||\',expHandlers(featureName,\'===\',&quot;CHARTVIEWS&quot;)),\'||\',expHandlers(from_page,\'===\',&quot;workflow_reports&quot;)),\'||\',expHandlers(from_page,\'===\',&quot;zia_reasoning_stats&quot;)),&quot;_blank&quot;,&quot;&quot;)}}" rel="{{if(expHandlers(expHandlers(from_page,\'===\',&quot;workflow_reports&quot;),\'||\',expHandlers(from_page,\'===\',&quot;zia_reasoning_stats&quot;)),&quot;noopener noreferrer&quot;)}}" id="listView_{{recordObj.id}}" class="link" href="{{getLink(getCanvasId(module,recordObj),getCanvasId(module,recordObj,true))}}" lt-prop-dp="{{getCanvasId(module,recordObj,true)}}" lt-prop-td="{&quot;cvid&quot; : &quot;{{module_info.custom_view.id}}&quot;, &quot;recordNum&quot;: &quot;{{recordObj.recnum}}&quot;}" onclick="{{action(\'invokeTransition\',event,this)}}"> <lyte-text class="wfrepTextMaxWidth accessibility-route-elem" lt-prop-tooltip-config="{&quot;showdelay&quot; : 600, &quot;appearance&quot; : &quot;box&quot; }" lt-prop-tooltip-class="lvTooltipClass" lt-prop-value="{{recordObj[fieldObj.api_name]}}"></lyte-text> </a> </template><template case="false"> <template is="if" value="{{recordObj.$colour_code}}"><template case="true"> <div class="pR"> <span class="dIB eventColor_lv_fr" data-zcqa="colorspan_{{recordObj[fieldObj.api_name]}}" style="background: {{recordObj.$colour_code}}"></span> </div> </template></template> <div onclick="{{action(\'stopPropagation\',event)}}"> <template is="if" value="{{expHandlers(module,\'==\',&quot;Activities&quot;)}}"><template case="true"> <link-to focusable="true" lt-prop-class="accessibility-route-elem" data-zcqa="{{recordObj[fieldObj.api_name]}}" lt-prop-route="crm.tab.module.entity" lt-prop-dp="[&quot;{{module}}&quot;, &quot;{{if(expHandlers(from_page,\'==\',&quot;workflow_reports&quot;),recordObj.record.id,recordObj.id)}}&quot;]" lt-prop-qp="{&quot;sub_module&quot; : &quot;{{recordObj.$activity_type}}&quot;}" lt-prop-td="{&quot;cvid&quot; : &quot;{{module_info.custom_view.id}}&quot;, &quot;fromActivityListView&quot; : true, &quot;recordNum&quot;: &quot;{{recordObj.recnum}}&quot;}" lt-prop-custom=""> <a focusable="true" id="listView_{{recordObj.id}}" class="link"> {{recordObj[fieldObj.api_name]}} </a> </link-to> </template><template case="false"> <link-to focusable="true" lt-prop-class="accessibility-route-elem" data-zcqa="{{recordObj[fieldObj.api_name]}}" lt-prop-route="crm.tab.module.entity" lt-prop-dp="[&quot;{{module}}&quot;, &quot;{{recordObj.id}}&quot;]" lt-prop-td="{&quot;cvid&quot; : &quot;{{module_info.custom_view.id}}&quot;, &quot;fromActivityListView&quot; : true, &quot;recordNum&quot;: &quot;{{recordObj.recnum}}&quot;, &quot;fromActSubModuleListView&quot; : true}" lt-prop-custom=""> <a focusable="true" id="listView_{{recordObj.id}}" class="link"> {{recordObj[fieldObj.api_name]}} </a> </link-to> </template></template>  </div> <template is="if" value="{{expHandlers(fieldObj.column_name,\'==\',&quot;SUBJECT&quot;)}}"><template case="true"><template is="if" value="{{recordObj.$in_project_sync}}"><template case="true"> <i style="margin-bottom: 2px;" class="task_syncIcon vaM" lt-prop-title="{{concat(getI18n(&quot;crm.schedules.prefix.in&quot;),getI18n(&quot;crm.integ.sync.message&quot;,&quot;crm.project.integration.title&quot;))}}" lt-prop-tooltip-config="{&quot;position&quot;:&quot;followcursor&quot;, &quot;appearance&quot; : &quot;box&quot;}"></i> </template></template></template></template></template></template></template></template><template is="if" value="{{recordObj[fieldObj.api_name].name}}"><template case="true"><template is="if" value="{{expHandlers(clientAccount,\'||\',expHandlers(fieldObj.api_name,\'==\',&quot;Current_state&quot;))}}"><template case="true"> {{recordObj[fieldObj.api_name].name}} </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(fieldObj.column_name,\'==\',&quot;SEID&quot;),\'&amp;&amp;\',expHandlers(fieldObj.ui_type,\'==\',4))}}"><template case="true"> <a focusable="true" class="link accessibility-route-elem" data-zcqa="{{recordObj[fieldObj.api_name].name}}" target="{{if(isFromModal,&quot;_blank&quot;,&quot;&quot;)}}" href="{{getLink(&quot;crm.tab.module.entity&quot;,getDynamicArray(if(ifEquals(getModuleNameByApiName(recordObj.$se_module),&quot;Deals&quot;),&quot;Potentials&quot;,getModuleNameByApiName(recordObj.$se_module)),recordObj[fieldObj.api_name].id))}}" onclick="{{action(\'invokeTransition\',event,this,\'crm.tab.module.entity\')}}" lt-prop-dp="[&quot;{{if(ifEquals(getModuleNameByApiName(recordObj.$se_module),&quot;Deals&quot;),&quot;Potentials&quot;,getModuleNameByApiName(recordObj.$se_module))}}&quot;, &quot;{{recordObj[fieldObj.api_name].id}}&quot;]" lt-prop-td="{&quot;cvid&quot; : &quot;{{module_info.custom_view.id}}&quot;, &quot;recordNum&quot;: &quot;{{recordObj.recnum}}&quot;, &quot;fromid&quot; : &quot;{{recordObj.id}}&quot; }" onmouseover="{{action(\'showHideRelatedFields\',event,recordObj,fieldObj.api_name)}}" onmouseout="{{action(\'showHideRelatedFields\',event)}}"> <div class="{{concat(getModuleNameForIcon(recordObj.$se_module),\'Small\')}} lvConModule"></div> <lyte-text class="wfrepTextMaxWidth accessibility-route-elem" lt-prop-tooltip-config="{&quot;showdelay&quot; : 600, &quot;appearance&quot; : &quot;box&quot; }" lt-prop-tooltip-class="lvTooltipClass" lt-prop-value="{{recordObj[fieldObj.api_name].name}}"></lyte-text> </a> </template><template case="false"><template is="if" value="{{expHandlers(fieldObj.ui_type,\'==\',46)}}"><template case="true"> <a focusable="true" class="link accessibility-route-elem" data-zcqa="{{recordObj[fieldObj.api_name].name}}" target="{{if(isFromModal,&quot;_blank&quot;,&quot;&quot;)}}" href="{{getLink(&quot;crm.tab.module.entity&quot;,getDynamicArray(if(ifEquals(getModuleNameByApiName(recordObj.$se_module),&quot;Deals&quot;),&quot;Potentials&quot;,getModuleNameByApiName(recordObj.$se_module)),recordObj[fieldObj.api_name].id))}}" onclick="{{action(\'invokeTransition\',event,this,\'crm.tab.module.entity\')}}" lt-prop-dp="[&quot;{{if(ifEquals(getModuleNameByApiName(recordObj.$se_module),&quot;Deals&quot;),&quot;Potentials&quot;,getModuleNameByApiName(recordObj.$se_module))}}&quot;, &quot;{{recordObj[fieldObj.api_name].id}}&quot;]" lt-prop-td="{&quot;cvid&quot; : &quot;{{module_info.custom_view.id}}&quot;, &quot;recordNum&quot;: &quot;{{recordObj.recnum}}&quot;, &quot;fromid&quot; : &quot;{{recordObj.id}}&quot;}"> <lyte-text class="wfrepTextMaxWidth accessibility-route-elem" lt-prop-tooltip-config="{&quot;showdelay&quot; : 600, &quot;appearance&quot; : &quot;box&quot; }" lt-prop-tooltip-class="lvTooltipClass" lt-prop-value="{{recordObj[fieldObj.api_name].name}}"></lyte-text> </a> </template><template case="false"><template is="if" value="{{expHandlers(fieldObj.column_name,\'==\',&quot;CONTACTID&quot;)}}"><template case="true"> <a focusable="true" class="link accessibility-route-elem" href="{{getLink(&quot;crm.tab.module.entity&quot;,getDynamicArray(&quot;Contacts&quot;,recordObj[fieldObj.api_name].id))}}" target="{{if(isFromModal,&quot;_blank&quot;,&quot;&quot;)}}" onclick="{{action(\'invokeTransition\',event,this,\'crm.tab.module.entity\')}}" lt-prop-dp="[&quot;Contacts&quot;, &quot;{{recordObj[fieldObj.api_name].id}}&quot;]" lt-prop-td="{&quot;cvid&quot; : &quot;{{module_info.custom_view.id}}&quot;, &quot;recordNum&quot;: &quot;{{recordObj.recnum}}&quot;, &quot;fromid&quot; : &quot;{{recordObj.id}}&quot;}" data-zcqa="{{recordObj[fieldObj.api_name].name}}" onmouseover="{{action(\'showHideRelatedFields\',event,recordObj,fieldObj.api_name)}}" onmouseout="{{action(\'showHideRelatedFields\',event)}}"> <lyte-text class="wfrepTextMaxWidth accessibility-route-elem" lt-prop-tooltip-config="{&quot;showdelay&quot; : 600, &quot;appearance&quot; : &quot;box&quot; }" lt-prop-tooltip-class="lvTooltipClass" lt-prop-value="{{recordObj[fieldObj.api_name].name}}"></lyte-text> </a> </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(fieldObj.column_name,\'==\',&quot;SOURCEID&quot;),\'&amp;&amp;\',expHandlers(fieldObj.api_name,\'==\',&quot;Appointments_Booking_Form_Name__s&quot;))}}"><template case="true"> <a class="link" href="{{getLink(&quot;crm.settings.section.calendar-booking.view-calendar-booking&quot;,getDynamicArray(recordObj[fieldObj.api_name].id), getQueryParamObj(&quot;{&quot;module&quot;:&quot;Appointments__s&quot;}&quot;))}}" target="{{if(isFromModal,&quot;_blank&quot;,&quot;&quot;)}}" onclick="{{action(\'invokeTransition\',event,this,\'crm.settings.section.calendar-booking.view-calendar-booking\')}}" data-zcqa="{{recordObj[fieldObj.api_name].name}}" lt-prop-dp="[&quot;{{recordObj[fieldObj.api_name].id}}&quot;]" lt-prop-qp="{&quot;module&quot;:&quot;Appointments__s&quot;}"> <div class="{{if(ifEquals(fieldObj.api_name,\'What_Id\'),concat(getModuleNameForIcon(recordObj.$se_module),\'Small\'))}}"></div> <lyte-text class="wfrepTextMaxWidth" lt-prop-tooltip-config="{&quot;showdelay&quot; : 600, &quot;appearance&quot; : &quot;box&quot; }" lt-prop-tooltip-class="lvTooltipClass" lt-prop-value="{{recordObj[fieldObj.api_name].name}}"></lyte-text> </a> </template><template case="false"><template is="if" value="{{recordObj[fieldObj.api_name].id}}"><template case="true"> <a focusable="true" class="link accessibility-route-elem" href="{{getLink(&quot;crm.tab.module.entity&quot;,getDynamicArray(idModuleMap[fieldObj.lookup.module.id],recordObj[fieldObj.api_name].id))}}" target="{{if(isFromModal,&quot;_blank&quot;,&quot;&quot;)}}" onclick="{{action(\'invokeTransition\',event,this,\'crm.tab.module.entity\')}}" data-zcqa="{{recordObj[fieldObj.api_name].name}}" lt-prop-dp="[&quot;{{idModuleMap[fieldObj.lookup.module.id]}}&quot;, &quot;{{recordObj[fieldObj.api_name].id}}&quot;]" lt-prop-td="{&quot;cvid&quot; : &quot;{{module_info.custom_view.id}}&quot;, &quot;recordNum&quot;: &quot;{{recordObj.recnum}}&quot;, &quot;fromid&quot; : &quot;{{recordObj.id}}&quot;}"> <div class="{{if(ifEquals(fieldObj.api_name,\'What_Id\'),concat(getModuleNameForIcon(recordObj.$se_module),\'Small\'))}}"></div> <lyte-text class="wfrepTextMaxWidth accessibility-route-elem" lt-prop-tooltip-config="{&quot;showdelay&quot; : 600, &quot;appearance&quot; : &quot;box&quot; }" lt-prop-tooltip-class="lvTooltipClass" lt-prop-value="{{recordObj[fieldObj.api_name].name}}"></lyte-text> </a> </template></template></template></template></template></template></template></template></template></template></template></template></template></template> </template> <template is="yield" yield-name="body-campaign-type"> <template is="if" value="{{expHandlers(expHandlers(fieldObj.ui_type,\'==\',2),\'&amp;&amp;\',expHandlers(fieldObj.enable_colour_code,\'==\',true))}}"><template case="true"> <span class="colorAppliedPicklist {{if(recordObj[fieldObj.api_name],\'\',\'colorAppliedPKNone\')}}" data-zcqa="colorspanpl_{{recordObj.id}}_{{fieldObj.id}}" style="{{getCVPicklistStyleObj(recordObj[fieldObj.api_name],fieldObj)}}">{{recordObj[fieldObj.api_name]}}</span> </template><template case="false"> <lyte-text class="maxW200" lt-prop-tooltip-config="{&quot;showdelay&quot; : 600 }" lt-prop-tooltip-class="lvTooltipClass" lt-prop-value="{{recordObj[fieldObj.api_name]}}"></lyte-text> </template></template> <template is="if" value="{{contains(&quot;[1,2,3]&quot;,recordObj.$campaign_type)}}"><template case="true"> <span focusable="true" class="svgIconsImg camTypeDetIcon mL8 cP" data-params="{&quot;campaignId&quot;:&quot;{{recordObj.id}}&quot;}" onclick="{{action(&quot;viewCampSummaryOnClick&quot;,event,this)}}"></span> </template></template> </template> <template is="yield" yield-name="body-multi_module_lookup"> <template is="if" value="{{expHandlers(recordObj[fieldObj.api_name].module.api_name,\'==\',&quot;Unknown__s&quot;)}}"><template case="true"> <lyte-text lt-prop-tooltip-config="{&quot;showdelay&quot; : 600, &quot;appearance&quot; : &quot;box&quot; }" lt-prop-tooltip-class="lvTooltipClass" lt-prop-value="{{recordObj[fieldObj.api_name].name}}"></lyte-text> </template><template case="false"> <a focusable="true" class="link accessibility-route-elem" href="{{getLink(&quot;crm.tab.module.entity&quot;,getDynamicArray(getModuleNameByApiName(recordObj[fieldObj.api_name].module.api_name),recordObj[fieldObj.api_name].id))}}" onclick="{{action(\'invokeTransition\',event,this,\'crm.tab.module.entity\')}}" data-zcqa="{{recordObj[fieldObj.api_name].name}}" lt-prop-dp="[&quot;{{getModuleNameByApiName(recordObj[fieldObj.api_name].module.api_name)}}&quot;, &quot;{{recordObj[fieldObj.api_name].id}}&quot;]" lt-prop-td="{&quot;relContactId&quot;:&quot;null&quot;,&quot;module&quot;:&quot;{{getModuleNameByApiName(recordObj[fieldObj.api_name].module.api_name)}}&quot;,&quot;id&quot;:&quot;{{recordObj[fieldObj.api_name].id}}&quot;,&quot;lookback&quot;:&quot;true&quot;, &quot;fromid&quot;:&quot;{{recordObj.id}}&quot; }"> <lyte-text lt-prop-tooltip-config="{&quot;showdelay&quot; : 600, &quot;appearance&quot; : &quot;box&quot; }" lt-prop-tooltip-class="lvTooltipClass" lt-prop-value="{{recordObj[fieldObj.api_name].name}}"></lyte-text> </a> </template></template> </template> <template is="yield" yield-name="body-current_state"> <template is="if" value="{{expHandlers(recordObj[fieldObj.api_name],\'==\',getI18n(\'pf.deleted.state\'))}}"><template case="true"> <lyte-text class="pfStateNotFoundColor" lt-prop-value="{{recordObj[fieldObj.api_name]}}"></lyte-text> </template><template case="false"> <lyte-text lt-prop-value="{{recordObj[fieldObj.api_name]}}"></lyte-text> </template></template> </template> <template is="yield" yield-name="body-best_time"> <template is="for" items="{{recordObj[fieldObj.api_name]}}" item="value" index="index"> <span class="crm-font-regular crm-base-font-size bestTimeTagList mR5">{{value}}</span> </template> </template> <template is="yield" yield-name="body-pf_email_lookup"> <lyte-text lt-prop-value="{{recordObj[fieldObj.api_name].name}}"></lyte-text> </template> <template is="yield" yield-name="body-activity_type"> <div> <template is="if" value="{{expHandlers(recordObj[fieldObj.api_name],\'!=\',getI18n(&quot;Events&quot;))}}"><template case="true"> <div> {{recordObj[fieldObj.api_name]}} </div> </template><template case="false"> <div> {{getModuleDisplayName(false,true,true)}}</div> </template></template> </div> </template> <template is="yield" yield-name="body-territory"> <lyte-text lt-prop-tooltip-config="{&quot;showdelay&quot; : 600, &quot;appearance&quot; : &quot;box&quot; }" lt-prop-tooltip-class="lvTooltipClass" lt-prop-value="{{getTerritorityValue(recordObj[fieldObj.api_name])}}"></lyte-text> </template> <template is="yield" yield-name="header-wf_failure_reason" cx-prop-fixed="enable" lt-prop-class="listviewFixedColumn" fixed="enable"></template> <template is="yield" yield-name="body-wf_failure_reason"> <template is="if" value="{{expHandlers(from_page,\'==\',&quot;workflow_reports&quot;)}}"><template case="true"> {{recordObj.failure_reason}} <lyte-button focusable="true" lt-prop-appearance="default" lt-prop-size="small" id="wfRepRetryBtn_{{recordObj.id}}" class="{{if(expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(action_limit_reached,\'||\',expHandlers(expHandlers(recordObj.record,\'==\',null),\'&amp;&amp;\',recordObj.$deleted_record)),\'||\',expHandlers(recordObj.reason_for_exclusion,\'!=\',null)),\'||\',expHandlers(recordObj.$retry_enabled,\'!\')),\'||\',expHandlers(recordObj.retry_mode_in_progress,\'!==\',null)),\'||\',recordObj.$retry_limit_reached),\'||\',recordObj.$stop_processing),\'||\',expHandlers(expHandlers(expHandlers(recordObj.action.type,\'===\',&quot;email_notification&quot;),\'&amp;&amp;\',expHandlers(recordObj.Data_Processing_Basis_Details,\'!=\',null)),\'&amp;&amp;\',expHandlers(recordObj.Data_Processing_Basis_Details.Contact_Through_Email,\'!\'))),\'||\',expHandlers(expHandlers(recordObj.action.type,\'==\',&quot;email_notification&quot;),\'&amp;&amp;\',expHandlers(recordObj.associated_to,\'==\',null))),\'!\'),&quot;repRetryBtn mL5 vH&quot;,&quot;repRetryBtn mL5 vH op0 eventNone&quot;)}}" onclick="{{action(&quot;throwEventToParentComp&quot;,this,recordObj,&quot;showRetryPop&quot;)}}"> <template is="registerYield" yield-name="text"> {{getI18n("crm.button.retry")}} </template> </lyte-button> </template></template> </template> <template is="yield" yield-name="header-wf_associated_to&quot;" cx-prop-fixed="enable" lt-prop-class="listviewFixedColumn" fixed="enable"></template> <template is="yield" yield-name="body-wf_associated_to"> <template is="if" value="{{expHandlers(from_page,\'==\',&quot;workflow_reports&quot;)}}"><template case="true"> <template is="if" value="{{expHandlers(recordObj.associated_to,\'==\',null)}}"><template case="true"> <span class="crmNegativeColor">{{getI18n("Deleted Field")}}</span> </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(recordObj.failed_email_field_label,\'!==\',null),\'&amp;&amp;\',expHandlers(recordObj.failed_email,\'===\',null))}}"><template case="true"> <span>{{recordObj.failed_email_field_label}}</span> </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(recordObj.failed_email_field_label,\'!==\',null),\'&amp;&amp;\',expHandlers(recordObj.failed_email,\'!==\',null))}}"><template case="true"> <a focusable="true" class="cxEmailgreen cruxPreventClick accessibility-route-elem" href="mailto:{{recordObj.failed_email}}">{{recordObj.failed_email}}</a> </template></template></template></template></template></template> </template></template> </template> <template is="yield" yield-name="body-wf_retry_count" cx-prop-class="aligncenter"> <template is="if" value="{{expHandlers(from_page,\'==\',&quot;workflow_reports&quot;)}}"><template case="true"> {{recordObj.retry_count}} </template></template> </template> <template is="yield" yield-name="body-wf_execution_queued_count" cx-prop-class="aligncenter"> <template is="if" value="{{expHandlers(from_page,\'==\',&quot;workflow_reports&quot;)}}"><template case="true"> {{recordObj.execution_queued_count}} </template></template> </template> <template is="yield" yield-name="body-wf_queued_time" cx-prop-class="aligncenter"> <template is="if" value="{{expHandlers(from_page,\'==\',&quot;workflow_reports&quot;)}}"><template case="true"> {{recordObj.queued_time}} </template></template> </template> <template is="yield" yield-name="body-wf_display_field"> <template is="if" value="{{expHandlers(from_page,\'==\',&quot;workflow_reports&quot;)}}"><template case="true"> <template is="if" value="{{recordObj.$converted_record}}"><template case="true"> {{getI18n("webform.analytics.leads.converted",module_info.singular_label)}} </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(expHandlers(recordObj.record,\'==\',null),\'&amp;&amp;\',recordObj.$deleted_record),\'||\',expHandlers(expHandlers(expHandlers(recordObj.record,\'!=\',null),\'&amp;&amp;\',recordObj.$deleted_record),\'&amp;&amp;\',expHandlers(recordObj.record.id,\'==\',null)))}}"><template case="true"> <span class="crmNegativeColor">{{getI18n("crm.event.delete.success.msg",module_info.singular_label)}}</span> </template><template case="false"><template is="if" value="{{expHandlers(recordObj.$deleted_record,\'||\',expHandlers(recordObj.$permission_denied,\'===\',true))}}"><template case="true"> <template is="if" value="{{expHandlers(module,\'!=\',&quot;Activities&quot;)}}"><template case="true"> <a focusable="true" data-zcqa="{{recordObj[fieldObj.api_name]}}" id="listView_{{recordObj.id}}" class="link accessibility-route-elem" rel="noopener noreferrer" target="_blank" href="{{getLink(&quot;crm.tab.module.entity&quot;,getDynamicArray(module,recordObj.record.id))}}" lt-prop-dp="[&quot;{{module}}&quot;, &quot;{{recordObj.record.id}}&quot;]" lt-prop-td="{&quot;cvid&quot; : &quot;{{module_info.custom_view.id}}&quot;, &quot;recordNum&quot;: &quot;{{recordObj.recnum}}&quot;}" onclick="{{action(\'invokeTransition\',event,this,\'crm.tab.module.entity\')}}"> {{getI18n("crm.slack.view.record")}} </a> </template><template case="false"> <link-to focusable="true" lt-prop-class="accessibility-route-elem" data-zcqa="{{recordObj[fieldObj.api_name]}}" lt-prop-route="crm.tab.module.entity" lt-prop-dp="[&quot;{{module}}&quot;, &quot;{{recordObj.record.id}}&quot;]" lt-prop-qp="{&quot;sub_module&quot; : &quot;{{module_info.wfr_sub_module}}&quot;}" lt-prop-td="{&quot;cvid&quot; : &quot;{{module_info.custom_view.id}}&quot;, &quot;fromActivityListView&quot; : true, &quot;recordNum&quot;: &quot;{{recordObj.recnum}}&quot;}" lt-prop-custom=""> <a id="listView_{{recordObj.id}}" class="link" target="_blank" rel="noopener noreferrer"> {{getI18n("crm.slack.view.record")}} </a> </link-to> </template></template> </template><template case="false"> <template is="if" value="{{expHandlers(module,\'!=\',&quot;Activities&quot;)}}"><template case="true"> <a focusable="true" data-zcqa="{{recordObj[fieldObj.api_name]}}" id="listView_{{recordObj.id}}" class="link wsNormal wbBreakAll accessibility-route-elem" rel="noopener noreferrer" target="_blank" href="{{getLink(&quot;crm.tab.module.entity&quot;,getDynamicArray(module,recordObj.record.id))}}" lt-prop-dp="[&quot;{{module}}&quot;, &quot;{{recordObj.record.id}}&quot;]" lt-prop-td="{&quot;cvid&quot; : &quot;{{module_info.custom_view.id}}&quot;, &quot;recordNum&quot;: &quot;{{recordObj.recnum}}&quot;}" onclick="{{action(\'invokeTransition\',event,this,\'crm.tab.module.entity\')}}"> {{recordObj[fieldObj.api_name]}} </a> </template><template case="false"> <link-to focusable="true" lt-prop-class="accessibility-route-elem" data-zcqa="{{recordObj[fieldObj.api_name]}}" lt-prop-route="crm.tab.module.entity" lt-prop-dp="[&quot;{{module}}&quot;, &quot;{{recordObj.record.id}}&quot;]" lt-prop-qp="{&quot;sub_module&quot; : &quot;{{module_info.wfr_sub_module}}&quot;}" lt-prop-td="{&quot;cvid&quot; : &quot;{{module_info.custom_view.id}}&quot;, &quot;fromActivityListView&quot; : true, &quot;recordNum&quot;: &quot;{{recordObj.recnum}}&quot;}" lt-prop-custom=""> <a id="listView_{{recordObj.id}}" class="link wsNormal wbBreakAll" target="_blank" rel="noopener noreferrer"> {{recordObj[fieldObj.api_name]}} </a> </link-to> </template></template> </template></template></template></template></template></template></template></template> </template> <template is="if" value="{{expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(isEngLocale(),\'&amp;&amp;\',expHandlers(module_info.kanban_view,\'!\')),\'&amp;&amp;\',expHandlers(module_info.zia_view,\'!\')),\'&amp;&amp;\',expHandlers(begin_page,\'!\')),\'&amp;&amp;\',expHandlers(module,\'!=\',&quot;Appointments&quot;)),\'&amp;&amp;\',expHandlers(isFromModal,\'!\')),\'&amp;&amp;\',expHandlers(from_page,\'!=\',&quot;workflow_reports&quot;)),\'&amp;&amp;\',expHandlers(from_page,\'!=\',&quot;mass_tools&quot;))}}"><template case="true"> <template is="yield" yield-name="header-alpha-search"> <span id="alphadropbutton" tabindex="0" class="alphadropbutton crm-font-bold mL15 {{if(ifNotEquals(search_letter,\'All\'),\'alphaNewSelect\')}}"> <span class="alphaLinkNew {{if(expHandlers(ifNotEquals(search_letter,\'All\'),\'&amp;&amp;\',ifEquals(search_field,fieldName)),\'alpha-linkNotAll\',\'\')}} "> <span id="alphaSearch" data-zcqa="alphaSearch"> <template is="if" value="{{expHandlers(expHandlers(search_letter,\'!=\',&quot;All&quot;),\'&amp;&amp;\',expHandlers(search_field,\'===\',fieldName))}}"><template case="true"> {{getI18n(search_letter)}} </template><template case="false"> All </template></template> </span> <template is="if" value="{{expHandlers(expHandlers(search_letter,\'!=\',&quot;All&quot;),\'&amp;&amp;\',expHandlers(search_field,\'===\',fieldName))}}"><template case="true"> <span focusable="true" onclick="{{action(&quot;alphaSearchHandling&quot;,event)}}" class="smalledit" tabindex="0"></span> </template></template> </span> </span> </template> </template></template> </crux-table-component> <lyte-menu lt-prop-query="span#showMoreDesc" id="moreDescMenu" lt-prop-freeze="false" lt-prop-wrapper-class="descMenuPopup" lt-prop-yield="true" lt-prop-tabindex="10" lt-prop-event="click" lt-prop-prevent-inside-click="true" lt-prop-type="box" lt-prop-width="auto" lt-prop-height="auto" on-before-open="{{method(\'populateDescContent\')}}" on-before-close="{{method(\'hideDescContent\')}}" on-open="{{method(\'SetMenuTopLabel\')}}"> <template is="registerYield" yield-name="yield"> <lyte-menu-body class="multiTextLabel"> <span class="iconClose" onclick="{{action(\'closeDescMenu\')}}"></span> <div class="descCont"><pre class="descPre">{{descriptionContent}}</pre></div> </lyte-menu-body> </template> </lyte-menu> <template is="if" value="{{expHandlers(expHandlers(expHandlers(expHandlers(isEngLocale(),\'&amp;&amp;\',expHandlers(module_info.kanban_view,\'!\')),\'&amp;&amp;\',expHandlers(module_info.zia_view,\'!\')),\'&amp;&amp;\',expHandlers(begin_page,\'!\')),\'&amp;&amp;\',expHandlers(module,\'!=\',&quot;Appointments&quot;))}}"><template case="true"> <lyte-menu id="alpha_sort_menu" lt-prop-aria="{{isAccessibilityEnabled}}" lt-prop-freeze="false" lt-prop-yield="true" lt-prop-query="span#alphadropbutton" lt-prop-tabindex="10" lt-prop-event="click" lt-prop-prevent-inside-click="true" on-before-open="{{method(\'showDropbox\')}}" on-before-close="{{method(\'hideDropBox\')}}" on-menu-click="{{method(\'sortRecord\')}}" lt-prop-wrapper-class="alphaContentNew"> <template is="registerYield" yield-name="yield"> <lyte-menu-body id="alphaContent" class="alphaContent"> <template is="if" value="{{showAlphaDropBox}}"><template case="true"> <lyte-menu-item data-value="All" id="All" class="{{if(expHandlers(expHandlers(search_field,\'&amp;&amp;\',expHandlers(search_field,\'!==\',alphaDropBoxField)),\'||\',expHandlers(search_letter,\'==\',\'All\')),\'alphaContentSelected\',\'\')}}"> {{getI18n("All")}}</lyte-menu-item> <template is="for" items="{{alphabets}}" item="item" index="indeval"> <lyte-menu-item data-value="{{item}}" id="{{item}}" data-zcqa="alphaSearch_{{item}}" class="{{if(expHandlers(expHandlers(search_field,\'==\',alphaDropBoxField),\'&amp;&amp;\',expHandlers(search_letter,\'==\',item)),\'alphaContentSelected\',\'\')}}">{{item}}</lyte-menu-item> </template></template></template> </lyte-menu-body> </template> </lyte-menu> </template></template> <lyte-menu on-before-open="{{method(\'onCallsMenuOpen\')}}" on-close="{{method(\'onMenuClose\')}}" lt-prop-wrapper-class="callMoreOptionsMenu nlmenu" lt-prop-yield="true" lt-prop-query="#listViewMore_{{entityId}}" lt-prop-freeze="false"> <template is="registerYield" yield-name="yield"> <lyte-menu-body id="callMoreOption" class="callMoreOptionLyteNew" data-zcqa="callMoreOption"> <template is="if" value="{{hasCompleteAction}}"><template case="true"> <lyte-menu-item id="completeCallMoreOption" onclick="{{action(\'showCallPopup\',\'Completed\')}}" data-zcqa="completeCallMoreOption" class="crm-font-regular callListItem">{{getI18n(\'crm.label.mark.completed\')}}</lyte-menu-item> </template></template><template is="if" value="{{hasEditPermissionForCalls}}"><template case="true"> <lyte-menu-item id="scheduleCallMoreOption" onclick="{{action(\'showCallPopup\',\'Scheduled\')}}" data-zcqa="scheduleCallMoreOption" class="crm-font-regular callListItem">{{getI18n(\'crm.label.reschedule.call\',\'call\')}}</lyte-menu-item> <lyte-menu-item id="cancelCallMoreOption" onclick="{{action(\'showCallPopup\',\'Cancelled\')}}" data-zcqa="cancelCallMoreOption" class="crm-font-regular callListItem">{{getI18n(\'crm.label.cancel.call\',\'call\')}}</lyte-menu-item> </template></template> </lyte-menu-body> </template> </lyte-menu> <lyte-menu id="appoinmentMoreOptionsMenu" on-before-open="{{method(\'onCallsMenuOpen\')}}" on-close="{{method(\'onMenuClose\')}}" lt-prop-wrapper-class="appMoreOptionsMenu" lt-prop-yield="true" lt-prop-query="#listViewAppMore_{{entityId}}" lt-prop-freeze="false"> <template is="registerYield" yield-name="yield"> <lyte-menu-body id="appMoreOptionList" class="appMoreOptionLyteNew" data-zcqa="appMoreOptionList"> <template is="if" value="{{expHandlers(isScheduled,\'&amp;&amp;\',hasEditPermissionForApp)}}"><template case="true"><template is="if" value="{{hasCompleteAction}}"><template case="true"> <lyte-menu-item id="completeAppMoreOption" onclick="{{action(\'showAppPopup\',\'appointmentCompletePopup\',this)}}" data-params="{&quot;module&quot;:&quot;Appointments&quot;,&quot;id&quot;:&quot;{{entityId}}&quot;,&quot;from&quot;:&quot;listview&quot;}" data-zcqa="completeAppMoreOption" class="crm-font-regular">{{getI18n(\'crm.appointments.status.markcompleted1\')}}</lyte-menu-item> </template></template> <lyte-menu-item id="rescheduleAppMoreOption" onclick="{{action(\'showAppPopup\',\'Reschedule Information\',this)}}" data-params="{&quot;module&quot;:&quot;Appointments&quot;,&quot;id&quot;:&quot;{{entityId}}&quot;,&quot;from&quot;:&quot;listview&quot;}" data-zcqa="rescheduleMoreOption" class="crm-font-regular">{{getI18n(\'crm.appointments.status.markreschedule\',getSingularLabel(\'Appointments\'))}}</lyte-menu-item> <lyte-menu-item id="cancelAppMoreOption" onclick="{{action(\'showAppPopup\',\'Cancellation Information\',this)}}" style="border-bottom: 1px solid var(--br_c0c6cc);" data-params="{&quot;module&quot;:&quot;Appointments&quot;,&quot;id&quot;:&quot;{{entityId}}&quot;,&quot;from&quot;:&quot;listview&quot;}" data-zcqa="cancelAppMoreOption" class="crm-font-regular">{{getI18n(\'crm.appointments.status.markcancel\',getSingularLabel(\'Appointments\'))}}</lyte-menu-item> </template></template> <template is="if" value="{{hasEditPermissionForApp}}"><template case="true"> <lyte-menu-item id="editAppRecordbtn" onclick="{{action(\'eventEditPopup\',this)}}" data-params="{&quot;module&quot;:&quot;Appointments&quot;,&quot;id&quot;:&quot;{{entityId}}&quot;,&quot;from&quot;:&quot;listview&quot;}" data-zcqa="editAppRecordbtn" class="crm-font-regular">{{getI18n(\'Edit\')}}</lyte-menu-item> </template></template><template is="if" value="{{hasDeletePermissionForApp}}"><template case="true"> <lyte-menu-item id="deleteAppRecordbtn" onclick="{{action(\'deleteApp\',this)}}" data-params="{&quot;module&quot;:&quot;Appointments&quot;,&quot;id&quot;:&quot;{{entityId}}&quot;,&quot;from&quot;:&quot;listview&quot;}" data-zcqa="deleteAppRecordbtn" class="crm-font-regular">{{getI18n(\'Delete\')}}</lyte-menu-item> </template></template> </lyte-menu-body> </template> </lyte-menu> <lyte-menu id="moreOption" lt-prop-aria="{{isAccessibilityEnabled}}" on-open="{{method(\'addMoreOptions\')}}" lt-prop-yield="true" lt-prop-wrapper-class="moreActionPopup lVMoreOptionsMenu" lt-prop-event="hover" lt-prop-query="#qAOptions_{{entityId}}_more" lt-prop-freeze="false" lt-prop-position="right" on-close="{{method(\'clearSelected\',\'more\')}}" on-before-close="{{method(\'onbeforeCallsMenuClose\')}}" on-before-submenu-open="{{method(\'beforeCallsSubmenu\')}}"> <template is="registerYield" yield-name="yield"> <lyte-menu-body id="moreOptions_{{entityId}}" data-zcqa="moreOptions_{{entityId}}"> <template is="for" items="{{activitiesMenu}}" item="item" index="index"> <lyte-menu-item lyte-sub-menu="{{if(expHandlers(item.value,\'===\',\'create_call\'),\'#manualCallListPopover\',\'\')}}" class="{{if(expHandlers(expHandlers(item.value,\'==\',\'create_call\'),\'&amp;&amp;\',item.isNewCallView),\'cDefault hassubmenu\',\'\')}}" data-value="{{item.value}}" data-zcqa="moreOptInQAOpt_{{item.value}}" id="moreOptions_{{entityId}}_{{item.value}}" onclick="{{action(\'moreActionsValue\',item.value,this,event)}}" onmouseenter="{{action(\'callsMenuOpen\',item.value,this,event)}}" onmouseleave="{{action(\'callsMenuClose\',event)}}"> {{item.name}} <template is="if" value="{{expHandlers(expHandlers(item.value,\'==\',&quot;create_call&quot;),\'&amp;&amp;\',item.isNewCallView)}}"><template case="true"> <span class="dIB crmcssBaseIcon zcicn-arrow-solid-right-sm aOptMenuIcon"></span> </template></template> </lyte-menu-item> </template> </lyte-menu-body> </template> </lyte-menu> <lyte-menu on-open="{{method(\'addConvertOptions\')}}" lt-prop-yield="true" lt-prop-wrapper-class="moreActionPopup lVMoreOptionsMenu" lt-prop-event="hover" lt-prop-position="right" lt-prop-query="#qAOptions_{{entityId}}_mass_convert_{{module}}" lt-prop-freeze="false" on-close="{{method(\'clearSelected\',\'mass_convert\')}}" on-before-close="{{method(\'onbeforeConvertMenuClose\')}}"> <template is="registerYield" yield-name="yield"> <lyte-menu-body id="mass_convert_{{entityId}}" data-zcqa="mass_convert_{{entityId}}"> <template is="if" value="{{expHandlers(expHandlers(module,\'!=\',&quot;SalesOrders&quot;),\'&amp;&amp;\',hasConvertPermissiontoSalesOrders)}}"><template case="true"> <lyte-menu-item data-value="SalesOrders" data-zcqa="mass_convert_SalesOrders" onclick="{{action(\'updateOptions\',\'mass_convert\',\'SalesOrders\')}}">{{getDisplayModuleName(\'SalesOrders\',true)}}</lyte-menu-item> </template></template> <template is="if" value="{{hasConvertPermissiontoInvoices}}"><template case="true"> <lyte-menu-item data-value="Invoices" data-zcqa="mass_convert_Invoices" onclick="{{action(\'updateOptions\',\'mass_convert\',\'Invoices\')}}">{{getDisplayModuleName(\'Invoices\',true)}}</lyte-menu-item> </template></template> </lyte-menu-body> </template> </lyte-menu> <lyte-menu lt-prop-aria="{{isAccessibilityEnabled}}" id="quickActionsOptionsmenu_{{entityId}}" on-before-open="{{method(\'onQuickActionsMenuOpen\',event)}}" lt-prop-yield="true" lt-prop-wrapper-class="lVMoreOptionsMenu" lt-prop-event="click" lt-prop-query="#quickActionsOptions_{{entityId}}" lt-prop-freeze="true" lt-prop-position="down" on-close="{{method(\'onMenuClose\',\'quickAction\')}}" on-before-close="{{method(\'onbeforeMenuClose\')}}"> <template is="registerYield" yield-name="yield"> <lyte-menu-body id="quickActionsOptionsList" data-zcqa="quickActionsOptionsList"> <template is="for" items="{{quickActionMenu}}" item="item" index="index"> <template is="if" value="{{expHandlers(item.value,\'==\',&quot;copy_url&quot;)}}"><template case="true"> <lyte-menu-item data-value="{{item.value}}" data-zcqa="qAOptions_{{item.value}}" id="qAOptions_{{entityId}}_{{item.value}}" entity-url="{{generateUrl()}}" onclick="{{action(\'updateOptions\',item.value)}}"> {{item.name}} </lyte-menu-item> </template><template case="false"><template is="if" value="{{expHandlers(item.value,\'==\',&quot;Edit&quot;)}}"><template case="true"> <lyte-menu-item data-value="{{item.value}}" data-zcqa="qAOptions_{{item.value}}" id="qAOptions_{{entityId}}_{{item.value}}" class="menuNoPadd"> <crm-view-edit-icon record="{{recordObjForQuickAction}}" module="{{module}}" cvid="{{module_info.custom_view.id}}" module_info="{{module_info}}" from_listview="true"></crm-view-edit-icon> </lyte-menu-item> </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(item.value,\'==\',&quot;add_tag&quot;),\'||\',expHandlers(item.value,\'==\',&quot;edit_tag&quot;))}}"><template case="true"> <template is="if" value="{{expHandlers(item.value,\'==\',&quot;add_tag&quot;)}}"><template case="true"> <lyte-menu-item data-value="add" data-zcqa="tagOptions_Add" id="tagOptions_{{entityId}}_add" onclick="{{action(\'showTagOpPopup\',\'add\')}}">{{item.name}}</lyte-menu-item> </template><template case="false"> <lyte-menu-item data-value="edit" data-zcqa="tagOptions_edit" id="tagOptions_{{entityId}}_edit" onclick="{{action(\'showTagOpPopup\',\'edit\')}}">{{item.name}}</lyte-menu-item> </template></template> </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(item.value,\'==\',&quot;mass_convert&quot;),\'&amp;&amp;\',expHandlers(expHandlers(module,\'===\',&quot;Quotes&quot;),\'||\',expHandlers(module,\'===\',&quot;SalesOrders&quot;)))}}"><template case="true"> <lyte-menu-item data-value="{{item.value}}" data-zcqa="qAOptions_{{item.value}}" id="qAOptions_{{entityId}}_{{item.value}}_{{module}}" class="cDefault"> {{item.name}} <span class="dIB crmcssBaseIcon zcicn-arrow-solid-right-sm aOptMenuIcon"></span> </lyte-menu-item> </template><template case="false"> <lyte-menu-item lyte-sub-menu="{{if(expHandlers(item.value,\'===\',\'more\'),\'#moreOption\',\'\')}}" data-value="{{item.value}}" data-zcqa="qAOptions_{{item.value}}" id="qAOptions_{{entityId}}_{{item.value}}" onclick="{{action(\'updateOptions\',item.value)}}" class="{{if(expHandlers(item.value,\'==\',\'more\'),\'cDefault\',\'\')}}"> {{item.name}} <template is="if" value="{{expHandlers(item.value,\'==\',&quot;more&quot;)}}"><template case="true"> <span class="dIB crmcssBaseIcon zcicn-arrow-solid-right-sm aOptMenuIcon"></span> </template></template> </lyte-menu-item> </template></template></template></template></template></template></template></template> </template> </lyte-menu-body> </template> </lyte-menu> <template is="if" value="{{activityBadgeUpgrade}}"><template case="true"> <crm-listpage-components related_lists="{{related_lists}}" on-before-activity-menu-open="{{method(&quot;onBeforeActivityMenuOpen&quot;)}}" show-activity-quick-create="{{showActivityQuickCreate}}" list-page-no-note-popup="{{lbind(listPageNoNotePopup)}}" list-page-have-note-popup="{{lbind(listPageHaveNotePopup)}}" list-page-notes-modal="{{lbind(listPageNotesModal)}}" list-page-activity-popup="{{lbind(listPageActivityPopup)}}" list-page-business-cart-popup="{{lbind(listPageBusinessCartPopup)}}" list-page-call-no-list-popup="{{lbind(listPageCallNoListPopup)}}" more-note-popup="{{lbind(moreNotePopup)}}" record-obj="{{lbind(recordObj)}}" notes-sample="{{lbind(notesSample)}}" more-notes="{{lbind(moreNotes)}}" notes-more-selected="{{lbind(notesMoreSelected)}}" notes-loading="{{lbind(notesLoading)}}" more-notes-data="{{lbind(moreNotesData)}}" businesscard-data="{{lbind(businesscardData)}}" display_field="{{lbind(display_field)}}" module="{{currentModule}}" current-module="{{lbind(currentModule)}}" exact-module-api="{{lbind(exactModuleApi)}}" show-chronological-activity-tab="true" if-activity-avail="{{method(&quot;ifActivityAvail&quot;)}}" feature-name="{{featureName}}" show-activity-popup="{{if(ifEquals(activityBadge,\'enabled\'),true,false)}}" is-appointment="{{isAppointment}}" cancel-note-req="{{lbind(cancelNoteReq)}}"></crm-listpage-components> </template></template> </template>',_dynamicNodes:[{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,3]}]}},default:{}},{type:"attr",position:[5]},{type:"registerYield",position:[5,1],dynamicNodes:[]},{type:"registerYield",position:[5,3],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}}]}},default:{}}]},{type:"registerYield",position:[5,5],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]},{type:"registerYield",position:[5,7],dynamicNodes:[]},{type:"registerYield",position:[5,9],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}},{type:"attr",position:[1,1,3]},{type:"if",position:[1,1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}}]}},default:{}}]},{type:"registerYield",position:[5,11],dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[3]},{type:"componentDynamic",position:[3]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]},{type:"registerYield",position:[5,13],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"text",position:[1,3]}]}},default:{}}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]}]}},default:{}}]}},default:{}}]},{type:"registerYield",position:[5,15],dynamicNodes:[]},{type:"attr",position:[5,17]},{type:"if",position:[5,17],cases:{true:{dynamicNodes:[{type:"registerYield",position:[1],dynamicNodes:[]}]}},default:{}},{type:"registerYield",position:[5,19],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"componentDynamic",position:[1,1,1]},{type:"attr",position:[1,1,3]},{type:"if",position:[1,1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}]},{type:"attr",position:[5,21]},{type:"if",position:[5,21],cases:{true:{dynamicNodes:[{type:"registerYield",position:[1],dynamicNodes:[]}]}},default:{}},{type:"registerYield",position:[5,23],dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'background: '","recordObj.$colour_code"]}}}}]}},default:{}},{type:"text",position:[1,3]}]},{type:"registerYield",position:[5,25],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"attr",position:[2]},{type:"attr",position:[2,1]},{type:"componentDynamic",position:[2,1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'background: '","recordObj.$colour_code"]}}}}]}},default:{}},{type:"attr",position:[3]},{type:"attr",position:[3,1]},{type:"if",position:[3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"text",position:[1,1,1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"text",position:[1,1,1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[5]},{type:"if",position:[5],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}},{type:"attr",position:[2]},{type:"if",position:[2],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,3]},{type:"componentDynamic",position:[1,3]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,3]},{type:"componentDynamic",position:[1,3]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,3]},{type:"componentDynamic",position:[1,3]}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]},{type:"registerYield",position:[5,27],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"getCVPicklistStyleObj",args:["recordObj[fieldObj.api_name]","fieldObj"]}}}},{type:"text",position:[1,0]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}}]},{type:"registerYield",position:[5,29],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]}]}},default:{}}]},{type:"registerYield",position:[5,31],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}}]},{type:"registerYield",position:[5,33],dynamicNodes:[{type:"attr",position:[1]},{type:"for",position:[1],dynamicNodes:[{type:"text",position:[1,0]}]}]},{type:"registerYield",position:[5,35],dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},{type:"registerYield",position:[5,37],dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"text",position:[1,1]}]},false:{dynamicNodes:[{type:"text",position:[1,1]}]}},default:{}}]},{type:"registerYield",position:[5,39],dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},{type:"registerYield",position:[5,41],dynamicNodes:[]},{type:"registerYield",position:[5,43],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"text",position:[1]},{type:"attr",position:[3]},{type:"registerYield",position:[3,1],dynamicNodes:[{type:"text",position:[1]}]},{type:"componentDynamic",position:[3]}]}},default:{}}]},{type:"registerYield",position:[5,45],dynamicNodes:[]},{type:"registerYield",position:[5,47],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]},{type:"registerYield",position:[5,49],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"text",position:[1]}]}},default:{}}]},{type:"registerYield",position:[5,51],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"text",position:[1]}]}},default:{}}]},{type:"registerYield",position:[5,53],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"text",position:[1]}]}},default:{}}]},{type:"registerYield",position:[5,55],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"text",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"text",position:[1,1,1]},{type:"componentDynamic",position:[1]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"text",position:[1,1,1]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]},{type:"attr",position:[5,57]},{type:"if",position:[5,57],cases:{true:{dynamicNodes:[{type:"registerYield",position:[1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1,1]},{type:"if",position:[1,1,1,1],cases:{true:{dynamicNodes:[{type:"text",position:[1]}]},false:{dynamicNodes:[]}},default:{}},{type:"attr",position:[1,1,3]},{type:"if",position:[1,1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}}]}]}},default:{}},{type:"componentDynamic",position:[5]},{type:"attr",position:[7]},{type:"registerYield",position:[7,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"text",position:[1,3,0,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[7]},{type:"attr",position:[9]},{type:"if",position:[9],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"for",position:[3],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}]}},default:{}},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[11]},{type:"registerYield",position:[11,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[1,2]},{type:"if",position:[1,2],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"text",position:[3,0]},{type:"componentDynamic",position:[3]}]}},default:{}},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[11]},{type:"attr",position:[13]},{type:"registerYield",position:[13,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[2]},{type:"text",position:[2,0]},{type:"componentDynamic",position:[2]},{type:"attr",position:[4]},{type:"text",position:[4,0]},{type:"componentDynamic",position:[4]}]}},default:{}},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[1,4]},{type:"if",position:[1,4],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[13]},{type:"attr",position:[15]},{type:"registerYield",position:[15,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[]}},default:{}},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[15]},{type:"attr",position:[17]},{type:"registerYield",position:[17,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[17]},{type:"attr",position:[19]},{type:"registerYield",position:[19,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[]}},default:{}},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[19]},{type:"attr",position:[21]},{type:"if",position:[21],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}}],_observedAttributes:["module","parent_comp","page","suffixYields","prefixYields","selectedIds","entityId","from_page","callentityId","clientAccount","lyteFastRender","customview_records","customfields","lyteUnbound","enable_body_scroll","columnListOpen","latest_ent_row","headerYields","custom_view","hasCompleteAction","isScheduled","serviceId","appEndTime","hasEditPermissionForApp","hasDeletePermissionForApp","hasEditPermissionForCalls","isFromModal","featureName","admin","alphabets","search_letter","cv_width_updated","cv_mod_fields","current_table_width","isOptionOpened","width_prev_cvid","isResizeEnabled","isClipWrapEnabled","showManageColumn","clip_mode","displayfield","showAlphaDropBox","alphaDropBoxField","descriptionContent","isStickyTable","updateWidthValue","last_pop_entity","styles","masked_fields","admin","from_page","retry_enabled","hideAllSelectCheckBox","action_limit_reached","manage_columns_visible","featureObject","showSelectBox","list_cv_btn","related_lists","quickActionMenu","recordObjForQuickAction","moduleTags","maxTagLimit","recordTagLimit","activitiesMenu","sortByComp","quickActionSelectedTags","isConvertButtonNeeded","hasConvertPermissiontoSalesOrders","hasConvertPermissiontoInvoices","doEnablePinnedColAnim","moduleActionsMenu","actionsForStopProcessingRec","showSortIcon","pined_fields_limit","persistWidthUpdate","persistWrapUpdate","activityBadge","showNote","showActivityQuickCreate","hideActivityBadge","notesBadge","recIdvsNoteCount","disableActivityBadge","disableActivityCreation","isActivityRLVisible","showLastAddedNote","isAccessibilityEnabled","cancelNoteReq","renderWithoutCustomView","saveButtonLiteral","manageColumnDisableLiteral","customMethodImplemented"],data:function(){return{module:Lyte.attr("string"),parent_comp:Lyte.attr("string",{default:"crm-list-view"}),page:Lyte.attr("number"),suffixYields:Lyte.attr("array",{default:[]}),prefixYields:Lyte.attr("array",{default:[]}),selectedIds:Lyte.attr("array",{default:[]}),entityId:Lyte.attr("string"),from_page:Lyte.attr("string",{default:"listview"}),callentityId:Lyte.attr("string"),clientAccount:Lyte.attr("boolean",{default:!(void 0===window.clientPortalName||!window.clientPortalName)}),lyteFastRender:Lyte.attr("boolean",{default:!1}),customview_records:Lyte.attr("array",{default:[]}),customfields:Lyte.attr("array",{default:[]}),lyteUnbound:Lyte.attr("boolean",{default:!1}),enable_body_scroll:Lyte.attr("boolean",{default:!0}),columnListOpen:Lyte.attr("boolean",{default:!1}),latest_ent_row:Lyte.attr("number"),headerYields:Lyte.attr("object"),custom_view:Lyte.attr("object"),hasCompleteAction:Lyte.attr("boolean",{default:!0}),isScheduled:Lyte.attr("boolean",{default:!1}),serviceId:Lyte.attr("string",{default:""}),appEndTime:Lyte.attr("string"),hasEditPermissionForApp:Lyte.attr("boolean",{default:Crm.userDetails.permissions.Crm_Implied_Edit_Appointments}),hasDeletePermissionForApp:Lyte.attr("boolean",{default:Crm.userDetails.permissions.Crm_Implied_Delete_Appointments}),hasEditPermissionForCalls:Lyte.attr("boolean",{default:Crm.userDetails.permissions.Crm_Implied_Edit_Calls}),isFromModal:Lyte.attr("boolean",{default:!1}),featureName:Lyte.attr("string"),admin:Lyte.attr("boolean",{default:Crm.userDetails.IS_ADMIN}),alphabets:Lyte.attr("array",{default:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]}),search_letter:Lyte.attr("string",{default:"All"}),cv_width_updated:Lyte.attr("boolean",{default:!1}),cv_mod_fields:Lyte.attr("object",{default:{}}),current_table_width:Lyte.attr("number"),isOptionOpened:Lyte.attr("boolean",{default:!1}),width_prev_cvid:Lyte.attr("string",{default:""}),isResizeEnabled:Lyte.attr("boolean",{default:!1}),isClipWrapEnabled:Lyte.attr("boolean",{default:!1}),showManageColumn:Lyte.attr("boolean",{default:!0}),clip_mode:Lyte.attr("boolean",{default:!1}),displayfield:Lyte.attr("object",{default:crmConstants.moduleDisplayField}),showAlphaDropBox:Lyte.attr("boolean",{default:!1}),alphaDropBoxField:Lyte.attr("string",{default:""}),descriptionContent:Lyte.attr("string",{default:""}),isStickyTable:Lyte.attr("boolean"),updateWidthValue:Lyte.attr("boolean",{default:!1}),last_pop_entity:Lyte.attr("string",{default:""}),styles:Lyte.attr("array",{default:[]}),masked_fields:Lyte.attr("object",{default:{}}),admin:Lyte.attr("boolean",{default:Crm.userDetails.IS_ADMIN}),from_page:Lyte.attr("string",{default:"listview"}),retry_enabled:Lyte.attr("boolean",{default:!0}),hideAllSelectCheckBox:Lyte.attr("boolean",{default:!1}),action_limit_reached:Lyte.attr("boolean",{default:!1}),manage_columns_visible:Lyte.attr("boolean",{default:!0}),featureObject:Lyte.attr("object",{default:{}}),showSelectBox:Lyte.attr("boolean",{default:!0}),list_cv_btn:Lyte.attr("array"),related_lists:Lyte.attr("array",{default:[]}),quickActionMenu:Lyte.attr("array",{default:[]}),recordObjForQuickAction:Lyte.attr("object",{default:{}}),moduleTags:Lyte.attr("array",{default:[]}),maxTagLimit:Lyte.attr("number"),recordTagLimit:Lyte.attr("number"),activitiesMenu:Lyte.attr("array",{default:[]}),sortByComp:Lyte.attr("object",{default:{}}),quickActionSelectedTags:Lyte.attr("object"),isConvertButtonNeeded:Lyte.attr("boolean",{default:!1}),hasConvertPermissiontoSalesOrders:Lyte.attr("boolean",{default:Crm.userDetails.permissions.Crm_Implied_Create_SalesOrders}),hasConvertPermissiontoInvoices:Lyte.attr("boolean",{default:Crm.userDetails.permissions.Crm_Implied_Create_Invoices}),doEnablePinnedColAnim:Lyte.attr("boolean",{default:!1}),moduleActionsMenu:Lyte.attr("array",{default:[]}),actionsForStopProcessingRec:Lyte.attr("array",{default:[]}),showSortIcon:Lyte.attr("boolean",{default:!1}),pined_fields_limit:Lyte.attr("number",{default:Crm.userDetails.customViewPinLimit?Crm.userDetails.customViewPinLimit:1}),persistWidthUpdate:Lyte.attr("boolean",{default:!0}),persistWrapUpdate:Lyte.attr("boolean",{default:!0}),activityBadge:Lyte.attr("string",{default:""}),showNote:Lyte.attr("boolean"),showActivityQuickCreate:Lyte.attr("boolean",{default:!0}),hideActivityBadge:Lyte.attr("boolean",{default:!1}),notesBadge:Lyte.attr("string"),recIdvsNoteCount:Lyte.attr("object"),disableActivityBadge:Lyte.attr("boolean",{default:!1}),disableActivityCreation:Lyte.attr("boolean",{default:!1}),isActivityRLVisible:Lyte.attr("boolean",{default:!0}),showLastAddedNote:Lyte.attr("boolean",{default:!1}),isAccessibilityEnabled:Lyte.attr("boolean",{default:Crm.userDetails.isAccessibilityConfigSupported}),cancelNoteReq:Lyte.attr("boolean",{default:!1}),renderWithoutCustomView:Lyte.attr("boolean",{default:!1}),saveButtonLiteral:Lyte.attr("string"),manageColumnDisableLiteral:Lyte.attr("string",{default:"crm.listview.customview.locked"}),customMethodImplemented:Lyte.attr("boolean",{default:!1})}},init:function(){var e=this.getData("module_info").module_name;e="Unknown"===e&&"workflow_reports"==this.getData("from_page")?this.getData("module_info").wfr_module:e,this.data.module=e,this.data.idModuleMap=idModuleMapping,this.data.cv_mod_fields=new Map,this.setData({isStickyTable:this.checkForStickyTable(),actionsForStopProcessingRec:this.actionsAvailForComplianceRec()}),"Activities"!==this.data.module&&"Tasks"!==this.data.module||(this.getData("module_info").hasCompleteTaskPermission=this.checkTaskStatusEditPermission());var t=networkUtils.returnDependencyFiles([networkUtils.getI18nJSUrl("workqueue")],ResourceConstants.CRM);t=t.concat(networkUtils.returnDependencyFiles(["crm-listpage-components.css"],ResourceConstants.CRMClient,ResourceConstants.LESSDEFAULT)),Lyte.injectResources(t),delete this.startIndex;var o=this.getModulePermissionObj(["Tasks","Calls","Events","Appointments"]),a="org_based"===moduleRecordMapping[e].access_type,i=Crm.userDetails.permissions[`Crm_Implied_View_Notes_${e}`];(a&&!moduleRecordMapping.Notes.viewable||!a&&!i)&&this.setData("disableNotesBadge",!0);var s,l=this.relatedListForModule;if(void 0===l&&(l=this.getData("related_lists")),l){l.filter((function(e){s=s||"APPOINTMENTSPERSONALITY"===e.personality_name}));var n=l.filter((function(e){return"NOTESPERSONALITY"===e.personality_name}));n[0]&&this.setData("isNoteRLVisible",n[0].visible)}this.setData("isAppointment",s);var r=["Tasks","Calls","Events"];s&&r.push("Appointments"),(o=this.getModulePermissionObj(r)).Tasks.moduleVisibility||o.Calls.moduleVisibility||o.Events.moduleVisibility||(this.setData("disableActivityBadge",!0),s&&o.Appointments.moduleVisibility&&this.setData("disableActivityBadge",!1));var p=0,d=0;r.forEach((function(e){o[e]&&(o[e].creatable&&p++,o[e].rlVisible&&d++)})),0===d&&this.setData("isActivityRLVisible",!1),0===p&&this.setData("disableActivityCreation",!0);var c=store.peekRecord("custom_view",this.getData("module_info").custom_view.id);this.setData({activityBadgeUpgrade:Crm.userDetails.activityBadgeUpgradeEnabled,currentModule:e,exactModuleApi:this.getData("module_info").api_name,isRtl:Crm.userDetails.RTL_ENABLED,isFromConvertedView:c&&("CONVERTEDVIEWS"===c.system_name||"MYCONVERTEDVIEWS"===c.system_name)})},observeNoteBadge:function(){this.getData("fromShowIcon")&&this.setData("fromShowIcon",!1);var e=$L("#notesBadge")[0];this.getData("disableNotesBadge")&&e&&(e.setAttribute("lt-prop-title",I18n.getMsg("crm.creator.error.access")),e.classList.add("disabled","cNotAllowed"))}.observes("disableNotesBadge"),actions:{onQuickMenuClick:function(e){return e.stopPropagation(),!0},throwEventToParentComp:function(e,t,o){"workflow_reports"===this.getData("from_page")&&this.throwEvent(o,e,t)},showCallPopup:function(e){Crm.fetchCallDetails(e,this.getData("callentityId"),"listView"),closeMultipleReminderBussinesscardView()},callsMenuOpen:function(e,t,o){if("create_call"===e&&isNewCallView)this.moreActionsValue(e,t,o,this.getData("entityId"));else{var a=$L("#manualCallListPopover");a[0]&&a[0].ltProp({show:!1})}},callsMenuClose:function(e){if(!(void 0!==e.relatedTarget._callee&&"CRM-MANUAL-CALL-LIST"===e.relatedTarget._callee.nodeName||void 0!==e.relatedTarget.className&&-1!==e.relatedTarget.className.indexOf("aOptMenuIcon")||void 0!==e.relatedTarget.id&&-1!==e.relatedTarget.id.indexOf("_create_call")||void 0!==e.fromElement&&-1!==e.fromElement.id.indexOf("_create_call")||void 0!==e.currentTarget.id&&-1!==e.currentTarget.id.indexOf("_create_call"))){var t=$L("#manualCallListPopover");t[0]&&t[0].ltProp({show:!1})}},showAppPopup:function(e,t){if("Reschedule Information"===e||"Cancellation Information"===e){var o="Reschedule Information"===e?this.getData("serviceId"):void 0;Lyte.registeredMixins["crm-appointments-mixin"].showAppointmentSectionPopup(JSON.parse(t.dataset.params).id,e,"listView",o)}else Lyte.registeredMixins["crm-appointments-mixin"].setAppointmentStatusActions(e,t,CrmDateUtils.convertDateTimetoISOFormat(this.getData("appEndTime")));$L("#Calendar").hide()},deleteApp:function(){$L("#appMoreOptionList").hide(),customViewObject.selectedIds=[this.getData("entityId")],crmListView.startIndex[customViewObject.fromIndex]=1;var e=this.getData("start_index"),t=this.getData("module_info.per_page");massActionDelete("massdelete","MassDelete","",this.getData("module"),this.getData("module_info.custom_view.display_value"),this.getData("module_info.cvid"),e+1,e+t,t)},eventEditPopup:function(e){Crm.editEntity(event,e),event.preventDefault()},viewCampSummaryOnClick:function(e,t){crmListView.viewCampSummaryOnClick(e,t),e.stopPropagation()},showIcons:function(e,t){var o=t.classList;o.contains("listTableHover")||o.add("listTableHover");var a=t._relatedRow?t._relatedRow.classList:void 0;a&&!a.contains("listTableHover")&&a.add("listTableHover");var i=".lyteExpTableOrigTableInnerWrap #customButtonDetails_"+e,s=$L("#customBtn");if(this.setData("entityId",e),s[0]&&$L(i)[0]&&0==$L(i)[0].childElementCount&&(LyteComponent.appendChild($L(i)[0],s[0]),this.addsortable()),this.getData("clip_mode")&&e!==this.getData("last_pop_entity")){this.setData("last_pop_entity",e);var l=t.getElementsByClassName("nlv_data_textarea"),n=t._relatedRow?t._relatedRow.getElementsByClassName("nlv_data_textarea"):[],r=function(e){var t=e.getElementsByClassName("showMoreAddedEvents")[0];if(t){var o=e.getElementsByTagName("pre")[0];o&&(o.scrollWidth>o.offsetWidth?t.classList.remove("descHide"):t.classList.add("descHide"))}};l.forEach(r),n.forEach(r)}if(this.getData("activityBadgeUpgrade")){var p=this.getData("module_info").module_name,d="org_based"===moduleRecordMapping[p].access_type,c=Crm.userDetails.permissions[`Crm_Implied_View_Notes_${p}`];(d&&!moduleRecordMapping.Notes.viewable||!d&&!c&&!this.getData("disableNotesBadge"))&&this.setData({fromShowIcon:!0,disableNotesBadge:!0})}t&&t.classList.remove("trialyellowbox","list-border-left"),t&&t._relatedRow&&t._relatedRow.classList.remove("trialyellowbox","list-border-left")},hideIcons:function(e,t){var o=t.classList,a=$L(".moreOptionIcon",$L("crm-view-edit-icon",t)),i=$L(t).find("crmutil-icon.moreOptionSvg"),s=$L(t).find(".lvmoreIcon"),l=$L(t).find(".lvActivityIcon");o.contains("listTableHover")&&!(a.length>0&&a[0].classList.contains("lyteMenuSelected")||s.length>0&&s[0].classList.contains("lyteMenuSelected")||i.length>0&&i[0].classList.contains("lyteMenuSelected")||l.length>0&&l[0].classList.contains("lyteMenuSelected")||this.getData("showlvMenu"))&&o.remove("listTableHover");var n=t._relatedRow?t._relatedRow.classList:void 0;n&&n.contains("listTableHover")&&n.remove("listTableHover")},stopPropagation:function(e){e.stopPropagation(),e.cancelBubble=!0},invokeTransition:async function(e,t,o){var a=t.getAttribute("lt-prop-dp"),i=t.getAttribute("lt-prop-td"),s=t.getAttribute("lt-prop-qp")?JSON.parse(s):{},l=JSON.parse(a),n=t.href,r=n.indexOf(Crm.getCrmBasePath()),p=n.slice(r),d=Lyte.Router.getRoute(p);return o=o||("COMPLIANCE"!==this.data.featureName&&d?d.route:"crm.tab.module.entity"),void 0!==moduleRecordMapping[l[0]]&&"team_based"===moduleRecordMapping[l[0]].access_type&&moduleRecordMapping[l[0]].private_profile&&"Requesters"===moduleRecordMapping[l[0]].private_profile.name&&(o="crm.tab.requesters.module.index-module.entity.detail"),!(featuresAvailable.PUBLIC_FIELD&&void 0!==moduleRecordMapping[l[0]]&&moduleRecordMapping[l[0]].public_fields_configured&&(e.stopPropagation(),e.cancelBubble=!0,e.preventDefault(),await Lyte.registeredMixins["crm-view-utils"].checkAndRenderPublicFields(l[0],l[1],e)))&&((!e||"A"!==e.target.tagName&&("LYTE-TEXT"!==e.target.tagName||"A"!==e.target.parentElement.tagName)||!0!==e.ctrlKey&&!0!==e.metaKey&&2!==e.which&&"_blank"!==t.target)&&(Lyte.Router.transitionTo({route:o,dynamicParams:l,queryParams:s}).data=JSON.parse(i),this.getData("isFromModal")&&($L("#listViewPopup")[0].ltProp("show",!1),customViewObject.modalQueryObj=this.data.queryParams,customViewObject.modalQueryObj.per_page=this.getData("module_info").per_page),e.stopPropagation(),e.cancelBubble=!0,void e.preventDefault()))},showOptionsPopup:function(){var e=this.chkManageColForLockedCVAvail(this.data.custom_view,this.data.admin)&&this.data.manage_columns_visible;if($L("#showManageSettings")[0]){var t=document.querySelector("crm-listview-options");if(this.getData("isOptionOpened"))this.setData("isOptionOpened",!1),t.setData("showCont",!1);else{o=this.data.showManageColumn&&!(this.data.cv_system_name&&-1!==this.data.cv_system_name.indexOf("CONVERTEDVIEWS")&&!this.data.customview_records.length);t.setData({module:this.getData("module"),cvid:this.getData("module_info").custom_view.id,isClipTextEnabled:this.getData("clip_mode"),isResizeEnabled:this.getData("isResizeEnabled"),disableResetOption:!this.getData("cv_width_updated"),showManageColumn:o,isManageColumnsEnabled:e,showCont:!0,pined_fields_limit:this.getData("pined_fields_limit"),isFromModal:this.getData("isFromModal"),featureName:this.getData("featureName")}),this.setData("isOptionOpened",!0)}}else{let t="team_based"===this.data.module_info.access_type?Crm.userDetails.permissions["Crm_Implied_Manage_CustomViews_"+this.data.module]:Crm.userDetails.permissions.Crm_Implied_Manage_CustomViews;var o=!this.data.clientAccount&&t&&!(this.data.cv_system_name&&-1!==this.data.cv_system_name.indexOf("CONVERTEDVIEWS")&&!this.data.customview_records.length);Lyte.Component.render("crm-listview-options",{manageColumnDisableLiteral:this.getData("manageColumnDisableLiteral"),renderWithoutCustomView:this.getData("renderWithoutCustomView"),customMethodImplemented:this.getData("customMethodImplemented"),saveButtonLiteral:this.getData("saveButtonLiteral"),module:this.getData("module"),cvid:this.getData("module_info").custom_view.id,isClipTextEnabled:this.getData("clip_mode"),isResizeEnabled:this.getData("isResizeEnabled"),disableResetOption:!this.getData("cv_width_updated"),showManageColumn:o,isManageColumnsEnabled:e,showCont:!0,pined_fields_limit:this.getData("pined_fields_limit"),isFromModal:this.getData("isFromModal"),featureName:this.getData("featureName")},"#optionsList"),this.setData("isOptionOpened",!0)}},showSortDropdown:function(e,t){if(!(!e.sortable&&"listview"===this.getData("from_page")||e.sortable&&"workflow_reports"!==this.getData("from_page")&&"mass_tools"!==this.getData("from_page")))return!1;var o=t.target,a=document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop;this.setData("sortField",e.api_name);var i=t.target.getBoundingClientRect(),s=$L("#sort_div"),l=$L("#cvpadding"),n=l.hasClass("pFixed"),r=$L("#copyListviewHeaderDiv").is(":visible"),p=(i.top,i.height,s[0]);a>50&&(0==r&&1==n?p.style.top=o.DOCUMENT_POSITION_CONTAINS+o.offsetHeight+82-(l.offsetHeight+15)-a+"px":s.addClass("fixedTopColumnList"),p.style.position="fixed",p.style.zIndex=2502)},navigateDetailview:function(e,t){if(!("CRMUTIL-ICON"===t.target.tagName||"CRMUTIL-ICON"===t.target.tagName||"use"===t.target.tagName||t.target.classList.contains("crmBaseIcon")||"CRM-VIEW-EDIT-ICON"===t.target.tagName||t.target.classList.contains("iconlock_ap")||t.target.classList.contains("rlc_lockIcon")||t.target.classList.contains("showMoreAddedEvents")||t.target.classList.contains("cxTagMoreCountUnderline")||"LYTE-TEXT"===t.target.tagName&&"A"===t.target.parentElement.tagName||"workflow_reports"===this.getData("from_page")||"zia_reasoning_stats"===this.getData("from_page"))){var o,a=this.getData("module"),i=this.getData("isFromModal"),s=Crm.getCanvasId(moduleRecordMapping[a].id,e.id);if(o=s?{route:"crm.tab.module.entity.canvas",dynamicParams:[this.getData("module"),e.id,s]}:{route:"crm.tab.module.entity.detail",dynamicParams:[this.getData("module"),e.id]},"CHARTVIEWS"===this.getData("featureName")){var l=Lyte.Router.getURL(o);return networkUtils.openUrl(l,"_blank",""),void window.event.stopPropagation()}i&&($L("#listViewPopup")[0].ltProp("show",!1),customViewObject.modalQueryObj=this.data.queryParams,customViewObject.modalQueryObj.per_page=this.getData("module_info").per_page),"Activities"==a&&(o.queryParams={sub_module:e.$activity_type});var n=Lyte.Router.transitionTo(o);n.data="Activities"==a?{fromActivityListView:!0,recordNum:e.recnum,cvid:this.getData("module_info").custom_view.id}:"Calls"===a||"Events"===a||"Tasks"===a?{fromActSubModuleListView:!0,fromActivityListView:!0,recordNum:e.recnum,cvid:this.getData("module_info").custom_view.id}:{recordNum:e.recnum,cvid:this.getData("module_info").custom_view.id}}},showHideRelatedFields:function(e,t,o){var a=this;if(clearTimeout(a.timerForRelatedFields),t){var i="Contacts",s=t[o]?t[o].id:void 0;if(null==s)return;"What_Id"==o&&(i=t.$se_module);var l=["Leads","Accounts","Cases","Vendors","Contacts"].contains(i),n=["Leads","Contacts","Cases","Vendors"].contains(i);if(l||n){var r=moduleRecordMapping[i].id,p=e.srcElement;p||(p=e.target);var d=document.getElementById("relatedFieldsPopoverTarget");if(d&&d.removeAttribute("id"),p.id=p?"relatedFieldsPopoverTarget":"",store.modelFor(r)){var c=store.peekRecord(r,s);c?this.constructRelatedFields(c,p,l,n):this.timerForRelatedFields=setTimeout((function(){store.findRecord(r,s).then((function(e){e[0]&&a.constructRelatedFields(e[0],p,l,n)}))}),1e3)}else this.timerForRelatedFields=setTimeout((function(){store.findRecord("module",r,void 0,void 0,void 0,{getFields:!0}).then((function(){store.findRecord(r,s).then((function(e){e[0]&&a.constructRelatedFields(e[0],p,l,n)}))}))}),1e3)}}else this.timerForRelatedFields=setTimeout((function(){var e=document.getElementsByTagName("crm-listview-relatedfields-popover");e&&e[0]&&e[0].setData("show",!1)}),100)},alphaSearchHandling:function(){this.executeMethod("sortRecord","All",event)},stopCvBtnPropagation:function(e){e.stopPropagation()},executeCustomButton:function(e){var t=$L("crm-inner-list")[0].getData("entityId");this.executeCustomButton(e,t)},mouseOverCustomButton:function(e,t,o,a,i){this.mouseOverCustomButton(e,t,o,a,i)},mouseOutCustomButton:function(){this.mouseOutCustomButton()},closeDescMenu:function(){$L("#moreDescMenu")[0].ltProp("show",!1),this.setData("descriptionContent","")},showWorkQueueNote:function(e,t,o){e.stopPropagation(),this.loadNotesDependencyFiles().then(function(){if(!this.getData("disableNotesBadge")&&this.getData("isNoteRLVisible")){$L("#latestNotewqpopup")[0].component.setData("ltPropShow",!1);var e=this.getData("module"),t=e;"Potentials"===e&&(t="Deals");var a=this.getData("customview_records").filter((function(e){return e.id===o.id}));a=a[0];var i={};i.data=a,i.fields=moduleRecordMapping[t].businessCardFieldList;var s=$L("crm-listpage-components")[0];s.setData({recordId:a.id,recordObj:a,businesscardData:i,display_field:this.getData("displayfield")[t][0]});var l=$L(l);s.component.executeMethod("clickNotesBadge"),$L(".wq_list_noteOrgin").removeClass("wq_list_noteOrgin"),l.addClass("wq_list_noteOrgin").parents("lyte-exptable-tr").addClass("listViewRowMenuSelected")}}.bind(this))},showLatestNote:function(e,t,o){!this.getData("disableNotesBadge")&&this.getData("isNoteRLVisible")&&this.loadNotesDependencyFiles().then(function(){var t=$L(".listView_notesOrgin")[0];if(t&&t.classList.remove("listView_notesOrgin"),this.getData("showLastAddedNote")){var a=this,i=setTimeout((function(){if(clearTimeout(a.getData("showNoteTimer")),!1===$L("#notesModal")[0].component.getData("ltPropShow")){var t=a.getData("customview_records").filter((function(e){return e.id===o.id})),i=$L("crm-listpage-components")[0];i.setData({recordObj:t[0],recordId:t[0].id}),a.setData("cancelNoteReq",!1),i.component.executeMethod("showLastAddedNote",e.srcElement)}}),700);this.setData("showNoteTimer",i)}}.bind(this))},closeLatestNote:function(){clearTimeout(this.getData("showNoteTimer")),$L(".listView_notesOrgin")[0]||this.setData("cancelNoteReq",!0)},showWorkqueueActivityPopup:function(e,t,o){if(e.stopPropagation(),!this.getData("isActivityRLVisible")||this.getData("disableActivityBadge")||!o.$upcoming_activity&&this.getData("disableActivityCreation"))return!1;var a=o.id,i=$L("crm-listpage-components")[0];o=this.getData("customview_records").filter((e=>e.id===a))[0],this.setData("recordObjForQuickAction",o);var s=this.getData("module"),l=s;"Potentials"===s&&(l="Deals");var n={};if(n.data=o,n.fields=moduleRecordMapping[l].businessCardFieldList,i.setData({recordObj:o,businesscardData:n,display_field:this.getData("displayfield")[l][0],isAppointment:this.getData("isAppointment"),recordId:a,entityId:a}),this.getActivityRelatedList(l),this.setData({parentElement:t,entityId:a}),(t=$L(t)).addClass("activityBadgeActive").parents("lyte-exptable-tr").addClass("listViewRowMenuSelected"),!o.$upcoming_activity)return i.setData({listPageActivityPopup:!1}),!1;t.find(".newActivityBadge").addClass("listView_activityOrgin"),i.component.executeMethod("clickActivityBadge"),t.children(".zcicncss-activities").hasClass("zcicn_black_mask")?this.setData("activePopoverHgt",!1):this.setData("activePopoverHgt",!0)},updateOptions:function(e,t){"Edit"!==e&&"tag_op"!==e&&"more"!==e&&(crmListView.startIndex[customViewObject.fromIndex]?crmListView.startIndex[customViewObject.fromIndex]=crmListView.startIndex[customViewObject.fromIndex]+1:crmListView.startIndex[customViewObject.fromIndex]=1,customViewObject.selectedIdForQuickAction=[this.getData("entityId")],this.updateActions(e,"quickAction",this.getData("entityId"),t))},showTagOpPopup:function(e,t){var o=store.peekRecord("module",moduleRecordMapping[this.getData("module")].id),a=this,i=o.api_name;if("Activities"===i){var s=o.custom_view;i=s.calls_view?"Calls":s.event_view?"Events":s.task_view?"Tasks":i}store.clearCachedQuery("tag",{module:i,fromPage:"view"}),store.findAll("tag",{module:i,fromPage:"view"},!0).then((function(o){a.setData("moduleTags",store.peekAll("tag").filterBy({module_name:i})),o?(a.setData("maxTagLimit",o.$.meta.allowed_count),a.setData("recordTagLimit",o.$.meta.record_limit)):(a.setData("maxTagLimit",50),a.setData("recordTagLimit",10)),customViewObject.selectedIdForQuickAction=[a.getData("recordObjForQuickAction").id],a.showTagOpPopupOption(e,t,!0)}),(function(){renderingUtils.showAlertMsg(I18n.getMsg("crm.validation.rule.function.error.heading"))}))},moreActionsValue:function(e,t,o){if("create_call"===e&&isNewCallView&&"click"===o.type)return!1;this.moreActionsValue(e,t,o,this.getData("entityId"))},onmouseOverBounceIcon:function(e,t,o){EmailUnblocking.unblockEmailHelper(e,t,"list",null,o)},onmouseOutBounceIcon:function(e){EmailUnblocking.emailUnblockingMouseOut(e)}},methods:{onBeforeActivityMenuOpen:function(e,t){if((this.getData("recordObjForQuickAction").$upcoming_activity||!this.getData("isActivityRLVisible")||this.getData("disableActivityCreation"))&&null!==t.target.closest(".lvActivityIcon"))return!1},ifActivityAvail:function(e){var t=this.getData("parentElement");t=$L(t),e&&t.addClass("listView_activityOrgin")},beforeCallsSubmenu:function(e,t){return this.moreActionsValue("create_call",e,t,this.getData("entityId")),!1},selectAllEntity:function(){var e=this.getData("from_page");this.getMethods("onSelectAllEntities")?this.executeMethod("onSelectAllEntities"):"mass_tools"===e?this.throwEvent("selectAllEntity"):this.selectAllEntity(),"Activities"===this.getData("module")&&this.disableActBanner()},selectedEntity:function(e){var t=this.getData("from_page");this.getMethods("onSelectEntity")?this.executeMethod("onSelectEntity",e,this.getData("customview_records")):"mass_tools"===t?this.throwEvent("selectedEntity",e):this.selectedEntity(e,this.getData("customview_records")),"Activities"===this.getData("module")&&this.disableActBanner()},clearSelected:function(e){"mass_convert"===e?$L("#qAOptions_"+this.getData("entityId")+"_"+e+"_"+this.getData("module")).removeClass("lvSelectItem"):$L("#qAOptions_"+this.getData("entityId")+"_"+e).removeClass("lvSelectItem");var t=$L("#manualCallListPopover")[0];t&&t.ltProp("show",!1)},tableScroll:function(){if("mass_tools"!==this.getData("from_page")){var e=$L("#sort_menu")[0];e&&e.ltProp("show",!1);var t=$L("#alpha_sort_menu")[0],o=$L("#moreDescMenu")[0];t&&t.ltProp("show",!1),o&&(o.ltProp("show",!1),$L("body").removeClass("oH"))}},onMenuClose:function(e){for(var t="icons"+("quickAction"===e?this.getData("recordObjForQuickAction")?this.getData("recordObjForQuickAction").id:this.getData("entityId"):this.getData("callentityId")),o=$L(".listTableHover").length,a=0;a<o;a++)$L("#"+t,$L($L(".listTableHover")[a])).length>0&&$L($L(".listTableHover")[a]).removeClass("listTableHover")},onbeforeMenuClose:function(e,t){if("Appointments"===this.getData("module")&&Lyte.resolvePromises({filesResolved:Lyte.injectResources(networkUtils.returnDependencyFiles(["zohocrm_services.js"],ResourceConstants.CRM).concat(networkUtils.returnDependencyFiles([networkUtils.getI18nJSUrl("businesshours")],ResourceConstants.CRM)).concat(networkUtils.returnDependencyFiles(["business_hours-model.js","crm-services-appointments.js","servapp_preferences_model.js"],ResourceConstants.CRMClient)))}),t&&t.target&&(-1!==t.target.id.indexOf("_more")||-1!==t.target.id.indexOf("_mass_convert_Quotes")||-1!==t.target.id.indexOf("_mass_convert_SalesOrders")))return!1;this.setData("showlvMenu",!1)},onbeforeCallsMenuClose:function(e,t){if(t&&t.target&&(-1!==t.target.id.indexOf("_create_call")&&isNewCallView||-1!==t.target.id.indexOf("_more")))return!1;var o=$L("#manualCallListPopover")[0];return(!o||!o.ltProp("show"))&&void 0},onbeforeConvertMenuClose:function(e,t){if(t&&t.target&&(-1!==t.target.id.indexOf("_mass_convert_Quotes")||-1!==t.target.id.indexOf("_mass_convert_SalesOrders")))return!1},onCallsMenuOpen:function(){var e=this.getData("entityId");if(this.setData("callentityId",e),"Appointments"===this.getData("module")){var t=this.getData("customview_records").filter((function(t){return t.id===e}));this.setData("serviceId",t[0].Service_Name.id),this.setData("isScheduled",!(!t||!t[0]||t[0].Status!==I18n.getMsg("Scheduled")&&I18n.getMsg(t[0].Status)!==I18n.getMsg("Overdue"))),this.setData("appEndTime",t&&t[0]?t[0].Appointment_End_Time:void 0),I18n.getMsg(t[0].Status)!==I18n.getMsg("Overdue")?store.findAll("servapp_preferences",{},!1,!0,{module:"Appointments"}).then((function(e){e&&e.length&&($L("crm-inner-list").e[0].component.setData("hasCompleteAction","mark_as_complete"!==e[0].appointments.when_duration_exceeds),$L("#appMoreOptionList").css("display","block"))})):(this.setData("hasCompleteAction",!0),$L("#appMoreOptionList").css("display","block"))}else if(isNewCallView){(t=this.getData("customview_records").filter((function(t){return t.id===e})))&&t[0]&&t[0].Owner.id==Crm.userDetails.USER_ID?this.setData("hasCompleteAction",!0):this.setData("hasCompleteAction",!1)}},onQuickActionsMenuOpen:function(){var e=[],t=this.data.moduleActionsMenu,o=this.data.cv_system_name,a=this.getData("entityId"),i=this.getData("module"),s=this.getData("customview_records").filter((function(e){return e.id===a}));s=s[0],this.setData("recordObjForQuickAction",s),t.forEach((function(t){"Edit"===t.value?!(!1===s.$approved&&s.$approval&&!1===s.$approval.resubmit||o&&o.indexOf("REVIEWPROCESS")>=0)&&(s.$approval&&s.$approval.resubmit||s.$approved||s.$review||"Appointments"===i)&&!s.$stop_processing&&!s.$in_merge&&"Rejected"!==s.$review&&i.indexOf("Orchestration")<0&&Crm.userDetails.permissions["Crm_Implied_Edit_"+customViewObject.module]&&e.push({name:I18n.getMsg("crm.button.edit"),value:"Edit"}):"tag_op"===t.value?s.Tag&&s.Tag.length?e.push({name:I18n.getMsg("crm.label.edit.module",I18n.getMsg("crm.label.small.tags")),value:"edit_tag"}):e.push({name:I18n.getMsg("crm.label.add.tags"),value:"add_tag"}):e.push(t)})),this.setData({quickActionMenu:s.$stop_processing?this.data.actionsForStopProcessingRec:e,showlvMenu:!0})},addMoreOptions:function(){$L("#qAOptions_"+this.getData("entityId")+"_mass_convert_"+this.getData("module")).removeClass("lvSelectItem");var e,t,o=[],a=this.getData("module"),i=this.relatedListForModule;void 0===i&&(i=moduleRecordMapping[a].related_lists?moduleRecordMapping[a].related_lists:store.peekAll("related_list",{module:a})),i&&i.filter((function(o){e=e||"APPOINTMENTSPERSONALITY"===o.personality_name,t=t||"ACTIVITYPERSONALITY"===o.personality_name})),t&&Crm.userDetails.permissions.Crm_Implied_Create_Calls&&moduleRecordMapping.Calls&&moduleRecordMapping.Calls.visible&&o.push({name:I18n.getMsg("crm.button.create.call"),value:"create_call",isNewCallView:isNewCallView}),t&&Crm.userDetails.permissions.Crm_Implied_Create_Events&&moduleRecordMapping.Events&&moduleRecordMapping.Events.visible&&o.push({name:I18n.getMsg("crm.module.create",I18n.getMsg("Meeting")),value:"create_meetings"}),e&&Crm.userDetails.permissions.Crm_Implied_Create_Appointments&&moduleRecordMapping.Appointments&&moduleRecordMapping.Appointments.visible&&o.push({name:I18n.getMsg("crm.module.create",I18n.getMsg("Appointment")),value:"create_appointment"}),$L("#qAOptions_"+this.getData("entityId")+"_more").addClass("lvSelectItem"),this.setData("activitiesMenu",o)},addConvertOptions:function(){$L("#qAOptions_"+this.getData("entityId")+"_more").removeClass("lvSelectItem"),$L("#qAOptions_"+this.getData("entityId")+"_mass_convert_"+this.getData("module")).addClass("lvSelectItem")},latestEntityIdFromTable:function(){var e=this.origEntRow;if(e)var t=$L.fastdom.mutate((function(){setTimeout((function(){var t=document.querySelector(".lyteExpTableOrigTableInnerWrap lyte-exptable-tr:nth-child("+e+")").offsetTop-45;$L(".lyteExpTableOrigTableInnerWrap").scrollTop(t)}),60),$L.fastdom.clear(t)}))},showMoreTags:function(){this.setHeight()},resizeColumn:function(e){var t,o=e.id,a=this,i=a.findObjectFromArray(a.data.customfields,o,"id"),s=a.$node.querySelector(".lyteExpOriginalTable").querySelector("#listviewHeaderRow");s.children.filter((function(e){return e.id===o}))[0].classList.remove("resizeSelect"),0===a.data.cv_mod_fields.size?$L.fastdom.measure(function(){for(var e=a.data.cv_mod_fields,o=s.querySelectorAll("lyte-exptable-th"),i=o.length,l=0;l<i;l++)if(0!==o[l].id.length){var n=o[l].offsetWidth,r=a.findObjectFromArray(a.data.customfields,o[l].id,"id");r[0].style="width:"+n+"px",r[0].ui_type===CrmField.UITYPES.TAGS&&(t=n),e.set(o[l].id,n)}$L.fastdom.mutate(function(){a.setData("cv_width_updated",!0),a.setData("width_prev_cvid",a.data.module_info.cvid)}.bind(this))}.bind(this)):$L.fastdom.measure(function(){t=e.offsetWidth,i[0].style="width:"+t+"px",a.data.cv_mod_fields.set(o,t),a.setData("width_prev_cvid",a.data.module_info.cvid)}.bind(this)),"Tag"===i[0].api_name&&$L.fastdom.measure((function(){var e=t+"px";i[0].tagWidth=e,a.reRenderTagComponent(a.data.clip_mode,e),a.setHeight()})),a.setData("last_pop_entity",""),setTimeout(function(){a.data.clip_mode||a.setHeight()}.bind(this),0)},sortRecord:function(e,t,o,a){var i=a?store.peekRecord("field",a.closest("lyte-exptable-th").id):void 0;this.applyAlphaSort(e,i?i.api_name:void 0)},showDropbox:function(e,t,o){if(t&&t.target.classList.contains("smalledit"))return!1;o&&(this.setData("alphaDropBoxField",store.peekRecord("field",o.closest("lyte-exptable-th").id).api_name),this.setData("showAlphaDropBox",!0))},hideDropBox:function(){this.setData("alphaDropBoxField",""),this.setData("showAlphaDropBox",!1)},populateDescContent:function(e,t){var o=0,a=$L("#lv_left_filter").outerWidth(),i=$L(t.target),s=$L("lyte-menu-box.descMenuPopup"),l=i.closest(".nlv_data_textarea"),n=l.offset().left,r=l.outerWidth();this.setData("descriptionContent",i.closest("lyte-exptable-td")[0].innerText);var p=i.closest("lyte-exptable-tr"),d=p[0].id,c=this.data.module_info.filter_status?a+30:29;n<c?(o=r-c-Math.abs(n))<=400&&(o=400):o=r<400?400:r,$L("#"+d).addClass("listTableHoverLabel"),p.addClass("listTableHoverLabel"),s.width(o),$L("body").addClass("oH")},SetMenuTopLabel:function(e,t){var o=$L("#lv_left_filter").outerWidth(),a=$L(t.target).closest(".nlv_data_textarea"),i=$(document).outerWidth(),s=a.offset(),l=$L("lyte-menu-box.descMenuPopup"),n=s.left,r=s.top,p=l.outerHeight();renderingUtils.windowOuterHeight-r-28<p&&(r=r+a.outerHeight()-p);var d=this.data.module_info.filter_status?o+30:29;if(n<d){var c=n+a.outerWidth()-d-400;n=c<400?c+d:d}var m=i-n;m<400&&(n-=400-m),l.css({top:r-1,left:n})},hideDescContent:function(){if("descCont"===event.target.className||"descPre"===event.target.className)return!1;$L(".descMenuPopup .descCont").scrollTo(0,0),$L("lyte-expresstable").find(".listTableHoverLabel").removeClass("listTableHoverLabel"),this.setData("descriptionContent",""),$L("body").removeClass("oH")},beforeSetFixTableColumnWidth:function(e){this.getData("cv_width_updated")||e.classList.add("setMinWidthList")},afterSetFixTableColumnWidth:function(e){this.getData("cv_width_updated")||e.classList.remove("setMinWidthList")},onResizeSelect:function(e){void 0!==e&&this.$node.querySelector(".lyteExpOriginalTable").querySelector("#listviewHeaderRow").children.filter((function(t){return t.id===e.id}))[0].classList.add("resizeSelect");$L.fastdom.measure(function(){$L.fastdom.mutate(function(){0===this.data.cv_mod_fields.size&&this.setData("cv_width_updated",!0)}.bind(this))}.bind(this))}},didConnect:function(){if("mass_tools"!==this.getData("from_page")){this._resize=this.setHeight.bind(this),this.getData("selectedIds").length&&this.headerSelection(this.getData("module_info")),window.addEventListener("resize",this._resize,!0);var e=$L(".lyteExpTableOrigTableInnerWrap")[0],t=$L("#listViewTable");this._propsSave=this.checkForPropsUpdate.bind(this),window.addEventListener("beforeunload",this._propsSave),this.setWidthForPinnedColumns(),this.setWidthForTable(),e.scrollWidth>e.clientWidth&&t.addClass("setMaxWidthForTable"),Crm.userDetails.isAccessibilityConfigSupported&&!this.globalAccessibilityServices.getVariable("standardNavigationOrder")&&t.find("[role=columnheader]")[0].focus()}},didDestroy:function(){"mass_tools"!==this.getData("from_page")&&(window.removeEventListener("resize",this._resize,!0),clearTimeout(this.timerForRelatedFields),this.checkForPropsUpdate(),window.removeEventListener("beforeunload",this._propsSave))},checkTaskStatusEditPermission:function(){for(var e=store.peekAll("field","Tasks"),t=e.length,o=0;o<t;o++)if(e[o].module&&e[o].module[0]&&e[o].module[0].api_name===moduleApiMapping.Tasks&&"STATUS"===e[o].column_name&&(!e[o].visible||e[o].read_only))return!1;return!0},actionsAvailForComplianceRec:function(){var e=[],t=["Edit","tag_op","change_owner","sendmail","mass_convert","sendmail_potential"];return this.data.moduleActionsMenu.forEach((function(o){t.includes(o.value)||e.push(o)})),e},checkForPropsUpdate:function(){this.getData("isResizeEnabled")&&this.checkForWidthUpdate.call(this),this.checkForWrapUpdate.call(this)},checkForWidthUpdate:function(e){if(this.data.cv_mod_fields.size>0&&this.getData("persistWidthUpdate")){if(this.data.updateWidthValue||this.persistWidthToStore()){var t=moduleRecordMapping[this.getData("module")],o=this.data.cv_width_updated&&""!==this.getData("width_prev_cvid")?this.getData("width_prev_cvid"):t.cvid;custom_view=store.peekRecord("custom_view",o);var a={fields:custom_view.fields,id:o},i={module:t.api_name};this.data.isFromModal&&this.setFeatureSpecificParams(i,this.data.featureName),store.triggerAction("custom_view","customize_width",a,i),this.setData("cv_mod_fields",new Map),this.setData("cv_width_updated",!0===e),this.setData("updateWidthValue",!1)}this.setData("width_prev_cvid","")}},setWidthForPinnedColumns:function(e){var t=0,o=0,a=this.data.customfields;if(a){if(a.forEach((function(e){var a=e.style?e.style:"";e.cxPropPinned&&a.indexOf("width")>-1&&(t+=Number(a.replace("width:","").replace("px","").replace(";","")),o++)})),!o)return;var i=document.querySelector(".lyteExpTableOrigTableInnerWrap"),s=i?i.clientWidth:void 0,l=this.calculatefixedColumnWidth();if(e&&(t+=e,l+=e),s&&l+t+100>=s){var n=new Map;a.forEach((function(e){if(e.cxPropPinned)n.set(e.id,Math.round((s-l-100)/o));else{var t=e.style&&e.style.indexOf("width")>-1?Number(e.style.replace("width:","").replace("px","").replace(";","")):e.width?Number(e.width.slice(0,-2)):void 0;t&&n.set(e.id,t)}})),this.setData("cv_mod_fields",n),this.checkForWidthUpdate(!0);var r=moduleRecordMapping[this.getData("module")],p=this.data.cv_width_updated&&""!==this.getData("width_prev_cvid")?this.getData("width_prev_cvid"):r.cvid,d=store.peekRecord("custom_view",p);$L("crm-list-view")[0].setData({listfields:d.fields})}}},persistWidthToStore:function(){if(this.data.cv_mod_fields.size>0){var e,t,o=moduleRecordMapping[this.getData("module")],a=this,i=!1,s=a.data.cv_width_updated&&""!==a.getData("width_prev_cvid")?a.getData("width_prev_cvid"):o.cvid,l=store.peekRecord("custom_view",s),n=a.getData("cv_mod_fields"),r=[],p=l.fields?l.fields:a.data.custom_view.fields;if(p&&p.forEach((function(o){if(!(e=Object.assign({},o)).id){var s=a.findObjectFromArray(a.data.customfields,e.api_name,"api_name");s[0]&&(e.id=s[0].id)}(t=n.get(e.id))&&(i||e._width===t||(i=!0),e._width=Number(t)),r.push(e)})),i)return l.$.set("fields",r),a.setData("updateWidthValue",!0),!0}return!1},checkForWrapUpdate:function(){if(this.getData("persistWrapUpdate")){var e=moduleRecordMapping[this.getData("module")],t=store.peekRecord("custom_view",e.cvid),o=!this.data.clip_mode;if(t&&t.wrap_text!==o){t.$.set("wrap_text",o);var a={wrap_text:o,id:e.cvid},i={module:e.api_name};this.data.isFromModal&&this.setFeatureSpecificParams(i,this.data.featureName),store.triggerAction("custom_view","customize_wrap_text",a,i)}}},calculateWidthForTable:function(){var e,t=0,o=this;if(o.getData("cv_mod_fields").size>0?o.getData("cv_mod_fields").forEach((function(e){t+=e})):o.getData("customfields").forEach((function(o){(e=o.style?o.style:"").indexOf("width")>-1&&(t+=Number(e.replace("width: ","").replace("px;","")))})),0!==t){for(var a=o.getData("customview_records"),i=a?a.length:0,s=!1,l=0;l<i;l++)if(a[l].$upcoming_activity){s=!0;break}var n=o.getData("list_cv_btn"),r=89;r+="Activities"===o.getData("module")||"Tasks"===o.getData("module")||"Events"===o.getData("module")||"Calls"===o.getData("module")?70:35,r+=s?120:0,n&&n.length>0&&-1===o.getData("cv_system_name").indexOf("REVIEWPROCESS LEADS")&&(r+=225),t+=r,o.setData("cv_width_updated",!0),o.setData("current_table_width",t),this.setWidthForTable()}else o.setData("cv_width_updated",!1)},observeFieldsForWidthCalc:function(){this.getData("isResizeEnabled")&&(this.checkForWidthUpdate(),this.calculateWidthForTable())}.observes("customfields").on("init"),setWidthForTable:function(){if(this.getData("cv_width_updated")&&this.getData("isStickyTable")){var e=this.$node.querySelector(".lyteExpOriginalTable");e&&(e.style.width=this.getData("current_table_width")+"px")}},latestEntityId:function(e){if(document.getElementById("listView_"+e)){var t=this,o=document.querySelector(".lyteExpTableOrigTableInnerWrap lyte-exptable-tr[id='"+e+"']");setTimeout((function(){var t,o=document.querySelector("#listcrux");o&&(o.component.disableScroll=!0),t=document.getElementById("cvpadding").offsetHeight+document.querySelector(".lyteExpTableOrigTableInnerWrap #listviewHeaderRow").offsetHeight+document.getElementById("tabLayer").offsetHeight;var a=document.querySelector(".cxTableUpRow");a&&(t+=a.offsetHeight);var i=$(".lyteExpTableOrigTableInnerWrap lyte-exptable-tr[id='"+e+"']").offset().top-t;$L(".lyteExpTableOrigTableInnerWrap").scrollTop(i),Crm.latestEntId=void 0,$L.fastdom.measure((function(){$L.fastdom.mutate((function(){$L.fastdom.measure((function(){o&&(o.component.disableScroll=!1)}))}))}))}),50),setTimeout((function(){if(t&&t.$node){var e=t.$node.querySelector(".list-border-left");e&&e.classList.remove("list-border-left")}}),2e3),o.classList.add("trialyellowbox","list-border-left")}else Crm.latestEntId=void 0},timerForRelatedFields:"",constructRelatedFields:function(e,t,o,a){var i=document.getElementsByTagName("crm-listview-relatedfields-popover");0==i.length?i=Lyte.Component.render("crm-listview-relatedfields-popover",{addPhone:o,addEmail:a,record:e},"crm-list-view"):(i=i[0]).setData({addPhone:o,addEmail:a,record:e}),i.style["min-width"]="210px",i.setData({show:!0})},addsortable:function(){$L("#customButtonsList").sortable({onDrop:function(e,t,o,a,i){var s=$L("#customButtonsList"),l=store.peekRecord("custom_button",e.dataset.value);l.$.set("sequence_number",i+1),Lyte.arrayUtils(this.data.list_cv_btn,"insertAt",i,Lyte.arrayUtils(this.data.list_cv_btn,"removeAt",a)),s.sortable();var n=this.getData("module");store.triggerUpdate("custom_button",e.dataset.value,["sequence_number"],{module:n},{isV6Api:!0}).then((function(){store.clearCachedQuery("custom_button",{module:n})})),arguments[6].preventDefault()}.bind(this)})},chkManageColForLockedCVAvail:function(e,t){return!e||!e.locked||(!(!e.system_defined||!t)||(!(e.system_defined||!t&&e.created_by.id!=Crm.userDetails.USER_ID)||void 0))},observeRecords:function(){Crm.latestEntId&&this.data.customview_records.every(function(e){if(e.id==Crm.latestEntId){var t=e.recnum-(this.data.page-1)*this.data.module_info.per_page;return this.origEntRow=t,t>=this.data.customview_records.length-5&&(t=this.data.customview_records.length),this.set("latest_ent_row",t),!1}return!0}.bind(this));var e=!this.data.cv_system_name||this.data.cv_system_name&&(this.data.cv_system_name.indexOf("REVIEWPROCESS")<0||this.data.cv_system_name.indexOf("REVIEWPROCESS")>=0&&this.getData("customview_records").find((function(e){return e.$approval_state&&"review_process_rejected"===e.$approval_state.toLowerCase()})));this.setData("showSelectBox",!("COMPLIANCE"===this.data.featureName&&"request"===this.data.queryParams.type)&&e)}.observes("customview_records").on("init"),observeManageColumnsCscript:function(){const e=$L("crm-listview-options");e[0]&&e[0].component&&e[0].component.setData("isManageColumnsEnabled",this.chkManageColForLockedCVAvail(this.data.custom_view,this.data.admin)&&this.data.manage_columns_visible)}.observes("manage_columns_visible"),setHeightFunc:function(){"mass_tools"!==this.getData("from_page")&&setTimeout(function(){$L.fastdom.measure(function(){this.setHeight()}.bind(this))}.bind(this),0)}.observes("customview_records").on("didConnect"),observeModule:function(){this.setData("custom_view",store.peekRecord("custom_view",this.getData("module_info").custom_view.id))}.observes("module").on("init")},{mixins:["crm-view-utils","crm-list-view-modal-util","crm-stop-event","crm-activity-mixin"]}),Lyte.Component.registerHelper("generateUrl",(function(){return RebrandLinkUtil.getProperty("URLPROTOCOL")+"://"+RebrandLinkUtil.getProperty("CRMURL")+Lyte.Router.getURL({route:"crm.tab.module.entity.detail",dynamicParams:[this.getData("module"),this.getData("entityId")]})})),Lyte.Component.registerHelper("getActivityBadgeClass",(function(e){var t=[];return(this.getData("disableActivityBadge")||!e.$upcoming_activity&&this.getData("disableActivityCreation"))&&t.push("disabled","cNotAllowed"),this.getData("isActivityRLVisible")&&!this.getData("disableActivityBadge")&&e.$upcoming_activity&&t.push("showIcon"),this.getData("isActivityRLVisible")||t.includes("cNotAllowed")||t.push("cNotAllowed"),t.join(" ")})),Lyte.Component.registerHelper("getActivityBadgeTitle",(function(e){return this.getData("disableActivityBadge")||!e.$upcoming_activity&&this.getData("disableActivityCreation")?I18n.getMsg("crm.creator.error.access"):this.getData("isActivityRLVisible")?void 0:I18n.getMsg("crm.customview.rl.hidden",I18n.getMsg("crm.activity.open"))}));
