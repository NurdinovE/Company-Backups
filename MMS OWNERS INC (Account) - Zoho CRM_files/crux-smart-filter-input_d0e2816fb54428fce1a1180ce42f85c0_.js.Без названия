Lyte.Component.register("crux-smart-filter-input",{_template:'<template tag-name="crux-smart-filter-input"> <template is="if" value="{{rendered}}"><template case="true"> <lyte-messagebox lt-prop-type="error" id="errorMessage"></lyte-messagebox> <template is="if" value="{{expHandlers(field.cxFieldsDetails,\'&amp;&amp;\',field.renderNew)}}"><template case="true"> <div class="{{if(expHandlers(expHandlers(ifEquals(field.api_name,\'Competitor_Duration\'),\'||\',ifEquals(field.api_name,\'Competitor_Sentiment\')),\'||\',ifEquals(field.api_name,\'Competitor_Name\')),\'\',\'paddingElm cxSmFrInputWrapper\')}}"> <template is="for" items="{{field.cxFieldsDetails}}" item="rowObj" index="fldInd"> <div class=""> <template is="if" value="{{rowObj.cxLabel}}"><template case="true"> <span class="mR2">{{rowObj.cxLabel}}</span> </template></template> <template is="if" value="{{expHandlers(rowObj.cxDropDown_1,\'&amp;&amp;\',rowObj.cxDropDown_1.cxShow)}}"><template case="true"> <lyte-dropdown class="{{rowObj.cxDropDown_1.class}}" lt-prop-boundary="{{boundary}}" data-zcqa="cxDropDown_1_{{field.field_label}}" lt-prop-freeze="true" id="cxDropDown_1_{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}" lt-prop-index="1" on-change="{{method(\'observeDropDownChanges\')}}" lt-prop-selected="{{lbind(rowObj.cxDropDown_1.selectedValue)}}" on-option-selected="{{method(\'getDropDownVal\')}}"> <template is="registerYield" yield-name="yield"> <lyte-drop-box class="cxDropbox cxSmartFilterDropbox"> <lyte-drop-body> <template is="for" items="{{rowObj.cxDropDown_1.values}}" item="item" index="index"> <lyte-drop-item data-value="{{item[dropdownSysValue]}}" data-zcqa="{{field.field_label}}_{{item[dropdownDispValue]}}"> {{item[dropdownDispValue]}}</lyte-drop-item> </template> </lyte-drop-body> </lyte-drop-box> </template> </lyte-dropdown> </template></template> <template is="if" value="{{expHandlers(rowObj.cxElement_1,\'&amp;&amp;\',rowObj.cxElement_1.cxShow)}}"><template case="true"> <template is="component" class="{{rowObj.cxElement_1.class}}" cx-prop-request-model="{{roleRequestModel}}" cx-prop-logged-in-user-role-required="{{if(ifEquals(roleRequestModel,\'role\'),\'true\',\'false\')}}" cx-prop-show-lookup-icon="{{if(ifEquals(rowObj.cxElement_1,\'role\'),false,true)}}" cx-prop-field-key="field_label" cx-prop-zcqa="{{field.display_field_label}}_input" cx-prop-maxvalue="{{rowObj.cxElement_1.maxValue}}" cx-prop-minvalue="{{rowObj.cxElement_1.minValue}}" cx-prop-maxlength="{{rowObj.cxElement_1.maxLength}}" cx-prop-placeholder="{{rowObj.cxElement_1.placeholder}}" cx-prop-module="{{module}}" cx-prop-class="{{rowObj.cxElement_1.cxClass}}" id="{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}_crux_comp" component-name="crux-{{rowObj.cxElement_1}}-component" cx-prop-from="filter" cx-prop-value="{{rowObj.cxElement_1.selectedValue}}" cx-prop-field="{{field}}" cx-prop-decimal-allowed="{{rowObj.cxElement_1.cxDecimal}}" on-value-change="{{method(\'changeUserInputValue\')}}" cx-prop-login-user="true" onkeydown="{{action(\'inputValidate\',this,event,field)}}" on-error="{{method(\'beforeAlert\')}}" cx-prop-boundary="{{boundary}}" cx-prop-disable-extra-value="{{rowObj.cxElement_1.cxDisableExtraValue}}" cx-prop-type="{{rowObj.cxElement_1.cxType}}" cx-prop-appearance="box" cx-prop-max-count="{{rowObj.cxElement_1.maxCount}}" cx-prop-query-param="{{userProperty.queryParam}}" cx-prop-is-subordinate="{{userProperty.isSubordinate}}" cx-prop-date-pattern="{{userDetails.DATE_PATTERN}}" cx-prop-id="id_{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}"></template> </template></template> <template is="if" value="{{expHandlers(rowObj.cxElement_2,\'&amp;&amp;\',rowObj.cxElement_2.cxShow)}}"><template case="true"> <template is="component" class="{{rowObj.cxElement_2.class}}" cx-prop-request-model="{{roleRequestModel}}" cx-prop-logged-in-user-role-required="{{if(ifEquals(roleRequestModel,\'role\'),\'true\',\'false\')}}" cx-prop-show-lookup-icon="{{if(ifEquals(rowObj.cxElement_2,\'role\'),false,true)}}" cx-prop-field-key="field_label" cx-prop-zcqa="{{field.display_field_label}}_input" cx-prop-maxvalue="{{rowObj.cxElement_2.maxValue}}" cx-prop-minvalue="{{rowObj.cxElement_2.minValue}}" cx-prop-maxlength="{{rowObj.cxElement_2.maxLength}}" cx-prop-placeholder="{{rowObj.cxElement_2.placeholder}}" cx-prop-module="{{module}}" cx-prop-class="{{rowObj.cxElement_2.cxClass}}" id="{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}_crux_comp" component-name="crux-{{rowObj.cxElement_2}}-component" cx-prop-from="filter" cx-prop-value="{{rowObj.cxElement_2.selectedValue}}" cx-prop-field="{{field}}" cx-prop-decimal-allowed="{{rowObj.cxElement_2.cxDecimal}}" on-value-change="{{method(\'changeUserInputValue\')}}" cx-prop-login-user="true" onkeydown="{{action(\'inputValidate\',this,event,field)}}" on-error="{{method(\'beforeAlert\')}}" cx-prop-boundary="{{boundary}}" cx-prop-disable-extra-value="{{rowObj.cxElement_2.cxDisableExtraValue}}" cx-prop-type="{{rowObj.cxElement_2.cxType}}" cx-prop-appearance="box" cx-prop-max-count="{{rowObj.cxElement_2.maxCount}}" cx-prop-query-param="{{userProperty.queryParam}}" cx-prop-is-subordinate="{{userProperty.isSubordinate}}" cx-prop-date-pattern="{{userDetails.DATE_PATTERN}}" cx-prop-id="id_{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}"></template> </template></template> <template is="if" value="{{expHandlers(rowObj.cxDropDown_2,\'&amp;&amp;\',rowObj.cxDropDown_2.cxShow)}}"><template case="true"> <lyte-dropdown class="{{rowObj.cxDropDown_2.class}}" lt-prop-boundary="{{boundary}}" data-zcqa="cxDropDown_2_{{field.field_label}}" lt-prop-freeze="true" id="cxDropDown_2_{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}" lt-prop-index="1" on-change="{{method(\'observeDropDownChanges\')}}" lt-prop-selected="{{lbind(rowObj.cxDropDown_2.selectedValue)}}" on-option-selected="{{method(\'inputValueChanged\',\'lyte-dropdown\')}}"> <template is="registerYield" yield-name="yield"> <lyte-drop-box class="cxDropbox cxSmartFilterDropbox {{if(propFilterView,\'newLvDropdown\')}}"> <lyte-drop-body> <template is="for" items="{{dateoptions}}" item="item" index="index"> <lyte-drop-item data-value="{{item[dropdownSysValue]}}" data-zcqa="{{field.field_label}}_{{item[dropdownDispValue]}}"> {{item[dropdownDispValue]}}</lyte-drop-item> </template> </lyte-drop-body> </lyte-drop-box> </template> </lyte-dropdown> </template></template> <template is="for" items="{{crossFields}}" item="Obj" index="index"> <template is="if" value="{{Obj.isCheckBox}}"><template case="true"> <template is="if" value=""><template case="true"><div class="facet mL10"><lyte-checkbox title="{{Obj.field_label}}" value="{{Obj.api_name}}" data-zcqa="" lt-prop-type="default" class="checkFilter userSelectNone {{radioBtnIsSelected(field,Obj)}}" id="sub_field_{{Obj.api_name}}" lt-prop-label="{{Obj.field_label}}" on-changed="{{method(\'inputValueChanged\',Obj,true)}}"></lyte-checkbox> </div></template></template> </template><template case="false"><template is="if" value="{{expHandlers(Obj.isRadioBtn,\'!==\',false)}}"><template case="true"> <lyte-radiobutton data-zcqa="{{field.column_name}}_{{Obj.api_name}}" id="sub_field_{{Obj.api_name}}" lt-prop-type="primary" class="{{radioBtnIsSelected(field,Obj)}}" lt-prop-checked="{{radioBtnIsSelected(field,Obj,true)}}" lt-prop-name="option_{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}" lt-prop-value="{{Obj.api_name}}" lt-prop-label="{{Obj.field_label}}" on-changed="{{method(\'getCrossFieldOption\',index,Obj)}}" on-before-checked="{{method(\'crossFieldHideOption\')}}"></lyte-radiobutton> </template></template></template></template> <template is="if" value="{{expHandlers(Obj.showSubField,\'!==\',false)}}"><template case="true"> <crux-smart-filter-input class="{{Obj.cxClass}}" id="sub_option_{{Obj.api_name}}" field="{{Obj}}" module="{{if(ifEquals(module,\'Activities\'),Obj.module_name,module)}}" on-value-change="{{method(\'inputValueChanged\',Obj,false)}}" boundary="{{boundary}}" on-before-error-alert="{{method(\'beforeErrorCallback\')}}"></crux-smart-filter-input> </template></template> </template> </div> </template> </div> </template><template case="false"> <div class="{{if(expHandlers(expHandlers(ifEquals(field.api_name,\'Competitor_Duration\'),\'||\',ifEquals(field.api_name,\'Competitor_Sentiment\')),\'||\',ifEquals(field.api_name,\'Competitor_Name\')),\'\',\'paddingElm cxSmFrInputWrapper\')}}"> <template is="if" value="{{expHandlers(expHandlers(field.cxFilter_RecordAction,\'==\',true),\'||\',expHandlers(field.api_name,\'==\',&quot;Recommendation&quot;))}}"><template case="true"> <div class="cxSmartFilterTwoCol"> <lyte-dropdown lt-prop-boundary="{{boundary}}" data-zcqa="record_{{field.field_label}}" class="{{dropDownWidth.headDropDownWidth}}" id="record_{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}" lt-prop-selected="{{lbind(selectedValues.headDropDownValue)}}" lt-prop-index="1" on-change="{{method(\'observeDropDownChanges\')}}" on-option-selected="{{method(\'inputValueChanged\',\'lyte-dropdown\')}}"> <template is="registerYield" yield-name="yield"> <lyte-drop-box class="cxSmartFilterDropbox cxDropbox {{if(propFilterView,\'newLvDropdown\')}}"> <lyte-drop-body> <template is="for" items="{{field.values}}" item="item" index="index"> <lyte-drop-item data-value="{{item[dropdownSysValue]}}" data-zcqa="{{field.field_label}}_{{item[dropdownDispValue]}}"> {{item[dropdownDispValue]}}</lyte-drop-item> </template> </lyte-drop-body> </lyte-drop-box> </template> </lyte-dropdown> </div> </template></template> <template is="if" value="{{expHandlers(field.api_name,\'===\',&quot;SimilarityAvailable&quot;)}}"><template case="true"> <div class="facet mB5"> <div class="cxSmartFilterInputSimAvailable "> <div class="facet mL20 mB10"> <lyte-checkbox title="{{crossFields[0].field_label}}" data-zcqa="{{field.column_name}}_{{crossFields[0].api_name}}" lt-prop-type="default" class="checkFilter userSelectNone {{radioBtnIsSelected(field,crossFields[0])}}" id="sub_field_{{crossFields[0].api_name}}" lt-prop-value="{{crossFields[0].api_name}}" lt-prop-label="{{crossFields[0].field_label}}" on-changed="{{method(\'getCrossFieldOption\',null,crossFields[0])}}"> </lyte-checkbox> <template is="if" value="{{similarity.isScore}}"><template case="true"> <crux-smart-filter-input id="sub_option_{{crossFields[0].api_name}}" field="{{crossFields[0]}}" module="{{if(ifEquals(module,\'Activities\'),crossFields[0].module_name,module)}}" on-value-change="{{method(\'inputValueChanged\',crossFields[0],false)}}" boundary="{{boundary}}" on-before-error-alert="{{method(\'beforeErrorCallback\')}}"> </crux-smart-filter-input> </template></template> </div> <div class="facet mL20 mB10"> <lyte-checkbox title="{{crossFields[1].field_label}}" data-zcqa="{{field.column_name}}_{{crossFields[1].api_name}}" lt-prop-type="default" class="checkFilter userSelectNone {{radioBtnIsSelected(field,crossFields[1])}}" id="sub_field_{{crossFields[1].api_name}}" lt-prop-value="{{crossFields[1].api_name}}" lt-prop-label="{{crossFields[1].field_label}}" on-changed="{{method(\'getCrossFieldOption\',null,crossFields[1])}}"> </lyte-checkbox> <template is="if" value="{{similarity.isRecords}}"><template case="true"> <crux-smart-filter-input id="sub_option_{{crossFields[1].api_name}}" field="{{crossFields[1]}}" module="{{if(ifEquals(module,\'Activities\'),crossFields[1].module_name,module)}}" on-value-change="{{method(\'inputValueChanged\',crossFields[1],false)}}" boundary="{{boundary}}" on-before-error-alert="{{method(\'beforeErrorCallback\')}}"> </crux-smart-filter-input> </template></template> </div> </div> </div> </template></template> <template is="if" value="{{expHandlers(expHandlers(field.api_name,\'==\',&quot;Recommendation&quot;),\'&amp;&amp;\',renderRecommendation)}}"><template case="true"> <div class="facet mB5"> <div class="mB0"> <template is="if" value="{{expHandlers(selectedValues.headDropDownValue,\'===\',&quot;selected&quot;)}}"><template case="true"> <div class="dB mB5 "> <lyte-dropdown lt-prop-freeze="true" lt-prop-boundary="{{boundary}}" class="w260 cxMXNFld" id="multiSelect_lookup_{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}_infield" lt-prop-yield="true" on-add="{{method(\'addToList\',\'Recommendation_infield\')}}" on-remove="{{method(\'removeFromList\')}}" on-show="{{method(\'onShowDropBox\')}}" on-hide="{{method(\'onBeforeHide\')}}" lt-prop-type="multisearch" lt-prop-tabindex="14" on-option-selected="{{method(\'inputValueChanged\')}}" on-value-change="{{method(\'changeUserInputValue\')}}" lt-prop-selected="{{selectedValues.multiSelectFieldValue1}}"> <template is="registerYield" yield-name="yield"> <lyte-drop-button class="dB"> <div class="lyteMultiselect"> <ul class="lyteMultipleSelect"> <template is="for" items="{{renderItems2}}" item="selitem" index="indexval"> <li id="renderItems_{{selitem[lookupDisplayField]}}_infield" class="rec" data-value="{{selitem.id}}"> <span class="lyteDropdownVisible">{{selitem[lookupDisplayField]}}</span> <lyte-drop-remove class="lyteCloseIcon"></lyte-drop-remove> </li> </template> <li class="lyteMultiselectInput"> <lyte-input id="{{field.api_name}}_infield_Search_val" on-value-change="{{method(\'onSearch\')}}" onclick="{{action(\'toggleDropDown\',field,\'Recommendation_infield\')}}" lt-prop-placeholder="{{placeholderValue[0]}}"></lyte-input> </li> </ul> </div> </lyte-drop-button> <lyte-drop-box class="cxSmartFilterDropbox cxDropbox lookup_result_Box"> <lyte-drop-body class="result_items"> <template is="if" value="{{displayMsg.multiLookupMsg}}"><template case="true"> <div id="display_msg_{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}" class="select2-results__option select2-results__message">{{displayMsg.multiLookupMsg}}</div> </template></template> <template is="for" items="{{lookUpArray}}" item="item" index="indval"> <lyte-drop-item id="campaign_{{item[lookupDisplayField]}}" class="campaigns_item" data-value="{{item.id}}" data-zcqa="{{field.field_label}}_{{item[lookupDisplayField]}}"> {{item[lookupDisplayField]}} </lyte-drop-item> </template> </lyte-drop-body> </lyte-drop-box> </template> </lyte-dropdown> </div> </template></template> <div class="cxSmartFilterLabelWrap"> <span class="cxSmartFilterLabel ">{{cruxGetI18n(\'crm.filter.label.in\')}}</span> </div> <template is="if" value="{{expHandlers(recommendationBasedOnOption.FirstTime,\'!==\',undefined)}}"><template case="true"> <div class="cxSmartFilterLabelWrap"> <lyte-checkbox on-changed="{{method(\'observeDropDownChanges\')}}" lt-prop-checked="{{lbind(recommendationBasedOn.first_buy)}}" lt-prop-name="RecommendationBasedOn" lt-prop-value="{{recommendationBasedOnOption.FirstTime[dropdownSysValue]}}" data-zcqa="by_{{field.field_label}}" lt-prop-id="by_{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}_dropdownSysValue" lt-prop-label="{{recommendationBasedOnOption.FirstTime[dropdownDispValue]}}"></lyte-checkbox> </div> </template></template> <template is="if" value="{{expHandlers(recommendationBasedOnOption.Dependent,\'!==\',undefined)}}"><template case="true"> <div class="cxSmartFilterLabelWrap"> <lyte-checkbox on-changed="{{method(\'observeDropDownChanges\')}}" lt-prop-checked="{{lbind(recommendationBasedOn.cross_selling)}}" lt-prop-name="RecommendationBasedOn" lt-prop-value="{{recommendationBasedOnOption.Dependent[dropdownSysValue]}}" data-zcqa="by_{{field.field_label}}" lt-prop-id="by_{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}_dropdownSysValue" lt-prop-label="{{recommendationBasedOnOption.Dependent[dropdownDispValue]}}"></lyte-checkbox> </div> </template></template> <template is="if" value="{{expHandlers(recommendationBasedOnOption.Bundle,\'!==\',undefined)}}"><template case="true"> <div class="cxSmartFilterLabelWrap"> <lyte-checkbox on-changed="{{method(\'observeDropDownChanges\')}}" lt-prop-checked="{{lbind(recommendationBasedOn.bundle)}}" lt-prop-name="RecommendationBasedOn" lt-prop-value="{{recommendationBasedOnOption.Bundle[dropdownSysValue]}}" data-zcqa="by_{{field.field_label}}" lt-prop-id="by_{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}_dropdownSysValue" lt-prop-label="{{recommendationBasedOnOption.Bundle[dropdownDispValue]}}"></lyte-checkbox> </div> </template></template> <template is="if" value="{{expHandlers(recommendationBasedOnOption.Repeat,\'!==\',undefined)}}"><template case="true"> <div class="cxSmartFilterLabelWrap"> <lyte-checkbox on-changed="{{method(\'observeDropDownChanges\')}}" lt-prop-checked="{{lbind(recommendationBasedOn.re_buy)}}" lt-prop-name="RecommendationBasedOn" lt-prop-value="{{recommendationBasedOnOption.Repeat[dropdownSysValue]}}" data-zcqa="by_{{field.field_label}}" lt-prop-id="by_{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}_dropdownSysValue" lt-prop-label="{{recommendationBasedOnOption.Repeat[dropdownDispValue]}}"></lyte-checkbox> </div> <div class="cxSmartFilterLabelWrap"> <template is="if" value="{{recommendationBasedOn.re_buy}}"><template case="true"> <span class="mR5 cxSmartFilterLabelContent " style="font-size: 14px;">{{cruxGetI18n(\'crm.filter.label.and.purchase.in\')}}</span> <lyte-dropdown class="{{setWidth}}" lt-prop-boundary="{{boundary}}" data-zcqa="filter_{{field.field_label}}" lt-prop-freeze="true" id="DDV_{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}" lt-prop-index="1" lt-prop-selected="{{lbind(selectedValues.firstDropDownValue)}}" on-change="{{method(\'observeDropDownChanges\')}}"> <template is="registerYield" yield-name="yield"> <lyte-drop-box class="cxSmartFilterDropbox cxDropbox"> <lyte-drop-body> <template is="for" items="{{options}}" item="item" index="index"> <lyte-drop-item data-value="{{item[dropdownSysValue]}}" data-zcqa="{{field.field_label}}_{{item[dropdownDispValue]}}"> {{item[dropdownDispValue]}}</lyte-drop-item> </template> </lyte-drop-body> </lyte-drop-box> </template> </lyte-dropdown> <template is="if" value="{{expHandlers(selectedValues.firstDropDownValue,\'==\',&quot;CUSTOM&quot;)}}"><template case="true"> <div id="Recommendation_custom_div1"> <crux-date-component cx-prop-from="filter" cx-prop-class="w100" id="Recommendation_custom" on-value-change="{{method(\'changeUserInputValue\')}}" cx-prop-value="{{lbind(selectedValues.headDateValue)}}"></crux-date-component> </div> </template></template> </template></template> </div> </template></template> <template is="if" value="{{expHandlers(recommendationBasedOnOption.Sequence,\'!==\',undefined)}}"><template case="true"> <div class="dB mB5 mT10"> <lyte-checkbox on-changed="{{method(\'observeDropDownChanges\')}}" lt-prop-checked="{{lbind(recommendationBasedOn.next_buy)}}" lt-prop-name="RecommendationBasedOn" lt-prop-value="{{recommendationBasedOnOption.Sequence[dropdownSysValue]}}" data-zcqa="by_{{field.field_label}}" lt-prop-id="by_{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}_dropdownSysValue" lt-prop-label="{{recommendationBasedOnOption.Sequence[dropdownDispValue]}}"></lyte-checkbox> </div> </template></template> </div> </div> </template></template> <template is="if" value="{{expHandlers(expHandlers(expHandlers(expHandlers(field.cxFieldsDetails,\'&amp;&amp;\',field.cxFieldsDetails[0]),\'||\',expHandlers(field.field_data_type,\'==\',&quot;custom&quot;)),\'||\',expHandlers(field.api_name,\'==\',&quot;cxFilter_Email_Sentiment&quot;)),\'||\',expHandlers(field.api_name,\'==\',&quot;best_time&quot;))}}"><template case="true"> <div class="cxSmartFilterTwoCol {{if(expHandlers(field.api_name,\'==\',\'best_time\'),\'mT10\')}}"> <template is="if" value="{{expHandlers(expHandlers(expHandlers(expHandlers(field.cxFieldsDetails,\'!\'),\'&amp;&amp;\',expHandlers(field.api_name,\'!=\',&quot;cxFilter_Email_Status&quot;)),\'&amp;&amp;\',expHandlers(field.api_name,\'!=\',&quot;cxFilter_Email_Sentiment&quot;)),\'&amp;&amp;\',expHandlers(field.api_name,\'!=\',&quot;best_time&quot;))}}"><template case="true"> <span class="cxAriaPrefixLabel mR2">{{cruxGetI18n(\'crm.label.By\')}}</span> </template></template> <template is="if" value="{{field.cxFieldsDetails}}"><template case="true"> <span class="cxAriaPrefixLabel mR2">{{field.cxFieldsDetails[0].cxLabel}}</span> </template></template> <template is="if" value="{{expHandlers(field.api_name,\'==\',&quot;best_time&quot;)}}"><template case="true"> <span class="mR5">{{cruxGetI18n(\'crm.label.available\')}}</span> </template></template> <lyte-dropdown class="w150" lt-prop-freeze="true" lt-prop-boundary="{{boundary}}" data-zcqa="by_{{field.field_label}}" id="by_{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}" lt-prop-index="1" on-option-selected="{{method(\'showSentStatus\',field)}}" on-change="{{method(\'observeDropDownChanges\')}}" lt-prop-selected="{{lbind(selectedValues.byDropDownValue)}}"> <template is="registerYield" yield-name="yield"> <lyte-drop-box class="cxDropbox cxSmartFilterDropbox {{if(propFilterView,\'newLvDropdown\')}}"> <lyte-drop-body> <template is="for" items="{{bydropdownOption}}" item="item" index="index"> <lyte-drop-item data-value="{{item[dropdownSysValue]}}" data-zcqa="{{field.field_label}}_{{item[dropdownDispValue]}}"> {{item[dropdownDispValue]}}</lyte-drop-item> </template> </lyte-drop-body> </lyte-drop-box> </template> </lyte-dropdown> </div> </template></template> <template is="if" value="{{expHandlers(expHandlers(field.data_type,\'===\',&quot;NBX&quot;),\'&amp;&amp;\',expHandlers(field.api_name,\'===\',&quot;NBX_Available&quot;))}}"><template case="true"> <crux-picklist-component cx-prop-from="filter" cx-prop-box-class="cxSmartFilterDropbox" data-zcqa="NBX_ACTIVITY_OPTION" id="NBX_ACTIVITY_OPTION" on-value-change="{{method(\'changeUserInputValue\')}}" cx-prop-field="{{field}}"> </crux-picklist-component> <div class="mT5"> <span class="mR5 cxPickListContent dIB cxVam">{{cruxGetI18n(\'crm.zia.nbx.filter.due\')}}</span> <lyte-dropdown class="{{setWidth}}" lt-prop-boundary="{{boundary}}" data-zcqa="NBX_TIME_OPTION" lt-prop-freeze="true" id="DDV_{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}" lt-prop-index="1" lt-prop-selected="{{lbind(selectedValues.firstDropDownValue)}}" on-change="{{method(\'observeDropDownChanges\')}}"> <template is="registerYield" yield-name="yield"> <lyte-drop-box class="cxSmartFilterDropbox cxDropbox"> <lyte-drop-body> <template is="for" items="{{options}}" item="item" index="index"> <lyte-drop-item data-value="{{item[dropdownSysValue]}}" data-zcqa="{{field.field_label}}_{{item[dropdownDispValue]}}"> {{item[dropdownDispValue]}}</lyte-drop-item> </template> </lyte-drop-body> </lyte-drop-box> </template> </lyte-dropdown> </div> </template></template> <div class="cvRowField"> <template is="if" value="{{expHandlers(field.parent_field,\'==\',&quot;prediction&quot;)}}"><template case="true"> <div class="cxPredictionContent"> <template is="if" value="{{expHandlers(predictionSelectedType.first,\'||\',predictionSelectedType.second)}}"><template case="true"> <div class="cvRowField"> <span class=" cxPredictionSelectedTypeContent mR5 dIB cxVam mB10">{{predictionSelectedType.predict_field[0].field_label}}</span> <lyte-dropdown class="{{setWidth}}" lt-prop-boundary="{{boundary}}" data-zcqa="filter_{{field.api_name}}" lt-prop-freeze="true" id="criteria_comparator" lt-prop-index="1" on-option-selected="{{method(\'inputValueChanged\',\'prediction_criteria\')}}" lt-prop-selected="{{lbind(selectedValues.firstDropDownValue)}}"> <template is="registerYield" yield-name="yield"> <lyte-drop-box class="cxSmartFilterDropbox cxDropbox"> <lyte-drop-body> <template is="for" items="{{predictionOptions.criteria_operator}}" item="item" index="index"> <lyte-drop-item data-value="{{item[\'system\']}}" data-zcqa="{{item[\'display\']}}"> {{item[\'display\']}}</lyte-drop-item> </template> </lyte-drop-body> </lyte-drop-box> </template> </lyte-dropdown> <template is="if" value="{{expHandlers(expHandlers(criteriaDisplay,\'&amp;&amp;\',expHandlers(isCriteriaBetween,\'==\',false)),\'&amp;&amp;\',expHandlers(showSecondDropdownType,\'!=\',&quot;date&quot;))}}"><template case="true"> <div class="{{if(ifEquals(predictionEle,\'date\'),\'cxShowSecondDropdownType\',\'\')}}"> <template is="component" data-zcqa="criteria_prediction" id="criteria_prediction" component-name="crux-{{predictionEle}}-component" cx-prop-disable-extra-value="true" cx-prop-from="filter" cx-prop-module="{{module}}" cx-prop-class="mB5 {{setWidth}}" cx-prop-field="{{predictionSelectedType.criteria_fields[0]}}" on-value-change="{{method(\'changeUserInputValue\',this)}}" cx-prop-value="{{selectedValues.criteriaValue}}"></template> </div> </template><template case="false"><template is="if" value="{{expHandlers(showSecondDropdownType,\'==\',&quot;date&quot;)}}"><template case="true"> <div class="cxShowSecondDropdownContent"> <crux-number-component cx-prop-from="filter" data-zcqa="dateInput" id="dateInput" on-value-change="{{method(\'changeUserInputValue\',this)}}" cx-prop-value="{{lbind(selectedValues.dateVal)}}"> </crux-number-component> <lyte-dropdown class="w80" lt-prop-boundary="{{boundary}}" lt-prop-freeze="true" data-zcqa="{{field.column_name}}_dateOptions" id="second_{{field.api_name}}_dropdown" lt-prop-index="1" on-option-selected="{{method(\'inputValueChanged\',\'lyte-dropdown\')}}" on-change="{{method(\'observeDropDownChanges\')}}" lt-prop-selected="{{lbind(selectedValues.secondDropDownValue)}}"> <template is="registerYield" yield-name="yield"> <lyte-drop-box class="cxDropbox cxSmartFilterDropbox {{if(propFilterView,\'newLvDropdown\')}}"> <lyte-drop-body> <template is="for" items="{{dateoptions}}" item="item" index="index"> <lyte-drop-item data-value="{{item[dropdownSysValue]}}" data-zcqa="{{field.field_label}}_{{item[dropdownDispValue]}}"> {{item[dropdownDispValue]}}</lyte-drop-item> </template> </lyte-drop-body> </lyte-drop-box> </template> </lyte-dropdown> </div> </template></template></template></template> </div> <template is="if" value="{{expHandlers(criteriaDisplay,\'&amp;&amp;\',isCriteriaBetween)}}"><template case="true"> <div class="cvRowField"> <div class="mB5"> <template cx-prop-class="w100" is="component" data-zcqa="criteria_prediction" id="criteria_prediction_0" component-name="crux-{{predictionEle}}-component" cx-prop-disable-extra-value="true" cx-prop-from="filter" cx-prop-module="{{module}}" cx-prop-field="{{predictionSelectedType.criteria_fields[0]}}" cx-prop-placeholder="{{cruxGetI18n(\'crm.label.from\')}}" on-value-change="{{method(\'changeUserInputValue\',this)}}" cx-prop-value="{{selectedValues.criteriaValue0}}"></template> <span class="cxCriteriaDisplayContent"> - </span> <template cx-prop-class="w100" is="component" data-zcqa="criteria_prediction" id="criteria_prediction_1" component-name="crux-{{predictionEle}}-component" cx-prop-disable-extra-value="true" cx-prop-from="filter" cx-prop-module="{{module}}" cx-prop-field="{{predictionSelectedType.criteria_fields[0]}}" cx-prop-placeholder="{{cruxGetI18n(\'crm.label.to\')}}" on-value-change="{{method(\'changeUserInputValue\',this)}}" cx-prop-value="{{selectedValues.criteriaValue1}}"></template> </div> </div> </template></template> </template><template case="false"><template is="if" value="{{predictionSelectedType.completed}}"><template case="true"> <div class="mL10"> <lyte-radiobutton tabindex="0" data-zcqa="{{successFailureOption[0].display}}" id="sub_field_{{successFailureOption[0].system}}" lt-prop-name="option_{{field.api_name}}" lt-prop-value="{{successFailureOption[0].system}}" lt-prop-label="{{successFailureOption[0].display}}" lt-prop-type="primary" on-checked="{{method(\'getCrossFieldOption\',0,successFailureOption[0])}}" on-before-checked="{{method(\'crossFieldHideOption\')}}"></lyte-radiobutton> <template is="if" value="{{expHandlers(expHandlers(isSuccess,\'==\',&quot;true&quot;),\'&amp;&amp;\',expHandlers(isSuccess,\'!=\',&quot;undefined&quot;))}}"><template case="true"> <lyte-dropdown lt-prop-boundary="{{boundary}}" data-zcqa="successFailureDropDown" class="mT10" id="record_{{field.api_name}}" lt-prop-index="1" on-change="{{method(\'observeDropDownChanges\')}}" on-option-selected="{{method(\'inputValueChanged\',\'prediction_SF\')}}" lt-prop-selected="{{lbind(selectedOptionSf)}}"> <template is="registerYield" yield-name="yield"> <lyte-drop-box class="cxDropbox cxSmartFilterDropbox {{if(propFilterView,\'newLvDropdown\')}}"> <lyte-drop-body> <template is="for" items="{{successFailureDropDown}}" item="item" index="index"> <lyte-drop-item data-value="{{item[dropdownSysValue]}}" data-zcqa="{{field.field_label}}_{{item[dropdownDispValue]}}"> {{item[dropdownDispValue]}}</lyte-drop-item> </template> </lyte-drop-body> </lyte-drop-box> </template> </lyte-dropdown> </template></template> </div> <div class="mL10"> <lyte-radiobutton tabindex="0" data-zcqa="{{successFailureOption[1].display}}" id="sub_field_{{successFailureOption[1].system}}" lt-prop-name="option_{{field.api_name}}" lt-prop-value="{{successFailureOption[1].system}}" lt-prop-label="{{successFailureOption[1].display}}" lt-prop-type="primary" on-checked="{{method(\'getCrossFieldOption\',1,successFailureOption[1])}}" on-before-checked="{{method(\'crossFieldHideOption\')}}"></lyte-radiobutton> <template is="if" value="{{expHandlers(expHandlers(isSuccess,\'!=\',&quot;true&quot;),\'&amp;&amp;\',expHandlers(isSuccess,\'!=\',&quot;undefined&quot;))}}"><template case="true"> <lyte-dropdown lt-prop-boundary="{{boundary}}" data-zcqa="successFailureDropDown" class="mT10" id="record_{{field.api_name}}" lt-prop-index="1" on-change="{{method(\'observeDropDownChanges\')}}" on-option-selected="{{method(\'inputValueChanged\',\'prediction_SF\')}}" lt-prop-selected="{{lbind(selectedOptionSf)}}"> <template is="registerYield" yield-name="yield"> <lyte-drop-box class="cxDropbox cxSmartFilterDropbox {{if(propFilterView,\'newLvDropdown\')}}"> <lyte-drop-body> <template is="for" items="{{successFailureDropDown}}" item="item" index="index"> <lyte-drop-item data-value="{{item[dropdownSysValue]}}" data-zcqa="{{field.field_label}}_{{item[dropdownDispValue]}}"> {{item[dropdownDispValue]}}</lyte-drop-item> </template> </lyte-drop-body> </lyte-drop-box> </template> </lyte-dropdown> </template></template> </div> </template></template></template></template> <template is="if" value="{{expHandlers(predictionSelectedType.score_field,\'!=\',undefined)}}"><template case="true"> <div class="cvRowField"> <lyte-checkbox on-changed="{{method(\'observeDropDownChanges\')}}" lt-prop-checked="{{lbind(isScoreSelected)}}" id="scoreCheckBox" lt-prop-name="{{predictionSelectedType.score_field.api_name}}" lt-prop-value="{{predictionSelectedType.score_field.id}}" data-zcqa="by_{{field.field_label}}" lt-prop-label="{{cruxGetI18n(\'crm.zia.prediction.likelihood\')}}" class="mT5 mB10"> </lyte-checkbox> <template is="if" value="{{isScoreSelected}}"><template case="true"> <lyte-dropdown class="{{setWidth}}" lt-prop-boundary="{{boundary}}" data-zcqa="filter_{{field.api_name}}" lt-prop-freeze="true" id="score_criteria_comparator" lt-prop-index="1" on-option-selected="{{method(\'inputValueChanged\',\'score_criteria\')}}" lt-prop-selected="{{lbind(selectedValues.scoreComparator)}}"> <template is="registerYield" yield-name="yield"> <lyte-drop-box class="cxSmartFilterDropbox cxDropbox"> <lyte-drop-body> <template is="for" items="{{predictionOptions.score_operator}}" item="item" index="index"> <lyte-drop-item data-value="{{item[\'system\']}}" data-zcqa="{{item[\'display\']}}"> {{item[\'display\']}}</lyte-drop-item> </template> </lyte-drop-body> </lyte-drop-box> </template> </lyte-dropdown> <template is="if" value="{{expHandlers(scoreCriteriaDisplay,\'&amp;&amp;\',expHandlers(isScoreBetween,\'==\',false))}}"><template case="true"> <template is="component" data-zcqa="score_criteria_prediction" id="score_criteria_prediction" component-name="crux-number-component" cx-prop-disable-extra-value="true" cx-prop-from="filter" cx-prop-module="{{module}}" cx-prop-maxlength="3" cx-prop-minvalue="0" cx-prop-maxvalue="100" cx-prop-field="{{if(predictionSelectedType.first,predictionSelectedType.score_field[0],predictionSelectedType.score_field[1])}}" cx-prop-appearance="box" on-value-change="{{method(\'changeUserInputValue\',this)}}" cx-prop-value="{{lbind(selectedValues.scoreValue)}}"></template> </template></template> <template is="if" value="{{expHandlers(scoreCriteriaDisplay,\'&amp;&amp;\',isScoreBetween)}}"><template case="true"> <div class="mB5"> <template cx-prop-class="w100" is="component" data-zcqa="score_criteria_prediction" id="score_criteria_prediction_0" component-name="crux-number-component" cx-prop-disable-extra-value="true" cx-prop-from="filter" cx-prop-module="{{module}}" cx-prop-placeholder="{{cruxGetI18n(\'crm.label.from\')}}" cx-prop-minvalue="0" cx-prop-maxvalue="100" cx-prop-maxlength="3" cx-prop-field="{{if(predictionSelectedType.first,predictionSelectedType.score_field[0],predictionSelectedType.score_field[1])}}" cx-prop-appearance="box" on-value-change="{{method(\'changeUserInputValue\',this)}}" cx-prop-value="{{lbind(selectedValues.scoreValue0)}}"></template> <span class="cxScoreCriteriaDisplay"> - </span> <template cx-prop-class="w100" is="component" data-zcqa="score_criteria_prediction" id="score_criteria_prediction_1" component-name="crux-number-component" cx-prop-minvalue="0" cx-prop-maxvalue="100" cx-prop-disable-extra-value="true" cx-prop-from="filter" cx-prop-placeholder="{{cruxGetI18n(\'crm.label.to\')}}" cx-prop-module="{{module}}" cx-prop-maxlength="3" cx-prop-field="{{if(predictionSelectedType.first,predictionSelectedType.score_field[0],predictionSelectedType.score_field[1])}}" cx-prop-appearance="box" on-value-change="{{method(\'changeUserInputValue\',this)}}" cx-prop-value="{{lbind(selectedValues.scoreValue1)}}"></template> </div> </template></template> </template></template> </div> </template></template><template is="if" value="{{expHandlers(expHandlers(predictionSelectedType.first,\'||\',predictionSelectedType.second),\'&amp;&amp;\',isTrendShown)}}"><template case="true"> <lyte-checkbox on-changed="{{method(\'observeDropDownChanges\')}}" lt-prop-checked="{{lbind(isTrendSelected)}}" id="trendCheckBox" data-zcqa="by_{{field.field_label}}" class="cxSfTrendCheckbox"> </lyte-checkbox> <lyte-dropdown class="w150" lt-prop-boundary="{{boundary}}" data-zcqa="trend" id="record_{{field.api_name}}" lt-prop-selected="{{lbind(selectedTrend)}}" lt-prop-disabled="{{if(ifEquals(isTrendSelected,false),true,false)}}" lt-prop-index="1" on-change="{{method(\'observeDropDownChanges\')}}" on-option-selected="{{method(\'inputValueChanged\',\'prediction_trend\')}}"> <template is="registerYield" yield-name="yield"> <lyte-drop-box class="cxDropbox cxSmartFilterDropbox {{if(propFilterView,\'newLvDropdown\')}}"> <lyte-drop-body> <template is="for" items="{{trendOption}}" item="item" index="index"> <lyte-drop-item data-value="{{item[dropdownSysValue]}}" data-zcqa="{{field.field_label}}_{{item[dropdownDispValue]}}"> {{item[dropdownDispValue]}}</lyte-drop-item> </template> </lyte-drop-body> </lyte-drop-box> </template> </lyte-dropdown> </template></template> </div> </template></template> <template is="if" value="{{expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(options.length,\'&amp;&amp;\',firstDropdown),\'&amp;&amp;\',expHandlers(field.api_name,\'!==\',&quot;SimilarityRecords&quot;)),\'&amp;&amp;\',expHandlers(field.data_type,\'!==\',&quot;NBX&quot;)),\'&amp;&amp;\',expHandlers(field.api_name,\'!==\',&quot;Competitor_Sentiment&quot;)),\'&amp;&amp;\',expHandlers(field.field_data_type,\'!==\',&quot;crossModule&quot;))}}"><template case="true"> <lyte-dropdown class="{{setWidth}} {{setMargin}}" lt-prop-boundary="{{boundary}}" data-zcqa="filter_{{field.field_label}}" lt-prop-freeze="true" id="DDV_{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}" lt-prop-index="1" on-option-selected="{{method(\'getDropDownVal\')}}" on-change="{{method(\'observeDropDownChanges\')}}" lt-prop-selected="{{lbind(selectedValues.firstDropDownValue)}}" before-select="{{method(\'beforeSelectDropDown\')}}" lt-prop-disabled-list="{{optionsDisabledList}}" on-before-show="{{method(\'beforeOptionsSet\')}}"> <template is="registerYield" yield-name="yield"> <lyte-drop-box class="cxDropbox cxSmartFilterDropbox {{if(propFilterView,\'newLvDropdown\')}}"> <lyte-drop-body> <template is="for" items="{{options}}" item="item" index="index"> <lyte-drop-item data-value="{{item[dropdownSysValue]}}" data-zcqa="{{field.field_label}}_{{item[dropdownDispValue]}}" data-custom-tooltip="{{if(item.cxTitle,\'true\',\'false\')}}" lt-prop-title="{{item.cxTitle}}"> {{item[dropdownDispValue]}}</lyte-drop-item> </template> </lyte-drop-body> </lyte-drop-box> </template> </lyte-dropdown> <template is="if" value="{{expHandlers(selectedValues.firstDropDownValue,\'==\',&quot;CUSTOM&quot;)}}"><template case="true"> <div id="Recommendation_custom_div"> <crux-date-component cx-prop-from="filter" on-value-change="{{method(\'changeUserInputValue\')}}" cx-prop-class="w100" id="Recommendation_custom" cx-prop-value="{{selectedValues.headDateValue}}"></crux-date-component> </div> </template></template> </template></template><template is="if" value="{{expHandlers(expHandlers(expHandlers(expHandlers(field.api_name,\'==\',&quot;cxFilter_Campaigns&quot;),\'||\',expHandlers(expHandlers(field.field_data_type,\'===\',&quot;multirelation&quot;),\'||\',expHandlers(expHandlers(field.field_data_type,\'==\',&quot;multiselectlookup&quot;),\'&amp;&amp;\',expHandlers(field.ui_type,\'!=\',445)))),\'||\',expHandlers(field.api_name,\'===\',&quot;SimilarityRecords&quot;)),\'||\',isChildFieldLookup)}}"><template case="true"><template is="if" value="{{expHandlers(expHandlers(field.api_name,\'==\',&quot;cxFilter_Campaigns&quot;),\'&amp;&amp;\',opt1.length)}}"><template case="true"> <div> <lyte-dropdown class="w250" lt-prop-boundary="{{boundary}}" lt-prop-freeze="true" data-zcqa="{{field.field_label}}_filterOptions" id="DDV1_{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}" lt-prop-index="1" on-option-selected="{{method(\'inputValueChanged\',\'lyte-dropdown\')}}" on-change="{{method(\'observeDropDownChanges\')}}" lt-prop-selected="{{lbind(selectedValues.headDropDownValue)}}"> <template is="registerYield" yield-name="yield"> <lyte-drop-box class="cxDropbox cxSmartFilterDropbox {{if(propFilterView,\'newLvDropdown\')}}"> <lyte-drop-body> <template is="for" items="{{opt1}}" item="item" index="index"> <lyte-drop-item data-value="{{item[dropdownSysValue]}}" data-zcqa="{{field.field_label}}_{{item[dropdownDispValue]}}"> {{item[dropdownDispValue]}}</lyte-drop-item> </template> </lyte-drop-body> </lyte-drop-box> </template> </lyte-dropdown> </div> </template></template> <lyte-dropdown lt-prop-freeze="true" lt-prop-boundary="{{boundary}}" class="cxBoxDropdown {{if(expHandlers(field.api_name,\'===\',\'SimilarityRecords\'),w150,w250)}} dB cxMXNFld" id="multiSelect_lookup_{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}" lt-prop-yield="true" on-add="{{method(\'addToList\',field.api_name)}}" on-remove="{{method(\'removeFromList\')}}" on-show="{{method(\'onShowDropBox\',field.api_name,this)}}" on-hide="{{method(\'onBeforeHide\')}}" lt-prop-type="multisearch" lt-prop-tabindex="14" on-option-selected="{{method(\'inputValueChanged\',\'lyte-dropdown\')}}" lt-prop-selected="{{lbind(selectedValues.multiSelectFieldValue)}}" lt-prop="{{childCompProps}}"> <template is="registerYield" yield-name="yield"> <lyte-drop-button class="dB"> <div class="lyteMultiselect"> <ul class="lyteMultipleSelect"> <template is="for" items="{{renderItems}}" item="selitem" index="indexval"> <li id="renderItems_{{selitem[lookupDisplayField]}}" class=" lyteMultipleSelect {{if(ifEquals(indexval,0),\'\')}}" data-value="{{selitem.id}}"> <span class="lyteDropdownVisible">{{selitem[lookupDisplayField]}}</span> <lyte-drop-remove class="lyteCloseIcon"></lyte-drop-remove> </li> </template> <li class="lyteMultiselectInput"> <lyte-input id="{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}_Search_val" on-value-change="{{method(\'onSearch\')}}" onclick="{{action(\'toggleDropDown\',field,\'\',this)}}" lt-prop-placeholder="{{placeholderValue[0]}}" onkeydown="{{action(\'preventDefault\',this,event)}}"></lyte-input> </li> </ul> </div> </lyte-drop-button> <lyte-drop-box class="cxDropbox cxSmartFilterDropbox lookup_result_Box {{if(propFilterView,\'newLvDropdown\')}}"> <lyte-drop-body class="result_items"> <template is="if" value="{{displayMsg.multiLookupMsg}}"><template case="true"> <div id="display_msg_{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}" class="select2-results__option select2-results__message">{{displayMsg.multiLookupMsg}}</div> </template></template> <template is="for" items="{{lookUpArray}}" item="item" index="indval"> <lyte-drop-item id="campaign_{{item[lookupDisplayField]}}" class="campaigns_item" data-value="{{item.id}}" data-zcqa="{{field.field_label}}_{{item[lookupDisplayField]}}"> {{item[lookupDisplayField]}} </lyte-drop-item> </template> </lyte-drop-body> </lyte-drop-box> </template> </lyte-dropdown> <template is="if" value="{{expHandlers(expHandlers(field.api_name,\'==\',&quot;cxFilter_Campaigns&quot;),\'&amp;&amp;\',memberStatus)}}"><template case="true"> <div id="memberStatus"> <template is="component" cx-prop-class="w250 dB" data-zcqa="memberStatus" id="memberStatusField" component-name="crux-picklist-component" cx-prop-disable-extra-value="true" cx-prop-from="filter" cx-prop-module="{{module}}" cx-prop-field="{{field}}" on-value-change="{{method(\'changeUserInputValue\')}}" cx-prop-value="{{selectedValues.value2}}" cx-prop-boundary="{{boundary}}" cx-prop-placeholder="{{cruxGetI18n(\'crm.filters.select.campaign.status\',cruxGetI18n(\'campaign.Member\'))}}" cx-prop-id="memberStatus" cx-prop-appearance="box"></template> </div> <template is="if" value="{{expHandlers(field.serviceStatus,\'&amp;&amp;\',field.serviceStatus.length)}}"><template case="true"> <div id="serviceStatus"> <template is="component" cx-prop-class="w250 dB" data-zcqa="serviceStatus" id="serviceStatusField" component-name="crux-picklist-component" cx-prop-disable-extra-value="true" cx-prop-from="filter" cx-prop-module="{{module}}" cx-prop-field="{{field}}" cx-prop-picklist-values="{{field.serviceStatus}}" on-value-change="{{method(\'changeUserInputValue\')}}" cx-prop-value="{{selectedValues.Service_Status}}" cx-prop-boundary="{{boundary}}" cx-prop-placeholder="{{cruxGetI18n(\'crm.filters.select.campaign.status\',cruxGetI18n(\'Service\'))}}" cx-prop-id="serviceStatus"></template> </div> </template></template> </template></template> </template></template> <template is="if" value="{{expHandlers(expHandlers(cruxElement1,\'&amp;&amp;\',expHandlers(isChildFieldLookup,\'!\')),\'&amp;&amp;\',expHandlers(showSecondDropdownType,\'!=\',&quot;between&quot;))}}"><template case="true"> <template is="if" value="{{cruxAssetsCompMapping[field.api_name]}}"><template case="true"> <template is="component" component-name="{{cruxAssetsCompMapping[field.api_name]}}" field="{{field}}" id="{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}_crux_comp" comparator="{{selectedValues.firstDropDownValue}}" selected-value="{{selectedValues.value1}}" criteria="{{cxPropCriteria}}" on-value-change="{{method(\'changeUserInputValue\')}}" on-error="{{method(\'beforeAlert\')}}" from="smart_filter"></template> </template><template case="false"> <template is="component" class="{{field.cxFilterClass.cruxElement1}}" cx-prop-request-model="{{roleRequestModel}}" cx-prop-logged-in-user-role-required="{{if(ifEquals(roleRequestModel,\'role\'),\'true\',\'false\')}}" cx-prop-show-lookup-icon="{{if(ifEquals(cruxElement1,\'role\'),false,true)}}" cx-prop-field-key="field_label" cx-prop-zcqa="{{field.display_field_label}}_input" cx-prop-maxvalue="{{field.maxValue}}" cx-prop-minvalue="{{field.minValue}}" cx-prop-maxlength="{{maxLen}}" cx-prop-placeholder="{{placeholderValue[0]}}" cx-prop-module="{{module}}" cx-prop-class="{{numberDropClass}}" id="{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}_crux_comp" component-name="crux-{{cruxElement1}}-component" cx-prop-from="filter" cx-prop-value="{{selectedValues.value1}}" cx-prop-field="{{field}}" cx-prop-decimal-allowed="{{numberFieldDecimal}}" on-value-change="{{method(\'changeUserInputValue\')}}" cx-prop-login-user="{{field.cxLoginUser}}" onkeydown="{{action(\'inputValidate\',this,event,field)}}" on-error="{{method(\'beforeAlert\')}}" cx-prop-boundary="{{boundary}}" cx-prop-disable-extra-value="{{field.cxDisableExtraValue}}" cx-prop-type="{{field.cxPropType}}" cx-prop-appearance="box" cx-prop-max-count="{{field.maxCount}}" cx-prop-query-param="{{userProperty.queryParam}}" cx-prop-is-subordinate="{{userProperty.isSubordinate}}" cx-prop-date-pattern="{{userDetails.DATE_PATTERN}}" cx-prop-id="id_{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}" cx-prop-callback-delay="{{defaultUndefined}}" cx-prop="{{childCompProps}}"></template> </template></template> <template is="if" value="{{expHandlers(field.api_name,\'==\',&quot;percentage&quot;)}}"><template case="true"> <span class="present ">%</span> </template></template><template is="if" value="{{expHandlers(expHandlers(expHandlers(cruxElement1,\'&amp;&amp;\',expHandlers(field.field_data_type,\'==\',&quot;picklist&quot;)),\'&amp;&amp;\',field.history_tracking),\'&amp;&amp;\',expHandlers(isChildInput,\'!\'))}}"><template case="true"> <div id="picklist_tracker_field" class="facet p5 "> <lyte-checkbox data-zcqa="history_Tracking" id="{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}_picklist_tracker" lt-prop-type="default" class="checkFilter userSelectNone" lt-prop-disabled="true" lt-prop-label="{{cruxGetI18n(\'crm.events.duration\')}}" on-changed="{{method(\'picklistTreackerDuration\')}}"></lyte-checkbox> <div id="durationField" class="durationFilter pL20 pT10 eventNone op5"> <lyte-dropdown data-zcqa="history_Tracking_Options" lt-prop-freeze="true" id="DDV1_{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}_picklistTracker" lt-prop-index="1" on-option-selected="{{method(\'getDropDownVal\')}}" lt-prop-user-value="display" lt-prop-system-value="system" lt-prop-options="{{durationOpt}}" on-change="{{method(\'observeDropDownChanges\')}}" lt-prop-selected="{{lbind(selectedValues.HT_DropDownValue)}}"></lyte-dropdown> <template is="component" data-zcqa="history_Tracking_value" cx-prop-class="w100" id="{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}_historyTrackDurationDays" component-name="crux-number-component" cx-prop-maxlength="4" cx-prop-decimal-allowed="false" cx-prop-from="filter" cx-prop-module="{{module}}" cx-prop-value="{{value}}" cx-prop-field="{{field}}" on-value-change="{{method(\'changeUserInputValue\')}}" on-error="{{method(\'beforeAlert\')}}" cx-prop-appearance="box"></template> <span class="cxAriaPrefixLabel present" style="display: inline-block;">{{cruxGetI18n(\'days\')}}</span> </div> </div> </template></template></template></template><template is="if" value="{{expHandlers(expHandlers(showSecondDropdownType,\'==\',&quot;date&quot;),\'&amp;&amp;\',expHandlers(expHandlers(field.api_name,\'!=\',&quot;Prediction_0&quot;),\'&amp;&amp;\',expHandlers(field.api_name,\'!=\',&quot;Prediction_1&quot;)))}}"><template case="true"> <template is="if" value="{{expHandlers(field.ui_type,\'==\',132)}}"><template case="true"> <span class="cxAriaPrefixLabel mR2">{{cruxGetI18n(\'crm.label.simply.in\')}}</span> </template></template> <lyte-dropdown class="{{field.cxFilterClass.secondDropDownClass}} mB7" lt-prop-boundary="{{boundary}}" lt-prop-freeze="true" data-zcqa="{{field.column_name}}_dateOptions" id="second_{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}_dropdown" lt-prop-index="1" on-option-selected="{{method(\'inputValueChanged\',\'lyte-dropdown\')}}" on-change="{{method(\'observeDropDownChanges\')}}" lt-prop-selected="{{lbind(selectedValues.secondDropDownValue)}}"> <template is="registerYield" yield-name="yield"> <lyte-drop-box class="cxDropbox cxSmartFilterDropbox {{if(propFilterView,\'newLvDropdown\')}}"> <lyte-drop-body> <template is="for" items="{{dateoptions}}" item="item" index="index"> <lyte-drop-item data-value="{{item[dropdownSysValue]}}" data-zcqa="{{field.field_label}}_{{item[dropdownDispValue]}}"> {{item[dropdownDispValue]}}</lyte-drop-item> </template> </lyte-drop-body> </lyte-drop-box> </template> </lyte-dropdown> </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(showSecondDropdownType,\'==\',&quot;between&quot;),\'&amp;&amp;\',expHandlers(expHandlers(field.api_name,\'!=\',&quot;Prediction_0&quot;),\'&amp;&amp;\',expHandlers(field.api_name,\'!=\',&quot;Prediction_1&quot;)))}}"><template case="true"> <template is="if" value="{{cruxAssetsCompMapping[field.api_name]}}"><template case="true"> <div> <template is="component" component-name="{{cruxAssetsCompMapping[field.api_name]}}" id="{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}_crux_comp" field="{{field}}" selected-value="{{selectedValues.value1}}" comparator="{{selectedValues.firstDropDownValue}}" criteria="{{cxPropCriteria}}" on-value-change="{{method(\'changeUserInputValue\')}}" on-error="{{method(\'beforeAlert\')}}" from="smart_filter"></template> </div> </template><template case="false"> <div> <template is="component" cx-prop-maxvalue="{{field.maxValue}}" cx-prop-minvalue="{{field.minValue}}" cx-prop-maxlength="{{maxLen}}" cx-prop-class="{{numberDropClass}}" cx-prop-zcqa="fromdate_{{field.display_field_label}}" id="{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}_crux_comp" component-name="crux-{{cruxElement2}}-component" cx-prop-from="filter" cx-prop-module="{{module}}" cx-prop-placeholder="{{placeholderValue[1]}}" cx-prop-field="{{field}}" on-value-change="{{method(\'changeUserInputValue\')}}" cx-prop-value="{{selectedValues.value1}}" on-error="{{method(\'beforeAlert\')}}" cx-prop-boundary="{{boundary}}" cx-prop-appearance="box" cx-prop-date-pattern="{{userDetails.DATE_PATTERN}}" cx-prop="{{childCompProps}}"></template> <span id="betweenDateText"> - </span> <template is="component" cx-prop-maxvalue="{{field.maxValue}}" cx-prop-minvalue="{{field.minValue}}" cx-prop-maxlength="{{maxLen}}" cx-prop-class="{{numberDropClass}}" cx-prop-zcqa="todate_{{field.display_field_label}}" id="between_{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}_crux_comp" component-name="crux-{{cruxElement2}}-component" cx-prop-from="filter" cx-prop-placeholder="{{placeholderValue[2]}}" cx-prop-module="{{module}}" cx-prop-field="{{field}}" on-value-change="{{method(\'changeUserInputValue\')}}" cx-prop-value="{{selectedValues.value2}}" on-error="{{method(\'beforeAlert\')}}" cx-prop-boundary="{{boundary}}" cx-prop-appearance="box" cx-prop-date-pattern="{{userDetails.DATE_PATTERN}}" cx-prop="{{childCompProps}}"></template> </div> </template></template> </template></template></template></template> </div> <template is="if" value="{{expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(cruxElement1,\'!=\',undefined),\'&amp;&amp;\',expHandlers(cruxElement1,\'!=\',&quot;&quot;)),\'&amp;&amp;\',expHandlers(field.field_data_type,\'==\',&quot;currency&quot;)),\'&amp;&amp;\',expHandlers(iscurrencyField,\'==\',true)),\'&amp;&amp;\',expHandlers(field.crypt,\'!\'))}}"><template case="true"> <span class="cxUserCurrencyContent" style="color : #666">{{userDetails.BASE_CURRENCY}}</span> </template></template><template is="if" value="{{expHandlers(field.api_name,\'==\',&quot;cxFilter_Email_Sentiment&quot;)}}"><template case="true"> <div class="andSectionEmailStat ">{{cruxGetI18n(\'and\')}} <span id="clearEmailSentimentSubfield" class="andsecClear cxTxtAR fR cxLink cP hide mR40" style="display: inline;" onclick="{{action(\'clearEmailSentiment\')}}">{{cruxGetI18n(\'crm.title.clear.name\')}}</span> </div> <lyte-radiobutton data-zcqa="EMAILSENTIMENT:{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}" id="sub_field_{{crossFields[0].api_name}}" lt-prop-type="primary" lt-prop-name="option_{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}" lt-prop-value="{{crossFields[0].api_name}}" lt-prop-label="{{crossFields[0].field_label}}" on-checked="{{method(\'getCrossFieldOption\',0,crossFields[0])}}" on-before-checked="{{method(\'crossFieldHideOption\')}}"></lyte-radiobutton> <crux-smart-filter-input id="sub_option_{{crossFields[0].api_name}}" field="{{crossFields[0]}}" module="{{module}}" on-value-change="{{method(\'inputValueChanged\')}}" ccx-prop-value="{{selectedValues.value1}}" on-before-error-alert="{{method(\'beforeErrorCallback\')}}"></crux-smart-filter-input> <template is="if" value="{{expHandlers(expHandlers(Email_Sentiment_Value,\'==\',2),\'||\',expHandlers(Email_Sentiment_Value,\'==\',3))}}"><template case="true"> <lyte-radiobutton data-zcqa="EMAILSENTIMENT:{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}" id="sub_field_{{crossFields[1].api_name}}" lt-prop-type="primary" lt-prop-name="option_{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}" lt-prop-value="{{crossFields[1].api_name}}" lt-prop-label="{{crossFields[1].field_label}}" on-checked="{{method(\'getCrossFieldOption\',1,crossFields[1])}}" on-before-checked="{{method(\'crossFieldHideOption\')}}"></lyte-radiobutton> <crux-smart-filter-input id="sub_option_{{crossFields[1].api_name}}" field="{{crossFields[1]}}" module="{{module}}" on-value-change="{{method(\'inputValueChanged\')}}" cx-prop-value="{{selectedValues.value1}}" on-before-error-alert="{{method(\'beforeErrorCallback\')}}"></crux-smart-filter-input> </template></template> <template is="if" value="{{expHandlers(Email_Sentiment_Value,\'==\',3)}}"><template case="true"> <lyte-radiobutton data-zcqa="EMAILSENTIMENT:{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}" id="sub_field_{{crossFields[2].api_name}}" lt-prop-type="primary" lt-prop-name="option_{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}" lt-prop-value="{{crossFields[2].api_name}}" lt-prop-label="{{crossFields[2].field_label}}" on-checked="{{method(\'getCrossFieldOption\',2,crossFields[2])}}" on-before-checked="{{method(\'crossFieldHideOption\')}}"></lyte-radiobutton> </template></template> </template></template> <template is="if" value="{{sentStatusFlag}}"><template case="true"> <div style="margin-top: 5px; display: block;"> <template is="if" value="{{sentStatusFlag}}"><template case="true"> <strong class="cxAriaPrefixLabel" style="color:#111">{{cruxGetI18n(\'crm.label.status.is\')}}</strong> </template></template> <template is="for" items="{{sentStatus}}" item="Obj" index="index"> <div><lyte-radiobutton data-zcqa="{{field.column_name}}:{{Obj.api_name}}" id="sub_field_{{Obj.api_name}}" lt-prop-type="primary" class="{{radioBtnIsSelected(field,Obj)}}" lt-prop-checked="{{if(ifEquals(sentStatus[0].api_name,Obj.api_name),true,false)}}" lt-prop-name="{{if(ifEquals(field.api_name,\'cxFilter_Email_Status\'),\'sent_status\',\'RecentPrediction\')}}" lt-prop-value="{{Obj.api_name}}" lt-prop-label="{{Obj.field_label}}" on-checked="{{method(\'getCrossFieldOption\')}}" style="display: inline-block;"></lyte-radiobutton> <span lt-prop-title="{{convesationTitle}}" class="{{if(ifEquals(Obj.api_name,\'last3\'),\'informationpredict\',\'\')}}"></span> </div> </template> </div> </template></template> <template is="if" value="{{expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(crossFields.length,\'||\',expHandlers(field.api_name,\'===\',&quot;cxFilter_Competitor_Alert&quot;)),\'||\',expHandlers(field.field_data_type,\'===\',&quot;ABM_Scores&quot;)),\'||\',expHandlers(field.field_data_type,\'===\',&quot;ABM_Techniques&quot;)),\'||\',expHandlers(field.field_data_type,\'==\',&quot;rfm&quot;)),\'||\',expHandlers(field.api_name,\'==\',&quot;Similarity&quot;)),\'||\',field.Activity_tag),\'||\',expHandlers(expHandlers(expHandlers(field.field_data_type,\'==\',&quot;crossfield&quot;),\'&amp;&amp;\',expHandlers(field.api_name,\'!=\',&quot;cxFilter_Campaigns&quot;)),\'&amp;&amp;\',expHandlers(field.api_name,\'!=\',&quot;cxFilter_Email_Sentiment&quot;))),\'||\',expHandlers(field.api_name,\'==\',&quot;Prediction&quot;)),\'||\',expHandlers(field.api_name,\'===\',\'next_best_experience\'))}}"><template case="true"> <template is="if" value="{{field.Activity_tag}}"><template case="true"> <div style="position: relative; top: 4px; margin-bottom: 10px; left: 8px; font-size: 12.5px; font-weight:bold;">{{cruxGetI18n("crm.label.tag.related.to")}}</div> </template></template> <template is="if" value="{{expHandlers(expHandlers(field.api_name,\'!=\',\'cxFilter_Email_Sentiment\'),\'&amp;&amp;\',expHandlers(field.api_name,\'!=\',\'SimilarityAvailable\'))}}"><template case="true"><div class="{{if(field.Activity_tag,\'pR left20\',\'\')}}"> <template is="for" items="{{crossFields}}" item="Obj" index="index"> <template is="if" value="{{Obj.isCheckBox}}"><template case="true"> <div class="facet mL10"><lyte-checkbox title="{{Obj.field_label}}" value="{{Obj.api_name}}" data-zcqa="{{Obj.api_name}}" lt-prop-type="default" class="checkFilter userSelectNone {{radioBtnIsSelected(field,Obj)}}" id="sub_field_{{Obj.api_name}}" lt-prop-label="{{Obj.field_label}}" on-changed="{{method(\'inputValueChanged\',Obj,true)}}"></lyte-checkbox> </div> </template><template case="false"><template is="if" value="{{expHandlers(Obj.isRadioBtn,\'!==\',false)}}"><template case="true"> <lyte-radiobutton data-zcqa="{{field.column_name}}_{{Obj.api_name}}" id="sub_field_{{Obj.api_name}}" lt-prop-type="primary" class="{{radioBtnIsSelected(field,Obj)}}" lt-prop-checked="{{radioBtnIsSelected(field,Obj,true)}}" lt-prop-name="option_{{cruxReplace(field.api_name,\'[/.]\',\'_\')}}" lt-prop-value="{{Obj.api_name}}" lt-prop-label="{{Obj.field_label}}" on-changed="{{method(\'getCrossFieldOption\',index,Obj)}}" on-before-checked="{{method(\'crossFieldHideOption\')}}"></lyte-radiobutton> </template></template></template></template> <template is="if" value="{{Obj.cxLabel}}"><template case="true"> <div class="{{if(Obj.cxClass,Obj.cxClass,\'\')}}" style="{{if(Obj.cxStyle,Obj.cxStyle,\'\')}}">{{unescape(Obj.cxLabel)}}</div> </template></template> <template is="if" value="{{expHandlers(Obj.api_name,\'==\',&quot;Locked_True&quot;)}}"><template case="true"> <span class="cxAriaPrefixLabel mR2" id="recLock" style="display: none">{{cruxGetI18n(\'crm.label.via\')}}</span> </template></template> <template is="if" value="{{expHandlers(Obj.showSubField,\'!==\',false)}}"><template case="true"> <crux-smart-filter-input class="{{Obj.cxClass}}" id="sub_option_{{Obj.api_name}}" field="{{Obj}}" module="{{if(ifEquals(module,\'Activities\'),Obj.module_name,module)}}" on-value-change="{{method(\'inputValueChanged\',Obj,false)}}" boundary="{{boundary}}" on-before-error-alert="{{method(\'beforeErrorCallback\')}}"></crux-smart-filter-input> </template></template> </template> </div></template></template> </template></template> <template is="if" value="{{expHandlers(field.field_data_type,\'===\',&quot;crossModule&quot;)}}"><template case="true"> <div class="cxSmFrCrossFldModuleWrap"> <span class="cxSmFrCrossFldModuleLable">{{field.parentModuleLabel}}</span> <lyte-dropdown data-zcqa="crossModule_Input_{{field.field_label}}" lt-prop-selected="{{lbind(selectedValues.value)}}" class="cxSmFrCrossFldDropdown" on-change="{{method(\'observeDropDownChanges\')}}"> <template is="registerYield" yield-name="yield"> <lyte-drop-box class="cxSmartFilterDropbox"> <lyte-drop-body> <lyte-drop-item data-value="with">{{cxPropCrossFilterTranslations.crossFilterConditions.opt1}}</lyte-drop-item> <lyte-drop-item data-value="without">{{cxPropCrossFilterTranslations.crossFilterConditions.opt2}}</lyte-drop-item> </lyte-drop-body> </lyte-drop-box> </template> </lyte-dropdown> <span>{{cruxGetI18n(\'crm.label.any\')}} {{field.field_label}}</span> </div> </template></template> </div> </template></template> </template></template> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[1,5]},{type:"if",position:[1,5],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"component",position:[1],dynamicNodes:[]}]}},default:{}},{type:"attr",position:[1,7]},{type:"if",position:[1,7],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"component",position:[1],dynamicNodes:[]}]}},default:{}},{type:"attr",position:[1,9]},{type:"if",position:[1,9],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[1,11]},{type:"for",position:[1,11],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[0,0]},{type:"componentDynamic",position:[0,0]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}}]}]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"registerYield",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]}]}},default:{}},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1,1,1]},{type:"componentDynamic",position:[1,1,1,1]},{type:"attr",position:[1,1,1,3]},{type:"if",position:[1,1,1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[1,1,3,1]},{type:"componentDynamic",position:[1,1,3,1]},{type:"attr",position:[1,1,3,3]},{type:"if",position:[1,1,3,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,5]},{type:"if",position:[1,5],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"registerYield",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1,1,1,1]},{type:"for",position:[1,1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,3]}]},{type:"attr",position:[1,1,1,3,1]},{type:"componentDynamic",position:[1,1,1,3,1]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3,1,1]},{type:"if",position:[3,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[3,1,3]},{type:"for",position:[3,1,3],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3]}]},{type:"componentDynamic",position:[1,1]}]}},default:{}},{type:"text",position:[1,1,3,1,0]},{type:"attr",position:[1,1,5]},{type:"if",position:[1,1,5],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]}]}},default:{}},{type:"attr",position:[1,1,7]},{type:"if",position:[1,1,7],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]}]}},default:{}},{type:"attr",position:[1,1,9]},{type:"if",position:[1,1,9],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]}]}},default:{}},{type:"attr",position:[1,1,11]},{type:"if",position:[1,1,11],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[3,1]},{type:"if",position:[3,1],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]},{type:"attr",position:[3]},{type:"registerYield",position:[3,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3]},{type:"attr",position:[5]},{type:"if",position:[5],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]}]}},default:{}}]}},default:{}}]}},default:{}},{type:"attr",position:[1,1,13]},{type:"if",position:[1,1,13],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,7]},{type:"if",position:[1,7],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[1,5]},{type:"if",position:[1,5],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[1,7]},{type:"registerYield",position:[1,7,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,7]}]}},default:{}},{type:"attr",position:[1,9]},{type:"if",position:[1,9],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]},{type:"text",position:[3,1,0]},{type:"attr",position:[3,3]},{type:"registerYield",position:[3,3,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,3]}]}},default:{}},{type:"attr",position:[1,11,1]},{type:"if",position:[1,11,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,0]},{type:"attr",position:[1,3]},{type:"registerYield",position:[1,3,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,3]},{type:"attr",position:[1,5]},{type:"if",position:[1,5],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"component",position:[1,1],dynamicNodes:[]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"registerYield",position:[1,3,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,3]}]}},default:{}}]}},default:{}},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"component",position:[1,1,1],dynamicNodes:[]},{type:"attr",position:[1,1,5]},{type:"component",position:[1,1,5],dynamicNodes:[]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[3,1]},{type:"componentDynamic",position:[3,1]},{type:"attr",position:[3,3]},{type:"if",position:[3,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}]}},default:{}},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"component",position:[1],dynamicNodes:[]}]}},default:{}},{type:"attr",position:[5]},{type:"if",position:[5],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"component",position:[1,1],dynamicNodes:[]},{type:"attr",position:[1,5]},{type:"component",position:[1,5],dynamicNodes:[]}]}},default:{}}]}},default:{}}]}},default:{}},{type:"attr",position:[1,4]},{type:"if",position:[1,4],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"registerYield",position:[3,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,11,3]},{type:"if",position:[1,11,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,11,4]},{type:"if",position:[1,11,4],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"registerYield",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]}]}},default:{}},{type:"attr",position:[2]},{type:"registerYield",position:[2,1],dynamicNodes:[{type:"attr",position:[1,1,1,1]},{type:"for",position:[1,1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,3]}]},{type:"attr",position:[1,1,1,3,1]},{type:"componentDynamic",position:[1,1,1,3,1]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"attr",position:[3,1,1]},{type:"if",position:[3,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[3,1,3]},{type:"for",position:[3,1,3],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3]}]},{type:"componentDynamic",position:[2]},{type:"attr",position:[4]},{type:"if",position:[4],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"component",position:[1,1],dynamicNodes:[]},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"component",position:[1,1],dynamicNodes:[]}]}},default:{}}]}},default:{}}]}},default:{}},{type:"attr",position:[1,11,6]},{type:"if",position:[1,11,6],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"component",position:[1],dynamicNodes:[]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"component",position:[1],dynamicNodes:[]}]}},default:{}},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[]}},default:{}},{type:"attr",position:[4]},{type:"if",position:[4],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3,1]},{type:"componentDynamic",position:[1,3,1]},{type:"attr",position:[1,3,3]},{type:"component",position:[1,3,3],dynamicNodes:[]},{type:"text",position:[1,3,5,0]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,11,7]},{type:"if",position:[1,11,7],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[3]},{type:"registerYield",position:[3,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"component",position:[1,1],dynamicNodes:[]}]},false:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"component",position:[1,1],dynamicNodes:[]},{type:"attr",position:[1,5]},{type:"component",position:[1,5],dynamicNodes:[]}]}},default:{}}]}},default:{}}]}},default:{}},{type:"attr",position:[1,13]},{type:"if",position:[1,13],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[1,14]},{type:"if",position:[1,14],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]},{type:"attr",position:[1,2]},{type:"text",position:[1,2,0]},{type:"attr",position:[3]},{type:"componentDynamic",position:[3]},{type:"attr",position:[5]},{type:"componentDynamic",position:[5]},{type:"attr",position:[7]},{type:"if",position:[7],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"componentDynamic",position:[3]}]}},default:{}},{type:"attr",position:[9]},{type:"if",position:[9],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,16]},{type:"if",position:[1,16],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[1,3]},{type:"for",position:[1,3],dynamicNodes:[{type:"attr",position:[1,0]},{type:"componentDynamic",position:[1,0]},{type:"attr",position:[1,2]}]}]}},default:{}},{type:"attr",position:[1,18]},{type:"if",position:[1,18],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"attr",position:[0,1]},{type:"for",position:[0,1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,0]},{type:"componentDynamic",position:[1,0]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"if",args:["Obj.cxStyle","Obj.cxStyle","''"]}}}},{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[5]},{type:"if",position:[5],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[7]},{type:"if",position:[7],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}}]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,20]},{type:"if",position:[1,20],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,0]},{type:"attr",position:[1,3]},{type:"registerYield",position:[1,3,1],dynamicNodes:[{type:"text",position:[1,1,1,0]},{type:"componentDynamic",position:[1,1,1]},{type:"text",position:[1,1,3,0]},{type:"componentDynamic",position:[1,1,3]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,3]},{type:"text",position:[1,5,0]},{type:"text",position:[1,5,2]}]}},default:{}}]}},default:{}}]}},default:{}}],_observedAttributes:["cxPropField","cxPropModule","cxPropCriteria","cxPropCommonInfo","cxPropCurrentUserDetails","cxPropModuleDisplayField","cxPropHideComparator","cxPropAutoCompleteInLookup","cxPropModuleRecordMapping","cxPropIgnoreCallbackInSetCriteria","cxPropIgnoreEmptyValue","idModuleMapping","field","rendered","options","cruxElement1","bydropdownOption","module","module_info","dateoptions","value","showSecondDropdownType","cruxElement2","sentStatusFlag","sentStatus","firstDropdown","crossFields","withOption","lookUpArray","renderItems","renderItems2","numberDropClass","iscurrencyField","recordDropdownValues","dropdownNames","durationOpt","lookupDisplayField","Email_Sentiment_Value","memberStatus","placeholderValue","maxLen","moduleDisplayField","selectedValues","tagSubModule","numberFieldDecimal","dropdownSysValue","dropdownDispValue","boundary","renderRecommendation","selectedRecommendations","crossSelling","reBuy","recommendationTypeSelected","recommendationBasedOnOption","recommendationBasedOn","reBuyVal","similarity","abmSegmentsList","abmSegmentsSearchedText","abmTechniqueFieldList","abmScoreFieldList","displayMsg","dropDownWidth","convesationTitle","predictionSelectedType","predictionData","trendOption","successFailureOption","successFailureDropDown","selectedOptionSf","sfAccuracyCount","sfEndCount","selectedTrend","isSuccess","isScoreSelected","isTrendSelected","isTrendShown","configLength","predictionOptions","criteriaDisplay","predictionEle","isCriteriaBetween","isScoreBetween","scoreCriteriaDisplay","roleRequestModel","predictionCriteria","scoreCriteria","userProperty","userDetails","cruxAssetsCompMapping","defaultUndefined","isChildInput","isChildFieldLookup","blockedCriteria","supportRelatedModules","optionsDisabledList","childCompProps","cxPropAria"],data:function(){return{cxPropField:Lyte.attr("object"),cxPropModule:Lyte.attr("string"),cxPropCriteria:Lyte.attr("object"),cxPropCommonInfo:Lyte.attr("object",{default:{}}),cxPropCurrentUserDetails:Lyte.attr("object"),cxPropModuleDisplayField:Lyte.attr("object"),cxPropHideComparator:Lyte.attr("boolean",{default:!1}),cxPropAutoCompleteInLookup:Lyte.attr("boolean",{default:!1}),cxPropModuleRecordMapping:Lyte.attr("object",{default:{}}),cxPropIgnoreCallbackInSetCriteria:Lyte.attr("boolean",{default:!1}),cxPropIgnoreEmptyValue:Lyte.attr("boolean",{default:!1}),idModuleMapping:Lyte.attr("object",{default:{}}),field:Lyte.attr("object"),rendered:Lyte.attr("boolean",{default:!1}),options:Lyte.attr("array"),cruxElement1:Lyte.attr("string"),bydropdownOption:Lyte.attr("array",{default:[]}),module:Lyte.attr("string"),module_info:Lyte.attr("object"),dateoptions:Lyte.attr("array",{default:[{system:"DAYS",display:_cruxUtils.getI18n("days")},{system:"WEEKS",display:_cruxUtils.getI18n("weeks")},{system:"MONTHS",display:_cruxUtils.getI18n("months")}]}),value:Lyte.attr("string"),showSecondDropdownType:Lyte.attr("string"),cruxElement2:Lyte.attr("string"),sentStatusFlag:Lyte.attr("boolean",{default:!1}),sentStatus:Lyte.attr("array",{default:[]}),firstDropdown:Lyte.attr("boolean",{default:!0}),crossFields:Lyte.attr("array",{default:[]}),withOption:Lyte.attr("array",{default:[{system:"Age in Days",display:_cruxUtils.getI18n("crm.condition.in.last")},{system:"equal",display:_cruxUtils.getI18n("on")},{system:"less_than",display:_cruxUtils.getI18n("before")},{system:"greater_than",display:_cruxUtils.getI18n("crm.label.general.small.after")},{system:"between",display:_cruxUtils.getI18n("between")},{system:"${TODAY}",display:_cruxUtils.getI18n("Today")},{system:"${YESTERDAY}",display:_cruxUtils.getI18n("Yesterday")},{system:"${THISWEEK}",display:_cruxUtils.getI18n("crm.thisweek")},{system:"${THISMONTH}",display:_cruxUtils.getI18n("crm.label.this.month")},{system:"${THISYEAR}",display:_cruxUtils.getI18n("crm.thisyear")},{system:"${LASTWEEK}",display:_cruxUtils.getI18n("Last Week")},{system:"${LASTMONTH}",display:_cruxUtils.getI18n("Last Month")}]}),lookUpArray:Lyte.attr("array",{default:[]}),renderItems:Lyte.attr("array",{default:[]}),renderItems2:Lyte.attr("array",{default:[]}),numberDropClass:Lyte.attr("string",{default:""}),iscurrencyField:Lyte.attr("boolean",{default:!1}),recordDropdownValues:Lyte.attr("array",{default:[]}),dropdownNames:Lyte.attr("object"),durationOpt:Lyte.attr("array",{default:[]}),lookupDisplayField:Lyte.attr("string"),Email_Sentiment_Value:Lyte.attr("number",{default:3}),memberStatus:Lyte.attr("boolean",{default:!1}),placeholderValue:Lyte.attr("array",{default:[]}),maxLen:Lyte.attr("number"),moduleDisplayField:Lyte.attr("object"),selectedValues:Lyte.attr("object",{default:{}}),tagSubModule:Lyte.attr("string"),numberFieldDecimal:Lyte.attr("boolean",{default:!0}),dropdownSysValue:Lyte.attr("string",{default:"system"}),dropdownDispValue:Lyte.attr("string",{default:"display"}),boundary:Lyte.attr("object",{default:{}}),renderRecommendation:Lyte.attr("boolean",{default:!0}),selectedRecommendations:Lyte.attr("boolean",{default:!1}),crossSelling:Lyte.attr("boolean",{default:!1}),reBuy:Lyte.attr("boolean",{default:!1}),recommendationTypeSelected:Lyte.attr("boolean",{default:!0}),recommendationBasedOnOption:Lyte.attr("object",{default:{first_buy:!1,cross_selling:!1,bundle:!1,re_buy:!1,next_buy:!1}}),recommendationBasedOn:Lyte.attr("object",{default:{first_buy:!1,cross_selling:!1,bundle:!1,re_buy:!1,next_buy:!1}}),reBuyVal:Lyte.attr("string"),similarity:Lyte.attr("object",{default:{isScore:!1,isRecords:!1}}),abmSegmentsList:Lyte.attr("array",{default:[]}),abmSegmentsSearchedText:Lyte.attr("string",{default:""}),abmTechniqueFieldList:Lyte.attr("array",{default:[]}),abmScoreFieldList:Lyte.attr("array",{default:[]}),displayMsg:Lyte.attr("object",{default:{}}),dropDownWidth:Lyte.attr("object",{default:{}}),convesationTitle:Lyte.attr("string"),predictionSelectedType:Lyte.attr("object",{default:{}}),predictionData:Lyte.attr("array"),trendOption:Lyte.attr("array"),successFailureOption:Lyte.attr("array"),successFailureDropDown:Lyte.attr("array"),selectedOptionSf:Lyte.attr("string"),sfAccuracyCount:Lyte.attr("number",{default:0}),sfEndCount:Lyte.attr("number",{default:0}),selectedTrend:Lyte.attr("string"),isSuccess:Lyte.attr("string",{default:"undefined"}),isScoreSelected:Lyte.attr("boolean",{default:!1}),isTrendSelected:Lyte.attr("boolean",{default:!1}),isTrendShown:Lyte.attr("boolean",{default:!0}),configLength:Lyte.attr("number"),predictionOptions:Lyte.attr("object",{default:{criteriaValues:[],score_operator:[],criteria_operator:[]}}),criteriaDisplay:Lyte.attr("boolean",{default:!0}),predictionEle:Lyte.attr("string"),isCriteriaBetween:Lyte.attr("boolean",{default:!1}),isScoreBetween:Lyte.attr("boolean",{default:!1}),scoreCriteriaDisplay:Lyte.attr("boolean",{default:!0}),roleRequestModel:Lyte.attr("string",{default:""}),predictionCriteria:Lyte.attr("object",{default:{}}),scoreCriteria:Lyte.attr("object",{default:{}}),userProperty:Lyte.attr("object",{default:{}}),userDetails:Lyte.attr("object",{default:{}}),cruxAssetsCompMapping:Lyte.attr("object",{default:{}}),defaultUndefined:Lyte.attr("string"),isChildInput:Lyte.attr("boolean",{default:!1}),isChildFieldLookup:Lyte.attr("boolean",{default:!1}),blockedCriteria:Lyte.attr("object",{default:{Email:"",Secondary_Email:""}}),supportRelatedModules:Lyte.attr("boolean",{default:!1}),optionsDisabledList:Lyte.attr("array",{default:[]}),childCompProps:Lyte.attr("string",{default:""}),cxPropAria:Lyte.attr("boolean",{default:!1})}},init:function(){this.setModuleMappingData(),this.data.cxPropField&&(this.setData("field",this.data.cxPropField),this.render()),this.data.cxPropModuleDisplayField&&this.setData("moduleDisplayField",this.data.cxPropModuleDisplayField),this.data.field&&(this.data.field.isDummy&&this.render(),this.data.isChildInput&&"lookup"===this.data.field.field_data_type&&"Who_Id"!==this.data.field.api_name&&this.setData("isChildFieldLookup",!0)),this.$node.resetField=function(e){return this.component.resetField(e)}},resetField:function(){this.setData("rendered",!1),this.render(),this.setData("rendered",!0)},setFieldMethods:function(e){(e=e||this.data.field).cxChildCompMethods&&setTimeout(function(){this.setCriteria();var t=this._cruxReplace(e.api_name,"[/.]","_"),a=$L("#"+t+"_crux_comp")[0],i=$L("#between_"+t+"_crux_comp")[0],o=e.cxChildCompMethods;for(var l in o)a&&a.setMethods(l,o[l]),i&&i.setMethods(l,o[l])}.bind(this),100)},render:function(e){if(this.getData("rendered"))this.$node.style.display="";else{this.parentCompData=e||this,this.cruxCompMapping={layout:"layout",autonumber:"text",multiselectpicklist:"text",textarea:"text",text:"text",phone:"text",email:"text",mobile:"text",website:"text",decimal:"number",integer:"number",bigint:"number",double:"number",currency:"number",picklist:"picklist",datetime:"date",date:"date",multiuserlookup:"user",ownerlookup:"user",userlookup:"user",boolean:"boolean",lookup:"text",date_time:"date-time",longinteger:"number"},this.cruxCondMapping={textarea:"text",multiselectpicklist:"text",text:"text",autonumber:"text",phone:"text",email:"text",mobile:"text",website:"text",integer:"number",decimal:"number",bigint:"number",double:"number",currency:"number",picklist:"defWithEmpty",datetime:"date",date_time:"date",date:"date",ownerlookup:"defWithEmptyUl",multiuserlookup:"defWithEmpty",userlookup:"defWithEmptyUl",boolean:"boolean",lookup:"text",longinteger:"number",fileupload:"defEmpty",imageupload:"defEmpty"},Lyte.objectUtils(this.getData("dropDownWidth"),"add",{headDropDownWidth:"w250"}),Lyte.objectUtils(this.getData("selectedValues"),"add",{headDropDownValue:void 0,byDropDownValue:void 0,firstDropDownValue:void 0,secondDropDownValue:void 0,multiSelectFieldValue:void 0,HT_DropDownValue:void 0,HT_value:void 0,value1:void 0,value2:void 0,Service_Status:void 0}),this.setData({renderItems:[],renderItems2:[]}),this.initCruxConditions("filter");var t=this.getData("field"),a=this.moduleRecordMapping,i={cxFilterClass:{secondDropDownClass:"w80"}},o=t.crossFields?t.crossFields:[];if(this.cruxAssets="undefined"!=typeof cruxAssets?cruxAssets:{},this.cruxAssetsCompMapping={},this.cruxAssets.getCruxFilterCriteriaConditions){var l=cruxAssets.getCruxFilterCriteriaConditions();for(var s in l=l||{})this[s+"Conditions"]=l[s]}if(this.cruxAssets.fieldDataTypeToCruxCompMapping){var r=cruxAssets.fieldDataTypeToCruxCompMapping;for(var s in r)this.cruxCompMapping[s]=r[s]}(this.data.field.cxAutoCompleteInLookup||this.data.cxPropAutoCompleteInLookup)&&this.setData("isChildFieldLookup",!0),e&&(this.idModuleMapping=e.getData("idModuleMapping"),a=this.moduleRecordMapping=e.getData("cxPropModuleRecordMapping"),this.setData("cxPropCommonInfo",e.getData("cxPropCommonInfo")),this.data.cxPropModule||this.setData("cxPropModule",e.getData("cxPropModule")),this.cruxAssetsCompMapping=e.cruxAssetsCompMapping?e.cruxAssetsCompMapping:{},this.setData("cruxAssetsCompMapping",this.cruxAssetsCompMapping),this.setData("supportRelatedModules",!!e.data&&e.data.supportRelatedModules)),this.data.cxPropModule&&this.setData("module",this.data.cxPropModule);var n=this.data.module;if(n&&a[n]){var p=store.peekRecord("module",a[n].id);p=p||a[n],this.setData("module_info",p)}if(this.setData("userDetails",this.data.cxPropCurrentUserDetails?this.data.cxPropCurrentUserDetails:e?e.getData("cxPropCurrentUserDetails"):this.getData("userDetails")),this.datePattern=this.data.userDetails&&this.data.userDetails.DATE_PATTERN?this.data.userDetails.DATE_PATTERN:"dd/mm/yyyy",null==t.field_data_type&&(i.field_data_type=this.getFieldDataType(t)),t.disableExtraValue&&(t.cxDisableExtraValue=t.disableExtraValue),t.cxLoginUser=null==t.cxLoginUser||t.cxLoginUser,t.display_field_label||(i.display_field_label=t.field_label),Lyte.objectUtils(t,"add",i),this.setData({showSecondDropdownType:void 0,cruxElement1:void 0,cruxElement2:void 0}),t.column_name||(t.column_name=t.api_name),this.setData("numberDropClass",""),"rfm"===t.field_data_type||"ABM_Techniques"===t.field_data_type||"ABM_Scores"===t.field_data_type)this.setData({firstDropdown:!1});else if("crossfield"==t.field_data_type&&"cxFilter_Campaigns"!=t.api_name)m="",t.minValue=0,o=t.options?t.options:t.crossFields,"cxFilter_Email_Sentiment"==t.api_name?(this.setData({maxLen:4,showSecondDropdownType:"date",firstDropdown:!0}),Lyte.objectUtils(this.getData("selectedValues"),"add","value1",2),m="number"):this.setData("firstDropdown",!1);else if("nofield"==t.field_data_type)[],m="",this.setData("firstDropdown",!1);else if("cxFilter_Campaigns"==t.api_name)this.setData("placeholderValue",[_cruxUtils.getI18n("crm.module.name",_cruxUtils.getI18n("Campaign"))]),this.linkingModule=a.Campaigns,this.setData({firstDropdown:!0}),this.setData("setWidth","w250");else if("cxFilter_Linked_Segment__s"===t.api_name)this.setData("placeholderValue",[_cruxUtils.getI18n("crm.module.name",_cruxUtils.getI18n("abm.segment"))]),this.linkingModule=a.ABMSegment,this.setData({firstDropdown:!0});else if("Activity_Due"==t.api_name)m="";else if("custom"==t.field_data_type)t.minValue=0,this.setData({recordDropdownValues:t.values,numberFieldDecimal:!1,setMargin:"setMarginLeft",setWidth:""}),"cxFilter_Email_Status"==t.api_name&&(Lyte.objectUtils(this.getData("dropDownWidth"),"add",{headDropDownWidth:""}),this.setData({setMargin:"",setWidth:"",sentStatusFlag:!0})),m="number",Lyte.objectUtils(this.getData("selectedValues"),"add","value1",2),this.setData({maxLen:4,showSecondDropdownType:"date",firstDropdown:!0});else if("Call_Status"==t.api_name&&-1!=["Activities","Calls"].indexOf(this.data.module))this.setData({firstDropdown:!0}),m="";else if("crossModule"===t.field_data_type)this.setData("selectedValues",{value:"with"});else{var d;this.setData("numberDropClass","cxW100Per"),void 0!==t.cxDecimalAllowed&&this.setData("numberFieldDecimal",t.cxDecimalAllowed),void 0!==t.cxModule&&this.setData("module",t.cxModule),-1!=["SOLUTIONNUMBER","INVOICENUMBER","SONUMBER","QUOTENUMBER","CASENUMBER"].indexOf(t.column_name)&&Lyte.objectUtils(t,"add","field_data_type","integer"),d=t.field_data_type,"currency"==t.field_data_type&&""!=this.data.userDetails.BASE_CURRENCY&&(this.setData("numberDropClass","w150"),this.setData("iscurrencyField",!0));var c=this.cruxCompMapping,m=this.cruxAssetsCompMapping[t.api_name];if("text"!=(m=m||c[d])&&"number"!=m||(this.setData("numberDropClass","number"==m?"w150":this.data.numberDropClass),this.setData("placeholderValue",[_cruxUtils.getI18n("crm.label.filter.typehere")])),80==t.ui_type&&this.setData("placeholderValue",[_cruxUtils.getI18n("crm.label.type.minutes")]),this.setData("firstDropdown",!0),"multiselectlookup"==t.field_data_type||this.data.isChildFieldLookup)if("445"==t.ui_type)m="user";else{var u=this.data.isChildFieldLookup?t.lookup.module.id:t.multiselectlookup.connected_module.id;this.linkingModule=a[this.idModuleMapping[u]],this.setData("placeholderValue",[_cruxUtils.getI18n("crm.module.name",this.linkingModule.singular_label)])}if("CALLDURATIONINSEC"==t.column_name&&this.setData("numberFieldDecimal",!1),"cxFilter_Email_Sentiment"==t.ParentField&&("count"==t.api_name||"percentage"==t.api_name)){var _="count"==t.api_name?"1":"50",y="count"==t.api_name?1e3:100,f="count"==t.api_name?4:3;t.minValue=1,t.maxValue=y,Lyte.objectUtils(this.getData("selectedValues"),"add","value1",_),this.setData({numberDropClass:"",placeholderValue:[""],numberFieldDecimal:!1})}}if(132==t.ui_type&&(Lyte.objectUtils(t.cxFilterClass,"add",{cruxElement1:"dB mB7 cxSmartFilterMultiModuleLookup",secondDropDownClass:""}),this.setData("showSecondDropdownType","date")),void 0!==a&&"tag"==t.field_data_type){m="tag";var h=a[this.getData("module")]?a[this.getData("module")]:{};"Activities"==h.module_name&&h.custom_view&&!h.custom_view.activity_view?this.setData("module",t.module_name):!t.PreventActivityTag&&h.custom_view&&h.custom_view.activity_view?(Lyte.objectUtils(t,"add",{Activity_tag:!0}),o=[{api_name:"Events_Tag",field_data_type:"tag",data_type:"tag",field_label:a.Events.plural_label,module_name:"Events",PreventActivityTag:!0,parent_field:t},{api_name:"Calls_Tag",field_data_type:"tag",data_type:"tag",field_label:a.Calls.plural_label,module_name:"Calls",PreventActivityTag:!0,parent_field:t},{api_name:"Tasks_Tag",field_data_type:"tag",data_type:"tag",field_label:a.Tasks.plural_label,module_name:"Tasks",PreventActivityTag:!0,parent_field:t}],Lyte.objectUtils(t,"add","crossFields",o),m="",this.setData("firstDropdown",!1)):Lyte.objectUtils(t,"add","Activity_tag",!1)}else if("ACTIVITYTYPE"==t.column_name){Lyte.objectUtils(t,"add","field_data_type","picklist");var x=[{display_value:a.Tasks.plural_label,actual_value:a.Tasks.api_name},{display_value:a.Calls.plural_label,actual_value:a.Calls.api_name},{display_value:a.Events.plural_label,actual_value:a.Events.api_name}];Lyte.objectUtils(t,"add","pick_list_values",x),m="picklist"}if("text"==m&&this.setData("maxLen",2500),"date"==t.field_data_type||"datetime"==t.field_data_type||"date"==m||"cxFilter_Email_Sentiment"==t.api_name?(t.minValue=0,this.setData({placeholderValue:[""],numberFieldDecimal:!1,numberDropClass:"",setWidth:""}),Lyte.objectUtils(this.getData("selectedValues"),"add","value1",2),this.setData({maxLen:4,showSecondDropdownType:"date"}),"With_Open_Deal"!=t.api_name&&"Without_Open_Deal"!=t.api_name||(m="")):13==t.show_type&&-1!==["Recency","Frequency","Monetary"].indexOf(t.api_name)&&(Lyte.objectUtils(t,"add",{maxValue:5,minValue:1}),this.setData({numberDropClass:"w100",placeholderValue:[_cruxUtils.getI18n("crm.filter.number.range",1,5)]})),"cxFilter_Scoring_Rule"===t.api_name&&(m="picklist"),"cxFilter_Series"===t.api_name&&(m="picklist"),this.setData("numberDropClass","boolean"==m?"":this.data.numberDropClass),this.setData({cruxElement1:m}),"user"==m&&e&&this.setData("userProperty",t.cxUserProperties?t.cxUserProperties:e.getData("cxPropUserFieldProperties")),t.cxChildCompProps){var D={};for(var g in t.cxChildCompProps){var b=g.replace("cxProp","");D[(b=b.replace("ltProp","")).charAt(0).toLowerCase()+b.slice(1)]=t.cxChildCompProps[g]}this.setData("childCompProps",JSON.stringify(D))}if(t.cxHideComparator||this.data.cxPropHideComparator||"Without_Open_Activity"===t.api_name||"Without_Any_Deal"===t.api_name||"With_Contact"===t.api_name||"Without_Any_Contact"===t.api_name||"Locked_False"===t.api_name||this.setDropDownValuesFun(!0),"Recommendation"===t.api_name){var v=(w=a[this.getData("module")]).recommendationsDetailsJson.what_to.display_label;this.setData({lookupDisplayField:v,setWidth:""}),Lyte.objectUtils(this.getData("dropDownWidth"),"add",{headDropDownWidth:"w150"}),this.setData("placeholderValue",[v]),this.setData("options",[{system:"all",display:_cruxUtils.getI18n("allTime")},{system:"${TODAY}",display:_cruxUtils.getI18n("crm.filter.label.a.day")},{system:"${THISWEEK}",display:_cruxUtils.getI18n("crm.filter.label.a.week")},{system:"${THISMONTH}",display:_cruxUtils.getI18n("crm.filter.label.a.month")},{system:"CUSTOM",display:_cruxUtils.getI18n("crm.cal.custom")}])}else if("SimilarityScore"===t.api_name)this.setData("options",this.numberConditions),this.setData("firstDropdown",!0),this.setData("cruxElement1","number"),t.minValue=0,t.maxValue=100,this.setData("field",t),this.setData("placeholderValue",[_cruxUtils.getI18n("Score")]),this.setData("numberDropClass","w150");else if("SimilarityRecords"===t.api_name){this.setData("field.data_type","multiselectlookup");var S=this.getData("moduleDisplayField"),w=a[this.getData("module")];if(!S){var C={};C[w.api_name]=[w.display_field.api_name],this.setData("moduleDisplayField",C)}var L={};L.connected_module={api_name:w.api_name,id:w.id},this.setData("field.multiselectlookup",L),this.setData("placeholderValue",[_cruxUtils.getI18n("crm.module.name",w.singular_label)])}if("Prediction"===t.api_name||"Prediction_0"===t.api_name||"Prediction_1"===t.api_name||"completed_prediction"===t.api_name){var F="Prediction"===t.api_name?$L("#option_Prediction")[0]:$L("#sub_option_"+t.api_name)[0];Lyte.objectUtils(F.getData("selectedValues"),"add","dateVal",2),Lyte.objectUtils(F.getData("selectedValues"),"add","criteriaValue","");w=a[F.getData("module")];F.setData("predictionData",w.prediction_details.slice()),F.setData("trendOption",[{system:"no_trend",display:_cruxUtils.getI18n("crm.zia.prediction.notrend")},{system:"trend_up",display:_cruxUtils.getI18n("crm.intelligence.prediction.trendup")},{system:"trend_down",display:_cruxUtils.getI18n("crm.intelligence.prediction.trenddown")}]),F.setData("successFailureOption",[{system:"success_prediction",display:_cruxUtils.getI18n("crm.label.success"),parent_field:"completed_prediction"},{system:"failure_prediction",display:_cruxUtils.getI18n("crm.label.Failure"),parent_field:"completed_prediction"}]),F.setData("configLength",w.prediction_details.length);f=F.getData("configLength");if("Prediction"===t.api_name){for(var V=[],O=0;O<f;O++){var E={},k=F.getData("predictionData")[O].predict_field,T=void 0!==F.getData("predictionData")[O].values;E.predict_field=k,E.prediction_field=F.getData("predictionData")[O].prediction_field,E.isPickList=T,E.api_name="Prediction_"+O,E.name=F.getData("predictionData")[O].name,E.id=F.getData("predictionData")[O].id,E.field_label=F.getData("predictionData")[O].name,E.parent_field="prediction",T&&(E.score_field=F.getData("predictionData")[O].prediction_score_field),E.trend=F.getData("trendOption"),V.push(E)}(E={}).successFailureDropDown=F.getData("successFailureDropDown"),E.api_name="completed_prediction",E.id="both",E.field_label=_cruxUtils.getI18n("Completed"),E.parent_field="prediction",V.push(E),o=V}for(var U=[],I=F.getData("configLength"),A=0;A<I;A++){var M={system:this.getData("predictionData")[A].id,display:F.getData("predictionData")[A].name};U.push(M)}2===I&&U.push({system:"both",display:_cruxUtils.getI18n("Both")}),F.setData("successFailureDropDown",U),F.setData("selectedOptionSf",F.getData("successFailureDropDown")[0].system)}if(this.setData("crossFields",o),"picklist"!=m||t.cxType||(t.cxPropType="cxFilter_Scoring_Rule"==t.api_name||"cxFilter_UnallocatedRecords"==t.api_name||"cxFilter_Series"==t.api_name?"single":"multiple"),"cxFilter_Competitor_Alert"===t.api_name&&(this.setData("firstDropdown",!1),this.setData("crossFields",Lyte.deepCopyObject(t.options))),"Competitor_Name"===t.api_name){this.setData("cruxElement1","picklist");var N=this.textConditions;this.setData("options",N)}"Competitor_Duration"===t.api_name&&(Lyte.arrayUtils(this.getData("options"),"removeAt",12,this.getData("options").length),this.setData("cruxElement1","number")),"Competitor_Sentiment"===t.api_name&&this.setData("field.cxPropType","single"),this.setData("rendered",!0),this.setFieldMethods(t)}},actions:{preventDefault:function(e,t){13==t.keyCode&&t.preventDefault()},toggleDropDown:function(e,t,a){var i,o="Recommendation_infield"===t?t:this._cruxReplace(e.api_name,"[/.]","_");"cxFilter_Linked_Segment__s"!==o||a.component.data.ltPropValue||(i={type:"change",oldValue:"",newValue:"",item:"ltPropValue"},this.methods.onSearch.call(this,i,a));var l=this.$node.querySelector("#multiSelect_lookup_"+o);if(1==l.ltProp("show")){var s=$L("#"+o+"_Search_val")[0];return s.querySelector("input").value&&s.ltProp("value",""),l.toggle(),!1}},inputValidate:function(e,t,a){"date"!=a.field_data_type&&"datetime"!=a.field_data_type&&"custom"!=a.field_data_type||189==t.keyCode&&t.preventDefault()},clearEmailSentiment:function(){var e=$("[name=option_cxFilter_Email_Sentiment]:checked").closest("lyte-radiobutton");if(e.length){e[0].ltProp("checked",!1);var t="sub_option_"+e[0].ltProp("value"),a=document.getElementById(t);a&&(a.style.display="none")}$L("#clearEmailSentimentSubfield")[0].classList.add("dNI"),$(".cxFilter_Email_Sentiment_selectedRadioBtn").removeClass("cxFilter_Email_Sentiment_selectedRadioBtn"),this.getMethods("onValueChange")&&!this.preventValChangeCallback&&this.executeMethod("onValueChange",{field:this.data.field})}},methods:{beforeOptionsSet:function(){this.data.field.cxForceSetCondition&&this.triggerConditionCallback(this.data.options,!0,!0,{bydropdownOption:this.data.bydropdownOption})},beforeSelectDropDown:function(e,t,a,i,o){if(this.getMethods("beforeSelectDropdown"))return this.executeMethod("beforeSelectDropdown",{field:this.data.field,event:e,oldValue:t,newValue:o,dropdown:a})},observeDropDownChanges:function(){this.valueChanged()},beforeErrorCallback:function(e){return!this.getMethods("onBeforeErrorAlert")||this.executeMethod("onBeforeErrorAlert",e)},beforeAlert:function(e,t){var a=!0;if(this.getMethods("onBeforeErrorAlert")&&(a=this.executeMethod("onBeforeErrorAlert",e)),a){var i=this.getData("field");if(-1!=["Events_Tag","Calls_Tag","Tasks_Tag"].indexOf(i.api_name)&&i.parent_field&&i.parent_field.Activity_tag)return this.showFilterAlert(_cruxUtils.getI18n("crm.field.valid.check",i.parent_field.display_label)),!1;if(i.showCommonError){if("CRUX-NUMBER-COMPONENT"==t.$node.nodeName&&""==t.getValue())return this.showFilterAlert(_cruxUtils.getI18n("crm.mb.field.common.empt"),t),!1;if("CRUX-DATE-COMPONENT"==t.$node.nodeName)return this.showFilterAlert(_cruxUtils.getI18n("crm.field.valid.check",_cruxUtils.getI18n("Date")),t),!1}else if(this.getData("field").history_tracking&&"CRUX-NUMBER-COMPONENT"===t.$node.tagName)return this.showFilterAlert(_cruxUtils.getI18n("crm.field.valid.check",_cruxUtils.getI18n("crm.events.duration")),t),!1;return!0}},triggerGetDropDownVal:function(e,t){t.methods.getDropDownVal(null,e,null,null,t)},getDropDownVal:function(e,t,a,i,o){var l=o||this,s=l.getData("field");if("Email"==s.api_name||"Secondary_Email"==s.api_name){let e=[],a=!1;if(t.includes("${BLOCKED")&&l.data.userDetails.EMAIL_BOUNCE_MANAGEMENT){let t=Crm.bounceCategories,i=l.getData("module");e=[{api_name:"cxFilter_"+s.column_name+"_temporary",column_name:"Temporary",data_type:"date",display_field_label:_cruxUtils.getI18n("crm.email.unblock.filter.temporary"),field_data_type:"date",field_label:_cruxUtils.getI18n("crm.email.unblock.filter.temporary"),module_name:i,system:"hey",display:"hey",cxFieldsDetails:[{cxLabel:_cruxUtils.getI18n("crm.email.unblock.filter.category"),cxElement:"dropdown",cxOptions:t.temporary}]},{api_name:"cxFilter_"+s.column_name+"_permanent",column_name:"Permanent",data_type:"date",display_field_label:_cruxUtils.getI18n("crm.email.unblock.filter.permanent"),field_data_type:"date",field_label:_cruxUtils.getI18n("crm.email.unblock.filter.permanent"),module_name:i,system:"hey",display:"hey",cxFieldsDetails:[{cxLabel:_cruxUtils.getI18n("crm.email.unblock.filter.category"),cxElement:"dropdown",cxOptions:t.permanent}]},{api_name:"cxFilter_"+s.column_name+"_both",column_name:"Both",data_type:"nofield",display_field_label:_cruxUtils.getI18n("crm.email.unblock.filter.both"),field_data_type:"nofield",field_label:_cruxUtils.getI18n("crm.email.unblock.filter.both"),module_name:i,system:"hey",display:"hey"}],a=!!l.data.crossFields.length}a||l.setData("crossFields",e)}"cxFilter_Campaigns"==s.api_name&&(l.setData("renderItems",[]),$L("#"+l._cruxReplace(s.api_name,"[/.]","_")+"_Search_val")[0].ltProp("value",""),Lyte.objectUtils(l.getData("selectedValues"),"add",{Service_Status:[],multiSelectFieldValue:"[]"})),l.getValue(t,!0,!0)},showSentStatus:function(e,t,a){"${EMPTY}"===this.data.selectedValues.firstDropDownValue&&(Lyte.objectUtils(this.data.selectedValues,"add","firstDropDownValue","Age in Days"),this.getValue("Age in Days")),this.showHideEmailStatus(a,e)},getCrossFieldOption:function(e,t,a,i){if(this.setData("isSuccess","undefined"),Lyte.objectUtils(this.getData("predictionCriteria"),"add","value",void 0),i||(i=t,t={api_name:""}),"cxFilter_Email_Sentiment"==t.ParentField)$L("#clearEmailSentimentSubfield")[0].classList.remove("dNI");else if(-1!=["Events_Tag","Calls_Tag","Tasks_Tag"].indexOf(t.api_name))this.setData("tagSubModule",t.api_name);else if("prediction"===t.parent_field){var o={},l=$L("#scoreCheckBox")[0];l&&this.getData("isScoreSelected")&&l.ltProp("checked",!1);var s=$("#option_Prediction")[0],r=$("#sub_option_"+t.api_name)[0];if(0===e||1===e&&"sub_field_completed_prediction"!==i.data.id){var n=s.getData("predictionData")[e].prediction_field,p=s.getData("predictionData")[e].values,d=s.getData("predictionData")[e].predict_field;Lyte.objectUtils(s.getData("predictionCriteria"),"add","field",n);var c=this.moduleRecordMapping[s.getData("module")].fields,m=c.filter((function(e){return e.id===n.id})),u=c.filter((function(e){return e.id===d.id})),_=[];if("picklist"===m[0].field_data_type){for(var y=[],f=p.length,h=0;h<f;h++)y.push(p[h].actual_value);for(var x=u[0].pick_list_values.length,D=0;D<x;D++)m[0].pick_list_values[D]&&-1!==y.indexOf(m[0].pick_list_values[D].actual_value)&&_.push(m[0].pick_list_values[D]);m[0].pick_list_values=_}var g,b=m[0].data_type,v=this[this.cruxCondMapping[b]+"Conditions"];if(r.setData("predictionEle",b),s.setData("predictionEle",b),"integer"===b||"longinteger"==b||"decimal"===b||"bigint"===b||"double"===b||"currency"===b)r.setData("setWidth","w100"),r.setData("predictionEle","number"),s.setData("predictionEle","number");else if("multiselectpicklist"===b||"picklist"===b)r.setData("predictionEle","picklist"),s.setData("predictionEle","picklist");else if("userlookup"===b||"multiuserlookup"===b)r.setData("predictionEle","user"),s.setData("predictionEle","user");else if("datetime"===b||"date"===b){r.setData("predictionEle","date"),s.setData("predictionEle","date");var S=v[0].system;"equal"===S||"less_than"===S||"greater_than"===S?(Lyte.objectUtils(r.getData("selectedValues"),"add",{value1:void 0,value2:void 0}),r.setData({value:"",predictionEle:"date",numberDropClass:"w100",showSecondDropdownType:""})):"between"===S?(Lyte.objectUtils(this.getData("selectedValues"),"add",{value1:void 0,value2:void 0}),r.setData({showSecondDropdownType:"between",numberDropClass:"w100",predictionEle:"date"})):"Due in Days"!==S&&"Age in Days"!==S||r.setData("showSecondDropdownType","date")}if(Lyte.objectUtils(r.getData("predictionOptions"),"add","criteria_operator",v),s.getData("predictionData")[e].score_field){var w=this.getData("predictionData")[e].score_field;Lyte.objectUtils(s.getData("scoreCriteria"),"add","field",w),g=c.filter((function(e){return e.id===w.id})),Lyte.objectUtils(o,"add","score_field",g)}0===e?o={first:!0,second:!1,completed:!1}:1===e&&"sub_field_completed_prediction"!==i.data.id&&(o={first:!1,second:!0,completed:!1})}else o={first:!1,second:!1,completed:!0};if(Lyte.objectUtils(o,"add","criteria_fields",m),Lyte.objectUtils(o,"add","predict_field",u),g&&Lyte.objectUtils(o,"add","score_field",g),r.setData("predictionSelectedType",o),s.setData("predictionSelectedType",o),0===e||1===e&&"sub_field_completed_prediction"!==i.data.id){var C=r.querySelector("#criteria_comparator");if(C){C.ltProp("selected",v[0].system);var L="${EMPTY}"!==v[0].system&&"${NOTEMPTY}"!==v[0].system,F="between"===v[0].system||"not_between"===v[0].system;r.setData("criteriaDisplay",L),r.setData("isCriteriaBetween",F),Lyte.objectUtils(s.getData("predictionCriteria"),"add","comparator",v[0].system),Lyte.objectUtils(r.getData("predictionCriteria"),"add","comparator",v[0].system)}var V=r.querySelector("#score_criteria_comparator");if(V){V.ltProp("selected",r.getData("predictionOptions").score_operator[0].system);L="${EMPTY}"!==r.getData("predictionOptions").score_operator[0].system&&"${NOTEMPTY}"!==r.getData("predictionOptions").score_operator[0].system;r.setData("scoreCriteriaDisplay",L)}Lyte.objectUtils(s.getData("scoreCriteria"),"add","comparator",r.getData("predictionOptions").score_operator[0].system),Lyte.objectUtils(r.getData("scoreCriteria"),"add","comparator",r.getData("predictionOptions").score_operator[0].system)}}else if("completed_prediction"===t.parent_field){r=$L("#sub_option_"+t.parent_field)[0];(s=$L("#option_Prediction")[0]).setData("selectedOptionSf",r.getData("selectedOptionSf")),r.setData("isSuccess",0===e?"true":"false"),s.setData("isSuccess",0===e?"true":"false")}else"SimilarityScore"===t.api_name?this.setData("similarity.isScore",a.checked):"SimilarityRecords"===t.api_name?this.setData("similarity.isRecords",a.checked):"SimilarityNotAvailable"===t.api_name&&(this.setData("similarity.isScore",!1),this.setData("similarity.isRecords",!1));this.getField(t,i)},crossFieldHideOption:function(e,t){this.hideSubfieldOption(e,t)},inputValueChanged:function(e,t,a,i){if("lyte-dropdown"!=e&&this.valueChanged(),e&&(13===e.show_type&&-1!==["Recency","Frequency","Monetary"].indexOf(e.api_name)||-1!==this.getData("abmTechniqueFieldList").indexOf(e.api_name)||-1!==this.getData("abmScoreFieldList").indexOf(e.api_name)||!1!==e.showSubField)&&!0===t){var o=$L("#sub_option_"+this._cruxReplace(e.api_name,"[/.]","_"))[0];i.$node.checked?o.component.render(this.parentCompData):o.setData("rendered",!1)}var l=$L("#option_Prediction")[0];if("prediction_criteria"===e){"date"!==this.getData("predictionEle")&&"date"!==l.getData("predictionEle")||("equal"===a||"less_than"===a||"greater_than"===a?(Lyte.objectUtils(this.getData("selectedValues"),"add",{value1:void 0,value2:void 0}),this.setData({value:"",predictionEle:"date",numberDropClass:"w100",showSecondDropdownType:""})):"between"===a?(Lyte.objectUtils(this.getData("selectedValues"),"add",{value1:void 0,value2:void 0}),this.setData({showSecondDropdownType:"between",numberDropClass:"w100",predictionEle:"date"})):"Due in Days"===a||"Age in Days"===a?this.setData("showSecondDropdownType","date"):(Lyte.objectUtils(this.getData("selectedValues"),"add",{value1:void 0,value2:void 0}),this.setData({showSecondDropdownType:"",predictionEle:""})));var s=-1==["${TODAY}","${YESTERDAY}","${LASTYEAR}","${EMPTY}","${NOTEMPTY}","${THISWEEK}","${THISMONTH}","${THISYEAR}","${LASTWEEK}","${LASTMONTH}"].indexOf(a),r="between"===a||"not_between"===a;"${EMPTY}"===a&&this.getData("field").score_field&&!this.getData("isScoreSelected")?(l.setData({isTrendSelected:!1,selectedTrend:"no_trend",isTrendShown:!1}),this.setData({isTrendSelected:!1,selectedTrend:"no_trend",isTrendShown:!1})):(l.setData("isTrendShown",!0),this.setData("isTrendShown",!0)),this.setData("criteriaDisplay",s),this.setData("isCriteriaBetween",r),Lyte.objectUtils(l.getData("predictionCriteria"),"add","comparator",a),Lyte.objectUtils(this.getData("predictionCriteria"),"add","comparator",a)}else if("score_criteria"===e){s="${EMPTY}"!==a&&"${NOTEMPTY}"!==a,r="between"===a||"not_between"===a;this.setData("scoreCriteriaDisplay",s),this.setData("isScoreBetween",r),Lyte.objectUtils(l.getData("scoreCriteria"),"add","comparator",a),Lyte.objectUtils(this.getData("scoreCriteria"),"add","comparator",a)}"prediction_trend"===e?l.setData("selectedTrend",a):"prediction_SF"===e&&l.setData("selectedOptionSf",a)},changeUserInputValue:function(e,t){var a=this.getData("field");if(a.history_tracking&&!this.data.isChildInput){e=$L("#"+this._cruxReplace(a.api_name,"[/.]","_")+"_crux_comp")[0].component.getValue();t=$L("#"+this._cruxReplace(a.api_name,"[/.]","_")+"_picklist_tracker")[0],picklist_tracker_field;e.length&&e.length<=10?(t.removeAttribute("lt-prop-title"),t.ltProp("disabled",!1)):(e.length>10&&t.setAttribute("lt-prop-title",_cruxUtils.getI18n("crm.smartfilter.picklist.options.msg")),t.ltProp("checked",!1),t.ltProp("disabled",!0))}else if("Prediction_0"===a.api_name||"Prediction_1"===a.api_name){var i=this.getData("selectedValues");switch("criteria_prediction"!==e.id&&"criteria_prediction_0"!==e.id&&"criteria_prediction_1"!==e.id||(t="date"===e.getData().cxPropField.data_type?Lyte.Transform.date.serialize(t):"datetime"===e.getData().cxPropField.data_type?Lyte.Transform.datetime.serialize(t):t),e.id){case"criteria_prediction":Lyte.objectUtils(i,"add","criteriaValue",t);break;case"criteria_prediction_0":Lyte.objectUtils(i,"add","criteriaValue0",t);break;case"criteria_prediction_1":Lyte.objectUtils(i,"add","criteriaValue1",t);break;case"score_criteria_prediction":Lyte.objectUtils(i,"add","scoreValue",t);break;case"score_criteria_prediction_0":Lyte.objectUtils(i,"add","scoreValue0",t);break;case"score_criteria_prediction_1":Lyte.objectUtils(i,"add","scoreValue1",t);break;case"dateInput":Lyte.objectUtils(i,"add","dateVal",t)}}else e&&t&&t.getData&&t.getData().cxPropMinvalue&&e<t.getData().cxPropMinvalue&&t.querySelector("lyte-number").ltProp("value","");this.valueChanged(e)},picklistTreackerDuration:function(e,t){var a=$L("#durationField")[0];t.$node.checked?$L(a).removeClass("eventNone op5"):(a.querySelector("lyte-number").ltProp("value",""),$L(a).addClass("eventNone op5")),this.valueChanged()},addToList:function(e,t,a,i,o){var l,s="Recommendation_infield"===e?this.getData("renderItems2"):this.getData("renderItems"),r=this.getData("lookUpArray"),n=r.length;for(l=0;l<n&&r[l].id!=a;l++);Lyte.arrayUtils(s,"push",r[l]),"cxFilter_Linked_Segment__s"===e?s&&s.length>=5?(this.setData("lookUpArray",[]),Lyte.objectUtils(this.getData("displayMsg"),"add","multiLookupMsg",_cruxUtils.getI18n("crm.chosen.maximum.campaigns.selected",_cruxUtils.getI18n("abm.segment.names")))):this.searchAbmSegments(this.getData("abmSegmentsSearchedText"),this.getData("renderItems")):(this.setData("lookUpArray",[]),$L("#"+this._cruxReplace(e,"[/.]","_")+"_Search_val",this.$node)[0].ltProp("value",""),this.hideDropDown());var p=this.getData("field");"cxFilter_Campaigns"!=p.api_name||p.serviceStatus&&p.serviceStatus.length||(p.serviceStatus=[],this.setServiceStatus(this.data.selectedValues.firstDropDownValue,this),Lyte.objectUtils(this.data.selectedValues,"add",{Service_Status:[]})),this.valueChanged(s,o.$node)},removeFromList:function(e,t,a,o){var l="multiSelect_lookup_Recommendation_infield"===o.$node.id?this.getData("renderItems2"):this.getData("renderItems");for(i=0;i<l.length;i++)l[i].id==t&&Lyte.arrayUtils(l,"removeAt",i,1);if(this.valueChanged(l,o.$node),l.length>=5)Lyte.objectUtils(this.getData("displayMsg"),"add","multiLookupMsg",_cruxUtils.getI18n("crm.chosen.maximum.campaigns.selected",this.linkingModule?this.linkingModule.module_name:this.data.placeholderValue[0]));else if("SimilarityRecords"===this.data.field.api_name&&this.data.renderItems.length>=1)Lyte.objectUtils(this.getData("displayMsg"),"add","multiLookupMsg",_cruxUtils.getI18n("crux.smartfilter.multiselect.maximum.selected",[1,this.linkingModule?this.linkingModule.module_name:this.data.placeholderValue[0]]));else{if("multiSelect_lookup_cxFilter_Linked_Segment__s"===o.$node.id)return void o.$node.close();Lyte.objectUtils(this.getData("displayMsg"),"add","multiLookupMsg",_cruxUtils.getI18n("crm.chosen.minimum.input.text","2"))}},onShowDropBox:function(e,t){var a,i;if(this.data.renderItems2.length>=5||this.data.renderItems.length>=5)i="cxFilter_Linked_Segment__s"===e?_cruxUtils.getI18n("crm.chosen.maximum.campaigns.selected",_cruxUtils.getI18n("abm.segment.names")):_cruxUtils.getI18n("crm.chosen.maximum.campaigns.selected",this.linkingModule?this.linkingModule.module_name:this.data.placeholderValue[0]),Lyte.objectUtils(this.getData("displayMsg"),"add","multiLookupMsg",i);else if("SimilarityRecords"===this.data.field.api_name&&this.data.renderItems.length>=1)Lyte.objectUtils(this.getData("displayMsg"),"add","multiLookupMsg",_cruxUtils.getI18n("crux.smartfilter.multiselect.maximum.selected",[1,this.linkingModule?this.linkingModule.module_name:this.data.placeholderValue[0]]));else{if("cxFilter_Linked_Segment__s"===e&&!t.component.data.ltPropValue)return a={type:"change",oldValue:"",newValue:"",item:"ltPropValue"},Lyte.objectUtils(this.getData("displayMsg"),"add","multiLookupMsg",_cruxUtils.getI18n("crm.chosen.searching.text")),void this.methods.onSearch.call(this,a,t);Lyte.objectUtils(this.getData("displayMsg"),"add","multiLookupMsg",_cruxUtils.getI18n("crm.chosen.minimum.input.text","2"))}},onBeforeHide:function(){this.hideDropDown()},onSearch:function(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(this.onSearchFun.bind(this,e,t),100)}},showHideEmailStatus:function(e,t){t&&"cxFilter_Email_Sentiment"==t.api_name?"Positive"==e||"Negative"==e||"PositiveOrNegative"==e||"Neutral"==e?this.setData("Email_Sentiment_Value",3):"PositiveAndNegative"==e?this.setData("Email_Sentiment_Value",2):this.setData("Email_Sentiment_Value",1):t&&"cxFilter_Email_Status"==t.api_name&&("not_sent"==e?Lyte.arrayUtils(this.data.options,"insertAt",this.data.options.length,[{system:"${EMPTY}",display:_cruxUtils.getI18n("crm.condition.till.today")}]):"${EMPTY}"===this.data.options[this.data.options.length-1].system&&Lyte.arrayUtils(this.data.options,"pop"),this.setData("sentStatusFlag","sent"==e))},getConditionOpt:function(e){if(!e)return;let t=this.data.options.filter((t=>t.system==e))[0];if(!t&&e.includes("${")){let a=e.replace("${","").replace("}",""),i=a.replace(/\D/g,"");if(i){let e=a.split(i);t=this.data.options.filter((t=>t.system==e[0]))[0],t.value=i,t.secondDropDownOpt=e[1]}}return t||{}},getValue:function(e,t,a){var i=this.getData("field");if(0==i.persist_values&&(this.setData({cruxElement1:""}),Lyte.objectUtils(this.getData("selectedValues"),"add",{value1:void 0,value2:void 0})),a||this.valueChanged(),"${NOTEMPTY}"!=e&&"${EMPTY}"!=e||this.setData({cruxElement1:""}),53==i.ui_type)return this.setData({numberDropClass:"",maxLen:4,cruxElement1:"number",placeholderValue:[""]}),void Lyte.objectUtils(this.getData("selectedValues"),"add",{value1:"2",value2:void 0});if("not_contains"==e&&this.setData("setWidth","w150"),"Call_Status"!=i.api_name||-1==["Activities","Calls"].indexOf(this.data.module))if(["date","datetime","custom","date_time"].includes(i.field_data_type)||"cxFilter_Email_Sentiment"==i.api_name){var o="date_time"==i.field_data_type?"date-time":"date";let t=this.getConditionOpt(e);["equal","less_than","greater_than"].includes(e)?(Lyte.objectUtils(this.getData("selectedValues"),"add",{value1:void 0,value2:void 0}),this.setData({value:"",cruxElement1:o,numberDropClass:"w150",showSecondDropdownType:""})):"between"==e||"not_between"==e?(Lyte.objectUtils(this.getData("selectedValues"),"add",{value1:void 0,value2:void 0}),this.setData({showSecondDropdownType:"between",numberDropClass:"w100",cruxElement2:o,cruxElement1:"",placeholderValue:["",_cruxUtils.getI18n("workflow.option.webhookFailure.fromDate"),_cruxUtils.getI18n("workflow.option.webhookFailure.toDate")]})):"Due in Days"==e||"Age in Days"==e||t.showDynamicInput?(this.setData("showSecondDropdownType","date"),"With_Open_Deal"!=i.api_name&&"Without_Open_Deal"!=i.api_name&&(this.setData({numberDropClass:"",maxLen:4,cruxElement1:"number",placeholderValue:[""]}),Lyte.objectUtils(this.getData("selectedValues"),"add",{value1:"2",value2:void 0}))):(Lyte.objectUtils(this.getData("selectedValues"),"add",{value1:void 0,value2:void 0}),this.setData({showSecondDropdownType:"",cruxElement1:""}))}else if(-1!=["num","currency","double","bigint","integer","longinteger","decimal"].indexOf(i.field_data_type)){if(13==i.show_type&&-1!==["Recency","Frequency","Monetary"].indexOf(i.api_name)?this.setData("numberDropClass","w100"):/count|percentage/.test(i.api_name)||this.setData("numberDropClass","w150"),this.data.selectedValues.value2&&Lyte.objectUtils(this.getData("selectedValues"),"add",{value1:void 0,value2:void 0}),80==i.ui_type?this.setData("placeholderValue",[_cruxUtils.getI18n("crm.label.type.minutes")]):this.setData("placeholderValue",[_cruxUtils.getI18n("crm.label.filter.typehere")]),"between"==e||"not_between"==e)Lyte.objectUtils(this.getData("selectedValues"),"add",{value1:void 0,value2:void 0}),this.setData({showSecondDropdownType:"between",cruxElement2:"number",cruxElement1:"number",numberDropClass:"w100",placeholderValue:["",_cruxUtils.getI18n("crm.label.from"),_cruxUtils.getI18n("crm.label.to")]}),80==i.ui_type&&this.setData("placeholderValue",["",_cruxUtils.getI18n("crm.label.in.minutes",_cruxUtils.getI18n("crm.label.from")),_cruxUtils.getI18n("crm.label.in.minutes",_cruxUtils.getI18n("crm.label.to"))]);else if("not_equal"==e||"equal"==e||"less_than"==e||"greater_than"==e||"less_equal"==e||"greater_equal"==e){var l="LAYOUTID"==i.column_name?"layout":"number";this.setData({showSecondDropdownType:"",cruxElement1:l})}else this.setData({showSecondDropdownType:"",cruxElement1:""});(n=this.$node.querySelector("lyte-number"))&&t&&n.focus()}else if(this.cruxAssetsCompMapping[i.api_name]||-1!=["text","textarea","multiselectpicklist","phone","email","mobile","website","lookup","picklist","autonumber","tag"].indexOf(i.field_data_type)&&!this.data.isChildFieldLookup){if(!this.data.userDetails.EMAIL_BOUNCE_MANAGEMENT&&-1!==["EMAIL","ADDN_EMAIL"].indexOf(i.column_name)&&!i.custom_field){var s="EMAIL"==i.column_name?"Secondary_Email":"Email",r=this.parentCompData.data.cxPropChildModuleFields?"#option_"+s+"_"+i.id+"_"+this.parentCompData.data.cxPropChildModuleRelation:"#option_"+s,n=$(r)[0];-1!=["${BLOCKED}","${NOTBLOCKED}"].indexOf(e)?this.$node._callee.component.blockedCriteriaSelected=i.api_name:i.api_name==this.$node._callee.component.blockedCriteriaSelected&&(this.$node._callee.component.blockedCriteriaSelected=!1),n&&(i.api_name==this.$node._callee.component.blockedCriteriaSelected?Lyte.arrayUtils(n.getData("options"),"removeAt",8,2):n.getData("options").length<=8&&Lyte.arrayUtils(n.getData("options"),"push",[{system:"${BLOCKED}",display:_cruxUtils.getI18n("crm.filter.email.isblocked")},{system:"${NOTBLOCKED}",display:_cruxUtils.getI18n("crm.filter.email.isnotblocked")}]))}if(-1!=e.indexOf("$"))this.setData({cruxElement1:"",showSecondDropdownType:""});else{l="tag"==i.field_data_type?"tag":this.cruxCompMapping[i.field_data_type];this.setData("cruxElement1",l),132==i.ui_type&&this.setData("showSecondDropdownType","date"),i.history_tracking&&"not_equal"==e?$L("#picklist_tracker_field").addClass("dN"):i.history_tracking&&"equal"==e&&$L("#picklist_tracker_field").removeClass("dN"),(n=this.$node.querySelector("lyte-input"))&&t&&n.focus()}}else if("multiselectlookup"==i.field_data_type||this.data.isChildFieldLookup){(p=$L("#multiSelect_lookup_"+this._cruxReplace(i.api_name,"[/.]","_"))[0])&&(p.style.display="${EMPTY}"===e||"${NOTEMPTY}"===e?"none":"block")}else if(-1!=["ownerlookup","multiuserlookup","userlookup"].indexOf(i.field_data_type)&&-1==e.indexOf("$")&&-1==["equal_role","equal_group","not_equal_role"].indexOf(e))this.setData("cruxElement1","user");else if("multirelation"===i.field_data_type){var p;(p=$L("#multiSelect_lookup_"+this._cruxReplace(i.api_name,"[/.]","_"))[0])&&(p.style.display="${EMPTY}"===e?"none":"block")}else["equal_role","equal_group","not_equal_role"].indexOf(e)>-1&&(e.indexOf("group")>-1&&!Crm.groupUserRelDetails?(store.findAll("related_list",{module:"Users"},!0).then((function(e){Crm.groupUserRelDetails?Crm.groupUserRelDetails.listRelation=e.find((e=>"GroupUserRel__s"==e.api_name)):Crm.groupUserRelDetails={listRelation:e.find((e=>"GroupUserRel__s"==e.api_name))}})),store.findAll("field",{module:"GroupUserRelations__s"},!0).then((function(e){Crm.groupUserRelDetails?Crm.groupUserRelDetails.field=e.find((e=>"GroupRel__s"==e.api_name)):Crm.groupUserRelDetails={field:e.find((e=>"GroupRel__s"==e.api_name))}}))):e.indexOf("role")>-1&&!Crm.userRoleField&&store.findAll("field",{module:"Users"},!0).then((function(e){Crm.userRoleField=e.find((e=>"role"==e.api_name))})),this.setData("cruxElement1","role"),this.getData("roleRequestModel")&&-1===e.indexOf(this.getData("roleRequestModel"))&&Lyte.objectUtils(this.getData("selectedValues"),"add","value1",[]),this.setData("roleRequestModel",e.indexOf("group")>-1?"user_group":"role"))},findAbmSegments:function(e,t){var a,i=this,o=i.getData("abmSegmentsList"),l=!0;i.setData("lookUpArray",[]),o.forEach((function(o){a=o.Segment_Name__s.toLowerCase(),!i.isSelected(o,t)&&a.startsWith(e)&&(l=!1,Lyte.arrayUtils(i.getData("lookUpArray"),"push",o))})),l?Lyte.objectUtils(i.getData("displayMsg"),"add","multiLookupMsg",_cruxUtils.getI18n("crm.label.no.options.found")):Lyte.objectUtils(i.getData("displayMsg"),"add","multiLookupMsg","")},searchAbmSegments:function(e,t){var a=this.getData("abmSegmentsList"),i=this;e=e.trim().toLowerCase(),i.setData("abmSegmentsSearchedText",e),a&&a.length?i.findAbmSegments(e,t):(i.setData("lookupDisplayField","Segment_Name__s"),Lyte.objectUtils(i.getData("displayMsg"),"add","multiLookupMsg",_cruxUtils.getI18n("crm.chosen.searching.text")),"/crm/v4/ABM_Segment__s?fields=Segment_Name__s",i.sendxhr("/crm/v4/ABM_Segment__s?fields=Segment_Name__s","GET").then((function(a){var o,l,s=!0;i.setData("lookUpArray",[]),""!==a.response?(Lyte.objectUtils(i.getData("displayMsg"),"add","multiLookupMsg",""),l=(a=JSON.parse(a.response).data).length,i.setData("abmSegmentsList",a),l&&(0===t.length?a.forEach((function(t){o=t.Segment_Name__s.toLowerCase(),e&&!o.startsWith(e)||(s=!1,Lyte.arrayUtils(i.getData("lookUpArray"),"push",t))})):a.forEach((function(a){o=a.Segment_Name__s.toLowerCase(),i.isSelected(a,t)||e&&!o.startsWith(e)||(s=!1,Lyte.arrayUtils(i.getData("lookUpArray"),"push",a))})),s&&Lyte.objectUtils(i.getData("displayMsg"),"add","multiLookupMsg",_cruxUtils.getI18n("crm.label.no.options.found")))):(Lyte.objectUtils(i.getData("displayMsg"),"add","multiLookupMsg",_cruxUtils.getI18n("crm.label.no.options.found")),i.setData("lookUpArray",[]))}),(function(){Lyte.objectUtils(i.getData("displayMsg"),"add","multiLookupMsg",_cruxUtils.getI18n("crm.chosen.error.loading.text"))})))},onSearchFun:function(e,t){var a=this.moduleRecordMapping[this.getData("module")],i=this.getData("field"),o="Recommendation_infield_Search_val"===$(t).attr("id")?"Recommendation_infield":i.api_name,l="Recommendation_infield"===o?this.getData("renderItems2"):this.getData("renderItems");if(l){if("SimilarityRecords"===o&&l.length>=1)return void Lyte.objectUtils(this.getData("displayMsg"),"add","multiLookupMsg",_cruxUtils.getI18n("crux.smartfilter.multiselect.maximum.selected",[1,this.linkingModule?this.linkingModule.module_name:this.data.placeholderValue[0]]));if(l.length>=5)return void Lyte.objectUtils(this.getData("displayMsg"),"add","multiLookupMsg",_cruxUtils.getI18n("crm.chosen.maximum.campaigns.selected",_cruxUtils.getI18n("abm.segment.names")))}this.$node.querySelector("#multiSelect_lookup_"+this._cruxReplace(o,"[/.]","_"))&&this.$node.querySelector("#multiSelect_lookup_"+this._cruxReplace(o,"[/.]","_")).open();var s=this.getData("moduleDisplayField"),r=this,n=e.newValue;$L("#display_msg_"+this._cruxReplace(o,"[/.]","_"))[0];if("cxFilter_Linked_Segment__s"===o)this.searchAbmSegments(n,l);else if(0===n.length)r.setData("lookUpArray",[]),Lyte.objectUtils(this.getData("displayMsg"),"add","multiLookupMsg",_cruxUtils.getI18n("crm.chosen.minimum.input.text","2"));else if(1==n.length)Lyte.objectUtils(this.getData("displayMsg"),"add","multiLookupMsg",_cruxUtils.getI18n("crm.chosen.minimum.input.text","1")),r.setData("lookUpArray",[]);else{var p,d;Lyte.objectUtils(this.getData("displayMsg"),"add","multiLookupMsg",_cruxUtils.getI18n("crm.chosen.searching.text")),p=s[d="cxFilter_Campaigns"==o&&"crossfield"===i.field_data_type?"Campaigns":"Recommendation"==o||"Recommendation_infield"==o?this.idModuleMapping[a.recommendationsDetailsJson.what_to.id]:this.data.isChildFieldLookup?this.idModuleMapping[i.lookup.module.id]:this.idModuleMapping[i.multiselectlookup.connected_module.id]]?s[d][0]:moduleRecordMapping[d].display_field?moduleRecordMapping[d].display_field.api_name:"Name",this.setData("lookupDisplayField",p);var c="cxFilter_Campaigns"==o&&"crossfield"===i.field_data_type?"Campaigns":"Recommendation"==o||"Recommendation_infield"==o?a.recommendationsDetailsJson.what_to.api_name:this.data.isChildFieldLookup?moduleRecordMapping[d].api_name:i.multiselectlookup.connected_module.api_name,m="/crm/v2/"+c+"/search?";if("Campaigns"===c&&"crossfield"===i.field_data_type){var u="(Campaign_Name:starts_with:"+n.trim().replace(/([<>*()?\\])/g,"\\$1")+")",_=this.getData("selectedValues").firstDropDownValue;_&&(u="("+u+"and(Type:equals:"+this.data.options.filter((function(e){return e.actual_value==_}))[0].display_value+"))");var y=this.getData("selectedValues").headDropDownValue;y&&(u="("+u+"and(Status:equals:"+this.data.opt1.filter((function(e){return e.actual_value==y}))[0].display_value+"))")}else u="("+this.getData("lookupDisplayField")+":starts_with:"+n.trim().replace(/([<>*()?\\])/g,"\\$1")+")";m=m+"criteria="+encodeURIComponent(u),this.sendxhr(m,"GET").then((function(e){if(""!=e.response){if(e=JSON.parse(e.response).data,Lyte.objectUtils(r.getData("displayMsg"),"add","multiLookupMsg",""),r.setData("lookUpArray",[]),0!=e.length){var t=e.length;if(0==l.length)r.setData("lookUpArray",e),$L("#campaign_"+e[0][r.data.lookupDisplayField]).addClass("lyteDropdownSelection");else{for(var a=!1,i=0;i<t;i++)r.isSelected(e[i],l)||(a=!0,Lyte.arrayUtils(r.getData("lookUpArray"),"push",e[i]));a?$L("#campaign_"+r.data.lookUpArray[0][r.data.lookupDisplayField])[0]&&$L("#campaign_"+r.data.lookUpArray[0][r.data.lookupDisplayField]).addClass("lyteDropdownSelection"):Lyte.objectUtils(r.getData("displayMsg"),"add","multiLookupMsg",_cruxUtils.getI18n("crm.label.no.options.found"))}}}else Lyte.objectUtils(r.getData("displayMsg"),"add","multiLookupMsg",_cruxUtils.getI18n("crm.label.no.options.found")),r.setData("lookUpArray",[])}),(function(e){403===e.status&&e.responseText&&"NO_PERMISSION"===JSON.parse(e.responseText).code?Lyte.objectUtils(r.getData("displayMsg"),"add","multiLookupMsg",_cruxUtils.getI18n("crm.security.error")):Lyte.objectUtils(r.getData("displayMsg"),"add","multiLookupMsg",_cruxUtils.getI18n("crm.chosen.error.loading.text"))}))}},valueChanged:function(e,t){var a=this.getData("field");"cxFilter_Campaigns"==a.api_name&&(0==JSON.parse($L("#multiSelect_lookup_"+a.api_name)[0].ltProp("selected")).length?(this.setData("memberStatus",!1),Lyte.objectUtils(this.getData("selectedValues"),"add",{value2:[]})):this.setData("memberStatus",!0),t&&t.open());if(("Prediction_0"===a.api_name||"Prediction_1"===a.api_name)&&this.$node.querySelector("#scoreCheckBox")){var i=$L("#sub_option_"+a.api_name)[0],o=$L("#option_Prediction")[0];i.querySelector("#scoreCheckBox").checked&&!i.getData("isScoreSelected")?(i.setData("isScoreSelected",!0),o.setData("isScoreSelected",!0)):!i.querySelector("#scoreCheckBox").checked&&i.getData("isScoreSelected")&&(i.setData("isScoreSelected",!1),o.setData("isScoreSelected",!1))}if("Recommendation"==a.api_name||"Recommendation_infield"==a.api_name){var l=this.getData("selectedValues").byDropDownValue;"Dependent"==l?(this.setData("crossSelling",!0),this.setData("reBuy",!1)):"Repeat"==l?(this.setData("crossSelling",!1),this.setData("reBuy",!0)):(this.setData("crossSelling",!1),this.setData("reBuy",!1))}if("Competitor_Name"===a.api_name){var s=this.getData("selectedValues").firstDropDownValue;if("${EMPTY}"===s||"${NOTEMPTY}"===s)Lyte.arrayUtils($L("#option_cxFilter_Competitor_Alert")[0].component.data.crossFields,"removeAt",1,2);else{var r=$L("#option_cxFilter_Competitor_Alert")[0].component.data.crossFields;1===r.length&&Lyte.arrayUtils(r,"push",$L("#option_cxFilter_Competitor_Alert")[0].component.data.field.options.slice(1))}}this.getMethods("onValueChange")&&!this.preventValChangeCallback&&this.executeMethod("onValueChange",{field:a,value:e,comp:this})},hideSubfieldOption:function(e){var t=this.getData("field"),a=this.$node.id;e&&(a=e);var i=$L("."+this._cruxReplace(t.api_name,"[/.]","_")+"_selectedRadioBtn");if("option_cxFilter_Email_Sentiment"==a&&i[0].classList.remove("dNI"),"0"!=i.length){var o="sub_option_"+i[0].ltProp("value"),l=document.getElementById(o);l&&(l.style.display="none")}},getField:function(e,t){var a,i=this.getData("field"),o="."+this._cruxReplace(i.api_name,"[/.]","_")+"_selectedRadioBtn";(a=$L(o)[0])&&a.classList.remove(i.api_name+"_selectedRadioBtn"),t.$node.classList.add(i.api_name+"_selectedRadioBtn");var l="sub_option_"+e.api_name;null!=(a=document.getElementById(l))&&(a.classList.add("cvSubOption"),a.component.render(this.parentCompData)),this.getMethods("onValueChange")&&!this.preventValChangeCallback&&this.executeMethod("onValueChange",{field:i,sub_field:e})},isSelected:function(e,t){for(var a=t.length,i=0;i<a;i++)if(t[i].id==e.id)return!0;return!1},hideDropDown:function(){this.getData("field");Lyte.objectUtils(this.getData("displayMsg"),"add","multiLookupMsg",""),this.setData("lookUpArray",[])},setServiceStatus:function(e,t){if(t.serviceStatusMap={"Zoho Webinar":[{display_value:"Invited",actual_value:"Invited"},{display_value:"Registered",actual_value:"Registered"},{display_value:"Attended",actual_value:"Attended"}],"Zoho Backstage":[{display_value:"Invited",actual_value:"Invited"},{display_value:"Yet to check in",actual_value:"Yet to check in"},{display_value:"Purchased",actual_value:"Purchased"},{display_value:"Checked in",actual_value:"Checked in"},{display_value:"Cancelled",actual_value:"Cancelled"}],"Zoho Survey":[{display_value:"Yet to visit",actual_value:"Yet to visit"},{display_value:"Visited",actual_value:"Visited"},{display_value:"Completed",actual_value:"Completed"}]},t.serviceStatusMap["Zoho Campaigns"]=[{display_value:"Yet to Send",actual_value:"Yet to Send"},{display_value:"Sent",actual_value:"Sent"},{display_value:"Opened",actual_value:"Opened"},{display_value:"Clicked",actual_value:"Clicked"},{display_value:"Hard Bounced",actual_value:"Hard Bounced"},{display_value:"Soft Bounced",actual_value:"Soft Bounced"},{display_value:"Marked As Spam",actual_value:"Marked As Spam"},{display_value:"Skipped",actual_value:"Skipped"},{display_value:"Replied",actual_value:"Replied"},{display_value:"Opted Out",actual_value:"Opted Out"}],Lyte.objectUtils(t.getData("field"),"add","serviceStatus",[]),Lyte.objectUtils(t.data.selectedValues,"add",{Service_Status:[]}),-1!=["Zoho Campaigns","Zoho Webinar","Zoho Backstage","Zoho Survey"].indexOf(e))Lyte.objectUtils(t.getData("field"),"add","serviceStatus",t.serviceStatusMap[e]);else if(!e){if(t.allService&&t.allService.length)return void Lyte.objectUtils(t.getData("field"),"add","serviceStatus",t.allService);if(!t.data.options.length)return"";for(var a=t.data.options,i=a.length,o=[],l=0;l<i;l++)if(t.serviceStatusMap[a[l].actual_value]){var s=0,r=t.serviceStatusMap[a[l].actual_value],n=r.length;for(s=0;s<n;s++)o.filter((function(e){return e.actual_value==r[s].actual_value}))[0]||o.push(r[s])}t.allService=t.sortArray(o,"display_value"),Lyte.objectUtils(t.getData("field"),"add","serviceStatus",t.allService)}},setDropDownValuesFun:function(e){var t=this.cruxCondMapping,a=this.getData("field"),i=[],o=[],l=[],s=[],r=[],n=this.moduleRecordMapping;if("dynamicFilter"!=a.data_type){if("crossfield"==a.field_data_type&&"cxFilter_Campaigns"!=a.api_name)"cxFilter_Email_Sentiment"==a.api_name&&(s=[{system:"Age in Days",display:_cruxUtils.getI18n("crm.condition.in.last")},{system:"${TODAY}",display:_cruxUtils.getI18n("Today")},{system:"${THISWEEK}",display:_cruxUtils.getI18n("crm.thisweek")},{system:"${THISMONTH}",display:_cruxUtils.getI18n("crm.label.this.month")},{system:"${THISYEAR}",display:_cruxUtils.getI18n("crm.thisyear")},{system:"${AGEINDAYS}+30",display:_cruxUtils.getI18n("crm.condition.last.30.days")},{system:"${AGEINDAYS}+60",display:_cruxUtils.getI18n("crm.condition.last.60.days")},{system:"${AGEINDAYS}+90",display:_cruxUtils.getI18n("crm.condition.last.90.days")},{system:"${CURRENTTIME}",display:_cruxUtils.getI18n("crm.condition.until.now")}],i=[{system:"Positive",display:_cruxUtils.getI18n("crm.sentiment.Positive")},{system:"Negative",display:_cruxUtils.getI18n("crm.sentiment.Negative")},{system:"PositiveAndNegative",display:_cruxUtils.getI18n("sentiment.positiveandnegative")},{system:"PositiveOrNegative",display:_cruxUtils.getI18n("sentiment.positiveornegative")},{system:"PositiveOnly",display:_cruxUtils.getI18n("sentiment.positiveonly")},{system:"NegativeOnly",display:_cruxUtils.getI18n("sentiment.negativeonly")},{system:"Neutral",display:_cruxUtils.getI18n("crm.sentiment.Neutral")}]);else if("cxFilter_Campaigns"==a.api_name){this.setData({dropdownSysValue:"actual_value",dropdownDispValue:"display_value"});var p=n.Campaigns.fields.filterBy({api_name:"Type"})[0];if(p&&p.visible&&p.available_in_user_layout?(s=(s=p?p.pick_list_values.slice(0):[]).filter((function(e){return"unused"!=e.type})),this.removeValue(s,"actual_value",["-None-"]),s=this.sortArray(s,"display_value"),Crm&&Crm.zohoCampaignEnabled&&(this.removeValue(s,"actual_value",["Zoho Campaigns"]),s.unshift({actual_value:Crm.partnerName+" Campaigns",display_value:Crm.partnerName+" Campaigns"})),s.unshift({actual_value:"",display_value:"-"+_cruxUtils.getI18n("crm.filters.select.campaign.type",_cruxUtils.getI18n("Campaign"))+"-"})):this.setData("firstDropdown",!1),(p=n.Campaigns.fields.filterBy({api_name:"Status"})[0])&&p.visible&&p.available_in_user_layout)o=(o=p?p.pick_list_values.slice(0):[]).filter((function(e){return"unused"!=e.type})),this.removeValue(o,"actual_value",["-None-"]),(o=this.sortArray(o,"display_value")).unshift({actual_value:"",display_value:"-"+_cruxUtils.getI18n("crm.filters.select.campaign.status",_cruxUtils.getI18n("Campaign"))+"-"})}else if("activity"==a.field_data_type)"Overdue"==a.api_name?s=[{system:"Activities",display:_cruxUtils.getI18n("Activities")},{system:"Tasks",display:_cruxUtils.getI18n("Tasks")},{system:"Calls",display:_cruxUtils.getI18n("Calls")}]:"Activity_Due"==a.api_name&&(s=[{system:"${TODAY}",display:_cruxUtils.getI18n("Today")},{system:"${TOMORROW}",display:_cruxUtils.getI18n("Tomorrow")},{system:"${DUEINDAYS}+7",display:_cruxUtils.getI18n("crm.livedesk.pot.nextdays","7")},{system:"${TODAYANDOVERDUE}",display:_cruxUtils.getI18n("Today + Overdue")}],Lyte.objectUtils(this.getData("selectedValues"),"add","firstDropDownValue","${TODAYANDOVERDUE}"));else if("custom"==a.field_data_type)i=[{system:"UserAndSystem",display:_cruxUtils.getI18n("crm.source.user.and.system")},{system:"UserOrSystem",display:_cruxUtils.getI18n("crm.source.user.or.system")},{system:"User",display:_cruxUtils.getI18n("User")},{system:"System",display:_cruxUtils.getI18n("crm.label.system2")},{system:"OnlyByUser",display:_cruxUtils.getI18n("crm.source.user.only")},{system:"OnlyBySystem",display:_cruxUtils.getI18n("crm.source.system.only")}],s=[{system:"Age in Days",display:_cruxUtils.getI18n("crm.condition.in.last")},{system:"${TODAY}",display:_cruxUtils.getI18n("Today")},{system:"${THISWEEK}",display:_cruxUtils.getI18n("crm.thisweek")},{system:"${THISMONTH}",display:_cruxUtils.getI18n("crm.label.this.month")},{system:"${THISYEAR}",display:_cruxUtils.getI18n("crm.thisyear")},{system:"${AGEINDAYS}+30",display:_cruxUtils.getI18n("crm.condition.last.30.days")},{system:"${AGEINDAYS}+60",display:_cruxUtils.getI18n("crm.condition.last.60.days")},{system:"${AGEINDAYS}+90",display:_cruxUtils.getI18n("crm.condition.last.90.days")},{system:"${CURRENTTIME}",display:_cruxUtils.getI18n("crm.condition.until.now")}],this.setData("recordDropdownValues",a.values),"cxFilter_Email_Status"==a.api_name&&(i=a.options,s=this.getData("withOption"));else if("Recommendation"==a.api_name){this.setData("firstDropdown",!1);var d={FirstTime:{system:"FirstTime",display:_cruxUtils.getI18n("crm.filter.label.firstbuy")},Dependent:{system:"Dependent",display:_cruxUtils.getI18n("crm.filter.label.cwbab")},Bundle:{system:"Bundle",display:_cruxUtils.getI18n("crm.filter.label.fbt")},Repeat:{system:"Repeat",display:_cruxUtils.getI18n("crm.filter.label.rebuy")},Sequence:{system:"Sequence",display:_cruxUtils.getI18n("crm.filter.label.nextbuy")}};if(n&&n[this.data.module]&&n[this.data.module].isRecommendationsEnable&&n[this.data.module].recommendationsDetailsJson){var c=n[this.data.module].recommendationsDetailsJson;if(c&&c.suggestion_type){var m=c.suggestion_type;i=[],m.first_buy&&m.first_buy.enabled?d.FirstTime={system:"FirstTime",display:m.first_buy.label}:d.FirstTime=void 0,m.customer_also_bought&&m.customer_also_bought.enabled?d.Dependent={system:"Dependent",display:m.customer_also_bought.label}:d.Dependent=void 0,m.frequently_bought_together&&m.frequently_bought_together.enabled?d.Bundle={system:"Bundle",display:m.frequently_bought_together.label}:d.Bundle=void 0,m.rebuy&&m.rebuy.enabled?d.Repeat={system:"Repeat",display:m.rebuy.label}:d.Repeat=void 0,m.next_buy&&m.next_buy.enabled?d.Sequence={system:"Sequence",display:m.next_buy.label}:d.Sequence=void 0}}this.setData("recommendationBasedOnOption",d)}else if("Prediction"===a.api_name||"Prediction_0"===a.api_name||"Prediction_1"===a.api_name){var u="Prediction"===a.api_name?$L("#option_Prediction")[0]:$L("#sub_option_"+a.api_name)[0],_=u.component.numberWithOEmptyConditions;Lyte.objectUtils(u.getData("predictionOptions"),"add","score_operator",_)}else if("BestTime"===a.data_type&&"best_time"===a.api_name)i=[{system:"${TODAY}",display:_cruxUtils.getI18n("Today")},{system:"${TOMORROW}",display:_cruxUtils.getI18n("Tomorrow")}],Lyte.objectUtils(this.getData("selectedValues"),"add","firstDropDownValue","${TODAY}");else if("NBX"===a.data_type&&"NBX_Available"===a.api_name)s=[{system:"${TODAY}",display:_cruxUtils.getI18n("Today")},{system:"${TOMORROW}",display:_cruxUtils.getI18n("Tomorrow")},{system:"${DUEINDAYS}+7",display:_cruxUtils.getI18n("crm.livedesk.pot.nextdays","7")},{system:"${DUEINDAYS}+15",display:_cruxUtils.getI18n("crm.livedesk.pot.nextdays","15")},{system:"${DUEINDAYS}+30",display:_cruxUtils.getI18n("crm.livedesk.pot.nextdays","30")}],Lyte.objectUtils(this.getData("selectedValues"),"add","firstDropDownValue","${TODAY}");else if("Call_Status"==a.api_name&&-1!=["Activities","Calls"].indexOf(this.data.module))s=[{system:"Scheduled",display:_cruxUtils.getI18n("Scheduled")},{system:"Attended Dialled",display:_cruxUtils.getI18n("Attended Dialled")},{system:"Unattended Dialled",display:_cruxUtils.getI18n("Unattended Dialled")},{system:"Overdue",display:_cruxUtils.getI18n("Overdue")},{system:"Cancelled",display:_cruxUtils.getI18n("Cancelled")},{system:"Received",display:_cruxUtils.getI18n("Received")},{system:"Missed",display:_cruxUtils.getI18n("Missed")}];else{var y=a.field_data_type;if(s=(s="multiselectpicklist"==y&&this[y+"Conditions"]?this[y+"Conditions"]:this[t[y]+"Conditions"])||[],80==a.ui_type||-1!==["Positive_Score","Negative_Score","Touch_Point_Positive_Score","Touch_Point_Negative_Score","Touch_Point_Score","Score"].indexOf(a.api_name)&&null==a.ui_type?(s.pop(),s.pop()):-1!=["APPOINTMENTSTATUS","SERVICESTATUS"].indexOf(a.column_name)&&(s=this.defaultConditions),"Email"==a.column_name&&this.$node._callee.component.data.isFromModal?(s.pop(),s.pop()):"cxFilter_Deal_Owner"==a.api_name&&(s=this.defWithEmptyConditions),-1===["EMAIL","ADDN_EMAIL"].indexOf(a.column_name)||a.custom_field||!this.data.userDetails.EMAIL_BOUNCE_MANAGEMENT&&this.$node._callee.component.blockedCriteriaSelected||Lyte.arrayUtils(s,"push",[{system:"${BLOCKED}",display:_cruxUtils.getI18n("crm.filter.email.isblocked")},{system:"${NOTBLOCKED}",display:_cruxUtils.getI18n("crm.filter.email.isnotblocked")}]),"multiselectlookup"==a.field_data_type||this.data.isChildFieldLookup)if("445"==a.ui_type)ele="user",s=this.booleanConditions;else{var f=this.data.isChildFieldLookup?a.lookup.module.id:a.multiselectlookup.connected_module.id;this.setData("placeholderValue",[_cruxUtils.getI18n("crm.module.name",n[this.idModuleMapping[f]].singular_label)]),s=[{system:"equal",display:_cruxUtils.getI18n("is")},{system:"${EMPTY}",display:_cruxUtils.getI18n("is empty")}]}if(["cxFilter_Linked_Segment__s"].includes(a.api_name)&&(s=[{system:"equal",display:_cruxUtils.getI18n("is")},{system:"${EMPTY}",display:_cruxUtils.getI18n("is empty")}]),"picklist"==a.field_data_type&&a.history_tracking)l=[{system:"greater_than",display:">"},{system:"less_than",display:"<"},{system:"greater_equal",display:">="},{system:"less_equal",display:"<="},{system:"equal",display:"="}];"count"!=a.api_name&&"percentage"!=a.api_name||(s=[{system:"greater_than",display:">"},{system:"less_than",display:"<"},{system:"greater_equal",display:">="},{system:"less_equal",display:"<="},{system:"equal",display:"="}])}if("tag"==a.field_data_type?s=this.defWithEmptyConditions:-1!=["ACTIVITYTYPE","LAYOUTID","PROCESSINGBASIS","SE_STATUS","WIZARDID"].indexOf(a.column_name)?s=this.defaultConditions:"STAGE"!=a.column_name&&"cxFilter_Deal_Stage"!=a.api_name||(s=this.stageConditions),(["date","datetime","date_time"].includes(a.field_data_type)||"cxFilter_Email_Sentiment"==a.api_name)&&("Without_Any_Activity"==a.api_name||"Without_Any_Notes"==a.api_name||"Attended"==a.api_name||"cxFilter_Email_Sentiment"==a.api_name?(s=this.getData("withOption"),e&&("cxFilter_Email_Sentiment"==a.api_name&&0==s.filter((function(e){return"${CURRENTTIME}"==e.system})).length?Lyte.arrayUtils(s,"push",{system:"${CURRENTTIME}",display:_cruxUtils.getI18n("condition.till.now")}):0==s.filter((function(e){return"${EMPTY}"==e.system})).length&&Lyte.arrayUtils(s,"push",{system:"${NOTEMPTY}",display:_cruxUtils.getI18n("crm.condition.till.today")}))):"Activity_Done"==a.api_name||"Notes_Added"==a.api_name||"Missed"==a.api_name?s=this.getData("withOption"):"With_Open_Deal"!=a.api_name&&"Without_Open_Deal"!=a.api_name||(s=[{system:"Age in Days",display:_cruxUtils.getI18n("crm.condition.in.last")},{system:"${THISWEEK}",display:_cruxUtils.getI18n("crm.thisweek")},{system:"${THISMONTH}",display:_cruxUtils.getI18n("crm.label.this.month")},{system:"${LASTWEEK}",display:_cruxUtils.getI18n("Last Week")},{system:"${LASTMONTH}",display:_cruxUtils.getI18n("Last Month")}],r=[{system:"${AGEINMONTHS}+1",display:_cruxUtils.getI18n("crm.recurring.no.months","1")},{system:"${AGEINMONTHS}+2",display:_cruxUtils.getI18n("crm.recurring.no.months","2")},{system:"${AGEINMONTHS}+3",display:_cruxUtils.getI18n("crm.recurring.no.months","3")},{system:"${AGEINMONTHS}+4",display:_cruxUtils.getI18n("crm.recurring.no.months","4")},{system:"${AGEINMONTHS}+5",display:_cruxUtils.getI18n("crm.recurring.no.months","5")},{system:"${AGEINMONTHS}+6",display:_cruxUtils.getI18n("crm.recurring.no.months","6")}],this.setData("dateoptions",e?r:[r[0]]))),53==a.ui_type&&(s=this.numberConditions.slice(0,6),this.setData("dateoptions",[{system:"HOURS",display:_cruxUtils.getI18n("hours")},{system:"DAYS",display:_cruxUtils.getI18n("days")},{system:"WEEKS",display:_cruxUtils.getI18n("weeks")},{system:"MONTHS",display:_cruxUtils.getI18n("months")},{system:"YEARS",display:_cruxUtils.getI18n("years")}])),132==a.ui_type){var h,x=a.multi_module_lookup.modules;r=[];for(const e of x)h=this.moduleRecordMapping[this.idModuleMapping[e.id]],r.push({system:h.id,display:h.plural_label});this.setData("dateoptions",e?r:[r[0]])}if(a.crypt){s=this.encryptNumberConditions;"number"==this.data.cruxElement1&&-1==["date","datetime","currency"].indexOf(this.data.field.field_data_type)||(this.setData({cruxElement1:!1,showSecondDropdownType:""}),s=this.defEmptyConditions)}a.cxFieldsDetails&&a.cxFieldsDetails[0]&&(i=a.cxFieldsDetails[0].cxOptions),"cxFilter_UnallocatedRecords"==a.api_name&&(this.setData("crossFields",a.crossFields),this.setData("firstDropdown",!1),s=[]),this.triggerConditionCallback(s,e,!1,{bydropdownOption:i}),e?this.setData({durationOpt:l,opt1:o}):this.setData({durationOpt:[l[0]],opt1:[o[0]]})}},showAlertMsg:function(e,t){var a=document.getElementById("cxFilterAlert");a&&($("crux-smart-filter")[0].setData("alertMsg",e),a.ltProp({top:"0px"}),a.ltProp("show",!0),a.setMethods({onClose:function(){t&&t.$node.querySelector("lyte-input")?t.$node.querySelector("lyte-input").focus():t&&t.$node.querySelector("lyte-number")&&t.$node.querySelector("lyte-number").focus()},onShow:function(){$L(".cxSmartFilterAlert lyte-button").focus()}}))},triggerConditionCallback:function(e,t,a=!1,i={}){var o,l,s=this.data.field,r={field:this.data.field,condition:e||[],type:this.cruxCondMapping[s.field_data_type],dateOption:this.data.dateoptions,comp:this};if(r.fieldOption=i.bydropdownOption?i.bydropdownOption:[],s.cxDynamicFilterCriteriaComponent&&this.cruxAssets.getDynamicFilterCriteriaCondtions&&(r.condition=e,(o=this.cruxAssets.getDynamicFilterCriteriaCondtions(s,e))&&o.constructor===Array?e=o:o&&o.constructor===Object&&(e=o.condition?o.condition:e,r.fieldOption=o.fieldOption?o.fieldOption:r.fieldOption,l=o.selected?o.selected:l)),this.cruxAssets.setFieldBasedFilterComparator&&(r.condition=e,(o=cruxAssets.setFieldBasedFilterComparator(r))&&o.constructor==Array?e=o:o&&o.constructor==Object&&(e=o.condition?o.condition:e,r.fieldOption=o.fieldOption?o.fieldOption:r.fieldOption,l=o.selected?o.selected:l)),this.getMethods("setConditions")&&(r.condition=e,(o=this.executeMethod("setConditions",r))&&o.constructor==Array?e=o:o&&o.constructor==Object&&(e=o.condition?o.condition:e,r.fieldOption=o.fieldOption?o.fieldOption:r.fieldOption,l=o.selected?o.selected:l,Lyte.objectUtils(this.data.selectedValues,"add","firstDropDownValue",l))),l=l||(e&&e[0]?e[0].system:""),t?this.setData({options:e,bydropdownOption:r.fieldOption}):this.setData({options:"Activity_Due"===s.api_name?[e[3]]:[e[0]],bydropdownOption:r.fieldOption}),l&&this.data.firstDropdown&&!a&&this.getValue(l,void 0,!0),this.setData("sentStatus",s.sent_status?s.sent_status:[]),e&&e.length){var n=e.filter((e=>e.cxDisabled)).map((e=>e.system));this.setData("optionsDisabledList",n)}if(s.cxForceSetCondition){var p=$L("#DDV_"+s.api_name)[0];p&&p.resetSelected()}},observesCriteria:function(){this.setCriteria()}.observes("cxPropCriteria"),setCriteria:function(){if(this.data.cxPropCriteria&&this.data.rendered){this.preventValChangeCallback=!0,this.data.cxPropIgnoreCallbackInSetCriteria||delete this.preventValChangeCallback;var e,t=this.getData("field"),a=this.$node,i=this.getData("selectedValues"),o=this.getData("cxPropCriteria");if(o.type=o.type?o.type:t.field_data_type,"dynamicFilter"!=o.type){var l=this.cruxAssets.fieldDataTypeToCruxCompMapping;(l=l||{})[t.field_data_type]&&(o.type=l[t.field_data_type]);var s=o.comparator,r=o.type?o.type:this.getData("field").field_data_type,n=o.value,p=this,d=this.moduleRecordMapping;if(this.data.userDetails.EMAIL_BOUNCE_MANAGEMENT&&o.value&&o.value.includes&&o.value.includes("${BLOCKED")&&"equal"===o.comparator){$L("#DDV_"+o.api_name)[0].ltProp("selected","${BLOCKED}");let e=$L("#option_"+o.api_name)[0].component;return e.methods.triggerGetDropDownVal(o.value,e),void this.setEmailBlockedCriteria(o.api_name,o.value)}if("cxFilter_Scoring_Rule"===o.api_name||"cxFilter_Series"===o.api_name){var c=!1;n=n.id?n.id:n,p.getData("field").pick_list_values.some((function(e){if(e.actual_value+""==n+"")return n=e.display_value,c=!0,!0})),(c||"cxFilter_Scoring_Rule"===o.api_name)&&$L("#"+p._cruxReplace(o.api_name,"[/.]","_")+"_crux_comp").e.component.set("cxPropValue",n)}var m,u="";if("cxFilter_Email_Sentiment"!=o.api_name&&(m=$L("#sub_field_"+o.subfield)),void 0===d||"crossfield"!=o.type||o.api_name!=d.Contacts.api_name){if("${EMPTY}"!=n&&("${BLOCKED}"!=n||-1===["EMAIL","ADDN_EMAIL"].indexOf(t.column_name)||t.custom_field)||"not_equal"!=s?n&&n.indexOf&&1!=n&&"-1"!=n.indexOf("AGEIN")?(w=!0,n=s="Age in Days",u=/\d+/i.exec(o.value)[0],e="-1"!=o.value.indexOf("DAYS")?"DAYS":"-1"!=o.value.indexOf("WEEKS")?"WEEKS":"-1"!=o.value.indexOf("MONTHS")?"MONTHS":"YEARS"):n&&n.indexOf&&1!=n&&"-1"!=n.indexOf("DUEIN")?(w=!0,n=s="Due in Days",u=n=/\d+/i.exec(o.value)[0],e="-1"!=o.value.indexOf("DAYS")?"DAYS":"-1"!=o.value.indexOf("WEEKS")?"WEEKS":"MONTHS"):n&&n.includes&&n.includes("${")&&this.checkIsValidComparator(n,s)?(s=n,n=""):"rfm"!==o.type&&"ABM_Techniques"!==o.type&&"ABM_Scores"!==o.type||(a=$L("#sub_option_"+o.subfield)[0],i=a.getData("selectedValues"),m[0].ltProp("checked",!0),r="integer"):(n="${EMPTY}"==n?"${NOTEMPTY}":"${NOTBLOCKED}",s="equal",o.origCriteria&&0==o.origCriteria.include_objects&&(n="${EMPTY}"),"cxFilter_Linked_Segment__s"===o.api_name&&(n="${EMPTY}"),"sub_option_Competitor_Name"===o.api_name&&Lyte.arrayUtils($L("#option_cxFilter_Competitor_Alert")[0].component.data.crossFields,"removeAt",1,2)),"crossfield"!=o.type&&"cxFilter_Email_Sentiment"!=o.api_name||"cxFilter_Campaigns"==o.api_name||"cxFilter_Scoring_Rule"===o.api_name||"cxFilter_Series"===o.api_name)if("custom"==o.type)if("cxFilter_RecordAction"!=o.api_name&&"cxFilter_RelatedRecordsAction"!=o.api_name||Lyte.objectUtils(i,"add","headDropDownValue",o.isModified),this.$node._callee.component.specialDateObject&&this.$node._callee.component.specialDateObject[o.api_name]&&u&&(s="${AGEINDAYS}+"+u,u="",delete this.$node._callee.component.specialDateObject[o.api_name]),"cxFilter_Email_Status"==o.api_name?(s=-1!=["not_opened","not_sent","not_received"].indexOf(o.status)&&"Age in Days"!=s&&"Due in Days"!=s?this.negative_Comparator(s):s,"sent"==o.status&&m[0].ltProp("checked",!0),Lyte.objectUtils(i,"add","byDropDownValue",o.status),a.component.showHideEmailStatus(o.status,o)):Lyte.objectUtils(i,"add","byDropDownValue",o.comparator),"between"==s&&(n[0]=/^(.*)T/.exec(n[0])[1]?/^(.*)T/.exec(n[0])[1]:n[0],n[1]=/^(.*)T/.exec(n[1])[1]?/^(.*)T/.exec(n[1])[1]:n[1],n[0]==n[1]&&(s="equal",n=n[0])),Lyte.objectUtils(i,"add","firstDropDownValue",s),a.component.getValue(s),w)Lyte.objectUtils(i,"add",{value1:u,secondDropDownValue:e});else{var _=n;"between"==s&&(_=n[0],Lyte.objectUtils(i,"add","value2",n[1])),Lyte.objectUtils(i,"add","value1",_)}else if("Competitor_Name"===t.api_name&&("${EMPTY}"===n||"${NOTEMPTY}"===n)||"Prediction"!==t.api_name&&"Similarity"!==t.api_name&&"equal"===s&&("${EMPTY}"===n||"${NOTEMPTY}"===n||-1!==["${BLOCKED}","${NOTBLOCKED}"].indexOf(n)&&-1!==["EMAIL","ADDN_EMAIL"].indexOf(t.column_name)&&!t.custom_field))-1==["${BLOCKED}","${NOTBLOCKED}"].indexOf(n)||-1===["EMAIL","ADDN_EMAIL"].indexOf(t.column_name)||t.custom_field||this.$node._callee.setData("cxPropBlockedReason",!0),o.subfield&&-1!=["Calls","Tasks","Events"].indexOf(o.subfield)&&($L("#sub_field_"+o.subfield+"_Tag")[0].ltProp("checked",!0),a=$L("#sub_option_"+o.subfield+"_Tag")[0],i=a.getData("selectedValues")),Lyte.objectUtils(i,"add","firstDropDownValue",n),a.component.getValue(n,void 0,!1);else if("between"!=s&&"not_between"!=s||"similarity"===r){if("Layout"===o.api_name||["number","textarea","multiselectpicklist","text","phone","layout","email","mobile","website","picklist","integer","longinteger","double","bigint","currency","num","boolean","tag","autonumber","decimal"].includes(r)||"lookup"==r&&!this.data.isChildFieldLookup){if(n.constructor==Array&&-1!=["autonumber","textarea","text","phone","email","mobile","website","lookup","multiselectpicklist"].indexOf(r)&&(n=n.join(",")),o.subfield&&-1!=["Calls","Tasks","Events"].indexOf(o.subfield)&&($L("#sub_field_"+o.subfield+"_Tag")[0].ltProp("checked",!0),a=$L("#sub_option_"+o.subfield+"_Tag")[0],i=a.getData("selectedValues")),132==t.ui_type){var y=t.multi_module_lookup.modules.filter((function(e){return e.api_name==o.multi_module_lookup}))[0];Lyte.objectUtils(i,"add","secondDropDownValue",y.id)}if(Lyte.objectUtils(i,"add","firstDropDownValue",s),a.component.getValue(s,void 0,!0),"layout"==r&&(n={layouts:n}),"tag"==r&&n.constructor==Object&&(n=[n]),"picklist"==r)if(n=n&&"string"==typeof n?n.split(","):n,this.data.field.cxGetActualValue&&(n=this.getDisplayValue(n,t,"display_value")),"Activity_Type"==o.api_name&&"Activities"==this.data.module){for(var f=n.length,h=[],x=0;x<f;x++){function D(e){return moduleApiMapping[e]===n[x]}h.push(d[Object.keys(moduleApiMapping).find(D)].plural_label)}n=h}else"Competitor_Sentiment"===o.api_name?n=n[0]:"cxFilter_UnallocatedRecords"===t.api_name&&p.getData("field").pick_list_values.some((function(e){if(e.actual_value+""==n[0]+"")return n=e.display_value,!0}));Lyte.objectUtils(i,"add",{value1:n});var g=$L("#"+this._cruxReplace(t.api_name,"[/.]","_")+"_picklist_tracker")[0];g&&(n&&n.length>10?(g.ltProp("disabled",!0),g.setAttribute("lt-prop-title",_cruxUtils.getI18n("crm.smartfilter.picklist.options.msg"))):g.ltProp("disabled",!1))}else if(53===t.ui_type&&!1!==t.cxGetValueInMS)if(a._callee.component.pf_timeToReach_value){var b=this.getDurationfromMilliSeconds(parseInt(n),a._callee.component.pf_timeToReach_value.secondDropDownValue);Lyte.objectUtils(i,"add",{firstDropDownValue:s,secondDropDownValue:a._callee.component.pf_timeToReach_value.secondDropDownValue,value1:b}),a._callee.component.pf_timeToReach_value=void 0}else{var v=this.getDurationfromMilliSeconds(parseInt(n));Lyte.objectUtils(i,"add",{firstDropDownValue:s,secondDropDownValue:v.durationType,value1:v.value})}else if(["date","datetime","date_time"].includes(r)){53===t.ui_type&&(s=o.comparator);let l={};n.includes("${")&&(l=this.getConditionOpt(n),e=l.secondDropDownOpt,s=l.system,u=l.value,w=!0),Lyte.objectUtils(i,"add","firstDropDownValue",s),a.component.getValue(s,void 0,!0);_e=$L("#"+this._cruxReplace(o.api_name,"[/.]","_")+"_crux_comp")[0];w?Lyte.objectUtils(i,"add",{value1:u,secondDropDownValue:e}):_e&&("datetime"==r&&(n=/^(.*)T/.exec(n)[1]),Lyte.objectUtils(i,"add",{value1:n}))}else if("ownerlookup"==r||"userlookup"==r||"multiuserlookup"==r)Lyte.objectUtils(i,"add","firstDropDownValue",s),a.component.getValue(s,void 0,!0),s.indexOf("_role")>-1||s.indexOf("_group")>-1?(n=Array.isArray(n)?n:[n],Lyte.objectUtils(i,"add","value1",n)):Lyte.objectUtils(i,"add","value1",{users:n});else if("multirelation"===r||"cxFilter_Linked_Segment__s"===o.api_name){a=$L("#option_"+this._cruxReplace(o.api_name,"[/.]","_"))[0].component;S=o.value,V=[],a.setData("lookupDisplayField","Segment_Name__s"),S.forEach((e=>{V.push(e.id)})),a.setData("renderItems",S),Lyte.objectUtils(i,"add","multiSelectFieldValue",JSON.stringify(V)),this.setServiceStatus(this.data.selectedValues.firstDropDownValue,this)}else if("multiselectlookup"==r||"cxFilter_Campaigns"==o.api_name||this.data.isChildFieldLookup)if(o.field&&445==o.field.ui_type){var S={ids:n.join(",")};$L("#"+this._cruxReplace(o.field.api_name,"[/.]","_")+"_crux_comp")[0].component.set("cxPropValue",S)}else{n.toString();var w=!0,C=this.getData("moduleDisplayField");if("cxFilter_Campaigns"!=o.api_name?(compNode=$L("#DDV_"+this._cruxReplace(o.api_name,"[/.]","_"))[0],compNode&&(compNode.ltProp("selected",s),a.component.getValue(s,void 0,!0)),w="${EMPTY}"!=s):a._callee.component.campaigns_sel_value&&(Lyte.objectUtils(i,"add",{firstDropDownValue:a._callee.component.campaigns_sel_value.firstDropDownValue,headDropDownValue:a._callee.component.campaigns_sel_value.headDropDownValue}),a._callee.component.campaigns_sel_value=void 0,this.methods.getDropDownVal("",i.firstDropDownValue,"","",this)),w){var L=(S=o.value.constructor==Array?o.value:[o.value]).length,F=0,V=[],O=(a=$L("#option_"+this._cruxReplace(o.api_name,"[/.]","_"))[0]?$L("#option_"+this._cruxReplace(o.api_name,"[/.]","_"))[0].component:this,"Name");if(O=this.data.isChildFieldLookup?C[this.idModuleMapping[this.data.field.lookup.module.id]]?C[this.idModuleMapping[this.data.field.lookup.module.id]][0]:"Name":"cxFilter_Campaigns"==o.api_name?"Campaign_Name":C[this.idModuleMapping[o.field.multiselectlookup.connected_module.id]]?C[this.idModuleMapping[o.field.multiselectlookup.connected_module.id]][0]:"Name",a.setData("lookupDisplayField",O),this.data.supportRelatedModules&&"cxFilter_Campaigns"===o.api_name||this.data.isChildFieldLookup&&!S[0].name&&!S[0][O]){var E="cxFilter_Campaigns"===o.api_name?"Campaigns":this.data.field.lookup.module.api_name,k=(this.data.field.api_name,"/crm/v2/"+E+"/search?"),T=S.length,U="";for(F=0;F<T;F++)U+="(Id:equals:"+S[F].id+")",F<T-1&&(U+="or");k=k+"criteria="+encodeURIComponent(U),this.sendxhr(k,"GET").then((function(e){if(""!=e.response&&0!=(e=JSON.parse(e.response).data).length){for(var t=e.length,o=[],l=0;l<t;l++){var s=e[l];o.push({id:s.id,name:s[O],[O]:s[O]})}a.setData("renderItems",o),Lyte.objectUtils(i,"add","multiSelectFieldValue",JSON.stringify(S))}}),(function(e){}))}else{for(;F<L;F++)S[F][O]=S[F][O]?S[F][O]:S[F].name,V.push(S[F].id);a.setData("renderItems",S),Lyte.objectUtils(i,"add","multiSelectFieldValue",JSON.stringify(V))}a.setData("memberStatus",!0),o.Member_Status&&"cxFilter_Campaigns"===o.api_name&&(o.Member_Status="string"==typeof o.Member_Status?[o.Member_Status]:o.Member_Status,Lyte.objectUtils(i,"add",{value2:o.Member_Status})),"cxFilter_Campaigns"===t.api_name&&this.setServiceStatus(this.data.selectedValues.firstDropDownValue,this),o.Service_Status&&"cxFilter_Campaigns"===o.api_name&&(o.Service_Status="string"==typeof o.Service_Status?[o.Service_Status]:o.Service_Status,Lyte.objectUtils(i,"add",{Service_Status:o.Service_Status}))}}else if("Prediction"===t.api_name||"Prediction"===o.type){y=d[a.getData("module")];var I=$L("#sub_option_Prediction_0")[0],A=$L("#sub_option_Prediction_1")[0],M=$L("#sub_option_completed_prediction")[0],N=$L("#sub_field_Prediction_0")[0],R=$L("#sub_field_Prediction_1")[0],q=$L("#sub_field_completed_prediction")[0],P=y.prediction_details;for(L=a.getData("configLength"),F=0;F<L+1;F++)if(2===L&&2===F||1===L&&1===F){if(o.criteria.field.api_name.toUpperCase().endsWith("ACCURACY")||o.criteria.field.api_name.toUpperCase().endsWith("ISEND")&&!o.criteria.from){var j;if("undefined"===a.getData("isSuccess")&&q.ltProp("checked",!0),o.criteria.field.api_name.toUpperCase().endsWith("ACCURACY"))"greater_than"===o.criteria.comparator?j=$L("#sub_field_"+a.getData("successFailureOption")[0].system)[0]:"less_equal"===o.criteria.comparator&&(j=$L("#sub_field_"+a.getData("successFailureOption")[1].system)[0]),j.ltProp("checked",!0);var B=y.prediction_details[0].insights_details.accuracy_field.id,H=y.prediction_details[0].insights_details.isEnded_field.id;o.criteria.field.api_name.toUpperCase().endsWith("ACCURACY")?(M.setData("sfAccuracyCount",this.getData("sfAccuracyCount")+1),this.setData("sfAccuracyCount",this.getData("sfAccuracyCount")+1)):(M.setData("sfEndCount",this.getData("sfEndCount")+1),this.setData("sfEndCount",this.getData("sfEndCount")+1));var Y=a.getData("sfAccuracyCount")>1&&a.getData("sfEndCount")>1?"both":B===o.criteria.field.id||H===o.criteria.field.id?y.prediction_details[0].id:y.prediction_details[1].insights_details.accuracy_field.id!==o.criteria.field.id&&y.prediction_details[1].insights_details.isEnded_field.id!==o.criteria.field.id||2!==L?void 0:y.prediction_details[1].id;this.setData("selectedOptionSf",Y),M.setData("selectedOptionSf",Y);break}}else{var W=0===F?I:A,z=0===F?N:R;if(o.criteria.field.api_name===P[F].insights_details.trend_field.api_name){z.ltProp("checked",!0);var G="-1"===o.criteria.value?"trend_down":"1"===o.criteria.value?"trend_up":"no_trend";W.getData("isTrendShown")&&(W.setData("isTrendSelected",!0),this.$node.setData("isTrendSelected",!0)),this.setData("selectedTrend",G),W.setData("selectedTrend",G);break}if(o.criteria.field.api_name.toUpperCase().endsWith("PREDICTION")&&P[F].prediction_field.api_name===o.criteria.field.api_name){var K=this.getData("predictionCriteria"),X=o.criteria;if(z.ltProp("checked")||z.ltProp("checked",!0),X.value[0]&&X.value[0].startsWith("$"))if(X.value.startsWith("${AGEIN")||X.value.startsWith("${DUEIN")){K.comparator=X.value.startsWith("${AGEIN")?"Age in Days":"Due in Days";var J=X.value.startsWith("${AGEINDAYS}")||X.value.startsWith("${DUEINDAYS}")?"DAYS":X.value.startsWith("${AGEINWEEKS}")||X.value.startsWith("${DUEINWEEKS}")?"WEEKS":"MONTHS",Z=X.value.match(/(\d+)/)[0];Lyte.objectUtils(W.getData("selectedValues"),"add","dateVal",Z),Lyte.objectUtils(W.getData("selectedValues"),"add","secondDropDownValue",J),W.setData("showSecondDropdownType","date")}else K.comparator=X.value,W.setData("criteriaDisplay",!1),this.setData("criteriaDisplay",!1);else K.comparator=X.comparator,W.setData("criteriaDisplay",!0),this.setData("criteriaDisplay",!0);Lyte.objectUtils(this.getData("selectedValues"),"add","firstDropDownValue",K.comparator),Lyte.objectUtils(W.getData("selectedValues"),"add","firstDropDownValue",K.comparator),"between"===K.comparator||"not_between"===K.comparator?("date"!==W.getData("predictionEle")&&"date"!==a.getData("predictionEle")||(K.value=[],K.value[0]=/^(.*)T/.exec(X.value[0])?/^(.*)T/.exec(X.value[0])[1]:X.value[0],K.value[1]=/^(.*)T/.exec(X.value[1])?/^(.*)T/.exec(X.value[1])[1]:X.value[1],Lyte.objectUtils(W.getData("selectedValues"),"add",{value1:void 0,value2:void 0}),W.setData({showSecondDropdownType:"between",numberDropClass:"w100",predictionEle:"date"})),W.setData("isCriteriaBetween",!0),this.setData("isCriteriaBetween",!0)):("date"===W.getData("predictionEle")&&("equal"===K.comparator||"less_than"===K.comparator||"greater_than"===K.comparator?W.setData({value:"",predictionEle:"date",numberDropClass:"w100",showSecondDropdownType:""}):"${LASTMONTH}"!==K.comparator&&"${LASTWEEK}"!==K.comparator&&"${THISWEEK}"!==K.comparator&&"${THISYEAR}"!==K.comparator&&"${THISMONTH}"!==K.comparator&&"${TODAY}"!==K.comparator&&"${YESTERDAY}"!==K.comparator&&"${EMPTY}"!==K.comparator&&"${NOTEMPTY}"!==K.comparator||W.setData({showSecondDropdownType:"",predictionEle:""})),"${EMPTY}"!==K.comparator||P[F].score_field||(W.setData("isTrendShown",!1),this.$node.setData("isTrendShown",!1)),W.setData("isCriteriaBetween",!1),this.setData("isCriteriaBetween",!1)),this.getData("criteriaDisplay")&&(K.value=X.value,W.getData("isCriteriaBetween")?(Lyte.objectUtils(W.getData("selectedValues"),"add","criteriaValue0",K.value[0]),Lyte.objectUtils(W.getData("selectedValues"),"add","criteriaValue1",K.value[1])):K.value.toString().indexOf("$")<0&&Lyte.objectUtils(W.getData("selectedValues"),"add","criteriaValue",K.value))}if(o.criteria.field.api_name.toUpperCase().endsWith("PREDICTION_SCORE")||o.criteria1&&P[F].score_field&&(P[F].score_field.api_name===o.criteria.field.api_name||P[F].score_field.api_name===o.criteria1.field.api_name)){this.setData("isScoreSelected",!0),W.setData("isScoreSelected",!0);var Q=this.getData("scoreCriteria");(X=void 0===o.criteria1?o.criteria:o.criteria1).value[0].startsWith("$")?(Q.comparator=X.value,P[F].score_field,W.setData("scoreCriteriaDisplay",!1),this.setData("scoreCriteriaDisplay",!1)):(Q.comparator=X.comparator,W.setData("scoreCriteriaDisplay",!0),this.setData("scoreCriteriaDisplay",!0)),Lyte.objectUtils(this.getData("selectedValues"),"add","scoreComparator",Q.comparator),Lyte.objectUtils(W.getData("selectedValues"),"add","scoreComparator",Q.comparator),"between"===X.comparator||"not_between"===X.comparator?(W.setData("isScoreBetween",!0),this.setData("isScoreBetween",!0)):(W.setData("isScoreBetween",!1),this.setData("isScoreBetween",!1)),W.getData("scoreCriteriaDisplay")&&(Q.value=X.value,W.getData("isScoreBetween")?(Lyte.objectUtils(W.getData("selectedValues"),"add","scoreValue0",Q.value[0]),Lyte.objectUtils(W.getData("selectedValues"),"add","scoreValue1",Q.value[1])):Lyte.objectUtils(W.getData("selectedValues"),"add","scoreValue",Q.value));break}}}else if("best_time"===t.api_name){var ee=$L("#by_best_time")[0];"-1"===o.value?ee.component.setData("ltPropSelected","${TODAY}"):ee.component.setData("ltPropSelected","${TOMORROW}")}else if("next_best_experience"===t.api_name)if("Available"===o.comparator){$L("#sub_field_NBX_Available")[0].setData("ltPropChecked",!0);var te=$L("#sub_option_NBX_Available")[0],ae=$L("#NBX_ACTIVITY_OPTION")[0],ie={Calls:_cruxUtils.getI18n("Call"),Emails:_cruxUtils.getI18n("crm.field.label.email"),Events:_cruxUtils.getI18n("Meeting")},oe=[];if("string"==typeof o.val1)oe.push(ie[o.val1]);else for(var le=o.val1.length,se=0;se<le;se++)oe.push(ie[o.val1[se]]);ae.component.set("cxPropValue",oe),Lyte.objectUtils(te.getData("selectedValues"),"add","firstDropDownValue",o.val2)}else{$("#sub_field_NBX_NotAvailable")[0].setData("ltPropChecked",!0)}else if("Similarity"===t.api_name){if("NotAvailable"===o.comparator)$("#sub_field_SimilarityNotAvailable")[0].setData("ltPropChecked",!0);else if($("#sub_field_SimilarityAvailable")[0].setData("ltPropChecked",!0),"Score"===o.field){$("#sub_field_SimilarityScore")[0].setData("ltPropChecked",!0);var re=$("#sub_option_SimilarityScore")[0].component;if("${NOTEMPTY}"===o.value||"${EMPTY}"===o.value)re.setData("selectedValues.firstDropDownValue",o.value),re.setData({cruxElement1:""});else{re.setData("selectedValues.firstDropDownValue",o.comparator);if(["between","not_between"].contains(o.comparator))re.getValue(o.comparator,!0,!0),$("#SimilarityScore_crux_comp")[0].component.setData("cxPropValue",o.value[0]),$("#between_SimilarityScore_crux_comp")[0].component.setData("cxPropValue",o.value[1]);else $("#SimilarityScore_crux_comp")[0].component.setData("cxPropValue",o.value)}}else if("Records"===o.field){$("#sub_field_SimilarityRecords")[0].setData("ltPropChecked",!0);var ne=$("#sub_option_SimilarityRecords")[0].component,pe=(L=(S=o.value).length,F=0,V=[],(y=d[a.getData("module")]).display_field.api_name);for(ne.setData("lookupDisplayField",pe);F<L;F++)S[F][pe]=S[F].name,V.push(S[F].id);ne.setData("renderItems",S);i=ne.getData("selectedValues");Lyte.objectUtils(i,"add","multiSelectFieldValue",JSON.stringify(V))}}else if("Recommendation"===t.api_name){y=d[a.getData("module")];Lyte.objectUtils(i,"add","headDropDownValue","all"===o.comparator?"all":"selected");var de=a.getData("recommendationBasedOn");if(Lyte.objectUtils(de,"add","first_buy",de.first_buy||"FirstTime"===o.field),Lyte.objectUtils(de,"add","cross_selling",de.cross_selling||"Dependent"===o.field),Lyte.objectUtils(de,"add","bundle",de.bundle||"Bundle"===o.field),Lyte.objectUtils(de,"add","re_buy",de.re_buy||"Repeat"===o.field),Lyte.objectUtils(de,"add","next_buy",de.next_buy||"Sequence"===o.field),"selected"===o.comparator){L=(S=o.value).length,F=0,V=[],O=y.recommendationsDetailsJson.what_to.display_field;for(a.setData("lookupDisplayField",O);F<L;F++)S[F][O]=S[F].name,V.push(S[F].id);a.setData("renderItems2",S),Lyte.objectUtils(i,"add","multiSelectFieldValue1",JSON.stringify(V))}if("Repeat"===o.field){var ce=o.value1;if(ce)0!==a.getData("options").filter((function(e){return e.system===ce})).length?Lyte.objectUtils(i,"add","firstDropDownValue",ce):(Lyte.objectUtils(i,"add","firstDropDownValue","CUSTOM"),Lyte.objectUtils(i,"add","headDateValue",ce[0]));else Lyte.objectUtils(i,"add","firstDropDownValue","all")}}}else"datetime"==r&&(n[0]=/^(.*)T/.exec(n[0])[1],n[1]=/^(.*)T/.exec(n[1])[1]),"between"==s&&n[0]==n[1]&&(s="equal",n[1]=""),Lyte.objectUtils(i,"add","firstDropDownValue",s),a.component.getValue(s),Lyte.objectUtils(i,"add",{value1:n[0],value2:n[1]});else{if("cxFilter_Email_Sentiment"==o.api_name){if(Lyte.objectUtils(i,"add","byDropDownValue",o.status),a.component.showHideEmailStatus(o.status,o),"Last_Email_Sentiment"==o.subfield)ue=$L("#sub_field_For_The_Last_Email")[0].ltProp("checked",!0);else{var me=/.*?{(.*)}.*?/.exec(o.subfield)?/.*?{(.*)}.*?/.exec(o.subfield)[1].split("|"):[];if(me[1]&&0!=me[1])me[0]=me[0].toLowerCase(),(ue=$L("#sub_field_"+me[0])[0]).ltProp("checked",!0),i=$L("#sub_option_"+me[0])[0].component.data.selectedValues,Lyte.objectUtils(i,"add",{firstDropDownValue:o.subfieldComp,value1:me[1]})}i=this.data.selectedValues,o.subfield=o.api_name,ue=a}else{var ue;if((ue=$L("#sub_option_"+o.subfield)[0])&&(ue.component.hideSubfieldOption(),i=ue.component.data.selectedValues),m[0].ltProp("checked",!0),"cxFilter_Contacts"==o.api_name||"Without_Open_Activity"==o.subfield||"Without_Any_Deal"==o.subfield||"Locked_False"==o.subfield||"Locked_True"==o.subfield)return}!n||-1==n.indexOf("${")||"equal"!=s&&"not_equal"!=s||(s=n),"between"!==s&&"not_between"!==s||(n[0]=/^(.*)T/.exec(n[0])&&/^(.*)T/.exec(n[0])[1]?/^(.*)T/.exec(n[0])[1]:n[0],n[1]=/^(.*)T/.exec(n[1])&&/^(.*)T/.exec(n[1])[1]?/^(.*)T/.exec(n[1])[1]:n[1],n[0]==n[1]&&(s="equal",n=n[0])),Lyte.objectUtils(i,"add","firstDropDownValue",s),ue.component.getValue(s);var _e=$L("#"+o.subfield+"_crux_comp")[0];"between"===s||"not_between"===s?Lyte.objectUtils(i,"add",{value1:n[0],value2:n[1]}):w&&"cxFilter_Deals"!=o.api_name?Lyte.objectUtils(i,"add",{value1:u,secondDropDownValue:e}):"cxFilter_Deals"==o.api_name&&w?Lyte.objectUtils(i,"add",{secondDropDownValue:o.value}):_e&&Lyte.objectUtils(i,"add",{value1:n})}if(o.subfield&&o.subfieldComp&&o.subfieldValue){let e={api_name:o.subfield,comparator:o.subfieldComp,value:o.subfieldValue,type:o.type};"cxFilter_Scoring_Rule"!==o.api_name&&"cxFilter_Series"!==o.api_name||delete e.type,$L("#sub_field_"+e.api_name)[0].ltProp("checked",!0);let t=$L("#sub_option_"+e.api_name);t[0]&&t[0].setData("cxPropCriteria",e)}delete this.preventValChangeCallback}else m[0]&&m[0].ltProp("checked",!0)}}},checkIsValidComparator:function(e,t){if(!t)return!1;if("${NOTEMPTY}"==e||"${EMPTY}"==e)return!1;if(-1!=["${BLOCKED}","${NOTBLOCKED}"].indexOf(e)&&-1!==["EMAIL","ADDN_EMAIL"].indexOf(this.data.field.column_name)&&!this.data.field.custom_field)return!1;return(this.data.options?this.data.options:[]).filter((t=>t.system==e))[0]},didConnect:function(){var e=this.getData("field");if(["Activity_Due","With_Open_Deal","Without_Any_Notes","Attended","Events_Tag","Positive_Score","Prediction_0","Prediction_1","completed_prediction","NBX_Available","Start_Date__s","Competitor_Duration","Competitor_Sentiment","Competitor_Name"].indexOf(e.api_name)>=0){var t=$L("#sub_option_"+this._cruxReplace(e.api_name,"[/.]","_"));t[0]&&(t[0].component.render(t[0]._callee._callee.component),t.addClass("cvSubOption"))}this.setCriteria()},keyDownEvent:function(){this.$node.cxProp("aria")&&this.bindEventForAriaFilterInput()}.observes("rendered","cxPropAria"),setDropdownMixin:function(){var e=this.$node.querySelectorAll("lyte-dropdown:not(crux-dropdown lyte-dropdown)");if(this.$node.cxProp("aria"))for(var t=0;t<e.length;t++)e[t].bindFunc||(e[t].bindFunc=Lyte.registeredMixins["crux-aria-dropdown-mixin"].bindEventForAria.bind(e[t].component),e[t].bindFunc())}.observes("boundary"),getFieldCriteria:function(e=this){this.handleFieldDisplayForCrossFilter(),e.specialDateObject=e.specialDateObject?e.specialDateObject:{};var t,a,i,o,l=this.data.field,s=l.api_name,r=this.getData("moduleDisplayField"),n=this.moduleRecordMapping,p=this.idModuleMapping,d=this.data.module,c="",m=this.getData("cxPropCommonInfo"),u=m&&m.abmModuleInfo?m.abmModuleInfo.techniqueFields:[],_=m&&m.abmModuleInfo?m.abmModuleInfo.scoreFields:[],y=m&&m.abmModuleInfo?m.abmModuleInfo.abmAccountFields:[];if(l.Activity_tag){var f=$L("."+this._cruxReplace(l.api_name,"[/.]","_")+"_selectedRadioBtn")[0].ltProp("value");subfield=this.$node.querySelector("#sub_option_"+f),s=(l=subfield.getData("field")).api_name}if("cxFilter_Scoring_Rule"===l.api_name){if(!(g=$("#"+l.api_name+"_crux_comp")[0].component).validate())return{isValdationFailure:!0};if(t={comparator:"equal",field:{api_name:"Scoring_Rule",id:""},value:g.getValue("actual_value")},!(D=$L("."+l.api_name+"_selectedRadioBtn")[0]))return{isValdationFailure:!0};s=(l=$L("#"+D.id.replace("_field_","_option_")).e.component.data.field).api_name}var h,x=l.api_name;if("cxFilter_Series"===l.api_name){if(!(g=$("#"+l.api_name+"_crux_comp")[0].component).validate())return flag=!1,{isValdationFailure:!0};if(!(D=$L("."+l.api_name+"_selectedRadioBtn")[0]))return flag=!1,{isValdationFailure:!0};i={comparator:"equal",field:{api_name:"Cadencesid__s",id:""},value:g.getValue("actual_value")};var D=$L("."+l.api_name+"_selectedRadioBtn")[0];h="series",s=(l=$L("#"+D.id.replace("_field_","_option_")).e.component.data.field).api_name}if("cxFilter_UnallocatedRecords"===l.api_name){var g;if(!(g=$("#"+l.api_name+"_crux_comp")[0].component).validate())return flag=!1,{isValdationFailure:!0};var b={comparator:"equal",field:{api_name:"Threshold__s",id:""},value:g.getValue("actual_value")},v=this.construct_group(b,{comparator:"equal",field:{api_name:"Allocation_Type__s",id:""},value:"2"},"AND");return(C={include_objects:!0,relation:{relation_id:"",api_name:n.Thresholds.api_name},criteria:w}).criteria=v,{type:"cross_filter",cross_filter:C}}-1==["cxFilter_Activities","cxFilter_Notes","cxFilter_Deals","cxFilter_Contacts","cxFilter_Chats","cxFilter_Email_Sentiment","cxFilter_Locked"].indexOf(l.api_name)||"crossfield"!=l.field_data_type&&"custom"!=l.field_data_type||(c=(T=$L("."+this._cruxReplace(l.api_name,"[/.]","_")+"_selectedRadioBtn")[0])?T.ltProp("value"):"");if(-1==["Without_Open_Activity","Without_Any_Deal","With_Contact","Without_Any_Contact"].indexOf(c)){k="#DDV_"+("cxFilter_Activities"==s||"cxFilter_Notes"==s||"cxFilter_Deals"==s||"cxFilter_Locked"==s||"cxFilter_Chats"==s?c:this._cruxReplace(s,"[/.]","_"));var S=this.$node.querySelector(k);o=S?S.ltProp("selected"):"equal"}if(k="#"+("cxFilter_Activities"==s||"cxFilter_Notes"==s||"cxFilter_Deals"==s||"cxFilter_Chats"==s||"cxFilter_Locked"==s?c:this._cruxReplace(s,"[/.]","_"))+"_crux_comp",crux_comp=this.$node.querySelector(k),"dynamicFilter"===l.field_data_type)return crux_comp.component.getFieldCriteria();if(("cxFilter_Email_Status"!==l.api_name||"custom"!==l.data_type)&&-1!==["${OPEN}","${CLOSEDWON}","${CLOSEDLOST}","${EMPTY}","${BLOCKED}","${NOTBLOCKED}","${NOTEMPTY}"].indexOf(o)&&"multiselectlookup"!==l.field_data_type&&"multirelation"!==l.field_data_type&&"multiuserlookup"!==l.field_data_type&&-1===["Without_Any_Activity","Without_Any_Notes","Attended"].indexOf(c)){X="${NOTBLOCKED}"==o?"${BLOCKED}":o,o="${NOTBLOCKED}"==o?"not_equal":"equal","lookup"==l.api_name&&(s=s+"."+r[l.lookup.module.api_name][0]);_=m&&m.abmModuleInfo?m.abmModuleInfo.scoreFields:[];if("${BLOCKED}"===X&&"equal"===o&&this.getData("blockedCriteria")[l.api_name].length<=0){let e="Email"===s?$L("input[name=option_"+s+"]:checked").val().split("_")[2]:$L("input[name=option_"+s+"]:checked").val().split("_")[3],t="Email"===s?"EMAIL":"ADDN_EMAIL";if(e&&"both"!==e){let a=$L("#sub_option_cxFilter_"+t+"_"+e)[0].component.data.selectedValues,i=a.byDropDownValue,l=a.firstDropDownValue,s=a.secondDropDownValue;if(l.includes("Age in")||l.includes("Due in")){l=l.replace("Days",s);let a=$L("#id_cxFilter_"+t+"_"+e)[0].ltProp("value");if(!a)return this.showFilterAlert("Enter a valid number",$L("#id_cxFilter_"+t+"_"+e)[0].component),{isValdationFailure:!0};l=l.replaceAll(" ",""),l=l.toUpperCase(),l="less_than {"+l+"}+"+a}else if("less_than"===l||"greater_than"===l){let a=$L("#cxFilter_"+t+"_"+e+"_crux_comp")[0].component.getValue();if(!a)return this.showFilterAlert("Enter a valid date",$L("#cxFilter_"+t+"_"+e+"_crux_comp")[0].component),{isValdationFailure:!0};a=this.getISODateTime(a,this.datePattern),l=l.toUpperCase(),l=l+" "+a}else if("equal"===l){let a=$L("#cxFilter_"+t+"_"+e+"_crux_comp")[0].component.getValue();if(!a)return this.showFilterAlert("Enter a valid date",$L("#cxFilter_"+t+"_"+e+"_crux_comp")[0].component),{isValdationFailure:!0};let i=this.getISODateTime(a,this.datePattern),o=this.getISODateTime(a,this.datePattern,"end");l="between",l=l+" "+i+" "+o}else if("between"===l){let a=$L("#cxFilter_"+t+"_"+e+"_crux_comp")[0].component.getValue();if(!a)return this.showFilterAlert("Enter a valid date",$L("#cxFilter_"+t+"_"+e+"_crux_comp")[0].component),{isValdationFailure:!0};a=this.getISODateTime(a,this.datePattern);let i=$L("#between_cxFilter_"+t+"_"+e+"_crux_comp")[0].component.getValue();if(!i)return this.showFilterAlert("Enter a valid date",$L("#between_cxFilter_"+t+"_"+e+"_crux_comp")[0].component),{isValdationFailure:!0};i=this.getISODateTime(i,this.datePattern,"end"),l=l+" "+a+" "+i}else l=o+" "+l;X="${BLOCKED_"+i.toUpperCase()+"} "+l}else X="${BLOCKED}"}else X&&X.includes("${BLOCKED")&&"equal"===o&&this.getData("blockedCriteria")[l.api_name].length>0&&this.setEmailBlockedCriteria(l.api_name);if(!("Visited_Time"!=l.api_name&&"Time_Spent"!=l.api_name&&"Attended_By"!=l.api_name&&"Portal_Name"!=l.api_name&&"Browser"!=l.api_name&&"Search_Engine"!=l.api_name&&"Operating_System"!=l.api_name||"Leads"!=d&&"Contacts"!=d))return{type:"cross_filter",cross_filter:C={include_objects:!0,relation:{relation_id:n.Visits.id,api_name:"Visits_Zoho_Livedesk"},criteria:{comparator:o,field:{api_name:s,id:l.id},value:X}}};if("cxFilter_Deal_Closing_Date"==l.api_name||"cxFilter_Deal_Amount"==l.api_name||"cxFilter_Deal_Stage"==l.api_name)return{type:"cross_filter",cross_filter:C={include_objects:!0,relation:{relation_id:n.Potentials.id,api_name:n.Potentials.api_name},criteria:{comparator:o,field:{api_name:l.name,id:l.id},value:X}}};if(u.includes(l.api_name.replace("cxFilter_","")))return({cross_filter:C,relation_api_name:ne}=this.getABMCriteria(l.api_name.replace("cxFilter_",""),o,X)),isAbmFieldUsed=!0,{type:"cross_filter",cross_filter:C};if(_.includes(l.api_name.replace("cxFilter_","")))return({cross_filter:C,relation_api_name:ne}=this.getABMCriteria(l.api_name.replace("cxFilter_",""),o,X)),isAbmFieldUsed=!0,{type:"cross_filter",cross_filter:C};if("cxFilter_Record_status"===l.api_name)return{type:"cross_filter",cross_filter:C={include_objects:!0,relation:{api_name:"Review_Processes"},criteria:{comparator:o,field:{api_name:"Record_status"},value:X}}};-1!=["Events_Tag","Calls_Tag","Tasks_Tag"].indexOf(s)&&(s="Tag",a=!0);var w={comparator:o,field:{api_name:s,id:l.id},value:X};if(h){var C=this.groupSeriesCriteria(i,w);return w="",h=void 0,i=void 0,{type:"cross_filter",cross_filter:C}}if(a){var L={comparator:"equal",field:{api_name:"Activity_Type"},value:{Events_Tag:"Events",Calls_Tag:"Calls",Tasks_Tag:"Tasks"}[l.api_name]};w=this.construct_group(w,L,"AND")}if(t){C=this.groupScoreCriteria(t,w);return t=void 0,{type:"cross_filter",cross_filter:C}}return"cxFilter_Not_Replied_Messages"==l.api_name||"cxFilter_Replied_Messages"==l.api_name?{type:"custom_filter",custom_filter:this.specialfield(l,E,X,o,V)}:!this.data.supportRelatedModules||133!==l.ui_type||"lookup"!=l.field_data_type||"Activities"==this.data.cxPropModule&&-1!=["CONTACTID","SEID"].indexOf(l.column_name)?w:{comparator:o,field:{api_name:s+"."+((re=p[l.lookup.module.id])&&r[re]&&r[re].length?r[p[l.lookup.module.id]][0]:"Name")},value:X}}if("between"!=o&&"not_between"!=o||"custom"==l.field_data_type||"crossfield"==l.field_data_type){if("cxFilter_Locked"===l.api_name){var F=!1;return"Locked_True"===c&&(F=!0),{comparator:o="equal",field:{api_name:"Locked__s"},value:F}}if("custom"==l.field_data_type||"crossfield"==l.field_data_type){var V,O=o;if(E=o,-1==["cxFilter_Activities","cxFilter_Notes","cxFilter_Deals","cxFilter_Contacts","cxFilter_Chats","cxFilter_Campaigns","cxFilter_Locked"].indexOf(l.api_name)){k="#by_"+this._cruxReplace(s,"[/.]","_");var E=this.$node.querySelector(k).ltProp("selected")}if(""!=c&&"Overdue"!=c&&"cxFilter_Email_Sentiment"!=l.api_name&&(E=c,O=null),"cxFilter_RecordAction"==l.api_name||"cxFilter_RelatedRecordsAction"==l.api_name){var k="#record_"+l.api_name;V=this.$node.querySelector(k).ltProp("selected")}if("cxFilter_Email_Status"==l.api_name&&"sent"==E){var T;if(!(T=$L("."+l.api_name+"_selectedRadioBtn")[0]))return flag=!1,{isValdationFailure:!0};V=T.ltProp("value")}if("cxFilter_Email_Sentiment"==l.api_name&&("percentage"==(V=c||"")||"count"==V)&&!this.$node.querySelector("#"+V+"_crux_comp").component.validate())return flag=!1,{isValdationFailure:!0};if("Age in Days"==o){if(k="#second_"+("cxFilter_Activities"==s||"cxFilter_Notes"==s||"cxFilter_Deals"==s||"cxFilter_Chats"==s?c:this._cruxReplace(s,"[/.]","_"))+"_dropdown",value1=this.$node.querySelector(k).ltProp("selected"),O=value1,"cxFilter_Deals"!=s){if(!crux_comp.component.validate())return flag=!1,{isValdationFailure:!0};X=crux_comp.component.getValue(),O="${AGEIN"+value1+"}+"+X}o="less_equal"}else if("cxFilter_Campaigns"!=l.api_name)if(O=o,"${UNTILNOW}"==o||"${CURRENTTIME}"==o)o="less_equal";else if("${AGEINDAYS}+30"==o||"${AGEINDAYS}+60"==o||"${AGEINDAYS}+90"==o)e.specialDateObject[s]={value:o},o="less_equal";else if("${DUEINDAYS}+7"==o)o="less_equal";else if(!crux_comp||"Without_Any_Activity"!=c&&"Activity_Done"!=c&&"cxFilter_Email_Status"!=l.api_name&&"cxFilter_Notes"!=l.api_name&&"cxFilter_Chats"!=l.api_name&&"cxFilter_Email_Sentiment"!=l.api_name||-1!=["${TODAY}","${YESTERDAY}","${THISWEEK}","${THISMONTH}","${THISYEAR}","${LASTWEEK}","${LASTMONTH}","${UNTILNOW}","${TODAYANDOVERDUE}","${EMPTY}"].indexOf(o))o="equal";else{if(!crux_comp.component.validate())return flag=!1,{isValdationFailure:!0};if(O=crux_comp.component.getValue(),"equal"==o)o="between",O=[this.getISODateTime(O,this.datePattern),this.getISODateTime(O,this.datePattern,"end")];else if("between"==o){pe="#between_"+(c&&"cxFilter_Email_Sentiment"!=s?c:this._cruxReplace(s,"[/.]","_"))+"_crux_comp",de=this.$node.querySelector(pe);if(value1=de.component.getValue(),!de.component.validate())return flag=!1,{isValdationFailure:!0};if(O=this.getISODateTime(O,this.datePattern),value1=this.getISODateTime(value1,this.datePattern,"end"),O>value1)return this.showFilterAlert(_cruxUtils.getI18n("crm.custom.field.less.than.equalto","'"+_cruxUtils.getI18n("workflow.option.webhookFailure.fromDate")+"'","'"+_cruxUtils.getI18n("workflow.option.webhookFailure.toDate")+"'"),crux_comp),flag=!1,{isValdationFailure:!0};O=[O,value1]}else O="greater_than"==o?this.getISODateTime(O,this.datePattern,"end"):this.getISODateTime(O,this.datePattern)}if("custom"==l.field_data_type)return{type:"custom_filter",custom_filter:this.specialfield(l,E,O,o,V)};if("cxFilter_Campaigns"==l.api_name){var U=(R=this.$node).getData("renderItems");if(this.campaigns_sel_value=R.getData("selectedValues"),!(X=this.getValueBasedonKeys(U,R.getData().lookupDisplayField)).length)return this.showFilterAlert(_cruxUtils.getI18n("crm.field.valid.check",$("#option_"+l.api_name)[0].getData().placeholderValue[0]),this.$node.querySelector("#multiSelect_lookup_"+this._cruxReplace(l.api_name,"[/.]","_"))),flag=!1,{isValdationFailure:!0};C={include_objects:!0,relation:{api_name:"Campaigns"}};var I=this.$node.querySelector("#memberStatusField").component.getValue(),A={comparator:"equal",field:{api_name:"Campaign_Name"},value:X};if(I.length){var M={comparator:"equal",field:{api_name:"Member_Status"},value:I};A=this.construct_group(A,M,"AND")}var N=this.$node.querySelector("#serviceStatusField")?this.$node.querySelector("#serviceStatusField").component.getValue():[];if(N.length){M={comparator:"equal",field:{api_name:"Service_Status"},value:N};A=this.construct_group(A,M,"AND")}return C.criteria=A,{type:"cross_filter",cross_filter:C}}return{type:"cross_filter",cross_filter:C=this.specialfield(l,E,O,o,V)}}if(53==l.ui_type){if(!crux_comp.component.validate())return flag=!1,{isValdationFailure:!0};var R=$("#option_"+l.api_name)[0];return this.pf_timeToReach_value=R.getData("selectedValues"),X=crux_comp.component.getValue(),k="#second_"+this._cruxReplace(s,"[/.]","_")+"_dropdown",value1=this.$node.querySelector(k).ltProp("selected"),X=!1===l.cxGetValueInMS?"${AGEIN"+value1+"}+"+X:this.getMilliSecondsfromDuration(X,value1),"time_to_reach__s"===l.api_name&&(preventSaveFilter="PathFinder"),{comparator:o,field:{api_name:s,id:l.id},value:X}}if("date"==l.field_data_type||"datetime"==l.field_data_type||"date_time"==l.field_data_type){let e=this.getConditionOpt(o);if(-1!=o.indexOf("${"))X=o,o=e.comparator?e.comparator:"equal";else{if(!crux_comp.component.validate())return flag=!1,{isValdationFailure:!0};if(X=crux_comp.component.getValue(),"Due in Days"==o||"Age in Days"==o||e.showDynamicInput){var q="";k="#second_"+this._cruxReplace(s,"[/.]","_")+"_dropdown",value1=this.$node.querySelector(k).ltProp("selected"),q="Due in Days"==o?"${DUEIN"+value1+"}+"+X:"Age in Days"==o?"${AGEIN"+value1+"}+"+X:"${"+o+X+value1+"}",o=e.comparator?e.comparator:"less_equal",X=q}else if("equal"==o&&"datetime"==l.field_data_type)o="between",X=[this.getISODateTime(X,this.datePattern),this.getISODateTime(X,this.datePattern,"end")];else if("date_time"!==l.field_data_type){var P="greater_than"==o?"end":"start";X=this.getISODateTime(X,this.datePattern,P,l.field_data_type)}}if("cxFilter_Deal_Closing_Date"==l.api_name||"Visited_Time"==l.api_name&&("Leads"==d||"Contacts"==d))return{type:"cross_filter",cross_filter:C="cxFilter_Deal_Closing_Date"!=l.api_name?{include_objects:!0,relation:{relation_id:n.Visits.id,api_name:"Visits_Zoho_Livedesk"},criteria:{comparator:o,field:{api_name:s,id:l.id},value:X}}:{include_objects:!0,relation:{relation_id:n.Potentials.id,api_name:n.Potentials.api_name},criteria:{comparator:o,field:{api_name:l.name,id:l.id},value:X}}};if("cxFilter_Not_Replied_Messages"==l.api_name||"cxFilter_Replied_Messages"==l.api_name)return{type:"custom_filter",custom_filter:this.specialfield(l,E,X,o,V)};w={comparator:o,field:{api_name:s,id:l.id},value:X};if(h){C=this.groupSeriesCriteria(i,w);return h=void 0,i=void 0,w="",{type:"cross_filter",cross_filter:C}}return w}if("num"==l.field_data_type||"currency"==l.field_data_type||"bigint"==l.field_data_type||"integer"==l.field_data_type||"longinteger"==l.field_data_type||"double"==l.field_data_type||"decimal"==l.field_data_type){var j=!!(X=crux_comp.component.getValue()).split(".")[1]&&X.split(".")[1];_=m&&m.abmModuleInfo?m.abmModuleInfo.scoreFields:[],y=m&&m.abmModuleInfo?m.abmModuleInfo.abmAccountFields:[];if(("autonumber"==l.data_type||"bigint"==l.data_type)&&j)return this.showFilterAlert(_cruxUtils.getI18n("crm.field.valid.check",l.field_label),crux_comp),flag=!1,{isValdationFailure:!0};if(!crux_comp.component.validate())return flag=!1,{isValdationFailure:!0};if("cxFilter_Deal_Amount"==l.api_name||"Time_Spent"==l.api_name&&("Leads"==d||"Contacts"==d))return{type:"cross_filter",cross_filter:C="cxFilter_Deal_Amount"!=l.api_name?{include_objects:!0,relation:{relation_id:n.Visits.id,api_name:"Visits_Zoho_Livedesk"},criteria:{comparator:o,field:{api_name:s,id:l.id},value:X}}:{include_objects:!0,relation:{relation_id:n.Potentials.id,api_name:n.Potentials.api_name},criteria:{comparator:o,field:{api_name:l.name,id:l.id},value:X}}};if(_.includes(l.api_name.replace("cxFilter_","")))return({cross_filter:C,relation_api_name:ne}=this.getABMCriteria(l.api_name.replace("cxFilter_",""),o,X)),isAbmFieldUsed=!0,{type:"cross_filter",cross_filter:C};preventSaveFilter=!!y.includes(l.api_name.replace("cxFilter_",""))&&"abm";var B={comparator:o,field:{api_name:"prediction"==preventSaveFilter?"Prediction_Score":s,id:l.id},value:X};if(t){C=this.groupScoreCriteria(t,B);return t=void 0,{type:"cross_filter",cross_filter:C}}if(i){w={comparator:o,field:{api_name:s},value:X},C=this.groupSeriesCriteria(i,w);return h=void 0,i=void 0,{type:"cross_filter",cross_filter:C}}return B}if(-1===["textarea","text","multiselectpicklist","phone","email","mobile","website","picklist","lookup","autonumber","tag","layout"].indexOf(l.field_data_type)||this.data.isChildFieldLookup)if("ownerlookup"==l.field_data_type||"userlookup"==l.field_data_type){if(!crux_comp.component.validate())return flag=!1,{isValdationFailure:!0};X=crux_comp.component.getValue();w={comparator:o,field:{api_name:s,id:l.id},value:X};if(h){C=this.groupSeriesCriteria(i,w);return h=void 0,i=void 0,{type:"cross_filter",cross_filter:C}}var H="";if(["equal_role","equal_group"].indexOf(o)>-1?(H=o.indexOf("role")>-1?"role":"group",o="equal"):"not_equal_role"==o&&(H="role",o="not_equal"),"group"===H){C={include_objects:!0};var Y=Crm.groupUserRelDetails.listRelation;C.relation={type:"field",api_name:l.api_name},C.relation.relation={type:"related_list",api_name:Y.api_name};var W=Crm.groupUserRelDetails.field;return C.criteria={comparator:o,field:{api_name:W.api_name,id:W.id},value:X},{type:"cross_filter",cross_filter:C}}if("role"===H)return{comparator:o,field:{api_name:s+".role",id:Crm.userRoleField.id},value:X};if("cxFilter_Deal_Owner"==l.api_name)return{type:"cross_filter",cross_filter:C={include_objects:!0,relation:{relation_id:n.Potentials.id,api_name:n.Potentials.api_name},criteria:{comparator:o,field:{api_name:"role"==H?l.name+".role":l.name,id:l.id},value:X}}};if("Enrolled_By__s"===l.api_name)i=void 0;else if(!H&&"Enrolled_By__s"!==l.api_name)return w}else{if("boolean"==l.field_data_type)return X=$L("#"+this._cruxReplace(l.api_name,"[/.]","_")+"_crux_comp")[0].component.getValue(),{comparator:o,field:{api_name:s,id:l.id},value:X};if("multiselectlookup"==l.field_data_type||"multiuserlookup"==l.field_data_type||this.data.isChildFieldLookup){var z=!0;if(X=o,-1==o.indexOf("${"))if(445==l.ui_type||"multiuserlookup"==l.field_data_type){if(!crux_comp.component.validate())return flag=!1,{isValdationFailure:!0};X=crux_comp.component.getValue()}else{if(!(X=(R=this.$node).getData().renderItems).length&&!this.data.cxPropIgnoreEmptyValue)return this.showFilterAlert(_cruxUtils.getI18n("crm.field.valid.check",l.field_label),crux_comp),flag=!1,{isValdationFailure:!0};X=this.getValueBasedonKeys(X,R.getData().lookupDisplayField)}else z="${EMPTY}"!=o,"${NOTEMPTY}"==o&&(X="${EMPTY}"),o="not_equal";C={include_objects:z,relation:{api_name:l[l.field_data_type].api_name},criteria:{comparator:o,field:{api_name:this.data.isChildFieldLookup?l.api_name:l[l.field_data_type].connectedlookup_apiname,id:l.id},value:X}};return this.data.isChildFieldLookup?C.criteria:{type:"cross_filter",cross_filter:C}}if("multirelation"===l.field_data_type&&"cxFilter_Linked_Segment__s"===l.api_name){var G,K=m.abmModuleInfo.isAccountModule,X=(z=!0,o),J={type:"related_list",api_name:this.data.supportRelatedModules?"ABM_Account__r":"ABM_Accounts",relation:{api_name:"ABM_Account_Segment__s"}};if(K||(J={type:"field",api_name:m.abmModuleInfo.account_name.api_name,relation:{api_name:this.data.supportRelatedModules?"ABM_Account_Segment__r":"ABM_Account_Segment1"}}),isAbmFieldUsed=!0,-1===o.indexOf("${")){if(!(X=(G=this.$node).getData().renderItems).length)return this.showFilterAlert(_cruxUtils.getI18n("crm.field.valid.check",l.field_label),crux_comp),flag=!1,{isValdationFailure:!0};X=this.getValueBasedonKeys(X,G.getData().lookupDisplayField)}else z=!("${EMPTY}"===o),"${NOTEMPTY}"===o&&(X="${EMPTY}"),o="not_equal";return{type:"cross_filter",cross_filter:C={include_objects:z,relation:J,criteria:{comparator:o,field:{api_name:"Linked_Segment__s"},value:X}},relation_name:K?J.api_name:J.relation.api_name}}}else{if(-1!=o.indexOf("${"))X=o,o="equal";else{if("Call_Status"==l.api_name&&-1!=["Activities","Calls"].indexOf(this.data.cxPropModule))return X="${Calls.Call Status."+o+"}",{comparator:"equal",field:{api_name:s,id:l.id},value:X};if(!crux_comp.component.validate())return flag=!1,{isValdationFailure:!0};var Z=l.cxGetActualValue?"actual_value":void 0;X=crux_comp.component.getValue(Z),"ACTIVITYTYPE"==l.column_name&&(X=crux_comp.component.getValue("actual_value"))}var w={comparator:o,field:{api_name:s,id:l.id},value:X};if(h){var C=this.groupSeriesCriteria(i,w);return h=void 0,i=void 0,{type:"cross_filter",cross_filter:C}}var Q,ee=$L("#"+this._cruxReplace(l.api_name,"[/.]","_")+"_picklist_tracker")[0];if("picklist"==l.field_data_type&&l.history_tracking&&ee&&ee.checked&&"equal"==o){var te=this.$node.querySelector("#DDV1_"+this._cruxReplace(l.api_name,"[/.]","_")+"_picklistTracker").ltProp("selected"),ae=$L("#"+this._cruxReplace(l.api_name,"[/.]","_")+"_historyTrackDurationDays")[0];if(!ae.component.validate())return flag=!1,{isValdationFailure:!0};var ie=ae.component.getValue();ie="${AGEINDAYS}+"+ie;var oe=this.getData("module_info").related_lists[this.getIndex(this.getData("module_info").related_lists,"picklist_tracker","action",!0)],le=(A={field:{api_name:"Modified_Time"},comparator:te,value:ie},M={field:{api_name:l.history_tracking.duration_configured_field.api_name},comparator:"equal",value:"${EMPTY}"},this.construct_group(A,M,"AND"));A="Stage"!=l.api_name||"Deals"!=d&&"Potentials"!=d?{field:{api_name:this.get_pick_track_enable_field(n[p[l.history_tracking.module.id]].fields,l)},comparator:o,value:X}:{field:{api_name:"Stage"},comparator:o,value:X},Q={include_objects:!0,relation:{api_name:this.data.supportRelatedModules?this.getRelSysRefName(oe):oe.api_name},criteria:this.construct_group(le,A,"AND")}}if("cxFilter_Record_status"==l.api_name)return{type:"cross_filter",cross_filter:C={include_objects:!0,relation:{relation_id:"",api_name:"Review_Processes"},criteria:{comparator:o,field:{api_name:"Record_status"},value:X}}};if("lookup"==l.field_data_type&&("Activities"!=this.data.cxPropModule||-1==["CONTACTID","SEID"].indexOf(l.column_name))){if(132==l.ui_type){var se=this.getData().selectedValues.secondDropDownValue;return{comparator:o,field:{api_name:s+"->"+(re=store.peekRecord("module",se)).api_name+"."+(r[re.module_name]&&r[re.module_name].length?r[re.module_name][0]:"Name")},value:X}}var re;return{comparator:o,field:{api_name:s+"."+((re=p[l.lookup.module.id])&&r[re]&&r[re].length?r[p[l.lookup.module.id]][0]:"Name"),id:l.id},value:X}}if("cxFilter_Deal_Stage"==l.api_name||!("Attended_By"!=l.api_name&&"Portal_Name"!=l.api_name&&"Browser"!=l.api_name&&"Search_Engine"!=l.api_name&&"Operating_System"!=l.api_name||"Leads"!=d&&"Contacts"!=d))return{type:"cross_filter",cross_filter:C="cxFilter_Deal_Stage"!=l.api_name?{include_objects:!0,relation:{relation_id:n.Visits.id,api_name:"Visits_Zoho_Livedesk"},criteria:{comparator:o,field:{api_name:s,id:l.id},value:X}}:{include_objects:!0,relation:{relation_id:n.Potentials.id,api_name:n.Potentials.api_name},criteria:{comparator:o,field:{api_name:l.name,id:l.id},value:X}}};if(u.includes(l.api_name.replace("cxFilter_","")))return({cross_filter:C,relation_api_name:ne}=this.getABMCriteria(l.api_name.replace("cxFilter_",""),o,X)),isAbmFieldUsed=!0,{type:"cross_filter",cross_filter:C};a=!1,-1!=["Events_Tag","Calls_Tag","Tasks_Tag"].indexOf(s)?(s="Tag",a=!0):"Status"==s&&this.isZBCustomModule(this.getData("cxPropModule"))&&X&&l.pick_list_values&&(X=this.getDisplayValue(X,l));w={comparator:o,field:{api_name:s,id:l.id},value:X};if(h){var C=this.groupSeriesCriteria(i,w);return h=void 0,i=void 0,{type:"cross_filter",cross_filter:C}}if("cxFilter_Series"===x&&(w=""),a){L={comparator:"equal",field:{api_name:"Activity_Type"},value:{Events_Tag:"Events",Calls_Tag:"Calls",Tasks_Tag:"Tasks"}[l.api_name]};w=this.construct_group(w,L,"AND")}else"Data_Processing_Basis"!=l.api_name||this.data.supportRelatedModules||this.data.isChildInput||(w.field.api_name="Data_Processing_Basis_Details.Data_Processing_Basis");if("cxFilter_Competitor_Alert"!==l.api_name&&(x&&"cxFilter_Series"!==x||!x))return Q?{cross_filter:Q,criteria:w}:w}}else{var ne,pe="#between_"+this._cruxReplace(s,"[/.]","_")+"_crux_comp",de=this.$node.querySelector(pe),_=m&&m.abmModuleInfo?m.abmModuleInfo.scoreFields:[];if(!crux_comp.component.validate()||!de.component.validate())return{isValdationFailure:!0};if(X=crux_comp.component.getValue(),value1=de.component.getValue(),["datetime","date","date_time"].includes(l.field_data_type)){if("date_time"!=l.field_data_type&&(X=this.getISODateTime(X,this.datePattern,"start",l.field_data_type),value1=this.getISODateTime(value1,this.datePattern,"end",l.field_data_type)),X>value1)return this.showFilterAlert(_cruxUtils.getI18n("crm.custom.field.less.than.equalto","'"+_cruxUtils.getI18n("workflow.option.webhookFailure.fromDate")+"'","'"+_cruxUtils.getI18n("workflow.option.webhookFailure.toDate")+"'"),crux_comp),{isValdationFailure:!0}}else if(parseFloat(X)===parseFloat(value1)||parseFloat(X)>parseFloat(value1))return this.showFilterAlert(_cruxUtils.getI18n("crm.custom.field.less.than.to1"),crux_comp),{isValdationFailure:!0};if(X=[X,value1],!("Visited_Time"!=l.api_name&&"Time_Spent"!=l.api_name||"Leads"!=d&&"Contacts"!=d))return{type:"cross_filter",cross_filter:C={include_objects:!0,relation:{relation_id:n.Visits.id,api_name:"Visits_Zoho_Livedesk"},criteria:{comparator:o,field:{api_name:s,id:l.id},value:X}}};if("cxFilter_Deal_Closing_Date"==l.api_name||"cxFilter_Deal_Amount"==l.api_name)return{type:"cross_filter",cross_filter:C={include_objects:!0,relation:{relation_id:n.Potentials.id,api_name:n.Potentials.api_name},criteria:{comparator:o,field:{api_name:l.name,id:l.id},value:X}}};if(_.includes(l.api_name.replace("cxFilter_","")))return({cross_filter:C,relation_api_name:ne}=this.getABMCriteria(l.api_name.replace("cxFilter_",""),o,X)),isAbmFieldUsed=!0,{type:"cross_filter",cross_filter:C};var ce={comparator:o,field:{api_name:s,id:l.id},value:X};if(t){var C=this.groupScoreCriteria(t,ce);return t=void 0,{type:"cross_filter",cross_filter:C}}if(i){var C=this.groupSeriesCriteria(i,ce);return ce="",i=void 0,{type:"cross_filter",cross_filter:C}}if("cxFilter_Not_Replied_Messages"==l.api_name||"cxFilter_Replied_Messages"==l.api_name)return{type:"custom_filter",custom_filter:this.specialfield(l,E,X,o,V)};if("custom"!=l.field_data_type&&"crossfield"!=l.field_data_type)return ce}},getABMCriteria:function(e,t,a){var i=this.getData("cxPropCommonInfo"),o=i.abmModuleInfo.isAccountModule,l={api_name:this.data.supportRelatedModules?"ABM_Account__r":"ABM_Accounts"},s=l.api_name;return o||(s=(l={type:"field",api_name:i.abmModuleInfo.account_name.api_name,relation:l}).relation.api_name),{cross_filter:{include_objects:!0,relation:l,criteria:{comparator:t,field:{api_name:e},value:a}},relation_api_name:s}},groupScoreCriteria:function(e,t){var a=this.construct_group(e,t,"AND");return{include_objects:!0,relation:{relation_id:this.moduleRecordMapping["Entity Scores"].id,api_name:this.moduleRecordMapping["Entity Scores"].api_name},criteria:a}},groupSeriesCriteria:function(e,t){crmListView.getObject().module;for(var a=this.getData("module_info").related_lists,i=(t=this.construct_group(e,t,"AND"),a.length),o=0;o<i;o++)if("SERIESPERSONALITY"===a[o].personality_name){var l=this.data.supportRelatedModules?this.getRelSysRefName(a[o]):a[o].api_name;return{include_objects:!0,relation:{relation_id:this.moduleRecordMapping.Entity_Cadences.id,api_name:l},criteria:t}}},getRelSysRefName:function(e){var t=e.module.api_name,a=this.getData("module_info").relatedModules.find((e=>e.module.api_name===t));return a?a.api_name:e.api_name},handleFieldDisplayForCrossFilter:function(){var e=this.data.field.field_label,t=this;if(this.data.isChildInput&&this.parentCompData&&this.parentCompData.data.cxPropChildModuleDisplayLabel){var a=this.data.field.field_label+" of "+this.parentCompData.data.cxPropChildModuleDisplayLabel;Lyte.Component.set(this.data.field,{field_label:a})}setTimeout((function(){Lyte.Component.set(t.data.field,{field_label:e})}),100)},get_pick_track_enable_field:function(e,t){var a,i=e.length;for(a=0;a<i;a++)if(e[a].refer_from_field&&e[a].refer_from_field.id==t.id)return e[a].api_name;return!1}},{mixins:["crux-criteria-conditions","crux-filter-utils","crux-aria-smart-filter-input-mixin"]}),Lyte.Component.registerHelper("radioBtnIsSelected",(function(e,t,a){return e.sent_status&&e.sent_status[0]&&e.sent_status[0].api_name==t.api_name?e.api_name+"_selectedRadioBtn":-1!=["Positive_Score","Activity_Due","Without_Any_Notes","high","win","opened","With_Contact","With_Open_Deal","Attended","In_Last","Events_Tag","NBX_Available","Locked_True","Start_Date__s"].indexOf(t.api_name)?!!a||e.api_name+"_selectedRadioBtn":"cxFilter_EMAIL_both"===t.api_name||"cxFilter_ADDN_EMAIL_both"===t.api_name||!a&&""}));
