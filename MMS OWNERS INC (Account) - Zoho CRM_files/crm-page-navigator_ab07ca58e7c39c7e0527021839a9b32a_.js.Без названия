Lyte.Component.register("crm-page-navigator",{_template:'<template tag-name="crm-page-navigator"> <template is="if" value="{{is_text_out}}"><template case="true"> <span class="pageCount crm-font-bold crm-base-font-size fL mR10">{{start_record}} - {{end_record}}</span> <lyte-navigator on-next="{{method(\'navigate\',\'next\')}}" class="bgNavigator" lt-prop-aria="{{isAccessibilityConfigSupported}}" lt-prop-aria-next="{{navAria.next}}" lt-prop-aria-prev="{{navAria.prev}}" on-previous="{{method(\'navigate\',\'previous\')}}" lt-prop-value="{{lbind(startIndex)}}" lt-prop-records="{{total_count}}" lt-prop-perpage="{{per_page}}" lt-prop-show-only-icon="true" start-record="{{lbind(start_record)}}" end-record="{{lbind(end_record)}}"></lyte-navigator> </template><template case="false"> <lyte-navigator on-next="{{method(\'navigate\',\'next\')}}" on-previous="{{method(\'navigate\',\'previous\')}}" lt-prop-value="{{lbind(startIndex)}}" lt-prop-perpage="{{per_page}}" lt-prop-yield="true" lt-prop-records="{{total_count}}"> <template is="registerYield" yield-name="navigatorYield"> <div class="lyteNavigator lyteSingleBack lyteIconSingleBack" tabindex="0" aria-label="{{getMsg(\'crm.dashboard.previous\')}}" lt-prop-title="{{getMsg(\'crm.dashboard.previous\')}}" role="button" lt-prop-aria-keydown="true" data-zcqa="bulkRecordNavBackLV"></div> <div class="lyteNavigatorMidPoint mR5">{{unescape(getI18n("crm.custom.view.navig",startRecord,endRecord))}}</div> <div class="lyteNavigator lyteSingleFront lyteIconSingleFront" tabindex="0" aria-label="{{getMsg(\'crm.dashboard.next\')}}" lt-prop-title="{{getMsg(\'crm.dashboard.next\')}}" role="button" lt-prop-aria-keydown="true" data-zcqa="bulkRecordNavFrontLV"></div> </template> </lyte-navigator> </template></template> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]},{type:"text",position:[1,2]},{type:"attr",position:[3]},{type:"componentDynamic",position:[3]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[3,0]},{type:"attr",position:[5]}]},{type:"componentDynamic",position:[1]}]}},default:{}}],_observedAttributes:["startIndex","per_page","total_count","page","more_records","isFromModal","queryParams","start_record","end_record","listfields","isAccessibilityConfigSupported","is_text_out","navAria","customMethodImplemented"],data:function(){return{startIndex:Lyte.attr("number",{default:0}),per_page:Lyte.attr("number"),total_count:Lyte.attr("number"),page:Lyte.attr("number"),more_records:Lyte.attr("boolean"),isFromModal:Lyte.attr("boolean",{default:!1}),queryParams:Lyte.attr("object",{default:{}}),start_record:Lyte.attr("number"),end_record:Lyte.attr("number"),listfields:Lyte.attr("array",{default:[]}),isAccessibilityConfigSupported:Lyte.attr("boolean",{default:Crm.userDetails.isAccessibilityConfigSupported&&!featuresAvailable.NEXTGENUI_ENABLED}),is_text_out:Lyte.attr("boolean",{default:!1}),navAria:Lyte.attr("object",{default:{}}),customMethodImplemented:Lyte.attr("boolean",{default:!1})}},init:function(){this.getData("per_page")||this.setData("per_page",10);var t={};t.next={"aria-label":I18n.getMsg("crm.dashboard.next"),"lt-prop-title":I18n.getMsg("crm.dashboard.next")},t.prev={"aria-label":I18n.getMsg("crm.dashboard.previous"),"lt-prop-title":I18n.getMsg("crm.dashboard.previous")},this.setData("navAria",t)},methods:{navigate:function(t){if(this.data.customMethodImplemented){var e={from:t,method:"navigate"};Lyte.triggerEvent("invokeDrillDownMethodImplementation",e)}else{var a=Lyte.Router.getRouteInstance();if(200===a.transition.state||308===a.transition.state){var r=this.getData("page");r="next"==t?r+1:r-1,this.setData("page",r),this.navigatePage(r,t)}}}},navigatePage:function(t,e){var a=this.getData("per_page"),r=this.getData("isFromModal");event.stopPropagation(),r?this.getRecordsForModal(a,t,!1,this.data.module_info.module_name,this.getData("featureName")):this.throwEvent("getRecord",a,t,!1,e,this.getData("startIndex"))}},{mixins:["crm-view-utils","crm-list-view-modal-util"]});
